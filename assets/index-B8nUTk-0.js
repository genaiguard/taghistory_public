const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapPage-BGnA8dAR.js","assets/MapPage-TjnJ7GMF.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var BU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hg={exports:{}},Kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function AP(){if(lE)return Kc;lE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Kc.Fragment=t,Kc.jsx=n,Kc.jsxs=n,Kc}var uE;function RP(){return uE||(uE=1,Hg.exports=AP()),Hg.exports}var T=RP(),qg={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function CP(){if(cE)return Xt;cE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=A&&z[A]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,B={};function q(z,lt,bt){this.props=z,this.context=lt,this.refs=B,this.updater=bt||N}q.prototype.isReactComponent={},q.prototype.setState=function(z,lt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,lt,"setState")},q.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function at(z,lt,bt){this.props=z,this.context=lt,this.refs=B,this.updater=bt||N}var $=at.prototype=new Y;$.constructor=at,D($,q.prototype),$.isPureReactComponent=!0;var gt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function W(z,lt,bt,vt,At,It){return bt=It.ref,{$$typeof:e,type:z,key:lt,ref:bt!==void 0?bt:null,props:It}}function P(z,lt){return W(z.type,lt,void 0,void 0,void 0,z.props)}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function U(z){var lt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(bt){return lt[bt]})}var G=/\/+/g;function Z(z,lt){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):lt.toString(36)}function j(){}function Tt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(lt){z.status==="pending"&&(z.status="fulfilled",z.value=lt)},function(lt){z.status==="pending"&&(z.status="rejected",z.reason=lt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Vt(z,lt,bt,vt,At){var It=typeof z;(It==="undefined"||It==="boolean")&&(z=null);var wt=!1;if(z===null)wt=!0;else switch(It){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(z.$$typeof){case e:case t:wt=!0;break;case E:return wt=z._init,Vt(wt(z._payload),lt,bt,vt,At)}}if(wt)return At=At(z),wt=vt===""?"."+Z(z,0):vt,gt(At)?(bt="",wt!=null&&(bt=wt.replace(G,"$&/")+"/"),Vt(At,lt,bt,"",function(Ei){return Ei})):At!=null&&(O(At)&&(At=P(At,bt+(At.key==null||z&&z.key===At.key?"":(""+At.key).replace(G,"$&/")+"/")+wt)),lt.push(At)),1;wt=0;var Ee=vt===""?".":vt+":";if(gt(z))for(var le=0;le<z.length;le++)vt=z[le],It=Ee+Z(vt,le),wt+=Vt(vt,lt,bt,It,At);else if(le=S(z),typeof le=="function")for(z=le.call(z),le=0;!(vt=z.next()).done;)vt=vt.value,It=Ee+Z(vt,le++),wt+=Vt(vt,lt,bt,It,At);else if(It==="object"){if(typeof z.then=="function")return Vt(Tt(z),lt,bt,vt,At);throw lt=String(z),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function it(z,lt,bt){if(z==null)return z;var vt=[],At=0;return Vt(z,vt,"","",function(It){return lt.call(bt,It,At++)}),vt}function ft(z){if(z._status===-1){var lt=z._result;lt=lt(),lt.then(function(bt){(z._status===0||z._status===-1)&&(z._status=1,z._result=bt)},function(bt){(z._status===0||z._status===-1)&&(z._status=2,z._result=bt)}),z._status===-1&&(z._status=0,z._result=lt)}if(z._status===1)return z._result.default;throw z._result}var mt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Kt(){}return Xt.Children={map:it,forEach:function(z,lt,bt){it(z,function(){lt.apply(this,arguments)},bt)},count:function(z){var lt=0;return it(z,function(){lt++}),lt},toArray:function(z){return it(z,function(lt){return lt})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Xt.Component=q,Xt.Fragment=n,Xt.Profiler=o,Xt.PureComponent=at,Xt.StrictMode=s,Xt.Suspense=y,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return ht.H.useMemoCache(z)}},Xt.cache=function(z){return function(){return z.apply(null,arguments)}},Xt.cloneElement=function(z,lt,bt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var vt=D({},z.props),At=z.key,It=void 0;if(lt!=null)for(wt in lt.ref!==void 0&&(It=void 0),lt.key!==void 0&&(At=""+lt.key),lt)!xt.call(lt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&lt.ref===void 0||(vt[wt]=lt[wt]);var wt=arguments.length-2;if(wt===1)vt.children=bt;else if(1<wt){for(var Ee=Array(wt),le=0;le<wt;le++)Ee[le]=arguments[le+2];vt.children=Ee}return W(z.type,At,void 0,void 0,It,vt)},Xt.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Xt.createElement=function(z,lt,bt){var vt,At={},It=null;if(lt!=null)for(vt in lt.key!==void 0&&(It=""+lt.key),lt)xt.call(lt,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(At[vt]=lt[vt]);var wt=arguments.length-2;if(wt===1)At.children=bt;else if(1<wt){for(var Ee=Array(wt),le=0;le<wt;le++)Ee[le]=arguments[le+2];At.children=Ee}if(z&&z.defaultProps)for(vt in wt=z.defaultProps,wt)At[vt]===void 0&&(At[vt]=wt[vt]);return W(z,It,void 0,void 0,null,At)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(z){return{$$typeof:m,render:z}},Xt.isValidElement=O,Xt.lazy=function(z){return{$$typeof:E,_payload:{_status:-1,_result:z},_init:ft}},Xt.memo=function(z,lt){return{$$typeof:_,type:z,compare:lt===void 0?null:lt}},Xt.startTransition=function(z){var lt=ht.T,bt={};ht.T=bt;try{var vt=z(),At=ht.S;At!==null&&At(bt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(Kt,mt)}catch(It){mt(It)}finally{ht.T=lt}},Xt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Xt.use=function(z){return ht.H.use(z)},Xt.useActionState=function(z,lt,bt){return ht.H.useActionState(z,lt,bt)},Xt.useCallback=function(z,lt){return ht.H.useCallback(z,lt)},Xt.useContext=function(z){return ht.H.useContext(z)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(z,lt){return ht.H.useDeferredValue(z,lt)},Xt.useEffect=function(z,lt,bt){var vt=ht.H;if(typeof bt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return vt.useEffect(z,lt)},Xt.useId=function(){return ht.H.useId()},Xt.useImperativeHandle=function(z,lt,bt){return ht.H.useImperativeHandle(z,lt,bt)},Xt.useInsertionEffect=function(z,lt){return ht.H.useInsertionEffect(z,lt)},Xt.useLayoutEffect=function(z,lt){return ht.H.useLayoutEffect(z,lt)},Xt.useMemo=function(z,lt){return ht.H.useMemo(z,lt)},Xt.useOptimistic=function(z,lt){return ht.H.useOptimistic(z,lt)},Xt.useReducer=function(z,lt,bt){return ht.H.useReducer(z,lt,bt)},Xt.useRef=function(z){return ht.H.useRef(z)},Xt.useState=function(z){return ht.H.useState(z)},Xt.useSyncExternalStore=function(z,lt,bt){return ht.H.useSyncExternalStore(z,lt,bt)},Xt.useTransition=function(){return ht.H.useTransition()},Xt.version="19.1.0",Xt}var hE;function S_(){return hE||(hE=1,qg.exports=CP()),qg.exports}var V=S_();const Xd=PS(V);var Gg={exports:{}},$c={},Wg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function IP(){return fE||(fE=1,function(e){function t(it,ft){var mt=it.length;it.push(ft);t:for(;0<mt;){var Kt=mt-1>>>1,z=it[Kt];if(0<o(z,ft))it[Kt]=ft,it[mt]=z,mt=Kt;else break t}}function n(it){return it.length===0?null:it[0]}function s(it){if(it.length===0)return null;var ft=it[0],mt=it.pop();if(mt!==ft){it[0]=mt;t:for(var Kt=0,z=it.length,lt=z>>>1;Kt<lt;){var bt=2*(Kt+1)-1,vt=it[bt],At=bt+1,It=it[At];if(0>o(vt,mt))At<z&&0>o(It,vt)?(it[Kt]=It,it[At]=mt,Kt=At):(it[Kt]=vt,it[bt]=mt,Kt=bt);else if(At<z&&0>o(It,mt))it[Kt]=It,it[At]=mt,Kt=At;else break t}}return ft}function o(it,ft){var mt=it.sortIndex-ft.sortIndex;return mt!==0?mt:it.id-ft.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var y=[],_=[],E=1,A=null,S=3,N=!1,D=!1,B=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function gt(it){for(var ft=n(_);ft!==null;){if(ft.callback===null)s(_);else if(ft.startTime<=it)s(_),ft.sortIndex=ft.expirationTime,t(y,ft);else break;ft=n(_)}}function ht(it){if(B=!1,gt(it),!D)if(n(y)!==null)D=!0,xt||(xt=!0,Z());else{var ft=n(_);ft!==null&&Vt(ht,ft.startTime-it)}}var xt=!1,W=-1,P=5,O=-1;function U(){return q?!0:!(e.unstable_now()-O<P)}function G(){if(q=!1,xt){var it=e.unstable_now();O=it;var ft=!0;try{t:{D=!1,B&&(B=!1,at(W),W=-1),N=!0;var mt=S;try{e:{for(gt(it),A=n(y);A!==null&&!(A.expirationTime>it&&U());){var Kt=A.callback;if(typeof Kt=="function"){A.callback=null,S=A.priorityLevel;var z=Kt(A.expirationTime<=it);if(it=e.unstable_now(),typeof z=="function"){A.callback=z,gt(it),ft=!0;break e}A===n(y)&&s(y),gt(it)}else s(y);A=n(y)}if(A!==null)ft=!0;else{var lt=n(_);lt!==null&&Vt(ht,lt.startTime-it),ft=!1}}break t}finally{A=null,S=mt,N=!1}ft=void 0}}finally{ft?Z():xt=!1}}}var Z;if(typeof $=="function")Z=function(){$(G)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Tt=j.port2;j.port1.onmessage=G,Z=function(){Tt.postMessage(null)}}else Z=function(){Y(G,0)};function Vt(it,ft){W=Y(function(){it(e.unstable_now())},ft)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(it){it.callback=null},e.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<it?Math.floor(1e3/it):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(it){switch(S){case 1:case 2:case 3:var ft=3;break;default:ft=S}var mt=S;S=ft;try{return it()}finally{S=mt}},e.unstable_requestPaint=function(){q=!0},e.unstable_runWithPriority=function(it,ft){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var mt=S;S=it;try{return ft()}finally{S=mt}},e.unstable_scheduleCallback=function(it,ft,mt){var Kt=e.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Kt+mt:Kt):mt=Kt,it){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=mt+z,it={id:E++,callback:ft,priorityLevel:it,startTime:mt,expirationTime:z,sortIndex:-1},mt>Kt?(it.sortIndex=mt,t(_,it),n(y)===null&&it===n(_)&&(B?(at(W),W=-1):B=!0,Vt(ht,mt-Kt))):(it.sortIndex=z,t(y,it),D||N||(D=!0,xt||(xt=!0,Z()))),it},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(it){var ft=S;return function(){var mt=S;S=ft;try{return it.apply(this,arguments)}finally{S=mt}}}}(Zg)),Zg}var dE;function PP(){return dE||(dE=1,Wg.exports=IP()),Wg.exports}var Yg={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function MP(){if(mE)return Wn;mE=1;var e=S_();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,E)},Wn.flushSync=function(y){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=E,s.d.f()}},Wn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Wn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Wn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:N}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:S,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Wn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=m(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Wn.requestFormReset=function(y){s.d.r(y)},Wn.unstable_batchedUpdates=function(y,_){return y(_)},Wn.useFormState=function(y,_,E){return f.H.useFormState(y,_,E)},Wn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var pE;function MS(){if(pE)return Yg.exports;pE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yg.exports=MP(),Yg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function LP(){if(gE)return $c;gE=1;var e=PP(),t=S_(),n=MS();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return m(g),i;if(v===h)return m(g),r;v=v.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=v;else{for(var C=!1,M=g.child;M;){if(M===l){C=!0,l=g,h=v;break}if(M===h){C=!0,h=g,l=v;break}M=M.sibling}if(!C){for(M=v.child;M;){if(M===l){C=!0,l=v,h=g;break}if(M===h){C=!0,h=v,l=g;break}M=M.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),$=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function Tt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case q:return"Profiler";case B:return"StrictMode";case ht:return"Suspense";case xt:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case $:return(i.displayName||"Context")+".Provider";case at:return(i._context.displayName||"Context")+".Consumer";case gt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case W:return r=i.displayName||null,r!==null?r:Tt(i.type)||"Memo";case P:r=i._payload,i=i._init;try{return Tt(i(r))}catch{}}return null}var Vt=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Kt=[],z=-1;function lt(i){return{current:i}}function bt(i){0>z||(i.current=Kt[z],Kt[z]=null,z--)}function vt(i,r){z++,Kt[z]=i.current,i.current=r}var At=lt(null),It=lt(null),wt=lt(null),Ee=lt(null);function le(i,r){switch(vt(wt,r),vt(It,i),vt(At,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?kb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=kb(r),i=Vb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}bt(At),vt(At,i)}function Ei(){bt(At),bt(It),bt(wt)}function Gi(i){i.memoizedState!==null&&vt(Ee,i);var r=At.current,l=Vb(r,i.type);r!==l&&(vt(It,i),vt(At,l))}function wi(i){It.current===i&&(bt(At),bt(It)),Ee.current===i&&(bt(Ee),qc._currentValue=mt)}var xi=Object.prototype.hasOwnProperty,vs=e.unstable_scheduleCallback,Rr=e.unstable_cancelCallback,ma=e.unstable_shouldYield,ko=e.unstable_requestPaint,jn=e.unstable_now,pa=e.unstable_getCurrentPriorityLevel,Vo=e.unstable_ImmediatePriority,Cr=e.unstable_UserBlockingPriority,Ts=e.unstable_NormalPriority,kl=e.unstable_LowPriority,Ir=e.unstable_IdlePriority,jo=e.log,Vl=e.unstable_setDisableYieldValue,Ie=null,fe=null;function zn(i){if(typeof jo=="function"&&Vl(i),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Ie,i)}catch{}}var _n=Math.clz32?Math.clz32:Pr,zo=Math.log,jl=Math.LN2;function Pr(i){return i>>>=0,i===0?32:31-(zo(i)/jl|0)|0}var Gs=256,bs=4194304;function ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ga(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~v,h!==0?g=ai(h):(C&=M,C!==0?g=ai(C):l||(l=M&~i,l!==0&&(g=ai(l))))):(M=h&~v,M!==0?g=ai(M):C!==0?g=ai(C):l||(l=h&~i,l!==0&&(g=ai(l)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:g}function Si(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Uo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var i=Gs;return Gs<<=1,(Gs&4194048)===0&&(Gs=256),i}function ya(){var i=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),i}function Wi(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fo(i,r,l,h,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,H=i.expirationTimes,et=i.hiddenUpdates;for(l=C&~l;0<l;){var ut=31-_n(l),pt=1<<ut;M[ut]=0,H[ut]=-1;var nt=et[ut];if(nt!==null)for(et[ut]=null,ut=0;ut<nt.length;ut++){var st=nt[ut];st!==null&&(st.lane&=-536870913)}l&=~pt}h!==0&&Yi(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function Yi(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-_n(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Ho(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-_n(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function Ws(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _a(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zs(){var i=ft.p;return i!==0?i:(i=window.event,i===void 0?32:nE(i.type))}function va(i,r){var l=ft.p;try{return ft.p=i,r()}finally{ft.p=l}}var Pe=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Pe,We="__reactProps$"+Pe,oi="__reactContainer$"+Pe,Un="__reactEvents$"+Pe,Dt="__reactListeners$"+Pe,Es="__reactHandles$"+Pe,qo="__reactResources$"+Pe,Ys="__reactMarker$"+Pe;function ws(i){delete i[Qe],delete i[We],delete i[Un],delete i[Dt],delete i[Es]}function Ai(i){var r=i[Qe];if(r)return r;for(var l=i.parentNode;l;){if(r=l[oi]||l[Qe]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Bb(i);i!==null;){if(l=i[Qe])return l;i=Bb(i)}return r}i=l,l=i.parentNode}return null}function Ri(i){if(i=i[Qe]||i[oi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function vn(i){var r=i[qo];return r||(r=i[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Be(i){i[Ys]=!0}var Go=new Set,Ta={};function Ci(i,r){Ki(i,r),Ki(i+"Capture",r)}function Ki(i,r){for(Ta[i]=r,i=0;i<r.length;i++)Go.add(r[i])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},Lr={};function Ul(i){return xi.call(Lr,i)?!0:xi.call(Mr,i)?!1:zl.test(i)?Lr[i]=!0:(Mr[i]=!0,!1)}function Ks(i,r,l){if(Ul(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function $i(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function dn(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var xs,$s;function Xi(i){if(xs===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);xs=r&&r[1]||"",$s=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+i+$s}var Dr=!1;function Qi(i,r){if(!i||Dr)return"";Dr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(st){var nt=st}Reflect.construct(i,[],pt)}else{try{pt.call()}catch(st){nt=st}i.call(pt.prototype)}}else{try{throw Error()}catch(st){nt=st}(pt=i())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(st){if(st&&nt&&typeof st.stack=="string")return[st.stack,nt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],M=v[1];if(C&&M){var H=C.split(`
`),et=M.split(`
`);for(g=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;g<et.length&&!et[g].includes("DetermineComponentFrameRoot");)g++;if(h===H.length||g===et.length)for(h=H.length-1,g=et.length-1;1<=h&&0<=g&&H[h]!==et[g];)g--;for(;1<=h&&0<=g;h--,g--)if(H[h]!==et[g]){if(h!==1||g!==1)do if(h--,g--,0>g||H[h]!==et[g]){var ut=`
`+H[h].replace(" at new "," at ");return i.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",i.displayName)),ut}while(1<=h&&0<=g);break}}}finally{Dr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Xi(l):""}function Jt(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Qi(i.type,!1);case 11:return Qi(i.type.render,!1);case 1:return Qi(i.type,!0);case 31:return Xi("Activity");default:return""}}function pe(i){try{var r="";do r+=Jt(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ji(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xs(i){var r=Ji(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qs(i){i._valueTracker||(i._valueTracker=Xs(i))}function Wt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=Ji(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function _e(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wo=/[\n"\\]/g;function ke(i){return i.replace(Wo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Me(i,r,l,h,g,v,C,M){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+rn(r)):i.value!==""+rn(r)&&(i.value=""+rn(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?Ii(i,C,rn(r)):l!=null?Ii(i,C,rn(l)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+rn(M):i.removeAttribute("name")}function Nr(i,r,l,h,g,v,C,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+rn(l):"",r=r!=null?""+rn(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Ii(i,r,l){r==="number"&&_e(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+rn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Ut(i,r,l){if(r!=null&&(r=""+rn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+rn(l):""}function Qn(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Vt(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=rn(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Tn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ba(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Pi.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Ss(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&ba(i,g,h)}else for(var v in r)r.hasOwnProperty(v)&&ba(i,v,r[v])}function Or(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ea=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(i){return Ea.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mi=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,Li=null;function Yo(i){var r=Ri(i);if(r&&(i=r.stateNode)){var l=i[We]||null;t:switch(i=r.stateNode,r.type){case"input":if(Me(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ke(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[We]||null;if(!g)throw Error(s(90));Me(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Wt(h)}break t;case"textarea":Ut(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Pn(i,!!l.multiple,r,!1)}}}var kt=!1;function Jn(i,r,l){if(kt)return i(r,l);kt=!0;try{var h=i(r);return h}finally{if(kt=!1,(ts!==null||Li!==null)&&(Yf(),ts&&(r=ts,i=Li,Li=ts=null,Yo(r),i)))for(r=0;r<i.length;r++)Yo(i[r])}}function ue(i,r){var l=i.stateNode;if(l===null)return null;var h=l[We]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(li)try{var As={};Object.defineProperty(As,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Bn=!1}var ui=null,Fn=null,Di=null;function Rs(){if(Di)return Di;var i,r=Fn,l=r.length,h,g="value"in ui?ui.value:ui.textContent,v=g.length;for(i=0;i<l&&r[i]===g[i];i++);var C=l-i;for(h=1;h<=C&&r[l-h]===g[v-h];h++);return Di=g.slice(i,1<h?1-h:void 0)}function we(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bn(){return!0}function wa(){return!1}function Je(i){function r(l,h,g,v,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?bn:wa,this.isPropagationStopped=wa,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bn)},persist:function(){},isPersistent:bn}),r}var de={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Je(de),Cs=E({},de,{view:0,detail:0}),Bl=Je(Cs),Vr,$t,es,mn=E({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==es&&(es&&i.type==="mousemove"?(Vr=i.screenX-es.screenX,$t=i.screenY-es.screenY):$t=Vr=0,es=i),Vr)},movementY:function(i){return"movementY"in i?i.movementY:$t}}),En=Je(mn),Ko=E({},mn,{dataTransfer:0}),oc=Je(Ko),Is=E({},Cs,{relatedTarget:0}),xa=Je(Is),Sa=E({},de,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Je(Sa),Fl=E({},de,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tr=Je(Fl),lc=E({},de,{data:0}),Hn=Je(lc),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ra(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ni[i])?!!r[i]:!1}function er(){return Ra}var Ca=E({},Cs,{key:function(i){if(i.key){var r=jr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=we(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$o[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(i){return i.type==="keypress"?we(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?we(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ia=Je(Ca),Xo=E({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=Je(Xo),Ps=E({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),Hl=Je(Ps),Ma=E({},de,{propertyName:0,elapsedTime:0,pseudoElement:0}),ql=Je(Ma),Qo=E({},mn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zr=Je(Qo),an=E({},de,{newState:0,oldState:0}),ns=Je(an),Gl=[9,13,27,32],qn=li&&"CompositionEvent"in window,d=null;li&&"documentMode"in document&&(d=document.documentMode);var w=li&&"TextEvent"in window&&!d,R=li&&(!qn||d&&8<d&&11>=d),k=" ",Q=!1;function ot(i,r){switch(i){case"keyup":return Gl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function Ze(i,r){switch(i){case"compositionend":return Et(r);case"keypress":return r.which!==32?null:(Q=!0,k);case"textInput":return i=r.data,i===k&&Q?null:i;default:return null}}function se(i,r){if(ie)return i==="compositionend"||!qn&&ot(i,r)?(i=Rs(),Di=Fn=ui=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R&&r.locale!=="ko"?null:r.data;default:return null}}var ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ge[i.type]:r==="textarea"}function Ms(i,r,l,h){ts?Li?Li.push(h):Li=[h]:ts=h,r=td(r,"onChange"),0<r.length&&(l=new kr("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Re=null,is=null;function ss(i){Mb(i,0)}function Wl(i){var r=In(i);if(Wt(r))return i}function La(i,r){if(i==="change")return r}var uc=!1;if(li){var Da;if(li){var cc="oninput"in document;if(!cc){var Ls=document.createElement("div");Ls.setAttribute("oninput","return;"),cc=typeof Ls.oninput=="function"}Da=cc}else Da=!1;uc=Da&&(!document.documentMode||9<document.documentMode)}function Jo(){Re&&(Re.detachEvent("onpropertychange",df),is=Re=null)}function df(i){if(i.propertyName==="value"&&Wl(is)){var r=[];Ms(r,is,i,Mn(i)),Jn(ss,r)}}function hc(i,r,l){i==="focusin"?(Jo(),Re=r,is=l,Re.attachEvent("onpropertychange",df)):i==="focusout"&&Jo()}function dp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wl(is)}function Ds(i,r){if(i==="click")return Wl(r)}function mp(i,r){if(i==="input"||i==="change")return Wl(r)}function Na(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ti=typeof Object.is=="function"?Object.is:Na;function ei(i,r){if(ti(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!xi.call(r,g)||!ti(i[g],r[g]))return!1}return!0}function tl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fc(i,r){var l=tl(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=tl(l)}}function Zl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Zl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function el(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=_e(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=_e(i.document)}return r}function nl(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Yl=li&&"documentMode"in document&&11>=document.documentMode,Oi=null,Oa=null,Ur=null,Kl=!1;function mf(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kl||Oi==null||Oi!==_e(h)||(h=Oi,"selectionStart"in h&&nl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ur&&ei(Ur,h)||(Ur=h,h=td(Oa,"onSelect"),0<h.length&&(r=new kr("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Oi)))}function rs(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var ka={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},$l={},pf={};li&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function nr(i){if($l[i])return $l[i];if(!ka[i])return i;var r=ka[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in pf)return $l[i]=r[l];return i}var gf=nr("animationend"),ki=nr("animationiteration"),il=nr("animationstart"),pp=nr("transitionrun"),Xl=nr("transitionstart"),gp=nr("transitioncancel"),dc=nr("transitionend"),yf=new Map,Br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Br.push("scrollEnd");function Vi(i,r){yf.set(i,r),Ci(r,[i])}var Fr=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var l=Fr.get(i);return l!==void 0?l:(r={value:i,source:r,stack:pe(r)},Fr.set(i,r),r)}return{value:i,source:r,stack:pe(r)}}var ii=[],Va=0,ji=0;function sl(){for(var i=Va,r=ji=Va=0;r<i;){var l=ii[r];ii[r++]=null;var h=ii[r];ii[r++]=null;var g=ii[r];ii[r++]=null;var v=ii[r];if(ii[r++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}v!==0&&al(l,g,v)}}function rl(i,r,l,h){ii[Va++]=i,ii[Va++]=r,ii[Va++]=l,ii[Va++]=h,ji|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Hr(i,r,l,h){return rl(i,r,l,h),ir(i)}function ja(i,r){return rl(i,null,null,r),ir(i)}function al(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-_n(l),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),v):null}function ir(i){if(50<kc)throw kc=0,dg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var qr={};function _f(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,r,l,h){return new _f(i,r,l,h)}function Ql(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var l=i.alternate;return l===null?(l=si(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function mc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ol(i,r,l,h,g,v){var C=0;if(h=i,typeof i=="function")Ql(i)&&(C=1);else if(typeof i=="string")C=dP(i,l,At.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case O:return i=si(31,l,r,g),i.elementType=O,i.lanes=v,i;case D:return sr(l.children,g,v,r);case B:C=8,g|=24;break;case q:return i=si(12,l,r,g|2),i.elementType=q,i.lanes=v,i;case ht:return i=si(13,l,r,g),i.elementType=ht,i.lanes=v,i;case xt:return i=si(19,l,r,g),i.elementType=xt,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:case $:C=10;break t;case at:C=9;break t;case gt:C=11;break t;case W:C=14;break t;case P:C=16,h=null;break t}C=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=si(C,l,r,g),r.elementType=i,r.type=h,r.lanes=v,r}function sr(i,r,l,h){return i=si(7,i,h,r),i.lanes=l,i}function pc(i,r,l){return i=si(6,i,null,r),i.lanes=l,i}function Jl(i,r,l){return r=si(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Gr=[],za=0,a=null,c=0,p=[],b=0,x=null,I=1,F="";function J(i,r){Gr[za++]=c,Gr[za++]=a,a=i,c=r}function rt(i,r,l){p[b++]=I,p[b++]=F,p[b++]=x,x=i;var h=I;i=F;var g=32-_n(h)-1;h&=~(1<<g),l+=1;var v=32-_n(r)+g;if(30<v){var C=g-g%5;v=(h&(1<<C)-1).toString(32),h>>=C,g-=C,I=1<<32-_n(r)+g|l<<g|h,F=v+i}else I=1<<v|l<<g|h,F=i}function _t(i){i.return!==null&&(J(i,1),rt(i,1,0))}function Rt(i){for(;i===a;)a=Gr[--za],Gr[za]=null,c=Gr[--za],Gr[za]=null;for(;i===x;)x=p[--b],p[b]=null,F=p[--b],p[b]=null,I=p[--b],p[b]=null}var Pt=null,Lt=null,Gt=!1,De=null,Fe=!1,wn=Error(s(519));function ci(i){var r=Error(s(418,""));throw Ba(ni(r,i)),wn}function vf(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Qe]=i,r[We]=h,l){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(l=0;l<jc.length;l++)ne(jc[l],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":ne("invalid",r),Nr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Qs(r);break;case"select":ne("invalid",r);break;case"textarea":ne("invalid",r),Qn(r,h.value,h.defaultValue,h.children),Qs(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||Ob(r.textContent,l)?(h.popover!=null&&(ne("beforetoggle",r),ne("toggle",r)),h.onScroll!=null&&ne("scroll",r),h.onScrollEnd!=null&&ne("scrollend",r),h.onClick!=null&&(r.onclick=ed),r=!0):r=!1,r||ci(i)}function Tf(i){for(Pt=i.return;Pt;)switch(Pt.tag){case 5:case 13:Fe=!1;return;case 27:case 3:Fe=!0;return;default:Pt=Pt.return}}function ll(i){if(i!==Pt)return!1;if(!Gt)return Tf(i),Gt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ig(i.type,i.memoizedProps)),l=!l),l&&Lt&&ci(i),Tf(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Lt=Vs(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Lt=null}}else r===27?(r=Lt,no(i.type)?(i=Dg,Dg=null,Lt=i):Lt=r):Lt=Pt?Vs(i.stateNode.nextSibling):null;return!0}function Ua(){Lt=Pt=null,Gt=!1}function bf(){var i=De;return i!==null&&(di===null?di=i:di.push.apply(di,i),De=null),i}function Ba(i){De===null?De=[i]:De.push(i)}var je=lt(null),os=null,Ns=null;function rr(i,r,l){vt(je,r._currentValue),r._currentValue=l}function Os(i){i._currentValue=je.current,bt(je)}function ul(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function tu(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var M=v;v=g;for(var H=0;H<r.length;H++)if(M.context===r[H]){v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),ul(v.return,l,i),h||(C=null);break t}v=M.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(s(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),ul(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function cl(i,r,l,h){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var M=g.type;ti(g.pendingProps.value,C.value)||(i!==null?i.push(M):i=[M])}}else if(g===Ee.current){if(C=g.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(qc):i=[qc])}g=g.return}i!==null&&tu(r,i,l,h),r.flags|=262144}function Ef(i){for(i=i.firstContext;i!==null;){if(!ti(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function hl(i){os=i,Ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gn(i){return b0(os,i)}function wf(i,r){return os===null&&hl(i),b0(i,r)}function b0(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ns===null){if(i===null)throw Error(s(308));Ns=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ns=Ns.next=r;return l}var fI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},dI=e.unstable_scheduleCallback,mI=e.unstable_NormalPriority,pn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new fI,data:new Map,refCount:0}}function gc(i){i.refCount--,i.refCount===0&&dI(mI,function(){i.controller.abort()})}var yc=null,_p=0,eu=0,nu=null;function pI(i,r){if(yc===null){var l=yc=[];_p=0,eu=Tg(),nu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return _p++,r.then(E0,E0),r}function E0(){if(--_p===0&&yc!==null){nu!==null&&(nu.status="fulfilled");var i=yc;yc=null,eu=0,nu=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function gI(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var w0=it.S;it.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&pI(i,r),w0!==null&&w0(i,r)};var fl=lt(null);function vp(){var i=fl.current;return i!==null?i:Ne.pooledCache}function xf(i,r){r===null?vt(fl,fl.current):vt(fl,r.pool)}function x0(){var i=vp();return i===null?null:{parent:pn._currentValue,pool:i}}var _c=Error(s(460)),S0=Error(s(474)),Sf=Error(s(542)),Tp={then:function(){}};function A0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Af(){}function R0(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Af,Af),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,I0(i),i;default:if(typeof r.status=="string")r.then(Af,Af);else{if(i=Ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,I0(i),i}throw vc=r,_c}}var vc=null;function C0(){if(vc===null)throw Error(s(459));var i=vc;return vc=null,i}function I0(i){if(i===_c||i===Sf)throw Error(s(483))}var Fa=!1;function bp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ha(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qa(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ve&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=ir(i),al(i,null,l),r}return rl(i,h,r,l),ir(i)}function Tc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}function wp(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=r:v=v.next=r}else g=v=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var xp=!1;function bc(){if(xp){var i=nu;if(i!==null)throw i}}function Ec(i,r,l,h){xp=!1;var g=i.updateQueue;Fa=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var H=M,et=H.next;H.next=null,C===null?v=et:C.next=et,C=H;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,M=ut.lastBaseUpdate,M!==C&&(M===null?ut.firstBaseUpdate=et:M.next=et,ut.lastBaseUpdate=H))}if(v!==null){var pt=g.baseState;C=0,ut=et=H=null,M=v;do{var nt=M.lane&-536870913,st=nt!==M.lane;if(st?(ce&nt)===nt:(h&nt)===nt){nt!==0&&nt===eu&&(xp=!0),ut!==null&&(ut=ut.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Ht=i,jt=M;nt=r;var Ae=l;switch(jt.tag){case 1:if(Ht=jt.payload,typeof Ht=="function"){pt=Ht.call(Ae,pt,nt);break t}pt=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=jt.payload,nt=typeof Ht=="function"?Ht.call(Ae,pt,nt):Ht,nt==null)break t;pt=E({},pt,nt);break t;case 2:Fa=!0}}nt=M.callback,nt!==null&&(i.flags|=64,st&&(i.flags|=8192),st=g.callbacks,st===null?g.callbacks=[nt]:st.push(nt))}else st={lane:nt,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ut===null?(et=ut=st,H=pt):ut=ut.next=st,C|=nt;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;st=M,M=st.next,st.next=null,g.lastBaseUpdate=st,g.shared.pending=null}}while(!0);ut===null&&(H=pt),g.baseState=H,g.firstBaseUpdate=et,g.lastBaseUpdate=ut,v===null&&(g.shared.lanes=0),Qa|=C,i.lanes=C,i.memoizedState=pt}}function P0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function M0(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)P0(l[i],r)}var iu=lt(null),Rf=lt(0);function L0(i,r){i=Qr,vt(Rf,i),vt(iu,r),Qr=i|r.baseLanes}function Sp(){vt(Rf,Qr),vt(iu,iu.current)}function Ap(){Qr=Rf.current,bt(iu),bt(Rf)}var Ga=0,Qt=null,xe=null,on=null,Cf=!1,su=!1,dl=!1,If=0,wc=0,ru=null,yI=0;function tn(){throw Error(s(321))}function Rp(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!ti(i[l],r[l]))return!1;return!0}function Cp(i,r,l,h,g,v){return Ga=v,Qt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,it.H=i===null||i.memoizedState===null?pT:gT,dl=!1,v=l(h,g),dl=!1,su&&(v=N0(r,l,h,g)),D0(i),v}function D0(i){it.H=Of;var r=xe!==null&&xe.next!==null;if(Ga=0,on=xe=Qt=null,Cf=!1,wc=0,ru=null,r)throw Error(s(300));i===null||xn||(i=i.dependencies,i!==null&&Ef(i)&&(xn=!0))}function N0(i,r,l,h){Qt=i;var g=0;do{if(su&&(ru=null),wc=0,su=!1,25<=g)throw Error(s(301));if(g+=1,on=xe=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}it.H=xI,v=r(l,h)}while(su);return v}function _I(){var i=it.H,r=i.useState()[0];return r=typeof r.then=="function"?xc(r):r,i=i.useState()[0],(xe!==null?xe.memoizedState:null)!==i&&(Qt.flags|=1024),r}function Ip(){var i=If!==0;return If=0,i}function Pp(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Mp(i){if(Cf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Cf=!1}Ga=0,on=xe=Qt=null,su=!1,wc=If=0,ru=null}function hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Qt.memoizedState=on=i:on=on.next=i,on}function ln(){if(xe===null){var i=Qt.alternate;i=i!==null?i.memoizedState:null}else i=xe.next;var r=on===null?Qt.memoizedState:on.next;if(r!==null)on=r,xe=i;else{if(i===null)throw Qt.alternate===null?Error(s(467)):Error(s(310));xe=i,i={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},on===null?Qt.memoizedState=on=i:on=on.next=i}return on}function Lp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(i){var r=wc;return wc+=1,ru===null&&(ru=[]),i=R0(ru,i,r),r=Qt,(on===null?r.memoizedState:on.next)===null&&(r=r.alternate,it.H=r===null||r.memoizedState===null?pT:gT),i}function Pf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xc(i);if(i.$$typeof===$)return Gn(i)}throw Error(s(438,String(i)))}function Dp(i){var r=null,l=Qt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Qt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Lp(),Qt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=U;return r.index++,l}function Wr(i,r){return typeof r=="function"?r(i):r}function Mf(i){var r=ln();return Np(r,xe,i)}function Np(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}r.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var M=C=null,H=null,et=r,ut=!1;do{var pt=et.lane&-536870913;if(pt!==et.lane?(ce&pt)===pt:(Ga&pt)===pt){var nt=et.revertLane;if(nt===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),pt===eu&&(ut=!0);else if((Ga&nt)===nt){et=et.next,nt===eu&&(ut=!0);continue}else pt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},H===null?(M=H=pt,C=v):H=H.next=pt,Qt.lanes|=nt,Qa|=nt;pt=et.action,dl&&l(v,pt),v=et.hasEagerState?et.eagerState:l(v,pt)}else nt={lane:pt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},H===null?(M=H=nt,C=v):H=H.next=nt,Qt.lanes|=pt,Qa|=pt;et=et.next}while(et!==null&&et!==r);if(H===null?C=v:H.next=M,!ti(v,i.memoizedState)&&(xn=!0,ut&&(l=nu,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=H,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Op(i){var r=ln(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,v=r.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);ti(v,r.memoizedState)||(xn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,h]}function O0(i,r,l){var h=Qt,g=ln(),v=Gt;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var C=!ti((xe||g).memoizedState,l);C&&(g.memoizedState=l,xn=!0),g=g.queue;var M=j0.bind(null,h,g,i);if(Sc(2048,8,M,[i]),g.getSnapshot!==r||C||on!==null&&on.memoizedState.tag&1){if(h.flags|=2048,au(9,Lf(),V0.bind(null,h,g,l,r),null),Ne===null)throw Error(s(349));v||(Ga&124)!==0||k0(h,r,l)}return l}function k0(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Qt.updateQueue,r===null?(r=Lp(),Qt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function V0(i,r,l,h){r.value=l,r.getSnapshot=h,z0(r)&&U0(i)}function j0(i,r,l){return l(function(){z0(r)&&U0(i)})}function z0(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!ti(i,l)}catch{return!0}}function U0(i){var r=ja(i,2);r!==null&&Hi(r,i,2)}function kp(i){var r=hi();if(typeof i=="function"){var l=i;if(i=l(),dl){zn(!0);try{l()}finally{zn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:i},r}function B0(i,r,l,h){return i.baseState=l,Np(i,xe,typeof h=="function"?h:Wr)}function vI(i,r,l,h,g){if(Nf(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};it.T!==null?l(!0):v.isTransition=!1,h(v),l=r.pending,l===null?(v.next=r.pending=v,F0(r,v)):(v.next=l.next,r.pending=l.next=v)}}function F0(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var v=it.T,C={};it.T=C;try{var M=l(g,h),H=it.S;H!==null&&H(C,M),H0(i,r,M)}catch(et){Vp(i,r,et)}finally{it.T=v}}else try{v=l(g,h),H0(i,r,v)}catch(et){Vp(i,r,et)}}function H0(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){q0(i,r,h)},function(h){return Vp(i,r,h)}):q0(i,r,l)}function q0(i,r,l){r.status="fulfilled",r.value=l,G0(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,F0(i,l)))}function Vp(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,G0(r),r=r.next;while(r!==h)}i.action=null}function G0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function W0(i,r){return r}function Z0(i,r){if(Gt){var l=Ne.formState;if(l!==null){t:{var h=Qt;if(Gt){if(Lt){e:{for(var g=Lt,v=Fe;g.nodeType!==8;){if(!v){g=null;break e}if(g=Vs(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Lt=Vs(g.nextSibling),h=g.data==="F!";break t}}ci(h)}h=!1}h&&(r=l[0])}}return l=hi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W0,lastRenderedState:r},l.queue=h,l=fT.bind(null,Qt,h),h.dispatch=l,h=kp(!1),v=Fp.bind(null,Qt,!1,h.queue),h=hi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=vI.bind(null,Qt,g,v,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function Y0(i){var r=ln();return K0(r,xe,i)}function K0(i,r,l){if(r=Np(i,r,W0)[0],i=Mf(Wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=xc(r)}catch(C){throw C===_c?Sf:C}else h=r;r=ln();var g=r.queue,v=g.dispatch;return l!==r.memoizedState&&(Qt.flags|=2048,au(9,Lf(),TI.bind(null,g,l),null)),[h,v,i]}function TI(i,r){i.action=r}function $0(i){var r=ln(),l=xe;if(l!==null)return K0(r,l,i);ln(),r=r.memoizedState,l=ln();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function au(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Qt.updateQueue,r===null&&(r=Lp(),Qt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Lf(){return{destroy:void 0,resource:void 0}}function X0(){return ln().memoizedState}function Df(i,r,l,h){var g=hi();h=h===void 0?null:h,Qt.flags|=i,g.memoizedState=au(1|r,Lf(),l,h)}function Sc(i,r,l,h){var g=ln();h=h===void 0?null:h;var v=g.memoizedState.inst;xe!==null&&h!==null&&Rp(h,xe.memoizedState.deps)?g.memoizedState=au(r,v,l,h):(Qt.flags|=i,g.memoizedState=au(1|r,v,l,h))}function Q0(i,r){Df(8390656,8,i,r)}function J0(i,r){Sc(2048,8,i,r)}function tT(i,r){return Sc(4,2,i,r)}function eT(i,r){return Sc(4,4,i,r)}function nT(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function iT(i,r,l){l=l!=null?l.concat([i]):null,Sc(4,4,nT.bind(null,r,i),l)}function jp(){}function sT(i,r){var l=ln();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Rp(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function rT(i,r){var l=ln();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Rp(r,h[1]))return h[0];if(h=i(),dl){zn(!0);try{i()}finally{zn(!1)}}return l.memoizedState=[h,r],h}function zp(i,r,l){return l===void 0||(Ga&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=lb(),Qt.lanes|=i,Qa|=i,l)}function aT(i,r,l,h){return ti(l,r)?l:iu.current!==null?(i=zp(i,l,h),ti(i,r)||(xn=!0),i):(Ga&42)===0?(xn=!0,i.memoizedState=l):(i=lb(),Qt.lanes|=i,Qa|=i,r)}function oT(i,r,l,h,g){var v=ft.p;ft.p=v!==0&&8>v?v:8;var C=it.T,M={};it.T=M,Fp(i,!1,r,l);try{var H=g(),et=it.S;if(et!==null&&et(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ut=gI(H,h);Ac(i,r,ut,Fi(i))}else Ac(i,r,h,Fi(i))}catch(pt){Ac(i,r,{then:function(){},status:"rejected",reason:pt},Fi())}finally{ft.p=v,it.T=C}}function bI(){}function Up(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=lT(i).queue;oT(i,g,r,mt,l===null?bI:function(){return uT(i),l(h)})}function lT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:mt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function uT(i){var r=lT(i).next.queue;Ac(i,r,{},Fi())}function Bp(){return Gn(qc)}function cT(){return ln().memoizedState}function hT(){return ln().memoizedState}function EI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Fi();i=Ha(l);var h=qa(r,i,l);h!==null&&(Hi(h,r,l),Tc(h,r,l)),r={cache:yp()},i.payload=r;return}r=r.return}}function wI(i,r,l){var h=Fi();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Nf(i)?dT(r,l):(l=Hr(i,r,l,h),l!==null&&(Hi(l,i,h),mT(l,r,h)))}function fT(i,r,l){var h=Fi();Ac(i,r,l,h)}function Ac(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nf(i))dT(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,M=v(C,l);if(g.hasEagerState=!0,g.eagerState=M,ti(M,C))return rl(i,r,g,0),Ne===null&&sl(),!1}catch{}finally{}if(l=Hr(i,r,g,h),l!==null)return Hi(l,i,h),mT(l,r,h),!0}return!1}function Fp(i,r,l,h){if(h={lane:2,revertLane:Tg(),action:h,hasEagerState:!1,eagerState:null,next:null},Nf(i)){if(r)throw Error(s(479))}else r=Hr(i,l,h,2),r!==null&&Hi(r,i,2)}function Nf(i){var r=i.alternate;return i===Qt||r!==null&&r===Qt}function dT(i,r){su=Cf=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function mT(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}var Of={readContext:Gn,use:Pf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},pT={readContext:Gn,use:Pf,useCallback:function(i,r){return hi().memoizedState=[i,r===void 0?null:r],i},useContext:Gn,useEffect:Q0,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Df(4194308,4,nT.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Df(4194308,4,i,r)},useInsertionEffect:function(i,r){Df(4,2,i,r)},useMemo:function(i,r){var l=hi();r=r===void 0?null:r;var h=i();if(dl){zn(!0);try{i()}finally{zn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=hi();if(l!==void 0){var g=l(r);if(dl){zn(!0);try{l(r)}finally{zn(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=wI.bind(null,Qt,i),[h.memoizedState,i]},useRef:function(i){var r=hi();return i={current:i},r.memoizedState=i},useState:function(i){i=kp(i);var r=i.queue,l=fT.bind(null,Qt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:jp,useDeferredValue:function(i,r){var l=hi();return zp(l,i,r)},useTransition:function(){var i=kp(!1);return i=oT.bind(null,Qt,i.queue,!0,!1),hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Qt,g=hi();if(Gt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ne===null)throw Error(s(349));(ce&124)!==0||k0(h,r,l)}g.memoizedState=l;var v={value:l,getSnapshot:r};return g.queue=v,Q0(j0.bind(null,h,v,i),[i]),h.flags|=2048,au(9,Lf(),V0.bind(null,h,v,l,r),null),l},useId:function(){var i=hi(),r=Ne.identifierPrefix;if(Gt){var l=F,h=I;l=(h&~(1<<32-_n(h)-1)).toString(32)+l,r=""+r+"R"+l,l=If++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=yI++,r=""+r+"r"+l.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Bp,useFormState:Z0,useActionState:Z0,useOptimistic:function(i){var r=hi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Fp.bind(null,Qt,!0,l),l.dispatch=r,[i,r]},useMemoCache:Dp,useCacheRefresh:function(){return hi().memoizedState=EI.bind(null,Qt)}},gT={readContext:Gn,use:Pf,useCallback:sT,useContext:Gn,useEffect:J0,useImperativeHandle:iT,useInsertionEffect:tT,useLayoutEffect:eT,useMemo:rT,useReducer:Mf,useRef:X0,useState:function(){return Mf(Wr)},useDebugValue:jp,useDeferredValue:function(i,r){var l=ln();return aT(l,xe.memoizedState,i,r)},useTransition:function(){var i=Mf(Wr)[0],r=ln().memoizedState;return[typeof i=="boolean"?i:xc(i),r]},useSyncExternalStore:O0,useId:cT,useHostTransitionStatus:Bp,useFormState:Y0,useActionState:Y0,useOptimistic:function(i,r){var l=ln();return B0(l,xe,i,r)},useMemoCache:Dp,useCacheRefresh:hT},xI={readContext:Gn,use:Pf,useCallback:sT,useContext:Gn,useEffect:J0,useImperativeHandle:iT,useInsertionEffect:tT,useLayoutEffect:eT,useMemo:rT,useReducer:Op,useRef:X0,useState:function(){return Op(Wr)},useDebugValue:jp,useDeferredValue:function(i,r){var l=ln();return xe===null?zp(l,i,r):aT(l,xe.memoizedState,i,r)},useTransition:function(){var i=Op(Wr)[0],r=ln().memoizedState;return[typeof i=="boolean"?i:xc(i),r]},useSyncExternalStore:O0,useId:cT,useHostTransitionStatus:Bp,useFormState:$0,useActionState:$0,useOptimistic:function(i,r){var l=ln();return xe!==null?B0(l,xe,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Dp,useCacheRefresh:hT},ou=null,Rc=0;function kf(i){var r=Rc;return Rc+=1,ou===null&&(ou=[]),R0(ou,i,r)}function Cc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Vf(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function yT(i){var r=i._init;return r(i._payload)}function _T(i){function r(X,K){if(i){var tt=X.deletions;tt===null?(X.deletions=[K],X.flags|=16):tt.push(K)}}function l(X,K){if(!i)return null;for(;K!==null;)r(X,K),K=K.sibling;return null}function h(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=as(X,K),X.index=0,X.sibling=null,X}function v(X,K,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<K?(X.flags|=67108866,K):tt):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function C(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function M(X,K,tt,dt){return K===null||K.tag!==6?(K=pc(tt,X.mode,dt),K.return=X,K):(K=g(K,tt),K.return=X,K)}function H(X,K,tt,dt){var Mt=tt.type;return Mt===D?ut(X,K,tt.props.children,dt,tt.key):K!==null&&(K.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===P&&yT(Mt)===K.type)?(K=g(K,tt.props),Cc(K,tt),K.return=X,K):(K=ol(tt.type,tt.key,tt.props,null,X.mode,dt),Cc(K,tt),K.return=X,K)}function et(X,K,tt,dt){return K===null||K.tag!==4||K.stateNode.containerInfo!==tt.containerInfo||K.stateNode.implementation!==tt.implementation?(K=Jl(tt,X.mode,dt),K.return=X,K):(K=g(K,tt.children||[]),K.return=X,K)}function ut(X,K,tt,dt,Mt){return K===null||K.tag!==7?(K=sr(tt,X.mode,dt,Mt),K.return=X,K):(K=g(K,tt),K.return=X,K)}function pt(X,K,tt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=pc(""+K,X.mode,tt),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return tt=ol(K.type,K.key,K.props,null,X.mode,tt),Cc(tt,K),tt.return=X,tt;case N:return K=Jl(K,X.mode,tt),K.return=X,K;case P:var dt=K._init;return K=dt(K._payload),pt(X,K,tt)}if(Vt(K)||Z(K))return K=sr(K,X.mode,tt,null),K.return=X,K;if(typeof K.then=="function")return pt(X,kf(K),tt);if(K.$$typeof===$)return pt(X,wf(X,K),tt);Vf(X,K)}return null}function nt(X,K,tt,dt){var Mt=K!==null?K.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Mt!==null?null:M(X,K,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return tt.key===Mt?H(X,K,tt,dt):null;case N:return tt.key===Mt?et(X,K,tt,dt):null;case P:return Mt=tt._init,tt=Mt(tt._payload),nt(X,K,tt,dt)}if(Vt(tt)||Z(tt))return Mt!==null?null:ut(X,K,tt,dt,null);if(typeof tt.then=="function")return nt(X,K,kf(tt),dt);if(tt.$$typeof===$)return nt(X,K,wf(X,tt),dt);Vf(X,tt)}return null}function st(X,K,tt,dt,Mt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return X=X.get(tt)||null,M(K,X,""+dt,Mt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case S:return X=X.get(dt.key===null?tt:dt.key)||null,H(K,X,dt,Mt);case N:return X=X.get(dt.key===null?tt:dt.key)||null,et(K,X,dt,Mt);case P:var te=dt._init;return dt=te(dt._payload),st(X,K,tt,dt,Mt)}if(Vt(dt)||Z(dt))return X=X.get(tt)||null,ut(K,X,dt,Mt,null);if(typeof dt.then=="function")return st(X,K,tt,kf(dt),Mt);if(dt.$$typeof===$)return st(X,K,tt,wf(K,dt),Mt);Vf(K,dt)}return null}function Ht(X,K,tt,dt){for(var Mt=null,te=null,Nt=K,zt=K=0,An=null;Nt!==null&&zt<tt.length;zt++){Nt.index>zt?(An=Nt,Nt=null):An=Nt.sibling;var me=nt(X,Nt,tt[zt],dt);if(me===null){Nt===null&&(Nt=An);break}i&&Nt&&me.alternate===null&&r(X,Nt),K=v(me,K,zt),te===null?Mt=me:te.sibling=me,te=me,Nt=An}if(zt===tt.length)return l(X,Nt),Gt&&J(X,zt),Mt;if(Nt===null){for(;zt<tt.length;zt++)Nt=pt(X,tt[zt],dt),Nt!==null&&(K=v(Nt,K,zt),te===null?Mt=Nt:te.sibling=Nt,te=Nt);return Gt&&J(X,zt),Mt}for(Nt=h(Nt);zt<tt.length;zt++)An=st(Nt,X,zt,tt[zt],dt),An!==null&&(i&&An.alternate!==null&&Nt.delete(An.key===null?zt:An.key),K=v(An,K,zt),te===null?Mt=An:te.sibling=An,te=An);return i&&Nt.forEach(function(oo){return r(X,oo)}),Gt&&J(X,zt),Mt}function jt(X,K,tt,dt){if(tt==null)throw Error(s(151));for(var Mt=null,te=null,Nt=K,zt=K=0,An=null,me=tt.next();Nt!==null&&!me.done;zt++,me=tt.next()){Nt.index>zt?(An=Nt,Nt=null):An=Nt.sibling;var oo=nt(X,Nt,me.value,dt);if(oo===null){Nt===null&&(Nt=An);break}i&&Nt&&oo.alternate===null&&r(X,Nt),K=v(oo,K,zt),te===null?Mt=oo:te.sibling=oo,te=oo,Nt=An}if(me.done)return l(X,Nt),Gt&&J(X,zt),Mt;if(Nt===null){for(;!me.done;zt++,me=tt.next())me=pt(X,me.value,dt),me!==null&&(K=v(me,K,zt),te===null?Mt=me:te.sibling=me,te=me);return Gt&&J(X,zt),Mt}for(Nt=h(Nt);!me.done;zt++,me=tt.next())me=st(Nt,X,zt,me.value,dt),me!==null&&(i&&me.alternate!==null&&Nt.delete(me.key===null?zt:me.key),K=v(me,K,zt),te===null?Mt=me:te.sibling=me,te=me);return i&&Nt.forEach(function(SP){return r(X,SP)}),Gt&&J(X,zt),Mt}function Ae(X,K,tt,dt){if(typeof tt=="object"&&tt!==null&&tt.type===D&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:t:{for(var Mt=tt.key;K!==null;){if(K.key===Mt){if(Mt=tt.type,Mt===D){if(K.tag===7){l(X,K.sibling),dt=g(K,tt.props.children),dt.return=X,X=dt;break t}}else if(K.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===P&&yT(Mt)===K.type){l(X,K.sibling),dt=g(K,tt.props),Cc(dt,tt),dt.return=X,X=dt;break t}l(X,K);break}else r(X,K);K=K.sibling}tt.type===D?(dt=sr(tt.props.children,X.mode,dt,tt.key),dt.return=X,X=dt):(dt=ol(tt.type,tt.key,tt.props,null,X.mode,dt),Cc(dt,tt),dt.return=X,X=dt)}return C(X);case N:t:{for(Mt=tt.key;K!==null;){if(K.key===Mt)if(K.tag===4&&K.stateNode.containerInfo===tt.containerInfo&&K.stateNode.implementation===tt.implementation){l(X,K.sibling),dt=g(K,tt.children||[]),dt.return=X,X=dt;break t}else{l(X,K);break}else r(X,K);K=K.sibling}dt=Jl(tt,X.mode,dt),dt.return=X,X=dt}return C(X);case P:return Mt=tt._init,tt=Mt(tt._payload),Ae(X,K,tt,dt)}if(Vt(tt))return Ht(X,K,tt,dt);if(Z(tt)){if(Mt=Z(tt),typeof Mt!="function")throw Error(s(150));return tt=Mt.call(tt),jt(X,K,tt,dt)}if(typeof tt.then=="function")return Ae(X,K,kf(tt),dt);if(tt.$$typeof===$)return Ae(X,K,wf(X,tt),dt);Vf(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,K!==null&&K.tag===6?(l(X,K.sibling),dt=g(K,tt),dt.return=X,X=dt):(l(X,K),dt=pc(tt,X.mode,dt),dt.return=X,X=dt),C(X)):l(X,K)}return function(X,K,tt,dt){try{Rc=0;var Mt=Ae(X,K,tt,dt);return ou=null,Mt}catch(Nt){if(Nt===_c||Nt===Sf)throw Nt;var te=si(29,Nt,null,X.mode);return te.lanes=dt,te.return=X,te}finally{}}}var lu=_T(!0),vT=_T(!1),ls=lt(null),ar=null;function Wa(i){var r=i.alternate;vt(gn,gn.current&1),vt(ls,i),ar===null&&(r===null||iu.current!==null||r.memoizedState!==null)&&(ar=i)}function TT(i){if(i.tag===22){if(vt(gn,gn.current),vt(ls,i),ar===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(ar=i)}}else Za()}function Za(){vt(gn,gn.current),vt(ls,ls.current)}function Zr(i){bt(ls),ar===i&&(ar=null),bt(gn)}var gn=lt(0);function jf(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Lg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hp(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var qp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Fi(),g=Ha(h);g.payload=r,l!=null&&(g.callback=l),r=qa(i,g,h),r!==null&&(Hi(r,i,h),Tc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Fi(),g=Ha(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=qa(i,g,h),r!==null&&(Hi(r,i,h),Tc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Fi(),h=Ha(l);h.tag=2,r!=null&&(h.callback=r),r=qa(i,h,l),r!==null&&(Hi(r,i,l),Tc(r,i,l))}};function bT(i,r,l,h,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):r.prototype&&r.prototype.isPureReactComponent?!ei(l,h)||!ei(g,v):!0}function ET(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&qp.enqueueReplaceState(r,r.state,null)}function ml(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var zf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function wT(i){zf(i)}function xT(i){console.error(i)}function ST(i){zf(i)}function Uf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function AT(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Gp(i,r,l){return l=Ha(l),l.tag=3,l.payload={element:null},l.callback=function(){Uf(i,r)},l}function RT(i){return i=Ha(i),i.tag=3,i}function CT(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){AT(r,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){AT(r,l,h),typeof g!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function SI(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&cl(r,l,g,!0),l=ls.current,l!==null){switch(l.tag){case 13:return ar===null?pg():l.alternate===null&&Ye===0&&(Ye=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Tp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),yg(i,h,g)),!1;case 22:return l.flags|=65536,h===Tp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),yg(i,h,g)),!1}throw Error(s(435,l.tag))}return yg(i,h,g),pg(),!1}if(Gt)return r=ls.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==wn&&(i=Error(s(422),{cause:h}),Ba(ni(i,l)))):(h!==wn&&(r=Error(s(423),{cause:h}),Ba(ni(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=ni(h,l),g=Gp(i.stateNode,h,g),wp(i,g),Ye!==4&&(Ye=2)),!1;var v=Error(s(520),{cause:h});if(v=ni(v,l),Oc===null?Oc=[v]:Oc.push(v),Ye!==4&&(Ye=2),r===null)return!0;h=ni(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Gp(l.stateNode,h,i),wp(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ja===null||!Ja.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=RT(g),CT(g,i,l,h),wp(l,g),!1}l=l.return}while(l!==null);return!1}var IT=Error(s(461)),xn=!1;function Ln(i,r,l,h){r.child=i===null?vT(r,null,l,h):lu(r,i.child,l,h)}function PT(i,r,l,h,g){l=l.render;var v=r.ref;if("ref"in h){var C={};for(var M in h)M!=="ref"&&(C[M]=h[M])}else C=h;return hl(r),h=Cp(i,r,l,C,v,g),M=Ip(),i!==null&&!xn?(Pp(i,r,g),Yr(i,r,g)):(Gt&&M&&_t(r),r.flags|=1,Ln(i,r,h,g),r.child)}function MT(i,r,l,h,g){if(i===null){var v=l.type;return typeof v=="function"&&!Ql(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,LT(i,r,v,h,g)):(i=ol(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Jp(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:ei,l(C,h)&&i.ref===r.ref)return Yr(i,r,g)}return r.flags|=1,i=as(v,h),i.ref=r.ref,i.return=r,r.child=i}function LT(i,r,l,h,g){if(i!==null){var v=i.memoizedProps;if(ei(v,h)&&i.ref===r.ref)if(xn=!1,r.pendingProps=h=v,Jp(i,g))(i.flags&131072)!==0&&(xn=!0);else return r.lanes=i.lanes,Yr(i,r,g)}return Wp(i,r,l,h,g)}function DT(i,r,l){var h=r.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|l:l,i!==null){for(g=r.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return NT(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&xf(r,v!==null?v.cachePool:null),v!==null?L0(r,v):Sp(),TT(r);else return r.lanes=r.childLanes=536870912,NT(i,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(xf(r,v.cachePool),L0(r,v),Za(),r.memoizedState=null):(i!==null&&xf(r,null),Sp(),Za());return Ln(i,r,g,l),r.child}function NT(i,r,l,h){var g=vp();return g=g===null?null:{parent:pn._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&xf(r,null),Sp(),TT(r),i!==null&&cl(i,r,h,!0),null}function Bf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Wp(i,r,l,h,g){return hl(r),l=Cp(i,r,l,h,void 0,g),h=Ip(),i!==null&&!xn?(Pp(i,r,g),Yr(i,r,g)):(Gt&&h&&_t(r),r.flags|=1,Ln(i,r,l,g),r.child)}function OT(i,r,l,h,g,v){return hl(r),r.updateQueue=null,l=N0(r,h,l,g),D0(i),h=Ip(),i!==null&&!xn?(Pp(i,r,v),Yr(i,r,v)):(Gt&&h&&_t(r),r.flags|=1,Ln(i,r,l,v),r.child)}function kT(i,r,l,h,g){if(hl(r),r.stateNode===null){var v=qr,C=l.contextType;typeof C=="object"&&C!==null&&(v=Gn(C)),v=new l(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=qp,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},bp(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?Gn(C):qr,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Hp(r,l,C,h),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&qp.enqueueReplaceState(v,v.state,null),Ec(r,h,v,g),bc(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){v=r.stateNode;var M=r.memoizedProps,H=ml(l,M);v.props=H;var et=v.context,ut=l.contextType;C=qr,typeof ut=="object"&&ut!==null&&(C=Gn(ut));var pt=l.getDerivedStateFromProps;ut=typeof pt=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ut||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||et!==C)&&ET(r,v,h,C),Fa=!1;var nt=r.memoizedState;v.state=nt,Ec(r,h,v,g),bc(),et=r.memoizedState,M||nt!==et||Fa?(typeof pt=="function"&&(Hp(r,l,pt,h),et=r.memoizedState),(H=Fa||bT(r,l,H,h,nt,et,C))?(ut||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=et),v.props=h,v.state=et,v.context=C,h=H):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,Ep(i,r),C=r.memoizedProps,ut=ml(l,C),v.props=ut,pt=r.pendingProps,nt=v.context,et=l.contextType,H=qr,typeof et=="object"&&et!==null&&(H=Gn(et)),M=l.getDerivedStateFromProps,(et=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==pt||nt!==H)&&ET(r,v,h,H),Fa=!1,nt=r.memoizedState,v.state=nt,Ec(r,h,v,g),bc();var st=r.memoizedState;C!==pt||nt!==st||Fa||i!==null&&i.dependencies!==null&&Ef(i.dependencies)?(typeof M=="function"&&(Hp(r,l,M,h),st=r.memoizedState),(ut=Fa||bT(r,l,ut,h,nt,st,H)||i!==null&&i.dependencies!==null&&Ef(i.dependencies))?(et||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,st,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,st,H)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=st),v.props=h,v.state=st,v.context=H,h=ut):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=1024),h=!1)}return v=h,Bf(i,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&h?(r.child=lu(r,i.child,null,g),r.child=lu(r,null,l,g)):Ln(i,r,l,g),r.memoizedState=v.state,i=r.child):i=Yr(i,r,g),i}function VT(i,r,l,h){return Ua(),r.flags|=256,Ln(i,r,l,h),r.child}var Zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(i){return{baseLanes:i,cachePool:x0()}}function Kp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=us),i}function jT(i,r,l){var h=r.pendingProps,g=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),C&&(g=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Gt){if(g?Wa(r):Za(),Gt){var M=Lt,H;if(H=M){t:{for(H=M,M=Fe;H.nodeType!==8;){if(!M){M=null;break t}if(H=Vs(H.nextSibling),H===null){M=null;break t}}M=H}M!==null?(r.memoizedState={dehydrated:M,treeContext:x!==null?{id:I,overflow:F}:null,retryLane:536870912,hydrationErrors:null},H=si(18,null,null,0),H.stateNode=M,H.return=r,r.child=H,Pt=r,Lt=null,H=!0):H=!1}H||ci(r)}if(M=r.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Lg(M)?r.lanes=32:r.lanes=536870912,null;Zr(r)}return M=h.children,h=h.fallback,g?(Za(),g=r.mode,M=Ff({mode:"hidden",children:M},g),h=sr(h,g,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,g=r.child,g.memoizedState=Yp(l),g.childLanes=Kp(i,C,l),r.memoizedState=Zp,h):(Wa(r),$p(r,M))}if(H=i.memoizedState,H!==null&&(M=H.dehydrated,M!==null)){if(v)r.flags&256?(Wa(r),r.flags&=-257,r=Xp(i,r,l)):r.memoizedState!==null?(Za(),r.child=i.child,r.flags|=128,r=null):(Za(),g=h.fallback,M=r.mode,h=Ff({mode:"visible",children:h.children},M),g=sr(g,M,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,lu(r,i.child,null,l),h=r.child,h.memoizedState=Yp(l),h.childLanes=Kp(i,C,l),r.memoizedState=Zp,r=g);else if(Wa(r),Lg(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var et=C.dgst;C=et,h=Error(s(419)),h.stack="",h.digest=C,Ba({value:h,source:null,stack:null}),r=Xp(i,r,l)}else if(xn||cl(i,r,l,!1),C=(l&i.childLanes)!==0,xn||C){if(C=Ne,C!==null&&(h=l&-l,h=(h&42)!==0?1:Ws(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==H.retryLane))throw H.retryLane=h,ja(i,h),Hi(C,i,h),IT;M.data==="$?"||pg(),r=Xp(i,r,l)}else M.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=H.treeContext,Lt=Vs(M.nextSibling),Pt=r,Gt=!0,De=null,Fe=!1,i!==null&&(p[b++]=I,p[b++]=F,p[b++]=x,I=i.id,F=i.overflow,x=r),r=$p(r,h.children),r.flags|=4096);return r}return g?(Za(),g=h.fallback,M=r.mode,H=i.child,et=H.sibling,h=as(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,et!==null?g=as(et,g):(g=sr(g,M,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,M=i.child.memoizedState,M===null?M=Yp(l):(H=M.cachePool,H!==null?(et=pn._currentValue,H=H.parent!==et?{parent:et,pool:et}:H):H=x0(),M={baseLanes:M.baseLanes|l,cachePool:H}),g.memoizedState=M,g.childLanes=Kp(i,C,l),r.memoizedState=Zp,h):(Wa(r),l=i.child,i=l.sibling,l=as(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=l,r.memoizedState=null,l)}function $p(i,r){return r=Ff({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ff(i,r){return i=si(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Xp(i,r,l){return lu(r,i.child,null,l),i=$p(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function zT(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),ul(i.return,r,l)}function Qp(i,r,l,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function UT(i,r,l){var h=r.pendingProps,g=h.revealOrder,v=h.tail;if(Ln(i,r,h.children,l),h=gn.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zT(i,l,r);else if(i.tag===19)zT(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(vt(gn,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&jf(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Qp(r,!1,g,l,v);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&jf(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Qp(r,!0,l,null,v);break;case"together":Qp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yr(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Qa|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(cl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=as(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=as(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Jp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ef(i)))}function AI(i,r,l){switch(r.tag){case 3:le(r,r.stateNode.containerInfo),rr(r,pn,i.memoizedState.cache),Ua();break;case 27:case 5:Gi(r);break;case 4:le(r,r.stateNode.containerInfo);break;case 10:rr(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Wa(r),r.flags|=128,null):(l&r.child.childLanes)!==0?jT(i,r,l):(Wa(r),i=Yr(i,r,l),i!==null?i.sibling:null);Wa(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(cl(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return UT(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),vt(gn,gn.current),h)break;return null;case 22:case 23:return r.lanes=0,DT(i,r,l);case 24:rr(r,pn,i.memoizedState.cache)}return Yr(i,r,l)}function BT(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)xn=!0;else{if(!Jp(i,l)&&(r.flags&128)===0)return xn=!1,AI(i,r,l);xn=(i.flags&131072)!==0}else xn=!1,Gt&&(r.flags&1048576)!==0&&rt(r,c,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")Ql(h)?(i=ml(h,i),r.tag=1,r=kT(null,r,h,i,l)):(r.tag=0,r=Wp(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===gt){r.tag=11,r=PT(null,r,h,i,l);break t}else if(g===W){r.tag=14,r=MT(null,r,h,i,l);break t}}throw r=Tt(h)||h,Error(s(306,r,""))}}return r;case 0:return Wp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=ml(h,r.pendingProps),kT(i,r,h,g,l);case 3:t:{if(le(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var v=r.memoizedState;g=v.element,Ep(i,r),Ec(r,h,null,l);var C=r.memoizedState;if(h=C.cache,rr(r,pn,h),h!==v.cache&&tu(r,[pn],l,!0),bc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=VT(i,r,h,l);break t}else if(h!==g){g=ni(Error(s(424)),r),Ba(g),r=VT(i,r,h,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=Vs(i.firstChild),Pt=r,Gt=!0,De=null,Fe=!0,l=vT(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ua(),h===g){r=Yr(i,r,l);break t}Ln(i,r,h,l)}r=r.child}return r;case 26:return Bf(i,r),i===null?(l=Gb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Gt||(l=r.type,i=r.pendingProps,h=nd(wt.current).createElement(l),h[Qe]=r,h[We]=i,Nn(h,l,i),Be(h),r.stateNode=h):r.memoizedState=Gb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Gi(r),i===null&&Gt&&(h=r.stateNode=Fb(r.type,r.pendingProps,wt.current),Pt=r,Fe=!0,g=Lt,no(r.type)?(Dg=g,Lt=Vs(h.firstChild)):Lt=g),Ln(i,r,r.pendingProps.children,l),Bf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Gt&&((g=h=Lt)&&(h=tP(h,r.type,r.pendingProps,Fe),h!==null?(r.stateNode=h,Pt=r,Lt=Vs(h.firstChild),Fe=!1,g=!0):g=!1),g||ci(r)),Gi(r),g=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,Ig(g,v)?h=null:C!==null&&Ig(g,C)&&(r.flags|=32),r.memoizedState!==null&&(g=Cp(i,r,_I,null,null,l),qc._currentValue=g),Bf(i,r),Ln(i,r,h,l),r.child;case 6:return i===null&&Gt&&((i=l=Lt)&&(l=eP(l,r.pendingProps,Fe),l!==null?(r.stateNode=l,Pt=r,Lt=null,i=!0):i=!1),i||ci(r)),null;case 13:return jT(i,r,l);case 4:return le(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=lu(r,null,h,l):Ln(i,r,h,l),r.child;case 11:return PT(i,r,r.type,r.pendingProps,l);case 7:return Ln(i,r,r.pendingProps,l),r.child;case 8:return Ln(i,r,r.pendingProps.children,l),r.child;case 12:return Ln(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,rr(r,r.type,h.value),Ln(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,hl(r),g=Gn(g),h=h(g),r.flags|=1,Ln(i,r,h,l),r.child;case 14:return MT(i,r,r.type,r.pendingProps,l);case 15:return LT(i,r,r.type,r.pendingProps,l);case 19:return UT(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=Ff(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=as(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return DT(i,r,l);case 24:return hl(r),h=Gn(pn),i===null?(g=vp(),g===null&&(g=Ne,v=yp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),r.memoizedState={parent:h,cache:g},bp(r),rr(r,pn,g)):((i.lanes&l)!==0&&(Ep(i,r),Ec(r,null,null,l),bc()),g=i.memoizedState,v=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),rr(r,pn,h)):(h=v.cache,rr(r,pn,h),h!==g.cache&&tu(r,[pn],l,!0))),Ln(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Kr(i){i.flags|=4}function FT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$b(r)){if(r=ls.current,r!==null&&((ce&4194048)===ce?ar!==null:(ce&62914560)!==ce&&(ce&536870912)===0||r!==ar))throw vc=Tp,S0;i.flags|=8192}}function Hf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ya():536870912,i.lanes|=r,fu|=r)}function Ic(i,r){if(!Gt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function He(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function RI(i,r,l){var h=r.pendingProps;switch(Rt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Os(pn),Ei(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ll(r)?Kr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bf())),He(r),null;case 26:return l=r.memoizedState,i===null?(Kr(r),l!==null?(He(r),FT(r,l)):(He(r),r.flags&=-16777217)):l?l!==i.memoizedState?(Kr(r),He(r),FT(r,l)):(He(r),r.flags&=-16777217):(i.memoizedProps!==h&&Kr(r),He(r),r.flags&=-16777217),null;case 27:wi(r),l=wt.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Kr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}i=At.current,ll(r)?vf(r):(i=Fb(g,h,l),r.stateNode=i,Kr(r))}return He(r),null;case 5:if(wi(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Kr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}if(i=At.current,ll(r))vf(r);else{switch(g=nd(wt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[Qe]=r,i[We]=h;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Nn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Kr(r)}}return He(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Kr(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=wt.current,ll(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=Pt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Qe]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Ob(i.nodeValue,l)),i||ci(r)}else i=nd(i).createTextNode(h),i[Qe]=r,r.stateNode=i}return He(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=ll(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Qe]=r}else Ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),g=!1}else g=bf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Zr(r),r):(Zr(r),null)}if(Zr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Hf(r,r.updateQueue),He(r),null;case 4:return Ei(),i===null&&xg(r.stateNode.containerInfo),He(r),null;case 10:return Os(r.type),He(r),null;case 19:if(bt(gn),g=r.memoizedState,g===null)return He(r),null;if(h=(r.flags&128)!==0,v=g.rendering,v===null)if(h)Ic(g,!1);else{if(Ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=jf(i),v!==null){for(r.flags|=128,Ic(g,!1),i=v.updateQueue,r.updateQueue=i,Hf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)mc(l,i),l=l.sibling;return vt(gn,gn.current&1|2),r.child}i=i.sibling}g.tail!==null&&jn()>Wf&&(r.flags|=128,h=!0,Ic(g,!1),r.lanes=4194304)}else{if(!h)if(i=jf(v),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Hf(r,i),Ic(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Gt)return He(r),null}else 2*jn()-g.renderingStartTime>Wf&&l!==536870912&&(r.flags|=128,h=!0,Ic(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(i=g.last,i!==null?i.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=jn(),r.sibling=null,i=gn.current,vt(gn,h?i&1|2:i&1),r):(He(r),null);case 22:case 23:return Zr(r),Ap(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),l=r.updateQueue,l!==null&&Hf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&bt(fl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Os(pn),He(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function CI(i,r){switch(Rt(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Os(pn),Ei(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 13:if(Zr(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ua()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return bt(gn),null;case 4:return Ei(),null;case 10:return Os(r.type),null;case 22:case 23:return Zr(r),Ap(),i!==null&&bt(fl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Os(pn),null;case 25:return null;default:return null}}function HT(i,r){switch(Rt(r),r.tag){case 3:Os(pn),Ei();break;case 26:case 27:case 5:wi(r);break;case 4:Ei();break;case 13:Zr(r);break;case 19:bt(gn);break;case 10:Os(r.type);break;case 22:case 23:Zr(r),Ap(),i!==null&&bt(fl);break;case 24:Os(pn)}}function Pc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var v=l.create,C=l.inst;h=v(),C.destroy=h}l=l.next}while(l!==g)}}catch(M){Ce(r,r.return,M)}}function Ya(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var C=h.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,g=r;var H=l,et=M;try{et()}catch(ut){Ce(g,H,ut)}}}h=h.next}while(h!==v)}}catch(ut){Ce(r,r.return,ut)}}function qT(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{M0(r,l)}catch(h){Ce(i,i.return,h)}}}function GT(i,r,l){l.props=ml(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Ce(i,r,h)}}function Mc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Ce(i,r,g)}}function or(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Ce(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ce(i,r,g)}else l.current=null}function WT(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Ce(i,i.return,g)}}function tg(i,r,l){try{var h=i.stateNode;KI(h,i.type,l,r),h[We]=r}catch(g){Ce(i,i.return,g)}}function ZT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&no(i.type)||i.tag===4}function eg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||ZT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&no(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ng(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ed));else if(h!==4&&(h===27&&no(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(ng(i,r,l),i=i.sibling;i!==null;)ng(i,r,l),i=i.sibling}function qf(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&no(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(qf(i,r,l),i=i.sibling;i!==null;)qf(i,r,l),i=i.sibling}function YT(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Nn(r,h,l),r[Qe]=i,r[We]=l}catch(v){Ce(i,i.return,v)}}var $r=!1,en=!1,ig=!1,KT=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function II(i,r){if(i=i.containerInfo,Rg=ld,i=el(i),nl(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,M=-1,H=-1,et=0,ut=0,pt=i,nt=null;e:for(;;){for(var st;pt!==l||g!==0&&pt.nodeType!==3||(M=C+g),pt!==v||h!==0&&pt.nodeType!==3||(H=C+h),pt.nodeType===3&&(C+=pt.nodeValue.length),(st=pt.firstChild)!==null;)nt=pt,pt=st;for(;;){if(pt===i)break e;if(nt===l&&++et===g&&(M=C),nt===v&&++ut===h&&(H=C),(st=pt.nextSibling)!==null)break;pt=nt,nt=pt.parentNode}pt=st}l=M===-1||H===-1?null:{start:M,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cg={focusedElem:i,selectionRange:l},ld=!1,Sn=r;Sn!==null;)if(r=Sn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Sn=i;else for(;Sn!==null;){switch(r=Sn,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,g=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var Ht=ml(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Ht,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(jt){Ce(l,l.return,jt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Mg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Sn=i;break}Sn=r.return}}function $T(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ka(i,l),h&4&&Pc(5,l);break;case 1:if(Ka(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(C){Ce(l,l.return,C)}else{var g=ml(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Ce(l,l.return,C)}}h&64&&qT(l),h&512&&Mc(l,l.return);break;case 3:if(Ka(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{M0(i,r)}catch(C){Ce(l,l.return,C)}}break;case 27:r===null&&h&4&&YT(l);case 26:case 5:Ka(i,l),r===null&&h&4&&WT(l),h&512&&Mc(l,l.return);break;case 12:Ka(i,l);break;case 13:Ka(i,l),h&4&&JT(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=jI.bind(null,l),nP(i,l))));break;case 22:if(h=l.memoizedState!==null||$r,!h){r=r!==null&&r.memoizedState!==null||en,g=$r;var v=en;$r=h,(en=r)&&!v?$a(i,l,(l.subtreeFlags&8772)!==0):Ka(i,l),$r=g,en=v}break;case 30:break;default:Ka(i,l)}}function XT(i){var r=i.alternate;r!==null&&(i.alternate=null,XT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ws(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ze=null,fi=!1;function Xr(i,r,l){for(l=l.child;l!==null;)QT(i,r,l),l=l.sibling}function QT(i,r,l){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Ie,l)}catch{}switch(l.tag){case 26:en||or(l,r),Xr(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:en||or(l,r);var h=ze,g=fi;no(l.type)&&(ze=l.stateNode,fi=!1),Xr(i,r,l),Uc(l.stateNode),ze=h,fi=g;break;case 5:en||or(l,r);case 6:if(h=ze,g=fi,ze=null,Xr(i,r,l),ze=h,fi=g,ze!==null)if(fi)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(v){Ce(l,r,v)}else try{ze.removeChild(l.stateNode)}catch(v){Ce(l,r,v)}break;case 18:ze!==null&&(fi?(i=ze,Ub(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Yc(i)):Ub(ze,l.stateNode));break;case 4:h=ze,g=fi,ze=l.stateNode.containerInfo,fi=!0,Xr(i,r,l),ze=h,fi=g;break;case 0:case 11:case 14:case 15:en||Ya(2,l,r),en||Ya(4,l,r),Xr(i,r,l);break;case 1:en||(or(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&GT(l,r,h)),Xr(i,r,l);break;case 21:Xr(i,r,l);break;case 22:en=(h=en)||l.memoizedState!==null,Xr(i,r,l),en=h;break;default:Xr(i,r,l)}}function JT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yc(i)}catch(l){Ce(r,r.return,l)}}function PI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new KT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new KT),r;default:throw Error(s(435,i.tag))}}function sg(i,r){var l=PI(i);r.forEach(function(h){var g=zI.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function zi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],v=i,C=r,M=C;t:for(;M!==null;){switch(M.tag){case 27:if(no(M.type)){ze=M.stateNode,fi=!1;break t}break;case 5:ze=M.stateNode,fi=!1;break t;case 3:case 4:ze=M.stateNode.containerInfo,fi=!0;break t}M=M.return}if(ze===null)throw Error(s(160));QT(v,C,g),ze=null,fi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)tb(r,i),r=r.sibling}var ks=null;function tb(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zi(r,i),Ui(i),h&4&&(Ya(3,i,i.return),Pc(3,i),Ya(5,i,i.return));break;case 1:zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),h&64&&$r&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=ks;if(zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ys]||v[Qe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Nn(v,h,l),v[Qe]=i,Be(v),h=v;break t;case"link":var C=Yb("link","href",g).get(h+(l.href||""));if(C){for(var M=0;M<C.length;M++)if(v=C[M],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(M,1);break e}}v=g.createElement(h),Nn(v,h,l),g.head.appendChild(v);break;case"meta":if(C=Yb("meta","content",g).get(h+(l.content||""))){for(M=0;M<C.length;M++)if(v=C[M],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(M,1);break e}}v=g.createElement(h),Nn(v,h,l),g.head.appendChild(v);break;default:throw Error(s(468,h))}v[Qe]=i,Be(v),h=v}i.stateNode=h}else Kb(g,i.type,i.stateNode);else i.stateNode=Zb(g,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?Kb(g,i.type,i.stateNode):Zb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&tg(i,i.memoizedProps,l.memoizedProps)}break;case 27:zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),l!==null&&h&4&&tg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),i.flags&32){g=i.stateNode;try{Tn(g,"")}catch(st){Ce(i,i.return,st)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,tg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(ig=!0);break;case 6:if(zi(r,i),Ui(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(st){Ce(i,i.return,st)}}break;case 3:if(rd=null,g=ks,ks=id(r.containerInfo),zi(r,i),ks=g,Ui(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Yc(r.containerInfo)}catch(st){Ce(i,i.return,st)}ig&&(ig=!1,eb(i));break;case 4:h=ks,ks=id(i.stateNode.containerInfo),zi(r,i),Ui(i),ks=h;break;case 12:zi(r,i),Ui(i);break;case 13:zi(r,i),Ui(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cg=jn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,sg(i,h)));break;case 22:g=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,et=$r,ut=en;if($r=et||g,en=ut||H,zi(r,i),en=ut,$r=et,Ui(i),h&8192)t:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||H||$r||en||pl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){H=l=r;try{if(v=H.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=H.stateNode;var pt=H.memoizedProps.style,nt=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;M.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(st){Ce(H,H.return,st)}}}else if(r.tag===6){if(l===null){H=r;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(st){Ce(H,H.return,st)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,sg(i,l))));break;case 19:zi(r,i),Ui(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,sg(i,h)));break;case 30:break;case 21:break;default:zi(r,i),Ui(i)}}function Ui(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(ZT(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,v=eg(i);qf(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(Tn(C,""),l.flags&=-33);var M=eg(i);qf(i,M,C);break;case 3:case 4:var H=l.stateNode.containerInfo,et=eg(i);ng(i,et,H);break;default:throw Error(s(161))}}catch(ut){Ce(i,i.return,ut)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function eb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;eb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ka(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$T(i,r.alternate,r),r=r.sibling}function pl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ya(4,r,r.return),pl(r);break;case 1:or(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&GT(r,r.return,l),pl(r);break;case 27:Uc(r.stateNode);case 26:case 5:or(r,r.return),pl(r);break;case 22:r.memoizedState===null&&pl(r);break;case 30:pl(r);break;default:pl(r)}i=i.sibling}}function $a(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:$a(g,v,l),Pc(4,v);break;case 1:if($a(g,v,l),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(et){Ce(h,h.return,et)}if(h=v,g=h.updateQueue,g!==null){var M=h.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)P0(H[g],M)}catch(et){Ce(h,h.return,et)}}l&&C&64&&qT(v),Mc(v,v.return);break;case 27:YT(v);case 26:case 5:$a(g,v,l),l&&h===null&&C&4&&WT(v),Mc(v,v.return);break;case 12:$a(g,v,l);break;case 13:$a(g,v,l),l&&C&4&&JT(g,v);break;case 22:v.memoizedState===null&&$a(g,v,l),Mc(v,v.return);break;case 30:break;default:$a(g,v,l)}r=r.sibling}}function rg(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&gc(l))}function ag(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&gc(i))}function lr(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nb(i,r,l,h),r=r.sibling}function nb(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:lr(i,r,l,h),g&2048&&Pc(9,r);break;case 1:lr(i,r,l,h);break;case 3:lr(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&gc(i)));break;case 12:if(g&2048){lr(i,r,l,h),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,M=v.onPostCommit;typeof M=="function"&&M(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Ce(r,r.return,H)}}else lr(i,r,l,h);break;case 13:lr(i,r,l,h);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?lr(i,r,l,h):Lc(i,r):v._visibility&2?lr(i,r,l,h):(v._visibility|=2,uu(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&rg(C,r);break;case 24:lr(i,r,l,h),g&2048&&ag(r.alternate,r);break;default:lr(i,r,l,h)}}function uu(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,C=r,M=l,H=h,et=C.flags;switch(C.tag){case 0:case 11:case 15:uu(v,C,M,H,g),Pc(8,C);break;case 23:break;case 22:var ut=C.stateNode;C.memoizedState!==null?ut._visibility&2?uu(v,C,M,H,g):Lc(v,C):(ut._visibility|=2,uu(v,C,M,H,g)),g&&et&2048&&rg(C.alternate,C);break;case 24:uu(v,C,M,H,g),g&&et&2048&&ag(C.alternate,C);break;default:uu(v,C,M,H,g)}r=r.sibling}}function Lc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:Lc(l,h),g&2048&&rg(h.alternate,h);break;case 24:Lc(l,h),g&2048&&ag(h.alternate,h);break;default:Lc(l,h)}r=r.sibling}}var Dc=8192;function cu(i){if(i.subtreeFlags&Dc)for(i=i.child;i!==null;)ib(i),i=i.sibling}function ib(i){switch(i.tag){case 26:cu(i),i.flags&Dc&&i.memoizedState!==null&&pP(ks,i.memoizedState,i.memoizedProps);break;case 5:cu(i);break;case 3:case 4:var r=ks;ks=id(i.stateNode.containerInfo),cu(i),ks=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Dc,Dc=16777216,cu(i),Dc=r):cu(i));break;default:cu(i)}}function sb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Nc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Sn=h,ab(h,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 0:case 11:case 15:Nc(i),i.flags&2048&&Ya(9,i,i.return);break;case 3:Nc(i);break;case 12:Nc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Gf(i)):Nc(i);break;default:Nc(i)}}function Gf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Sn=h,ab(h,i)}sb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ya(8,r,r.return),Gf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Gf(r));break;default:Gf(r)}i=i.sibling}}function ab(i,r){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Ya(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:gc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Sn=h;else t:for(l=i;Sn!==null;){h=Sn;var g=h.sibling,v=h.return;if(XT(h),h===l){Sn=null;break t}if(g!==null){g.return=v,Sn=g;break t}Sn=v}}}var MI={getCacheForType:function(i){var r=Gn(pn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},LI=typeof WeakMap=="function"?WeakMap:Map,ve=0,Ne=null,ee=null,ce=0,Te=0,Bi=null,Xa=!1,hu=!1,og=!1,Qr=0,Ye=0,Qa=0,gl=0,lg=0,us=0,fu=0,Oc=null,di=null,ug=!1,cg=0,Wf=1/0,Zf=null,Ja=null,Dn=0,to=null,du=null,mu=0,hg=0,fg=null,ob=null,kc=0,dg=null;function Fi(){if((ve&2)!==0&&ce!==0)return ce&-ce;if(it.T!==null){var i=eu;return i!==0?i:Tg()}return Zs()}function lb(){us===0&&(us=(ce&536870912)===0||Gt?Bo():536870912);var i=ls.current;return i!==null&&(i.flags|=32),us}function Hi(i,r,l){(i===Ne&&(Te===2||Te===9)||i.cancelPendingCommit!==null)&&(pu(i,0),eo(i,ce,us,!1)),Zi(i,l),((ve&2)===0||i!==Ne)&&(i===Ne&&((ve&2)===0&&(gl|=l),Ye===4&&eo(i,ce,us,!1)),ur(i))}function ub(i,r,l){if((ve&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||Si(i,r),g=h?OI(i,r):gg(i,r,!0),v=h;do{if(g===0){hu&&!h&&eo(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!DI(l)){g=gg(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var M=i;g=Oc;var H=M.current.memoizedState.isDehydrated;if(H&&(pu(M,C).flags|=256),C=gg(M,C,!1),C!==2){if(og&&!H){M.errorRecoveryDisabledLanes|=v,gl|=v,g=4;break t}v=di,di=g,v!==null&&(di===null?di=v:di.push.apply(di,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){pu(i,0),eo(i,r,0,!0);break}t:{switch(h=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:eo(h,r,us,!Xa);break t;case 2:di=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=cg+300-jn(),10<g)){if(eo(h,r,us,!Xa),ga(h,0,!0)!==0)break t;h.timeoutHandle=jb(cb.bind(null,h,l,di,Zf,ug,r,us,gl,fu,Xa,v,2,-0,0),g);break t}cb(h,l,di,Zf,ug,r,us,gl,fu,Xa,v,0,-0,0)}}break}while(!0);ur(i)}function cb(i,r,l,h,g,v,C,M,H,et,ut,pt,nt,st){if(i.timeoutHandle=-1,pt=r.subtreeFlags,(pt&8192||(pt&16785408)===16785408)&&(Hc={stylesheets:null,count:0,unsuspend:mP},ib(r),pt=gP(),pt!==null)){i.cancelPendingCommit=pt(yb.bind(null,i,r,v,l,h,g,C,M,H,ut,1,nt,st)),eo(i,v,C,!et);return}yb(i,r,v,l,h,g,C,M,H)}function DI(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!ti(v(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function eo(i,r,l,h){r&=~lg,r&=~gl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var v=31-_n(g),C=1<<v;h[v]=-1,g&=~C}l!==0&&Yi(i,l,r)}function Yf(){return(ve&6)===0?(Vc(0),!1):!0}function mg(){if(ee!==null){if(Te===0)var i=ee.return;else i=ee,Ns=os=null,Mp(i),ou=null,Rc=0,i=ee;for(;i!==null;)HT(i.alternate,i),i=i.return;ee=null}}function pu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,XI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),mg(),Ne=i,ee=l=as(i.current,null),ce=r,Te=0,Bi=null,Xa=!1,hu=Si(i,r),og=!1,fu=us=lg=gl=Qa=Ye=0,di=Oc=null,ug=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-_n(h),v=1<<g;r|=i[g],h&=~v}return Qr=r,sl(),l}function hb(i,r){Qt=null,it.H=Of,r===_c||r===Sf?(r=C0(),Te=3):r===S0?(r=C0(),Te=4):Te=r===IT?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bi=r,ee===null&&(Ye=1,Uf(i,ni(r,i.current)))}function fb(){var i=it.H;return it.H=Of,i===null?Of:i}function db(){var i=it.A;return it.A=MI,i}function pg(){Ye=4,Xa||(ce&4194048)!==ce&&ls.current!==null||(hu=!0),(Qa&134217727)===0&&(gl&134217727)===0||Ne===null||eo(Ne,ce,us,!1)}function gg(i,r,l){var h=ve;ve|=2;var g=fb(),v=db();(Ne!==i||ce!==r)&&(Zf=null,pu(i,r)),r=!1;var C=Ye;t:do try{if(Te!==0&&ee!==null){var M=ee,H=Bi;switch(Te){case 8:mg(),C=6;break t;case 3:case 2:case 9:case 6:ls.current===null&&(r=!0);var et=Te;if(Te=0,Bi=null,gu(i,M,H,et),l&&hu){C=0;break t}break;default:et=Te,Te=0,Bi=null,gu(i,M,H,et)}}NI(),C=Ye;break}catch(ut){hb(i,ut)}while(!0);return r&&i.shellSuspendCounter++,Ns=os=null,ve=h,it.H=g,it.A=v,ee===null&&(Ne=null,ce=0,sl()),C}function NI(){for(;ee!==null;)mb(ee)}function OI(i,r){var l=ve;ve|=2;var h=fb(),g=db();Ne!==i||ce!==r?(Zf=null,Wf=jn()+500,pu(i,r)):hu=Si(i,r);t:do try{if(Te!==0&&ee!==null){r=ee;var v=Bi;e:switch(Te){case 1:Te=0,Bi=null,gu(i,r,v,1);break;case 2:case 9:if(A0(v)){Te=0,Bi=null,pb(r);break}r=function(){Te!==2&&Te!==9||Ne!==i||(Te=7),ur(i)},v.then(r,r);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:A0(v)?(Te=0,Bi=null,pb(r)):(Te=0,Bi=null,gu(i,r,v,7));break;case 5:var C=null;switch(ee.tag){case 26:C=ee.memoizedState;case 5:case 27:var M=ee;if(!C||$b(C)){Te=0,Bi=null;var H=M.sibling;if(H!==null)ee=H;else{var et=M.return;et!==null?(ee=et,Kf(et)):ee=null}break e}}Te=0,Bi=null,gu(i,r,v,5);break;case 6:Te=0,Bi=null,gu(i,r,v,6);break;case 8:mg(),Ye=6;break t;default:throw Error(s(462))}}kI();break}catch(ut){hb(i,ut)}while(!0);return Ns=os=null,it.H=h,it.A=g,ve=l,ee!==null?0:(Ne=null,ce=0,sl(),Ye)}function kI(){for(;ee!==null&&!ma();)mb(ee)}function mb(i){var r=BT(i.alternate,i,Qr);i.memoizedProps=i.pendingProps,r===null?Kf(i):ee=r}function pb(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=OT(l,r,r.pendingProps,r.type,void 0,ce);break;case 11:r=OT(l,r,r.pendingProps,r.type.render,r.ref,ce);break;case 5:Mp(r);default:HT(l,r),r=ee=mc(r,Qr),r=BT(l,r,Qr)}i.memoizedProps=i.pendingProps,r===null?Kf(i):ee=r}function gu(i,r,l,h){Ns=os=null,Mp(r),ou=null,Rc=0;var g=r.return;try{if(SI(i,g,r,l,ce)){Ye=1,Uf(i,ni(l,i.current)),ee=null;return}}catch(v){if(g!==null)throw ee=g,v;Ye=1,Uf(i,ni(l,i.current)),ee=null;return}r.flags&32768?(Gt||h===1?i=!0:hu||(ce&536870912)!==0?i=!1:(Xa=i=!0,(h===2||h===9||h===3||h===6)&&(h=ls.current,h!==null&&h.tag===13&&(h.flags|=16384))),gb(r,i)):Kf(r)}function Kf(i){var r=i;do{if((r.flags&32768)!==0){gb(r,Xa);return}i=r.return;var l=RI(r.alternate,r,Qr);if(l!==null){ee=l;return}if(r=r.sibling,r!==null){ee=r;return}ee=r=i}while(r!==null);Ye===0&&(Ye=5)}function gb(i,r){do{var l=CI(i.alternate,i);if(l!==null){l.flags&=32767,ee=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){ee=i;return}ee=i=l}while(i!==null);Ye=6,ee=null}function yb(i,r,l,h,g,v,C,M,H){i.cancelPendingCommit=null;do $f();while(Dn!==0);if((ve&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=ji,Fo(i,l,v,C,M,H),i===Ne&&(ee=Ne=null,ce=0),du=r,to=i,mu=l,hg=v,fg=g,ob=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,UI(Ts,function(){return Eb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=it.T,it.T=null,g=ft.p,ft.p=2,C=ve,ve|=4;try{II(i,r,l)}finally{ve=C,ft.p=g,it.T=h}}Dn=1,_b(),vb(),Tb()}}function _b(){if(Dn===1){Dn=0;var i=to,r=du,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=it.T,it.T=null;var h=ft.p;ft.p=2;var g=ve;ve|=4;try{tb(r,i);var v=Cg,C=el(i.containerInfo),M=v.focusedElem,H=v.selectionRange;if(C!==M&&M&&M.ownerDocument&&Zl(M.ownerDocument.documentElement,M)){if(H!==null&&nl(M)){var et=H.start,ut=H.end;if(ut===void 0&&(ut=et),"selectionStart"in M)M.selectionStart=et,M.selectionEnd=Math.min(ut,M.value.length);else{var pt=M.ownerDocument||document,nt=pt&&pt.defaultView||window;if(nt.getSelection){var st=nt.getSelection(),Ht=M.textContent.length,jt=Math.min(H.start,Ht),Ae=H.end===void 0?jt:Math.min(H.end,Ht);!st.extend&&jt>Ae&&(C=Ae,Ae=jt,jt=C);var X=fc(M,jt),K=fc(M,Ae);if(X&&K&&(st.rangeCount!==1||st.anchorNode!==X.node||st.anchorOffset!==X.offset||st.focusNode!==K.node||st.focusOffset!==K.offset)){var tt=pt.createRange();tt.setStart(X.node,X.offset),st.removeAllRanges(),jt>Ae?(st.addRange(tt),st.extend(K.node,K.offset)):(tt.setEnd(K.node,K.offset),st.addRange(tt))}}}}for(pt=[],st=M;st=st.parentNode;)st.nodeType===1&&pt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pt.length;M++){var dt=pt[M];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}ld=!!Rg,Cg=Rg=null}finally{ve=g,ft.p=h,it.T=l}}i.current=r,Dn=2}}function vb(){if(Dn===2){Dn=0;var i=to,r=du,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=it.T,it.T=null;var h=ft.p;ft.p=2;var g=ve;ve|=4;try{$T(i,r.alternate,r)}finally{ve=g,ft.p=h,it.T=l}}Dn=3}}function Tb(){if(Dn===4||Dn===3){Dn=0,ko();var i=to,r=du,l=mu,h=ob;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Dn=5:(Dn=0,du=to=null,bb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ja=null),_a(l),r=r.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Ie,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=it.T,g=ft.p,ft.p=2,it.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var M=h[C];v(M.value,{componentStack:M.stack})}}finally{it.T=r,ft.p=g}}(mu&3)!==0&&$f(),ur(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===dg?kc++:(kc=0,dg=i):kc=0,Vc(0)}}function bb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,gc(r)))}function $f(i){return _b(),vb(),Tb(),Eb()}function Eb(){if(Dn!==5)return!1;var i=to,r=hg;hg=0;var l=_a(mu),h=it.T,g=ft.p;try{ft.p=32>l?32:l,it.T=null,l=fg,fg=null;var v=to,C=mu;if(Dn=0,du=to=null,mu=0,(ve&6)!==0)throw Error(s(331));var M=ve;if(ve|=4,rb(v.current),nb(v,v.current,C,l),ve=M,Vc(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Ie,v)}catch{}return!0}finally{ft.p=g,it.T=h,bb(i,r)}}function wb(i,r,l){r=ni(l,r),r=Gp(i.stateNode,r,2),i=qa(i,r,2),i!==null&&(Zi(i,2),ur(i))}function Ce(i,r,l){if(i.tag===3)wb(i,i,l);else for(;r!==null;){if(r.tag===3){wb(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ja===null||!Ja.has(h))){i=ni(l,i),l=RT(2),h=qa(r,l,2),h!==null&&(CT(l,h,r,i),Zi(h,2),ur(h));break}}r=r.return}}function yg(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new LI;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(og=!0,g.add(l),i=VI.bind(null,i,r,l),r.then(i,i))}function VI(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ne===i&&(ce&l)===l&&(Ye===4||Ye===3&&(ce&62914560)===ce&&300>jn()-cg?(ve&2)===0&&pu(i,0):lg|=l,fu===ce&&(fu=0)),ur(i)}function xb(i,r){r===0&&(r=ya()),i=ja(i,r),i!==null&&(Zi(i,r),ur(i))}function jI(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),xb(i,l)}function zI(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),xb(i,l)}function UI(i,r){return vs(i,r)}var Xf=null,yu=null,_g=!1,Qf=!1,vg=!1,yl=0;function ur(i){i!==yu&&i.next===null&&(yu===null?Xf=yu=i:yu=yu.next=i),Qf=!0,_g||(_g=!0,FI())}function Vc(i,r){if(!vg&&Qf){vg=!0;do for(var l=!1,h=Xf;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var C=h.suspendedLanes,M=h.pingedLanes;v=(1<<31-_n(42|i)+1)-1,v&=g&~(C&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Cb(h,v))}else v=ce,v=ga(h,h===Ne?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Si(h,v)||(l=!0,Cb(h,v));h=h.next}while(l);vg=!1}}function BI(){Sb()}function Sb(){Qf=_g=!1;var i=0;yl!==0&&($I()&&(i=yl),yl=0);for(var r=jn(),l=null,h=Xf;h!==null;){var g=h.next,v=Ab(h,r);v===0?(h.next=null,l===null?Xf=g:l.next=g,g===null&&(yu=l)):(l=h,(i!==0||(v&3)!==0)&&(Qf=!0)),h=g}Vc(i)}function Ab(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-_n(v),M=1<<C,H=g[C];H===-1?((M&l)===0||(M&h)!==0)&&(g[C]=Uo(M,r)):H<=r&&(i.expiredLanes|=M),v&=~M}if(r=Ne,l=ce,l=ga(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Te===2||Te===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Rr(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Si(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Rr(h),_a(l)){case 2:case 8:l=Cr;break;case 32:l=Ts;break;case 268435456:l=Ir;break;default:l=Ts}return h=Rb.bind(null,i),l=vs(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Rr(h),i.callbackPriority=2,i.callbackNode=null,2}function Rb(i,r){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if($f()&&i.callbackNode!==l)return null;var h=ce;return h=ga(i,i===Ne?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(ub(i,h,r),Ab(i,jn()),i.callbackNode!=null&&i.callbackNode===l?Rb.bind(null,i):null)}function Cb(i,r){if($f())return null;ub(i,r,!0)}function FI(){QI(function(){(ve&6)!==0?vs(Vo,BI):Sb()})}function Tg(){return yl===0&&(yl=Bo()),yl}function Ib(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Js(""+i)}function Pb(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function HI(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var v=Ib((g[We]||null).action),C=h.submitter;C&&(r=(r=C[We]||null)?Ib(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var M=new kr("action","action",null,h,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(yl!==0){var H=C?Pb(g,C):new FormData(g);Up(l,{pending:!0,data:H,method:g.method,action:v},null,H)}}else typeof v=="function"&&(M.preventDefault(),H=C?Pb(g,C):new FormData(g),Up(l,{pending:!0,data:H,method:g.method,action:v},v,H))},currentTarget:g}]})}}for(var bg=0;bg<Br.length;bg++){var Eg=Br[bg],qI=Eg.toLowerCase(),GI=Eg[0].toUpperCase()+Eg.slice(1);Vi(qI,"on"+GI)}Vi(gf,"onAnimationEnd"),Vi(ki,"onAnimationIteration"),Vi(il,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(pp,"onTransitionRun"),Vi(Xl,"onTransitionStart"),Vi(gp,"onTransitionCancel"),Vi(dc,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function Mb(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var C=h.length-1;0<=C;C--){var M=h[C],H=M.instance,et=M.currentTarget;if(M=M.listener,H!==v&&g.isPropagationStopped())break t;v=M,g.currentTarget=et;try{v(g)}catch(ut){zf(ut)}g.currentTarget=null,v=H}else for(C=0;C<h.length;C++){if(M=h[C],H=M.instance,et=M.currentTarget,M=M.listener,H!==v&&g.isPropagationStopped())break t;v=M,g.currentTarget=et;try{v(g)}catch(ut){zf(ut)}g.currentTarget=null,v=H}}}}function ne(i,r){var l=r[Un];l===void 0&&(l=r[Un]=new Set);var h=i+"__bubble";l.has(h)||(Lb(r,i,2,!1),l.add(h))}function wg(i,r,l){var h=0;r&&(h|=4),Lb(l,i,h,r)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function xg(i){if(!i[Jf]){i[Jf]=!0,Go.forEach(function(l){l!=="selectionchange"&&(WI.has(l)||wg(l,!1,i),wg(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Jf]||(r[Jf]=!0,wg("selectionchange",!1,r))}}function Lb(i,r,l,h){switch(nE(r)){case 2:var g=vP;break;case 8:g=TP;break;default:g=jg}l=g.bind(null,r,l,i),g=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Sg(i,r,l,h,g){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var M=h.stateNode.containerInfo;if(M===g)break;if(C===4)for(C=h.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;M!==null;){if(C=Ai(M),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){h=v=C;continue t}M=M.parentNode}}h=h.return}Jn(function(){var et=v,ut=Mn(l),pt=[];t:{var nt=yf.get(i);if(nt!==void 0){var st=kr,Ht=i;switch(i){case"keypress":if(we(l)===0)break t;case"keydown":case"keyup":st=Ia;break;case"focusin":Ht="focus",st=xa;break;case"focusout":Ht="blur",st=xa;break;case"beforeblur":case"afterblur":st=xa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Hl;break;case gf:case ki:case il:st=Aa;break;case dc:st=ql;break;case"scroll":case"scrollend":st=Bl;break;case"wheel":st=zr;break;case"copy":case"cut":case"paste":st=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Pa;break;case"toggle":case"beforetoggle":st=ns}var jt=(r&4)!==0,Ae=!jt&&(i==="scroll"||i==="scrollend"),X=jt?nt!==null?nt+"Capture":null:nt;jt=[];for(var K=et,tt;K!==null;){var dt=K;if(tt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||tt===null||X===null||(dt=ue(K,X),dt!=null&&jt.push(zc(K,dt,tt))),Ae)break;K=K.return}0<jt.length&&(nt=new st(nt,Ht,null,l,ut),pt.push({event:nt,listeners:jt}))}}if((r&7)===0){t:{if(nt=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",nt&&l!==Mi&&(Ht=l.relatedTarget||l.fromElement)&&(Ai(Ht)||Ht[oi]))break t;if((st||nt)&&(nt=ut.window===ut?ut:(nt=ut.ownerDocument)?nt.defaultView||nt.parentWindow:window,st?(Ht=l.relatedTarget||l.toElement,st=et,Ht=Ht?Ai(Ht):null,Ht!==null&&(Ae=u(Ht),jt=Ht.tag,Ht!==Ae||jt!==5&&jt!==27&&jt!==6)&&(Ht=null)):(st=null,Ht=et),st!==Ht)){if(jt=En,dt="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(jt=Pa,dt="onPointerLeave",X="onPointerEnter",K="pointer"),Ae=st==null?nt:In(st),tt=Ht==null?nt:In(Ht),nt=new jt(dt,K+"leave",st,l,ut),nt.target=Ae,nt.relatedTarget=tt,dt=null,Ai(ut)===et&&(jt=new jt(X,K+"enter",Ht,l,ut),jt.target=tt,jt.relatedTarget=Ae,dt=jt),Ae=dt,st&&Ht)e:{for(jt=st,X=Ht,K=0,tt=jt;tt;tt=_u(tt))K++;for(tt=0,dt=X;dt;dt=_u(dt))tt++;for(;0<K-tt;)jt=_u(jt),K--;for(;0<tt-K;)X=_u(X),tt--;for(;K--;){if(jt===X||X!==null&&jt===X.alternate)break e;jt=_u(jt),X=_u(X)}jt=null}else jt=null;st!==null&&Db(pt,nt,st,jt,!1),Ht!==null&&Ae!==null&&Db(pt,Ae,Ht,jt,!0)}}t:{if(nt=et?In(et):window,st=nt.nodeName&&nt.nodeName.toLowerCase(),st==="select"||st==="input"&&nt.type==="file")var Mt=La;else if(Le(nt))if(uc)Mt=mp;else{Mt=dp;var te=hc}else st=nt.nodeName,!st||st.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?et&&Or(et.elementType)&&(Mt=La):Mt=Ds;if(Mt&&(Mt=Mt(i,et))){Ms(pt,Mt,l,ut);break t}te&&te(i,nt,et),i==="focusout"&&et&&nt.type==="number"&&et.memoizedProps.value!=null&&Ii(nt,"number",nt.value)}switch(te=et?In(et):window,i){case"focusin":(Le(te)||te.contentEditable==="true")&&(Oi=te,Oa=et,Ur=null);break;case"focusout":Ur=Oa=Oi=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,mf(pt,l,ut);break;case"selectionchange":if(Yl)break;case"keydown":case"keyup":mf(pt,l,ut)}var Nt;if(qn)t:{switch(i){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else ie?ot(i,l)&&(zt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(zt="onCompositionStart");zt&&(R&&l.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(Nt=Rs()):(ui=ut,Fn="value"in ui?ui.value:ui.textContent,ie=!0)),te=td(et,zt),0<te.length&&(zt=new Hn(zt,i,null,l,ut),pt.push({event:zt,listeners:te}),Nt?zt.data=Nt:(Nt=Et(l),Nt!==null&&(zt.data=Nt)))),(Nt=w?Ze(i,l):se(i,l))&&(zt=td(et,"onBeforeInput"),0<zt.length&&(te=new Hn("onBeforeInput","beforeinput",null,l,ut),pt.push({event:te,listeners:zt}),te.data=Nt)),HI(pt,i,et,l,ut)}Mb(pt,r)})}function zc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function td(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ue(i,l),g!=null&&h.unshift(zc(i,g,v)),g=ue(i,r),g!=null&&h.push(zc(i,g,v))),i.tag===3)return h;i=i.return}return[]}function _u(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Db(i,r,l,h,g){for(var v=r._reactName,C=[];l!==null&&l!==h;){var M=l,H=M.alternate,et=M.stateNode;if(M=M.tag,H!==null&&H===h)break;M!==5&&M!==26&&M!==27||et===null||(H=et,g?(et=ue(l,v),et!=null&&C.unshift(zc(l,et,H))):g||(et=ue(l,v),et!=null&&C.push(zc(l,et,H)))),l=l.return}C.length!==0&&i.push({event:r,listeners:C})}var ZI=/\r\n?/g,YI=/\u0000|\uFFFD/g;function Nb(i){return(typeof i=="string"?i:""+i).replace(ZI,`
`).replace(YI,"")}function Ob(i,r){return r=Nb(r),Nb(i)===r}function ed(){}function Se(i,r,l,h,g,v){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Tn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Tn(i,""+h);break;case"className":$i(i,"class",h);break;case"tabIndex":$i(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(i,l,h);break;case"style":Ss(i,h,v);break;case"data":if(r!=="object"){$i(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Js(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Se(i,r,"name",g.name,g,null),Se(i,r,"formEncType",g.formEncType,g,null),Se(i,r,"formMethod",g.formMethod,g,null),Se(i,r,"formTarget",g.formTarget,g,null)):(Se(i,r,"encType",g.encType,g,null),Se(i,r,"method",g.method,g,null),Se(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Js(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=ed);break;case"onScroll":h!=null&&ne("scroll",i);break;case"onScrollEnd":h!=null&&ne("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Js(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ne("beforetoggle",i),ne("toggle",i),Ks(i,"popover",h);break;case"xlinkActuate":dn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":dn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":dn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":dn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":dn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":dn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":dn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":dn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":dn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ks(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zo.get(l)||l,Ks(i,l,h))}}function Ag(i,r,l,h,g,v){switch(l){case"style":Ss(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Tn(i,h):(typeof h=="number"||typeof h=="bigint")&&Tn(i,""+h);break;case"onScroll":h!=null&&ne("scroll",i);break;case"onScrollEnd":h!=null&&ne("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),v=i[We]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Ks(i,l,h)}}}function Nn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",i),ne("load",i);var h=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Se(i,r,v,C,l,null)}}g&&Se(i,r,"srcSet",l.srcSet,l,null),h&&Se(i,r,"src",l.src,l,null);return;case"input":ne("invalid",i);var M=v=C=g=null,H=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ut=l[h];if(ut!=null)switch(h){case"name":g=ut;break;case"type":C=ut;break;case"checked":H=ut;break;case"defaultChecked":et=ut;break;case"value":v=ut;break;case"defaultValue":M=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(s(137,r));break;default:Se(i,r,h,ut,l,null)}}Nr(i,v,M,H,et,C,g,!1),Qs(i);return;case"select":ne("invalid",i),h=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(M=l[g],M!=null))switch(g){case"value":v=M;break;case"defaultValue":C=M;break;case"multiple":h=M;default:Se(i,r,g,M,l,null)}r=v,l=C,i.multiple=!!h,r!=null?Pn(i,!!h,r,!1):l!=null&&Pn(i,!!h,l,!0);return;case"textarea":ne("invalid",i),v=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(M=l[C],M!=null))switch(C){case"value":h=M;break;case"defaultValue":g=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Se(i,r,C,M,l,null)}Qn(i,h,g,v),Qs(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(h=l[H],h!=null))switch(H){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Se(i,r,H,h,l,null)}return;case"dialog":ne("beforetoggle",i),ne("toggle",i),ne("cancel",i),ne("close",i);break;case"iframe":case"object":ne("load",i);break;case"video":case"audio":for(h=0;h<jc.length;h++)ne(jc[h],i);break;case"image":ne("error",i),ne("load",i);break;case"details":ne("toggle",i);break;case"embed":case"source":case"link":ne("error",i),ne("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Se(i,r,et,h,l,null)}return;default:if(Or(r)){for(ut in l)l.hasOwnProperty(ut)&&(h=l[ut],h!==void 0&&Ag(i,r,ut,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Se(i,r,M,h,l,null))}function KI(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,M=null,H=null,et=null,ut=null;for(st in l){var pt=l[st];if(l.hasOwnProperty(st)&&pt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":H=pt;default:h.hasOwnProperty(st)||Se(i,r,st,null,h,pt)}}for(var nt in h){var st=h[nt];if(pt=l[nt],h.hasOwnProperty(nt)&&(st!=null||pt!=null))switch(nt){case"type":v=st;break;case"name":g=st;break;case"checked":et=st;break;case"defaultChecked":ut=st;break;case"value":C=st;break;case"defaultValue":M=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,r));break;default:st!==pt&&Se(i,r,nt,st,h,pt)}}Me(i,C,M,H,et,ut,v,g);return;case"select":st=C=M=nt=null;for(v in l)if(H=l[v],l.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":st=H;default:h.hasOwnProperty(v)||Se(i,r,v,null,h,H)}for(g in h)if(v=h[g],H=l[g],h.hasOwnProperty(g)&&(v!=null||H!=null))switch(g){case"value":nt=v;break;case"defaultValue":M=v;break;case"multiple":C=v;default:v!==H&&Se(i,r,g,v,h,H)}r=M,l=C,h=st,nt!=null?Pn(i,!!l,nt,!1):!!h!=!!l&&(r!=null?Pn(i,!!l,r,!0):Pn(i,!!l,l?[]:"",!1));return;case"textarea":st=nt=null;for(M in l)if(g=l[M],l.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Se(i,r,M,null,h,g)}for(C in h)if(g=h[C],v=l[C],h.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":nt=g;break;case"defaultValue":st=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&Se(i,r,C,g,h,v)}Ut(i,nt,st);return;case"option":for(var Ht in l)if(nt=l[Ht],l.hasOwnProperty(Ht)&&nt!=null&&!h.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:Se(i,r,Ht,null,h,nt)}for(H in h)if(nt=h[H],st=l[H],h.hasOwnProperty(H)&&nt!==st&&(nt!=null||st!=null))switch(H){case"selected":i.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:Se(i,r,H,nt,h,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in l)nt=l[jt],l.hasOwnProperty(jt)&&nt!=null&&!h.hasOwnProperty(jt)&&Se(i,r,jt,null,h,nt);for(et in h)if(nt=h[et],st=l[et],h.hasOwnProperty(et)&&nt!==st&&(nt!=null||st!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,r));break;default:Se(i,r,et,nt,h,st)}return;default:if(Or(r)){for(var Ae in l)nt=l[Ae],l.hasOwnProperty(Ae)&&nt!==void 0&&!h.hasOwnProperty(Ae)&&Ag(i,r,Ae,void 0,h,nt);for(ut in h)nt=h[ut],st=l[ut],!h.hasOwnProperty(ut)||nt===st||nt===void 0&&st===void 0||Ag(i,r,ut,nt,h,st);return}}for(var X in l)nt=l[X],l.hasOwnProperty(X)&&nt!=null&&!h.hasOwnProperty(X)&&Se(i,r,X,null,h,nt);for(pt in h)nt=h[pt],st=l[pt],!h.hasOwnProperty(pt)||nt===st||nt==null&&st==null||Se(i,r,pt,nt,h,st)}var Rg=null,Cg=null;function nd(i){return i.nodeType===9?i:i.ownerDocument}function kb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ig(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pg=null;function $I(){var i=window.event;return i&&i.type==="popstate"?i===Pg?!1:(Pg=i,!0):(Pg=null,!1)}var jb=typeof setTimeout=="function"?setTimeout:void 0,XI=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(i){return zb.resolve(null).then(i).catch(JI)}:jb;function JI(i){setTimeout(function(){throw i})}function no(i){return i==="head"}function Ub(i,r){var l=r,h=0,g=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&Uc(C.documentElement),l&2&&Uc(C.body),l&4)for(l=C.head,Uc(l),C=l.firstChild;C;){var M=C.nextSibling,H=C.nodeName;C[Ys]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=M}}if(g===0){i.removeChild(v),Yc(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=v}while(l);Yc(r)}function Mg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mg(l),ws(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function tP(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Ys])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Vs(i.nextSibling),i===null)break}return null}function eP(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vs(i.nextSibling),i===null))return null;return i}function Lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function nP(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Vs(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Dg=null;function Bb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function Fb(i,r,l){switch(r=nd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Uc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ws(i)}var cs=new Map,Hb=new Set;function id(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Jr=ft.d;ft.d={f:iP,r:sP,D:rP,C:aP,L:oP,m:lP,X:cP,S:uP,M:hP};function iP(){var i=Jr.f(),r=Yf();return i||r}function sP(i){var r=Ri(i);r!==null&&r.tag===5&&r.type==="form"?uT(r):Jr.r(i)}var vu=typeof document>"u"?null:document;function qb(i,r,l){var h=vu;if(h&&typeof r=="string"&&r){var g=ke(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Hb.has(g)||(Hb.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Nn(r,"link",i),Be(r),h.head.appendChild(r)))}}function rP(i){Jr.D(i),qb("dns-prefetch",i,null)}function aP(i,r){Jr.C(i,r),qb("preconnect",i,r)}function oP(i,r,l){Jr.L(i,r,l);var h=vu;if(h&&i&&r){var g='link[rel="preload"][as="'+ke(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ke(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ke(l.imageSizes)+'"]')):g+='[href="'+ke(i)+'"]';var v=g;switch(r){case"style":v=Tu(i);break;case"script":v=bu(i)}cs.has(v)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),cs.set(v,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Bc(v))||r==="script"&&h.querySelector(Fc(v))||(r=h.createElement("link"),Nn(r,"link",i),Be(r),h.head.appendChild(r)))}}function lP(i,r){Jr.m(i,r);var l=vu;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+ke(h)+'"][href="'+ke(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=bu(i)}if(!cs.has(v)&&(i=E({rel:"modulepreload",href:i},r),cs.set(v,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fc(v)))return}h=l.createElement("link"),Nn(h,"link",i),Be(h),l.head.appendChild(h)}}}function uP(i,r,l){Jr.S(i,r,l);var h=vu;if(h&&i){var g=vn(h).hoistableStyles,v=Tu(i);r=r||"default";var C=g.get(v);if(!C){var M={loading:0,preload:null};if(C=h.querySelector(Bc(v)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=cs.get(v))&&Ng(i,l);var H=C=h.createElement("link");Be(H),Nn(H,"link",i),H._p=new Promise(function(et,ut){H.onload=et,H.onerror=ut}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,sd(C,r,h)}C={type:"stylesheet",instance:C,count:1,state:M},g.set(v,C)}}}function cP(i,r){Jr.X(i,r);var l=vu;if(l&&i){var h=vn(l).hoistableScripts,g=bu(i),v=h.get(g);v||(v=l.querySelector(Fc(g)),v||(i=E({src:i,async:!0},r),(r=cs.get(g))&&Og(i,r),v=l.createElement("script"),Be(v),Nn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function hP(i,r){Jr.M(i,r);var l=vu;if(l&&i){var h=vn(l).hoistableScripts,g=bu(i),v=h.get(g);v||(v=l.querySelector(Fc(g)),v||(i=E({src:i,async:!0,type:"module"},r),(r=cs.get(g))&&Og(i,r),v=l.createElement("script"),Be(v),Nn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function Gb(i,r,l,h){var g=(g=wt.current)?id(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Tu(l.href),l=vn(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Tu(l.href);var v=vn(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(Bc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),cs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cs.set(i,l),v||fP(g,i,l,C.state))),r&&h===null)throw Error(s(528,""));return C}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bu(l),l=vn(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Tu(i){return'href="'+ke(i)+'"'}function Bc(i){return'link[rel="stylesheet"]['+i+"]"}function Wb(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function fP(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Nn(r,"link",l),Be(r),i.head.appendChild(r))}function bu(i){return'[src="'+ke(i)+'"]'}function Fc(i){return"script[async]"+i}function Zb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+ke(l.href)+'"]');if(h)return r.instance=h,Be(h),h;var g=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Be(h),Nn(h,"style",g),sd(h,l.precedence,i),r.instance=h;case"stylesheet":g=Tu(l.href);var v=i.querySelector(Bc(g));if(v)return r.state.loading|=4,r.instance=v,Be(v),v;h=Wb(l),(g=cs.get(g))&&Ng(h,g),v=(i.ownerDocument||i).createElement("link"),Be(v);var C=v;return C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),Nn(v,"link",h),r.state.loading|=4,sd(v,l.precedence,i),r.instance=v;case"script":return v=bu(l.src),(g=i.querySelector(Fc(v)))?(r.instance=g,Be(g),g):(h=l,(g=cs.get(v))&&(h=E({},l),Og(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Be(g),Nn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,sd(h,l.precedence,i));return r.instance}function sd(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,C=0;C<h.length;C++){var M=h[C];if(M.dataset.precedence===r)v=M;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Og(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var rd=null;function Yb(i,r,l){if(rd===null){var h=new Map,g=rd=new Map;g.set(l,h)}else g=rd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[Ys]||v[Qe]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var M=h.get(C);M?M.push(v):h.set(C,[v])}}return h}function Kb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function dP(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $b(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Hc=null;function mP(){}function pP(i,r,l){if(Hc===null)throw Error(s(475));var h=Hc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Tu(l.href),v=i.querySelector(Bc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=ad.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=v,Be(v);return}v=i.ownerDocument||i,l=Wb(l),(g=cs.get(g))&&Ng(l,g),v=v.createElement("link"),Be(v);var C=v;C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),Nn(v,"link",l),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=ad.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function gP(){if(Hc===null)throw Error(s(475));var i=Hc;return i.stylesheets&&i.count===0&&kg(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&kg(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)kg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var od=null;function kg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,od=new Map,r.forEach(yP,i),od=null,ad.call(i))}function yP(i,r){if(!(r.state.loading&4)){var l=od.get(i);if(l)var h=l.get(null);else{l=new Map,od.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=r.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||h,v===h&&l.set(null,g),l.set(C,g),this.count++,h=ad.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var qc={$$typeof:$,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function _P(i,r,l,h,g,v,C,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Xb(i,r,l,h,g,v,C,M,H,et,ut,pt){return i=new _P(i,r,l,C,M,H,et,pt),r=1,v===!0&&(r|=24),v=si(3,null,null,r),i.current=v,v.stateNode=i,r=yp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:r},bp(v),i}function Qb(i){return i?(i=qr,i):qr}function Jb(i,r,l,h,g,v){g=Qb(g),h.context===null?h.context=g:h.pendingContext=g,h=Ha(r),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=qa(i,h,r),l!==null&&(Hi(l,i,r),Tc(l,i,r))}function tE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Vg(i,r){tE(i,r),(i=i.alternate)&&tE(i,r)}function eE(i){if(i.tag===13){var r=ja(i,67108864);r!==null&&Hi(r,i,67108864),Vg(i,67108864)}}var ld=!0;function vP(i,r,l,h){var g=it.T;it.T=null;var v=ft.p;try{ft.p=2,jg(i,r,l,h)}finally{ft.p=v,it.T=g}}function TP(i,r,l,h){var g=it.T;it.T=null;var v=ft.p;try{ft.p=8,jg(i,r,l,h)}finally{ft.p=v,it.T=g}}function jg(i,r,l,h){if(ld){var g=zg(h);if(g===null)Sg(i,r,h,ud,l),iE(i,h);else if(EP(g,i,r,l,h))h.stopPropagation();else if(iE(i,h),r&4&&-1<bP.indexOf(i)){for(;g!==null;){var v=Ri(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=ai(v.pendingLanes);if(C!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var H=1<<31-_n(C);M.entanglements[1]|=H,C&=~H}ur(v),(ve&6)===0&&(Wf=jn()+500,Vc(0))}}break;case 13:M=ja(v,2),M!==null&&Hi(M,v,2),Yf(),Vg(v,2)}if(v=zg(h),v===null&&Sg(i,r,h,ud,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Sg(i,r,h,null,l)}}function zg(i){return i=Mn(i),Ug(i)}var ud=null;function Ug(i){if(ud=null,i=Ai(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ud=i,null}function nE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pa()){case Vo:return 2;case Cr:return 8;case Ts:case kl:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var Bg=!1,io=null,so=null,ro=null,Gc=new Map,Wc=new Map,ao=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(i,r){switch(i){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Gc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(r.pointerId)}}function Zc(i,r,l,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},r!==null&&(r=Ri(r),r!==null&&eE(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function EP(i,r,l,h,g){switch(r){case"focusin":return io=Zc(io,i,r,l,h,g),!0;case"dragenter":return so=Zc(so,i,r,l,h,g),!0;case"mouseover":return ro=Zc(ro,i,r,l,h,g),!0;case"pointerover":var v=g.pointerId;return Gc.set(v,Zc(Gc.get(v)||null,i,r,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Wc.set(v,Zc(Wc.get(v)||null,i,r,l,h,g)),!0}return!1}function sE(i){var r=Ai(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,va(i.priority,function(){if(l.tag===13){var h=Fi();h=Ws(h);var g=ja(l,h);g!==null&&Hi(g,l,h),Vg(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=zg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Mi=h,l.target.dispatchEvent(h),Mi=null}else return r=Ri(l),r!==null&&eE(r),i.blockedOn=l,!1;r.shift()}return!0}function rE(i,r,l){cd(i)&&l.delete(r)}function wP(){Bg=!1,io!==null&&cd(io)&&(io=null),so!==null&&cd(so)&&(so=null),ro!==null&&cd(ro)&&(ro=null),Gc.forEach(rE),Wc.forEach(rE)}function hd(i,r){i.blockedOn===r&&(i.blockedOn=null,Bg||(Bg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wP)))}var fd=null;function aE(i){fd!==i&&(fd=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fd===i&&(fd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(Ug(h||l)===null)continue;break}var v=Ri(l);v!==null&&(i.splice(r,3),r-=3,Up(v,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Yc(i){function r(H){return hd(H,i)}io!==null&&hd(io,i),so!==null&&hd(so,i),ro!==null&&hd(ro,i),Gc.forEach(r),Wc.forEach(r);for(var l=0;l<ao.length;l++){var h=ao[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ao.length&&(l=ao[0],l.blockedOn===null);)sE(l),l.blockedOn===null&&ao.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],v=l[h+1],C=g[We]||null;if(typeof v=="function")C||aE(l);else if(C){var M=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[We]||null)M=C.formAction;else if(Ug(g)!==null)continue}else M=C.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),aE(l)}}}function Fg(i){this._internalRoot=i}dd.prototype.render=Fg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=Fi();Jb(l,h,i,r,null,null)},dd.prototype.unmount=Fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Jb(i.current,2,null,i,null,null),Yf(),r[oi]=null}};function dd(i){this._internalRoot=i}dd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Zs();i={blockedOn:null,target:i,priority:r};for(var l=0;l<ao.length&&r!==0&&r<ao[l].priority;l++);ao.splice(l,0,i),l===0&&sE(i)}};var oE=t.version;if(oE!=="19.1.0")throw Error(s(527,oE,"19.1.0"));ft.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var xP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Ie=md.inject(xP),fe=md}catch{}}return $c.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=wT,v=xT,C=ST,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks)),r=Xb(i,1,!1,null,null,l,h,g,v,C,M,null),i[oi]=r.current,xg(i),new Fg(r)},$c.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",v=wT,C=xT,M=ST,H=null,et=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(et=l.formState)),r=Xb(i,1,!0,r,l??null,h,g,v,C,M,H,et),r.context=Qb(null),l=r.current,h=Fi(),h=Ws(h),g=Ha(h),g.callback=null,qa(l,g,h),l=h,r.current.lanes=l,Zi(r,l),ur(r),i[oi]=r.current,xg(i),new dd(r)},$c.version="19.1.0",$c}var yE;function DP(){if(yE)return Gg.exports;yE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gg.exports=LP(),Gg.exports}var NP=DP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _E="popstate";function OP(e={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Ay("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:xh(o)}return VP(t,n,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kP(){return Math.random().toString(36).substring(2,10)}function vE(e,t){return{usr:e.state,key:e.key,idx:t}}function Ay(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zu(t):t,state:n,key:t&&t.key||s||kP()}}function xh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function VP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,_=E();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=E(),Y=q==null?null:q-_;_=q,y&&y({action:m,location:B.location,delta:Y})}function S(q,Y){m="PUSH";let at=Ay(B.location,q,Y);_=E()+1;let $=vE(at,_),gt=B.createHref(at);try{f.pushState($,"",gt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(gt)}u&&y&&y({action:m,location:B.location,delta:1})}function N(q,Y){m="REPLACE";let at=Ay(B.location,q,Y);_=E();let $=vE(at,_),gt=B.createHref(at);f.replaceState($,"",gt),u&&y&&y({action:m,location:B.location,delta:0})}function D(q){return jP(q)}let B={get action(){return m},get location(){return e(o,f)},listen(q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(_E,A),y=q,()=>{o.removeEventListener(_E,A),y=null}},createHref(q){return t(o,q)},createURL:D,encodeLocation(q){let Y=D(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:N,go(q){return f.go(q)}};return B}function jP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:xh(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function LS(e,t,n="/"){return zP(e,t,n,!1)}function zP(e,t,n,s){let o=typeof t=="string"?Zu(t):t,u=aa(o.pathname||"/",n);if(u==null)return null;let f=DS(e);UP(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=XP(u);m=KP(f[y],_,s)}return m}function DS(e,t=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(Ue(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=ia([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(Ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),DS(u.children,t,E,_)),!(u.path==null&&!u.index)&&t.push({path:_,score:ZP(_,u.index),routesMeta:E})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of NS(u.path))o(u,f,m)}),t}function NS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=NS(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function UP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BP=/^:[\w-]+$/,FP=3,HP=2,qP=1,GP=10,WP=-2,TE=e=>e==="*";function ZP(e,t){let n=e.split("/"),s=n.length;return n.some(TE)&&(s+=WP),t&&(s+=HP),n.filter(o=>!TE(o)).reduce((o,u)=>o+(BP.test(u)?FP:u===""?qP:GP),s)}function YP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function KP(e,t,n=!1){let{routesMeta:s}=e,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Qd({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},E),S=y.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=Qd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ia([u,A.pathname]),pathnameBase:e2(ia([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=ia([u,A.pathnameBase]))}return f}function Qd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=$P(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:A},S)=>{if(E==="*"){let D=m[S]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const N=m[S];return A&&!N?_[E]=void 0:_[E]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:e}}function $P(e,t=!1,n=!0){gs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function XP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function aa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function QP(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Zu(e):e;return{pathname:n?n.startsWith("/")?n:JP(n,t):t,search:n2(s),hash:i2(o)}}function JP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function A_(e){let t=t2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function R_(e,t,n,s=!1){let o;typeof e=="string"?o=Zu(e):(o={...e},Ue(!o.pathname||!o.pathname.includes("?"),Kg("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),Kg("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),Kg("#","search","hash",o)));let u=e===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?t[A]:"/"}let y=QP(o,m),_=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||E)&&(y.pathname+="/"),y}var ia=e=>e.join("/").replace(/\/\/+/g,"/"),e2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,i2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var OS=["POST","PUT","PATCH","DELETE"];new Set(OS);var r2=["GET",...OS];new Set(r2);var Yu=V.createContext(null);Yu.displayName="DataRouter";var Rm=V.createContext(null);Rm.displayName="DataRouterState";V.createContext(!1);var kS=V.createContext({isTransitioning:!1});kS.displayName="ViewTransition";var a2=V.createContext(new Map);a2.displayName="Fetchers";var o2=V.createContext(null);o2.displayName="Await";var qs=V.createContext(null);qs.displayName="Navigation";var qh=V.createContext(null);qh.displayName="Location";var xr=V.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var C_=V.createContext(null);C_.displayName="RouteError";function l2(e,{relative:t}={}){Ue(Ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(qs),{hash:o,pathname:u,search:f}=Gh(e,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ia([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ku(){return V.useContext(qh)!=null}function _s(){return Ue(Ku(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(qh).location}var VS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jS(e){V.useContext(qs).static||V.useLayoutEffect(e)}function Sr(){let{isDataRoute:e}=V.useContext(xr);return e?b2():u2()}function u2(){Ue(Ku(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Yu),{basename:t,navigator:n}=V.useContext(qs),{matches:s}=V.useContext(xr),{pathname:o}=_s(),u=JSON.stringify(A_(s)),f=V.useRef(!1);return jS(()=>{f.current=!0}),V.useCallback((y,_={})=>{if(gs(f.current,VS),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=R_(y,JSON.parse(u),o,_.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ia([t,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[t,n,u,o,e])}V.createContext(null);function Gh(e,{relative:t}={}){let{matches:n}=V.useContext(xr),{pathname:s}=_s(),o=JSON.stringify(A_(n));return V.useMemo(()=>R_(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function c2(e,t){return zS(e,t)}function zS(e,t,n,s){Ue(Ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(qs),{matches:u}=V.useContext(xr),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let Y=E&&E.path||"";US(y,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=_s(),S;if(t){let Y=typeof t=="string"?Zu(t):t;Ue(_==="/"||Y.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),S=Y}else S=A;let N=S.pathname||"/",D=N;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(Y.length).join("/")}let B=LS(e,{pathname:D});gs(E||B!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),gs(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=p2(B&&B.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:ia([_,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:ia([_,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,s);return t&&q?V.createElement(qh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},q):q}function h2(){let e=T2(),t=s2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:o},n):null,f)}var f2=V.createElement(h2,null),d2=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(xr.Provider,{value:this.props.routeContext},V.createElement(C_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:e,match:t,children:n}){let s=V.useContext(Yu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(xr.Provider,{value:e},n)}function p2(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Ue(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:A}=n,S=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,_,E)=>{let A,S=!1,N=null,D=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,N=_.route.errorElement||f2,f&&(m<0&&E===0?(US("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):m===E&&(S=!0,D=_.route.hydrateFallbackElement||null)));let B=t.concat(o.slice(0,E+1)),q=()=>{let Y;return A?Y=N:S?Y=D:_.route.Component?Y=V.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=y,V.createElement(m2,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?V.createElement(d2,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:q(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):q()},null)}function I_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(e){let t=V.useContext(Yu);return Ue(t,I_(e)),t}function y2(e){let t=V.useContext(Rm);return Ue(t,I_(e)),t}function _2(e){let t=V.useContext(xr);return Ue(t,I_(e)),t}function P_(e){let t=_2(e),n=t.matches[t.matches.length-1];return Ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function v2(){return P_("useRouteId")}function T2(){let e=V.useContext(C_),t=y2("useRouteError"),n=P_("useRouteError");return e!==void 0?e:t.errors?.[n]}function b2(){let{router:e}=g2("useNavigate"),t=P_("useNavigate"),n=V.useRef(!1);return jS(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{gs(n.current,VS),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var bE={};function US(e,t,n){!t&&!bE[e]&&(bE[e]=!0,gs(!1,n))}V.memo(E2);function E2({routes:e,future:t,state:n}){return zS(e,void 0,n,t)}function $g({to:e,replace:t,state:n,relative:s}){Ue(Ku(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(qs);gs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(xr),{pathname:f}=_s(),m=Sr(),y=R_(e,A_(u),f,s==="path"),_=JSON.stringify(y);return V.useEffect(()=>{m(JSON.parse(_),{replace:t,state:n,relative:s})},[m,_,s,t,n]),null}function fs(e){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Ue(!Ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Zu(n));let{pathname:y="/",search:_="",hash:E="",state:A=null,key:S="default"}=n,N=V.useMemo(()=>{let D=aa(y,f);return D==null?null:{location:{pathname:D,search:_,hash:E,state:A,key:S},navigationType:s}},[f,y,_,E,A,S,s]);return gs(N!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:V.createElement(qs.Provider,{value:m},V.createElement(qh.Provider,{children:t,value:N}))}function x2({children:e,location:t}){return c2(Ry(e),t)}function Ry(e,t=[]){let n=[];return V.Children.forEach(e,(s,o)=>{if(!V.isValidElement(s))return;let u=[...t,o];if(s.type===V.Fragment){n.push.apply(n,Ry(s.props.children,u));return}Ue(s.type===fs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ry(s.props.children,u)),n.push(f)}),n}var Ld="get",Dd="application/x-www-form-urlencoded";function Cm(e){return e!=null&&typeof e.tagName=="string"}function S2(e){return Cm(e)&&e.tagName.toLowerCase()==="button"}function A2(e){return Cm(e)&&e.tagName.toLowerCase()==="form"}function R2(e){return Cm(e)&&e.tagName.toLowerCase()==="input"}function C2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I2(e,t){return e.button===0&&(!t||t==="_self")&&!C2(e)}function Cy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function P2(e,t){let n=Cy(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var pd=null;function M2(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var L2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xg(e){return e!=null&&!L2.has(e)?(gs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):e}function D2(e,t){let n,s,o,u,f;if(A2(e)){let m=e.getAttribute("action");s=m?aa(m,t):null,n=e.getAttribute("method")||Ld,o=Xg(e.getAttribute("enctype"))||Dd,u=new FormData(e)}else if(S2(e)||R2(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(s=y?aa(y,t):null,n=e.getAttribute("formmethod")||m.getAttribute("method")||Ld,o=Xg(e.getAttribute("formenctype"))||Xg(m.getAttribute("enctype"))||Dd,u=new FormData(m,e),!M2()){let{name:_,type:E,value:A}=e;if(E==="image"){let S=_?`${_}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else _&&u.append(_,A)}}else{if(Cm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ld,s=null,o=Dd,f=e}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&aa(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function O2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function V2(e,t,n){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await O2(u,n);return f.links?f.links():[]}return[]}));return B2(s.flat(1).filter(k2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function EE(e,t,n,s,o,u){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,m=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,_)=>f(y,_)||m(y,_)):u==="data"?t.filter((y,_)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,_)||m(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function j2(e,t,{includeHydrateFallback:n}={}){return z2(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function z2(e){return[...new Set(e)]}function U2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function B2(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(U2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function BS(){let e=V.useContext(Yu);return M_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function F2(){let e=V.useContext(Rm);return M_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var L_=V.createContext(void 0);L_.displayName="FrameworkContext";function FS(){let e=V.useContext(L_);return M_(e,"You must render this element inside a <HydratedRouter> element"),e}function H2(e,t){let n=V.useContext(L_),[s,o]=V.useState(!1),[u,f]=V.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:_,onMouseLeave:E,onTouchStart:A}=t,S=V.useRef(null);V.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let B=Y=>{Y.forEach(at=>{f(at.isIntersecting)})},q=new IntersectionObserver(B,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[e]),V.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let N=()=>{o(!0)},D=()=>{o(!1),f(!1)};return n?e!=="intent"?[u,S,{}]:[u,S,{onFocus:Xc(m,N),onBlur:Xc(y,D),onMouseEnter:Xc(_,N),onMouseLeave:Xc(E,D),onTouchStart:Xc(A,N)}]:[!1,S,{}]}function Xc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function q2({page:e,...t}){let{router:n}=BS(),s=V.useMemo(()=>LS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(W2,{page:e,matches:s,...t}):null}function G2(e){let{manifest:t,routeModules:n}=FS(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return V2(e,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[e,t,n]),s}function W2({page:e,matches:t,...n}){let s=_s(),{manifest:o,routeModules:u}=FS(),{basename:f}=BS(),{loaderData:m,matches:y}=F2(),_=V.useMemo(()=>EE(e,t,y,o,s,"data"),[e,t,y,o,s]),E=V.useMemo(()=>EE(e,t,y,o,s,"assets"),[e,t,y,o,s]),A=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let D=new Set,B=!1;if(t.forEach(Y=>{let at=o.routes[Y.route.id];!at||!at.hasLoader||(!_.some($=>$.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||at.hasClientLoader?B=!0:D.add(Y.route.id))}),D.size===0)return[];let q=N2(e,f,"data");return B&&D.size>0&&q.searchParams.set("_routes",t.filter(Y=>D.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,t,e,u]),S=V.useMemo(()=>j2(E,o),[E,o]),N=G2(E);return V.createElement(V.Fragment,null,A.map(D=>V.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),S.map(D=>V.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),N.map(({key:D,link:B})=>V.createElement("link",{key:D,...B})))}function Z2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var HS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HS&&(window.__reactRouterVersion="7.7.0")}catch{}function Y2({basename:e,children:t,window:n}){let s=V.useRef();s.current==null&&(s.current=OP({window:n,v5Compat:!0}));let o=s.current,[u,f]=V.useState({action:o.action,location:o.location}),m=V.useCallback(y=>{V.startTransition(()=>f(y))},[f]);return V.useLayoutEffect(()=>o.listen(m),[o,m]),V.createElement(w2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var qS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hh=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:_,preventScrollReset:E,viewTransition:A,...S},N){let{basename:D}=V.useContext(qs),B=typeof _=="string"&&qS.test(_),q,Y=!1;if(typeof _=="string"&&B&&(q=_,HS))try{let O=new URL(window.location.href),U=_.startsWith("//")?new URL(O.protocol+_):new URL(_),G=aa(U.pathname,D);U.origin===O.origin&&G!=null?_=G+U.search+U.hash:Y=!0}catch{gs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=l2(_,{relative:o}),[$,gt,ht]=H2(s,S),xt=Q2(_,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A});function W(O){t&&t(O),O.defaultPrevented||xt(O)}let P=V.createElement("a",{...S,...ht,href:q||at,onClick:Y||u?t:W,ref:Z2(N,gt),target:y,"data-discover":!B&&n==="render"?"true":void 0});return $&&!B?V.createElement(V.Fragment,null,P,V.createElement(q2,{page:at})):P});hh.displayName="Link";var K2=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,..._},E){let A=Gh(f,{relative:_.relative}),S=_s(),N=V.useContext(Rm),{navigator:D,basename:B}=V.useContext(qs),q=N!=null&&sM(A)&&m===!0,Y=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,at=S.pathname,$=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(at=at.toLowerCase(),$=$?$.toLowerCase():null,Y=Y.toLowerCase()),$&&B&&($=aa($,B)||$);const gt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ht=at===Y||!o&&at.startsWith(Y)&&at.charAt(gt)==="/",xt=$!=null&&($===Y||!o&&$.startsWith(Y)&&$.charAt(Y.length)==="/"),W={isActive:ht,isPending:xt,isTransitioning:q},P=ht?t:void 0,O;typeof s=="function"?O=s(W):O=[s,ht?"active":null,xt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(W):u;return V.createElement(hh,{..._,"aria-current":P,className:O,ref:E,style:U,to:f,viewTransition:m},typeof y=="function"?y(W):y)});K2.displayName="NavLink";var $2=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Ld,action:m,onSubmit:y,relative:_,preventScrollReset:E,viewTransition:A,...S},N)=>{let D=nM(),B=iM(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&qS.test(m),at=$=>{if(y&&y($),$.defaultPrevented)return;$.preventDefault();let gt=$.nativeEvent.submitter,ht=gt?.getAttribute("formmethod")||f;D(gt||$.currentTarget,{fetcherKey:t,method:ht,navigate:n,replace:o,state:u,relative:_,preventScrollReset:E,viewTransition:A})};return V.createElement("form",{ref:N,method:q,action:B,onSubmit:s?y:at,...S,"data-discover":!Y&&e==="render"?"true":void 0})});$2.displayName="Form";function X2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GS(e){let t=V.useContext(Yu);return Ue(t,X2(e)),t}function Q2(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Sr(),y=_s(),_=Gh(e,{relative:u});return V.useCallback(E=>{if(I2(E,t)){E.preventDefault();let A=n!==void 0?n:xh(y)===xh(_);m(e,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,_,n,s,t,e,o,u,f])}function J2(e){gs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=V.useRef(Cy(e)),n=V.useRef(!1),s=_s(),o=V.useMemo(()=>P2(s.search,n.current?null:t.current),[s.search]),u=Sr(),f=V.useCallback((m,y)=>{const _=Cy(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+_,y)},[u,o]);return[o,f]}var tM=0,eM=()=>`__${String(++tM)}__`;function nM(){let{router:e}=GS("useSubmit"),{basename:t}=V.useContext(qs),n=v2();return V.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:_}=D2(s,t);if(o.navigate===!1){let E=o.fetcherKey||eM();await e.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function iM(e,{relative:t}={}){let{basename:n}=V.useContext(qs),s=V.useContext(xr);Ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Gh(e||".",{relative:t})},f=_s();if(e==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ia([n,u.pathname])),xh(u)}function sM(e,t={}){let n=V.useContext(kS);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=GS("useViewTransitionState"),o=Gh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=aa(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=aa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qd(o.pathname,f)!=null||Qd(o.pathname,u)!=null}MS();const rM="modulepreload",aM=function(e){return"/"+e},wE={},oM=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(_){return Promise.all(_.map(E=>Promise.resolve(E).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=y(n.map(_=>{if(_=aM(_),_ in wE)return;wE[_]=!0;const E=_.endsWith(".css"),A=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${A}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":rM,E||(S.as="script"),S.crossOrigin="",S.href=_,m&&S.setAttribute("nonce",m),document.head.appendChild(S),E)return new Promise((N,D)=>{S.addEventListener("load",N),S.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},lM=()=>{};var xE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},uM=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],f=e[n++],m=e[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},ZS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,m=f?e[o+1]:0,y=o+2<e.length,_=y?e[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|_>>6,N=_&63;y||(N=64,f||(S=64)),s.push(n[E],n[A],n[S],n[N])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(WS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const _=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||_==null||A==null)throw new cM;const S=u<<2|m>>4;if(s.push(S),_!==64){const N=m<<4&240|_>>2;if(s.push(N),A!==64){const D=_<<6&192|A;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hM=function(e){const t=WS(e);return ZS.encodeByteArray(t,!0)},Jd=function(e){return hM(e).replace(/\./g,"")},YS=function(e){try{return ZS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=()=>fM().__FIREBASE_DEFAULTS__,mM=()=>{if(typeof process>"u"||typeof xE>"u")return;const e=xE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},pM=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&YS(e[1]);return t&&JSON.parse(t)},Im=()=>{try{return lM()||dM()||mM()||pM()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},KS=e=>Im()?.emulatorHosts?.[e],$S=e=>{const t=KS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},XS=()=>Im()?.config,QS=e=>Im()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pm(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Jd(JSON.stringify(n)),Jd(JSON.stringify(f)),""].join(".")}const fh={};function _M(){const e={prod:[],emulator:[]};for(const t of Object.keys(fh))fh[t]?e.emulator.push(t):e.prod.push(t);return e}function vM(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let SE=!1;function D_(e,t){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||fh[e]===t||fh[e]||SE)return;fh[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=_M().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{SE=!0,f()},S}function E(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=vM(s),N=n("text"),D=document.getElementById(N)||document.createElement("span"),B=n("learnmore"),q=document.getElementById(B)||document.createElement("a"),Y=n("preprendIcon"),at=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;m($),E(q,B);const gt=_();y(at,Y),$.append(at,D,q,gt),document.body.appendChild($)}u?(D.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function bM(){const e=Im()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wM(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SM(){const e=Xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AM(){return!bM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RM(){try{return typeof indexedDB=="object"}catch{return!1}}function CM(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="FirebaseError";class Ar extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=IM,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?PM(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ar(o,m,s)}}function PM(e,t){return e.replace(MM,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const MM=/\{\$([^}]+)}/g;function LM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function To(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],f=t[o];if(AE(u)&&AE(f)){if(!To(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function AE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function eh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function nh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function DM(e,t){const n=new NM(e,t);return n.subscribe.bind(n)}class NM{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");OM(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Qg),o.error===void 0&&(o.error=Qg),o.complete===void 0&&(o.complete=Qg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e){return e&&e._delegate?e._delegate:e}class bo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new gM;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jM(t))try{this.getOrInitializeService({instanceIdentifier:vl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=vl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vl){return this.instances.has(t)}getOptions(t=vl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VM(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=vl){return this.component?this.component.multipleInstances?t:vl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VM(e){return e===vl?void 0:e}function jM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const UM={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},BM=re.INFO,FM={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},HM=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=FM[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class N_{constructor(t){this.name=t,this._logLevel=BM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const qM=(e,t)=>t.some(n=>e instanceof n);let RE,CE;function GM(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WM(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,Iy=new WeakMap,t1=new WeakMap,Jg=new WeakMap,O_=new WeakMap;function ZM(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(go(e.result)),o()},f=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&JS.set(n,e)}).catch(()=>{}),O_.set(t,e),t}function YM(e){if(Iy.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});Iy.set(e,t)}let Py={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Iy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||t1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function KM(e){Py=e(Py)}function $M(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(ty(this),t,...n);return t1.set(s,t.sort?t.sort():[t]),go(s)}:WM().includes(e)?function(...t){return e.apply(ty(this),t),go(JS.get(this))}:function(...t){return go(e.apply(ty(this),t))}}function XM(e){return typeof e=="function"?$M(e):(e instanceof IDBTransaction&&YM(e),qM(e,GM())?new Proxy(e,Py):e)}function go(e){if(e instanceof IDBRequest)return ZM(e);if(Jg.has(e))return Jg.get(e);const t=XM(e);return t!==e&&(Jg.set(e,t),O_.set(t,e)),t}const ty=e=>O_.get(e);function QM(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),m=go(f);return s&&f.addEventListener("upgradeneeded",y=>{s(go(f.result),y.oldVersion,y.newVersion,go(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const JM=["get","getKey","getAll","getAllKeys","count"],tL=["put","add","delete","clear"],ey=new Map;function IE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ey.get(t))return ey.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=tL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JM.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&y.done]))[0]};return ey.set(t,u),u}KM(e=>({...e,get:(t,n,s)=>IE(t,n)||e.get(t,n,s),has:(t,n)=>!!IE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nL(e){return e.getComponent()?.type==="VERSION"}const My="@firebase/app",PE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new N_("@firebase/app"),iL="@firebase/app-compat",sL="@firebase/analytics-compat",rL="@firebase/analytics",aL="@firebase/app-check-compat",oL="@firebase/app-check",lL="@firebase/auth",uL="@firebase/auth-compat",cL="@firebase/database",hL="@firebase/data-connect",fL="@firebase/database-compat",dL="@firebase/functions",mL="@firebase/functions-compat",pL="@firebase/installations",gL="@firebase/installations-compat",yL="@firebase/messaging",_L="@firebase/messaging-compat",vL="@firebase/performance",TL="@firebase/performance-compat",bL="@firebase/remote-config",EL="@firebase/remote-config-compat",wL="@firebase/storage",xL="@firebase/storage-compat",SL="@firebase/firestore",AL="@firebase/ai",RL="@firebase/firestore-compat",CL="firebase",IL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="[DEFAULT]",PL={[My]:"fire-core",[iL]:"fire-core-compat",[rL]:"fire-analytics",[sL]:"fire-analytics-compat",[oL]:"fire-app-check",[aL]:"fire-app-check-compat",[lL]:"fire-auth",[uL]:"fire-auth-compat",[cL]:"fire-rtdb",[hL]:"fire-data-connect",[fL]:"fire-rtdb-compat",[dL]:"fire-fn",[mL]:"fire-fn-compat",[pL]:"fire-iid",[gL]:"fire-iid-compat",[yL]:"fire-fcm",[_L]:"fire-fcm-compat",[vL]:"fire-perf",[TL]:"fire-perf-compat",[bL]:"fire-rc",[EL]:"fire-rc-compat",[wL]:"fire-gcs",[xL]:"fire-gcs-compat",[SL]:"fire-fst",[RL]:"fire-fst-compat",[AL]:"fire-vertex","fire-js":"fire-js",[CL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,ML=new Map,Dy=new Map;function ME(e,t){try{e.container.addComponent(t)}catch(n){oa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Il(e){const t=e.name;if(Dy.has(t))return oa.debug(`There were multiple attempts to register component ${t}.`),!1;Dy.set(t,e);for(const n of tm.values())ME(n,e);for(const n of ML.values())ME(n,e);return!0}function Yh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new Wh("app","Firebase",LL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=IL;function e1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Ly,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw yo.create("bad-app-name",{appName:String(o)});if(n||(n=XS()),!n)throw yo.create("no-options");const u=tm.get(o);if(u){if(To(n,u.options)&&To(s,u.config))return u;throw yo.create("duplicate-app",{appName:o})}const f=new zM(o);for(const y of Dy.values())f.addComponent(y);const m=new DL(n,s,f);return tm.set(o,m),m}function k_(e=Ly){const t=tm.get(e);if(!t&&e===Ly&&XS())return e1();if(!t)throw yo.create("no-app",{appName:e});return t}function fr(e,t,n){let s=PL[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oa.warn(f.join(" "));return}Il(new bo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="firebase-heartbeat-database",OL=1,Sh="firebase-heartbeat-store";let ny=null;function n1(){return ny||(ny=QM(NL,OL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Sh)}catch(n){console.warn(n)}}}}).catch(e=>{throw yo.create("idb-open",{originalErrorMessage:e.message})})),ny}async function kL(e){try{const n=(await n1()).transaction(Sh),s=await n.objectStore(Sh).get(i1(e));return await n.done,s}catch(t){if(t instanceof Ar)oa.warn(t.message);else{const n=yo.create("idb-get",{originalErrorMessage:t?.message});oa.warn(n.message)}}}async function LE(e,t){try{const s=(await n1()).transaction(Sh,"readwrite");await s.objectStore(Sh).put(t,i1(e)),await s.done}catch(n){if(n instanceof Ar)oa.warn(n.message);else{const s=yo.create("idb-set",{originalErrorMessage:n?.message});oa.warn(s.message)}}}function i1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,jL=30;class zL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>jL){const o=FL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){oa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DE(),{heartbeatsToSend:n,unsentEntries:s}=UL(this._heartbeatsCache.heartbeats),o=Jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oa.warn(t),""}}}function DE(){return new Date().toISOString().substring(0,10)}function UL(e,t=VL){const n=[];let s=e.slice();for(const o of e){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),NE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),NE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RM()?CM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function NE(e){return Jd(JSON.stringify({version:2,heartbeats:e})).length}function FL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e){Il(new bo("platform-logger",t=>new eL(t),"PRIVATE")),Il(new bo("heartbeat",t=>new zL(t),"PRIVATE")),fr(My,PE,e),fr(My,PE,"esm2020"),fr("fire-js","")}HL("");var qL="firebase",GL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(qL,GL,"app");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WL=s1,r1=new Wh("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new N_("@firebase/auth");function ZL(e,...t){em.logLevel<=re.WARN&&em.warn(`Auth (${$u}): ${e}`,...t)}function Nd(e,...t){em.logLevel<=re.ERROR&&em.error(`Auth (${$u}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e,...t){throw j_(e,...t)}function Bs(e,...t){return j_(e,...t)}function V_(e,t,n){const s={...WL(),[t]:n};return new Wh("auth","Firebase",s).create(t,{appName:e.name})}function sa(e){return V_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YL(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ys(e,"argument-error"),V_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j_(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return r1.create(e,...t)}function Bt(e,t,...n){if(!e)throw j_(t,...n)}function ea(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nd(t),new Error(t)}function la(e,t){e||ea(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){return typeof self<"u"&&self.location?.href||""}function KL(){return OE()==="http:"||OE()==="https:"}function OE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KL()||wM()||"connection"in navigator)?navigator.onLine:!0}function XL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n){this.shortDelay=t,this.longDelay=n,la(n>t,"Short delay should be less than long delay!"),this.isMobile=TM()||xM()}get(){return $L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(e,t){la(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tD=new Kh(3e4,6e4);function Po(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Mo(e,t,n,s,o={}){return o1(e,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zh({key:e.config.apiKey,...f}).slice(1),y=await e._getAdditionalHeaders();y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode);const _={method:t,headers:y,...u};return EM()||(_.referrerPolicy="no-referrer"),e.emulatorConfig&&Io(e.emulatorConfig.host)&&(_.credentials="include"),a1.fetch()(await l1(e,e.config.apiHost,n,m),_)})}async function o1(e,t,n){e._canInitEmulator=!1;const s={...QL,...t};try{const o=new nD(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gd(e,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(e,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw gd(e,"email-already-in-use",f);if(y==="USER_DISABLED")throw gd(e,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw V_(e,E,_);ys(e,E)}}catch(o){if(o instanceof Ar)throw o;ys(e,"network-request-failed",{message:String(o)})}}async function $h(e,t,n,s,o={}){const u=await Mo(e,t,n,s,o);return"mfaPendingCredential"in u&&ys(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function l1(e,t,n,s){const o=`${t}${n}?${s}`,u=e,f=u.config.emulator?z_(e.config,o):`${e.config.apiScheme}://${o}`;return JL.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function eD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bs(this.auth,"network-request-failed")),tD.get())})}}function gd(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bs(e,t,s);return o.customData._tokenResponse=n,o}function kE(e){return e!==void 0&&e.enterprise!==void 0}class iD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sD(e,t){return Mo(e,"GET","/v2/recaptchaConfig",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(e,t){return Mo(e,"POST","/v1/accounts:delete",t)}async function nm(e,t){return Mo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aD(e,t=!1){const n=Xe(e),s=await n.getIdToken(t),o=U_(s);Bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:dh(iy(o.auth_time)),issuedAtTime:dh(iy(o.iat)),expirationTime:dh(iy(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function iy(e){return Number(e)*1e3}function U_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const o=YS(n);return o?JSON.parse(o):(Nd("Failed to decode base64 JWT payload"),null)}catch(o){return Nd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function VE(e){const t=U_(e);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ar&&oD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function oD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(e){const t=e.auth,n=await e.getIdToken(),s=await Ah(e,nm(t,{idToken:n}));Bt(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?u1(o.providerUserInfo):[],f=cD(e.providerData,u),m=e.isAnonymous,y=!(e.email&&o.passwordHash)&&!f?.length,_=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Oy(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(e,E)}async function uD(e){const t=Xe(e);await im(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function u1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(e,t){const n=await o1(e,{},async()=>{const s=Zh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,f=await l1(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return e.emulatorConfig&&Io(e.emulatorConfig.host)&&(y.credentials="include"),a1.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fD(e,t){return Mo(e,"POST","/v2/accounts:revokeToken",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=VE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await hD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Nu;return s&&(Bt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nu,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(e,t){Bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class zs{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Oy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ah(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aD(this,t)}reload(){return uD(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(sa(this.auth));const t=await this.getIdToken();return await Ah(this,rD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:N,providerData:D,stsTokenManager:B}=n;Bt(A&&B,t,"internal-error");const q=Nu.fromJSON(this.name,B);Bt(typeof A=="string",t,"internal-error"),lo(s,t.name),lo(o,t.name),Bt(typeof S=="boolean",t,"internal-error"),Bt(typeof N=="boolean",t,"internal-error"),lo(u,t.name),lo(f,t.name),lo(m,t.name),lo(y,t.name),lo(_,t.name),lo(E,t.name);const Y=new zs({uid:A,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:_,lastLoginAt:E});return D&&Array.isArray(D)&&(Y.providerData=D.map(at=>({...at}))),y&&(Y._redirectEventId=y),Y}static async _fromIdTokenResponse(t,n,s=!1){const o=new Nu;o.updateFromServerResponse(n);const u=new zs({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await im(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?u1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Nu;m.updateFromIdToken(s);const y=new zs({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Oy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function na(e){la(e instanceof Function,"Expected a class definition");let t=jE.get(e);return t?(la(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}c1.type="NONE";const zE=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e,t,n){return`firebase:${e}:${t}:${n}`}class Ou{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,u),this.fullPersistenceKey=Od("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await nm(this.auth,{idToken:t}).catch(()=>{});return n?zs._fromGetAccountInfoResponse(this.auth,n,t):null}return zs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ou(na(zE),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||na(zE);const f=Od(s,t.config.apiKey,t.name);let m=null;for(const _ of n)try{const E=await _._get(f);if(E){let A;if(typeof E=="string"){const S=await nm(t,{idToken:E}).catch(()=>{});if(!S)break;A=await zs._fromGetAccountInfoResponse(t,S,E)}else A=zs._fromJSON(t,E);_!==u&&(m=A),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ou(u,t,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Ou(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(m1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(h1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(g1(t))return"Blackberry";if(y1(t))return"Webos";if(f1(t))return"Safari";if((t.includes("chrome/")||d1(t))&&!t.includes("edge/"))return"Chrome";if(p1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function h1(e=Xn()){return/firefox\//i.test(e)}function f1(e=Xn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function d1(e=Xn()){return/crios\//i.test(e)}function m1(e=Xn()){return/iemobile/i.test(e)}function p1(e=Xn()){return/android/i.test(e)}function g1(e=Xn()){return/blackberry/i.test(e)}function y1(e=Xn()){return/webos/i.test(e)}function B_(e=Xn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dD(e=Xn()){return B_(e)&&!!window.navigator?.standalone}function mD(){return SM()&&document.documentMode===10}function _1(e=Xn()){return B_(e)||p1(e)||y1(e)||g1(e)||/windows phone/i.test(e)||m1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e,t=[]){let n;switch(e){case"Browser":n=UE(Xn());break;case"Worker":n=`${UE(Xn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$u}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(e,t={}){return Mo(e,"GET","/v2/passwordPolicy",Po(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=6;class _D{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new pD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=na(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ou.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await nm(this,{idToken:t}),s=await zs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(pi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await im(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(pi(this.app))return Promise.reject(sa(this));const n=t?Xe(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return pi(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gD(this),n=new _D(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wh("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await fD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&na(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await Ou.create(this,[na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ZL(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lo(e){return Xe(e)}class BE{constructor(t){this.auth=t,this.observer=null,this.addObserver=DM(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TD(e){Mm=e}function T1(e){return Mm.loadJS(e)}function bD(){return Mm.recaptchaEnterpriseScript}function ED(){return Mm.gapiScript}function wD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class xD{constructor(){this.enterprise=new SD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class SD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const AD="recaptcha-enterprise",b1="NO_RECAPTCHA";class RD{constructor(t){this.type=AD,this.auth=Lo(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{sD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new iD(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;kE(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(b1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&kE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=bD();y.length!==0&&(y+=m),T1(y).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function FE(e,t,n,s=!1,o=!1){const u=new RD(e);let f;if(o)f=b1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ky(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await FE(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await FE(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(e,t){const n=Yh(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(To(u,t??{}))return o;ys(o,"already-initialized")}return n.initialize({options:t})}function ID(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(na);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function PD(e,t,n){const s=Lo(e);Bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=E1(t),{host:f,port:m}=MD(t),y=m===null?"":`:${m}`,_={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Bt(To(_,s.config.emulator)&&To(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Io(f)?(Pm(`${u}//${f}${y}`),D_("Auth",!0)):LD()}function E1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MD(e){const t=E1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:HE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:HE(f)}}}function HE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function LD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ea("not implemented")}_getIdTokenResponse(t){return ea("not implemented")}_linkToIdToken(t,n){return ea("not implemented")}_getReauthenticationResolver(t){return ea("not implemented")}}async function DD(e,t){return Mo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(e,t){return $h(e,"POST","/v1/accounts:signInWithPassword",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e,t){return $h(e,"POST","/v1/accounts:signInWithEmailLink",Po(e,t))}async function kD(e,t){return $h(e,"POST","/v1/accounts:signInWithEmailLink",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends F_{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Rh(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Rh(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(t,n,"signInWithPassword",ND);case"emailLink":return OD(t,{email:this._email,oobCode:this._password});default:ys(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(t,s,"signUpPassword",DD);case"emailLink":return kD(t,{idToken:n,email:this._email,oobCode:this._password});default:ys(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(e,t){return $h(e,"POST","/v1/accounts:signInWithIdp",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="http://localhost";class Pl extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Pl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Pl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ku(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ku(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ku(t,n)}buildRequest(){const t={requestUri:VD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zD(e){const t=eh(nh(e)).link,n=t?eh(nh(t)).deep_link_id:null,s=eh(nh(e)).deep_link_id;return(s?eh(nh(s)).link:null)||s||n||t||e}class H_{constructor(t){const n=eh(nh(t)),s=n.apiKey??null,o=n.oobCode??null,u=jD(n.mode??null);Bt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=zD(t);try{return new H_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.providerId=Xu.PROVIDER_ID}static credential(t,n){return Rh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=H_.parseLink(n);return Bt(s,"argument-error"),Rh._fromEmailAndCode(t,s.code,s.tenantId)}}Xu.PROVIDER_ID="password";Xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends q_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Xh{constructor(){super("facebook.com")}static credential(t){return Pl._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return co.credentialFromTaggedObject(t)}static credentialFromError(t){return co.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return co.credential(t.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Pl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ta.credential(n,s)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Xh{constructor(){super("github.com")}static credential(t){return Pl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ho.credentialFromTaggedObject(t)}static credentialFromError(t){return ho.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ho.credential(t.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Xh{constructor(){super("twitter.com")}static credential(t,n){return Pl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fo.credentialFromTaggedObject(t)}static credentialFromError(t){return fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return fo.credential(n,s)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(e,t){return $h(e,"POST","/v1/accounts:signUp",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await zs._fromIdTokenResponse(t,s,o),f=qE(s);return new Ml({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=qE(s);return new Ml({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function qE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Ar{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new sm(t,n,s,o)}}function w1(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(e,u,t,s):u})}async function BD(e,t,n=!1){const s=await Ah(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ml._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(e,t,n=!1){const{auth:s}=e;if(pi(s.app))return Promise.reject(sa(s));const o="reauthenticate";try{const u=await Ah(e,w1(s,o,t,e),n);Bt(u.idToken,s,"internal-error");const f=U_(u.idToken);Bt(f,s,"internal-error");const{sub:m}=f;return Bt(e.uid===m,s,"user-mismatch"),Ml._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ys(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(e,t,n=!1){if(pi(e.app))return Promise.reject(sa(e));const s="signIn",o=await w1(e,s,t),u=await Ml._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function HD(e,t){return x1(Lo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(e){const t=Lo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function qD(e,t,n){if(pi(e.app))return Promise.reject(sa(e));const s=Lo(e),f=await ky(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&S1(e),y}),m=await Ml._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function GD(e,t,n){return pi(e.app)?Promise.reject(sa(e)):HD(Xe(e),Xu.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&S1(e),s})}function WD(e,t,n,s){return Xe(e).onIdTokenChanged(t,n,s)}function ZD(e,t,n){return Xe(e).beforeAuthStateChanged(t,n)}function Qh(e,t,n,s){return Xe(e).onAuthStateChanged(t,n,s)}function YD(e){return Xe(e).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=1e3,$D=10;class R1 extends A1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);mD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$D):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},KD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}R1.type="LOCAL";const XD=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends A1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}C1.type="SESSION";const I1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Lm(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),y=await QD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const _=G_("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function tN(e){dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function eN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){return navigator?.serviceWorker?.controller||null}function iN(){return P1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebaseLocalStorageDb",sN=1,am="firebaseLocalStorage",L1="fbase_key";class Jh{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dm(e,t){return e.transaction([am],t?"readwrite":"readonly").objectStore(am)}function rN(){const e=indexedDB.deleteDatabase(M1);return new Jh(e).toPromise()}function Vy(){const e=indexedDB.open(M1,sN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(am,{keyPath:L1})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(am)?t(s):(s.close(),await rN(),t(await Vy()))})})}async function GE(e,t,n){const s=Dm(e,!0).put({[L1]:t,value:n});return new Jh(s).toPromise()}async function aN(e,t){const n=Dm(e,!1).get(t),s=await new Jh(n).toPromise();return s===void 0?null:s.value}function WE(e,t){const n=Dm(e,!0).delete(t);return new Jh(n).toPromise()}const oN=800,lN=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>lN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(iN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new JD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vy();return await GE(t,rm,"1"),await WE(t,rm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>GE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>aN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Dm(o,!1).getAll();return new Jh(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const uN=D1;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(e,t){return t?na(t):(Bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends F_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ku(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ku(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ku(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cN(e){return x1(e.auth,new W_(e),e.bypassAuthState)}function hN(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),FD(n,new W_(e),e.bypassAuthState)}async function fN(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),BD(n,new W_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:ys(this.auth,"internal-error")}}resolve(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Kh(2e3,1e4);async function mN(e,t,n){if(pi(e.app))return Promise.reject(Bs(e,"operation-not-supported-in-this-environment"));const s=Lo(e);YL(e,t,q_);const o=N1(s,n);return new bl(s,"signInViaPopup",t,o).executeNotNull()}class bl extends O1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const t=G_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dN.get())};t()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="pendingRedirect",kd=new Map;class gN extends O1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=kd.get(this.auth._key());if(!t){try{const s=await yN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}kd.set(this.auth._key(),t)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yN(e,t){const n=TN(t),s=vN(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function _N(e,t){kd.set(e._key(),t)}function vN(e){return na(e._redirectPersistence)}function TN(e){return Od(pN,e.config.apiKey,e.name)}async function bN(e,t,n=!1){if(pi(e.app))return Promise.reject(sa(e));const s=Lo(e),o=N1(s,t),f=await new gN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=600*1e3;class wN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!k1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(t))}saveEventToCache(t){this.cachedEventUids.add(ZE(t)),this.lastProcessedEventTime=Date.now()}}function ZE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function k1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function xN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(e,t={}){return Mo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RN=/^https?/;async function CN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await SN(e);for(const n of t)try{if(IN(n))return}catch{}ys(e,"unauthorized-domain")}function IN(e){const t=Ny(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const f=new URL(e);return f.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!RN.test(n))return!1;if(AN.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Kh(3e4,6e4);function YE(){const e=dr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function MN(e){return new Promise((t,n)=>{function s(){YE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{YE(),n(Bs(e,"network-request-failed"))},timeout:PN.get()})}if(dr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dr().gapi?.load)s();else{const o=wD("iframefcb");return dr()[o]=()=>{gapi.load?s():n(Bs(e,"network-request-failed"))},T1(`${ED()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Vd=null,t})}let Vd=null;function LN(e){return Vd=Vd||MN(e),Vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new Kh(5e3,15e3),NN="__/auth/iframe",ON="emulator/auth/iframe",kN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jN(e){const t=e.config;Bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?z_(t,ON):`https://${e.config.authDomain}/${NN}`,s={apiKey:t.apiKey,appName:e.name,v:$u},o=VN.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zh(s).slice(1)}`}async function zN(e){const t=await LN(e),n=dr().gapi;return Bt(n,e,"internal-error"),t.open({where:document.body,url:jN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Bs(e,"network-request-failed"),m=dr().setTimeout(()=>{u(f)},DN.get());function y(){dr().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BN=500,FN=600,HN="_blank",qN="http://localhost";class KE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GN(e,t,n,s=BN,o=FN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...UN,width:s.toString(),height:o.toString(),top:u,left:f},_=Xn().toLowerCase();n&&(m=d1(_)?HN:n),h1(_)&&(t=t||qN,y.scrollbars="yes");const E=Object.entries(y).reduce((S,[N,D])=>`${S}${N}=${D},`,"");if(dD(_)&&m!=="_self")return WN(t||"",m),new KE(null);const A=window.open(t||"",m,E);Bt(A,e,"popup-blocked");try{A.focus()}catch{}return new KE(A)}function WN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="__/auth/handler",YN="emulator/auth/handler",KN=encodeURIComponent("fac");async function $E(e,t,n,s,o,u){Bt(e.config.authDomain,e,"auth-domain-config-required"),Bt(e.config.apiKey,e,"invalid-api-key");const f={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:$u,eventId:o};if(t instanceof q_){t.setDefaultLanguage(e.languageCode),f.providerId=t.providerId||"",LM(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Xh){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}e.tenantId&&(f.tid=e.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await e._getAppCheckToken(),_=y?`#${KN}=${encodeURIComponent(y)}`:"";return`${$N(e)}?${Zh(m).slice(1)}${_}`}function $N({config:e}){return e.emulator?z_(e,YN):`https://${e.authDomain}/${ZN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="webStorageSupport";class XN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I1,this._completeRedirectFn=bN,this._overrideRedirectResult=_N}async _openPopup(t,n,s,o){la(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $E(t,n,s,Ny(),o);return GN(t,u,G_())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await $E(t,n,s,Ny(),o);return tN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(la(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await zN(t),s=new wN(t);return n.register("authEvent",o=>(Bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sy,{type:sy},o=>{const u=o?.[0]?.[sy];u!==void 0&&n(!!u),ys(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _1()||f1()||B_()}}const QN=XN;var XE="@firebase/auth",QE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(e){Il(new bo("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Bt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(e)},_=new vD(s,o,u,y);return ID(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Il(new bo("auth-internal",t=>{const n=Lo(t.getProvider("auth").getImmediate());return(s=>new JN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(XE,QE,tO(e)),fr(XE,QE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=300,iO=QS("authIdTokenMaxAge")||nO;let JE=null;const sO=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iO)return;const o=n?.token;JE!==o&&(JE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rO(e=k_()){const t=Yh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=CD(e,{popupRedirectResolver:QN,persistence:[uN,XD,I1]}),s=QS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=sO(u.toString());ZD(n,f,()=>f(n.currentUser)),WD(n,m=>f(m))}}const o=KS("auth");return o&&PD(n,`http://${o}`),n}function aO(){return document.getElementsByTagName("head")?.[0]??document}TD({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Bs("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",aO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,V1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(W,P){function O(){}O.prototype=P.prototype,W.D=P.prototype,W.prototype=new O,W.prototype.constructor=W,W.C=function(U,G,Z){for(var j=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)j[Tt-2]=arguments[Tt];return P.prototype[G].apply(U,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(W,P,O){O||(O=0);var U=Array(16);if(typeof P=="string")for(var G=0;16>G;++G)U[G]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(G=0;16>G;++G)U[G]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=W.g[0],O=W.g[1],G=W.g[2];var Z=W.g[3],j=P+(Z^O&(G^Z))+U[0]+3614090360&4294967295;P=O+(j<<7&4294967295|j>>>25),j=Z+(G^P&(O^G))+U[1]+3905402710&4294967295,Z=P+(j<<12&4294967295|j>>>20),j=G+(O^Z&(P^O))+U[2]+606105819&4294967295,G=Z+(j<<17&4294967295|j>>>15),j=O+(P^G&(Z^P))+U[3]+3250441966&4294967295,O=G+(j<<22&4294967295|j>>>10),j=P+(Z^O&(G^Z))+U[4]+4118548399&4294967295,P=O+(j<<7&4294967295|j>>>25),j=Z+(G^P&(O^G))+U[5]+1200080426&4294967295,Z=P+(j<<12&4294967295|j>>>20),j=G+(O^Z&(P^O))+U[6]+2821735955&4294967295,G=Z+(j<<17&4294967295|j>>>15),j=O+(P^G&(Z^P))+U[7]+4249261313&4294967295,O=G+(j<<22&4294967295|j>>>10),j=P+(Z^O&(G^Z))+U[8]+1770035416&4294967295,P=O+(j<<7&4294967295|j>>>25),j=Z+(G^P&(O^G))+U[9]+2336552879&4294967295,Z=P+(j<<12&4294967295|j>>>20),j=G+(O^Z&(P^O))+U[10]+4294925233&4294967295,G=Z+(j<<17&4294967295|j>>>15),j=O+(P^G&(Z^P))+U[11]+2304563134&4294967295,O=G+(j<<22&4294967295|j>>>10),j=P+(Z^O&(G^Z))+U[12]+1804603682&4294967295,P=O+(j<<7&4294967295|j>>>25),j=Z+(G^P&(O^G))+U[13]+4254626195&4294967295,Z=P+(j<<12&4294967295|j>>>20),j=G+(O^Z&(P^O))+U[14]+2792965006&4294967295,G=Z+(j<<17&4294967295|j>>>15),j=O+(P^G&(Z^P))+U[15]+1236535329&4294967295,O=G+(j<<22&4294967295|j>>>10),j=P+(G^Z&(O^G))+U[1]+4129170786&4294967295,P=O+(j<<5&4294967295|j>>>27),j=Z+(O^G&(P^O))+U[6]+3225465664&4294967295,Z=P+(j<<9&4294967295|j>>>23),j=G+(P^O&(Z^P))+U[11]+643717713&4294967295,G=Z+(j<<14&4294967295|j>>>18),j=O+(Z^P&(G^Z))+U[0]+3921069994&4294967295,O=G+(j<<20&4294967295|j>>>12),j=P+(G^Z&(O^G))+U[5]+3593408605&4294967295,P=O+(j<<5&4294967295|j>>>27),j=Z+(O^G&(P^O))+U[10]+38016083&4294967295,Z=P+(j<<9&4294967295|j>>>23),j=G+(P^O&(Z^P))+U[15]+3634488961&4294967295,G=Z+(j<<14&4294967295|j>>>18),j=O+(Z^P&(G^Z))+U[4]+3889429448&4294967295,O=G+(j<<20&4294967295|j>>>12),j=P+(G^Z&(O^G))+U[9]+568446438&4294967295,P=O+(j<<5&4294967295|j>>>27),j=Z+(O^G&(P^O))+U[14]+3275163606&4294967295,Z=P+(j<<9&4294967295|j>>>23),j=G+(P^O&(Z^P))+U[3]+4107603335&4294967295,G=Z+(j<<14&4294967295|j>>>18),j=O+(Z^P&(G^Z))+U[8]+1163531501&4294967295,O=G+(j<<20&4294967295|j>>>12),j=P+(G^Z&(O^G))+U[13]+2850285829&4294967295,P=O+(j<<5&4294967295|j>>>27),j=Z+(O^G&(P^O))+U[2]+4243563512&4294967295,Z=P+(j<<9&4294967295|j>>>23),j=G+(P^O&(Z^P))+U[7]+1735328473&4294967295,G=Z+(j<<14&4294967295|j>>>18),j=O+(Z^P&(G^Z))+U[12]+2368359562&4294967295,O=G+(j<<20&4294967295|j>>>12),j=P+(O^G^Z)+U[5]+4294588738&4294967295,P=O+(j<<4&4294967295|j>>>28),j=Z+(P^O^G)+U[8]+2272392833&4294967295,Z=P+(j<<11&4294967295|j>>>21),j=G+(Z^P^O)+U[11]+1839030562&4294967295,G=Z+(j<<16&4294967295|j>>>16),j=O+(G^Z^P)+U[14]+4259657740&4294967295,O=G+(j<<23&4294967295|j>>>9),j=P+(O^G^Z)+U[1]+2763975236&4294967295,P=O+(j<<4&4294967295|j>>>28),j=Z+(P^O^G)+U[4]+1272893353&4294967295,Z=P+(j<<11&4294967295|j>>>21),j=G+(Z^P^O)+U[7]+4139469664&4294967295,G=Z+(j<<16&4294967295|j>>>16),j=O+(G^Z^P)+U[10]+3200236656&4294967295,O=G+(j<<23&4294967295|j>>>9),j=P+(O^G^Z)+U[13]+681279174&4294967295,P=O+(j<<4&4294967295|j>>>28),j=Z+(P^O^G)+U[0]+3936430074&4294967295,Z=P+(j<<11&4294967295|j>>>21),j=G+(Z^P^O)+U[3]+3572445317&4294967295,G=Z+(j<<16&4294967295|j>>>16),j=O+(G^Z^P)+U[6]+76029189&4294967295,O=G+(j<<23&4294967295|j>>>9),j=P+(O^G^Z)+U[9]+3654602809&4294967295,P=O+(j<<4&4294967295|j>>>28),j=Z+(P^O^G)+U[12]+3873151461&4294967295,Z=P+(j<<11&4294967295|j>>>21),j=G+(Z^P^O)+U[15]+530742520&4294967295,G=Z+(j<<16&4294967295|j>>>16),j=O+(G^Z^P)+U[2]+3299628645&4294967295,O=G+(j<<23&4294967295|j>>>9),j=P+(G^(O|~Z))+U[0]+4096336452&4294967295,P=O+(j<<6&4294967295|j>>>26),j=Z+(O^(P|~G))+U[7]+1126891415&4294967295,Z=P+(j<<10&4294967295|j>>>22),j=G+(P^(Z|~O))+U[14]+2878612391&4294967295,G=Z+(j<<15&4294967295|j>>>17),j=O+(Z^(G|~P))+U[5]+4237533241&4294967295,O=G+(j<<21&4294967295|j>>>11),j=P+(G^(O|~Z))+U[12]+1700485571&4294967295,P=O+(j<<6&4294967295|j>>>26),j=Z+(O^(P|~G))+U[3]+2399980690&4294967295,Z=P+(j<<10&4294967295|j>>>22),j=G+(P^(Z|~O))+U[10]+4293915773&4294967295,G=Z+(j<<15&4294967295|j>>>17),j=O+(Z^(G|~P))+U[1]+2240044497&4294967295,O=G+(j<<21&4294967295|j>>>11),j=P+(G^(O|~Z))+U[8]+1873313359&4294967295,P=O+(j<<6&4294967295|j>>>26),j=Z+(O^(P|~G))+U[15]+4264355552&4294967295,Z=P+(j<<10&4294967295|j>>>22),j=G+(P^(Z|~O))+U[6]+2734768916&4294967295,G=Z+(j<<15&4294967295|j>>>17),j=O+(Z^(G|~P))+U[13]+1309151649&4294967295,O=G+(j<<21&4294967295|j>>>11),j=P+(G^(O|~Z))+U[4]+4149444226&4294967295,P=O+(j<<6&4294967295|j>>>26),j=Z+(O^(P|~G))+U[11]+3174756917&4294967295,Z=P+(j<<10&4294967295|j>>>22),j=G+(P^(Z|~O))+U[2]+718787259&4294967295,G=Z+(j<<15&4294967295|j>>>17),j=O+(Z^(G|~P))+U[9]+3951481745&4294967295,W.g[0]=W.g[0]+P&4294967295,W.g[1]=W.g[1]+(G+(j<<21&4294967295|j>>>11))&4294967295,W.g[2]=W.g[2]+G&4294967295,W.g[3]=W.g[3]+Z&4294967295}s.prototype.u=function(W,P){P===void 0&&(P=W.length);for(var O=P-this.blockSize,U=this.B,G=this.h,Z=0;Z<P;){if(G==0)for(;Z<=O;)o(this,W,Z),Z+=this.blockSize;if(typeof W=="string"){for(;Z<P;)if(U[G++]=W.charCodeAt(Z++),G==this.blockSize){o(this,U),G=0;break}}else for(;Z<P;)if(U[G++]=W[Z++],G==this.blockSize){o(this,U),G=0;break}}this.h=G,this.o+=P},s.prototype.v=function(){var W=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);W[0]=128;for(var P=1;P<W.length-8;++P)W[P]=0;var O=8*this.o;for(P=W.length-8;P<W.length;++P)W[P]=O&255,O/=256;for(this.u(W),W=Array(16),P=O=0;4>P;++P)for(var U=0;32>U;U+=8)W[O++]=this.g[P]>>>U&255;return W};function u(W,P){var O=m;return Object.prototype.hasOwnProperty.call(O,W)?O[W]:O[W]=P(W)}function f(W,P){this.h=P;for(var O=[],U=!0,G=W.length-1;0<=G;G--){var Z=W[G]|0;U&&Z==P||(O[G]=Z,U=!1)}this.g=O}var m={};function y(W){return-128<=W&&128>W?u(W,function(P){return new f([P|0],0>P?-1:0)}):new f([W|0],0>W?-1:0)}function _(W){if(isNaN(W)||!isFinite(W))return A;if(0>W)return q(_(-W));for(var P=[],O=1,U=0;W>=O;U++)P[U]=W/O|0,O*=4294967296;return new f(P,0)}function E(W,P){if(W.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(W.charAt(0)=="-")return q(E(W.substring(1),P));if(0<=W.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=_(Math.pow(P,8)),U=A,G=0;G<W.length;G+=8){var Z=Math.min(8,W.length-G),j=parseInt(W.substring(G,G+Z),P);8>Z?(Z=_(Math.pow(P,Z)),U=U.j(Z).add(_(j))):(U=U.j(O),U=U.add(_(j)))}return U}var A=y(0),S=y(1),N=y(16777216);e=f.prototype,e.m=function(){if(B(this))return-q(this).m();for(var W=0,P=1,O=0;O<this.g.length;O++){var U=this.i(O);W+=(0<=U?U:4294967296+U)*P,P*=4294967296}return W},e.toString=function(W){if(W=W||10,2>W||36<W)throw Error("radix out of range: "+W);if(D(this))return"0";if(B(this))return"-"+q(this).toString(W);for(var P=_(Math.pow(W,6)),O=this,U="";;){var G=gt(O,P).g;O=Y(O,G.j(P));var Z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(W);if(O=G,D(O))return Z+U;for(;6>Z.length;)Z="0"+Z;U=Z+U}},e.i=function(W){return 0>W?0:W<this.g.length?this.g[W]:this.h};function D(W){if(W.h!=0)return!1;for(var P=0;P<W.g.length;P++)if(W.g[P]!=0)return!1;return!0}function B(W){return W.h==-1}e.l=function(W){return W=Y(this,W),B(W)?-1:D(W)?0:1};function q(W){for(var P=W.g.length,O=[],U=0;U<P;U++)O[U]=~W.g[U];return new f(O,~W.h).add(S)}e.abs=function(){return B(this)?q(this):this},e.add=function(W){for(var P=Math.max(this.g.length,W.g.length),O=[],U=0,G=0;G<=P;G++){var Z=U+(this.i(G)&65535)+(W.i(G)&65535),j=(Z>>>16)+(this.i(G)>>>16)+(W.i(G)>>>16);U=j>>>16,Z&=65535,j&=65535,O[G]=j<<16|Z}return new f(O,O[O.length-1]&-2147483648?-1:0)};function Y(W,P){return W.add(q(P))}e.j=function(W){if(D(this)||D(W))return A;if(B(this))return B(W)?q(this).j(q(W)):q(q(this).j(W));if(B(W))return q(this.j(q(W)));if(0>this.l(N)&&0>W.l(N))return _(this.m()*W.m());for(var P=this.g.length+W.g.length,O=[],U=0;U<2*P;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(var G=0;G<W.g.length;G++){var Z=this.i(U)>>>16,j=this.i(U)&65535,Tt=W.i(G)>>>16,Vt=W.i(G)&65535;O[2*U+2*G]+=j*Vt,at(O,2*U+2*G),O[2*U+2*G+1]+=Z*Vt,at(O,2*U+2*G+1),O[2*U+2*G+1]+=j*Tt,at(O,2*U+2*G+1),O[2*U+2*G+2]+=Z*Tt,at(O,2*U+2*G+2)}for(U=0;U<P;U++)O[U]=O[2*U+1]<<16|O[2*U];for(U=P;U<2*P;U++)O[U]=0;return new f(O,0)};function at(W,P){for(;(W[P]&65535)!=W[P];)W[P+1]+=W[P]>>>16,W[P]&=65535,P++}function $(W,P){this.g=W,this.h=P}function gt(W,P){if(D(P))throw Error("division by zero");if(D(W))return new $(A,A);if(B(W))return P=gt(q(W),P),new $(q(P.g),q(P.h));if(B(P))return P=gt(W,q(P)),new $(q(P.g),P.h);if(30<W.g.length){if(B(W)||B(P))throw Error("slowDivide_ only works with positive integers.");for(var O=S,U=P;0>=U.l(W);)O=ht(O),U=ht(U);var G=xt(O,1),Z=xt(U,1);for(U=xt(U,2),O=xt(O,2);!D(U);){var j=Z.add(U);0>=j.l(W)&&(G=G.add(O),Z=j),U=xt(U,1),O=xt(O,1)}return P=Y(W,G.j(P)),new $(G,P)}for(G=A;0<=W.l(P);){for(O=Math.max(1,Math.floor(W.m()/P.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),Z=_(O),j=Z.j(P);B(j)||0<j.l(W);)O-=U,Z=_(O),j=Z.j(P);D(Z)&&(Z=S),G=G.add(Z),W=Y(W,j)}return new $(G,W)}e.A=function(W){return gt(this,W).h},e.and=function(W){for(var P=Math.max(this.g.length,W.g.length),O=[],U=0;U<P;U++)O[U]=this.i(U)&W.i(U);return new f(O,this.h&W.h)},e.or=function(W){for(var P=Math.max(this.g.length,W.g.length),O=[],U=0;U<P;U++)O[U]=this.i(U)|W.i(U);return new f(O,this.h|W.h)},e.xor=function(W){for(var P=Math.max(this.g.length,W.g.length),O=[],U=0;U<P;U++)O[U]=this.i(U)^W.i(U);return new f(O,this.h^W.h)};function ht(W){for(var P=W.g.length+1,O=[],U=0;U<P;U++)O[U]=W.i(U)<<1|W.i(U-1)>>>31;return new f(O,W.h)}function xt(W,P){var O=P>>5;P%=32;for(var U=W.g.length-O,G=[],Z=0;Z<U;Z++)G[Z]=0<P?W.i(Z+O)>>>P|W.i(Z+O+1)<<32-P:W.i(Z+O);return new f(G,W.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,V1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,_o=f}).apply(typeof tw<"u"?tw:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,ih,z1,jd,jy,U1,B1,F1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,R){return d==Array.prototype||d==Object.prototype||(d[w]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var w=0;w<d.length;++w){var R=d[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function o(d,w){if(w)t:{var R=s;d=d.split(".");for(var k=0;k<d.length-1;k++){var Q=d[k];if(!(Q in R))break t;R=R[Q]}d=d[d.length-1],k=R[d],w=w(k),w!=k&&w!=null&&t(R,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var R=0,k=!1,Q={next:function(){if(!k&&R<d.length){var ot=R++;return{value:w(ot,d[ot]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(d){return d||function(){return u(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function _(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function E(d,w,R){return d.call.apply(d.bind,arguments)}function A(d,w,R){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,k),d.apply(w,Q)}}return function(){return d.apply(w,arguments)}}function S(d,w,R){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function N(d,w){var R=Array.prototype.slice.call(arguments,1);return function(){var k=R.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function D(d,w){function R(){}R.prototype=w.prototype,d.aa=w.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(k,Q,ot){for(var Et=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)Et[ie-2]=arguments[ie];return w.prototype[Q].apply(k,Et)}}function B(d){const w=d.length;if(0<w){const R=Array(w);for(let k=0;k<w;k++)R[k]=d[k];return R}return[]}function q(d,w){for(let R=1;R<arguments.length;R++){const k=arguments[R];if(y(k)){const Q=d.length||0,ot=k.length||0;d.length=Q+ot;for(let Et=0;Et<ot;Et++)d[Q+Et]=k[Et]}else d.push(k)}}class Y{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function at(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function gt(d){return gt[" "](d),d}gt[" "]=function(){};var ht=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function xt(d,w,R){for(const k in d)w.call(R,d[k],k,d)}function W(d,w){for(const R in d)w.call(void 0,d[R],R,d)}function P(d){const w={};for(const R in d)w[R]=d[R];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,w){let R,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(R in k)d[R]=k[R];for(let ot=0;ot<O.length;ot++)R=O[ot],Object.prototype.hasOwnProperty.call(k,R)&&(d[R]=k[R])}}function G(d){var w=1;d=d.split(":");const R=[];for(;0<w&&d.length;)R.push(d.shift()),w--;return d.length&&R.push(d.join(":")),R}function Z(d){m.setTimeout(()=>{throw d},0)}function j(){var d=Kt;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Tt{constructor(){this.h=this.g=null}add(w,R){const k=Vt.get();k.set(w,R),this.h?this.h.next=k:this.g=k,this.h=k}}var Vt=new Y(()=>new it,d=>d.reset());class it{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,mt=!1,Kt=new Tt,z=()=>{const d=m.Promise.resolve(void 0);ft=()=>{d.then(lt)}};var lt=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(R){Z(R)}var w=Vt;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}mt=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,w),m.removeEventListener("test",R,w)}catch{}return d}();function It(d,w){if(vt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(ht){t:{try{gt(w.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(w=null)}}else R=="mouseover"?w=d.fromElement:R=="mouseout"&&(w=d.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:wt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&It.aa.h.call(this)}}D(It,vt);var wt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),le=0;function Ei(d,w,R,k,Q){this.listener=d,this.proxy=null,this.src=w,this.type=R,this.capture=!!k,this.ha=Q,this.key=++le,this.da=this.fa=!1}function Gi(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function wi(d){this.src=d,this.g={},this.h=0}wi.prototype.add=function(d,w,R,k,Q){var ot=d.toString();d=this.g[ot],d||(d=this.g[ot]=[],this.h++);var Et=vs(d,w,k,Q);return-1<Et?(w=d[Et],R||(w.fa=!1)):(w=new Ei(w,this.src,ot,!!k,Q),w.fa=R,d.push(w)),w};function xi(d,w){var R=w.type;if(R in d.g){var k=d.g[R],Q=Array.prototype.indexOf.call(k,w,void 0),ot;(ot=0<=Q)&&Array.prototype.splice.call(k,Q,1),ot&&(Gi(w),d.g[R].length==0&&(delete d.g[R],d.h--))}}function vs(d,w,R,k){for(var Q=0;Q<d.length;++Q){var ot=d[Q];if(!ot.da&&ot.listener==w&&ot.capture==!!R&&ot.ha==k)return Q}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),ma={};function ko(d,w,R,k,Q){if(Array.isArray(w)){for(var ot=0;ot<w.length;ot++)ko(d,w[ot],R,k,Q);return null}return R=Vl(R),d&&d[Ee]?d.K(w,R,_(k)?!!k.capture:!1,Q):jn(d,w,R,!1,k,Q)}function jn(d,w,R,k,Q,ot){if(!w)throw Error("Invalid event type");var Et=_(Q)?!!Q.capture:!!Q,ie=Ir(d);if(ie||(d[Rr]=ie=new wi(d)),R=ie.add(w,R,k,Et,ot),R.proxy)return R;if(k=pa(),R.proxy=k,k.src=d,k.listener=R,d.addEventListener)At||(Q=Et),Q===void 0&&(Q=!1),d.addEventListener(w.toString(),k,Q);else if(d.attachEvent)d.attachEvent(Ts(w.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return R}function pa(){function d(R){return w.call(d.src,d.listener,R)}const w=kl;return d}function Vo(d,w,R,k,Q){if(Array.isArray(w))for(var ot=0;ot<w.length;ot++)Vo(d,w[ot],R,k,Q);else k=_(k)?!!k.capture:!!k,R=Vl(R),d&&d[Ee]?(d=d.i,w=String(w).toString(),w in d.g&&(ot=d.g[w],R=vs(ot,R,k,Q),-1<R&&(Gi(ot[R]),Array.prototype.splice.call(ot,R,1),ot.length==0&&(delete d.g[w],d.h--)))):d&&(d=Ir(d))&&(w=d.g[w.toString()],d=-1,w&&(d=vs(w,R,k,Q)),(R=-1<d?w[d]:null)&&Cr(R))}function Cr(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ee])xi(w.i,d);else{var R=d.type,k=d.proxy;w.removeEventListener?w.removeEventListener(R,k,d.capture):w.detachEvent?w.detachEvent(Ts(R),k):w.addListener&&w.removeListener&&w.removeListener(k),(R=Ir(w))?(xi(R,d),R.h==0&&(R.src=null,w[Rr]=null)):Gi(d)}}}function Ts(d){return d in ma?ma[d]:ma[d]="on"+d}function kl(d,w){if(d.da)d=!0;else{w=new It(w,this);var R=d.listener,k=d.ha||d.src;d.fa&&Cr(d),d=R.call(k,w)}return d}function Ir(d){return d=d[Rr],d instanceof wi?d:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vl(d){return typeof d=="function"?d:(d[jo]||(d[jo]=function(w){return d.handleEvent(w)}),d[jo])}function Ie(){bt.call(this),this.i=new wi(this),this.M=this,this.F=null}D(Ie,bt),Ie.prototype[Ee]=!0,Ie.prototype.removeEventListener=function(d,w,R,k){Vo(this,d,w,R,k)};function fe(d,w){var R,k=d.F;if(k)for(R=[];k;k=k.F)R.push(k);if(d=d.M,k=w.type||w,typeof w=="string")w=new vt(w,d);else if(w instanceof vt)w.target=w.target||d;else{var Q=w;w=new vt(k,d),U(w,Q)}if(Q=!0,R)for(var ot=R.length-1;0<=ot;ot--){var Et=w.g=R[ot];Q=zn(Et,k,!0,w)&&Q}if(Et=w.g=d,Q=zn(Et,k,!0,w)&&Q,Q=zn(Et,k,!1,w)&&Q,R)for(ot=0;ot<R.length;ot++)Et=w.g=R[ot],Q=zn(Et,k,!1,w)&&Q}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var R=d.g[w],k=0;k<R.length;k++)Gi(R[k]);delete d.g[w],d.h--}}this.F=null},Ie.prototype.K=function(d,w,R,k){return this.i.add(String(d),w,!1,R,k)},Ie.prototype.L=function(d,w,R,k){return this.i.add(String(d),w,!0,R,k)};function zn(d,w,R,k){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,ot=0;ot<w.length;++ot){var Et=w[ot];if(Et&&!Et.da&&Et.capture==R){var ie=Et.listener,Ze=Et.ha||Et.src;Et.fa&&xi(d.i,Et),Q=ie.call(Ze,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function _n(d,w,R){if(typeof d=="function")R&&(d=S(d,R));else if(d&&typeof d.handleEvent=="function")d=S(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:m.setTimeout(d,w||0)}function zo(d){d.g=_n(()=>{d.g=null,d.i&&(d.i=!1,zo(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class jl extends bt{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(d){bt.call(this),this.h=d,this.g={}}D(Pr,bt);var Gs=[];function bs(d){xt(d.g,function(w,R){this.g.hasOwnProperty(R)&&Cr(w)},d),d.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),bs(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=m.JSON.stringify,ga=m.JSON.parse,Si=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Uo(){}Uo.prototype.h=null;function Bo(d){return d.h||(d.h=d.i())}function ya(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){vt.call(this,"d")}D(Zi,vt);function Fo(){vt.call(this,"c")}D(Fo,vt);var Yi={},Ho=null;function Ws(){return Ho=Ho||new Ie}Yi.La="serverreachability";function _a(d){vt.call(this,Yi.La,d)}D(_a,vt);function Zs(d){const w=Ws();fe(w,new _a(w))}Yi.STAT_EVENT="statevent";function va(d,w){vt.call(this,Yi.STAT_EVENT,d),this.stat=w}D(va,vt);function Pe(d){const w=Ws();fe(w,new va(w,d))}Yi.Ma="timingevent";function Qe(d,w){vt.call(this,Yi.Ma,d),this.size=w}D(Qe,vt);function We(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},w)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function Un(d,w,R,k,Q,ot){d.info(function(){if(d.g)if(ot)for(var Et="",ie=ot.split("&"),Ze=0;Ze<ie.length;Ze++){var se=ie[Ze].split("=");if(1<se.length){var ge=se[0];se=se[1];var Le=ge.split("_");Et=2<=Le.length&&Le[1]=="type"?Et+(ge+"="+se+"&"):Et+(ge+"=redacted&")}}else Et=null;else Et=ot;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+w+`
`+R+`
`+Et})}function Dt(d,w,R,k,Q,ot,Et){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+w+`
`+R+`
`+ot+" "+Et})}function Es(d,w,R,k){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ys(d,R)+(k?" "+k:"")})}function qo(d,w){d.info(function(){return"TIMEOUT: "+w})}oi.prototype.info=function(){};function Ys(d,w){if(!d.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var k=R[d];if(!(2>k.length)){var Q=k[1];if(Array.isArray(Q)&&!(1>Q.length)){var ot=Q[0];if(ot!="noop"&&ot!="stop"&&ot!="close")for(var Et=1;Et<Q.length;Et++)Q[Et]=""}}}}return ai(R)}catch{return w}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ri;function In(){}D(In,Uo),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},Ri=new In;function vn(d,w,R,k){this.j=d,this.i=w,this.l=R,this.R=k||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Go={},Ta={};function Ci(d,w,R){d.L=1,d.v=Qn(Me(w)),d.m=R,d.P=!0,Ki(d,null)}function Ki(d,w){d.F=Date.now(),Lr(d),d.A=Me(d.v);var R=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Yo(R.i,"t",k),d.C=0,R=d.j.J,d.h=new Be,d.g=ql(d.j,R?w:null,!d.m),0<d.O&&(d.M=new jl(S(d.Y,d,d.g),d.O)),w=d.U,R=d.g,k=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gs[0]=Q.toString()),Q=Gs);for(var ot=0;ot<Q.length;ot++){var Et=ko(R,Q[ot],k||w.handleEvent,!1,w.h||w);if(!Et)break;w.g[Et.key]=Et}w=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Zs(),Un(d.i,d.u,d.A,d.l,d.R,d.m)}vn.prototype.ca=function(d){d=d.target;const w=this.M;w&&En(d)==3?w.j():this.Y(d)},vn.prototype.Y=function(d){try{if(d==this.g)t:{const Le=En(this.g);var w=this.g.Ba();const Ms=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||Ko(this.g)))){this.J||Le!=4||w==7||(w==8||0>=Ms?Zs(3):Zs(2)),Ks(this);var R=this.g.Z();this.X=R;e:if(zl(this)){var k=Ko(this.g);d="";var Q=k.length,ot=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),$i(this);var Et="";break e}this.h.i=new m.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,d+=this.h.i.decode(k[w],{stream:!(ot&&w==Q-1)});k.length=0,this.h.g+=d,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=R==200,Dt(this.i,this.u,this.A,this.l,this.R,Le,R),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,Ze=this.g;if((ie=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(ie)){var se=ie;break e}}se=null}if(R=se)Es(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xs(this,R);else{this.o=!1,this.s=3,Pe(12),dn(this),$i(this);break t}}if(this.P){R=!0;let Re;for(;!this.J&&this.C<Et.length;)if(Re=Mr(this,Et),Re==Ta){Le==4&&(this.s=4,Pe(14),R=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==Go){this.s=4,Pe(15),Es(this.i,this.l,Et,"[Invalid Chunk]"),R=!1;break}else Es(this.i,this.l,Re,null),xs(this,Re);if(zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||Et.length!=0||this.h.h||(this.s=1,Pe(16),R=!1),this.o=this.o&&R,!R)Es(this.i,this.l,Et,"[Invalid Chunked Response]"),dn(this),$i(this);else if(0<Et.length&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.ba&&!ge.M&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),er(ge),ge.M=!0,Pe(11))}}else Es(this.i,this.l,Et,null),xs(this,Et);Le==4&&dn(this),this.o&&!this.J&&(Le==4?Xo(this.j,this):(this.o=!1,Lr(this)))}else oc(this.g),R==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),dn(this),$i(this)}}}catch{}finally{}};function zl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Mr(d,w){var R=d.C,k=w.indexOf(`
`,R);return k==-1?Ta:(R=Number(w.substring(R,k)),isNaN(R)?Go:(k+=1,k+R>w.length?Ta:(w=w.slice(k,k+R),d.C=k+R,w)))}vn.prototype.cancel=function(){this.J=!0,dn(this)};function Lr(d){d.S=Date.now()+d.I,Ul(d,d.I)}function Ul(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=We(S(d.ba,d),w)}function Ks(d){d.B&&(m.clearTimeout(d.B),d.B=null)}vn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(qo(this.i,this.A),this.L!=2&&(Zs(),Pe(17)),dn(this),this.s=2,$i(this)):Ul(this,this.S-d)};function $i(d){d.j.G==0||d.J||Xo(d.j,d)}function dn(d){Ks(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,bs(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function xs(d,w){try{var R=d.j;if(R.G!=0&&(R.g==d||Jt(R.h,d))){if(!d.K&&Jt(R.h,d)&&R.G==3){try{var k=R.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Ia(R),Aa(R);else break t;Ra(R),Pe(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=We(S(R.Za,R),6e3));if(1>=Qi(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Ps(R,11)}else if((d.K||R.g==d)&&Ia(R),!at(w))for(Q=R.Da.g.parse(w),w=0;w<Q.length;w++){let se=Q[w];if(R.T=se[0],se=se[1],R.G==2)if(se[0]=="c"){R.K=se[1],R.ia=se[2];const ge=se[3];ge!=null&&(R.la=ge,R.j.info("VER="+R.la));const Le=se[4];Le!=null&&(R.Aa=Le,R.j.info("SVER="+R.Aa));const Ms=se[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(k=1.5*Ms,R.L=k,R.j.info("backChannelRequestTimeoutMs_="+k)),k=R;const Re=d.g;if(Re){const is=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var ot=k.h;ot.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(pe(ot,ot.h),ot.h=null))}if(k.D){const ss=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(k.ya=ss,Ut(k.I,k.D,ss))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),k=R;var Et=d;if(k.qa=Ma(k,k.J?k.ia:null,k.W),Et.K){rn(k.h,Et);var ie=Et,Ze=k.L;Ze&&(ie.I=Ze),ie.B&&(Ks(ie),Lr(ie)),k.g=Et}else Ni(k);0<R.i.length&&tr(R)}else se[0]!="stop"&&se[0]!="close"||Ps(R,7);else R.G==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?Ps(R,7):Sa(R):se[0]!="noop"&&R.l&&R.l.ta(se),R.v=0)}}Zs(4)}catch{}}var $s=class{constructor(d,w){this.g=d,this.map=w}};function Xi(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qi(d){return d.h?1:d.g?d.g.size:0}function Jt(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function pe(d,w){d.g?d.g.add(w):d.h=w}function rn(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Xi.prototype.cancel=function(){if(this.i=Ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ji(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const R of d.g.values())w=w.concat(R.D);return w}return B(d.i)}function Xs(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var w=[],R=d.length,k=0;k<R;k++)w.push(d[k]);return w}w=[],R=0;for(k in d)w[R++]=d[k];return w}function Qs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var w=[];d=d.length;for(var R=0;R<d;R++)w.push(R);return w}w=[],R=0;for(const k in d)w[R++]=k;return w}}}function Wt(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var R=Qs(d),k=Xs(d),Q=k.length,ot=0;ot<Q;ot++)w.call(void 0,k[ot],R&&R[ot],d)}var _e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(d,w){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var k=d[R].indexOf("="),Q=null;if(0<=k){var ot=d[R].substring(0,k);Q=d[R].substring(k+1)}else ot=d[R];w(ot,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ke(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ke){this.h=d.h,Nr(this,d.j),this.o=d.o,this.g=d.g,Ii(this,d.s),this.l=d.l;var w=d.i,R=new Mi;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),Pn(this,R),this.m=d.m}else d&&(w=String(d).match(_e))?(this.h=!1,Nr(this,w[1]||"",!0),this.o=Tn(w[2]||""),this.g=Tn(w[3]||"",!0),Ii(this,w[4]),this.l=Tn(w[5]||"",!0),Pn(this,w[6]||"",!0),this.m=Tn(w[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}ke.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Pi(w,Ss,!0),":");var R=this.g;return(R||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Pi(w,Ss,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(Pi(R,R.charAt(0)=="/"?Zo:Or,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",Pi(R,Js)),d.join("")};function Me(d){return new ke(d)}function Nr(d,w,R){d.j=R?Tn(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Ii(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Pn(d,w,R){w instanceof Mi?(d.i=w,Jn(d.i,d.h)):(R||(w=Pi(w,Ea)),d.i=new Mi(w,d.h))}function Ut(d,w,R){d.i.set(w,R)}function Qn(d){return Ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tn(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Pi(d,w,R){return typeof d=="string"?(d=encodeURI(d).replace(w,ba),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ba(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ss=/[#\/\?@]/g,Or=/[#\?:]/g,Zo=/[#\?]/g,Ea=/[#\?@]/g,Js=/#/g;function Mi(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Mn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wo(d.i,function(w,R){d.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}e=Mi.prototype,e.add=function(d,w){Mn(this),this.i=null,d=kt(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(w),this.h+=1,this};function ts(d,w){Mn(d),w=kt(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Li(d,w){return Mn(d),w=kt(d,w),d.g.has(w)}e.forEach=function(d,w){Mn(this),this.g.forEach(function(R,k){R.forEach(function(Q){d.call(w,Q,k,this)},this)},this)},e.na=function(){Mn(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let k=0;k<w.length;k++){const Q=d[k];for(let ot=0;ot<Q.length;ot++)R.push(w[k])}return R},e.V=function(d){Mn(this);let w=[];if(typeof d=="string")Li(this,d)&&(w=w.concat(this.g.get(kt(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)w=w.concat(d[R])}return w},e.set=function(d,w){return Mn(this),this.i=null,d=kt(this,d),Li(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},e.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Yo(d,w,R){ts(d,w),0<R.length&&(d.i=null,d.g.set(kt(d,w),B(R)),d.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var k=w[R];const ot=encodeURIComponent(String(k)),Et=this.V(k);for(k=0;k<Et.length;k++){var Q=ot;Et[k]!==""&&(Q+="="+encodeURIComponent(String(Et[k]))),d.push(Q)}}return this.i=d.join("&")};function kt(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Jn(d,w){w&&!d.j&&(Mn(d),d.i=null,d.g.forEach(function(R,k){var Q=k.toLowerCase();k!=Q&&(ts(this,k),Yo(this,Q,R))},d)),d.j=w}function ue(d,w){const R=new oi;if(m.Image){const k=new Image;k.onload=N(Bn,R,"TestLoadImage: loaded",!0,w,k),k.onerror=N(Bn,R,"TestLoadImage: error",!1,w,k),k.onabort=N(Bn,R,"TestLoadImage: abort",!1,w,k),k.ontimeout=N(Bn,R,"TestLoadImage: timeout",!1,w,k),m.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else w(!1)}function li(d,w){const R=new oi,k=new AbortController,Q=setTimeout(()=>{k.abort(),Bn(R,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:k.signal}).then(ot=>{clearTimeout(Q),ot.ok?Bn(R,"TestPingServer: ok",!0,w):Bn(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),Bn(R,"TestPingServer: error",!1,w)})}function Bn(d,w,R,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(R)}catch{}}function As(){this.g=new Si}function ui(d,w,R){const k=R||"";try{Wt(d,function(Q,ot){let Et=Q;_(Q)&&(Et=ai(Q)),w.push(k+ot+"="+encodeURIComponent(Et))})}catch(Q){throw w.push(k+"type="+encodeURIComponent("_badmap")),Q}}function Fn(d){this.l=d.Ub||null,this.j=d.eb||!1}D(Fn,Uo),Fn.prototype.g=function(){return new Di(this.l,this.j)},Fn.prototype.i=function(d){return function(){return d}}({});function Di(d,w){Ie.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Di,Ie),e=Di.prototype,e.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,bn(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||m).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rs(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rs(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?we(this):bn(this),this.readyState==3&&Rs(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,we(this))},e.Qa=function(d){this.g&&(this.response=d,we(this))},e.ga=function(){this.g&&we(this)};function we(d){d.readyState=4,d.l=null,d.j=null,d.v=null,bn(d)}e.setRequestHeader=function(d,w){this.u.append(d,w)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=w.next();return d.join(`\r
`)};function bn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function wa(d){let w="";return xt(d,function(R,k){w+=k,w+=":",w+=R,w+=`\r
`}),w}function Je(d,w,R){t:{for(k in R){var k=!1;break t}k=!0}k||(R=wa(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):Ut(d,w,R))}function de(d){Ie.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(de,Ie);var kr=/^https?$/i,Cs=["POST","PUT"];e=de.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,w,R,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ri.g(),this.v=this.o?Bo(this.o):Bo(Ri),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(ot){Bl(this,ot);return}if(d=R||"",R=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)R.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ot of k.keys())R.set(ot,k.get(ot));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(R.keys()).find(ot=>ot.toLowerCase()=="content-type"),Q=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cs,w,void 0))||k||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,Et]of R)this.g.setRequestHeader(ot,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mn(this),this.u=!0,this.g.send(d),this.u=!1}catch(ot){Bl(this,ot)}};function Bl(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,Vr(d),es(d)}function Vr(d){d.A||(d.A=!0,fe(d,"complete"),fe(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,fe(this,"complete"),fe(this,"abort"),es(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),de.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)};function $t(d){if(d.h&&typeof f<"u"&&(!d.v[1]||En(d)!=4||d.Z()!=2)){if(d.u&&En(d)==4)_n(d.Ea,0,d);else if(fe(d,"readystatechange"),En(d)==4){d.h=!1;try{const Et=d.Z();t:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var k;if(k=Et===0){var Q=String(d.D).match(_e)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),k=!kr.test(Q?Q.toLowerCase():"")}R=k}if(R)fe(d,"complete"),fe(d,"success");else{d.m=6;try{var ot=2<En(d)?d.g.statusText:""}catch{ot=""}d.l=ot+" ["+d.Z()+"]",Vr(d)}}finally{es(d)}}}}function es(d,w){if(d.g){mn(d);const R=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||fe(d,"ready");try{R.onreadystatechange=k}catch{}}}function mn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function En(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),ga(w)}};function Ko(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(d){const w={};d=(d.g&&2<=En(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(at(d[k]))continue;var R=G(d[k]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ot=w[Q]||[];w[Q]=ot,ot.push(R)}W(w,function(k){return k.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(d,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||w}function xa(d){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,d),this.cb=Is("retryDelaySeedMs",1e4,d),this.Wa=Is("forwardChannelMaxRetries",2,d),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(d&&d.concurrentRequestLimit),this.Da=new As,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=xa.prototype,e.la=8,e.G=1,e.connect=function(d,w,R,k){Pe(0),this.W=d,this.H=w||{},R&&k!==void 0&&(this.H.OSID=R,this.H.OAID=k),this.F=this.X,this.I=Ma(this,null,this.W),tr(this)};function Sa(d){if(Fl(d),d.G==3){var w=d.U++,R=Me(d.I);if(Ut(R,"SID",d.K),Ut(R,"RID",w),Ut(R,"TYPE","terminate"),jr(d,R),w=new vn(d,d.j,w),w.L=2,w.v=Qn(Me(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=w.v,R=!0),R||(w.g=ql(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Lr(w)}Hl(d)}function Aa(d){d.g&&(er(d),d.g.cancel(),d.g=null)}function Fl(d){Aa(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ia(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function tr(d){if(!Dr(d.h)&&!d.s){d.s=!0;var w=d.Ga;ft||z(),mt||(ft(),mt=!0),Kt.add(w,d),d.B=0}}function lc(d,w){return Qi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=We(S(d.Ga,d,w),Pa(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new vn(this,this.j,d);let ot=this.o;if(this.S&&(ot?(ot=P(ot),U(ot,this.S)):ot=this.S),this.m!==null||this.O||(Q.H=ot,ot=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var k=this.i[R];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=$o(this,Q,w),R=Me(this.I),Ut(R,"RID",d),Ut(R,"CVER",22),this.D&&Ut(R,"X-HTTP-Session-Id",this.D),jr(this,R),ot&&(this.O?w="headers="+encodeURIComponent(String(wa(ot)))+"&"+w:this.m&&Je(R,this.m,ot)),pe(this.h,Q),this.Ua&&Ut(R,"TYPE","init"),this.P?(Ut(R,"$req",w),Ut(R,"SID","null"),Q.T=!0,Ci(Q,R,null)):Ci(Q,R,w),this.G=2}}else this.G==3&&(d?Hn(this,d):this.i.length==0||Dr(this.h)||Hn(this))};function Hn(d,w){var R;w?R=w.l:R=d.U++;const k=Me(d.I);Ut(k,"SID",d.K),Ut(k,"RID",R),Ut(k,"AID",d.T),jr(d,k),d.m&&d.o&&Je(k,d.m,d.o),R=new vn(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),w&&(d.i=w.D.concat(d.i)),w=$o(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),pe(d.h,R),Ci(R,k,w)}function jr(d,w){d.H&&xt(d.H,function(R,k){Ut(w,k,R)}),d.l&&Wt({},function(R,k){Ut(w,k,R)})}function $o(d,w,R){R=Math.min(d.i.length,R);var k=d.l?S(d.l.Na,d.l,d):null;t:{var Q=d.i;let ot=-1;for(;;){const Et=["count="+R];ot==-1?0<R?(ot=Q[0].g,Et.push("ofs="+ot)):ot=0:Et.push("ofs="+ot);let ie=!0;for(let Ze=0;Ze<R;Ze++){let se=Q[Ze].g;const ge=Q[Ze].map;if(se-=ot,0>se)ot=Math.max(0,Q[Ze].g-100),ie=!1;else try{ui(ge,Et,"req"+se+"_")}catch{k&&k(ge)}}if(ie){k=Et.join("&");break t}}}return d=d.i.splice(0,R),w.D=d,k}function Ni(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;ft||z(),mt||(ft(),mt=!0),Kt.add(w,d),d.v=0}}function Ra(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=We(S(d.Fa,d),Pa(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,Ca(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=We(S(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Aa(this),Ca(this))};function er(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Ca(d){d.g=new vn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Me(d.qa);Ut(w,"RID","rpc"),Ut(w,"SID",d.K),Ut(w,"AID",d.T),Ut(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ut(w,"TO",d.ja),Ut(w,"TYPE","xmlhttp"),jr(d,w),d.m&&d.o&&Je(w,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=Qn(Me(w)),R.m=null,R.P=!0,Ki(R,d)}e.Za=function(){this.C!=null&&(this.C=null,Aa(this),Ra(this),Pe(19))};function Ia(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function Xo(d,w){var R=null;if(d.g==w){Ia(d),er(d),d.g=null;var k=2}else if(Jt(d.h,w))R=w.D,rn(d.h,w),k=1;else return;if(d.G!=0){if(w.o)if(k==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var Q=d.B;k=Ws(),fe(k,new Qe(k,R)),tr(d)}else Ni(d);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(k==1&&lc(d,w)||k==2&&Ra(d)))switch(R&&0<R.length&&(w=d.h,w.i=w.i.concat(R)),Q){case 1:Ps(d,5);break;case 4:Ps(d,10);break;case 3:Ps(d,6);break;default:Ps(d,2)}}}function Pa(d,w){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*w}function Ps(d,w){if(d.j.info("Error code "+w),w==2){var R=S(d.fb,d),k=d.Xa;const Q=!k;k=new ke(k||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Nr(k,"https"),Qn(k),Q?ue(k.toString(),R):li(k.toString(),R)}else Pe(2);d.G=0,d.l&&d.l.sa(w),Hl(d),Fl(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function Hl(d){if(d.G=0,d.ka=[],d.l){const w=Ji(d.h);(w.length!=0||d.i.length!=0)&&(q(d.ka,w),q(d.ka,d.i),d.h.i.length=0,B(d.i),d.i.length=0),d.l.ra()}}function Ma(d,w,R){var k=R instanceof ke?Me(R):new ke(R);if(k.g!="")w&&(k.g=w+"."+k.g),Ii(k,k.s);else{var Q=m.location;k=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var ot=new ke(null);k&&Nr(ot,k),w&&(ot.g=w),Q&&Ii(ot,Q),R&&(ot.l=R),k=ot}return R=d.D,w=d.ya,R&&w&&Ut(k,R,w),Ut(k,"VER",d.la),jr(d,k),k}function ql(d,w,R){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new de(new Fn({eb:R})):new de(d.pa),w.Ha(d.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qo(){}e=Qo.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function zr(){}zr.prototype.g=function(d,w){return new an(d,w)};function an(d,w){Ie.call(this),this.g=new xa(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!at(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!at(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new qn(this)}D(an,Ie),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Sa(this.g)},an.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=ai(d),d=R);w.i.push(new $s(w.Ya++,d)),w.G==3&&tr(w)},an.prototype.N=function(){this.g.l=null,delete this.j,Sa(this.g),delete this.g,an.aa.N.call(this)};function ns(d){Zi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const R in w){d=R;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}D(ns,Zi);function Gl(){Fo.call(this),this.status=1}D(Gl,Fo);function qn(d){this.g=d}D(qn,Qo),qn.prototype.ua=function(){fe(this.g,"a")},qn.prototype.ta=function(d){fe(this.g,new ns(d))},qn.prototype.sa=function(d){fe(this.g,new Gl)},qn.prototype.ra=function(){fe(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,F1=function(){return new zr},B1=function(){return Ws()},U1=Yi,jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,jd=ws,Ai.COMPLETE="complete",z1=Ai,ya.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,ih=ya,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,j1=de}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore",nw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new N_("@firebase/firestore");function xu(){return Ll.logLevel}function Ct(e,...t){if(Ll.logLevel<=re.DEBUG){const n=t.map(Z_);Ll.debug(`Firestore (${Qu}): ${e}`,...n)}}function ua(e,...t){if(Ll.logLevel<=re.ERROR){const n=t.map(Z_);Ll.error(`Firestore (${Qu}): ${e}`,...n)}}function ju(e,...t){if(Ll.logLevel<=re.WARN){const n=t.map(Z_);Ll.warn(`Firestore (${Qu}): ${e}`,...n)}}function Z_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,H1(e,s,n)}function H1(e,t,n){let s=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ua(s),new Error(s)}function ye(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||H1(t,o,s)}function Yt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class lO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uO{constructor(t){this.t=t,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ye(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ra,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ra)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ye(typeof s.accessToken=="string",31837,{l:s}),new q1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string",2055,{h:t}),new Yn(t)}}class cO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new cO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ye(this.o===void 0,3512);const s=u=>{u.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function ae(e,t){return e<t?-1:e>t?1:0}function zy(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return ry(o)===ry(u)?ae(o,u):ry(o)?1:-1}return ae(e.length,t.length)}const mO=55296,pO=57343;function ry(e){const t=e.charCodeAt(0);return t>=mO&&t<=pO}function zu(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__name__";class cr{constructor(t,n,s){n===void 0?n=0:n>t.length&&Ft(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Ft(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return cr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=cr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return ae(t.length,n.length)}static compareSegments(t,n){const s=cr.isNumericId(t),o=cr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?cr.extractNumericId(t).compare(cr.extractNumericId(n)):zy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _o.fromString(t.substring(4,t.length-2))}}class Oe extends cr{construct(t,n,s){return new Oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new St(ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const gO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends cr{construct(t,n,s){return new kn(t,n,s)}static isValidIdentifier(t){return gO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sw}static keyField(){return new kn([sw])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new St(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new St(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new St(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(Oe.fromString(t))}static fromName(t){return new Ot(Oe.fromString(t).popFirst(5))}static empty(){return new Ot(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(e,t,n){if(!n)throw new St(ct.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yO(e,t,n,s){if(t===!0&&s===!0)throw new St(ct.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function rw(e){if(!Ot.isDocumentKey(e))throw new St(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function aw(e){if(Ot.isDocumentKey(e))throw new St(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function W1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Nm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ft(12329,{type:typeof e})}function Ti(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new St(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(e);throw new St(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e,t){const n={typeString:e};return t&&(n.value=t),n}function tf(e,t){if(!W1(e))throw new St(ct.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const f=e[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new St(ct.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=-62135596800,lw=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*lw);return new Ve(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ow)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lw}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tf(t,Ve._jsonSchema))return new Ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ow;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:fn("string",Ve._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new Ve(0,0))}static max(){return new Zt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=-1;function _O(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=Zt.fromTimestamp(s===1e9?new Ve(n+1,0):new Ve(n,s));return new Eo(o,Ot.empty(),t)}function vO(e){return new Eo(e.readTime,e.key,Ch)}class Eo{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Eo(Zt.min(),Ot.empty(),Ch)}static max(){return new Eo(Zt.max(),Ot.empty(),Ch)}}function TO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(e){if(e.code!==ct.FAILED_PRECONDITION||e.message!==bO)throw e;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new yt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof yt?n:yt.resolve(n)}catch(n){return yt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):yt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):yt.reject(n)}static resolve(t){return new yt((n,s)=>{n(t)})}static reject(t){return new yt((n,s)=>{s(t)})}static waitFor(t){return new yt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(t){let n=yt.resolve(!1);for(const s of t)n=n.next(o=>o?yt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new yt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next(E=>{f[_]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new yt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function wO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Om.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-1;function km(e){return e==null}function om(e){return e===0&&1/e==-1/0}function xO(e){return typeof e=="number"&&Number.isInteger(e)&&!om(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="";function SO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=uw(t)),t=AO(e.get(n),t);return uw(t)}function AO(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case Z1:n+="";break;default:n+=u}}return n}function uw(e){return e+Z1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Do(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Y1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){this.comparator=t,this.root=n||On.EMPTY}insert(t,n){return new Ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(t){return new Ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,On.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _d(this.root,t,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _d(this.root,t,this.comparator,!0)}}class _d{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class On{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??On.RED,this.left=o??On.EMPTY,this.right=u??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new On(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return On.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ft(27949);return t+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new On(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.comparator=t,this.data=new Ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hw(this.data.getIterator())}getIteratorFrom(t){return new hw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new yn(this.comparator);return n.data=t,n}}class hw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.fields=t,t.sort(kn.comparator)}static empty(){return new qi([])}unionWith(t){let n=new yn(kn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zu(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new K1("Invalid base64 string: "+u):u}}(t);return new Vn(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Vn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const RO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(e){if(ye(!!e,39018),typeof e=="string"){let t=0;const n=RO.exec(e);if(ye(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:sn(e.seconds),nanos:sn(e.nanos)}}function sn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xo(e){return typeof e=="string"?Vn.fromBase64String(e):Vn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="server_timestamp",X1="__type__",Q1="__previous_value__",J1="__local_write_time__";function $_(e){return(e?.mapValue?.fields||{})[X1]?.stringValue===$1}function Vm(e){const t=e.mapValue.fields[Q1];return $_(t)?Vm(t):t}function Ih(e){const t=wo(e.mapValue.fields[J1].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,n,s,o,u,f,m,y,_,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Ph="(default)";class Mh{constructor(t,n){this.projectId=t,this.database=n||Ph}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(t){return t instanceof Mh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__type__",IO="__max__",vd={mapValue:{}},eA="__vector__",lm="value";function So(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$_(e)?4:MO(e)?9007199254740991:PO(e)?10:11:Ft(28295,{value:e})}function Er(e,t){if(e===t)return!0;const n=So(e);if(n!==So(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ih(e).isEqual(Ih(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=wo(o.timestampValue),m=wo(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return xo(o.bytesValue).isEqual(xo(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return sn(o.geoPointValue.latitude)===sn(u.geoPointValue.latitude)&&sn(o.geoPointValue.longitude)===sn(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return sn(o.integerValue)===sn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=sn(o.doubleValue),m=sn(u.doubleValue);return f===m?om(f)===om(m):isNaN(f)&&isNaN(m)}return!1}(e,t);case 9:return zu(e.arrayValue.values||[],t.arrayValue.values||[],Er);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(cw(f)!==cw(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Er(f[y],m[y])))return!1;return!0}(e,t);default:return Ft(52216,{left:e})}}function Lh(e,t){return(e.values||[]).find(n=>Er(n,t))!==void 0}function Uu(e,t){if(e===t)return 0;const n=So(e),s=So(t);if(n!==s)return ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(u,f){const m=sn(u.integerValue||u.doubleValue),y=sn(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(e,t);case 3:return fw(e.timestampValue,t.timestampValue);case 4:return fw(Ih(e),Ih(t));case 5:return zy(e.stringValue,t.stringValue);case 6:return function(u,f){const m=xo(u),y=xo(f);return m.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const E=ae(m[_],y[_]);if(E!==0)return E}return ae(m.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const m=ae(sn(u.latitude),sn(f.latitude));return m!==0?m:ae(sn(u.longitude),sn(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return dw(e.arrayValue,t.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},_=m[lm]?.arrayValue,E=y[lm]?.arrayValue,A=ae(_?.values?.length||0,E?.values?.length||0);return A!==0?A:dw(_,E)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===vd.mapValue&&f===vd.mapValue)return 0;if(u===vd.mapValue)return 1;if(f===vd.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=f.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const S=zy(y[A],E[A]);if(S!==0)return S;const N=Uu(m[y[A]],_[E[A]]);if(N!==0)return N}return ae(y.length,E.length)}(e.mapValue,t.mapValue);default:throw Ft(23264,{he:n})}}function fw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=wo(e),s=wo(t),o=ae(n.seconds,s.seconds);return o!==0?o:ae(n.nanos,s.nanos)}function dw(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Uu(n[o],s[o]);if(u)return u}return ae(n.length,s.length)}function Bu(e){return Uy(e)}function Uy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=wo(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return xo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Uy(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Uy(n.fields[f])}`;return o+"}"}(e.mapValue):Ft(61005,{value:e})}function zd(e){switch(So(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vm(e);return t?16+zd(t):16;case 5:return 2*e.stringValue.length;case 6:return xo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+zd(u),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return Do(s.fields,(u,f)=>{o+=u.length+zd(f)}),o}(e.mapValue);default:throw Ft(13486,{value:e})}}function mw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function By(e){return!!e&&"integerValue"in e}function X_(e){return!!e&&"arrayValue"in e}function pw(e){return!!e&&"nullValue"in e}function gw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ud(e){return!!e&&"mapValue"in e}function PO(e){return(e?.mapValue?.fields||{})[tA]?.stringValue===eA}function mh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Do(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=mh(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mh(e.arrayValue.values[n]);return t}return{...e}}function MO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===IO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.value=t}static empty(){return new gi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ud(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mh(n)}setAll(t){let n=kn.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=mh(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Er(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Ud(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Do(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new gi(mh(this.value))}}function nA(e){const t=[];return Do(e.fields,(n,s)=>{const o=new kn([n]);if(Ud(s)){const u=nA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new qi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Kn(t,0,Zt.min(),Zt.min(),Zt.min(),gi.empty(),0)}static newFoundDocument(t,n,s,o){return new Kn(t,1,n,Zt.min(),s,o,0)}static newNoDocument(t,n){return new Kn(t,2,n,Zt.min(),Zt.min(),gi.empty(),0)}static newUnknownDocument(t,n){return new Kn(t,3,n,Zt.min(),Zt.min(),gi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,n){this.position=t,this.inclusive=n}}function yw(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?s=Ot.comparator(Ot.fromName(f.referenceValue),n.key):s=Uu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _w(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Er(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function LO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class hn extends iA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new NO(t,n,s):n==="array-contains"?new VO(t,s):n==="in"?new jO(t,s):n==="not-in"?new zO(t,s):n==="array-contains-any"?new UO(t,s):new hn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new OO(t,s):new kO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uu(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Uu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fs extends iA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Fs(t,n)}matches(t){return sA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sA(e){return e.op==="and"}function rA(e){return DO(e)&&sA(e)}function DO(e){for(const t of e.filters)if(t instanceof Fs)return!1;return!0}function Fy(e){if(e instanceof hn)return e.field.canonicalString()+e.op.toString()+Bu(e.value);if(rA(e))return e.filters.map(t=>Fy(t)).join(",");{const t=e.filters.map(n=>Fy(n)).join(",");return`${e.op}(${t})`}}function aA(e,t){return e instanceof hn?function(s,o){return o instanceof hn&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(e,t):e instanceof Fs?function(s,o){return o instanceof Fs&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&aA(f,o.filters[m]),!0):!1}(e,t):void Ft(19439)}function oA(e){return e instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${Bu(n.value)}`}(e):e instanceof Fs?function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"}(e):"Filter"}class NO extends hn{constructor(t,n,s){super(t,n,s),this.key=Ot.fromName(s.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class OO extends hn{constructor(t,n){super(t,"in",n),this.keys=lA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kO extends hn{constructor(t,n){super(t,"not-in",n),this.keys=lA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lA(e,t){return(t.arrayValue?.values||[]).map(n=>Ot.fromName(n.referenceValue))}class VO extends hn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return X_(n)&&Lh(n.arrayValue,this.value)}}class jO extends hn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Lh(this.value.arrayValue,n)}}class zO extends hn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lh(this.value.arrayValue,n)}}class UO extends hn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!X_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Lh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function vw(e,t=null,n=[],s=[],o=null,u=null,f=null){return new BO(e,t,n,s,o,u,f)}function Q_(e){const t=Yt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Fy(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),km(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Bu(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Bu(s)).join(",")),t.Te=n}return t.Te}function J_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!LO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!aA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_w(e.startAt,t.startAt)&&_w(e.endAt,t.endAt)}function Hy(e){return Ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FO(e,t,n,s,o,u,f,m){return new ec(e,t,n,s,o,u,f,m)}function jm(e){return new ec(e)}function Tw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function uA(e){return e.collectionGroup!==null}function ph(e){const t=Yt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new yn(kn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Dh(u,s))}),n.has(kn.keyField().canonicalString())||t.Ie.push(new Dh(kn.keyField(),s))}return t.Ie}function mr(e){const t=Yt(e);return t.Ee||(t.Ee=HO(t,ph(e))),t.Ee}function HO(e,t){if(e.limitType==="F")return vw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)});const n=e.endAt?new um(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new um(e.startAt.position,e.startAt.inclusive):null;return vw(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function qy(e,t){const n=e.filters.concat([t]);return new ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cm(e,t,n){return new ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zm(e,t){return J_(mr(e),mr(t))&&e.limitType===t.limitType}function cA(e){return`${Q_(mr(e))}|lt:${e.limitType}`}function Su(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>oA(o)).join(", ")}]`),km(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Bu(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Bu(o)).join(",")),`Target(${s})`}(mr(e))}; limitType=${e.limitType})`}function Um(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ot.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of ph(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(f,m,y){const _=yw(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,ph(s),o)||s.endAt&&!function(f,m,y){const _=yw(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,ph(s),o))}(e,t)}function qO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hA(e){return(t,n)=>{let s=!1;for(const o of ph(e)){const u=GO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function GO(e,t,n){const s=e.field.isKeyField()?Ot.comparator(t.key,n.key):function(u,f,m){const y=f.data.field(u),_=m.data.field(u);return y!==null&&_!==null?Uu(y,_):Ft(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Ft(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Do(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Ge(Ot.comparator);function ca(){return WO}const fA=new Ge(Ot.comparator);function sh(...e){let t=fA;for(const n of e)t=t.insert(n.key,n);return t}function dA(e){let t=fA;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function El(){return gh()}function mA(){return gh()}function gh(){return new Nl(e=>e.toString(),(e,t)=>e.isEqual(t))}const ZO=new Ge(Ot.comparator),YO=new yn(Ot.comparator);function oe(...e){let t=YO;for(const n of e)t=t.add(n);return t}const KO=new yn(ae);function $O(){return KO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(t)?"-0":t}}function pA(e){return{integerValue:""+e}}function XO(e,t){return xO(t)?pA(t):tv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this._=void 0}}function QO(e,t,n){return e instanceof Nh?function(o,u){const f={fields:{[X1]:{stringValue:$1},[J1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$_(u)&&(u=Vm(u)),u&&(f.fields[Q1]=u),{mapValue:f}}(n,t):e instanceof Oh?yA(e,t):e instanceof kh?_A(e,t):function(o,u){const f=gA(o,u),m=bw(f)+bw(o.Ae);return By(f)&&By(o.Ae)?pA(m):tv(o.serializer,m)}(e,t)}function JO(e,t,n){return e instanceof Oh?yA(e,t):e instanceof kh?_A(e,t):n}function gA(e,t){return e instanceof hm?function(s){return By(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Nh extends Bm{}class Oh extends Bm{constructor(t){super(),this.elements=t}}function yA(e,t){const n=vA(t);for(const s of e.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class kh extends Bm{constructor(t){super(),this.elements=t}}function _A(e,t){let n=vA(t);for(const s of e.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class hm extends Bm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function bw(e){return sn(e.integerValue||e.doubleValue)}function vA(e){return X_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,n){this.field=t,this.transform=n}}function ek(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Oh&&o instanceof Oh||s instanceof kh&&o instanceof kh?zu(s.elements,o.elements,Er):s instanceof hm&&o instanceof hm?Er(s.Ae,o.Ae):s instanceof Nh&&o instanceof Nh}(e.transform,t.transform)}class nk{constructor(t,n){this.version=t,this.transformResults=n}}class ps{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ps}static exists(t){return new ps(void 0,t)}static updateTime(t){return new ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Fm{}function TA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ev(e.key,ps.none()):new ef(e.key,e.data,ps.none());{const n=e.data,s=gi.empty();let o=new yn(kn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new No(e.key,s,new qi(o.toArray()),ps.none())}}function ik(e,t,n){e instanceof ef?function(o,u,f){const m=o.value.clone(),y=ww(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(e,t,n):e instanceof No?function(o,u,f){if(!Bd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=ww(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(bA(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(e,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function yh(e,t,n,s){return e instanceof ef?function(u,f,m,y){if(!Bd(u.precondition,f))return m;const _=u.value.clone(),E=xw(u.fieldTransforms,y,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(e,t,n,s):e instanceof No?function(u,f,m,y){if(!Bd(u.precondition,f))return m;const _=xw(u.fieldTransforms,y,f),E=f.data;return E.setAll(bA(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(e,t,n,s):function(u,f,m){return Bd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(e,t,n)}function sk(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=gA(s.transform,o||null);u!=null&&(n===null&&(n=gi.empty()),n.set(s.field,u))}return n||null}function Ew(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zu(s,o,(u,f)=>ek(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ef extends Fm{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class No extends Fm{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function ww(e,t,n){const s=new Map;ye(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,JO(f,m,n[o]))}return s}function xw(e,t,n){const s=new Map;for(const o of e){const u=o.transform,f=n.data.field(o.field);s.set(o.field,QO(u,f,t))}return s}class ev extends Fm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rk extends Fm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&ik(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yh(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yh(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=mA();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=TA(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Zt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&zu(this.mutations,t.mutations,(n,s)=>Ew(n,s))&&zu(this.baseMutations,t.baseMutations,(n,s)=>Ew(n,s))}}class nv{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ye(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return ZO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new nv(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,he;function uk(e){switch(e){case ct.OK:return Ft(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Ft(15467,{code:e})}}function EA(e){if(e===void 0)return ua("GRPC error has no .code"),ct.UNKNOWN;switch(e){case un.OK:return ct.OK;case un.CANCELLED:return ct.CANCELLED;case un.UNKNOWN:return ct.UNKNOWN;case un.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case un.INTERNAL:return ct.INTERNAL;case un.UNAVAILABLE:return ct.UNAVAILABLE;case un.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case un.NOT_FOUND:return ct.NOT_FOUND;case un.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case un.ABORTED:return ct.ABORTED;case un.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case un.DATA_LOSS:return ct.DATA_LOSS;default:return Ft(39323,{code:e})}}(he=un||(un={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new _o([4294967295,4294967295],0);function Sw(e){const t=ck().encode(e),n=new V1;return n.update(t),new Uint8Array(n.digest())}function Aw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new _o([n,s],0),new _o([o,u],0)]}class iv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new rh(`Invalid padding: ${n}`);if(s<0)throw new rh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new rh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=_o.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(_o.fromNumber(s)));return o.compare(hk)===1&&(o=new _o([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Sw(t),[s,o]=Aw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new iv(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.ge===0)return;const n=Sw(t),[s,o]=Aw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,nf.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Hm(Zt.min(),o,new Ge(ae),ca(),oe())}}class nf{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new nf(s,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class wA{constructor(t,n){this.targetId=t,this.Ce=n}}class xA{constructor(t,n,s=Vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Rw{constructor(){this.ve=0,this.Fe=Cw(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=oe(),n=oe(),s=oe();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ft(38017,{changeType:u})}}),new nf(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Cw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fk{constructor(t){this.Ge=t,this.ze=new Map,this.je=ca(),this.Je=Td(),this.He=Td(),this.Ye=new Ge(ae)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Ft(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Hy(u))if(s===0){const f=new Ot(u.path);this.et(n,f,Kn.newNoDocument(f,Zt.min()))}else ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=xo(s).toUint8Array()}catch(y){if(y instanceof K1)return ju("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new iv(f,o,u)}catch(y){return ju(y instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Hy(m.target)){const y=new Ot(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Kn.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=oe();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Hm(t,n,this.Ye,this.je,s);return this.je=ca(),this.Je=Td(),this.He=Td(),this.Ye=new Ge(ae),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Rw,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new yn(ae),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new yn(ae),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Rw),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Td(){return new Ge(Ot.comparator)}function Cw(){return new Ge(Ot.comparator)}const dk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pk={and:"AND",or:"OR"};class gk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Gy(e,t){return e.useProto3Json||km(t)?t:{value:t}}function fm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yk(e,t){return fm(e,t.toTimestamp())}function pr(e){return ye(!!e,49232),Zt.fromTimestamp(function(n){const s=wo(n);return new Ve(s.seconds,s.nanos)}(e))}function sv(e,t){return Wy(e,t).canonicalString()}function Wy(e,t){const n=function(o){return new Oe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function AA(e){const t=Oe.fromString(e);return ye(MA(t),10190,{key:t.toString()}),t}function Zy(e,t){return sv(e.databaseId,t.path)}function ay(e,t){const n=AA(t);if(n.get(1)!==e.databaseId.projectId)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ot(CA(n))}function RA(e,t){return sv(e.databaseId,t)}function _k(e){const t=AA(e);return t.length===4?Oe.emptyPath():CA(t)}function Yy(e){return new Oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function CA(e){return ye(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Iw(e,t,n){return{name:Zy(e,t),fields:n.value.mapValue.fields}}function vk(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ft(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(ye(E===void 0||typeof E=="string",58123),Vn.fromBase64String(E||"")):(ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Vn.fromUint8Array(E||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(_){const E=_.code===void 0?ct.UNKNOWN:EA(_.code);return new St(E,_.message||"")}(f);n=new xA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ay(e,s.document.name),u=pr(s.document.updateTime),f=s.document.createTime?pr(s.document.createTime):Zt.min(),m=new gi({mapValue:{fields:s.document.fields}}),y=Kn.newFoundDocument(o,u,f,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new Fd(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ay(e,s.document),u=s.readTime?pr(s.readTime):Zt.min(),f=Kn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Fd([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ay(e,s.document),u=s.removedTargetIds||[];n=new Fd([],u,o,null)}else{if(!("filter"in t))return Ft(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new lk(o,u),m=s.targetId;n=new wA(m,f)}}return n}function Tk(e,t){let n;if(t instanceof ef)n={update:Iw(e,t.key,t.value)};else if(t instanceof ev)n={delete:Zy(e,t.key)};else if(t instanceof No)n={update:Iw(e,t.key,t.data),updateMask:Ik(t.fieldMask)};else{if(!(t instanceof rk))return Ft(16599,{Vt:t.type});n={verify:Zy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hm)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ft(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:yk(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ft(27497)}(e,t.precondition)),n}function bk(e,t){return e&&e.length>0?(ye(t!==void 0,14353),e.map(n=>function(o,u){let f=o.updateTime?pr(o.updateTime):pr(u);return f.isEqual(Zt.min())&&(f=pr(u)),new nk(f,o.transformResults||[])}(n,t))):[]}function Ek(e,t){return{documents:[RA(e,t.path)]}}function wk(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RA(e,o);const u=function(_){if(_.length!==0)return PA(Fs.create(_,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(S){return{field:Au(S.field),direction:Ak(S.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Gy(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:o}}function xk(e){let t=_k(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=IA(A);return S instanceof Fs&&rA(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(D){return new Dh(Ru(D.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,km(S)?null:S}(n.limit));let y=null;n.startAt&&(y=function(A){const S=!!A.before,N=A.values||[];return new um(N,S)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const S=!A.before,N=A.values||[];return new um(N,S)}(n.endAt)),FO(t,o,f,u,m,"F",y,_)}function Sk(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function IA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ru(n.unaryFilter.field);return hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ru(n.unaryFilter.field);return hn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ru(n.unaryFilter.field);return hn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ru(n.unaryFilter.field);return hn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(e):e.fieldFilter!==void 0?function(n){return hn.create(Ru(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Fs.create(n.compositeFilter.filters.map(s=>IA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(n.compositeFilter.op))}(e):Ft(30097,{filter:e})}function Ak(e){return dk[e]}function Rk(e){return mk[e]}function Ck(e){return pk[e]}function Au(e){return{fieldPath:e.canonicalString()}}function Ru(e){return kn.fromServerFormat(e.fieldPath)}function PA(e){return e instanceof hn?function(n){if(n.op==="=="){if(gw(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NAN"}};if(pw(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gw(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NAN"}};if(pw(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(n.field),op:Rk(n.op),value:n.value}}}(e):e instanceof Fs?function(n){const s=n.getFilters().map(o=>PA(o));return s.length===1?s[0]:{compositeFilter:{op:Ck(n.op),filters:s}}}(e):Ft(54877,{filter:e})}function Ik(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function MA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n,s,o,u=Zt.min(),f=Zt.min(),m=Vn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new mo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t){this.yt=t}}function Mk(e){const t=xk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.Cn=new Dk}addToCollectionParentIndex(t,n){return this.Cn.add(n),yt.resolve()}getCollectionParents(t,n){return yt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return yt.resolve()}deleteFieldIndex(t,n){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,n){return yt.resolve()}getDocumentsMatchingTarget(t,n){return yt.resolve(null)}getIndexType(t,n){return yt.resolve(0)}getFieldIndexes(t,n){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,n){return yt.resolve(Eo.min())}getMinOffsetFromCollectionGroup(t,n){return yt.resolve(Eo.min())}updateCollectionGroup(t,n,s){return yt.resolve()}updateIndexEntries(t,n){return yt.resolve()}}class Dk{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new yn(Oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new yn(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(LA,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fu(0)}static cr(){return new Fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="LruGarbageCollector",DA=1048576;function Lw([e,t],[n,s]){const o=ae(e,n);return o===0?ae(t,s):o}class Nk{constructor(t){this.Ir=t,this.buffer=new yn(Lw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Lw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ok{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ct(Mw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tc(n)?Ct(Mw,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Vr(3e5)})}}class kk{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return yt.resolve(Om.ce);const s=new Nk(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(Pw)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pw):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(_=Date.now(),xu()<=re.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Vk(e,t){return new kk(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.changes=new Nl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?yt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&yh(s.mutation,o,qi.empty(),Ve.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,oe()).next(()=>s))}getLocalViewOfDocuments(t,n,s=oe()){const o=El();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=sh();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=El();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,oe()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=ca();const f=gh(),m=function(){return gh()}();return n.forEach((y,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof No)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),yh(E.mutation,_,E.mutation.getFieldMask(),Ve.now())):f.set(_.key,qi.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>m.set(_,new zk(E,f.get(_)??null))),m))}recalculateAndSaveOverlays(t,n){const s=gh();let o=new Ge((f,m)=>f-m),u=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let E=s.get(y)||qi.empty();E=m.applyToLocalView(_,E),s.set(y,E);const A=(o.get(m.batchId)||oe()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,E=y.value,A=mA();E.forEach(S=>{if(!u.has(S)){const N=TA(n.get(S),s.get(S));N!==null&&A.set(S,N),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,A))}return yt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return Ot.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):yt.resolve(El());let m=Ch,y=u;return f.next(_=>yt.forEach(_,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?yt.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{y=y.insert(E,S)}))).next(()=>this.populateOverlays(t,_,u)).next(()=>this.computeViews(t,y,_,oe())).next(E=>({batchId:m,changes:dA(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(s=>{let o=sh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=sh();return this.indexManager.getCollectionParents(t,u).next(m=>yt.forEach(m,y=>{const _=function(A,S){return new ec(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((y,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Kn.newInvalidDocument(E)))});let m=sh();return f.forEach((y,_)=>{const E=u.get(y);E!==void 0&&yh(E.mutation,_,qi.empty(),Ve.now()),Um(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return yt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}}(n)),yt.resolve()}getNamedQuery(t,n){return yt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:Mk(o.bundledQuery),readTime:pr(o.readTime)}}(n)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.overlays=new Ge(Ot.comparator),this.qr=new Map}getOverlay(t,n){return yt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=El();return yt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),yt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),yt.resolve()}getOverlaysForCollection(t,n,s){const o=El(),u=n.length+1,f=new Ot(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return yt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Ge((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=El(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=El(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return yt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new ok(n,s));let u=this.qr.get(n);u===void 0&&(u=oe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Qr=new yn(Cn.$r),this.Ur=new yn(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Cn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Cn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Ot(new Oe([])),s=new Cn(n,t),o=new Cn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ot(new Oe([])),s=new Cn(n,t),o=new Cn(n,t+1);let u=oe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Cn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Cn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ot.comparator(t.key,n.key)||ae(t.Yr,n.Yr)}static Kr(t,n){return ae(t.Yr,n.Yr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(Cn.$r)}checkEmpty(t){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ak(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Cn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return yt.resolve(f)}lookupMutationBatch(t,n){return yt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return yt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?K_:this.tr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Cn(n,0),o=new Cn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),yt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new yn(ae);return n.forEach(o=>{const u=new Cn(o,0),f=new Cn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),yt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Ot.isDocumentKey(u)||(u=u.child(""));const f=new Cn(new Ot(u),0);let m=new yn(ae);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Yr)),!0)},f),yt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return yt.forEach(n.mutations,o=>{const u=new Cn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Cn(n,0),o=this.Zr.firstAfterOrEqual(s);return yt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,yt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t){this.ri=t,this.docs=function(){return new Ge(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return yt.resolve(s?s.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(t,n){let s=ca();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Kn.newInvalidDocument(o))}),yt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ca();const f=n.path,m=new Ot(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||TO(vO(E),s)<=0||(o.has(E.key)||Um(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return yt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Ft(9500)}ii(t,n){return yt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Wk(this)}getSize(t){return yt.resolve(this.size)}}class Wk extends jk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),yt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t){this.persistence=t,this.si=new Nl(n=>Q_(n),J_),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.oi=0,this._i=new rv,this.targetCount=0,this.ai=Fu.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),yt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Fu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,yt.resolve()}updateTargetData(t,n){return this.Pr(n),yt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),yt.waitFor(u).next(()=>o)}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return yt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),yt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),yt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),yt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return yt.resolve(s)}containsKey(t,n){return yt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Om(0),this.li=!1,this.li=!0,this.hi=new Hk,this.referenceDelegate=t(this),this.Pi=new Zk(this),this.indexManager=new Lk,this.remoteDocumentCache=function(o){return new Gk(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Pk(n),this.Ii=new Bk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Fk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new qk(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Ct("MemoryPersistence","Starting transaction:",t);const o=new Yk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return yt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class Yk extends EO{constructor(t){super(),this.currentSequenceNumber=t}}class av{constructor(t){this.persistence=t,this.Ri=new rv,this.Vi=null}static mi(t){return new av(t)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),yt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),yt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),yt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.fi,s=>{const o=Ot.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Zt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return yt.or([()=>yt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class dm{constructor(t,n){this.persistence=t,this.pi=new Nl(s=>SO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Vk(this,n)}static mi(t,n){return new dm(t,n)}Ei(){}di(t){return yt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return yt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?yt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Zt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),yt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),yt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),yt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),yt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zd(t.data.value)),n}br(t,n,s){return yt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return yt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=oe(),o=oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ov(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AM()?8:wO(Xn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Kk;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(xu()<=re.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",Su(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yt.resolve()):(xu()<=re.DEBUG&&Ct("QueryEngine","Query:",Su(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(xu()<=re.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",Su(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mr(n))):yt.resolve())}ys(t,n){if(Tw(n))return yt.resolve(null);let s=mr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=cm(n,null,"F"),s=mr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=oe(...u);return this.ps.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const _=this.Ds(n,m);return this.Cs(n,_,f,y.readTime)?this.ys(t,cm(n,null,"F")):this.vs(t,_,n,y)}))})))}ws(t,n,s,o){return Tw(n)||o.isEqual(Zt.min())?yt.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?yt.resolve(null):(xu()<=re.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Su(n)),this.vs(t,f,n,_O(o,Ch)).next(m=>m))})}Ds(t,n){let s=new yn(hA(t));return n.forEach((o,u)=>{Um(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return xu()<=re.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Su(n)),this.ps.getDocumentsMatchingQuery(t,n,Eo.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LocalStore",Xk=3e8;class Qk{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Ge(ae),this.xs=new Nl(u=>Q_(u),J_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Uk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Jk(e,t,n,s){return new Qk(e,t,n,s)}async function OA(e,t){const n=Yt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=oe();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:f,addedBatchIds:m}))})})}function tV(e,t){const n=Yt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,_,E){const A=_.batch,S=A.keys();let N=yt.resolve();return S.forEach(D=>{N=N.next(()=>E.getEntry(y,D)).next(B=>{const q=_.docVersions.get(D);ye(q!==null,48541),B.version.compareTo(q)<0&&(A.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),E.addEntry(B)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=oe();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function kA(e){const t=Yt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function eV(e,t){const n=Yt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let N=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?N=N.withResumeToken(Vn.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),function(B,q,Y){return B.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Xk?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,N,E)&&m.push(n.Pi.updateTargetData(u,N))});let y=ca(),_=oe();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(nV(u,f,t.documentUpdates).next(E=>{y=E.ks,_=E.qs})),!s.isEqual(Zt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return yt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(n.Ms=o,u))}function nV(e,t,n){let s=oe(),o=oe();return n.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let f=ca();return n.forEach((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Zt.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):Ct(lv,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{ks:f,qs:o}})}function iV(e,t){const n=Yt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=K_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function sV(e,t){const n=Yt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,yt.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new mo(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Ky(e,t,n){const s=Yt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!tc(f))throw f;Ct(lv,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Dw(e,t,n){const s=Yt(e);let o=Zt.min(),u=oe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,E){const A=Yt(y),S=A.xs.get(E);return S!==void 0?yt.resolve(A.Ms.get(S)):A.Pi.getTargetData(_,E)}(s,f,mr(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Zt.min(),n?u:oe())).next(m=>(rV(s,qO(t),m),{documents:m,Qs:u})))}function rV(e,t,n){let s=e.Os.get(t)||Zt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Os.set(t,s)}class Nw{constructor(){this.activeTargetIds=$O()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aV{constructor(){this.Mo=new Nw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Nw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="ConnectivityMonitor";class kw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ct(Ow,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ct(Ow,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function $y(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="RestConnection",lV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=$y(),m=this.zo(t,n.toUriEncodedString());Ct(oy,`Sending RPC '${t}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(m),E=Io(_);return this.Jo(t,m,y,s,E).then(A=>(Ct(oy,`Received RPC '${t}' ${f}: `,A),A),A=>{throw ju(oy,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=lV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class hV extends uV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=$y();return new Promise((m,y)=>{const _=new j1;_.setWithCredentials(!0),_.listenOnce(z1.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case jd.NO_ERROR:const A=_.getResponseJson();Ct(Zn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case jd.TIMEOUT:Ct(Zn,`RPC '${t}' ${f} timed out`),y(new St(ct.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const S=_.getStatus();if(Ct(Zn,`RPC '${t}' ${f} failed with status:`,S,"response text:",_.getResponseText()),S>0){let N=_.getResponseJson();Array.isArray(N)&&(N=N[0]);const D=N?.error;if(D&&D.status&&D.message){const B=function(Y){const at=Y.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(at)>=0?at:ct.UNKNOWN}(D.status);y(new St(B,D.message))}else y(new St(ct.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new St(ct.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Ct(Zn,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);Ct(Zn,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",E,s,15)})}T_(t,n,s){const o=$y(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=F1(),m=B1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");Ct(Zn,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let S=!1,N=!1;const D=new cV({Yo:q=>{N?Ct(Zn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(S||(Ct(Zn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),S=!0),Ct(Zn,`RPC '${t}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),B=(q,Y,at)=>{q.listen(Y,$=>{try{at($)}catch(gt){setTimeout(()=>{throw gt},0)}})};return B(A,ih.EventType.OPEN,()=>{N||(Ct(Zn,`RPC '${t}' stream ${o} transport opened.`),D.o_())}),B(A,ih.EventType.CLOSE,()=>{N||(N=!0,Ct(Zn,`RPC '${t}' stream ${o} transport closed`),D.a_(),this.E_(A))}),B(A,ih.EventType.ERROR,q=>{N||(N=!0,ju(Zn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),D.a_(new St(ct.UNAVAILABLE,"The operation could not be completed")))}),B(A,ih.EventType.MESSAGE,q=>{if(!N){const Y=q.data[0];ye(!!Y,16349);const at=Y,$=at?.error||at[0]?.error;if($){Ct(Zn,`RPC '${t}' stream ${o} received error:`,$);const gt=$.status;let ht=function(P){const O=un[P];if(O!==void 0)return EA(O)}(gt),xt=$.message;ht===void 0&&(ht=ct.INTERNAL,xt="Unknown error status: "+gt+" with message "+$.message),N=!0,D.a_(new St(ht,xt)),A.close()}else Ct(Zn,`RPC '${t}' stream ${o} received:`,Y),D.u_(Y)}}),B(m,U1.STAT_EVENT,q=>{q.stat===jy.PROXY?Ct(Zn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===jy.NOPROXY&&Ct(Zn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e){return new gk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="PersistentStream";class jA{constructor(t,n,s,o,u,f,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ct.RESOURCE_EXHAUSTED?(ua(n.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new St(ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ct(Vw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Ct(Vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fV extends jA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=vk(this.serializer,t),s=function(u){if(!("targetChange"in u))return Zt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Zt.min():f.readTime?pr(f.readTime):Zt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Yy(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=Hy(y)?{documents:Ek(u,y)}:{query:wk(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=SA(u,f.resumeToken);const _=Gy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Zt.min())>0){m.readTime=fm(u,f.snapshotVersion.toTimestamp());const _=Gy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,t);const s=Sk(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Yy(this.serializer),n.removeTarget=t,this.q_(n)}}class dV extends jA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ye(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ye(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ye(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=bk(t.writeResults,t.commitTime),s=pr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Yy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Tk(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{}class pV extends mV{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,Wy(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new St(ct.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(t,Wy(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new St(ct.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class gV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ua(n),this.aa=!1):Ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="RemoteStore";class yV{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ol(this)&&(Ct(Dl,"Restarting streams for network reachability change."),await async function(y){const _=Yt(y);_.Ea.add(4),await sf(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Gm(_)}(this))})}),this.Ra=new gV(s,o)}}async function Gm(e){if(Ol(e))for(const t of e.da)await t(!0)}async function sf(e){for(const t of e.da)await t(!1)}function zA(e,t){const n=Yt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),fv(n)?hv(n):nc(n).O_()&&cv(n,t))}function uv(e,t){const n=Yt(e),s=nc(n);n.Ia.delete(t),s.O_()&&UA(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ol(n)&&n.Ra.set("Unknown"))}function cv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nc(e).Y_(t)}function UA(e,t){e.Va.Ue(t),nc(e).Z_(t)}function hv(e){e.Va=new fk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),nc(e).start(),e.Ra.ua()}function fv(e){return Ol(e)&&!nc(e).x_()&&e.Ia.size>0}function Ol(e){return Yt(e).Ea.size===0}function BA(e){e.Va=void 0}async function _V(e){e.Ra.set("Online")}async function vV(e){e.Ia.forEach((t,n)=>{cv(e,t)})}async function TV(e,t){BA(e),fv(e)?(e.Ra.ha(t),hv(e)):e.Ra.set("Unknown")}async function bV(e,t,n){if(e.Ra.set("Online"),t instanceof xA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(e,t)}catch(s){Ct(Dl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await mm(e,s)}else if(t instanceof Fd?e.Va.Ze(t):t instanceof wA?e.Va.st(t):e.Va.tt(t),!n.isEqual(Zt.min()))try{const s=await kA(e.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Vn.EMPTY_BYTE_STRING,E.snapshotVersion)),UA(u,y);const A=new mo(E.target,y,_,E.sequenceNumber);cv(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Ct(Dl,"Failed to raise snapshot:",s),await mm(e,s)}}async function mm(e,t,n){if(!tc(t))throw t;e.Ea.add(1),await sf(e),e.Ra.set("Offline"),n||(n=()=>kA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ct(Dl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Gm(e)})}function FA(e,t){return t().catch(n=>mm(e,n,t))}async function Wm(e){const t=Yt(e),n=Ao(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:K_;for(;EV(t);)try{const o=await iV(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,wV(t,o)}catch(o){await mm(t,o)}HA(t)&&qA(t)}function EV(e){return Ol(e)&&e.Ta.length<10}function wV(e,t){e.Ta.push(t);const n=Ao(e);n.O_()&&n.X_&&n.ea(t.mutations)}function HA(e){return Ol(e)&&!Ao(e).x_()&&e.Ta.length>0}function qA(e){Ao(e).start()}async function xV(e){Ao(e).ra()}async function SV(e){const t=Ao(e);for(const n of e.Ta)t.ea(n.mutations)}async function AV(e,t,n){const s=e.Ta.shift(),o=nv.from(s,t,n);await FA(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Wm(e)}async function RV(e,t){t&&Ao(e).X_&&await async function(s,o){if(function(f){return uk(f)&&f!==ct.ABORTED}(o.code)){const u=s.Ta.shift();Ao(s).B_(),await FA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wm(s)}}(e,t),HA(e)&&qA(e)}async function jw(e,t){const n=Yt(e);n.asyncQueue.verifyOperationInProgress(),Ct(Dl,"RemoteStore received new credentials");const s=Ol(n);n.Ea.add(3),await sf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gm(n)}async function CV(e,t){const n=Yt(e);t?(n.Ea.delete(2),await Gm(n)):t||(n.Ea.add(2),await sf(n),n.Ra.set("Unknown"))}function nc(e){return e.ma||(e.ma=function(n,s,o){const u=Yt(n);return u.sa(),new fV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:_V.bind(null,e),t_:vV.bind(null,e),r_:TV.bind(null,e),H_:bV.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),fv(e)?hv(e):e.Ra.set("Unknown")):(await e.ma.stop(),BA(e))})),e.ma}function Ao(e){return e.fa||(e.fa=function(n,s,o){const u=Yt(n);return u.sa(),new dV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:xV.bind(null,e),r_:RV.bind(null,e),ta:SV.bind(null,e),na:AV.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Wm(e)):(await e.fa.stop(),e.Ta.length>0&&(Ct(Dl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new dv(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mv(e,t){if(ua("AsyncQueue",`${t}: ${e}`),tc(e))return new St(ct.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{static emptySet(t){return new Vu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Ot.comparator(n.key,s.key):(n,s)=>Ot.comparator(n.key,s.key),this.keyedMap=sh(),this.sortedSet=new Ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Vu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.ga=new Ge(Ot.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ft(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Hu{constructor(t,n,s,o,u,f,m,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Hu(t,n,Vu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class PV{constructor(){this.queries=Uw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Yt(n),u=o.queries;o.queries=Uw(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new St(ct.ABORTED,"Firestore shutting down"))}}function Uw(){return new Nl(e=>cA(e),zm)}async function pv(e,t){const n=Yt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new IV,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=mv(f,`Initialization of query '${Su(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&yv(n)}async function gv(e,t){const n=Yt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function MV(e,t){const n=Yt(e);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&yv(n)}function LV(e,t,n){const s=Yt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function yv(e){e.Ca.forEach(t=>{t.next()})}var Xy,Bw;(Bw=Xy||(Xy={})).Ma="default",Bw.Cache="cache";class _v{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Hu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Hu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.key=t}}class WA{constructor(t){this.key=t}}class DV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=hA(t),this.tu=new Vu(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new zw,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const S=o.get(E),N=Um(this.query,A)?A:null,D=!!S&&this.mutatedKeys.has(S.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let q=!1;S&&N?S.data.isEqual(N.data)?D!==B&&(s.track({type:3,doc:N}),q=!0):this.su(S,N)||(s.track({type:2,doc:N}),q=!0,(y&&this.eu(N,y)>0||_&&this.eu(N,_)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),q=!0):S&&!N&&(s.track({type:1,doc:S}),q=!0,(y||_)&&(m=!0)),q&&(N?(f=f.add(N),u=B?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,A)=>function(N,D){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:q})}};return B(N)-B(D)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new Hu(this.query,t.tu,u,f,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=oe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new WA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new GA(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=oe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vv="SyncEngine";class NV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class OV{constructor(t){this.key=t,this.hu=!1}}class kV{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Nl(m=>cA(m),zm),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(Ot.comparator),this.Au=new Map,this.Ru=new rv,this.Vu={},this.mu=new Map,this.fu=Fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VV(e,t,n=!0){const s=QA(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ZA(s,t,n,!0),o}async function jV(e,t){const n=QA(e);await ZA(n,t,!0,!1)}async function ZA(e,t,n,s){const o=await sV(e.localStore,mr(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await zV(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&n&&zA(e.remoteStore,o),m}async function zV(e,t,n,s,o){e.pu=(A,S,N)=>async function(B,q,Y,at){let $=q.view.ru(Y);$.Cs&&($=await Dw(B.localStore,q.query,!1).then(({documents:W})=>q.view.ru(W,$)));const gt=at&&at.targetChanges.get(q.targetId),ht=at&&at.targetMismatches.get(q.targetId)!=null,xt=q.view.applyChanges($,B.isPrimaryClient,gt,ht);return Hw(B,q.targetId,xt.au),xt.snapshot}(e,A,S,N);const u=await Dw(e.localStore,t,!0),f=new DV(t,u.Qs),m=f.ru(u.documents),y=nf.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),_=f.applyChanges(m,e.isPrimaryClient,y);Hw(e,n,_.au);const E=new NV(t,n,f);return e.Tu.set(t,E),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),_.snapshot}async function UV(e,t,n){const s=Yt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!zm(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ky(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&uv(s.remoteStore,o.targetId),Qy(s,o.targetId)}).catch(Ju)):(Qy(s,o.targetId),await Ky(s.localStore,o.targetId,!0))}async function BV(e,t){const n=Yt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),uv(n.remoteStore,s.targetId))}async function FV(e,t,n){const s=KV(e);try{const o=await function(f,m){const y=Yt(f),_=Ve.now(),E=m.reduce((N,D)=>N.add(D.key),oe());let A,S;return y.persistence.runTransaction("Locally write mutations","readwrite",N=>{let D=ca(),B=oe();return y.Ns.getEntries(N,E).next(q=>{D=q,D.forEach((Y,at)=>{at.isValidDocument()||(B=B.add(Y))})}).next(()=>y.localDocuments.getOverlayedDocuments(N,D)).next(q=>{A=q;const Y=[];for(const at of m){const $=sk(at,A.get(at.key).overlayedDocument);$!=null&&Y.push(new No(at.key,$,nA($.value.mapValue),ps.exists(!0)))}return y.mutationQueue.addMutationBatch(N,_,Y,m)}).next(q=>{S=q;const Y=q.applyToLocalDocumentSet(A,B);return y.documentOverlayCache.saveOverlays(N,q.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:dA(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new Ge(ae)),_=_.insert(m,y),f.Vu[f.currentUser.toKey()]=_}(s,o.batchId,n),await rf(s,o.changes),await Wm(s.remoteStore)}catch(o){const u=mv(o,"Failed to persist write");n.reject(u)}}async function YA(e,t){const n=Yt(e);try{const s=await eV(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ye(f.hu,14607):o.removedDocuments.size>0&&(ye(f.hu,42227),f.hu=!1))}),await rf(n,s,t)}catch(s){await Ju(s)}}function Fw(e,t,n){const s=Yt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Yt(f);y.onlineState=m;let _=!1;y.queries.forEach((E,A)=>{for(const S of A.Sa)S.va(m)&&(_=!0)}),_&&yv(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function HV(e,t,n){const s=Yt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new Ge(Ot.comparator);f=f.insert(u,Kn.newNoDocument(u,Zt.min()));const m=oe().add(u),y=new Hm(Zt.min(),new Map,new Ge(ae),f,m);await YA(s,y),s.du=s.du.remove(u),s.Au.delete(t),Tv(s)}else await Ky(s.localStore,t,!1).then(()=>Qy(s,t,n)).catch(Ju)}async function qV(e,t){const n=Yt(e),s=t.batch.batchId;try{const o=await tV(n.localStore,t);$A(n,s,null),KA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rf(n,o)}catch(o){await Ju(o)}}async function GV(e,t,n){const s=Yt(e);try{const o=await function(f,m){const y=Yt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return y.mutationQueue.lookupMutationBatch(_,m).next(A=>(ye(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>y.localDocuments.getDocuments(_,E))})}(s.localStore,t);$A(s,t,n),KA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await rf(s,o)}catch(o){await Ju(o)}}function KA(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function $A(e,t,n){const s=Yt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Qy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||XA(e,s)})}function XA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(uv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Tv(e))}function Hw(e,t,n){for(const s of n)s instanceof GA?(e.Ru.addReference(s.key,t),WV(e,s)):s instanceof WA?(Ct(vv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||XA(e,s.key)):Ft(19791,{wu:s})}function WV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Ct(vv,"New document in limbo: "+n),e.Eu.add(s),Tv(e))}function Tv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ot(Oe.fromString(t)),s=e.fu.next();e.Au.set(s,new OV(n)),e.du=e.du.insert(n,s),zA(e.remoteStore,new mo(mr(jm(n.path)),s,"TargetPurposeLimboResolution",Om.ce))}}async function rf(e,t,n){const s=Yt(e),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,t,n).then(_=>{if((_||n)&&s.isPrimaryClient){const E=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=ov.As(y.targetId,_);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,_){const E=Yt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>yt.forEach(_,S=>yt.forEach(S.Es,N=>E.persistence.referenceDelegate.addReference(A,S.targetId,N)).next(()=>yt.forEach(S.ds,N=>E.persistence.referenceDelegate.removeReference(A,S.targetId,N)))))}catch(A){if(!tc(A))throw A;Ct(lv,"Failed to update sequence numbers: "+A)}for(const A of _){const S=A.targetId;if(!A.fromCache){const N=E.Ms.get(S),D=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(D);E.Ms=E.Ms.insert(S,B)}}}(s.localStore,u))}async function ZV(e,t){const n=Yt(e);if(!n.currentUser.isEqual(t)){Ct(vv,"User change. New user:",t.toKey());const s=await OA(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new St(ct.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await rf(n,s.Ls)}}function YV(e,t){const n=Yt(e),s=n.Au.get(t);if(s&&s.hu)return oe().add(s.key);{let o=oe();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function QA(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HV.bind(null,t),t.Pu.H_=MV.bind(null,t.eventManager),t.Pu.yu=LV.bind(null,t.eventManager),t}function KV(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GV.bind(null,t),t}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Jk(this.persistence,new $k,t.initialUser,this.serializer)}Cu(t){return new NA(av.mi,this.serializer)}Du(t){return new aV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class $V extends pm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ye(this.persistence.referenceDelegate instanceof dm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ok(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new NA(s=>dm.mi(s,n),this.serializer)}}class Jy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZV.bind(null,this.syncEngine),await CV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new PV}()}createDatastore(t){const n=qm(t.databaseInfo.databaseId),s=function(u){return new hV(u)}(t.databaseInfo);return function(u,f,m,y){return new pV(u,f,m,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new yV(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Fw(this.syncEngine,n,0),function(){return kw.v()?new kw:new oV}())}createSyncEngine(t,n){return function(o,u,f,m,y,_,E){const A=new kV(o,u,f,m,y,_);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Yt(n);Ct(Dl,"RemoteStore shutting down."),s.Ea.add(5),await sf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jy.provider={build:()=>new Jy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ua("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class XV{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yn.UNAUTHENTICATED,this.clientId=Y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{Ct(Ro,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(Ct(Ro,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=mv(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function uy(e,t){e.asyncQueue.verifyOperationInProgress(),Ct(Ro,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await OA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function qw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await QV(e);Ct(Ro,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>jw(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>jw(t.remoteStore,o)),e._onlineComponents=t}async function QV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ct(Ro,"Using user provided OfflineComponentProvider");try{await uy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ju("Error using user provided cache. Falling back to memory cache: "+n),await uy(e,new pm)}}else Ct(Ro,"Using default OfflineComponentProvider"),await uy(e,new $V(void 0));return e._offlineComponents}async function JA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ct(Ro,"Using user provided OnlineComponentProvider"),await qw(e,e._uninitializedComponentsProvider._online)):(Ct(Ro,"Using default OnlineComponentProvider"),await qw(e,new Jy))),e._onlineComponents}function JV(e){return JA(e).then(t=>t.syncEngine)}async function gm(e){const t=await JA(e),n=t.eventManager;return n.onListen=VV.bind(null,t.syncEngine),n.onUnlisten=UV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BV.bind(null,t.syncEngine),n}function t5(e,t,n={}){const s=new ra;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new bv({next:S=>{E.Nu(),f.enqueueAndForget(()=>gv(u,A));const N=S.docs.has(m);!N&&S.fromCache?_.reject(new St(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&y&&y.source==="server"?_.reject(new St(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new _v(jm(m.path),E,{includeMetadataChanges:!0,qa:!0});return pv(u,A)}(await gm(e),e.asyncQueue,t,n,s)),s.promise}function e5(e,t,n={}){const s=new ra;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new bv({next:S=>{E.Nu(),f.enqueueAndForget(()=>gv(u,A)),S.fromCache&&y.source==="server"?_.reject(new St(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new _v(m,E,{includeMetadataChanges:!0,qa:!0});return pv(u,A)}(await gm(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firestore.googleapis.com",Ww=!0;class Zw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eR,this.ssl=Ww}else this.host=t.host,this.ssl=t.ssl??Ww;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DA)throw new St(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zm{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oO;switch(s.type){case"firstParty":return new hO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new St(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Gw.get(n);s&&(Ct("ComponentProvider","Removing Datastore"),Gw.delete(n),s.terminate())}(this),Promise.resolve()}}function n5(e,t,n,s={}){e=Ti(e,Zm);const o=Io(t),u=e._getSettings(),f={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(Pm(`https://${m}`),D_("Firestore",!0)),u.host!==eR&&u.host!==m&&ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!To(y,f)&&(e._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=Yn.MOCK_USER;else{_=yM(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new St(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yn(A)}e._authCredentials=new lO(new q1(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new da(this.firestore,t,this._query)}}class $e{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(tf(n,$e._jsonSchema))return new $e(t,s||null,new Ot(Oe.fromString(n.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:fn("string",$e._jsonSchemaVersion),referencePath:fn("string")};class vo extends da{constructor(t,n,s){super(t,n,jm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new Ot(t))}withConverter(t){return new vo(this.firestore,t,this._path)}}function ah(e,t,...n){if(e=Xe(e),G1("collection","path",t),e instanceof Zm){const s=Oe.fromString(t,...n);return aw(s),new vo(e,null,s)}{if(!(e instanceof $e||e instanceof vo))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Oe.fromString(t,...n));return aw(s),new vo(e.firestore,null,s)}}function gr(e,t,...n){if(e=Xe(e),arguments.length===1&&(t=Y_.newId()),G1("doc","path",t),e instanceof Zm){const s=Oe.fromString(t,...n);return rw(s),new $e(e,null,new Ot(s))}{if(!(e instanceof $e||e instanceof vo))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Oe.fromString(t,...n));return rw(s),new $e(e.firestore,e instanceof vo?e.converter:null,new Ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class Kw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VA(this,"async_queue_retry"),this._c=()=>{const s=ly();s&&Ct(Yw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ly();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ra;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tc(t))throw t;Ct(Yw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,ua("INTERNAL UNHANDLED ERROR: ",$w(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=dv.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ft(47125,{Pc:$w(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function $w(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(e){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class ha extends Zm{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Kw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kw(t),this._firestoreClient=void 0,await t}}}function i5(e,t,n){n||(n=Ph);const s=Yh(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),u=s.getOptions(n);if(To(u,t))return o;throw new St(ct.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new St(ct.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DA)throw new St(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Io(t.host)&&Pm(t.host),s.initialize({options:t,instanceIdentifier:n})}function s5(e,t){const n=typeof e=="object"?e:k_(),s=typeof e=="string"?e:Ph,o=Yh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$S("firestore");u&&n5(o,...u)}return o}function Ym(e){if(e._terminated)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||r5(e),e._firestoreClient}function r5(e){const t=e._freezeSettings(),n=function(o,u,f,m){return new CO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,tR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new XV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ms(Vn.fromBase64String(t))}catch(n){throw new St(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ms(Vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tf(t,ms._jsonSchema))return ms.fromBase64String(t.bytes)}}ms._jsonSchemaVersion="firestore/bytes/1.0",ms._jsonSchema={type:fn("string",ms._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(t){if(tf(t,yr._jsonSchema))return new yr(t.latitude,t.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:fn("string",yr._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tf(t,_r._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new _r(t.vectorValues);throw new St(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:fn("string",_r._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^__.*__$/;class o5{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new No(t,this.data,this.fieldMask,n,this.fieldTransforms):new ef(t,this.data,n,this.fieldTransforms)}}class nR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new No(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function iR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:e})}}class Ev{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ev({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ym(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(iR(this.Ac)&&a5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class l5{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||qm(t)}Cc(t,n,s,o=!1){return new Ev({Ac:t,methodName:n,Dc:s,path:kn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(e){const t=e._freezeSettings(),n=qm(e._databaseId);return new l5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sR(e,t,n,s,o,u={}){const f=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);xv("Data must be an object, but it was:",f,s);const m=rR(s,f);let y,_;if(u.merge)y=new qi(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=t_(t,A,n);if(!f.contains(S))throw new St(ct.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);oR(E,S)||E.push(S)}y=new qi(E),_=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,_=f.fieldTransforms;return new o5(new gi(m),y,_)}class Qm extends $m{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qm}}class wv extends $m{_toFieldTransform(t){return new tk(t.path,new Nh)}isEqual(t){return t instanceof wv}}function u5(e,t,n,s){const o=e.Cc(1,t,n);xv("Data must be an object, but it was:",o,s);const u=[],f=gi.empty();Do(s,(y,_)=>{const E=Sv(t,y,n);_=Xe(_);const A=o.yc(E);if(_ instanceof Qm)u.push(E);else{const S=af(_,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new qi(u);return new nR(f,m,o.fieldTransforms)}function c5(e,t,n,s,o,u){const f=e.Cc(1,t,n),m=[t_(t,s,n)],y=[o];if(u.length%2!=0)throw new St(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(t_(t,u[S])),y.push(u[S+1]);const _=[],E=gi.empty();for(let S=m.length-1;S>=0;--S)if(!oR(_,m[S])){const N=m[S];let D=y[S];D=Xe(D);const B=f.yc(N);if(D instanceof Qm)_.push(N);else{const q=af(D,B);q!=null&&(_.push(N),E.set(N,q))}}const A=new qi(_);return new nR(E,A,f.fieldTransforms)}function h5(e,t,n,s=!1){return af(n,e.Cc(s?4:3,t))}function af(e,t){if(aR(e=Xe(e)))return xv("Unsupported field value:",t,e),rR(e,t);if(e instanceof $m)return function(s,o){if(!iR(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=af(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ve.fromDate(s);return{timestampValue:fm(o.serializer,u)}}if(s instanceof Ve){const u=new Ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fm(o.serializer,u)}}if(s instanceof yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ms)return{bytesValue:SA(o.serializer,s._byteString)};if(s instanceof $e){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _r)return function(f,m){return{mapValue:{fields:{[tA]:{stringValue:eA},[lm]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return tv(m.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Nm(s)}`)}(e,t)}function rR(e,t){const n={};return Y1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Do(e,(s,o)=>{const u=af(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function aR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof yr||e instanceof ms||e instanceof $e||e instanceof $m||e instanceof _r)}function xv(e,t,n){if(!aR(n)||!W1(n)){const s=Nm(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function t_(e,t,n){if((t=Xe(t))instanceof Km)return t._internalPath;if(typeof t=="string")return Sv(e,t);throw ym("Field path arguments must be of type string or ",e,!1,void 0,n)}const f5=new RegExp("[~\\*/\\[\\]]");function Sv(e,t,n){if(t.search(f5)>=0)throw ym(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Km(...t.split("."))._internalPath}catch{throw ym(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ym(e,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new St(ct.INVALID_ARGUMENT,m+e+y)}function oR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new d5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d5 extends lR{data(){return super.data()}}function Jm(e,t){return typeof t=="string"?Sv(e,t):t instanceof Km?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new St(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class Rv extends Av{}function e_(e,t,...n){let s=[];t instanceof Av&&s.push(t),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof Cv).length,m=u.filter(y=>y instanceof tp).length;if(f>1||f>0&&m>0)throw new St(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class tp extends Rv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new tp(t,n,s)}_apply(t){const n=this._parse(t);return cR(t._query,n),new da(t.firestore,t.converter,qy(t._query,n))}_parse(t){const n=Xm(t.firestore);return function(u,f,m,y,_,E,A){let S;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new St(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tx(A,E);const D=[];for(const B of A)D.push(Jw(y,u,B));S={arrayValue:{values:D}}}else S=Jw(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tx(A,E),S=h5(m,f,A,E==="in"||E==="not-in");return hn.create(_,E,S)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Qw(e,t,n){const s=t,o=Jm("where",e);return tp._create(o,s,n)}class Cv extends Av{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Cv(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)cR(f,y),f=qy(f,y)}(t._query,n),new da(t.firestore,t.converter,qy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iv extends Rv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Iv(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new St(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new St(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(u,f)}(t._query,this._field,this._direction);return new da(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new ec(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function m5(e,t="asc"){const n=t,s=Jm("orderBy",e);return Iv._create(s,n)}class Pv extends Rv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Pv(t,n,s)}_apply(t){return new da(t.firestore,t.converter,cm(t._query,this._limit,this._limitType))}}function p5(e){return Pv._create("limit",e,"F")}function Jw(e,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new St(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uA(t)&&n.indexOf("/")!==-1)throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Oe.fromString(n));if(!Ot.isDocumentKey(s))throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mw(e,new Ot(s))}if(n instanceof $e)return mw(e,n._key);throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function tx(e,t){if(!Array.isArray(e)||e.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cR(e,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class g5{convertValue(t,n="none"){switch(So(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Do(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[lm].arrayValue?.values?.map(s=>sn(s.doubleValue));return new _r(n)}convertGeoPoint(t){return new yr(sn(t.latitude),sn(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Vm(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ih(t));default:return null}}convertTimestamp(t){const n=wo(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Oe.fromString(t);ye(MA(s),9688,{name:t});const o=new Mh(s.get(1),s.get(3)),u=new Ot(s.popFirst(5));return o.isEqual(n)||ua(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class oh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sl extends lR{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Sl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Sl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sl._jsonSchema={type:fn("string",Sl._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class Hd extends Sl{data(t={}){return super.data(t)}}class Al{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new oh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Hd(this._firestore,this._userDataWriter,s.key,s,new oh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new Hd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new Hd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:y5(m.type),doc:y,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Al._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Y_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function y5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e){e=Ti(e,$e);const t=Ti(e.firestore,ha);return t5(Ym(t),e._key).then(n=>fR(t,e,n))}Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:fn("string",Al._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class Mv extends g5{constructor(t){super(),this.firestore=t}convertBytes(t){return new ms(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function Ed(e){e=Ti(e,da);const t=Ti(e.firestore,ha),n=Ym(t),s=new Mv(t);return uR(e._query),e5(n,e._query).then(o=>new Al(t,s,e,o))}function _m(e,t,n){e=Ti(e,$e);const s=Ti(e.firestore,ha),o=hR(e.converter,t,n);return np(s,[sR(Xm(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ps.none())])}function HU(e,t,n,...s){e=Ti(e,$e);const o=Ti(e.firestore,ha),u=Xm(o);let f;return f=typeof(t=Xe(t))=="string"||t instanceof Km?c5(u,"updateDoc",e._key,t,n,s):u5(u,"updateDoc",e._key,t),np(o,[f.toMutation(e._key,ps.exists(!0))])}function qU(e){return np(Ti(e.firestore,ha),[new ev(e._key,ps.none())])}function GU(e,t){const n=Ti(e.firestore,ha),s=gr(e),o=hR(e.converter,t);return np(n,[sR(Xm(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,ps.exists(!1))]).then(()=>s)}function n_(e,...t){e=Xe(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Xw(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Xw(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(e instanceof $e)f=Ti(e.firestore,ha),m=jm(e._key.path),u={next:y=>{t[s]&&t[s](fR(f,e,y))},error:t[s+1],complete:t[s+2]};else{const y=Ti(e,da);f=Ti(y.firestore,ha),m=y._query;const _=new Mv(f);u={next:E=>{t[s]&&t[s](new Al(f,_,y,E))},error:t[s+1],complete:t[s+2]},uR(e._query)}return function(_,E,A,S){const N=new bv(S),D=new _v(E,N,A);return _.asyncQueue.enqueueAndForget(async()=>pv(await gm(_),D)),()=>{N.Nu(),_.asyncQueue.enqueueAndForget(async()=>gv(await gm(_),D))}}(Ym(f),m,o,u)}function np(e,t){return function(s,o){const u=new ra;return s.asyncQueue.enqueueAndForget(async()=>FV(await JV(s),o,u)),u.promise}(Ym(e),t)}function fR(e,t,n){const s=n.docs.get(t._key),o=new Mv(e);return new Sl(e,o,t._key,s,new oh(n.hasPendingWrites,n.fromCache),t.converter)}function WU(){return new wv("serverTimestamp")}(function(t,n=!0){(function(o){Qu=o})($u),Il(new bo("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ha(new uO(s.getProvider("auth-internal")),new fO(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new St(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(_.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fr(ew,nw,t),fr(ew,nw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="type.googleapis.com/google.protobuf.Int64Value",v5="type.googleapis.com/google.protobuf.UInt64Value";function dR(e,t){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}function vm(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>vm(t));if(typeof e=="function"||typeof e=="object")return dR(e,t=>vm(t));throw new Error("Data cannot be encoded in JSON: "+e)}function qu(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case _5:case v5:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>qu(t)):typeof e=="function"||typeof e=="object"?dR(e,t=>qu(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _i extends Ar{constructor(t,n,s){super(`${Lv}/${t}`,n||""),this.details=s,Object.setPrototypeOf(this,_i.prototype)}}function T5(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Tm(e,t){let n=T5(e),s=n,o;try{const u=t&&t.error;if(u){const f=u.status;if(typeof f=="string"){if(!ex[f])return new _i("internal","internal");n=ex[f],s=f}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=qu(o))}}catch{}return n==="ok"?null:new _i(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,pi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="us-central1",E5=/^data: (.*?)(?:\n|$)/;function w5(e){let t=null;return{promise:new Promise((n,s)=>{t=setTimeout(()=>{s(new _i("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class x5{constructor(t,n,s,o,u=i_,f=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new b5(t,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=i_}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function S5(e,t,n){const s=Io(t);e.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Pm(e.emulatorOrigin),D_("Functions",!0))}function A5(e,t,n){const s=o=>C5(e,t,o,{});return s.stream=(o,u)=>P5(e,t,o,u),s}async function R5(e,t,n,s){n["Content-Type"]="application/json";let o;try{o=await s(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function mR(e,t){const n={},s=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function C5(e,t,n,s){const o=e._url(t);return I5(e,o,n,s)}async function I5(e,t,n,s){n=vm(n);const o={data:n},u=await mR(e,s),f=s.timeout||7e4,m=w5(f),y=await Promise.race([R5(t,o,u,e.fetchImpl),m.promise,e.cancelAllRequests]);if(m.cancel(),!y)throw new _i("cancelled","Firebase Functions instance was deleted.");const _=Tm(y.status,y.json);if(_)throw _;if(!y.json)throw new _i("internal","Response is not valid JSON object.");let E=y.json.data;if(typeof E>"u"&&(E=y.json.result),typeof E>"u")throw new _i("internal","Response is missing data field.");return{data:qu(E)}}function P5(e,t,n,s){const o=e._url(t);return M5(e,o,n,s||{})}async function M5(e,t,n,s){n=vm(n);const o={data:n},u=await mR(e,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const D=new _i("cancelled","Request was cancelled.");return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}const N=Tm(0,null);return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}let m,y;const _=new Promise((S,N)=>{m=S,y=N});s?.signal?.addEventListener("abort",()=>{const S=new _i("cancelled","Request was cancelled.");y(S)});const E=f.body.getReader(),A=L5(E,m,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const S=A.getReader();return{async next(){const{value:N,done:D}=await S.read();return{value:N,done:D}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:_}}function L5(e,t,n,s){const o=(f,m)=>{const y=f.match(E5);if(!y)return;const _=y[1];try{const E=JSON.parse(_);if("result"in E){t(qu(E.result));return}if("message"in E){m.enqueue(qu(E.message));return}if("error"in E){const A=Tm(0,E);m.error(A),n(A);return}}catch(E){if(E instanceof _i){m.error(E),n(E);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return y();async function y(){if(s?.aborted){const _=new _i("cancelled","Request was cancelled");return f.error(_),n(_),Promise.resolve()}try{const{value:_,done:E}=await e.read();if(E){m.trim()&&o(m.trim(),f),f.close();return}if(s?.aborted){const S=new _i("cancelled","Request was cancelled");f.error(S),n(S),await e.cancel();return}m+=u.decode(_,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const S of A)S.trim()&&o(S.trim(),f);return y()}catch(_){const E=_ instanceof _i?_:Tm(0,null);f.error(E),n(E)}}},cancel(){return e.cancel()}})}const nx="@firebase/functions",ix="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="auth-internal",N5="app-check-internal",O5="messaging-internal";function k5(e){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(D5),f=n.getProvider(O5),m=n.getProvider(N5);return new x5(o,u,f,m,s)};Il(new bo(Lv,t,"PUBLIC").setMultipleInstances(!0)),fr(nx,ix,e),fr(nx,ix,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(e=k_(),t=i_){const s=Yh(Xe(e),Lv).getImmediate({identifier:t}),o=$S("functions");return o&&V5(s,...o),s}function V5(e,t,n){S5(Xe(e),t,n)}function lh(e,t,n){return A5(Xe(e),t)}k5();const gR={apiKey:"AIzaSyBh-nePsQ50f6ZMZ1PaLUUfhD3hExxgRsI",authDomain:"findmyhistory.firebaseapp.com",projectId:"findmyhistory",storageBucket:"findmyhistory.firebasestorage.app",messagingSenderId:"951487481110",appId:"1:951487481110:web:242bd9188bb043df177c37"},of=e1(gR),hr=rO(of),j5=new ta;try{i5(of,{experimentalForceLongPolling:!0,useFetchStreams:!1})}catch{}const yi=s5(of),wd=pR(of);gR.apiKey||console.warn("Firebase API key not found in environment variables");const yR=V.createContext();function _R(){return V.useContext(yR)}function z5({children:e}){const[t,n]=V.useState(null),[s,o]=V.useState(!0);V.useEffect(()=>Qh(hr,m=>{n(m),o(!1)}),[]);const u={user:t,loading:s};return T.jsx(yR.Provider,{value:u,children:!s&&e})}function U5({scrollYProgress:e}){const t=Sr(),n=_s(),[s,o]=V.useState(0),{user:u}=_R();V.useEffect(()=>{if(n.pathname==="/"){if(e)return e.on("change",y=>{if(y>=.7){const _=Math.min(1,(y-.7)/.1);o(_)}else o(0)})}else o(1)},[e,n.pathname]);const f=async()=>{await YD(hr),t("/")};return T.jsxs("div",{className:"global-header",style:{opacity:s},children:[T.jsx("h1",{className:"global-header-title clickable",onClick:()=>t("/"),children:"TagLogger"}),T.jsx("div",{className:"header-login-btn",children:u?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"login-btn",onClick:()=>t("/dashboard"),children:"Dashboard"}),T.jsx("button",{className:"login-btn",onClick:f,style:{marginLeft:"0.5rem"},children:"Logout"})]}):T.jsx("button",{className:"login-btn",onClick:()=>t("/login"),children:"Login"})})]})}function vR(){const{user:e}=_R(),[t,n]=V.useState({isEntitled:!1,hasPurchaseHistory:!1,loading:!0,error:null});return V.useEffect(()=>{if(!e){n(u=>({...u,isEntitled:!1,hasPurchaseHistory:!1,loading:!1,error:null}));return}n(u=>({...u,loading:!0,error:null}));const s=gr(yi,"users",e.uid),o=n_(s,u=>{try{const f=u.data(),m=f&&(f.lastPurchaseAt||f.stripeCustomerId),y=!!m;console.log(" useEntitlement: Purchase history check",{userId:e.uid,hasPurchaseHistory:m,lastPurchaseAt:f?.lastPurchaseAt,stripeCustomerId:f?.stripeCustomerId,isEntitled:y}),n({isEntitled:y,hasPurchaseHistory:!!m,loading:!1,error:null})}catch(f){console.error(" useEntitlement: User document read failed:",f),n(m=>({...m,loading:!1,error:f.message,isEntitled:!1,hasPurchaseHistory:!1}))}},u=>{console.error(" useEntitlement: User document listener error:",u),n(f=>({...f,loading:!1,error:u.message,isEntitled:!1,hasPurchaseHistory:!1}))});return()=>o()},[e]),t}function xd({children:e,adminOnly:t=!1,requireEntitlement:n=!0}){const[s,o]=V.useState(null),[u,f]=V.useState(!0),[m,y]=V.useState(!1),[_,E]=V.useState(!1),{isEntitled:A,loading:S}=vR();return V.useEffect(()=>{try{const D=new URLSearchParams(window.location.search).get("purchase")==="success";if(D){console.log(" ProtectedRoute: Activating grace period for purchase success",{hasPurchaseSuccess:D,pathname:window.location.pathname}),E(!0);const B=window.gracePeriodTimer;return B&&clearTimeout(B),window.gracePeriodTimer=setTimeout(()=>{console.log(" ProtectedRoute: Grace period expired"),E(!1),window.gracePeriodTimer=null},6e4),()=>{window.gracePeriodTimer&&(clearTimeout(window.gracePeriodTimer),window.gracePeriodTimer=null)}}}catch(N){console.error(" ProtectedRoute: Error setting up grace period",N)}},[]),V.useEffect(()=>{const N=Qh(hr,async D=>{if(o(D),D)try{const B=gr(yi,"users",D.uid),q=await ep(B);y(q.exists()&&q.data().isAdmin===!0)}catch{y(!1)}else y(!1);f(!1)});return()=>N()},[]),u?null:s?t?m?e:T.jsx($g,{to:"/dashboard"}):n&&!S&&!A&&!_?(console.log(" ProtectedRoute: Redirecting to purchase - no entitlement and grace period expired"),T.jsx($g,{to:"/purchase"})):e:T.jsx($g,{to:"/login"})}const TR=V.createContext({});function ip(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Dv=typeof window<"u",Nv=Dv?V.useLayoutEffect:V.useEffect,Ov=V.createContext(null);function kv(e,t){e.indexOf(t)===-1&&e.push(t)}function Vv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const wr=(e,t,n)=>n>t?t:n<e?e:n;let Vh=()=>{};const fa={},bR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ER(e){return typeof e=="object"&&e!==null}const wR=e=>/^0[^.\s]+$/u.test(e);function jv(e){let t;return()=>(t===void 0&&(t=e()),t)}const bi=e=>e,B5=(e,t)=>n=>t(e(n)),lf=(...e)=>e.reduce(B5),Gu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class zv{constructor(){this.subscriptions=[]}add(t){return kv(this.subscriptions,t),()=>Vv(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vr=e=>e*1e3,Tr=e=>e/1e3;function Uv(e,t){return t?e*(1e3/t):0}const xR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,F5=1e-7,H5=12;function q5(e,t,n,s,o){let u,f,m=0;do f=t+(n-t)/2,u=xR(f,s,o)-e,u>0?n=f:t=f;while(Math.abs(u)>F5&&++m<H5);return f}function uf(e,t,n,s){if(e===t&&n===s)return bi;const o=u=>q5(u,0,1,e,n);return u=>u===0||u===1?u:xR(o(u),t,s)}const SR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,AR=e=>t=>1-e(1-t),RR=uf(.33,1.53,.69,.99),Bv=AR(RR),CR=SR(Bv),IR=e=>(e*=2)<1?.5*Bv(e):.5*(2-Math.pow(2,-10*(e-1))),Fv=e=>1-Math.sin(Math.acos(e)),PR=AR(Fv),MR=SR(Fv),G5=uf(.42,0,1,1),W5=uf(0,0,.58,1),LR=uf(.42,0,.58,1),Z5=e=>Array.isArray(e)&&typeof e[0]!="number",DR=e=>Array.isArray(e)&&typeof e[0]=="number",Y5={linear:bi,easeIn:G5,easeInOut:LR,easeOut:W5,circIn:Fv,circInOut:MR,circOut:PR,backIn:Bv,backInOut:CR,backOut:RR,anticipate:IR},K5=e=>typeof e=="string",sx=e=>{if(DR(e)){Vh(e.length===4);const[t,n,s,o]=e;return uf(t,n,s,o)}else if(K5(e))return Y5[e];return e},Sd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $5(e,t){let n=new Set,s=new Set,o=!1,u=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(E){f.has(E)&&(_.schedule(E),e()),E(m)}const _={schedule:(E,A=!1,S=!1)=>{const D=S&&o?n:s;return A&&f.add(E),D.has(E)||D.add(E),E},cancel:E=>{s.delete(E),f.delete(E)},process:E=>{if(m=E,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,_.process(E))}};return _}const X5=40;function NR(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=Sd.reduce(($,gt)=>($[gt]=$5(u),$),{}),{setup:m,read:y,resolveKeyframes:_,preUpdate:E,update:A,preRender:S,render:N,postRender:D}=f,B=()=>{const $=fa.useManualTiming?o.timestamp:performance.now();n=!1,fa.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,X5),1)),o.timestamp=$,o.isProcessing=!0,m.process(o),y.process(o),_.process(o),E.process(o),A.process(o),S.process(o),N.process(o),D.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(B))},q=()=>{n=!0,s=!0,o.isProcessing||e(B)};return{schedule:Sd.reduce(($,gt)=>{const ht=f[gt];return $[gt]=(xt,W=!1,P=!1)=>(n||q(),ht.schedule(xt,W,P)),$},{}),cancel:$=>{for(let gt=0;gt<Sd.length;gt++)f[Sd[gt]].cancel($)},state:o,steps:f}}const{schedule:be,cancel:Hs,state:Rn,steps:cy}=NR(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0);let qd;function Q5(){qd=void 0}const vi={now:()=>(qd===void 0&&vi.set(Rn.isProcessing||fa.useManualTiming?Rn.timestamp:performance.now()),qd),set:e=>{qd=e,queueMicrotask(Q5)}},OR=e=>t=>typeof t=="string"&&t.startsWith(e),Hv=OR("--"),J5=OR("var(--"),qv=e=>J5(e)?tj.test(e.split("/*")[0].trim()):!1,tj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ic={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jh={...ic,transform:e=>wr(0,1,e)},Ad={...ic,default:1},_h=e=>Math.round(e*1e5)/1e5,Gv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ej(e){return e==null}const nj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wv=(e,t)=>n=>!!(typeof n=="string"&&nj.test(n)&&n.startsWith(e)||t&&!ej(n)&&Object.prototype.hasOwnProperty.call(n,t)),kR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,f,m]=s.match(Gv);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},ij=e=>wr(0,255,e),hy={...ic,transform:e=>Math.round(ij(e))},wl={test:Wv("rgb","red"),parse:kR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+hy.transform(e)+", "+hy.transform(t)+", "+hy.transform(n)+", "+_h(jh.transform(s))+")"};function sj(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const s_={test:Wv("#"),parse:sj,transform:wl.transform},cf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uo=cf("deg"),br=cf("%"),qt=cf("px"),rj=cf("vh"),aj=cf("vw"),rx={...br,parse:e=>br.parse(e)/100,transform:e=>br.transform(e*100)},Cu={test:Wv("hsl","hue"),parse:kR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+br.transform(_h(t))+", "+br.transform(_h(n))+", "+_h(jh.transform(s))+")"},cn={test:e=>wl.test(e)||s_.test(e)||Cu.test(e),parse:e=>wl.test(e)?wl.parse(e):Cu.test(e)?Cu.parse(e):s_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wl.transform(e):Cu.transform(e),getAnimatableNone:e=>{const t=cn.parse(e);return t.alpha=0,cn.transform(t)}},oj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lj(e){return isNaN(e)&&typeof e=="string"&&(e.match(Gv)?.length||0)+(e.match(oj)?.length||0)>0}const VR="number",jR="color",uj="var",cj="var(",ax="${}",hj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(hj,y=>(cn.test(y)?(s.color.push(u),o.push(jR),n.push(cn.parse(y))):y.startsWith(cj)?(s.var.push(u),o.push(uj),n.push(y)):(s.number.push(u),o.push(VR),n.push(parseFloat(y))),++u,ax)).split(ax);return{values:n,split:m,indexes:s,types:o}}function zR(e){return zh(e).values}function UR(e){const{split:t,types:n}=zh(e),s=t.length;return o=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],o[f]!==void 0){const m=n[f];m===VR?u+=_h(o[f]):m===jR?u+=cn.transform(o[f]):u+=o[f]}return u}}const fj=e=>typeof e=="number"?0:cn.test(e)?cn.getAnimatableNone(e):e;function dj(e){const t=zR(e);return UR(e)(t.map(fj))}const Co={test:lj,parse:zR,createTransformer:UR,getAnimatableNone:dj};function fy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,f=0;if(!t)o=u=f=n;else{const m=n<.5?n*(1+t):n+t-n*t,y=2*n-m;o=fy(y,m,e+1/3),u=fy(y,m,e),f=fy(y,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function bm(e,t){return n=>n>0?t:e}const qe=(e,t,n)=>e+(t-e)*n,dy=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},pj=[s_,wl,Cu],gj=e=>pj.find(t=>t.test(e));function ox(e){const t=gj(e);if(!t)return!1;let n=t.parse(e);return t===Cu&&(n=mj(n)),n}const lx=(e,t)=>{const n=ox(e),s=ox(t);if(!n||!s)return bm(e,t);const o={...n};return u=>(o.red=dy(n.red,s.red,u),o.green=dy(n.green,s.green,u),o.blue=dy(n.blue,s.blue,u),o.alpha=qe(n.alpha,s.alpha,u),wl.transform(o))},r_=new Set(["none","hidden"]);function yj(e,t){return r_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _j(e,t){return n=>qe(e,t,n)}function Zv(e){return typeof e=="number"?_j:typeof e=="string"?qv(e)?bm:cn.test(e)?lx:bj:Array.isArray(e)?BR:typeof e=="object"?cn.test(e)?lx:vj:bm}function BR(e,t){const n=[...e],s=n.length,o=e.map((u,f)=>Zv(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=o[f](u);return n}}function vj(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Zv(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function Tj(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=e.indexes[u][s[u]],m=e.values[f]??0;n[o]=m,s[u]++}return n}const bj=(e,t)=>{const n=Co.createTransformer(t),s=zh(e),o=zh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?r_.has(e)&&!o.values.length||r_.has(t)&&!s.values.length?yj(e,t):lf(BR(Tj(s,o),o.values),n):bm(e,t)};function FR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qe(e,t,n):Zv(e)(e,t)}const Ej=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>be.update(t,n),stop:()=>Hs(t),now:()=>Rn.isProcessing?Rn.timestamp:vi.now()}},HR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Em=2e4;function Yv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Em;)t+=n,s=e.next(t);return t>=Em?1/0:t}function wj(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Yv(s),Em);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Tr(o)}}const xj=5;function qR(e,t,n){const s=Math.max(t-xj,0);return Uv(n-e(s),t-s)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function Sj({duration:e=Ke.duration,bounce:t=Ke.bounce,velocity:n=Ke.velocity,mass:s=Ke.mass}){let o,u,f=1-t;f=wr(Ke.minDamping,Ke.maxDamping,f),e=wr(Ke.minDuration,Ke.maxDuration,Tr(e)),f<1?(o=_=>{const E=_*f,A=E*e,S=E-n,N=a_(_,f),D=Math.exp(-A);return my-S/N*D},u=_=>{const A=_*f*e,S=A*n+n,N=Math.pow(f,2)*Math.pow(_,2)*e,D=Math.exp(-A),B=a_(Math.pow(_,2),f);return(-o(_)+my>0?-1:1)*((S-N)*D)/B}):(o=_=>{const E=Math.exp(-_*e),A=(_-n)*e+1;return-my+E*A},u=_=>{const E=Math.exp(-_*e),A=(n-_)*(e*e);return E*A});const m=5/e,y=Rj(o,u,m);if(e=vr(e),isNaN(y))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:e};{const _=Math.pow(y,2)*s;return{stiffness:_,damping:f*2*Math.sqrt(s*_),duration:e}}}const Aj=12;function Rj(e,t,n){let s=n;for(let o=1;o<Aj;o++)s=s-e(s)/t(s);return s}function a_(e,t){return e*Math.sqrt(1-t*t)}const Cj=["duration","bounce"],Ij=["stiffness","damping","mass"];function ux(e,t){return t.some(n=>e[n]!==void 0)}function Pj(e){let t={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...e};if(!ux(e,Ij)&&ux(e,Cj))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*wr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ke.mass,stiffness:o,damping:u}}else{const n=Sj(e);t={...t,...n,mass:Ke.mass},t.isResolvedFromDuration=!0}return t}function wm(e=Ke.visualDuration,t=Ke.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:_,mass:E,duration:A,velocity:S,isResolvedFromDuration:N}=Pj({...n,velocity:-Tr(n.velocity||0)}),D=S||0,B=_/(2*Math.sqrt(y*E)),q=f-u,Y=Tr(Math.sqrt(y/E)),at=Math.abs(q)<5;s||(s=at?Ke.restSpeed.granular:Ke.restSpeed.default),o||(o=at?Ke.restDelta.granular:Ke.restDelta.default);let $;if(B<1){const ht=a_(Y,B);$=xt=>{const W=Math.exp(-B*Y*xt);return f-W*((D+B*Y*q)/ht*Math.sin(ht*xt)+q*Math.cos(ht*xt))}}else if(B===1)$=ht=>f-Math.exp(-Y*ht)*(q+(D+Y*q)*ht);else{const ht=Y*Math.sqrt(B*B-1);$=xt=>{const W=Math.exp(-B*Y*xt),P=Math.min(ht*xt,300);return f-W*((D+B*Y*q)*Math.sinh(P)+ht*q*Math.cosh(P))/ht}}const gt={calculatedDuration:N&&A||null,next:ht=>{const xt=$(ht);if(N)m.done=ht>=A;else{let W=ht===0?D:0;B<1&&(W=ht===0?vr(D):qR($,ht,xt));const P=Math.abs(W)<=s,O=Math.abs(f-xt)<=o;m.done=P&&O}return m.value=m.done?f:xt,m},toString:()=>{const ht=Math.min(Yv(gt),Em),xt=HR(W=>gt.next(ht*W).value,ht,30);return ht+"ms "+xt},toTransition:()=>{}};return gt}wm.applyToOptions=e=>{const t=wj(e,100,wm);return e.ease=t.ease,e.duration=vr(t.duration),e.type="keyframes",e};function o_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:m,max:y,restDelta:_=.5,restSpeed:E}){const A=e[0],S={done:!1,value:A},N=P=>m!==void 0&&P<m||y!==void 0&&P>y,D=P=>m===void 0?y:y===void 0||Math.abs(m-P)<Math.abs(y-P)?m:y;let B=n*t;const q=A+B,Y=f===void 0?q:f(q);Y!==q&&(B=Y-A);const at=P=>-B*Math.exp(-P/s),$=P=>Y+at(P),gt=P=>{const O=at(P),U=$(P);S.done=Math.abs(O)<=_,S.value=S.done?Y:U};let ht,xt;const W=P=>{N(S.value)&&(ht=P,xt=wm({keyframes:[S.value,D(S.value)],velocity:qR($,P,S.value),damping:o,stiffness:u,restDelta:_,restSpeed:E}))};return W(0),{calculatedDuration:null,next:P=>{let O=!1;return!xt&&ht===void 0&&(O=!0,gt(P),W(P)),ht!==void 0&&P>=ht?xt.next(P-ht):(!O&&gt(P),S)}}}function Mj(e,t,n){const s=[],o=n||fa.mix||FR,u=e.length-1;for(let f=0;f<u;f++){let m=o(e[f],e[f+1]);if(t){const y=Array.isArray(t)?t[f]||bi:t;m=lf(y,m)}s.push(m)}return s}function Kv(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Vh(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=Mj(t,s,o),y=m.length,_=E=>{if(f&&E<e[0])return t[0];let A=0;if(y>1)for(;A<e.length-2&&!(E<e[A+1]);A++);const S=Gu(e[A],e[A+1],E);return m[A](S)};return n?E=>_(wr(e[0],e[u-1],E)):_}function Lj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Gu(0,t,s);e.push(qe(n,1,o))}}function GR(e){const t=[0];return Lj(t,e.length-1),t}function Dj(e,t){return e.map(n=>n*t)}function Nj(e,t){return e.map(()=>t||LR).splice(0,e.length-1)}function vh({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Z5(s)?s.map(sx):sx(s),u={done:!1,value:t[0]},f=Dj(n&&n.length===t.length?n:GR(t),e),m=Kv(f,t,{ease:Array.isArray(o)?o:Nj(t,o)});return{calculatedDuration:e,next:y=>(u.value=m(y),u.done=y>=e,u)}}const Oj=e=>e!==null;function $v(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(Oj),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const kj={decay:o_,inertia:o_,tween:vh,keyframes:vh,spring:wm};function WR(e){typeof e.type=="string"&&(e.type=kj[e.type])}class Xv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Vj=e=>e/100;class Qv extends Xv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vi.now()&&this.tick(vi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;WR(t);const{type:n=vh,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:m}=t;const y=n||vh;y!==vh&&typeof m[0]!="number"&&(this.mixKeyframes=lf(Vj,FR(m[0],m[1])),m=[0,100]);const _=y({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-f})),_.calculatedDuration===null&&(_.calculatedDuration=Yv(_));const{calculatedDuration:E}=_;this.calculatedDuration=E,this.resolvedDuration=E+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=_}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:_=0,keyframes:E,repeat:A,repeatType:S,repeatDelay:N,type:D,onUpdate:B,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-_*(this.playbackSpeed>=0?1:-1),at=this.playbackSpeed>=0?Y<0:Y>o;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,gt=s;if(A){const P=Math.min(this.currentTime,o)/m;let O=Math.floor(P),U=P%1;!U&&P>=1&&(U=1),U===1&&O--,O=Math.min(O,A+1),!!(O%2)&&(S==="reverse"?(U=1-U,N&&(U-=N/m)):S==="mirror"&&(gt=f)),$=wr(0,1,U)*m}const ht=at?{done:!1,value:E[0]}:gt.next($);u&&(ht.value=u(ht.value));let{done:xt}=ht;!at&&y!==null&&(xt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&xt);return W&&D!==o_&&(ht.value=$v(E,this.options,q,this.speed)),B&&B(ht.value),W&&this.finish(),ht}then(t,n){return this.finished.then(t,n)}get duration(){return Tr(this.calculatedDuration)}get time(){return Tr(this.currentTime)}set time(t){t=vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Tr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Ej,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function jj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xl=e=>e*180/Math.PI,l_=e=>{const t=xl(Math.atan2(e[1],e[0]));return u_(t)},zj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:l_,rotateZ:l_,skewX:e=>xl(Math.atan(e[1])),skewY:e=>xl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},u_=e=>(e=e%360,e<0&&(e+=360),e),cx=l_,hx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Uj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hx,scaleY:fx,scale:e=>(hx(e)+fx(e))/2,rotateX:e=>u_(xl(Math.atan2(e[6],e[5]))),rotateY:e=>u_(xl(Math.atan2(-e[2],e[0]))),rotateZ:cx,rotate:cx,skewX:e=>xl(Math.atan(e[4])),skewY:e=>xl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function c_(e){return e.includes("scale")?1:0}function h_(e,t){if(!e||e==="none")return c_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=Uj,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=zj,o=m}if(!o)return c_(t);const u=s[t],f=o[1].split(",").map(Fj);return typeof u=="function"?u(f):f[u]}const Bj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return h_(n,t)};function Fj(e){return parseFloat(e.trim())}const sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rc=new Set(sc),dx=e=>e===ic||e===qt,Hj=new Set(["x","y","z"]),qj=sc.filter(e=>!Hj.has(e));function Gj(e){const t=[];return qj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Rl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>h_(t,"x"),y:(e,{transform:t})=>h_(t,"y")};Rl.translateX=Rl.x;Rl.translateY=Rl.y;const Cl=new Set;let f_=!1,d_=!1,m_=!1;function ZR(){if(d_){const e=Array.from(Cl).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=Gj(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}d_=!1,f_=!1,Cl.forEach(e=>e.complete(m_)),Cl.clear()}function YR(){Cl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(d_=!0)})}function Wj(){m_=!0,YR(),ZR(),m_=!1}class Jv{constructor(t,n,s,o,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Cl.add(this),f_||(f_=!0,be.read(YR),be.resolveKeyframes(ZR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const m=s.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}jj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cl.delete(this)}cancel(){this.state==="scheduled"&&(Cl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zj=e=>e.startsWith("--");function Yj(e,t,n){Zj(t)?e.style.setProperty(t,n):e.style[t]=n}const KR=jv(()=>window.ScrollTimeline!==void 0),Kj={};function $j(e,t){const n=jv(e);return()=>Kj[t]??n()}const $R=$j(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uh=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,mx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uh([0,.65,.55,1]),circOut:uh([.55,0,1,.45]),backIn:uh([.31,.01,.66,-.59]),backOut:uh([.33,1.53,.69,.99])};function XR(e,t){if(e)return typeof e=="function"?$R()?HR(e,t):"ease-out":DR(e)?uh(e):Array.isArray(e)?e.map(n=>XR(n,t)||mx.easeOut):mx[e]}function Xj(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:m="easeOut",times:y}={},_=void 0){const E={[t]:n};y&&(E.offset=y);const A=XR(m,o);Array.isArray(A)&&(E.easing=A);const S={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return _&&(S.pseudoElement=_),e.animate(E,S)}function QR(e){return typeof e=="function"&&"applyToOptions"in e}function Qj({type:e,...t}){return QR(e)&&$R()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Jj extends Xv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Vh(typeof t.type!="string");const _=Qj(t);this.animation=Xj(n,s,o,_,u),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const E=$v(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(E):Yj(n,s,E),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Tr(Number(t))}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&KR()?(this.animation.timeline=t,bi):n(this)}}const JR={anticipate:IR,backInOut:CR,circInOut:MR};function t4(e){return e in JR}function e4(e){typeof e.ease=="string"&&t4(e.ease)&&(e.ease=JR[e.ease])}const px=10;class n4 extends Jj{constructor(t){e4(t),WR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new Qv({...f,autoplay:!1}),y=vr(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-px).value,m.sample(y).value,px),m.stop()}}const gx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Co.test(e)||e==="0")&&!e.startsWith("url("));function i4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function s4(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=gx(o,t),m=gx(u,t);return!f||!m?!1:i4(e)||(n==="spring"||QR(n))&&s}const r4=new Set(["opacity","clipPath","filter","transform"]),a4=jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=t.owner.getProps();return a4()&&n&&r4.has(n)&&(n!=="transform"||!_)&&!y&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}const l4=40;class u4 extends Xv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:m,name:y,motionValue:_,element:E,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vi.now();const S={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:f,name:y,motionValue:_,element:E,...A},N=E?.KeyframeResolver||Jv;this.keyframeResolver=new N(m,(D,B,q)=>this.onKeyframesResolved(D,B,S,!q),y,_,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:m,delay:y,isHandoff:_,onUpdate:E}=s;this.resolvedAt=vi.now(),s4(t,u,f,m)||((fa.instantAnimations||!y)&&E?.($v(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>l4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},N=!_&&o4(S)?new n4({...S,element:S.motionValue.owner.current}):new Qv(S);N.finished.then(()=>this.notifyFinished()).catch(bi),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Wj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const c4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h4(e){const t=c4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function tC(e,t,n=1){const[s,o]=h4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return bR(f)?parseFloat(f):f}return qv(o)?tC(o,t,n+1):o}function t0(e,t){return e?.[t]??e?.default??e}const eC=new Set(["width","height","top","left","right","bottom",...sc]),f4={test:e=>e==="auto",parse:e=>e},nC=e=>t=>t.test(e),iC=[ic,qt,br,uo,aj,rj,f4],yx=e=>iC.find(nC(e));function d4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||wR(e):!0}const m4=new Set(["brightness","contrast","saturate","opacity"]);function p4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Gv)||[];if(!s)return e;const o=n.replace(s,"");let u=m4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const g4=/\b([a-z-]*)\(.*?\)/gu,p_={...Co,getAnimatableNone:e=>{const t=e.match(g4);return t?t.map(p4).join(" "):e}},_x={...ic,transform:Math.round},y4={rotate:uo,rotateX:uo,rotateY:uo,rotateZ:uo,scale:Ad,scaleX:Ad,scaleY:Ad,scaleZ:Ad,skew:uo,skewX:uo,skewY:uo,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:jh,originX:rx,originY:rx,originZ:qt},e0={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt,...y4,zIndex:_x,fillOpacity:jh,strokeOpacity:jh,numOctaves:_x},_4={...e0,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:p_,WebkitFilter:p_},sC=e=>_4[e];function rC(e,t){let n=sC(e);return n!==p_&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const v4=new Set(["auto","none","0"]);function T4(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!v4.has(u)&&zh(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=rC(n,o)}class b4 extends Jv{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),qv(_))){const E=tC(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!eC.has(s)||t.length!==2)return;const[o,u]=t,f=yx(o),m=yx(u);if(f!==m)if(dx(f)&&dx(m))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Rl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||d4(t[o]))&&s.push(o);s.length&&T4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=Rl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function aC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const oC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function lC(e){return ER(e)&&"offsetHeight"in e}const vx=30,E4=e=>!isNaN(parseFloat(e)),Th={current:void 0};class w4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=vi.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=E4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new zv);const s=this.events[t].add(n);return t==="change"?()=>{s(),be.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Th.current&&Th.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vx);return Uv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Us(e,t){return new w4(e,t)}const{schedule:n0}=NR(queueMicrotask,!1),js={x:!1,y:!1};function uC(){return js.x||js.y}function x4(e){return e==="x"||e==="y"?js[e]?null:(js[e]=!0,()=>{js[e]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function cC(e,t){const n=aC(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Tx(e){return!(e.pointerType==="touch"||uC())}function S4(e,t,n={}){const[s,o,u]=cC(e,n),f=m=>{if(!Tx(m))return;const{target:y}=m,_=t(y,m);if(typeof _!="function"||!y)return;const E=A=>{Tx(A)&&(_(A),y.removeEventListener("pointerleave",E))};y.addEventListener("pointerleave",E,o)};return s.forEach(m=>{m.addEventListener("pointerenter",f,o)}),u}const hC=(e,t)=>t?e===t?!0:hC(e,t.parentElement):!1,i0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,A4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R4(e){return A4.has(e.tagName)||e.tabIndex!==-1}const Gd=new WeakSet;function bx(e){return t=>{t.key==="Enter"&&e(t)}}function py(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=bx(()=>{if(Gd.has(n))return;py(n,"down");const o=bx(()=>{py(n,"up")}),u=()=>py(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Ex(e){return i0(e)&&!uC()}function I4(e,t,n={}){const[s,o,u]=cC(e,n),f=m=>{const y=m.currentTarget;if(!Ex(m))return;Gd.add(y);const _=t(y,m),E=(N,D)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",S),Gd.has(y)&&Gd.delete(y),Ex(N)&&typeof _=="function"&&_(N,{success:D})},A=N=>{E(N,y===window||y===document||n.useGlobalTarget||hC(y,N.target))},S=N=>{E(N,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",S,o)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",f,o),lC(m)&&(m.addEventListener("focus",_=>C4(_,o)),!R4(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function s0(e){return ER(e)&&"ownerSVGElement"in e}const Wd=new WeakMap;let Zd;const fC=(e,t,n)=>(s,o)=>o&&o[0]?o[0][e+"Size"]:s0(s)&&"getBBox"in s?s.getBBox()[t]:s[n],P4=fC("inline","width","offsetWidth"),M4=fC("block","height","offsetHeight");function L4({target:e,borderBoxSize:t}){Wd.get(e)?.forEach(n=>{n(e,{get width(){return P4(e,t)},get height(){return M4(e,t)}})})}function D4(e){e.forEach(L4)}function N4(){typeof ResizeObserver>"u"||(Zd=new ResizeObserver(D4))}function O4(e,t){Zd||N4();const n=aC(e);return n.forEach(s=>{let o=Wd.get(s);o||(o=new Set,Wd.set(s,o)),o.add(t),Zd?.observe(s)}),()=>{n.forEach(s=>{const o=Wd.get(s);o?.delete(t),o?.size||Zd?.unobserve(s)})}}const Yd=new Set;let Iu;function k4(){Iu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Yd.forEach(t=>t(e))},window.addEventListener("resize",Iu)}function V4(e){return Yd.add(e),Iu||k4(),()=>{Yd.delete(e),!Yd.size&&typeof Iu=="function"&&(window.removeEventListener("resize",Iu),Iu=void 0)}}function j4(e,t){return typeof e=="function"?V4(e):O4(e,t)}function dC(e,t){let n;const s=()=>{const{currentTime:o}=t,f=(o===null?0:o.value)/100;n!==f&&e(f),n=f};return be.preUpdate(s,!0),()=>Hs(s)}function z4(e){return s0(e)&&e.tagName==="svg"}function U4(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],u=e[2+n],f=e[3+n],m=Kv(o,u,f);return t?m(s):m}const $n=e=>!!(e&&e.getVelocity),B4=[...iC,cn,Co],F4=e=>B4.find(nC(e)),r0=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function H4(e=!0){const t=V.useContext(Ov);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=V.useId();V.useEffect(()=>{if(e)return o(u)},[e]);const f=V.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const mC=V.createContext({strict:!1}),wx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wu={};for(const e in wx)Wu[e]={isEnabled:t=>wx[e].some(n=>!!t[n])};function q4(e){for(const t in e)Wu[t]={...Wu[t],...e[t]}}const G4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||G4.has(e)}let pC=e=>!xm(e);function W4(e){typeof e=="function"&&(pC=t=>t.startsWith("on")?!xm(t):e(t))}try{W4(require("@emotion/is-prop-valid").default)}catch{}function Z4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(pC(o)||n===!0&&xm(o)||!t&&!xm(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const sp=V.createContext({});function rp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Uh(e){return typeof e=="string"||Array.isArray(e)}const a0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o0=["initial",...a0];function ap(e){return rp(e.animate)||o0.some(t=>Uh(e[t]))}function gC(e){return!!(ap(e)||e.variants)}function Y4(e,t){if(ap(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Uh(n)?n:void 0,animate:Uh(s)?s:void 0}}return e.inherit!==!1?t:{}}function K4(e){const{initial:t,animate:n}=Y4(e,V.useContext(sp));return V.useMemo(()=>({initial:t,animate:n}),[xx(t),xx(n)])}function xx(e){return Array.isArray(e)?e.join(" "):e}const Bh={};function $4(e){for(const t in e)Bh[t]=e[t],Hv(t)&&(Bh[t].isCSSVariable=!0)}function yC(e,{layout:t,layoutId:n}){return rc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bh[e]||e==="opacity")}const X4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q4=sc.length;function J4(e,t,n){let s="",o=!0;for(let u=0;u<Q4;u++){const f=sc[u],m=e[f];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(f.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const _=oC(m,e0[f]);if(!y){o=!1;const E=X4[f]||f;s+=`${E}(${_}) `}n&&(t[f]=_)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function l0(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let f=!1,m=!1;for(const y in t){const _=t[y];if(rc.has(y)){f=!0;continue}else if(Hv(y)){o[y]=_;continue}else{const E=oC(_,e0[y]);y.startsWith("origin")?(m=!0,u[y]=E):s[y]=E}}if(t.transform||(f||n?s.transform=J4(t,e.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:_="50%",originZ:E=0}=u;s.transformOrigin=`${y} ${_} ${E}`}}const u0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _C(e,t,n){for(const s in t)!$n(t[s])&&!yC(s,n)&&(e[s]=t[s])}function t3({transformTemplate:e},t){return V.useMemo(()=>{const n=u0();return l0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function e3(e,t){const n=e.style||{},s={};return _C(s,n,e),Object.assign(s,t3(e,t)),s}function n3(e,t){const n={},s=e3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const i3={offset:"stroke-dashoffset",array:"stroke-dasharray"},s3={offset:"strokeDashoffset",array:"strokeDasharray"};function r3(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?i3:s3;e[u.offset]=qt.transform(-s);const f=qt.transform(t),m=qt.transform(n);e[u.array]=`${f} ${m}`}function vC(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...m},y,_,E){if(l0(e,m,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:S}=e;A.transform&&(S.transform=A.transform,delete A.transform),(S.transform||A.transformOrigin)&&(S.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),S.transform&&(S.transformBox=E?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&r3(A,o,u,f,!1)}const TC=()=>({...u0(),attrs:{}}),bC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function a3(e,t,n,s){const o=V.useMemo(()=>{const u=TC();return vC(u,t,bC(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};_C(u,e.style,e),o.style={...u,...o.style}}return o}const o3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c0(e){return typeof e!="string"||e.includes("-")?!1:!!(o3.indexOf(e)>-1||/[A-Z]/u.test(e))}function l3(e,t,n,{latestValues:s},o,u=!1){const m=(c0(e)?a3:n3)(t,s,o,e),y=Z4(t,typeof e=="string",u),_=e!==V.Fragment?{...y,...m,ref:n}:{},{children:E}=t,A=V.useMemo(()=>$n(E)?E.get():E,[E]);return V.createElement(e,{..._,children:A})}function Sx(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function h0(e,t,n,s){if(typeof t=="function"){const[o,u]=Sx(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Sx(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function Kd(e){return $n(e)?e.get():e}function u3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:c3(n,s,o,e),renderState:t()}}function c3(e,t,n,s){const o={},u=s(e,{});for(const S in u)o[S]=Kd(u[S]);let{initial:f,animate:m}=e;const y=ap(e),_=gC(e);t&&_&&!y&&e.inherit!==!1&&(f===void 0&&(f=t.initial),m===void 0&&(m=t.animate));let E=n?n.initial===!1:!1;E=E||f===!1;const A=E?m:f;if(A&&typeof A!="boolean"&&!rp(A)){const S=Array.isArray(A)?A:[A];for(let N=0;N<S.length;N++){const D=h0(e,S[N]);if(D){const{transitionEnd:B,transition:q,...Y}=D;for(const at in Y){let $=Y[at];if(Array.isArray($)){const gt=E?$.length-1:0;$=$[gt]}$!==null&&(o[at]=$)}for(const at in B)o[at]=B[at]}}}return o}const EC=e=>(t,n)=>{const s=V.useContext(sp),o=V.useContext(Ov),u=()=>u3(e,t,s,o);return n?u():ip(u)};function f0(e,t,n){const{style:s}=e,o={};for(const u in s)($n(s[u])||t.style&&$n(t.style[u])||yC(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const h3=EC({scrapeMotionValuesFromProps:f0,createRenderState:u0});function wC(e,t,n){const s=f0(e,t,n);for(const o in e)if($n(e[o])||$n(t[o])){const u=sc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const f3=EC({scrapeMotionValuesFromProps:wC,createRenderState:TC}),d3=Symbol.for("motionComponentSymbol");function Pu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function m3(e,t,n){return V.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Pu(n)&&(n.current=s))},[t])}const d0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p3="framerAppearId",xC="data-"+d0(p3),SC=V.createContext({});function g3(e,t,n,s,o){const{visualElement:u}=V.useContext(sp),f=V.useContext(mC),m=V.useContext(Ov),y=V.useContext(r0).reducedMotion,_=V.useRef(null);s=s||f.renderer,!_.current&&s&&(_.current=s(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,A=V.useContext(SC);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&y3(_.current,n,o,A);const S=V.useRef(!1);V.useInsertionEffect(()=>{E&&S.current&&E.update(n,m)});const N=n[xC],D=V.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return Nv(()=>{E&&(S.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),D.current&&E.animationState&&E.animationState.animateChanges())}),V.useEffect(()=>{E&&(!D.current&&E.animationState&&E.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),D.current=!1))}),E}function y3(e,t,n,s){const{layoutId:o,layout:u,drag:f,dragConstraints:m,layoutScroll:y,layoutRoot:_,layoutCrossfade:E}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:AC(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||m&&Pu(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:E,layoutScroll:y,layoutRoot:_})}function AC(e){if(e)return e.options.allowProjection!==!1?e.projection:AC(e.parent)}function gy(e,{forwardMotionProps:t=!1}={},n,s){n&&q4(n);const o=c0(e)?f3:h3;function u(m,y){let _;const E={...V.useContext(r0),...m,layoutId:_3(m)},{isStatic:A}=E,S=K4(m),N=o(m,A);if(!A&&Dv){v3();const D=T3(E);_=D.MeasureLayout,S.visualElement=g3(e,N,E,s,D.ProjectionNode)}return T.jsxs(sp.Provider,{value:S,children:[_&&S.visualElement?T.jsx(_,{visualElement:S.visualElement,...E}):null,l3(e,m,m3(N,S.visualElement,y),N,A,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=V.forwardRef(u);return f[d3]=e,f}function _3({layoutId:e}){const t=V.useContext(TR).id;return t&&e!==void 0?t+"-"+e:e}function v3(e,t){V.useContext(mC).strict}function T3(e){const{drag:t,layout:n}=Wu;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function b3(e,t){if(typeof Proxy>"u")return gy;const n=new Map,s=(u,f)=>gy(u,f,e,t),o=(u,f)=>s(u,f);return new Proxy(o,{get:(u,f)=>f==="create"?s:(n.has(f)||n.set(f,gy(f,void 0,e,t)),n.get(f))})}function RC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function E3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function w3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function yy(e){return e===void 0||e===1}function g_({scale:e,scaleX:t,scaleY:n}){return!yy(e)||!yy(t)||!yy(n)}function Tl(e){return g_(e)||CC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function CC(e){return Ax(e.x)||Ax(e.y)}function Ax(e){return e&&e!=="0%"}function Sm(e,t,n){const s=e-n,o=t*s;return n+o}function Rx(e,t,n,s,o){return o!==void 0&&(e=Sm(e,o,s)),Sm(e,n,s)+t}function y_(e,t=0,n=1,s,o){e.min=Rx(e.min,t,n,s,o),e.max=Rx(e.max,t,n,s,o)}function IC(e,{x:t,y:n}){y_(e.x,t.translate,t.scale,t.originPoint),y_(e.y,n.translate,n.scale,n.originPoint)}const Cx=.999999999999,Ix=1.0000000000001;function x3(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,f;for(let m=0;m<o;m++){u=n[m],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Lu(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,IC(e,f)),s&&Tl(u.latestValues)&&Lu(e,u.latestValues))}t.x<Ix&&t.x>Cx&&(t.x=1),t.y<Ix&&t.y>Cx&&(t.y=1)}function Mu(e,t){e.min=e.min+t,e.max=e.max+t}function Px(e,t,n,s,o=.5){const u=qe(e.min,e.max,o);y_(e,t,n,u,s)}function Lu(e,t){Px(e.x,t.x,t.scaleX,t.scale,t.originX),Px(e.y,t.y,t.scaleY,t.scale,t.originY)}function PC(e,t){return RC(w3(e.getBoundingClientRect(),t))}function S3(e,t,n){const s=PC(e,n),{scroll:o}=t;return o&&(Mu(s.x,o.offset.x),Mu(s.y,o.offset.y)),s}const Mx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Du=()=>({x:Mx(),y:Mx()}),Lx=()=>({min:0,max:0}),nn=()=>({x:Lx(),y:Lx()}),__={current:null},MC={current:!1};function A3(){if(MC.current=!0,!!Dv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>__.current=e.matches;e.addEventListener("change",t),t()}else __.current=!1}const R3=new WeakMap;function C3(e,t,n){for(const s in t){const o=t[s],u=n[s];if($n(o))e.addValue(s,o);else if($n(u))e.addValue(s,Us(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=e.getStaticValue(s);e.addValue(s,Us(f!==void 0?f:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Dx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=vi.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,be.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=ap(n),this.isVariantNode=gC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in A){const N=A[S];y[S]!==void 0&&$n(N)&&N.set(y[S],!1)}}mount(t){this.current=t,R3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),MC.current||A3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:__.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=rc.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&be.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wu){const n=Wu[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Dx.length;s++){const o=Dx[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=C3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Us(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(bR(s)||wR(s))?s=parseFloat(s):!F4(s)&&Co.test(n)&&(s=rC(t,n)),this.setBaseTarget(t,$n(s)?s.get():s)),$n(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=h0(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!$n(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new zv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){n0.render(this.render)}}class LC extends I3{constructor(){super(...arguments),this.KeyframeResolver=b4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DC(e,{style:t,vars:n},s,o){const u=e.style;let f;for(f in t)u[f]=t[f];o?.applyProjectionStyles(u,s);for(f in n)u.setProperty(f,n[f])}function P3(e){return window.getComputedStyle(e)}class M3 extends LC{constructor(){super(...arguments),this.type="html",this.renderInstance=DC}readValueFromInstance(t,n){if(rc.has(n))return this.projection?.isProjecting?c_(n):Bj(t,n);{const s=P3(t),o=(Hv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return PC(t,n)}build(t,n,s){l0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return f0(t,n,s)}}const NC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function L3(e,t,n,s){DC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(NC.has(o)?o:d0(o),t.attrs[o])}class D3 extends LC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rc.has(n)){const s=sC(n);return s&&s.default||0}return n=NC.has(n)?n:d0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return wC(t,n,s)}build(t,n,s){vC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){L3(t,n,s,o)}mount(t){this.isSVGTag=bC(t.tagName),super.mount(t)}}const N3=(e,t)=>c0(e)?new D3(t):new M3(t,{allowProjection:e!==V.Fragment});function Fh(e,t,n){const s=e.getProps();return h0(s,t,n!==void 0?n:s.custom,e)}const v_=e=>Array.isArray(e);function O3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Us(n))}function k3(e){return v_(e)?e[e.length-1]||0:e}function V3(e,t){const n=Fh(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const f in u){const m=k3(u[f]);O3(e,f,m)}}function j3(e){return!!($n(e)&&e.add)}function T_(e,t){const n=e.getValue("willChange");if(j3(n))return n.add(t);if(!n&&fa.WillChange){const s=new fa.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function OC(e){return e.props[xC]}const z3=e=>e!==null;function U3(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(z3),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const B3={type:"spring",stiffness:500,damping:25,restSpeed:10},F3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),H3={type:"keyframes",duration:.8},q3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G3=(e,{keyframes:t})=>t.length>2?H3:rc.has(e)?e.startsWith("scale")?F3(t[1]):B3:q3;function W3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:m,from:y,elapsed:_,...E}){return!!Object.keys(E).length}const m0=(e,t,n,s={},o,u)=>f=>{const m=t0(s,e)||{},y=m.delay||s.delay||0;let{elapsed:_=0}=s;_=_-vr(y);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-_,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};W3(m)||Object.assign(E,G3(e,E)),E.duration&&(E.duration=vr(E.duration)),E.repeatDelay&&(E.repeatDelay=vr(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(A=!0)),(fa.instantAnimations||fa.skipAnimations)&&(A=!0,E.duration=0,E.delay=0),E.allowFlatten=!m.type&&!m.ease,A&&!u&&t.get()!==void 0){const S=U3(E.keyframes,m);if(S!==void 0){be.update(()=>{E.onUpdate(S),E.onComplete()});return}}return m.isSync?new Qv(E):new u4(E)};function Z3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function kC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:f,...m}=t;s&&(u=s);const y=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const E in m){const A=e.getValue(E,e.latestValues[E]??null),S=m[E];if(S===void 0||_&&Z3(_,E))continue;const N={delay:n,...t0(u||{},E)},D=A.get();if(D!==void 0&&!A.isAnimating&&!Array.isArray(S)&&S===D&&!N.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const Y=OC(e);if(Y){const at=window.MotionHandoffAnimation(Y,E,be);at!==null&&(N.startTime=at,B=!0)}}T_(e,E),A.start(m0(E,A,S,e.shouldReduceMotion&&eC.has(E)?{type:!1}:N,e,B));const q=A.animation;q&&y.push(q)}return f&&Promise.all(y).then(()=>{be.update(()=>{f&&V3(e,f)})}),y}function b_(e,t,n={}){const s=Fh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(kC(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:E,staggerDirection:A}=o;return Y3(e,t,y,_,E,A,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,_]=m==="beforeChildren"?[u,f]:[f,u];return y().then(()=>_())}else return Promise.all([u(),f(n.delay)])}function Y3(e,t,n=0,s=0,o=0,u=1,f){const m=[],y=e.variantChildren.size,_=(y-1)*o,E=typeof s=="function",A=E?S=>s(S,y):u===1?(S=0)=>S*o:(S=0)=>_-S*o;return Array.from(e.variantChildren).sort(K3).forEach((S,N)=>{S.notify("AnimationStart",t),m.push(b_(S,t,{...f,delay:n+(E?0:s)+A(N)}).then(()=>S.notify("AnimationComplete",t)))}),Promise.all(m)}function K3(e,t){return e.sortNodePosition(t)}function $3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>b_(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=b_(e,t,n);else{const o=typeof t=="function"?Fh(e,t,n.custom):t;s=Promise.all(kC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function VC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const X3=o0.length;function jC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?jC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<X3;n++){const s=o0[n],o=e.props[s];(Uh(o)||o===!1)&&(t[s]=o)}return t}const Q3=[...a0].reverse(),J3=a0.length;function t6(e){return t=>Promise.all(t.map(({animation:n,options:s})=>$3(e,n,s)))}function e6(e){let t=t6(e),n=Nx(),s=!0;const o=y=>(_,E)=>{const A=Fh(e,E,y==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:S,transitionEnd:N,...D}=A;_={..._,...D,...N}}return _};function u(y){t=y(e)}function f(y){const{props:_}=e,E=jC(e.parent)||{},A=[],S=new Set;let N={},D=1/0;for(let q=0;q<J3;q++){const Y=Q3[q],at=n[Y],$=_[Y]!==void 0?_[Y]:E[Y],gt=Uh($),ht=Y===y?at.isActive:null;ht===!1&&(D=q);let xt=$===E[Y]&&$!==_[Y]&&gt;if(xt&&s&&e.manuallyAnimateOnMount&&(xt=!1),at.protectedKeys={...N},!at.isActive&&ht===null||!$&&!at.prevProp||rp($)||typeof $=="boolean")continue;const W=n6(at.prevProp,$);let P=W||Y===y&&at.isActive&&!xt&&gt||q>D&&gt,O=!1;const U=Array.isArray($)?$:[$];let G=U.reduce(o(Y),{});ht===!1&&(G={});const{prevResolvedValues:Z={}}=at,j={...Z,...G},Tt=ft=>{P=!0,S.has(ft)&&(O=!0,S.delete(ft)),at.needsAnimating[ft]=!0;const mt=e.getValue(ft);mt&&(mt.liveStyle=!1)};for(const ft in j){const mt=G[ft],Kt=Z[ft];if(N.hasOwnProperty(ft))continue;let z=!1;v_(mt)&&v_(Kt)?z=!VC(mt,Kt):z=mt!==Kt,z?mt!=null?Tt(ft):S.add(ft):mt!==void 0&&S.has(ft)?Tt(ft):at.protectedKeys[ft]=!0}at.prevProp=$,at.prevResolvedValues=G,at.isActive&&(N={...N,...G}),s&&e.blockInitialAnimation&&(P=!1),P&&(!(xt&&W)||O)&&A.push(...U.map(ft=>({animation:ft,options:{type:Y}})))}if(S.size){const q={};if(typeof _.initial!="boolean"){const Y=Fh(e,Array.isArray(_.initial)?_.initial[0]:_.initial);Y&&Y.transition&&(q.transition=Y.transition)}S.forEach(Y=>{const at=e.getBaseTarget(Y),$=e.getValue(Y);$&&($.liveStyle=!0),q[Y]=at??null}),A.push({animation:q})}let B=!!A.length;return s&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(B=!1),s=!1,B?t(A):Promise.resolve()}function m(y,_){if(n[y].isActive===_)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(y,_)),n[y].isActive=_;const E=f(y);for(const A in n)n[A].protectedKeys={};return E}return{animateChanges:f,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Nx(),s=!0}}}function n6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!VC(t,e):!1}function _l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nx(){return{animate:_l(!0),whileInView:_l(),whileHover:_l(),whileTap:_l(),whileDrag:_l(),whileFocus:_l(),exit:_l()}}class Oo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class i6 extends Oo{constructor(t){super(t),t.animationState||(t.animationState=e6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let s6=0;class r6 extends Oo{constructor(){super(...arguments),this.id=s6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const a6={animation:{Feature:i6},exit:{Feature:r6}};function Hh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function hf(e){return{point:{x:e.pageX,y:e.pageY}}}const o6=e=>t=>i0(t)&&e(t,hf(t));function bh(e,t,n,s){return Hh(e,t,o6(n),s)}const zC=1e-4,l6=1-zC,u6=1+zC,UC=.01,c6=0-UC,h6=0+UC;function ri(e){return e.max-e.min}function f6(e,t,n){return Math.abs(e-t)<=n}function Ox(e,t,n,s=.5){e.origin=s,e.originPoint=qe(t.min,t.max,e.origin),e.scale=ri(n)/ri(t),e.translate=qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=l6&&e.scale<=u6||isNaN(e.scale))&&(e.scale=1),(e.translate>=c6&&e.translate<=h6||isNaN(e.translate))&&(e.translate=0)}function Eh(e,t,n,s){Ox(e.x,t.x,n.x,s?s.originX:void 0),Ox(e.y,t.y,n.y,s?s.originY:void 0)}function kx(e,t,n){e.min=n.min+t.min,e.max=e.min+ri(t)}function d6(e,t,n){kx(e.x,t.x,n.x),kx(e.y,t.y,n.y)}function Vx(e,t,n){e.min=t.min-n.min,e.max=e.min+ri(t)}function wh(e,t,n){Vx(e.x,t.x,n.x),Vx(e.y,t.y,n.y)}function ds(e){return[e("x"),e("y")]}const BC=({current:e})=>e?e.ownerDocument.defaultView:null,jx=(e,t)=>Math.abs(e-t);function m6(e,t){const n=jx(e.x,t.x),s=jx(e.y,t.y);return Math.sqrt(n**2+s**2)}class FC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=vy(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,D=m6(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!D)return;const{point:B}=S,{timestamp:q}=Rn;this.history.push({...B,timestamp:q});const{onStart:Y,onMove:at}=this.handlers;N||(Y&&Y(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),at&&at(this.lastMoveEvent,S)},this.handlePointerMove=(S,N)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=_y(N,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(S,N)=>{this.end();const{onEnd:D,onSessionEnd:B,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=vy(S.type==="pointercancel"?this.lastMoveEventInfo:_y(N,this.transformPagePoint),this.history);this.startEvent&&D&&D(S,Y),B&&B(S,Y)},!i0(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=o||window;const m=hf(t),y=_y(m,this.transformPagePoint),{point:_}=y,{timestamp:E}=Rn;this.history=[{..._,timestamp:E}];const{onSessionStart:A}=n;A&&A(t,vy(y,this.history)),this.removeListeners=lf(bh(this.contextWindow,"pointermove",this.handlePointerMove),bh(this.contextWindow,"pointerup",this.handlePointerUp),bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function _y(e,t){return t?{point:t(e.point)}:e}function zx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vy({point:e},t){return{point:e,delta:zx(e,HC(t)),offset:zx(e,p6(t)),velocity:g6(t,.1)}}function p6(e){return e[0]}function HC(e){return e[e.length-1]}function g6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=HC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>vr(t)));)n--;if(!s)return{x:0,y:0};const u=Tr(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function y6(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?qe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?qe(n,e,s.max):Math.min(e,n)),e}function Ux(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _6(e,{top:t,left:n,bottom:s,right:o}){return{x:Ux(e.x,n,o),y:Ux(e.y,t,s)}}function Bx(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function v6(e,t){return{x:Bx(e.x,t.x),y:Bx(e.y,t.y)}}function T6(e,t){let n=.5;const s=ri(e),o=ri(t);return o>s?n=Gu(t.min,t.max-s,e.min):s>o&&(n=Gu(e.min,e.max-o,t.min)),wr(0,1,n)}function b6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const E_=.35;function E6(e=E_){return e===!1?e=0:e===!0&&(e=E_),{x:Fx(e,"left","right"),y:Fx(e,"top","bottom")}}function Fx(e,t,n){return{min:Hx(e,t),max:Hx(e,n)}}function Hx(e,t){return typeof e=="number"?e:e[t]||0}const w6=new WeakMap;class x6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=A=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hf(A).point)},f=(A,S)=>{const{drag:N,dragPropagation:D,onDragStart:B}=this.getProps();if(N&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x4(N),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(Y=>{let at=this.getAxisMotionValue(Y).get()||0;if(br.test(at)){const{projection:$}=this.visualElement;if($&&$.layout){const gt=$.layout.layoutBox[Y];gt&&(at=ri(gt)*(parseFloat(at)/100))}}this.originPoint[Y]=at}),B&&be.postRender(()=>B(A,S)),T_(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},m=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S;const{dragPropagation:N,dragDirectionLock:D,onDirectionLock:B,onDrag:q}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:Y}=S;if(D&&this.currentDirection===null){this.currentDirection=S6(Y),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",S.point,Y),this.updateAxis("y",S.point,Y),this.visualElement.render(),q&&q(A,S)},y=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S,this.stop(A,S),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>ds(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:E}=this.getProps();this.panSession=new FC(t,{onSessionStart:u,onStart:f,onMove:m,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:s,contextWindow:BC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:f}=o;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&be.postRender(()=>m(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Rd(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=y6(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Pu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=_6(s.layoutBox,t):this.constraints=!1,this.elastic=E6(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ds(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=b6(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Pu(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=S3(s,o.root,this.visualElement.getTransformPagePoint());let f=v6(o.layout.layoutBox,u);if(n){const m=n(E3(f));this.hasMutatedConstraints=!!m,m&&(f=RC(m))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},_=ds(E=>{if(!Rd(E,n,this.currentDirection))return;let A=y&&y[E]||{};f&&(A={min:0,max:0});const S=o?200:1e6,N=o?40:1e7,D={type:"inertia",velocity:s?t[E]:0,bounceStiffness:S,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(E,D)});return Promise.all(_).then(m)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return T_(this.visualElement,t),s.start(m0(t,s,0,n,this.visualElement,!1))}stopAnimation(){ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ds(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ds(n=>{const{drag:s}=this.getProps();if(!Rd(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:m}=o.layout.layoutBox[n];u.set(t[n]-qe(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Pu(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ds(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const y=m.get();o[f]=T6({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ds(f=>{if(!Rd(f,t,null))return;const m=this.getAxisMotionValue(f),{min:y,max:_}=this.constraints[f];m.set(qe(y,_,o[f]))})}addListeners(){if(!this.visualElement.current)return;w6.set(this.visualElement,this);const t=this.visualElement.current,n=bh(t,"pointerdown",y=>{const{drag:_,dragListener:E=!0}=this.getProps();_&&E&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Pu(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),be.read(s);const f=Hh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(ds(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=y[E].translate,A.set(A.get()+y[E].translate))}),this.visualElement.render())});return()=>{f(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=E_,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:m}}}function Rd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function S6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class A6 extends Oo{constructor(t){super(t),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new x6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const qx=e=>(t,n)=>{e&&be.postRender(()=>e(t,n))};class R6 extends Oo{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(t){this.session=new FC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:qx(t),onStart:qx(n),onMove:s,onEnd:(u,f)=>{delete this.session,o&&be.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=bh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qt.test(e))e=parseFloat(e);else return e;const n=Gx(e,t.target.x),s=Gx(e,t.target.y);return`${n}% ${s}%`}},C6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Co.parse(e);if(o.length>5)return s;const u=Co.createTransformer(e),f=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,y=n.y.scale*t.y;o[0+f]/=m,o[1+f]/=y;const _=qe(m,y,.5);return typeof o[2+f]=="number"&&(o[2+f]/=_),typeof o[3+f]=="number"&&(o[3+f]/=_),u(o)}};let Wx=!1;class I6 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;$4(P6),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),Wx&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),$d.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,Wx=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||be.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),n0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qC(e){const[t,n]=H4(),s=V.useContext(TR);return T.jsx(I6,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(SC),isPresent:t,safeToRemove:n})}const P6={borderRadius:{...Qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qc,borderTopRightRadius:Qc,borderBottomLeftRadius:Qc,borderBottomRightRadius:Qc,boxShadow:C6};function M6(e,t,n){const s=$n(e)?e:Us(e);return s.start(m0("",s,t,n)),s.animation}const L6=(e,t)=>e.depth-t.depth;class D6{constructor(){this.children=[],this.isDirty=!1}add(t){kv(this.children,t),this.isDirty=!0}remove(t){Vv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L6),this.isDirty=!1,this.children.forEach(t)}}function N6(e,t){const n=vi.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(Hs(s),e(u-t))};return be.setup(s,!0),()=>Hs(s)}const GC=["TopLeft","TopRight","BottomLeft","BottomRight"],O6=GC.length,Zx=e=>typeof e=="string"?parseFloat(e):e,Yx=e=>typeof e=="number"||qt.test(e);function k6(e,t,n,s,o,u){o?(e.opacity=qe(0,n.opacity??1,V6(s)),e.opacityExit=qe(t.opacity??1,0,j6(s))):u&&(e.opacity=qe(t.opacity??1,n.opacity??1,s));for(let f=0;f<O6;f++){const m=`border${GC[f]}Radius`;let y=Kx(t,m),_=Kx(n,m);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||Yx(y)===Yx(_)?(e[m]=Math.max(qe(Zx(y),Zx(_),s),0),(br.test(_)||br.test(y))&&(e[m]+="%")):e[m]=_}(t.rotate||n.rotate)&&(e.rotate=qe(t.rotate||0,n.rotate||0,s))}function Kx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const V6=WC(0,.5,PR),j6=WC(.5,.95,bi);function WC(e,t,n){return s=>s<e?0:s>t?1:n(Gu(e,t,s))}function $x(e,t){e.min=t.min,e.max=t.max}function hs(e,t){$x(e.x,t.x),$x(e.y,t.y)}function Xx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qx(e,t,n,s,o){return e-=t,e=Sm(e,1/n,s),o!==void 0&&(e=Sm(e,1/o,s)),e}function z6(e,t=0,n=1,s=.5,o,u=e,f=e){if(br.test(t)&&(t=parseFloat(t),t=qe(f.min,f.max,t/100)-f.min),typeof t!="number")return;let m=qe(u.min,u.max,s);e===u&&(m-=t),e.min=Qx(e.min,t,n,m,o),e.max=Qx(e.max,t,n,m,o)}function Jx(e,t,[n,s,o],u,f){z6(e,t[n],t[s],t[o],t.scale,u,f)}const U6=["x","scaleX","originX"],B6=["y","scaleY","originY"];function tS(e,t,n,s){Jx(e.x,t,U6,n?n.x:void 0,s?s.x:void 0),Jx(e.y,t,B6,n?n.y:void 0,s?s.y:void 0)}function eS(e){return e.translate===0&&e.scale===1}function ZC(e){return eS(e.x)&&eS(e.y)}function nS(e,t){return e.min===t.min&&e.max===t.max}function F6(e,t){return nS(e.x,t.x)&&nS(e.y,t.y)}function iS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function YC(e,t){return iS(e.x,t.x)&&iS(e.y,t.y)}function sS(e){return ri(e.x)/ri(e.y)}function rS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class H6{constructor(){this.members=[]}add(t){kv(this.members,t),t.scheduleRender()}remove(t){if(Vv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q6(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((o||u||f)&&(s=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:_,rotate:E,rotateX:A,rotateY:S,skewX:N,skewY:D}=n;_&&(s=`perspective(${_}px) ${s}`),E&&(s+=`rotate(${E}deg) `),A&&(s+=`rotateX(${A}deg) `),S&&(s+=`rotateY(${S}deg) `),N&&(s+=`skewX(${N}deg) `),D&&(s+=`skewY(${D}deg) `)}const m=e.x.scale*t.x,y=e.y.scale*t.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const Ty=["","X","Y","Z"],G6=1e3;let W6=0;function by(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function KC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=OC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",be,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&KC(s)}function $C({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},m=t?.()){this.id=W6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K6),this.nodes.forEach(J6),this.nodes.forEach(tz),this.nodes.forEach($6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new D6)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new zv),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const y=this.eventHandlers.get(f);y&&y.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=s0(f)&&!z4(f),this.instance=f;const{layoutId:m,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),e){let E,A=0;const S=()=>this.root.updateBlockedByResize=!1;be.read(()=>{A=window.innerWidth}),e(f,()=>{const N=window.innerWidth;N!==A&&(A=N,this.root.updateBlockedByResize=!0,E&&E(),E=N6(S,250),$d.hasAnimatedSinceResize&&($d.hasAnimatedSinceResize=!1,this.nodes.forEach(lS)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||y)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:A,hasRelativeLayoutChanged:S,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||_.getDefaultTransition()||rz,{onLayoutAnimationStart:B,onLayoutAnimationComplete:q}=_.getProps(),Y=!this.targetLayout||!YC(this.targetLayout,N),at=!A&&S;if(this.options.layoutRoot||this.resumeFrom||at||A&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...t0(D,"layout"),onPlay:B,onComplete:q};(_.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(E,at)}else A||lS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ez),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Q6),this.nodes.forEach(Z6),this.nodes.forEach(Y6)):this.nodes.forEach(oS),this.clearAllSnapshots();const m=vi.now();Rn.delta=wr(0,1e3/60,m-Rn.timestamp),Rn.timestamp=m,Rn.isProcessing=!0,cy.update.process(Rn),cy.preRender.process(Rn),cy.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X6),this.sharedNodes.forEach(nz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ri(this.snapshot.measuredBox.x)&&!ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!ZC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,E=_!==this.prevTransformTemplateValue;f&&this.instance&&(m||Tl(this.latestValues)||E)&&(o(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return f&&(y=this.removeTransform(y)),az(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return nn();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oz))){const{scroll:_}=this.root;_&&(Mu(m.x,_.offset.x),Mu(m.y,_.offset.y))}return m}removeElementScroll(f){const m=nn();if(hs(m,f),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:E,options:A}=_;_!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&hs(m,f),Mu(m.x,E.offset.x),Mu(m.y,E.offset.y))}return m}applyTransform(f,m=!1){const y=nn();hs(y,f);for(let _=0;_<this.path.length;_++){const E=this.path[_];!m&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Lu(y,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Tl(E.latestValues)&&Lu(y,E.latestValues)}return Tl(this.latestValues)&&Lu(y,this.latestValues),y}removeTransform(f){const m=nn();hs(m,f);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!Tl(_.latestValues))continue;g_(_.latestValues)&&_.updateSnapshot();const E=nn(),A=_.measurePageBox();hs(E,A),tS(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,E)}return Tl(this.latestValues)&&tS(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!(!this.layout||!(E||A))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),wh(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hs(this.target,this.layout.layoutBox),IC(this.target,this.targetDelta)):hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),wh(this.relativeTargetOrigin,this.target,S.target),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g_(this.parent.latestValues)||CC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(y=!1),y)return;const{layout:_,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||E))return;hs(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,S=this.treeScale.y;x3(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=nn());const{target:N}=f;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xx(this.prevProjectionDelta.x,this.projectionDelta.x),Xx(this.prevProjectionDelta.y,this.projectionDelta.y)),Eh(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==S||!rS(this.projectionDelta.x,this.prevProjectionDelta.x)||!rS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Du(),this.projectionDelta=Du(),this.projectionDeltaWithTransform=Du()}setAnimationOrigin(f,m=!1){const y=this.snapshot,_=y?y.latestValues:{},E={...this.latestValues},A=Du();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=nn(),N=y?y.source:void 0,D=this.layout?this.layout.source:void 0,B=N!==D,q=this.getStack(),Y=!q||q.members.length<=1,at=!!(B&&!Y&&this.options.crossfade===!0&&!this.path.some(sz));this.animationProgress=0;let $;this.mixTargetDelta=gt=>{const ht=gt/1e3;uS(A.x,f.x,ht),uS(A.y,f.y,ht),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wh(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iz(this.relativeTarget,this.relativeTargetOrigin,S,ht),$&&F6(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=nn()),hs($,this.relativeTarget)),B&&(this.animationValues=E,k6(E,_,this.latestValues,ht,at,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ht},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{$d.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Us(0)),this.currentAnimation=M6(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:y,layout:_,latestValues:E}=f;if(!(!m||!y||!_)){if(this!==f&&this.layout&&_&&XC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||nn();const A=ri(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+A;const S=ri(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+S}hs(m,y),Lu(m,E),Eh(this.projectionDeltaWithTransform,this.layoutCorrected,m,E)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new H6),this.sharedNodes.get(f).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const _={};y.z&&by("z",f,_,this.animationValues);for(let E=0;E<Ty.length;E++)by(`rotate${Ty[E]}`,f,_,this.animationValues),by(`skew${Ty[E]}`,f,_,this.animationValues);f.render();for(const E in _)f.setStaticValue(E,_[E]),this.animationValues&&(this.animationValues[E]=_[E]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Kd(m?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Kd(m?.pointerEvents)||""),this.hasProjected&&!Tl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const E=_.animationValues||_.latestValues;this.applyTransformsToTarget();let A=q6(this.projectionDeltaWithTransform,this.treeScale,E);y&&(A=y(E,A)),f.transform=A;const{x:S,y:N}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${N.origin*100}% 0`,_.animationValues?f.opacity=_===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:f.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in Bh){if(E[D]===void 0)continue;const{correct:B,applyTo:q,isCSSVariable:Y}=Bh[D],at=A==="none"?E[D]:B(E[D],_);if(q){const $=q.length;for(let gt=0;gt<$;gt++)f[q[gt]]=at}else Y?this.options.visualElement.renderState.vars[D]=at:f[D]=at}this.options.layoutId&&(f.pointerEvents=_===this?Kd(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(aS),this.root.sharedNodes.clear()}}}function Z6(e){e.updateLayout()}function Y6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?ds(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],S=ri(A);A.min=n[E].min,A.max=A.min+S}):XC(o,t.layoutBox,n)&&ds(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],S=ri(n[E]);A.max=A.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+S)});const f=Du();Eh(f,n,t.layoutBox);const m=Du();u?Eh(m,e.applyTransform(s,!0),t.measuredBox):Eh(m,n,t.layoutBox);const y=!ZC(f);let _=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:S}=E;if(A&&S){const N=nn();wh(N,t.layoutBox,A.layoutBox);const D=nn();wh(D,n,S.layoutBox),YC(N,D)||(_=!0),E.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=N,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function K6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function X6(e){e.clearSnapshot()}function aS(e){e.clearMeasurements()}function oS(e){e.isLayoutDirty=!1}function Q6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function J6(e){e.resolveTargetDelta()}function tz(e){e.calcProjection()}function ez(e){e.resetSkewAndRotation()}function nz(e){e.removeLeadSnapshot()}function uS(e,t,n){e.translate=qe(t.translate,0,n),e.scale=qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cS(e,t,n,s){e.min=qe(t.min,n.min,s),e.max=qe(t.max,n.max,s)}function iz(e,t,n,s){cS(e.x,t.x,n.x,s),cS(e.y,t.y,n.y,s)}function sz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rz={duration:.45,ease:[.4,0,.1,1]},hS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fS=hS("applewebkit/")&&!hS("chrome/")?Math.round:bi;function dS(e){e.min=fS(e.min),e.max=fS(e.max)}function az(e){dS(e.x),dS(e.y)}function XC(e,t,n){return e==="position"||e==="preserve-aspect"&&!f6(sS(t),sS(n),.2)}function oz(e){return e!==e.root&&e.scroll?.wasRoot}const lz=$C({attachResizeListener:(e,t)=>Hh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ey={current:void 0},QC=$C({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ey.current){const e=new lz({});e.mount(window),e.setOptions({layoutScroll:!0}),Ey.current=e}return Ey.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uz={pan:{Feature:R6},drag:{Feature:A6,ProjectionNode:QC,MeasureLayout:qC}};function mS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&be.postRender(()=>u(t,hf(t)))}class cz extends Oo{mount(){const{current:t}=this.node;t&&(this.unmount=S4(t,(n,s)=>(mS(this.node,s,"Start"),o=>mS(this.node,o,"End"))))}unmount(){}}class hz extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lf(Hh(this.node.current,"focus",()=>this.onFocus()),Hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&be.postRender(()=>u(t,hf(t)))}class fz extends Oo{mount(){const{current:t}=this.node;t&&(this.unmount=I4(t,(n,s)=>(pS(this.node,s,"Start"),(o,{success:u})=>pS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const w_=new WeakMap,wy=new WeakMap,dz=e=>{const t=w_.get(e.target);t&&t(e)},mz=e=>{e.forEach(dz)};function pz({root:e,...t}){const n=e||document;wy.has(n)||wy.set(n,{});const s=wy.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(mz,{root:e,...t})),s[o]}function gz(e,t,n){const s=pz(t);return w_.set(e,n),s.observe(e),()=>{w_.delete(e),s.unobserve(e)}}const yz={some:0,all:1};class _z extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:yz[o]},m=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,u&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),S=_?E:A;S&&S(y)};return gz(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vz(t,n))&&this.startObserver()}unmount(){}}function vz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Tz={inView:{Feature:_z},tap:{Feature:fz},focus:{Feature:hz},hover:{Feature:cz}},bz={layout:{ProjectionNode:QC,MeasureLayout:qC}},Ez={...a6,...Tz,...uz,...bz},Jc=b3(Ez,N3),wz=50,gS=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),xz=()=>({time:0,x:gS(),y:gS()}),Sz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function yS(e,t,n,s){const o=n[t],{length:u,position:f}=Sz[t],m=o.current,y=n.time;o.current=e[`scroll${f}`],o.scrollLength=e[`scroll${u}`]-e[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Gu(0,o.scrollLength,o.current);const _=s-y;o.velocity=_>wz?0:Uv(o.current-m,_)}function Az(e,t,n){yS(e,"x",t,n),yS(e,"y",t,n),t.time=n}function Rz(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(lC(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const u=s.getBoundingClientRect();n.x+=o.left-u.left,n.y+=o.top-u.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:u}=s.getBBox();n.x+=o,n.y+=u;let f=null,m=s.parentNode;for(;!f;)m.tagName==="svg"&&(f=m),m=s.parentNode;s=f}else break;return n}const x_={start:0,center:.5,end:1};function _S(e,t,n=0){let s=0;if(e in x_&&(e=x_[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(s=t*e),n+s}const Cz=[0,0];function Iz(e,t,n,s){let o=Array.isArray(e)?e:Cz,u=0,f=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,x_[e]?e:"0"]),u=_S(o[0],n,s),f=_S(o[1],t),u-f}const Pz={All:[[0,0],[1,1]]},Mz={x:0,y:0};function Lz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Dz(e,t,n){const{offset:s=Pz.All}=n,{target:o=e,axis:u="y"}=n,f=u==="y"?"height":"width",m=o!==e?Rz(o,e):Mz,y=o===e?{width:e.scrollWidth,height:e.scrollHeight}:Lz(o),_={width:e.clientWidth,height:e.clientHeight};t[u].offset.length=0;let E=!t[u].interpolate;const A=s.length;for(let S=0;S<A;S++){const N=Iz(s[S],_[f],y[f],m[u]);!E&&N!==t[u].interpolatorOffsets[S]&&(E=!0),t[u].offset[S]=N}E&&(t[u].interpolate=Kv(t[u].offset,GR(s),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=wr(0,1,t[u].interpolate(t[u].current))}function Nz(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function Oz(e,t,n,s={}){return{measure:o=>{Nz(e,s.target,n),Az(e,n,o),(s.offset||s.target)&&Dz(e,n,s)},notify:()=>t(n)}}const th=new WeakMap,vS=new WeakMap,xy=new WeakMap,TS=e=>e===document.scrollingElement?window:e;function JC(e,{container:t=document.scrollingElement,...n}={}){if(!t)return bi;let s=xy.get(t);s||(s=new Set,xy.set(t,s));const o=xz(),u=Oz(t,e,o,n);if(s.add(u),!th.has(t)){const m=()=>{for(const A of s)A.measure(Rn.timestamp);be.preUpdate(y)},y=()=>{for(const A of s)A.notify()},_=()=>be.read(m);th.set(t,_);const E=TS(t);window.addEventListener("resize",_,{passive:!0}),t!==document.documentElement&&vS.set(t,j4(t,_)),E.addEventListener("scroll",_,{passive:!0}),_()}const f=th.get(t);return be.read(f,!1,!0),()=>{Hs(f);const m=xy.get(t);if(!m||(m.delete(u),m.size))return;const y=th.get(t);th.delete(t),y&&(TS(t).removeEventListener("scroll",y),vS.get(t)?.(),window.removeEventListener("resize",y))}}const bS=new Map;function kz(e){const t={value:0},n=JC(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function tI({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const o=bS.get(t)??new Map;bS.set(t,o);const u=n.target??"self",f=o.get(u)??{},m=s+(n.offset??[]).join(",");return f[m]||(f[m]=!n.target&&KR()?new ScrollTimeline({source:t,axis:s}):kz({container:t,...n})),f[m]}function Vz(e,t){const n=tI(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),dC(o=>{s.time=s.duration*o},n))})}function jz(e){return e.length===2}function zz(e,t){return jz(e)?JC(n=>{e(n[t.axis].progress,n)},t):dC(e,tI(t))}function Uz(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return bi;const o={axis:t,container:n,...s};return typeof e=="function"?zz(e,o):Vz(e,o)}const Bz=()=>({scrollX:Us(0),scrollY:Us(0),scrollXProgress:Us(0),scrollYProgress:Us(0)}),Cd=e=>e?!e.current:!1;function Fz({container:e,target:t,...n}={}){const s=ip(Bz),o=V.useRef(null),u=V.useRef(!1),f=V.useCallback(()=>(o.current=Uz((m,{x:y,y:_})=>{s.scrollX.set(y.current),s.scrollXProgress.set(y.progress),s.scrollY.set(_.current),s.scrollYProgress.set(_.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{o.current?.()}),[e,t,JSON.stringify(n.offset)]);return Nv(()=>{if(u.current=!1,Cd(e)||Cd(t)){u.current=!0;return}else return f()},[f]),V.useEffect(()=>{if(u.current)return Vh(!Cd(e)),Vh(!Cd(t)),f()},[f]),s}function Hz(e){const t=ip(()=>Us(e)),{isStatic:n}=V.useContext(r0);if(n){const[,s]=V.useState(e);V.useEffect(()=>t.on("change",s),[])}return t}function eI(e,t){const n=Hz(t()),s=()=>n.set(t());return s(),Nv(()=>{const o=()=>be.preRender(s,!1,!0),u=e.map(f=>f.on("change",o));return()=>{u.forEach(f=>f()),Hs(s)}}),n}function qz(e){Th.current=[],e();const t=eI(Th.current,e);return Th.current=void 0,t}function Eu(e,t,n,s){if(typeof e=="function")return qz(e);const o=typeof t=="function"?t:U4(t,n,s);return Array.isArray(e)?ES(e,o):ES([e],([u])=>o(u))}function ES(e,t){const n=ip(()=>[]);return eI(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Gz(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function Wz(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const Zz=1;function Yz(e){return Object.freeze({__version:Zz,map:e})}function p0(e,t){return Object.freeze({...e,...t})}const g0=V.createContext(null);function y0(){const e=V.use(g0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function nI(e){function t(n,s){const{instance:o,context:u}=e(n).current;V.useImperativeHandle(s,()=>o);const{children:f}=n;return f==null?null:Xd.createElement(g0,{value:u},f)}return V.forwardRef(t)}function Kz(e){function t(n,s){const{instance:o}=e(n).current;return V.useImperativeHandle(s,()=>o),null}return V.forwardRef(t)}function iI(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function _0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var ch={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var $z=ch.exports,wS;function Xz(){return wS||(wS=1,function(e,t){(function(n,s){s(t)})($z,function(n){var s="1.9.4";function o(a){var c,p,b,x;for(p=1,b=arguments.length;p<b;p++){x=arguments[p];for(c in x)a[c]=x[c]}return a}var u=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function f(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var b=p.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function _(a,c,p){var b,x,I,F;return F=function(){b=!1,x&&(I.apply(p,x),x=!1)},I=function(){b?x=arguments:(a.apply(p,arguments),setTimeout(F,c),b=!0)},I}function E(a,c,p){var b=c[1],x=c[0],I=b-x;return a===b&&p?a:((a-x)%I+I)%I+x}function A(){return!1}function S(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function N(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function D(a){return N(a).split(/\s+/)}function B(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function q(a,c,p){var b=[];for(var x in a)b.push(encodeURIComponent(p?x.toUpperCase():x)+"="+encodeURIComponent(a[x]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function at(a,c){return a.replace(Y,function(p,b){var x=c[b];if(x===void 0)throw new Error("No value provided for variable "+p);return typeof x=="function"&&(x=x(c)),x})}var $=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function gt(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var ht="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var W=0;function P(a){var c=+new Date,p=Math.max(0,16-(c-W));return W=c+p,window.setTimeout(a,p)}var O=window.requestAnimationFrame||xt("RequestAnimationFrame")||P,U=window.cancelAnimationFrame||xt("CancelAnimationFrame")||xt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function G(a,c,p){if(p&&O===P)a.call(c);else return O.call(window,f(a,c))}function Z(a){a&&U.call(window,a)}var j={__proto__:null,extend:o,create:u,bind:f,get lastId(){return m},stamp:y,throttle:_,wrapNum:E,falseFn:A,formatNum:S,trim:N,splitWords:D,setOptions:B,getParamString:q,template:at,isArray:$,indexOf:gt,emptyImageUrl:ht,requestFn:O,cancelFn:U,requestAnimFrame:G,cancelAnimFrame:Z};function Tt(){}Tt.extend=function(a){var c=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,b=u(p);b.constructor=c,c.prototype=b;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(c[x]=this[x]);return a.statics&&o(c,a.statics),a.includes&&(Vt(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=p.options?u(p.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,F=b._initHooks.length;I<F;I++)b._initHooks[I].call(this)}},c},Tt.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Tt.mergeOptions=function(a){return o(this.prototype.options,a),this},Tt.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Vt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=$(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var it={on:function(a,c,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=D(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=D(a);for(var x=arguments.length===1,I=0,F=a.length;I<F;I++)x?this._off(a[I]):this._off(a[I],c,p)}return this},_on:function(a,c,p,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var x={fn:c,ctx:p};b&&(x.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(x)}},_off:function(a,c,p){var b,x,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(x=0,I=b.length;x<I;x++)b[x].fn=A;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var F=this._listens(a,c,p);if(F!==!1){var J=b[F];this._firingCount&&(J.fn=A,this._events[a]=b=b.slice()),b.splice(F,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var x=this._events[a];if(x){this._firingCount=this._firingCount+1||1;for(var I=0,F=x.length;I<F;I++){var J=x[I],rt=J.fn;J.once&&this.off(a,rt,J.ctx),rt.call(J.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(a,c,p,b){typeof a!="string"&&console.warn('"string" type argument expected');var x=c;typeof c!="function"&&(b=!!c,x=void 0,p=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,x,p)!==!1)return!0;if(b){for(var F in this._eventParents)if(this._eventParents[F].listens(a,c,p,b))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;p===this&&(p=void 0);for(var x=0,I=b.length;x<I;x++)if(b[x].fn===c&&b[x].ctx===p)return x;return!1},once:function(a,c,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=D(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};it.addEventListener=it.on,it.removeEventListener=it.clearAllEventListeners=it.off,it.addOneTimeEventListener=it.once,it.fireEvent=it.fire,it.hasEventListeners=it.listens;var ft=Tt.extend(it);function mt(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var Kt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};mt.prototype={clone:function(){return new mt(this.x,this.y)},add:function(a){return this.clone()._add(z(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(z(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new mt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new mt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Kt(this.x),this.y=Kt(this.y),this},distanceTo:function(a){a=z(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=z(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=z(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function z(a,c,p){return a instanceof mt?a:$(a)?new mt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new mt(a.x,a.y):new mt(a,c,p)}function lt(a,c){if(a)for(var p=c?[a,c]:a,b=0,x=p.length;b<x;b++)this.extend(p[b])}lt.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof mt||typeof a[0]=="number"||"x"in a)c=p=z(a);else if(a=bt(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof mt?a=z(a):a=bt(a),a instanceof lt?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=bt(a);var c=this.min,p=this.max,b=a.min,x=a.max,I=x.x>=c.x&&b.x<=p.x,F=x.y>=c.y&&b.y<=p.y;return I&&F},overlaps:function(a){a=bt(a);var c=this.min,p=this.max,b=a.min,x=a.max,I=x.x>c.x&&b.x<p.x,F=x.y>c.y&&b.y<p.y;return I&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,b=Math.abs(c.x-p.x)*a,x=Math.abs(c.y-p.y)*a;return bt(z(c.x-b,c.y-x),z(p.x+b,p.y+x))},equals:function(a){return a?(a=bt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function bt(a,c){return!a||a instanceof lt?a:new lt(a,c)}function vt(a,c){if(a)for(var p=c?[a,c]:a,b=0,x=p.length;b<x;b++)this.extend(p[b])}vt.prototype={extend:function(a){var c=this._southWest,p=this._northEast,b,x;if(a instanceof It)b=a,x=a;else if(a instanceof vt){if(b=a._southWest,x=a._northEast,!b||!x)return this}else return a?this.extend(wt(a)||At(a)):this;return!c&&!p?(this._southWest=new It(b.lat,b.lng),this._northEast=new It(x.lat,x.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),p.lat=Math.max(x.lat,p.lat),p.lng=Math.max(x.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,b=Math.abs(c.lat-p.lat)*a,x=Math.abs(c.lng-p.lng)*a;return new vt(new It(c.lat-b,c.lng-x),new It(p.lat+b,p.lng+x))},getCenter:function(){return new It((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new It(this.getNorth(),this.getWest())},getSouthEast:function(){return new It(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof It||"lat"in a?a=wt(a):a=At(a);var c=this._southWest,p=this._northEast,b,x;return a instanceof vt?(b=a.getSouthWest(),x=a.getNorthEast()):b=x=a,b.lat>=c.lat&&x.lat<=p.lat&&b.lng>=c.lng&&x.lng<=p.lng},intersects:function(a){a=At(a);var c=this._southWest,p=this._northEast,b=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>=c.lat&&b.lat<=p.lat,F=x.lng>=c.lng&&b.lng<=p.lng;return I&&F},overlaps:function(a){a=At(a);var c=this._southWest,p=this._northEast,b=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>c.lat&&b.lat<p.lat,F=x.lng>c.lng&&b.lng<p.lng;return I&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=At(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function At(a,c){return a instanceof vt?a:new vt(a,c)}function It(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}It.prototype={equals:function(a,c){if(!a)return!1;a=wt(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+S(this.lat,a)+", "+S(this.lng,a)+")"},distanceTo:function(a){return le.distance(this,wt(a))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return At([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new It(this.lat,this.lng,this.alt)}};function wt(a,c,p){return a instanceof It?a:$(a)&&typeof a[0]!="object"?a.length===3?new It(a[0],a[1],a[2]):a.length===2?new It(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new It(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new It(a,c,p)}var Ee={latLngToPoint:function(a,c){var p=this.projection.project(a),b=this.scale(c);return this.transformation._transform(p,b)},pointToLatLng:function(a,c){var p=this.scale(c),b=this.transformation.untransform(a,p);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),b=this.transformation.transform(c.min,p),x=this.transformation.transform(c.max,p);return new lt(b,x)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new It(p,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),b=c.lat-p.lat,x=c.lng-p.lng;if(b===0&&x===0)return a;var I=a.getSouthWest(),F=a.getNorthEast(),J=new It(I.lat-b,I.lng-x),rt=new It(F.lat-b,F.lng-x);return new vt(J,rt)}},le=o({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,b=a.lat*p,x=c.lat*p,I=Math.sin((c.lat-a.lat)*p/2),F=Math.sin((c.lng-a.lng)*p/2),J=I*I+Math.cos(b)*Math.cos(x)*F*F,rt=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*rt}}),Ei=6378137,Gi={R:Ei,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,a.lat),-p),x=Math.sin(b*c);return new mt(this.R*a.lng*c,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(a){var c=180/Math.PI;return new It((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=Ei*Math.PI;return new lt([-a,-a],[a,a])}()};function wi(a,c,p,b){if($(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=b}wi.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new mt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function xi(a,c,p,b){return new wi(a,c,p,b)}var vs=o({},le,{code:"EPSG:3857",projection:Gi,transformation:function(){var a=.5/(Math.PI*Gi.R);return xi(a,.5,-a,.5)}()}),Rr=o({},vs,{code:"EPSG:900913"});function ma(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ko(a,c){var p="",b,x,I,F,J,rt;for(b=0,I=a.length;b<I;b++){for(J=a[b],x=0,F=J.length;x<F;x++)rt=J[x],p+=(x?"L":"M")+rt.x+" "+rt.y;p+=c?Dt.svg?"z":"x":""}return p||"M0 0"}var jn=document.documentElement.style,pa="ActiveXObject"in window,Vo=pa&&!document.addEventListener,Cr="msLaunchUri"in navigator&&!("documentMode"in document),Ts=Un("webkit"),kl=Un("android"),Ir=Un("android 2")||Un("android 3"),jo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vl=kl&&Un("Google")&&jo<537&&!("AudioNode"in window),Ie=!!window.opera,fe=!Cr&&Un("chrome"),zn=Un("gecko")&&!Ts&&!Ie&&!pa,_n=!fe&&Un("safari"),zo=Un("phantom"),jl="OTransition"in jn,Pr=navigator.platform.indexOf("Win")===0,Gs=pa&&"transition"in jn,bs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ir,ai="MozPerspective"in jn,ga=!window.L_DISABLE_3D&&(Gs||bs||ai)&&!jl&&!zo,Si=typeof orientation<"u"||Un("mobile"),Uo=Si&&Ts,Bo=Si&&bs,ya=!window.PointerEvent&&window.MSPointerEvent,Wi=!!(window.PointerEvent||ya),Zi="ontouchstart"in window||!!window.TouchEvent,Fo=!window.L_NO_TOUCH&&(Zi||Wi),Yi=Si&&Ie,Ho=Si&&zn,Ws=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_a=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return a}(),Zs=function(){return!!document.createElement("canvas").getContext}(),va=!!(document.createElementNS&&ma("svg").createSVGRect),Pe=!!va&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Qe=!va&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),We=navigator.platform.indexOf("Mac")===0,oi=navigator.platform.indexOf("Linux")===0;function Un(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Dt={ie:pa,ielt9:Vo,edge:Cr,webkit:Ts,android:kl,android23:Ir,androidStock:Vl,opera:Ie,chrome:fe,gecko:zn,safari:_n,phantom:zo,opera12:jl,win:Pr,ie3d:Gs,webkit3d:bs,gecko3d:ai,any3d:ga,mobile:Si,mobileWebkit:Uo,mobileWebkit3d:Bo,msPointer:ya,pointer:Wi,touch:Fo,touchNative:Zi,mobileOpera:Yi,mobileGecko:Ho,retina:Ws,passiveEvents:_a,canvas:Zs,svg:va,vml:Qe,inlineSvg:Pe,mac:We,linux:oi},Es=Dt.msPointer?"MSPointerDown":"pointerdown",qo=Dt.msPointer?"MSPointerMove":"pointermove",Ys=Dt.msPointer?"MSPointerUp":"pointerup",ws=Dt.msPointer?"MSPointerCancel":"pointercancel",Ai={touchstart:Es,touchmove:qo,touchend:Ys,touchcancel:ws},Ri={touchstart:Lr,touchmove:Mr,touchend:Mr,touchcancel:Mr},In={},vn=!1;function Be(a,c,p){return c==="touchstart"&&zl(),Ri[c]?(p=Ri[c].bind(this,p),a.addEventListener(Ai[c],p,!1),p):(console.warn("wrong event specified:",c),A)}function Go(a,c,p){if(!Ai[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Ai[c],p,!1)}function Ta(a){In[a.pointerId]=a}function Ci(a){In[a.pointerId]&&(In[a.pointerId]=a)}function Ki(a){delete In[a.pointerId]}function zl(){vn||(document.addEventListener(Es,Ta,!0),document.addEventListener(qo,Ci,!0),document.addEventListener(Ys,Ki,!0),document.addEventListener(ws,Ki,!0),vn=!0)}function Mr(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in In)c.touches.push(In[p]);c.changedTouches=[c],a(c)}}function Lr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&we(c),Mr(a,c)}function Ul(a){var c={},p,b;for(b in a)p=a[b],c[b]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Ks=200;function $i(a,c){a.addEventListener("dblclick",c);var p=0,b;function x(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var F=wa(I);if(!(F.some(function(rt){return rt instanceof HTMLLabelElement&&rt.attributes.for})&&!F.some(function(rt){return rt instanceof HTMLInputElement||rt instanceof HTMLSelectElement}))){var J=Date.now();J-p<=Ks?(b++,b===2&&c(Ul(I))):b=1,p=J}}}return a.addEventListener("click",x),{dblclick:c,simDblclick:x}}function dn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var xs=Ii(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$s=Ii(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xi=$s==="webkitTransition"||$s==="OTransition"?$s+"End":"transitionend";function Dr(a){return typeof a=="string"?document.getElementById(a):a}function Qi(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);p=b?b[c]:null}return p==="auto"?null:p}function Jt(a,c,p){var b=document.createElement(a);return b.className=c||"",p&&p.appendChild(b),b}function pe(a){var c=a.parentNode;c&&c.removeChild(a)}function rn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ji(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Xs(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Qs(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=ke(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Wt(a,c){if(a.classList!==void 0)for(var p=D(c),b=0,x=p.length;b<x;b++)a.classList.add(p[b]);else if(!Qs(a,c)){var I=ke(a);Wo(a,(I?I+" ":"")+c)}}function _e(a,c){a.classList!==void 0?a.classList.remove(c):Wo(a,N((" "+ke(a)+" ").replace(" "+c+" "," ")))}function Wo(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function ke(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Me(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Nr(a,c)}function Nr(a,c){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function Ii(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Pn(a,c,p){var b=c||new mt(0,0);a.style[xs]=(Dt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function Ut(a,c){a._leaflet_pos=c,Dt.any3d?Pn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Qn(a){return a._leaflet_pos||new mt(0,0)}var Tn,Pi,ba;if("onselectstart"in document)Tn=function(){kt(window,"selectstart",we)},Pi=function(){ue(window,"selectstart",we)};else{var Ss=Ii(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tn=function(){if(Ss){var a=document.documentElement.style;ba=a[Ss],a[Ss]="none"}},Pi=function(){Ss&&(document.documentElement.style[Ss]=ba,ba=void 0)}}function Or(){kt(window,"dragstart",we)}function Zo(){ue(window,"dragstart",we)}var Ea,Js;function Mi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Mn(),Ea=a,Js=a.style.outlineStyle,a.style.outlineStyle="none",kt(window,"keydown",Mn))}function Mn(){Ea&&(Ea.style.outlineStyle=Js,Ea=void 0,Js=void 0,ue(window,"keydown",Mn))}function ts(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Li(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Yo={__proto__:null,TRANSFORM:xs,TRANSITION:$s,TRANSITION_END:Xi,get:Dr,getStyle:Qi,create:Jt,remove:pe,empty:rn,toFront:Ji,toBack:Xs,hasClass:Qs,addClass:Wt,removeClass:_e,setClass:Wo,getClass:ke,setOpacity:Me,testProp:Ii,setTransform:Pn,setPosition:Ut,getPosition:Qn,get disableTextSelection(){return Tn},get enableTextSelection(){return Pi},disableImageDrag:Or,enableImageDrag:Zo,preventOutline:Mi,restoreOutline:Mn,getSizedParentNode:ts,getScale:Li};function kt(a,c,p,b){if(c&&typeof c=="object")for(var x in c)As(a,x,c[x],p);else{c=D(c);for(var I=0,F=c.length;I<F;I++)As(a,c[I],p,b)}return this}var Jn="_leaflet_events";function ue(a,c,p,b){if(arguments.length===1)li(a),delete a[Jn];else if(c&&typeof c=="object")for(var x in c)ui(a,x,c[x],p);else if(c=D(c),arguments.length===2)li(a,function(J){return gt(c,J)!==-1});else for(var I=0,F=c.length;I<F;I++)ui(a,c[I],p,b);return this}function li(a,c){for(var p in a[Jn]){var b=p.split(/\d/)[0];(!c||c(b))&&ui(a,b,null,null,p)}}var Bn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function As(a,c,p,b){var x=c+y(p)+(b?"_"+y(b):"");if(a[Jn]&&a[Jn][x])return this;var I=function(J){return p.call(b||a,J||window.event)},F=I;!Dt.touchNative&&Dt.pointer&&c.indexOf("touch")===0?I=Be(a,c,I):Dt.touch&&c==="dblclick"?I=$i(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Bn[c]||c,I,Dt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(J){J=J||window.event,Cs(a,J)&&F(J)},a.addEventListener(Bn[c],I,!1)):a.addEventListener(c,F,!1):a.attachEvent("on"+c,I),a[Jn]=a[Jn]||{},a[Jn][x]=I}function ui(a,c,p,b,x){x=x||c+y(p)+(b?"_"+y(b):"");var I=a[Jn]&&a[Jn][x];if(!I)return this;!Dt.touchNative&&Dt.pointer&&c.indexOf("touch")===0?Go(a,c,I):Dt.touch&&c==="dblclick"?dn(a,I):"removeEventListener"in a?a.removeEventListener(Bn[c]||c,I,!1):a.detachEvent("on"+c,I),a[Jn][x]=null}function Fn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Di(a){return As(a,"wheel",Fn),this}function Rs(a){return kt(a,"mousedown touchstart dblclick contextmenu",Fn),a._leaflet_disable_click=!0,this}function we(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function bn(a){return we(a),Fn(a),this}function wa(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function Je(a,c){if(!c)return new mt(a.clientX,a.clientY);var p=Li(c),b=p.boundingClientRect;return new mt((a.clientX-b.left)/p.x-c.clientLeft,(a.clientY-b.top)/p.y-c.clientTop)}var de=Dt.linux&&Dt.chrome?window.devicePixelRatio:Dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kr(a){return Dt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/de:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Cs(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Bl={__proto__:null,on:kt,off:ue,stopPropagation:Fn,disableScrollPropagation:Di,disableClickPropagation:Rs,preventDefault:we,stop:bn,getPropagationPath:wa,getMousePosition:Je,getWheelDelta:kr,isExternalTarget:Cs,addListener:kt,removeListener:ue},Vr=ft.extend({run:function(a,c,p,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Qn(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ut(this._el,p),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),$t=ft.extend({options:{crs:vs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=B(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(wt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$s&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,Xi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(wt(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var b=this.getZoomScale(c),x=this.getSize().divideBy(2),I=a instanceof mt?a:this.latLngToContainerPoint(a),F=I.subtract(x).multiplyBy(1-1/b),J=this.containerPointToLatLng(x.add(F));return this.setView(J,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():At(a);var p=z(c.paddingTopLeft||c.padding||[0,0]),b=z(c.paddingBottomRight||c.padding||[0,0]),x=this.getBoundsZoom(a,!1,p.add(b));if(x=typeof c.maxZoom=="number"?Math.min(c.maxZoom,x):x,x===1/0)return{center:a.getCenter(),zoom:x};var I=b.subtract(p).divideBy(2),F=this.project(a.getSouthWest(),x),J=this.project(a.getNorthEast(),x),rt=this.unproject(F.add(J).divideBy(2).add(I),x);return{center:rt,zoom:x}},fitBounds:function(a,c){if(a=At(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=z(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Dt.any3d)return this.setView(a,c,p);this._stop();var b=this.project(this.getCenter()),x=this.project(a),I=this.getSize(),F=this._zoom;a=wt(a),c=c===void 0?F:c;var J=Math.max(I.x,I.y),rt=J*this.getZoomScale(F,c),_t=x.distanceTo(b)||1,Rt=1.42,Pt=Rt*Rt;function Lt(je){var os=je?-1:1,Ns=je?rt:J,rr=rt*rt-J*J+os*Pt*Pt*_t*_t,Os=2*Ns*Pt*_t,ul=rr/Os,tu=Math.sqrt(ul*ul+1)-ul,cl=tu<1e-9?-18:Math.log(tu);return cl}function Gt(je){return(Math.exp(je)-Math.exp(-je))/2}function De(je){return(Math.exp(je)+Math.exp(-je))/2}function Fe(je){return Gt(je)/De(je)}var wn=Lt(0);function ci(je){return J*(De(wn)/De(wn+Rt*je))}function vf(je){return J*(De(wn)*Fe(wn+Rt*je)-Gt(wn))/Pt}function Tf(je){return 1-Math.pow(1-je,1.5)}var ll=Date.now(),Ua=(Lt(1)-wn)/Rt,bf=p.duration?1e3*p.duration:1e3*Ua*.8;function Ba(){var je=(Date.now()-ll)/bf,os=Tf(je)*Ua;je<=1?(this._flyToFrame=G(Ba,this),this._move(this.unproject(b.add(x.subtract(b).multiplyBy(vf(os)/_t)),F),this.getScaleZoom(J/ci(os),F),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Ba.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=At(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,At(a));return p.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=z(c.paddingTopLeft||c.padding||[0,0]),b=z(c.paddingBottomRight||c.padding||[0,0]),x=this.project(this.getCenter()),I=this.project(a),F=this.getPixelBounds(),J=bt([F.min.add(p),F.max.subtract(b)]),rt=J.getSize();if(!J.contains(I)){this._enforcingBounds=!0;var _t=I.subtract(J.getCenter()),Rt=J.extend(I).getSize().subtract(rt);x.x+=_t.x<0?-Rt.x:Rt.x,x.y+=_t.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(x),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=c.divideBy(2).round(),x=p.divideBy(2).round(),I=b.subtract(x);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,b=new It(c,p),x=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var F=this.getBoundsZoom(x);this.setView(b,I.maxZoom?Math.min(F,I.maxZoom):F)}var J={latlng:b,bounds:x,timestamp:a.timestamp};for(var rt in a.coords)typeof a.coords[rt]=="number"&&(J[rt]=a.coords[rt]);this.fire("locationfound",J)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)pe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=Jt("div",p,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new vt(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=At(a),p=z(p||[0,0]);var b=this.getZoom()||0,x=this.getMinZoom(),I=this.getMaxZoom(),F=a.getNorthWest(),J=a.getSouthEast(),rt=this.getSize().subtract(p),_t=bt(this.project(J,b),this.project(F,b)).getSize(),Rt=Dt.any3d?this.options.zoomSnap:1,Pt=rt.x/_t.x,Lt=rt.y/_t.y,Gt=c?Math.max(Pt,Lt):Math.min(Pt,Lt);return b=this.getScaleZoom(Gt,b),Rt&&(b=Math.round(b/(Rt/100))*(Rt/100),b=c?Math.ceil(b/Rt)*Rt:Math.floor(b/Rt)*Rt),Math.max(x,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new mt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new lt(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var b=p.zoom(a*p.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(wt(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(z(a),c)},layerPointToLatLng:function(a){var c=z(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(wt(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(wt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(At(a))},distance:function(a,c){return this.options.crs.distance(wt(a),wt(c))},containerPointToLayerPoint:function(a){return z(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return z(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(z(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(a)))},mouseEventToContainerPoint:function(a){return Je(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Dr(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,Wt(a,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Qi(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new mt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(a.markerPane,"leaflet-zoom-hide"),Wt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ut(this._mapPane,new mt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var x=this._zoom!==c;this._moveStart(x,p)._move(a,c)._moveEnd(x),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,b){c===void 0&&(c=this._zoom);var x=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?p&&p.pinch&&this.fire("zoom",p):((x||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ut(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?ue:kt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],b,x=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,F=!1;I;){if(b=this._targets[y(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){F=!0;break}if(b&&b.listens(c,!0)&&(x&&!Cs(I,a)||(p.push(b),x))||I===this._container)break;I=I.parentNode}return!p.length&&!F&&!x&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Mi(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var x=this._findEventTargets(a,c);if(p){for(var I=[],F=0;F<p.length;F++)p[F].listens(c,!0)&&I.push(p[F]);x=I.concat(x)}if(x.length){c==="contextmenu"&&we(a);var J=x[0],rt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var _t=J.getLatLng&&(!J._radius||J._radius<=10);rt.containerPoint=_t?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),rt.layerPoint=this.containerPointToLayerPoint(rt.containerPoint),rt.latlng=_t?J.getLatLng():this.layerPointToLatLng(rt.layerPoint)}for(F=0;F<x.length;F++)if(x[F].fire(c,rt,!0),rt.originalEvent._stopped||x[F].options.bubblingMouseEvents===!1&&gt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Qn(this._mapPane)||new mt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var b=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,p){var b=this._getNewPixelOrigin(p,c);return bt([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var b=this.project(a,c),x=this.getSize().divideBy(2),I=new lt(b.subtract(x),b.add(x)),F=this._getBoundsOffset(I,p,c);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?a:this.unproject(b.add(F),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),b=new lt(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,p){var b=bt(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),x=b.min.subtract(a.min),I=b.max.subtract(a.max),F=this._rebound(x.x,-I.x),J=this._rebound(x.y,-I.y);return new mt(F,J)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),b=Dt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=Jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=xs,b=this._proxy.style[p];Pn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Pn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),x=this._getCenterOffset(a)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(x)?!1:(G(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function es(a,c){return new $t(a,c)}var mn=Tt.extend({options:{position:"topright"},initialize:function(a){B(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),b=a._controlCorners[p];return Wt(c,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),En=function(a){return new mn(a)};$t.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=Jt("div",c+"control-container",this._container);function b(x,I){var F=c+x+" "+c+I;a[x+I]=Jt("div",F,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)pe(this._controlCorners[a]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ko=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,b){return p<b?-1:b<p?1:0}},initialize:function(a,c,p){B(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return mn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):_e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Jt("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Rs(c),Di(c);var b=this._section=Jt("section",a+"-list");p&&(this._map.on("click",this.collapse,this),kt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Jt("a",a+"-toggle",c);x.href="#",x.title="Layers",x.setAttribute("role","button"),kt(x,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){we(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Jt("div",a+"-base",b),this._separator=Jt("div",a+"-separator",b),this._overlaysList=Jt("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(b,x){return this.options.sortFunction(b.layer,x.layer,b.name,x.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rn(this._baseLayersList),rn(this._overlaysList),this._layerControlInputs=[];var a,c,p,b,x=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,x+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&x>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(b),b.layerId=y(a.layer),kt(b,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(x);var F=a.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,b=[],x=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],p=this._getLayer(c.layerId).layer,c.checked?b.push(p):c.checked||x.push(p);for(I=0;I<x.length;I++)this._map.hasLayer(x[I])&&this._map.removeLayer(x[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,b=this._map.getZoom(),x=a.length-1;x>=0;x--)c=a[x],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,kt(a,"click",we),this.expand();var c=this;setTimeout(function(){ue(a,"click",we),c._preventClick=!1})}}),oc=function(a,c,p){return new Ko(a,c,p)},Is=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=Jt("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,b,x){var I=Jt("a",p,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),Rs(I),kt(I,"click",bn),kt(I,"click",x,this),kt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";_e(this._zoomInButton,c),_e(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Wt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Wt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Is,this.addControl(this.zoomControl))});var xa=function(a){return new Is(a)},Sa=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=Jt("div",c),b=this.options;return this._addScales(b,c+"-line",p),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=Jt("div",c,p)),a.imperial&&(this._iScale=Jt("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,b,x;c>5280?(p=c/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(x=this._getRoundNum(c),this._updateScale(this._iScale,x+" ft",x/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Aa=function(a){return new Sa(a)},Fl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tr=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?Fl+" ":"")+"Leaflet</a>"},initialize:function(a){B(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Jt("div","leaflet-control-attribution"),Rs(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new tr().addTo(this)});var lc=function(a){return new tr(a)};mn.Layers=Ko,mn.Zoom=Is,mn.Scale=Sa,mn.Attribution=tr,En.layers=oc,En.zoom=xa,En.scale=Aa,En.attribution=lc;var Hn=Tt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(a,c){return a.addHandler(c,this),this};var jr={Events:it},$o=Dt.touch?"touchstart mousedown":"mousedown",Ni=ft.extend({options:{clickTolerance:3},initialize:function(a,c,p,b){B(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(kt(this._dragStartTarget,$o,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ni._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,$o,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Qs(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ni._dragging===this&&this.finishDrag();return}if(!(Ni._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ni._dragging=this,this._preventOutline&&Mi(this._element),Or(),Tn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=ts(this._element);this._startPoint=new mt(c.clientX,c.clientY),this._startPos=Qn(this._element),this._parentScale=Li(p);var b=a.type==="mousedown";kt(document,b?"mousemove":"touchmove",this._onMove,this),kt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new mt(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,we(a),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ut(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){_e(document.body,"leaflet-dragging"),this._lastTarget&&(_e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Zo(),Pi();var c=this._moved&&this._moving;this._moving=!1,Ni._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ra(a,c,p){var b,x=[1,4,2,8],I,F,J,rt,_t,Rt,Pt,Lt;for(I=0,Rt=a.length;I<Rt;I++)a[I]._code=ns(a[I],c);for(J=0;J<4;J++){for(Pt=x[J],b=[],I=0,Rt=a.length,F=Rt-1;I<Rt;F=I++)rt=a[I],_t=a[F],rt._code&Pt?_t._code&Pt||(Lt=an(_t,rt,Pt,c,p),Lt._code=ns(Lt,c),b.push(Lt)):(_t._code&Pt&&(Lt=an(_t,rt,Pt,c,p),Lt._code=ns(Lt,c),b.push(Lt)),b.push(rt));a=b}return a}function er(a,c){var p,b,x,I,F,J,rt,_t,Rt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pt=wt([0,0]),Lt=At(a),Gt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Gt<1700&&(Pt=Ca(a));var De=a.length,Fe=[];for(p=0;p<De;p++){var wn=wt(a[p]);Fe.push(c.project(wt([wn.lat-Pt.lat,wn.lng-Pt.lng])))}for(J=rt=_t=0,p=0,b=De-1;p<De;b=p++)x=Fe[p],I=Fe[b],F=x.y*I.x-I.y*x.x,rt+=(x.x+I.x)*F,_t+=(x.y+I.y)*F,J+=F*3;J===0?Rt=Fe[0]:Rt=[rt/J,_t/J];var ci=c.unproject(z(Rt));return wt([ci.lat+Pt.lat,ci.lng+Pt.lng])}function Ca(a){for(var c=0,p=0,b=0,x=0;x<a.length;x++){var I=wt(a[x]);c+=I.lat,p+=I.lng,b++}return wt([c/b,p/b])}var Ia={__proto__:null,clipPolygon:Ra,polygonCenter:er,centroid:Ca};function Xo(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=ql(a,p),a=Hl(a,p),a}function Pa(a,c,p){return Math.sqrt(qn(a,c,p,!0))}function Ps(a,c,p){return qn(a,c,p)}function Hl(a,c){var p=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,x=new b(p);x[0]=x[p-1]=1,Ma(a,x,c,0,p-1);var I,F=[];for(I=0;I<p;I++)x[I]&&F.push(a[I]);return F}function Ma(a,c,p,b,x){var I=0,F,J,rt;for(J=b+1;J<=x-1;J++)rt=qn(a[J],a[b],a[x],!0),rt>I&&(F=J,I=rt);I>p&&(c[F]=1,Ma(a,c,p,b,F),Ma(a,c,p,F,x))}function ql(a,c){for(var p=[a[0]],b=1,x=0,I=a.length;b<I;b++)Gl(a[b],a[x])>c&&(p.push(a[b]),x=b);return x<I-1&&p.push(a[I-1]),p}var Qo;function zr(a,c,p,b,x){var I=b?Qo:ns(a,p),F=ns(c,p),J,rt,_t;for(Qo=F;;){if(!(I|F))return[a,c];if(I&F)return!1;J=I||F,rt=an(a,c,J,p,x),_t=ns(rt,p),J===I?(a=rt,I=_t):(c=rt,F=_t)}}function an(a,c,p,b,x){var I=c.x-a.x,F=c.y-a.y,J=b.min,rt=b.max,_t,Rt;return p&8?(_t=a.x+I*(rt.y-a.y)/F,Rt=rt.y):p&4?(_t=a.x+I*(J.y-a.y)/F,Rt=J.y):p&2?(_t=rt.x,Rt=a.y+F*(rt.x-a.x)/I):p&1&&(_t=J.x,Rt=a.y+F*(J.x-a.x)/I),new mt(_t,Rt,x)}function ns(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Gl(a,c){var p=c.x-a.x,b=c.y-a.y;return p*p+b*b}function qn(a,c,p,b){var x=c.x,I=c.y,F=p.x-x,J=p.y-I,rt=F*F+J*J,_t;return rt>0&&(_t=((a.x-x)*F+(a.y-I)*J)/rt,_t>1?(x=p.x,I=p.y):_t>0&&(x+=F*_t,I+=J*_t)),F=a.x-x,J=a.y-I,b?F*F+J*J:new mt(x,I)}function d(a){return!$(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function w(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function R(a,c){var p,b,x,I,F,J,rt,_t;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Rt=wt([0,0]),Pt=At(a),Lt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Lt<1700&&(Rt=Ca(a));var Gt=a.length,De=[];for(p=0;p<Gt;p++){var Fe=wt(a[p]);De.push(c.project(wt([Fe.lat-Rt.lat,Fe.lng-Rt.lng])))}for(p=0,b=0;p<Gt-1;p++)b+=De[p].distanceTo(De[p+1])/2;if(b===0)_t=De[0];else for(p=0,I=0;p<Gt-1;p++)if(F=De[p],J=De[p+1],x=F.distanceTo(J),I+=x,I>b){rt=(I-b)/x,_t=[J.x-rt*(J.x-F.x),J.y-rt*(J.y-F.y)];break}var wn=c.unproject(z(_t));return wt([wn.lat+Rt.lat,wn.lng+Rt.lng])}var k={__proto__:null,simplify:Xo,pointToSegmentDistance:Pa,closestPointOnSegment:Ps,clipSegment:zr,_getEdgeIntersection:an,_getBitCode:ns,_sqClosestPointOnSegment:qn,isFlat:d,_flat:w,polylineCenter:R},Q={project:function(a){return new mt(a.lng,a.lat)},unproject:function(a){return new It(a.y,a.x)},bounds:new lt([-180,-90],[180,90])},ot={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,b=a.lat*c,x=this.R_MINOR/p,I=Math.sqrt(1-x*x),F=I*Math.sin(b),J=Math.tan(Math.PI/4-b/2)/Math.pow((1-F)/(1+F),I/2);return b=-p*Math.log(Math.max(J,1e-10)),new mt(a.lng*c*p,b)},unproject:function(a){for(var c=180/Math.PI,p=this.R,b=this.R_MINOR/p,x=Math.sqrt(1-b*b),I=Math.exp(-a.y/p),F=Math.PI/2-2*Math.atan(I),J=0,rt=.1,_t;J<15&&Math.abs(rt)>1e-7;J++)_t=x*Math.sin(F),_t=Math.pow((1-_t)/(1+_t),x/2),rt=Math.PI/2-2*Math.atan(I*_t)-F,F+=rt;return new It(F*c,a.x*c/p)}},Et={__proto__:null,LonLat:Q,Mercator:ot,SphericalMercator:Gi},ie=o({},le,{code:"EPSG:3395",projection:ot,transformation:function(){var a=.5/(Math.PI*ot.R);return xi(a,.5,-a,.5)}()}),Ze=o({},le,{code:"EPSG:4326",projection:Q,transformation:xi(1/180,1,-1/180,.5)}),se=o({},Ee,{projection:Q,transformation:xi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(p*p+b*b)},infinite:!0});Ee.Earth=le,Ee.EPSG3395=ie,Ee.EPSG3857=vs,Ee.EPSG900913=Rr,Ee.EPSG4326=Ze,Ee.Simple=se;var ge=ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?$(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var x=this._zoomBoundLayers[b].options;a=x.minZoom===void 0?a:Math.min(a,x.minZoom),c=x.maxZoom===void 0?c:Math.max(c,x.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=ge.extend({initialize:function(a,c){B(this,c),this._layers={};var p,b;if(a)for(p=0,b=a.length;p<b;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),Ms=function(a,c){return new Le(a,c)},Re=Le.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Le.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Le.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new vt;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),is=function(a,c){return new Re(a,c)},ss=Tt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){B(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var p=this.options,b=p[c+"Size"];typeof b=="number"&&(b=[b,b]);var x=z(b),I=z(c==="shadow"&&p.shadowAnchor||p.iconAnchor||x&&x.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),x&&(a.style.width=x.x+"px",a.style.height=x.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Dt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Wl(a){return new ss(a)}var La=ss.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof La.imagePath!="string"&&(La.imagePath=this._detectIconPath()),(this.options.imagePath||La.imagePath)+ss.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,b,x){var I=b.exec(p);return I&&I[x]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Jt("div","leaflet-default-icon-path",document.body),c=Qi(a,"background-image")||Qi(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),uc=Hn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ni(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,b=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,I=Qn(c._icon),F=p.getPixelBounds(),J=p.getPixelOrigin(),rt=bt(F.min._subtract(J).add(x),F.max._subtract(J).subtract(x));if(!rt.contains(I)){var _t=z((Math.max(rt.max.x,I.x)-rt.max.x)/(F.max.x-rt.max.x)-(Math.min(rt.min.x,I.x)-rt.min.x)/(F.min.x-rt.min.x),(Math.max(rt.max.y,I.y)-rt.max.y)/(F.max.y-rt.max.y)-(Math.min(rt.min.y,I.y)-rt.min.y)/(F.min.y-rt.min.y)).multiplyBy(b);p.panBy(_t,{animate:!1}),this._draggable._newPos._add(_t),this._draggable._startPos._add(_t),Ut(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=G(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,b=Qn(c._icon),x=c._map.layerPointToLatLng(b);p&&Ut(p,b),c._latlng=x,a.latlng=x,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Da=ge.extend({options:{icon:new La,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){B(this,c),this._latlng=wt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Wt(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(p,"focus",this._panOnFocus,this);var x=a.icon.createShadow(this._shadow),I=!1;x!==this._shadow&&(this._removeShadow(),I=!0),x&&(Wt(x,c),x.alt=""),this._shadow=x,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ut(this._icon,a),this._shadow&&Ut(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Me(this._icon,a),this._shadow&&Me(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?z(c.iconSize):z(0,0),b=c.iconAnchor?z(c.iconAnchor):z(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cc(a,c){return new Da(a,c)}var Ls=ge.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return B(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Jo=Ls.extend({options:{fill:!0,radius:10},initialize:function(a,c){B(this,c),this._latlng=wt(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Ls.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),b=[a+p,c+p];this._pxBounds=new lt(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function df(a,c){return new Jo(a,c)}var hc=Jo.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),B(this,c),this._latlng=wt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ls.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===le.distance){var x=Math.PI/180,I=this._mRadius/le.R/x,F=p.project([c+I,a]),J=p.project([c-I,a]),rt=F.add(J).divideBy(2),_t=p.unproject(rt).lat,Rt=Math.acos((Math.cos(I*x)-Math.sin(c*x)*Math.sin(_t*x))/(Math.cos(c*x)*Math.cos(_t*x)))/x;(isNaN(Rt)||Rt===0)&&(Rt=I/Math.cos(Math.PI/180*c)),this._point=rt.subtract(p.getPixelOrigin()),this._radius=isNaN(Rt)?0:rt.x-p.project([_t,a-Rt]).x,this._radiusY=rt.y-F.y}else{var Pt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Pt).x}this._updateBounds()}});function dp(a,c,p){return new hc(a,c,p)}var Ds=Ls.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){B(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,b=qn,x,I,F=0,J=this._parts.length;F<J;F++)for(var rt=this._parts[F],_t=1,Rt=rt.length;_t<Rt;_t++){x=rt[_t-1],I=rt[_t];var Pt=b(a,x,I,!0);Pt<c&&(c=Pt,p=b(a,x,I))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return R(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=wt(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new vt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),b=0,x=a.length;b<x;b++)p?(c[b]=wt(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new mt(a,a);this._rawPxBounds&&(this._pxBounds=new lt([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var b=a[0]instanceof It,x=a.length,I,F;if(b){for(F=[],I=0;I<x;I++)F[I]=this._map.latLngToLayerPoint(a[I]),p.extend(F[I]);c.push(F)}else for(I=0;I<x;I++)this._projectLatlngs(a[I],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,b,x,I,F,J,rt;for(p=0,x=0,I=this._rings.length;p<I;p++)for(rt=this._rings[p],b=0,F=rt.length;b<F-1;b++)J=zr(rt[b],rt[b+1],a,b,!0),J&&(c[x]=c[x]||[],c[x].push(J[0]),(J[1]!==rt[b+1]||b===F-2)&&(c[x].push(J[1]),x++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,b=a.length;p<b;p++)a[p]=Xo(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,b,x,I,F,J,rt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,I=this._parts.length;p<I;p++)for(J=this._parts[p],b=0,F=J.length,x=F-1;b<F;x=b++)if(!(!c&&b===0)&&Pa(a,J[x],J[b])<=rt)return!0;return!1}});function mp(a,c){return new Ds(a,c)}Ds._flat=w;var Na=Ds.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return er(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Ds.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof It&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Ds.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new mt(c,c);if(a=new lt(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,x=this._rings.length,I;b<x;b++)I=Ra(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,b,x,I,F,J,rt,_t;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,rt=this._parts.length;I<rt;I++)for(p=this._parts[I],F=0,_t=p.length,J=_t-1;F<_t;J=F++)b=p[F],x=p[J],b.y>a.y!=x.y>a.y&&a.x<(x.x-b.x)*(a.y-b.y)/(x.y-b.y)+b.x&&(c=!c);return c||Ds.prototype._containsPoint.call(this,a,!0)}});function ti(a,c){return new Na(a,c)}var ei=Re.extend({initialize:function(a,c){B(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=$(a)?a:a.features,p,b,x;if(c){for(p=0,b=c.length;p<b;p++)x=c[p],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var F=tl(a,I);return F?(F.feature=Oa(a),F.defaultOptions=F.options,this.resetStyle(F),I.onEachFeature&&I.onEachFeature(a,F),this.addLayer(F)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function tl(a,c){var p=a.type==="Feature"?a.geometry:a,b=p?p.coordinates:null,x=[],I=c&&c.pointToLayer,F=c&&c.coordsToLatLng||Zl,J,rt,_t,Rt;if(!b&&!p)return null;switch(p.type){case"Point":return J=F(b),fc(I,a,J,c);case"MultiPoint":for(_t=0,Rt=b.length;_t<Rt;_t++)J=F(b[_t]),x.push(fc(I,a,J,c));return new Re(x);case"LineString":case"MultiLineString":return rt=el(b,p.type==="LineString"?0:1,F),new Ds(rt,c);case"Polygon":case"MultiPolygon":return rt=el(b,p.type==="Polygon"?1:2,F),new Na(rt,c);case"GeometryCollection":for(_t=0,Rt=p.geometries.length;_t<Rt;_t++){var Pt=tl({geometry:p.geometries[_t],type:"Feature",properties:a.properties},c);Pt&&x.push(Pt)}return new Re(x);case"FeatureCollection":for(_t=0,Rt=p.features.length;_t<Rt;_t++){var Lt=tl(p.features[_t],c);Lt&&x.push(Lt)}return new Re(x);default:throw new Error("Invalid GeoJSON object.")}}function fc(a,c,p,b){return a?a(c,p):new Da(p,b&&b.markersInheritOptions&&b)}function Zl(a){return new It(a[1],a[0],a[2])}function el(a,c,p){for(var b=[],x=0,I=a.length,F;x<I;x++)F=c?el(a[x],c-1,p):(p||Zl)(a[x]),b.push(F);return b}function nl(a,c){return a=wt(a),a.alt!==void 0?[S(a.lng,c),S(a.lat,c),S(a.alt,c)]:[S(a.lng,c),S(a.lat,c)]}function Yl(a,c,p,b){for(var x=[],I=0,F=a.length;I<F;I++)x.push(c?Yl(a[I],d(a[I])?0:c-1,p,b):nl(a[I],b));return!c&&p&&x.length>0&&x.push(x[0].slice()),x}function Oi(a,c){return a.feature?o({},a.feature,{geometry:c}):Oa(c)}function Oa(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ur={toGeoJSON:function(a){return Oi(this,{type:"Point",coordinates:nl(this.getLatLng(),a)})}};Da.include(Ur),hc.include(Ur),Jo.include(Ur),Ds.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=Yl(this._latlngs,c?1:0,!1,a);return Oi(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Na.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),b=Yl(this._latlngs,p?2:c?1:0,!0,a);return c||(b=[b]),Oi(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Le.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Oi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",b=[];return this.eachLayer(function(x){if(x.toGeoJSON){var I=x.toGeoJSON(a);if(p)b.push(I.geometry);else{var F=Oa(I);F.type==="FeatureCollection"?b.push.apply(b,F.features):b.push(F)}}}),p?Oi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Kl(a,c){return new ei(a,c)}var mf=Kl,rs=ge.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=At(c),B(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ji(this._image),this},bringToBack:function(){return this._map&&Xs(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=At(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Jt("img");if(Wt(c,"leaflet-image-layer"),this._zoomAnimated&&Wt(c,"leaflet-zoom-animated"),this.options.className&&Wt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Pn(this._image,p,c)},_reset:function(){var a=this._image,c=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ut(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),ka=function(a,c,p){return new rs(a,c,p)},$l=rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Jt("video");if(Wt(c,"leaflet-image-layer"),this._zoomAnimated&&Wt(c,"leaflet-zoom-animated"),this.options.className&&Wt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=f(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),b=[],x=0;x<p.length;x++)b.push(p[x].src);this._url=p.length>0?b:[c.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var F=Jt("source");F.src=this._url[I],c.appendChild(F)}}});function pf(a,c,p){return new $l(a,c,p)}var nr=rs.extend({_initImage:function(){var a=this._image=this._url;Wt(a,"leaflet-image-layer"),this._zoomAnimated&&Wt(a,"leaflet-zoom-animated"),this.options.className&&Wt(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function gf(a,c,p){return new nr(a,c,p)}var ki=ge.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof It||$(a))?(this._latlng=wt(a),B(this,c)):(B(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Me(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Me(this._container,0),this._removeTimeout=setTimeout(f(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=wt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ji(this._container),this},bringToBack:function(){return this._map&&Xs(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Re){c=null;var p=this._source._layers;for(var b in p)if(p[b]._map){c=p[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=z(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ut(this._container,a.add(p)):c=c.add(a).add(p);var b=this._containerBottom=-c.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(a,c,p,b){var x=c;return x instanceof a||(x=new a(b).setContent(c)),p&&x.setLatLng(p),x}}),ge.include({_initOverlay:function(a,c,p,b){var x=p;return x instanceof a?(B(x,b),x._source=this):(x=c&&!b?c:new a(b,this),x.setContent(p)),x}});var il=ki.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ki.prototype.openOn.call(this,a)},onAdd:function(a){ki.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ls||this._source.on("preclick",Fn))},onRemove:function(a){ki.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ls||this._source.off("preclick",Fn))},getEvents:function(){var a=ki.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Jt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Jt("div",a+"-content-wrapper",c);if(this._contentNode=Jt("div",a+"-content",p),Rs(c),Di(this._contentNode),kt(c,"contextmenu",Fn),this._tipContainer=Jt("div",a+"-tip-container",c),this._tip=Jt("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Jt("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',kt(b,"click",function(x){we(x),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,x=this.options.maxHeight,I="leaflet-popup-scrolled";x&&b>x?(c.height=x+"px",Wt(a,I)):_e(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ut(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Qi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,b=this._containerWidth,x=new mt(this._containerLeft,-p-this._containerBottom);x._add(Qn(this._container));var I=a.layerPointToContainerPoint(x),F=z(this.options.autoPanPadding),J=z(this.options.autoPanPaddingTopLeft||F),rt=z(this.options.autoPanPaddingBottomRight||F),_t=a.getSize(),Rt=0,Pt=0;I.x+b+rt.x>_t.x&&(Rt=I.x+b-_t.x+rt.x),I.x-Rt-J.x<0&&(Rt=I.x-J.x),I.y+p+rt.y>_t.y&&(Pt=I.y+p-_t.y+rt.y),I.y-Pt-J.y<0&&(Pt=I.y-J.y),(Rt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Rt,Pt]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),pp=function(a,c){return new il(a,c)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(a,c,p){return this._initOverlay(il,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ge.include({bindPopup:function(a,c){return this._popup=this._initOverlay(il,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Re||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){bn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Ls)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Xl=ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ki.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ki.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ki.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Jt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,b=this._map,x=this._container,I=b.latLngToContainerPoint(b.getCenter()),F=b.layerPointToContainerPoint(a),J=this.options.direction,rt=x.offsetWidth,_t=x.offsetHeight,Rt=z(this.options.offset),Pt=this._getAnchor();J==="top"?(c=rt/2,p=_t):J==="bottom"?(c=rt/2,p=0):J==="center"?(c=rt/2,p=_t/2):J==="right"?(c=0,p=_t/2):J==="left"?(c=rt,p=_t/2):F.x<I.x?(J="right",c=0,p=_t/2):(J="left",c=rt+(Rt.x+Pt.x)*2,p=_t/2),a=a.subtract(z(c,p,!0)).add(Rt).add(Pt),_e(x,"leaflet-tooltip-right"),_e(x,"leaflet-tooltip-left"),_e(x,"leaflet-tooltip-top"),_e(x,"leaflet-tooltip-bottom"),Wt(x,"leaflet-tooltip-"+J),Ut(x,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Me(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gp=function(a,c){return new Xl(a,c)};$t.include({openTooltip:function(a,c,p){return this._initOverlay(Xl,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ge.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Xl,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Re||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(kt(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),kt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,b;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var dc=ss.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(rn(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=z(p.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function yf(a){return new dc(a)}ss.Default=La;var Br=ge.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){B(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),pe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof mt?a:new mt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),b=0,x=c.length,I;b<x;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(p=a(p,+I));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){Me(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var b in this._tiles){var x=this._tiles[b];if(!(!x.current||!x.loaded)){var I=Math.min(1,(a-x.loaded)/200);Me(x.el,I),I<1?c=!0:(x.active?p=!0:this._onOpaqueTile(x),x.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Z(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(pe(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[a],x=this._map;return b||(b=this._levels[a]={},b.el=Jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=x.project(x.unproject(x.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,x.getCenter(),x.getZoom()),A(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)pe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,b){var x=Math.floor(a/2),I=Math.floor(c/2),F=p-1,J=new mt(+x,+I);J.z=+F;var rt=this._tileCoordsToKey(J),_t=this._tiles[rt];return _t&&_t.active?(_t.retain=!0,!0):(_t&&_t.loaded&&(_t.retain=!0),F>b?this._retainParent(x,I,F,b):!1)},_retainChildren:function(a,c,p,b){for(var x=2*a;x<2*a+2;x++)for(var I=2*c;I<2*c+2;I++){var F=new mt(x,I);F.z=p+1;var J=this._tileCoordsToKey(F),rt=this._tiles[J];if(rt&&rt.active){rt.retain=!0;continue}else rt&&rt.loaded&&(rt.retain=!0);p+1<b&&this._retainChildren(x,I,p+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,b){var x=Math.round(c);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var I=this.options.updateWhenZooming&&x!==this._tileZoom;(!b||I)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var b=this._map.getZoomScale(p,a.zoom),x=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,p)).round();Dt.any3d?Pn(a.el,x,b):Ut(a.el,x)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(p,this._tileZoom),x=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new lt(x.subtract(I),x.add(I))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),x=this._pxBoundsToTileRange(b),I=x.getCenter(),F=[],J=this.options.keepBuffer,rt=new lt(x.getBottomLeft().subtract([J,-J]),x.getTopRight().add([J,-J]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _t in this._tiles){var Rt=this._tiles[_t].coords;(Rt.z!==this._tileZoom||!rt.contains(new mt(Rt.x,Rt.y)))&&(this._tiles[_t].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Pt=x.min.y;Pt<=x.max.y;Pt++)for(var Lt=x.min.x;Lt<=x.max.x;Lt++){var Gt=new mt(Lt,Pt);if(Gt.z=this._tileZoom,!!this._isValidTile(Gt)){var De=this._tiles[this._tileCoordsToKey(Gt)];De?De.current=!0:F.push(Gt)}}if(F.sort(function(wn,ci){return wn.distanceTo(I)-ci.distanceTo(I)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fe=document.createDocumentFragment();for(Lt=0;Lt<F.length;Lt++)this._addTile(F[Lt],Fe);this._level.el.appendChild(Fe)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return At(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),b=a.scaleBy(p),x=b.add(p),I=c.unproject(b,a.z),F=c.unproject(x,a.z);return[I,F]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new vt(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new mt(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(pe(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Wt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=A,a.onmousemove=A,Dt.ielt9&&this.options.opacity<1&&Me(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),b=this._tileCoordsToKey(a),x=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(x),this.createTile.length<2&&G(f(this._tileReady,this,a,null,x)),Ut(x,p),this._tiles[b]={el:x,coords:a,current:!0},c.appendChild(x),this.fire("tileloadstart",{tile:x,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var b=this._tileCoordsToKey(a);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Me(p.el,0),Z(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Wt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new mt(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new lt(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Vi(a){return new Br(a)}var Fr=Br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=B(this,c),c.detectRetina&&Dt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return kt(p,"load",f(this._tileOnLoad,this,c,p)),kt(p,"error",f(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Dt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return at(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Dt.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=A,c.onerror=A,!c.complete)){c.src=ht;var p=this._tiles[a].coords;pe(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",ht),Br.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===ht))return Br.prototype._tileReady.call(this,a,c,p)}});function ni(a,c){return new Fr(a,c)}var ii=Fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var b in c)b in this.options||(p[b]=c[b]);c=B(this,c);var x=c.detectRetina&&Dt.retina?2:1,I=this.getTileSize();p.width=I.x*x,p.height=I.y*x,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Fr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,b=bt(p.project(c[0]),p.project(c[1])),x=b.min,I=b.max,F=(this._wmsVersion>=1.3&&this._crs===Ze?[x.y,x.x,I.y,I.x]:[x.x,x.y,I.x,I.y]).join(","),J=Fr.prototype.getTileUrl.call(this,a);return J+q(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Va(a,c){return new ii(a,c)}Fr.WMS=ii,ni.wms=Va;var ji=ge.extend({options:{padding:.1},initialize:function(a){B(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,c),I=b.multiplyBy(-p).add(x).subtract(this._map._getNewPixelOrigin(a,c));Dt.any3d?Pn(this._container,I,p):Ut(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new lt(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sl=ji.extend({options:{tolerance:0},getEvents:function(){var a=ji.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ji.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");kt(a,"mousemove",this._onMouseMove,this),kt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,pe(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ji.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),b=Dt.retina?2:1;Ut(c,a.min),c.width=b*p.x,c.height=b*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ji.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,b=c.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],b,x;for(x=0;x<c.length;x++){if(b=Number(c[x]),isNaN(b))return;p.push(b)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,b,x,I,F=a._parts,J=F.length,rt=this._ctx;if(J){for(rt.beginPath(),p=0;p<J;p++){for(b=0,x=F[p].length;b<x;b++)I=F[p][b],rt[b?"lineTo":"moveTo"](I.x,I.y);c&&rt.closePath()}this._fillStroke(rt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,b=Math.max(Math.round(a._radius),1),x=(Math.max(Math.round(a._radiusY),1)||b)/b;x!==1&&(p.save(),p.scale(1,x)),p.beginPath(),p.arc(c.x,c.y/x,b,0,Math.PI*2,!1),x!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,b,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(_e(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,b,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(c)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,b=c.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,b=c.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function rl(a){return Dt.canvas?new sl(a):null}var Hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ja={_initContainer:function(){this._container=Jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ji.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Hr("shape");Wt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Hr("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;pe(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,b=a.options,x=a._container;x.stroked=!!b.stroke,x.filled=!!b.fill,b.stroke?(c||(c=a._stroke=Hr("stroke")),x.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=$(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(x.removeChild(c),a._stroke=null),b.fill?(p||(p=a._fill=Hr("fill")),x.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(x.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),b=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Ji(a._container)},_bringToBack:function(a){Xs(a._container)}},al=Dt.vml?Hr:ma,ir=ji.extend({_initContainer:function(){this._container=al("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=al("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ji.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ut(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=al("path");a.options.className&&Wt(c,a.options.className),a.options.interactive&&Wt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){pe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,ko(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||p,x="a"+p+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+x+p*2+",0 "+x+-p*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Ji(a._path)},_bringToBack:function(a){Xs(a._path)}});Dt.vml&&ir.include(ja);function qr(a){return Dt.svg||Dt.vml?new ir(a):null}$t.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&rl(a)||qr(a)}});var _f=Na.extend({initialize:function(a,c){Na.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=At(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function si(a,c){return new _f(a,c)}ir.create=al,ir.pointsToPath=ko,ei.geometryToLayer=tl,ei.coordsToLatLng=Zl,ei.coordsToLatLngs=el,ei.latLngToCoords=nl,ei.latLngsToCoords=Yl,ei.getFeature=Oi,ei.asFeature=Oa,$t.mergeOptions({boxZoom:!0});var Ql=Hn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tn(),Or(),this._startPoint=this._map.mouseEventToContainerPoint(a),kt(document,{contextmenu:bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Jt("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new lt(this._point,this._startPoint),p=c.getSize();Ut(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(pe(this._box),_e(this._container,"leaflet-crosshair")),Pi(),Zo(),ue(document,{contextmenu:bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",Ql),$t.mergeOptions({doubleClickZoom:!0});var as=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),b=c.options.zoomDelta,x=a.originalEvent.shiftKey?p-b:p+b;c.options.doubleClickZoom==="center"?c.setZoom(x):c.setZoomAround(a.containerPoint,x)}});$t.addInitHook("addHandler","doubleClickZoom",as),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mc=Hn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ni(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_e(this._map._container,"leaflet-grab"),_e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=At(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,x=(b-c+p)%a+c-p,I=(b+c+p)%a-c-p,F=Math.abs(x+p)<Math.abs(I+p)?x:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(a){var c=this._map,p=c.options,b=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,F=p.easeLinearity,J=x.multiplyBy(F/I),rt=J.distanceTo([0,0]),_t=Math.min(p.inertiaMaxSpeed,rt),Rt=J.multiplyBy(_t/rt),Pt=_t/(p.inertiaDeceleration*F),Lt=Rt.multiplyBy(-Pt/2).round();!Lt.x&&!Lt.y?c.fire("moveend"):(Lt=c._limitOffset(Lt,c.options.maxBounds),G(function(){c.panBy(Lt,{duration:Pt,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",mc),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ol=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),kt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,b,x;for(b=0,x=p.left.length;b<x;b++)c[p.left[b]]=[-1*a,0];for(b=0,x=p.right.length;b<x;b++)c[p.right[b]]=[a,0];for(b=0,x=p.down.length;b<x;b++)c[p.down[b]]=[0,a];for(b=0,x=p.up.length;b<x;b++)c[p.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,b,x;for(b=0,x=p.zoomIn.length;b<x;b++)c[p.zoomIn[b]]=a;for(b=0,x=p.zoomOut.length;b<x;b++)c[p.zoomOut[b]]=-a},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,b;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=z(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(z(b),p.options.maxBounds)),p.options.worldCopyJump){var x=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(x)}else p.panBy(b)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;bn(a)}}});$t.addInitHook("addHandler","keyboard",ol),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sr=Hn.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=kr(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),bn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=p?Math.ceil(x/p)*p:x,F=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,F&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+F):a.setZoomAround(this._lastMousePos,c+F))}});$t.addInitHook("addHandler","scrollWheelZoom",sr);var pc=600;$t.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var Jl=Hn.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new mt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",we),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),pc),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ue(document,"touchend",we),ue(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new mt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});$t.addInitHook("addHandler","tapHold",Jl),$t.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var Gr=Hn.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),we(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),x=p.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(x,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&x<1||this._zoom>c.getMaxZoom()&&x>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var I=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(x===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var F=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(F,this,!0),we(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",Gr),$t.BoxZoom=Ql,$t.DoubleClickZoom=as,$t.Drag=mc,$t.Keyboard=ol,$t.ScrollWheelZoom=sr,$t.TapHold=Jl,$t.TouchZoom=Gr,n.Bounds=lt,n.Browser=Dt,n.CRS=Ee,n.Canvas=sl,n.Circle=hc,n.CircleMarker=Jo,n.Class=Tt,n.Control=mn,n.DivIcon=dc,n.DivOverlay=ki,n.DomEvent=Bl,n.DomUtil=Yo,n.Draggable=Ni,n.Evented=ft,n.FeatureGroup=Re,n.GeoJSON=ei,n.GridLayer=Br,n.Handler=Hn,n.Icon=ss,n.ImageOverlay=rs,n.LatLng=It,n.LatLngBounds=vt,n.Layer=ge,n.LayerGroup=Le,n.LineUtil=k,n.Map=$t,n.Marker=Da,n.Mixin=jr,n.Path=Ls,n.Point=mt,n.PolyUtil=Ia,n.Polygon=Na,n.Polyline=Ds,n.Popup=il,n.PosAnimation=Vr,n.Projection=Et,n.Rectangle=_f,n.Renderer=ji,n.SVG=ir,n.SVGOverlay=nr,n.TileLayer=Fr,n.Tooltip=Xl,n.Transformation=wi,n.Util=j,n.VideoOverlay=$l,n.bind=f,n.bounds=bt,n.canvas=rl,n.circle=dp,n.circleMarker=df,n.control=En,n.divIcon=yf,n.extend=o,n.featureGroup=is,n.geoJSON=Kl,n.geoJson=mf,n.gridLayer=Vi,n.icon=Wl,n.imageOverlay=ka,n.latLng=wt,n.latLngBounds=At,n.layerGroup=Ms,n.map=es,n.marker=cc,n.point=z,n.polygon=ti,n.polyline=mp,n.popup=pp,n.rectangle=si,n.setOptions=B,n.stamp=y,n.svg=qr,n.svgOverlay=gf,n.tileLayer=ni,n.tooltip=gp,n.transformation=xi,n.version=s,n.videoOverlay=pf;var za=window.L;n.noConflict=function(){return window.L=za,this},window.L=n})}(ch,ch.exports)),ch.exports}var ac=Xz();const op=PS(ac);function lp(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function v0(e,t){return t==null?function(s,o){const u=V.useRef(void 0);return u.current||(u.current=e(s,o)),u}:function(s,o){const u=V.useRef(void 0);u.current||(u.current=e(s,o));const f=V.useRef(s),{instance:m}=u.current;return V.useEffect(function(){f.current!==s&&(t(m,s,f.current),f.current=s)},[m,s,t]),u}}function sI(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function rI(e){return function(n){const s=y0(),o=e(_0(n,s),s);return Gz(s.map,n.attribution),iI(o.current,n.eventHandlers),sI(o.current,s),o}}function Qz(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function Jz(e){return function(n){const s=y0(),o=e(_0(n,s),s);return iI(o.current,n.eventHandlers),sI(o.current,s),Qz(o.current,n),o}}function tU(e,t){const n=v0(e,t),s=rI(n);return nI(s)}function aI(e,t){const n=v0(e,t),s=Jz(n);return nI(s)}function eU(e,t){const n=v0(e,t),s=rI(n);return Kz(s)}function nU(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function iU(){return y0().map}const oI=aI(function({center:t,children:n,...s},o){const u=new ac.Circle(t,s);return lp(u,p0(o,{overlayContainer:u}))},Wz);function sU({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:u,placeholder:f,style:m,whenReady:y,zoom:_,...E},A){const[S]=V.useState({className:o,id:u,style:m}),[N,D]=V.useState(null),B=V.useRef(void 0);V.useImperativeHandle(A,()=>N?.map??null,[N]);const q=V.useCallback(at=>{if(at!==null&&!B.current){const $=new ac.Map(at,E);B.current=$,n!=null&&_!=null?$.setView(n,_):e!=null&&$.fitBounds(e,t),y!=null&&$.whenReady(y),D(Yz($))}},[]);V.useEffect(()=>()=>{N?.map.remove()},[N]);const Y=N?Xd.createElement(g0,{value:N},s):f??null;return Xd.createElement("div",{...S,ref:q},Y)}const up=V.forwardRef(sU),cp=tU(function({position:t,...n},s){const o=new ac.Marker(t,n);return lp(o,p0(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),lI=aI(function({positions:t,...n},s){const o=new ac.Polyline(t,n);return lp(o,p0(s,{overlayContainer:o}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),hp=eU(function({url:t,...n},s){const o=new ac.TileLayer(t,_0(n,s));return lp(o,s)},function(t,n,s){nU(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)}),uI="/assets/Apple_AirTag-DXsKpCuU.svg",Sy=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194]];function rU({scrollYProgress:e,path:t,setBreadcrumbPath:n,setVisitedPoints:s}){const o=iU();return V.useEffect(()=>{const u=e.on("change",f=>{const m=(f-.3)/.39999999999999997;if(m<0||m>1){const N=m>1?t[t.length-1]:t[0],D=m>1?12.75:15;o.setView(N,D),n(m>1?t:[t[0]]),s(m>1?t:[t[0]]);return}const y=m*(t.length-1),_=Math.floor(y),E=y-_;let A;if(_>=t.length-1)A=t[t.length-1];else{const[N,D]=t[_],[B,q]=t[_+1];A=[N+(B-N)*E,D+(q-D)*E]}const S=15-m*(15-12.75);o.setView(A,S),n([...t.slice(0,_+1),A]),s(t.slice(0,_+1))});return()=>u()},[o,e,t,n,s]),null}function aU({onScrollProgress:e}){const t=V.useRef(null),{scrollYProgress:n}=Fz({target:t,offset:["start start","end end"]});V.useEffect(()=>{e&&e(n)},[n,e]);const s=Eu(n,[0,.3],[1,.2]),o=Eu(n,[.7,1],[1,0]),u=Eu(n,[.1,.3,.8,1],[0,1,1,0]),f=Eu(n,[.7,.8],[1,0]),[m,y]=V.useState([Sy[0]]),[_,E]=V.useState([]),A=op.divIcon({className:"trail-point",iconSize:[8,8],iconAnchor:[4,4],html:"<div></div>"}),S=Eu(n,[.7,.8],[1,0]),N=Eu(n,[.8,1],[0,1]);return T.jsxs("div",{ref:t,id:"hero",className:"landing-root",role:"banner","aria-labelledby":"hero-title",children:[T.jsx(Jc.div,{className:"header-background-container",style:{opacity:N}}),T.jsx(Jc.div,{className:"hero-title-container",style:{opacity:S},children:T.jsx("h1",{id:"hero-title",className:"hero-title",children:"TagLogger"})}),T.jsxs(Jc.p,{className:"subtitle",style:{opacity:f},children:[T.jsx("strong",{children:"Unlock the location history and more."}),T.jsx("br",{}),T.jsx("span",{style:{fontSize:"0.5em",display:"block",marginTop:"15px"},children:"An independent service, not affiliated with Apple Inc."})]}),T.jsx(Jc.img,{src:uI,alt:"Apple AirTag - Location tracking device",className:"airtag-img",style:{scale:s,opacity:o,zIndex:10,translateX:"-50%",translateY:"-50%"},draggable:!1}),T.jsx(Jc.div,{className:"map-fade",style:{opacity:u,zIndex:1},children:T.jsxs(up,{center:Sy[0],zoom:15,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100vh",width:"100vw",background:"black"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),T.jsx(rU,{scrollYProgress:n,path:Sy,setBreadcrumbPath:y,setVisitedPoints:E}),T.jsx(lI,{positions:m,color:"#00eaff",weight:6,opacity:.7}),_.map((D,B)=>T.jsx(cp,{position:D,icon:A,zIndexOffset:1e3},B))]},"main-app-map")})]})}const oU=[{feature:"Size",taglogger:"31x31 mm",apple:"",gps:"4060mm+, bulky"},{feature:"Tech",taglogger:"AirTag",apple:"",gps:"GPS, SIM"},{feature:"Device Support",taglogger:"Android, iOS, Web",apple:"Apple only",gps:"Often agnostic"},{feature:"Battery Life",taglogger:"~1 yr",apple:"",gps:"Daysweeks"},{feature:"Cost",taglogger:"Low",apple:"",gps:"High"},{feature:"History/Export",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Alerts/Geofencing",taglogger:"Yes",apple:"Limited",gps:"Extra fees"},{feature:"Inventory Mgmt",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Scalability",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Max Tags",taglogger:"Unlimited",apple:"32 items",gps:"Many"}];function lU(){return T.jsx("section",{id:"feature-comparison",className:"feature-comparison-section",role:"region","aria-labelledby":"feature-comparison-title",children:T.jsxs("div",{className:"feature-comparison-content",children:[T.jsx("h2",{id:"feature-comparison-title",className:"feature-comparison-title",children:"How We Compare"}),T.jsx("div",{style:{maxWidth:700,margin:"0 auto"},children:T.jsx("p",{className:"feature-description",style:{marginBottom:32},children:"See how our solution compares to other tracking options on the market. We deliver the best mix of size, battery life, and coverage. If youve tried AirTags, youll know nothing else is quite like it."})}),T.jsx("div",{className:"feature-comparison-table-wrapper",style:{overflowX:"auto",maxWidth:800,margin:"0 auto"},children:T.jsxs("table",{className:"feature-comparison-table",style:{width:"100%",borderCollapse:"collapse",minWidth:580,tableLayout:"fixed"},children:[T.jsxs("colgroup",{children:[T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%",background:"rgba(0,234,255,0.10)"}}),T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%"}})]}),T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(0,234,255,0.08)"},children:[T.jsx("th",{style:{padding:"10px 6px",color:"#00eaff",fontWeight:700,fontSize:14,textAlign:"left",borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Feature"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"TagLogger"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Apple Find My"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14},children:"GPS Trackers"})]})}),T.jsx("tbody",{children:oU.map((e,t)=>e.feature==="Tech"&&!e.apple||e.feature==="Size"&&!e.apple||e.feature==="Battery Life"&&!e.apple||e.feature==="Cost"&&!e.apple?T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{colSpan:2,style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,textAlign:"center",background:"rgba(0,234,255,0.10)",borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t):T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)",background:"rgba(0,234,255,0.10)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.apple}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t))})]})})]})})}function uU(){const[e,t]=V.useState("business"),n=[{icon:"",title:"Track Luggage Travels",description:"Monitor your luggage with an AirTag during vacations and business trips"},{icon:"",title:"Monitor Pet Adventures",description:"See where your furry friends wander and explore"},{icon:"",title:"Family Safety Tracking",description:"Track your elderly parents or young kids for safety reasons"},{icon:"",title:"Shared Item Locations",description:"Remember locations when lending valuable possessions"},{icon:"",title:"Package Delivery Verification",description:"Verify delivered packages with complete travel history"},{icon:"",title:"Vehicle Journey Documentation",description:"Document vehicle journeys for expense reports or records"}],s=[{icon:"",title:"Shipment Monitoring",description:"Track shipments to reduce losses and ensure timely deliveries"},{icon:"",title:"Delivery Verification",description:"Verify deliveries using historical location data for accuracy and dispute resolution"},{icon:"",title:"Equipment Location",description:"Locate equipment across industries like healthcare, manufacturing, film, construction, and IT to boost operational efficiency"},{icon:"",title:"Historical Equipment Usage",description:"Record equipment movements over time for maintenance, accountability, and compliance"},{icon:"",title:"Vehicle Journey Documentation",description:"Document vehicle travels for expense reimbursement, travel logging, and compliance"},{icon:"",title:"Rental and Event Equipment Management",description:"Manage rental and event equipment with historical tracking to ensure proper usage and timely returns"}];return T.jsx("section",{id:"use-cases",className:"use-cases-section",role:"region","aria-labelledby":"use-cases-title",children:T.jsxs("div",{className:"use-cases-content",children:[T.jsx("h2",{id:"use-cases-title",className:"use-cases-title",children:"Built for Business and Personal Use Cases"}),T.jsxs("div",{className:"use-cases-toggle",children:[T.jsx("button",{className:`toggle-btn ${e==="business"?"active":""}`,onClick:()=>t("business"),children:"Business Use"}),T.jsx("button",{className:`toggle-btn ${e==="personal"?"active":""}`,onClick:()=>t("personal"),children:"Personal Use"})]}),T.jsx("div",{className:"use-cases-category",children:T.jsx("div",{className:"use-cases-grid",children:(e==="personal"?n:s).map((o,u)=>T.jsxs("div",{className:"use-case-card",children:[T.jsx("div",{className:"use-case-icon","aria-hidden":"true",children:o.icon}),T.jsx("h3",{className:"use-case-title",children:o.title}),T.jsx("p",{className:"use-case-description",children:o.description})]},u))})})]})})}const wu=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194],[37.7549,-122.4194],[37.7499,-122.4194]];function cU(){const[e,t]=V.useState([]),[n,s]=V.useState(wu[0]);V.useEffect(()=>{let u=0;const f=setInterval(()=>{u<wu.length?(t(wu.slice(0,u+1)),s(wu[u]),u++):(u=0,t([]),s(wu[0]))},300);return()=>clearInterval(f)},[]);const o=op.divIcon({className:"demo-marker",iconSize:[20,20],iconAnchor:[10,10],html:'<div class="marker-dot"></div>'});return T.jsx("div",{className:"platform-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/dashboard"})]}),T.jsx("div",{className:"browser-content",children:T.jsxs(up,{center:wu[0],zoom:13,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),e.length>0&&T.jsx(lI,{positions:e,color:"#00eaff",weight:4,opacity:.8}),n&&T.jsx(cp,{position:n,icon:o})]},"platform-demo-map")})]})})}const Id=[37.7749,-122.4194],xS=500,Pd=[[37.7749,-122.4194],[37.7749,-122.415],[37.7749,-122.41],[37.7749,-122.405],[37.7749,-122.41],[37.7749,-122.415],[37.7749,-122.4194]];function hU(){const[e,t]=V.useState(Pd[0]),[n,s]=V.useState(!0),[o,u]=V.useState(!1),[f,m]=V.useState(""),y=(A,S,N,D)=>{const q=A*Math.PI/180,Y=N*Math.PI/180,at=(N-A)*Math.PI/180,$=(D-S)*Math.PI/180,gt=Math.sin(at/2)*Math.sin(at/2)+Math.cos(q)*Math.cos(Y)*Math.sin($/2)*Math.sin($/2);return 6371e3*(2*Math.atan2(Math.sqrt(gt),Math.sqrt(1-gt)))},_=A=>y(A[0],A[1],Id[0],Id[1])<=xS;V.useEffect(()=>{let A=0;const S=setInterval(()=>{if(A<Pd.length){const N=Pd[A];t(N);const D=n,B=_(N);D!==B&&(s(B),m(B?" AirTag entered geofence zone!":" AirTag left geofence zone!"),u(!0),setTimeout(()=>u(!1),2e3)),A++}else A=0,t(Pd[0]),s(!0)},670);return()=>clearInterval(S)},[n]);const E=op.divIcon({className:"geofence-marker",iconSize:[24,24],iconAnchor:[12,12],html:`<div class="marker-dot ${n?"inside":"outside"}"></div>`});return T.jsx("div",{className:"geofence-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/geofencing"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs(up,{center:Id,zoom:14,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),T.jsx(oI,{center:Id,radius:xS,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:2,opacity:.8}}),e&&T.jsx(cp,{position:e,icon:E})]},"geofence-demo-map"),o&&T.jsx("div",{className:"geofence-alert",children:T.jsxs("div",{className:`alert-content${n?" blue":""}`,children:[T.jsx("span",{className:"alert-icon",children:""}),T.jsx("span",{className:"alert-text",children:f})]})}),T.jsx("div",{className:"geofence-status",children:T.jsx("div",{className:`status-indicator ${n?"inside":"outside"}`,children:n?" Inside Geofence":" Outside Geofence"})})]})]})})}const Md={yard:[37.7749,-122.4194],"site-a":[37.7849,-122.4094],"site-b":[37.7649,-122.4294],"site-c":[37.7949,-122.3994]},fU=[{id:1,name:"Excavator #EX-001",type:"excavator",status:"checked-out",location:"site-a",user:"Mike Rodriguez",lastUpdate:"2 hours ago"},{id:2,name:"Bulldozer #BD-045",type:"bulldozer",status:"checked-in",location:"yard",user:null,lastUpdate:"1 day ago"},{id:3,name:"Crane #CR-012",type:"crane",status:"checked-out",location:"site-b",user:"Sarah Johnson",lastUpdate:"30 min ago"},{id:4,name:"Loader #LD-023",type:"loader",status:"checked-out",location:"site-c",user:"Tom Wilson",lastUpdate:"5 hours ago"}];function dU(){const[e,t]=V.useState(fU),[n,s]=V.useState(null),[o,u]=V.useState(new Date);V.useEffect(()=>{const S=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(S)},[]);const f=S=>Md[S]||Md.warehouse,m=S=>S==="checked-in"?"":"",y=S=>({excavator:"",bulldozer:"",crane:"",loader:""})[S]||"",_=S=>{s(n?.id===S.id?null:S)},E=S=>{t(N=>N.map(D=>{if(D.id===S){const B=D.status==="checked-in"?"checked-out":"checked-in";return{...D,status:B,user:B==="checked-out"?"Current User":null,lastUpdate:"Just now"}}return D}))},A=(S,N)=>op.divIcon({className:"inventory-marker",iconSize:[30,30],iconAnchor:[15,15],html:`<div class="marker-content ${N}">
               <div class="marker-icon">${y(S)}</div>
               <div class="marker-status">${m(N)}</div>
             </div>`});return T.jsx("div",{className:"inventory-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/equipment"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs("div",{className:"inventory-layout",children:[T.jsxs("div",{className:"inventory-sidebar",children:[T.jsxs("div",{className:"sidebar-header",children:[T.jsx("h3",{children:"Equipment Inventory"}),T.jsx("div",{className:"time-display",children:o.toLocaleTimeString()})]}),T.jsx("div",{className:"asset-list",children:e.map(S=>T.jsxs("div",{className:`asset-item ${n?.id===S.id?"selected":""} ${S.status}`,onClick:()=>_(S),children:[T.jsx("div",{className:"asset-icon",children:y(S.type)}),T.jsxs("div",{className:"asset-info",children:[T.jsx("div",{className:"asset-name",children:S.name}),T.jsxs("div",{className:"asset-details",children:[T.jsxs("span",{className:`status-badge ${S.status}`,children:[m(S.status)," ",S.status]}),T.jsxs("span",{className:"asset-location",children:[" ",S.location]})]}),S.user&&T.jsxs("div",{className:"asset-user",children:[" ",S.user]})]}),T.jsx("button",{className:`check-btn ${S.status}`,onClick:N=>{N.stopPropagation(),E(S.id)},children:S.status==="checked-in"?"Check Out":"Check In"})]},S.id))})]}),T.jsx("div",{className:"inventory-map",children:T.jsxs(up,{center:Md.yard,zoom:12,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),Object.entries(Md).map(([S,N])=>T.jsx(oI,{center:N,radius:200,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:1,opacity:.5}},S)),e.map(S=>{const N=f(S.location);return N?T.jsx(cp,{position:N,icon:A(S.type,S.status)},S.id):null})]},"inventory-demo-map")})]}),n&&T.jsxs("div",{className:"asset-details-panel",children:[T.jsxs("div",{className:"details-header",children:[T.jsx("h4",{children:n.name}),T.jsx("button",{className:"close-btn",onClick:()=>s(null),children:""})]}),T.jsxs("div",{className:"details-content",children:[T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Type:"}),T.jsx("span",{className:"detail-value",children:n.type})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Status:"}),T.jsxs("span",{className:`detail-value status-${n.status}`,children:[m(n.status)," ",n.status]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Location:"}),T.jsxs("span",{className:"detail-value",children:[" ",n.location]})]}),n.user&&T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Assigned to:"}),T.jsxs("span",{className:"detail-value",children:[" ",n.user]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Last updated:"}),T.jsx("span",{className:"detail-value",children:n.lastUpdate})]})]})]})]})]})})}function mU(){const[e,t]=V.useState(0),n=[{title:"Complete Location History",description:"Interactive timeline with 30-90+ day history. Analyze movement patterns and travel routes with timeline playback.",demo:T.jsx(cU,{})},{title:"Geofencing",description:"Virtual boundaries with automated alerts. Custom radius 100m-5km with email/SMS notifications.",demo:T.jsx(hU,{})},{title:"Inventory Check-In/Out",description:"Automate asset management with location-based status updates and inventory system integration.",demo:T.jsx(dU,{})}];return T.jsx("section",{id:"platform-features",className:"platform-features-section",role:"region","aria-labelledby":"platform-features-title",children:T.jsxs("div",{className:"platform-features-content",children:[T.jsx("h2",{id:"platform-features-title",className:"platform-features-title",children:"Platform Features"}),T.jsxs("div",{className:"platform-features-layout",children:[T.jsx("div",{className:"features-selector",children:n.map((s,o)=>T.jsx("button",{className:`feature-selector-btn ${e===o?"selected":""}`,onClick:()=>t(o),children:s.title},o))}),T.jsxs("div",{className:"demo-section",children:[T.jsx("p",{className:"feature-description",children:n[e].description}),T.jsx("div",{className:"demo-placeholder",children:n[e].demo})]})]})]})})}function pU(){const e=[{icon:"",title:"Order",subtitle:"Get pre-configured tags",description:"For your security and seamless integration, tags must be pre-configured and onboarded to our platform before shipping. This ensures they are ready to track without needing access to your iCloud account."},{icon:"",title:"Activate",subtitle:"Link in seconds",description:"Once your pre-configured tags arrive, simply link them to your account on our platform. The tracking functionality will activate, ready for use."},{icon:"",title:"Track",subtitle:"Anywhere",description:"Access powerful platform features, including location history, geofencing, and inventory check-in/out capabilities."}];return T.jsx("section",{id:"how-it-works",className:"how-it-works-section",role:"region","aria-labelledby":"how-it-works-title",children:T.jsxs("div",{className:"how-it-works-content",children:[T.jsx("h2",{id:"how-it-works-title",className:"how-it-works-title",children:"How It Works"}),T.jsx("div",{className:"how-it-works-steps modern",children:e.map((t,n)=>T.jsxs(Xd.Fragment,{children:[T.jsxs("div",{className:"how-it-works-step modern",children:[T.jsx("div",{className:"how-it-works-icon modern",children:t.icon}),T.jsx("div",{className:"how-it-works-step-title modern",children:t.title}),T.jsx("div",{className:"how-it-works-step-subtitle",children:t.subtitle}),T.jsx("p",{className:"how-it-works-step-description",children:t.description})]}),n<e.length-1&&T.jsx("div",{className:"how-it-works-chevron",children:""})]},n))})]})})}const po={SETUP_FEE_PER_TAG:15,BASE_MONTHLY_PRICE:12.99,DISCOUNTS:{"2-3":.25,"4-10":.3,"10+":.4}},Am=e=>{const t=po.BASE_MONTHLY_PRICE;return e===1?t:e<=3?Number((t*(1-po.DISCOUNTS["2-3"])).toFixed(2)):e<=10?Number((t*(1-po.DISCOUNTS["4-10"])).toFixed(2)):Number((t*(1-po.DISCOUNTS["10+"])).toFixed(2))},ff=(e,t={})=>{typeof gtag<"u"?(gtag("event",e,t),console.log("GA4 Event tracked:",e,t)):console.warn("GA4 not loaded - event would be:",e,t)},gU=()=>{ff("sign_up",{method:"google"})},yU=()=>{ff("login",{method:"google"})},fp=(e=1)=>{const t=Math.max(1,Number(e)||1),n=po.SETUP_FEE_PER_TAG,s=Am(t),o=Number((n*t).toFixed(2)),u=Number((s*t).toFixed(2));return{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}},cI=(e,t,n)=>[{item_id:"setup_fee",item_name:"AirTag Setup & Activation",category:"setup",quantity:e,price:t},{item_id:"monthly_subscription",item_name:"AirTag Monthly Service Subscription",category:"subscription",quantity:e,price:n}],_U=(e=1)=>{const{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}=fp(e);ff("begin_checkout",{currency:"USD",value:o,setup_value:o,subscription_value:u,items:cI(t,n,s)})},vU=(e=1,t)=>{const{normalizedCount:n,setupFeePerTag:s,subscriptionPerTag:o,setupValue:u,subscriptionValue:f}=fp(e);ff("purchase",{transaction_id:t,currency:"USD",value:u,setup_value:u,subscription_value:f,items:cI(n,s,o)})},TU=(e,t)=>{ff("cta_click",{cta_location:e,cta_text:t})},T0=(e,t={})=>{if(typeof fbq<"u"){const n=`${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate event",e,t);return}fbq("track",e,t),console.log("Meta Pixel Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - event would be:",e,t)},hI=(e,t={})=>{if(typeof fbq<"u"){const n=`custom_${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate custom event",e,t);return}fbq("trackCustom",e,t),console.log("Meta Pixel Custom Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - custom event would be:",e,t)},SS=()=>{gU(),T0("CompleteRegistration",{content_name:"User Registration",content_category:"signup"})},AS=()=>{yU(),hI("UserLogin",{content_name:"User Login",content_category:"authentication"})},bU=(e=1)=>{_U(e);const{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}=fp(e);T0("InitiateCheckout",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:o,currency:"USD",num_items:t,setup_value:o,subscription_value:u,contents:[{id:"setup_fee",quantity:t,item_price:n,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:t,item_price:s,item_name:"AirTag Monthly Service Subscription"}]})},EU=(e=1,t)=>{vU(e,t);const{normalizedCount:n,setupFeePerTag:s,subscriptionPerTag:o,setupValue:u,subscriptionValue:f}=fp(e);T0("Purchase",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:u,currency:"USD",num_items:n,transaction_id:t,setup_value:u,subscription_value:f,contents:[{id:"setup_fee",quantity:n,item_price:s,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:n,item_price:o,item_name:"AirTag Monthly Service Subscription"}]})},wU=(e,t)=>{TU(e,t),hI("CTAClick",{content_name:t,content_category:"cta",cta_location:e})};function xU(){const[e,t]=V.useState(1),n=Sr(),s=po.SETUP_FEE_PER_TAG,o=_=>Am(_)*_,u=_=>s*_,f=o(e),m=u(e),y=Am(e).toFixed(2);return T.jsx("section",{id:"pricing",className:"pricing-section",role:"region","aria-labelledby":"pricing-title",children:T.jsxs("div",{className:"pricing-content",children:[T.jsx("h2",{id:"pricing-title",className:"pricing-title",children:"Simple, Transparent Pricing"}),T.jsx("p",{className:"pricing-subtitle",children:"One-time setup cost for each tag + monthly subscription. Volume discounts apply to newly purchased tags."}),T.jsx("div",{className:"pricing-calculator",children:T.jsxs("div",{className:"calculator-card",children:[T.jsxs("div",{className:"amount-section",children:[T.jsx("p",{className:"amount-label",children:"How many tags?"}),T.jsxs("div",{className:"tag-counter",children:[T.jsx("button",{className:"counter-btn",onClick:()=>t(Math.max(1,e-1)),disabled:e<=1,children:"-"}),T.jsxs("div",{className:"tag-display",children:[T.jsx("span",{className:"tag-count",children:e}),T.jsxs("span",{className:"tag-label",children:["Tag",e>1?"s":""]})]}),T.jsx("button",{className:"counter-btn",onClick:()=>t(Math.min(100,e+1)),children:"+"})]})]}),T.jsxs("div",{className:"pricing-split",children:[T.jsxs("div",{className:"pricing-left",children:[T.jsx("h4",{className:"pricing-section-title",children:"Pre-configured Tags"}),T.jsxs("span",{className:"setup-amount",children:["$",m.toFixed(2)]}),T.jsx("img",{src:uI,className:"tag-image",alt:"Tracking tag",style:{width:"48px",marginBottom:"10px"}}),T.jsxs("div",{className:"setup-fee",children:[T.jsxs("span",{className:"setup-per-tag",children:["$",s.toFixed(2)," per tag"]}),T.jsx("br",{}),T.jsxs("span",{className:"setup-shipping-note",children:["free shipping",T.jsx("br",{}),T.jsx("span",{className:"shipping-region",children:"(continental US)"})]}),T.jsx("br",{})]})]}),T.jsx("div",{className:"pricing-divider"}),T.jsxs("div",{className:"pricing-right",children:[T.jsx("h4",{className:"pricing-section-title",children:"Monthly Subscription"}),T.jsxs("div",{className:"subscription-fee",children:[T.jsxs("span",{className:"subscription-amount",children:["$",f.toFixed(2)]}),T.jsx("span",{className:"subscription-label",children:"Monthly Fee"}),T.jsxs("span",{className:"subscription-per-tag",children:["$",y," per tag"]})]}),T.jsx("span",{className:"purchase-note",children:"Your subscription starts with a 7-day free trial after your tags ship."}),T.jsxs("div",{className:"volume-discounts",children:[T.jsx("h5",{className:"discounts-title",children:"Volume Discounts"}),T.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",marginBottom:"8px"},children:"Discounts apply to newly purchased tags. Existing tags keep their original pricing."}),T.jsxs("table",{className:"discount-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Tags"}),T.jsx("th",{children:"Discount"})]})}),T.jsxs("tbody",{children:[T.jsxs("tr",{children:[T.jsx("td",{children:"1"}),T.jsx("td",{children:"No discount"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"2-3"}),T.jsx("td",{children:"25% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"4-10"}),T.jsx("td",{children:"30% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"10+"}),T.jsx("td",{children:"40% off"})]})]})]})]})]})]}),T.jsxs("div",{className:"pricing-display-card compact",children:[T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"One-time setup fee:"}),T.jsxs("span",{className:"pricing-value",children:["$",m.toFixed(2)]})]}),T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"Subscription:"}),T.jsxs("span",{className:"pricing-value",children:["$",f.toFixed(2)," /month"]})]})]}),T.jsx("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",padding:"12px",marginTop:"16px",marginBottom:"16px",textAlign:"center",fontSize:"14px"},children:T.jsx("strong",{style:{color:"#ffc107"},children:" Minimum order: 10 tags"})}),T.jsxs("button",{className:"pricing-cta",onClick:()=>{wU("pricing_section",`Start Tracking ${e} Tag${e>1?"s":""}`),n(`/login?tagCount=${Math.max(10,e)}&mode=register`)},children:["Start Tracking ",e," Tag",e>1?"s":""]})]})})]})})}function SU(){const e=[{q:"Does your platform allow me as an Android user to use AirTags?",a:"Yes, since we set up the AirTags for you and provide a web app, you can use them as an Android user."},{q:"What devices are compatible with your platform?",a:"Our web app works on any modern browser, including Chrome, Safari, Firefox, and Edge, on both desktop and mobile devices."},{q:"What is the battery lifetime?",a:"Around 1 to 1.5 years. You can replace the battery yourself with a standard CR2032 coin cell."},{q:"Can I use my own tag?",a:"For your security, we never request access to your iCloud account. Tags must be onboarded to our platform before shipping. Once received, they are yours to keep and can be factory reset for regular use at any time."},{q:"Is my location data private and secure?",a:"Yes, we use industry-standard encryption and never share your data with third parties. Only you have access to your location history."},{q:"Can I export my location data?",a:"Yes, you can export your location history in CSV or JSON format for your records or analysis."},{q:"Can I reset the tags?",a:"Yes, you can factory reset your tags at any time and use them as you wish."},{q:"How many tags can I track simultaneously?",a:"There's no limit. If you plan to deploy more than 10 tags, please contact us for tailored support."},{q:"Shipping fee",a:"Shipping is free within the continental US. For other locations, see pricing at checkout."},{q:"Can I configure location-specific email alerts?",a:"Yes, you can set up location-based email alerts directly in the platform."},{q:"How far back does the location history go?",a:"There's no practical limityour location history is available as far back as you need."},{q:"How do I access the application?",a:"You can access the platform via a web app that works seamlessly on both mobile and desktop browsers."},{q:"Can I pause or cancel my subscription?",a:"Yes, you can pause or cancel your subscription at any time from your account dashboard."}],[t,n]=V.useState(null),s=o=>n(t===o?null:o);return T.jsx("section",{id:"faq",className:"faq-section",role:"region","aria-labelledby":"faq-title",children:T.jsxs("div",{className:"faq-content",children:[T.jsx("h2",{id:"faq-title",className:"faq-title",children:"FAQ"}),T.jsx("div",{className:"faq-list",children:e.map((o,u)=>T.jsxs("div",{className:`faq-item${t===u?" open":""}`,children:[T.jsxs("button",{className:"faq-question",onClick:()=>s(u),"aria-expanded":t===u,"aria-controls":`faq-answer-${u}`,children:[T.jsx("span",{children:o.q}),T.jsx("span",{className:`faq-chevron${t===u?" open":""}`,"aria-hidden":"true",children:""})]}),t===u&&T.jsx("div",{id:`faq-answer-${u}`,className:"faq-answer",role:"region","aria-labelledby":`faq-question-${u}`,children:o.a})]},u))})]})})}function AU(){const[e,t]=V.useState("hero"),[n,s]=V.useState(!1),o=[{id:"hero",label:"Home"},{id:"platform-features",label:"Platform"},{id:"feature-comparison",label:"How We Compare"},{id:"use-cases",label:"Use Cases"},{id:"how-it-works",label:"How It Works"},{id:"pricing",label:"Pricing"},{id:"faq",label:"FAQ"}],u=f=>{const m=document.getElementById(f);if(m){const _=f==="feature-comparison"?104:80,E=m.offsetTop-_;window.scrollTo({top:E,behavior:"smooth"}),window.history.pushState(null,null,`#${f}`)}};return V.useEffect(()=>{const f=()=>{const m=window.location.hash.slice(1);m&&o.find(y=>y.id===m)&&(t(m),u(m))};return window.location.hash&&f(),window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),V.useEffect(()=>{const f={rootMargin:"-20% 0px -80% 0px",threshold:0},m=new IntersectionObserver(y=>{y.forEach(_=>{_.isIntersecting&&t(_.target.id)})},f);return o.forEach(({id:y})=>{const _=document.getElementById(y);_&&m.observe(_)}),()=>m.disconnect()},[]),V.useEffect(()=>{const f=()=>{const y=window.scrollY,_=document.getElementById("hero");if(_){const E=_.offsetHeight;s(y>E*.8)}else s(y>500)},m=setTimeout(()=>{f()},100);return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f),clearTimeout(m)}},[]),T.jsx("nav",{className:`section-navigation ${n?"visible":""}`,role:"navigation","aria-label":"Page sections",children:T.jsx("div",{className:"nav-container",children:T.jsx("ul",{className:"nav-list",children:o.map(({id:f,label:m})=>T.jsx("li",{className:"nav-item",children:T.jsx("button",{className:`nav-link ${e===f?"active":""}`,onClick:()=>u(f),"aria-current":e===f?"true":"false","aria-label":`Go to ${m} section`,children:m})},f))})})})}function RS({onScrollProgress:e}){const[t,n]=V.useState(null);return V.useEffect(()=>{e&&e(t)},[t,e]),T.jsxs("main",{id:"main-content",role:"main",tabIndex:"-1",children:[T.jsx(AU,{}),T.jsx(aU,{onScrollProgress:n}),T.jsx(mU,{}),T.jsx(lU,{}),T.jsx(uU,{}),T.jsx(pU,{}),T.jsx(xU,{}),T.jsx(SU,{})]})}function RU(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?e.state.tagCount:t.has("tagCount")?t.get("tagCount"):""}function CS(e){return new URLSearchParams(e.search).get("mode")==="register"?"register":"login"}function CU(){const e=_s(),t=Sr(),[n,s]=V.useState(CS(e)),[o,u]=V.useState(""),[f,m]=V.useState(""),[y,_]=V.useState(""),[E,A]=V.useState(""),[S,N]=V.useState(!1),D=RU(e),{isEntitled:B,loading:q}=vR();V.useEffect(()=>{s(CS(e))},[e]),V.useEffect(()=>{hr.currentUser&&!q&&(B?(console.log(" LoginPage: User entitled, navigating to dashboard"),t("/dashboard")):(console.log(" LoginPage: User not entitled, navigating to purchase"),t("/purchase")))},[B,q,t]);const Y=async $=>{$.preventDefault(),A(""),N(!0);try{if(n==="register"){if(f!==y){A("Passwords do not match."),N(!1);return}const gt=await qD(hr,o,f);SS(),await _m(gr(yi,"users",gt.user.uid),{email:gt.user.email}),console.log("User document written to Firestore:",gt.user.uid),t(D?`/purchase?tagCount=${D}`:"/purchase")}else{const gt=await GD(hr,o,f);AS()}}catch(gt){console.error("Registration error:",gt),A(gt.message.replace("Firebase: ",""))}finally{N(!1)}},at=async()=>{A(""),N(!0);try{const $=await mN(hr,j5),gt=gr(yi,"users",$.user.uid);(await ep(gt)).exists()?AS():(SS(),await _m(gt,{email:$.user.email,displayName:$.user.displayName||null,createdAt:$.user.metadata.creationTime}),console.log("New user document created in Firestore for Google sign-in:",$.user.uid),t(D?`/purchase?tagCount=${D}`:"/purchase"))}catch($){A($.message.replace("Firebase: ",""))}finally{N(!1)}};return T.jsx("div",{className:"login-page-root",children:T.jsxs("div",{className:"login-card",children:[T.jsxs("div",{className:"login-toggle",children:[T.jsx("button",{className:n==="login"?"active":"",onClick:()=>s("login"),children:"Login"}),T.jsx("button",{className:n==="register"?"active":"",onClick:()=>s("register"),children:"Register"})]}),T.jsx("h2",{className:"login-title",children:n==="login"?"Login to your account":"Create an account"}),D&&T.jsx("div",{className:"login-tagcount-info",children:n==="register"?`Registering for ${D} tag${D>1?"s":""}`:""}),T.jsxs("form",{className:"login-form",onSubmit:Y,children:[T.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:$=>u($.target.value),required:!0,disabled:S}),T.jsx("input",{type:"password",placeholder:"Password",value:f,onChange:$=>m($.target.value),required:!0,disabled:S}),n==="register"&&T.jsx("input",{type:"password",placeholder:"Confirm Password",value:y,onChange:$=>_($.target.value),required:!0,disabled:S}),E&&T.jsx("div",{className:"login-error",children:E}),T.jsx("button",{type:"submit",className:"login-submit-btn",disabled:S,children:S?n==="login"?"Logging in...":"Registering...":n==="login"?"Login":"Register"}),n==="register"&&T.jsxs("p",{className:"terms-acknowledgement",children:["By registering, you acknowledge you have read and agree to our ",T.jsx("a",{href:"/terms",target:"_blank",children:"Terms of Service"})," and ",T.jsx("a",{href:"/privacy",target:"_blank",children:"Privacy Policy"}),"."]})]}),T.jsx("div",{className:"login-divider",children:"or"}),T.jsxs("button",{className:"google-auth-btn",type:"button",onClick:at,disabled:S,children:[T.jsx("span",{className:"google-icon",children:"G"})," Sign in with Google"]})]})})}function IU({user:e}){const t=Sr(),[n,s]=V.useState([]),[o,u]=V.useState([]),[f,m]=V.useState(0),[y,_]=V.useState(new Set),[E,A]=V.useState(null),[S,N]=V.useState(""),[D,B]=V.useState("#00eaff"),[q,Y]=V.useState(!0);V.useEffect(()=>{e&&at(e.uid)},[e]);const at=async P=>{try{Y(!0);const O=gr(yi,"users",P),U=n_(O,j=>{if(j.exists()){const Tt=j.data();m(Tt.subscriptionQuantity||0)}}),G=ah(yi,"users",P,"tags"),Z=n_(e_(G),j=>{const Tt=j.docs.map(ft=>({id:ft.id,...ft.data()})),Vt=Tt.filter((ft,mt,Kt)=>Kt.findIndex(z=>z.id===ft.id)===mt);Vt.length!==Tt.length&&console.warn("Removed duplicate tags:",Tt.length-Vt.length),s(Vt);const it=Vt.filter(ft=>ft.isActive).map(ft=>ft.id);console.log(" onSnapshot: activeTagIds from Firestore:",it),u(it),Y(!1)});return()=>{U(),Z()}}catch(O){console.error("Error loading data:",O),Y(!1)}},$=async P=>{if(console.log(" handleTagToggle called with tagId:",P),!e){console.error("No user logged in");return}const O=n.find(Z=>Z.id===P);if(!O){console.warn("Tag not found in current user tags:",P);return}if(O.status==="pending_hardware"){console.warn("Cannot toggle tag pending hardware assignment:",P);return}const U=o.includes(P),G=!U;if(console.log("Current state - isSelected:",U,"newIsActive:",G),G&&o.length>=f){console.warn("Cannot activate - would exceed subscription limit");return}_(Z=>new Set([...Z,P]));try{console.log("Updating Firestore document:",`users/${e.uid}/tags/${P}`),console.log("New isActive value:",G);const Z=gr(yi,"users",e.uid,"tags",P);await _m(Z,{isActive:G,updatedAt:new Date},{merge:!0}),console.log(" Firestore setDoc completed successfully")}catch(Z){console.error("Error updating tag status:",Z),alert("Failed to update tag status. Please try again.")}finally{_(Z=>{const j=new Set(Z);return j.delete(P),j})}},gt=P=>{A(P.id),N(P.customName||""),B(P.color||"#00eaff")},ht=async P=>{if(!(!e||!E)){_(O=>new Set([...O,P]));try{const O=gr(yi,"users",e.uid,"tags",P);await _m(O,{customName:S.trim()||null,color:D,updatedAt:new Date},{merge:!0}),console.log(" Tag customization saved successfully"),A(null)}catch(O){console.error("Error saving tag customization:",O),alert("Failed to save tag customization. Please try again.")}finally{_(O=>{const U=new Set(O);return U.delete(P),U})}}},xt=()=>{A(null),N(""),B("#00eaff")},W=["#00eaff","#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#f0932b","#eb4d4b","#6c5ce7","#a29bfe","#fd79a8","#00b894","#00cec9","#74b9ff","#0984e3","#fdcb6e"];return q?T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:T.jsx("div",{style:{color:"rgba(255,255,255,0.7)"},children:"Loading tag information..."})}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h3",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Manage Tags & Subscriptions"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Activate/deactivate tags, customize names and colors, and manage your subscription slots"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px",marginBottom:"40px"},children:n.length===0?T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:[T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"20px"},children:"No tags purchased yet. Purchase your first tags to get started."}),T.jsx("button",{onClick:()=>t("/purchase"),style:{background:"#00eaff",color:"#000",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Purchase Tags"})]}):T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px"},children:[T.jsxs("div",{style:{marginBottom:"20px"},children:[T.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,marginBottom:"8px"},children:["Active Subscriptions: ",o.length," of ",f," available slots"]}),T.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)"},children:"Select which tags should be actively monitored and billed"})]}),T.jsx("div",{style:{display:"grid",gap:"12px",marginBottom:"24px"},children:n.map(P=>T.jsx("div",{style:{padding:"16px",background:o.includes(P.id)?"rgba(0, 234, 255, 0.1)":"rgba(255,255,255,0.02)",border:o.includes(P.id)?"1px solid rgba(0, 234, 255, 0.3)":"1px solid rgba(255,255,255,0.05)",borderRadius:"12px"},children:E===P.id?T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:D,border:"2px solid rgba(255,255,255,0.2)",cursor:"pointer",flexShrink:0},title:"Click to change color"}),T.jsx("input",{type:"text",value:S,onChange:O=>N(O.target.value),placeholder:"Tag name (e.g., Car Keys)",style:{flex:1,padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"6px",color:"#fff",fontSize:"0.9rem"},maxLength:50})]}),T.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:W.map(O=>T.jsx("div",{onClick:()=>B(O),style:{width:"24px",height:"24px",borderRadius:"50%",background:O,border:D===O?"2px solid #fff":"1px solid rgba(255,255,255,0.2)",cursor:"pointer",transform:D===O?"scale(1.1)":"scale(1)",transition:"all 0.2s ease"},title:O},O))}),T.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[T.jsx("button",{onClick:xt,style:{padding:"6px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",background:"transparent",color:"#fff",fontSize:"0.8rem",cursor:"pointer"},children:"Cancel"}),T.jsx("button",{onClick:()=>ht(P.id),disabled:y.has(P.id),style:{padding:"6px 12px",border:"none",borderRadius:"6px",background:"#00d4aa",color:"white",fontSize:"0.8rem",fontWeight:600,cursor:y.has(P.id)?"not-allowed":"pointer",opacity:y.has(P.id)?.7:1},children:y.has(P.id)?"Saving...":"Save"})]})]}):T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:P.color||"#00eaff",marginRight:"12px",flexShrink:0}}),T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{style:{fontWeight:600,marginBottom:"2px"},children:P.customName||`Tag ${P.id.slice(-4)}`}),T.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)"},children:P.status==="pending_hardware"?" Waiting for hardware assignment":P.status==="linked"?` ${o.includes(P.id)?"Active - Monthly billing":"Inactive - No charges"}`:o.includes(P.id)?"Active - Monthly billing":"Inactive - No charges"})]}),T.jsx("button",{onClick:()=>gt(P),style:{padding:"6px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",background:"transparent",color:"#fff",fontSize:"0.8rem",cursor:"pointer",marginRight:"8px"},children:" Edit"}),T.jsx("div",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:600,background:o.includes(P.id)?"rgba(0, 255, 170, 0.2)":"rgba(255,255,255,0.1)",color:o.includes(P.id)?"#00ffaa":"rgba(255,255,255,0.6)",marginRight:"12px"},children:o.includes(P.id)?"ACTIVE":"INACTIVE"}),T.jsx("button",{onClick:()=>$(P.id),disabled:P.status==="pending_hardware"||y.has(P.id)||(o.includes(P.id)?!1:o.length>=f),style:{padding:"8px 16px",border:"none",borderRadius:"6px",background:P.status==="pending_hardware"?"#666":y.has(P.id)?"#888":o.includes(P.id)?"#ff4444":"#00d4aa",color:"white",fontSize:"0.9rem",fontWeight:600,cursor:P.status==="pending_hardware"||y.has(P.id)?"not-allowed":o.includes(P.id)?"pointer":o.length>=f?"not-allowed":"pointer",opacity:P.status==="pending_hardware"||y.has(P.id)?.7:o.includes(P.id)?1:o.length>=f?.5:1},children:P.status==="pending_hardware"?"Pending Hardware":y.has(P.id)?"Updating...":o.includes(P.id)?"Deactivate":"Activate"})]})},P.id))})]})})," "]})}function PU(){const e=Sr(),t=async()=>{alert("Subscription management: Please contact support to change your subscription quantity. Portal integration coming soon.")};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h3",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Subscription & Billing"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Manage your subscription, purchase additional tags, and access billing information"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px",marginBottom:"40px"},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:[T.jsxs("div",{className:"subscription-buttons-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px",justifyItems:"center",maxWidth:"600px",margin:"0 auto"},children:[T.jsx("button",{onClick:()=>e("/purchase?purchaseType=tags_only"),style:{background:"#00d4aa",color:"black",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px"},children:"Purchase More Tags"}),T.jsx("button",{onClick:t,style:{background:"#ffaa00",color:"#000",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px"},children:"Change Subscription"}),T.jsx("button",{onClick:t,style:{background:"#00eaff",color:"#000",border:"none",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer",width:"100%",maxWidth:"160px"},children:"Billing Portal"})]}),T.jsx("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.9rem",marginTop:"16px"},children:"Use the Billing Portal to view invoices and update payment methods. Use Change Subscription to modify your plan quantity."})]})})]})}function IS(){const[e,t]=V.useState(null),[n,s]=V.useState(!0),[o,u]=V.useState(!1),[f,m]=V.useState(()=>window.location.pathname==="/settings"?"settings":"status"),[y,_]=V.useState({geofences:[],outsideTags:[],recentEvents:[],loading:!0,error:null}),E=Sr(),[A,S]=J2();V.useEffect(()=>{const D=Qh(hr,async B=>{B?t(B):E("/login"),s(!1)});return()=>D()},[E]),V.useEffect(()=>{(async()=>{if(e){_(B=>({...B,loading:!0,error:null}));try{const[B,q,Y,at]=await Promise.all([Ed(ah(yi,"users",e.uid,"geofences")),Ed(ah(yi,"users",e.uid,"geofenceStates")),Ed(e_(ah(yi,"users",e.uid,"tags"),Qw("status","==","linked"),Qw("isActive","==",!0))),Ed(e_(ah(yi,"users",e.uid,"geofenceEvents"),m5("timestamp","desc"),p5(30)))]),$=new Map;B.docs.forEach(j=>{$.set(j.id,{id:j.id,...j.data()})});const gt=new Map;Y.docs.forEach(j=>{gt.set(j.id,{id:j.id,...j.data()})});const ht=[],xt=new Map;Y.docs.forEach(j=>{const Tt=j.data();Tt.hardwareId&&(xt.set(Tt.hardwareId,j.id),ht.push(ep(gr(yi,"airtags",Tt.hardwareId))))});const W=await Promise.all(ht),P=new Map;W.forEach(j=>{if(j.exists()){const Tt=j.data(),Vt=xt.get(j.id);Tt.lastLocationTs&&Vt&&P.set(Vt,new Date(Tt.lastLocationTs))}});const O=[],U=new Map;B.docs.forEach(j=>{const Tt={id:j.id,...j.data()};Tt.active&&O.push({id:Tt.id,name:Tt.name,color:Tt.color||"#00eaff",tags:[]})}),q.docs.forEach(j=>{const Tt={id:j.id,...j.data()},Vt=gt.get(Tt.tagId);if(Vt){const it=Tt.lastChecked?.toDate?Tt.lastChecked.toDate():new Date(Tt.lastChecked),ft={tagId:Tt.tagId,tagName:Vt.customName||`Tag ${Vt.id.slice(-4)}`,tagColor:Vt.color||"#00eaff",currentState:Tt.currentState,lastChecked:it,location:Tt.lastLocation,geofenceId:Tt.geofenceId};U.has(Tt.tagId)||U.set(Tt.tagId,[]),U.get(Tt.tagId).push(ft)}}),O.forEach(j=>{U.forEach((Tt,Vt)=>{const it=Tt.find(ft=>ft.geofenceId===j.id);it&&it.currentState==="inside"&&j.tags.push({tagId:it.tagId,tagName:it.tagName,tagColor:it.tagColor,lastChecked:it.lastChecked,lastSeen:P.get(Vt)||null,location:it.location})}),j.tags.sort((Tt,Vt)=>!Tt.lastSeen&&!Vt.lastSeen?Vt.lastChecked-Tt.lastChecked:Tt.lastSeen?Vt.lastSeen?Vt.lastSeen-Tt.lastSeen:-1:1)});const G=[];Y.docs.forEach(j=>{const Tt={id:j.id,...j.data()},Vt=U.get(Tt.id);if(!(Vt&&Vt.some(ft=>ft.currentState==="inside"))){const ft=Vt?Vt.reduce((mt,Kt)=>!mt||Kt.lastChecked>mt.lastChecked?Kt:mt,null):null;G.push({tagId:Tt.id,tagName:Tt.customName||`Tag ${Tt.id.slice(-4)}`,tagColor:Tt.color||"#00eaff",lastChecked:ft?.lastChecked||null,lastSeen:P.get(Tt.id)||null,location:ft?.location||null,status:ft?"Outside all geofences":"Never checked"})}}),G.sort((j,Tt)=>!j.lastChecked&&!Tt.lastChecked?0:j.lastChecked?Tt.lastChecked?Tt.lastChecked-j.lastChecked:-1:1);const Z=at.docs.map(j=>{const Tt={id:j.id,...j.data()};return{id:Tt.id,tagId:Tt.tagId,geofenceId:Tt.geofenceId,eventType:Tt.eventType,timestamp:Tt.timestamp?.toDate?Tt.timestamp.toDate():new Date(Tt.timestamp?.seconds*1e3),location:Tt.location,geofenceName:$.get(Tt.geofenceId)?.name||"Unknown",tagName:gt.get(Tt.tagId)?.customName||`Tag ${Tt.tagId.slice(-4)}`}});_({geofences:O,outsideTags:G,recentEvents:Z,loading:!1,error:null})}catch(B){console.error("Error fetching dashboard data:",B),_(q=>({...q,loading:!1,error:B.message}))}}})()},[e]);const N=D=>{if(!D)return"Never checked";const q=new Date-D,Y=Math.floor(q/(1e3*60)),at=Math.floor(q/(1e3*60*60)),$=Math.floor(q/(1e3*60*60*24));return Y<1?"Just now":Y<60?`${Y}m ago`:at<24?`${at}h ago`:`${$}d ago`};return V.useEffect(()=>{if(A.get("success")==="true"){u(!0);const D=A.get("tag_count")||"1",B=A.get("session_id");EU(parseInt(D),B);const q=new URLSearchParams(A);q.delete("success"),q.delete("tag_count"),q.delete("session_id"),S(q);const Y=setTimeout(()=>{u(!1)},5e3);return()=>clearTimeout(Y)}if(A.get("subscription")==="success"){const D=new URLSearchParams(A);D.delete("subscription"),D.delete("tag_count"),S(D)}},[A,S]),n?T.jsx("div",{className:"loading",children:"Loading..."}):T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Dashboard"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:""}),T.jsxs("span",{children:["Welcome, ",e?.email]})]})]}),o&&T.jsx("div",{style:{background:"linear-gradient(135deg, #00eaff, #0099cc)",color:"#fff",padding:"16px 24px",margin:"0 auto 24px auto",maxWidth:"600px",borderRadius:"12px",textAlign:"center",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 20px rgba(0, 234, 255, 0.3)",animation:"slideIn 0.3s ease-out"},children:" Payment successful! Your tags are being prepared and you'll be notified once they're shipped."}),T.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px",padding:"0 20px"},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"4px",display:"flex",gap:"4px",maxWidth:"400px",width:"100%"},children:[T.jsx("button",{onClick:()=>m("status"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="status"?"#00eaff":"transparent",color:f==="status"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Status"}),T.jsx("button",{onClick:()=>m("map"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="map"?"#00eaff":"transparent",color:f==="map"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Map"}),T.jsx("button",{onClick:()=>m("settings"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="settings"?"#00eaff":"transparent",color:f==="settings"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Settings"})]})}),T.jsxs("main",{className:"dashboard-content",children:[f==="status"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[y.error&&T.jsxs("div",{style:{background:"#ff6b6b",color:"#fff",padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",textAlign:"center"},children:["Error loading geofence data: ",y.error]}),y.loading?T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"24px",textAlign:"center",color:"#aaa"},children:"Loading geofence status..."}):T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h2",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Geofence Status"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Current location status of all your tags across active geofences"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px"},children:T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[y.geofences.map(D=>T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:`linear-gradient(90deg, ${D.color}, ${D.color}dd)`,color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[D.name," (",D.tags.length,")"]}),D.tags.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"No tags currently inside this geofence"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Last Seen"})]})}),T.jsx("tbody",{children:D.tags.map((B,q)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:q%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"12px",height:"12px",background:B.tagColor,borderRadius:"2px"}}),T.jsx("span",{style:{color:"#fff"},children:B.tagName})]}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:B.lastSeen?N(B.lastSeen):"Unknown"})]},B.tagId))})]})})]},D.id)),T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:"linear-gradient(90deg, #f59e0b, #d97706)",color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[" Outside All Geofences (",y.outsideTags.length,")"]}),y.outsideTags.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"All tags are inside geofences"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Last Seen"})]})}),T.jsx("tbody",{children:y.outsideTags.map((D,B)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:B%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"12px",height:"12px",background:D.tagColor,borderRadius:"2px"}}),T.jsx("span",{style:{color:"#fff"},children:D.tagName})]}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:D.lastSeen?N(D.lastSeen):"Unknown"})]},D.tagId))})]})})]})]})})})," "]})]})}),T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139,92,246,0.1), rgba(124,58,237,0.05))",border:"1px solid rgba(139,92,246,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h2",{style:{color:"#8b5cf6",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Recent Activity"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Latest geofence entry and exit events from your tags"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px"},children:T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:T.jsx("div",{style:{width:"100%",maxWidth:1e3},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:"linear-gradient(90deg, #8b5cf6, #7c3aed)",color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[" Recent Events (",y.recentEvents.length,")"]}),y.recentEvents.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"No recent geofence activity"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Event"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Geofence"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Time"})]})}),T.jsx("tbody",{children:y.recentEvents.map((D,B)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:B%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsx("td",{style:{padding:"12px 16px"},children:T.jsx("span",{style:{background:D.eventType==="entry"?"#10b981":"#ef4444",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:D.eventType==="entry"?"Entered":"Exited"})}),T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#00eaff",flexShrink:0}}),T.jsx("span",{style:{color:"#fff"},children:D.tagName})]}),T.jsx("td",{style:{padding:"12px 16px"},children:T.jsx("span",{style:{color:"#fff"},children:D.geofenceName})}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:N(D.timestamp)})]},D.id))})]})})]})})})})," "]}),f==="map"&&T.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1200,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"24px",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),T.jsx("h3",{style:{color:"#00eaff",margin:"0 0 8px 0"},children:"Interactive Map View"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",margin:"0 0 24px 0"},children:"View your tags, draw geofences, and manage assets on an interactive map."}),T.jsx("button",{className:"dashboard-btn",onClick:()=>E("/map"),style:{padding:"12px 24px",fontSize:"16px"},children:"Open Full Map"})]})}),f==="settings"&&T.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[T.jsx(IU,{user:e}),T.jsx(PU,{})]})})]})]})}function MU(){const[e,t]=V.useState(!0),[n,s]=V.useState(null),[o,u]=V.useState(!1),[f,m]=V.useState(!1),[y,_]=V.useState(!1),[E,A]=V.useState(null),[S,N]=V.useState(!0),[D,B]=V.useState(!1),[q,Y]=V.useState(""),[at,$]=V.useState(""),[gt,ht]=V.useState("2");V.useEffect(()=>{const O=Qh(hr,async U=>{if(!U){t(!1),s(null),u(!1);return}s(U);const G=await ep(gr(yi,"users",U.uid)),Z=G.exists()&&G.data().isAdmin===!0;u(Z),t(!1),Z&&xt()});return()=>O()},[]);const xt=async()=>{try{N(!0);const U=await lh(wd,"adminGetGeofenceSchedulerStatus")({});A(U.data.config)}catch(O){Y(String(O?.message||O))}finally{N(!1)}},W=async O=>{try{B(!0),Y(""),$("");const G=await lh(wd,"adminUpdateGeofenceScheduler")(O);$(G.data.message),await xt()}catch(U){Y(String(U?.message||U))}finally{B(!1)}},P=O=>{if(!O)return"Never";try{let U;if(O.toDate&&typeof O.toDate=="function")U=O.toDate();else if(O.seconds)U=new Date(O.seconds*1e3);else if(typeof O=="string"||typeof O=="number")U=new Date(O);else return"Unknown";const Z=new Date-U;if(isNaN(Z))return"Invalid date";const j=Math.floor(Z/(1e3*60));if(j<1)return"Just now";if(j<60)return`${j}m ago`;const Tt=Math.floor(Z/(1e3*60*60));return Tt<24?`${Tt}h ago`:`${Math.floor(Z/(1e3*60*60*24))}d ago`}catch(U){return console.error("Error formatting lastRun:",U,O),"Error"}};return e?T.jsx("div",{style:{padding:24},children:"Loading"}):n?o?T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Admin Page"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:""}),T.jsxs("span",{children:["Welcome, ",n?.email]})]})]}),T.jsx("main",{className:"dashboard-content",children:T.jsxs("div",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[q&&T.jsx("div",{style:{marginBottom:12,color:"#ff7d7d"},children:q}),at&&T.jsx("div",{style:{marginBottom:12,color:"#4ade80"},children:at}),T.jsxs("div",{style:{display:"grid",gap:20},children:[T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Manual Geofence Check"}),T.jsx("button",{disabled:f,onClick:async()=>{try{m(!0),Y(""),$("");const U=await lh(wd,"adminTriggerGeofenceMonitor")({});$(` Geofence check complete! Checked: ${U.data?.checked||0}, Events: ${U.data?.events||0}`),await xt()}catch(O){Y(String(O?.message||O))}finally{m(!1)}},style:{padding:"12px 20px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:700,cursor:f?"not-allowed":"pointer",opacity:f?.7:1,fontSize:"14px"},children:f?" Checking...":" Run Check Now"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb"},children:"Manually trigger an immediate geofence check for all active geofences and tags"})]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Geofence Scheduler"})}),S?T.jsx("div",{style:{color:"#aaa",textAlign:"center",padding:"20px 0"},children:"Loading scheduler status..."}):T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px"},children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Status"}),T.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:E?.enabled?"#4ade80":"#f87171",color:E?.enabled?"#000":"#fff",fontSize:"14px",fontWeight:"600"},children:[T.jsx("span",{children:E?.enabled?"":""}),E?.enabled?"Running":"Stopped"]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Schedule"}),T.jsx("div",{style:{color:"#fff",fontWeight:"600"},children:E?.displaySchedule||"Every 15 minutes"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Last Run"}),T.jsx("div",{style:{color:"#fff"},children:P(E?.lastRun)})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Total Runs"}),T.jsx("div",{style:{color:"#fff",fontWeight:"600"},children:E?.totalRuns||0})]})]})}),T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[T.jsx("button",{disabled:D,onClick:()=>{W({enabled:!E?.enabled})},style:{padding:"12px 20px",borderRadius:6,border:"1px solid "+(E?.enabled?"#f87171":"#4ade80"),background:E?.enabled?"#f87171":"#4ade80",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"14px",flex:"1 1 auto"},children:D?"Updating...":E?.enabled?" Stop Scheduler":" Start Scheduler"}),T.jsx("button",{disabled:D,onClick:xt,style:{padding:"12px 20px",borderRadius:6,border:"1px solid #6b7280",background:"rgba(255,255,255,0.05)",color:"#fff",fontWeight:"700",cursor:"pointer",fontSize:"14px"},children:" Refresh Status"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"8px",fontWeight:"600"},children:"Quick Presets:"}),T.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[T.jsx("button",{disabled:D,onClick:()=>{W({schedule:"*/2 * * * *",displaySchedule:"Every 2 minutes (Optimized)"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:" Optimized (2min)"}),T.jsx("button",{disabled:D,onClick:()=>{W({schedule:"*/5 * * * *",displaySchedule:"Every 5 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:" Fast (5min)"}),T.jsx("button",{disabled:D,onClick:()=>{W({schedule:"*/10 * * * *",displaySchedule:"Every 10 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #3b82f6",background:"#3b82f6",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:" Normal (10min)"}),T.jsx("button",{disabled:D,onClick:()=>{W({schedule:"*/15 * * * *",displaySchedule:"Every 15 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #f59e0b",background:"#f59e0b",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:" Battery Saver (15min)"}),T.jsx("button",{disabled:D,onClick:()=>{W({schedule:"0 * * * *",displaySchedule:"Hourly"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #6b7280",background:"#6b7280",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:" Hourly"})]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"8px",fontWeight:"600"},children:"Custom Interval (minutes):"}),T.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[T.jsx("input",{type:"number",min:"1",max:"1440",value:gt,onChange:O=>ht(O.target.value),placeholder:"2",style:{padding:"10px 12px",borderRadius:6,border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:"14px",width:"100px"}}),T.jsx("button",{disabled:D||!gt||gt<1,onClick:()=>{const O=parseInt(gt);O&&O>0&&W({schedule:`*/${O} * * * *`,displaySchedule:`Every ${O} minute${O>1?"s":""} (Custom)`})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:"700",cursor:D||!gt||gt<1?"not-allowed":"pointer",opacity:D||!gt||gt<1?.5:1,fontSize:"14px"},children:" Apply Custom"}),T.jsx("span",{style:{fontSize:"12px",color:"#888"},children:"(1-1440 min)"})]})]})]}),T.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"#bbb"},children:[T.jsxs("div",{style:{marginBottom:"6px"},children:[" ",T.jsx("strong",{children:"Stats:"})," Created ",E?.totalEventsCreated||0," geofence events"]}),T.jsxs("div",{style:{marginBottom:"6px"},children:[" ",T.jsx("strong",{children:"Checks Performed:"})," ",E?.checked||0," tag/geofence combinations"]}),T.jsxs("div",{children:[" ",T.jsx("strong",{children:"Last Modified:"})," ",E?.lastModified?.toDate?new Date(E.lastModified.toDate()).toLocaleString():"Unknown"]})]}),T.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"#aaa"},children:[T.jsx("div",{style:{fontWeight:"600",color:"#10b981",marginBottom:"6px"},children:" Optimization Active"}),T.jsxs("div",{children:["The geofence monitor uses smart filtering to only check tags with location updates in the last 2 minutes, dramatically reducing database operations and costs. For best results, use the ",T.jsx("strong",{children:"2-minute optimized schedule"}),"."]})]})]})]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Tag Auto-Assignment"}),T.jsx("button",{disabled:y,onClick:async()=>{try{_(!0),await lh(wd,"adminTriggerTagAssignment")({})}catch(O){Y(String(O?.message||O))}finally{_(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"#fff",fontWeight:700,cursor:y?"not-allowed":"pointer",opacity:y?.7:1},children:y?"Assigning...":"Run Tag Assignment"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb",marginBottom:16},children:"Manually trigger automatic AirTag-to-user assignment based on naming convention"}),T.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Matches AirTags named with Firebase user IDs to user accounts"})]}),T.jsxs("div",{style:{padding:20,background:"rgba(255,255,255,0.03)",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("h2",{style:{fontWeight:700,marginBottom:16,color:"#fff",fontSize:18},children:" Email Monitoring"}),T.jsxs("div",{style:{padding:20,textAlign:"center",color:"#888",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:8},children:[T.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:8,color:"#8b5cf6"},children:" Use Firebase Console for Email Monitoring"}),T.jsx("div",{style:{fontSize:14,marginBottom:16},children:"Email monitoring functions have been removed from the Admin UI due to CORS configuration issues."}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,alignItems:"center"},children:[T.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_emailErrors",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#8b5cf6",color:"#fff",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:" View Email Errors in Firestore"}),T.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_admin~2FemailStats",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#10b981",color:"#fff",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:" View Email Stats in Firestore"})]})]})]})]})]})})]}):T.jsx("div",{style:{padding:24},children:"Not authorized."}):T.jsx("div",{style:{padding:24},children:"Please sign in."})}function LU(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?Number(e.state.tagCount):t.has("tagCount")?Number(t.get("tagCount")):1}function DU(e){const t=new URLSearchParams(e.search);return e.state&&e.state.purchaseType?e.state.purchaseType:t.has("purchaseType")?t.get("purchaseType"):"initial"}function NU(){const e=_s(),t=Sr(),[n,s]=V.useState(null),[o,u]=V.useState(()=>Math.max(10,LU(e))),[f,m]=V.useState(()=>DU(e)),[y,_]=V.useState(!1),[E,A]=V.useState(""),[S,N]=V.useState(!0),D=Math.max(10,Number(o)||10),B=D,q=f==="initial",Y=q?D:0,at=po.SETUP_FEE_PER_TAG,$=q?Am(Y):0,gt=at*B,ht=$*Y,xt=q&&D>1?Math.round((1-$/po.BASE_MONTHLY_PRICE)*100):0;V.useEffect(()=>{const P=Qh(hr,async O=>{if(s(O),O)try{const G=new URLSearchParams(e.search).get("tagCount");G&&u(Number(G))}catch(U){console.error("Error loading purchase page:",U)}else t("/login",{replace:!0});N(!1)});return()=>P()},[e,t]);const W=async()=>{if(!n){A("You must be logged in to make a purchase");return}_(!0),A(""),bU(D);try{const P=pR(of),U=await lh(P,"createCheckoutSession")({tagCount:D,purchaseType:f});if(U.data?.url)window.location.href=U.data.url;else throw new Error("No checkout URL returned")}catch(P){console.error("Purchase error:",P),A("Error: "+(P.message||"Unknown error")),_(!1)}};return S?T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:"Checking your account..."})}):T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsxs("div",{className:"calculator-card",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:20,padding:"50px 40px",textAlign:"center",backdropFilter:"blur(10px)",maxWidth:400,width:"100%"},children:[T.jsx("h2",{style:{color:"white",fontSize:"2.2rem",fontWeight:600,margin:"0 0 18px 0",letterSpacing:"-0.01em"},children:q?"Purchase Tags":"Purchase Additional Tags"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"1.1rem",fontWeight:400,margin:"0 0 32px 0"},children:q?"Select the number of tags you want to purchase and proceed to secure checkout.":"Purchase additional AirTags with setup fees. Subscriptions can be managed separately."}),T.jsxs("div",{style:{marginBottom:32},children:[T.jsx("label",{style:{color:"rgba(255,255,255,0.8)",fontWeight:500,fontSize:16,marginBottom:10,display:"block"},children:"Number of tags:"}),T.jsx("input",{type:"number",min:10,max:100,value:o,onChange:P=>u(Math.max(10,Number(P.target.value))),disabled:y,style:{width:90,fontSize:18,padding:8,borderRadius:8,border:"1px solid #fff",textAlign:"center",fontWeight:600,background:"rgba(255,255,255,0.08)",color:"white",outline:"none",marginTop:4}}),o<10&&T.jsx("div",{style:{color:"#ffc107",fontSize:13,marginTop:8,fontWeight:500},children:" Minimum order is 10 tags"})]}),T.jsxs("div",{style:{background:"rgba(0, 234, 255, 0.08)",border:"1px solid rgba(0, 234, 255, 0.25)",borderRadius:16,padding:"20px 18px",color:"#fff",textAlign:"left",marginBottom:28},children:[gt>0&&T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:q?12:0},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Due today"}),T.jsx("div",{style:{fontSize:13,color:"rgba(255,255,255,0.7)"},children:"One-time setup & activation"})]}),T.jsxs("div",{style:{fontSize:20,fontWeight:700},children:["$",gt.toFixed(2)]})]}),q&&T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Monthly billing (starts in 7 days)"}),T.jsxs("div",{style:{fontSize:13,color:"rgba(255,255,255,0.7)"},children:[`$${$.toFixed(2)} per tag`,xt>0&&`  ${xt}% volume discount`]})]}),T.jsxs("div",{style:{fontSize:20,fontWeight:700},children:["$",ht.toFixed(2)]})]}),T.jsx("p",{style:{fontSize:13,color:"rgba(255,255,255,0.65)",marginTop:16,lineHeight:1.5},children:q?"Setup fees are charged today. Subscription charges begin in 7 days to allow time for shipping and setup.":"Setup fees are charged today. You can activate subscriptions for these tags through your account settings."})]}),T.jsx("button",{className:"pricing-cta",onClick:W,disabled:y||D<10,style:{background:D<10?"#555":"#00eaff",color:D<10?"#999":"#000",border:"none",borderRadius:12,padding:"16px 0",fontSize:20,fontWeight:700,cursor:y||D<10?"not-allowed":"pointer",width:"100%",marginBottom:10,boxShadow:"0 2px 8px rgba(0,234,255,0.08)",transition:"background 0.2s",letterSpacing:"-0.01em"},onMouseOver:P=>{D>=10&&!y&&(P.currentTarget.style.background="#00bcd4")},onMouseOut:P=>{D>=10&&!y&&(P.currentTarget.style.background="#00eaff")},children:y?"Redirecting...":`Proceed with ${D} Tag${D>1?"s":""}`}),E&&T.jsx("div",{style:{color:"#ff4d4f",marginTop:18,fontWeight:500},children:E})]})})}function OU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Terms and Conditions"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Last updated: October 8, 2025"})}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"1. Acceptance of Terms"}),T.jsx("p",{children:"By registering for or using TagLoggers platform (Service), you agree to be bound by these Terms and our Privacy Policy. If you do not agree, do not use the Service."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"2. Service Description"}),T.jsx("p",{children:"TagLogger provides a webbased platform to track Apple AirTag devices, offering realtime location, historical playback, geofencing, data export, and customizable alerts. We are an independent service and are not affiliated with Apple Inc."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"3. Eligibility & Account Registration"}),T.jsxs("ul",{children:[T.jsx("li",{children:"You must be at least 18 years old and able to form a binding contract."}),T.jsx("li",{children:"You agree to provide accurate, current, and complete information during registration and to keep your account credentials secure."}),T.jsx("li",{children:"You are responsible for all activity under your account."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"4. Fees & Payment"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Tag Purchase"}),": Onetime fee per AirTag, at prices shown in your dashboard (free continental U.S. shipping)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Subscription"}),": Recurring monthly fee per tag, billed automatically. Volume discounts apply to newly purchased tags only (see Pricing Page)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Payment Methods"}),": Major credit/debit cards and PayPal."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"NonRefundable"}),": All fees are nonrefundable except as required by law."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Late or Failed Payments"}),": We may suspend your Service until payment is received."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"5. Use Restrictions"}),T.jsxs("p",{children:[T.jsx("strong",{children:"5.1 Lawful and Authorized Use Only."})," You may use the Service only to track assets, equipment, or property that you own, lease, or are otherwise authorized to track. You must not use the Service to track or monitor any person, vehicle, or property without the knowledge and affirmative consent of the individual(s) involved or the lawful owner. You are solely responsible for obtaining and maintaining all necessary permissions and consents under applicable privacy, dataprotection, and antistalking laws."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"5.2 Prohibited Conduct."})," You agree not to use the Service in any manner that:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"(a) violates or circumvents any law or regulation related to electronic surveillance, stalking, or harassment;"}),T.jsx("li",{children:"(b) invades another persons privacy or misuses location data; or"}),T.jsx("li",{children:"(c) interferes with the rights or safety of others."})]}),T.jsx("p",{children:"TagLogger reserves the right to suspend or terminate your account and cooperate with law enforcement if we reasonably believe the Service is being used unlawfully or without consent."}),T.jsx("p",{children:"You must not disable, modify, or attempt to circumvent antistalking or unwantedtracking safeguards (including altering tag speakers, firmware, or alerts), or aid others to do so."}),T.jsx("p",{children:"You must not use the Service to evade or defeat safety features or unwantedtracking alerts."}),T.jsx("p",{children:"If you use the Service to track assets involving employees or contractors, you represent you have provided required notices and obtained all consents under applicable labor, privacy, and surveillance laws."}),T.jsx("p",{children:T.jsx("strong",{children:"Additionally, you agree not to:"})}),T.jsxs("ul",{children:[T.jsx("li",{children:"Reverse engineer, decompile, or otherwise attempt to derive source code."}),T.jsx("li",{children:"Scrape, harvest, or extract data from the Service."}),T.jsx("li",{children:"Interfere with the operation or security of the Service."}),T.jsx("li",{children:"Use the Service for any unlawful purpose or without obtaining all required consents."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"6. Ownership & License"}),T.jsxs("ul",{children:[T.jsx("li",{children:"TagLogger and its licensors retain all rights in the Service, including software, trademarks, and content."}),T.jsx("li",{children:"You own your location and account data (Customer Data) but grant us a worldwide, royaltyfree license to host, process, and display it as necessary to provide the Service."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"7. Privacy & Data Security"}),T.jsx("p",{children:"Our Privacy Policy explains how we collect, use, share, and protect Customer Data. You are responsible for ensuring your use of the Service complies with all applicable privacy and surveillance laws."}),T.jsx("p",{children:"TagLogger provides tools for lawful location tracking. We do not monitor how you use the Service, but you are solely responsible for ensuring your use and collection of location data comply with privacy and surveillance laws in all jurisdictions where tracking occurs."}),T.jsx("p",{children:"You represent and warrant that you will obtain and maintain all required consents from tracked individuals and provide any legally required notices."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"8. Disclaimers"}),T.jsx("p",{children:"The Service is provided ASIS and ASAVAILABLE, with all faults. TAGLOGGER AND ITS AFFILIATES, LICENSORS, AND SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Any warranty of merchantability or fitness for a particular purpose;"}),T.jsx("li",{children:"Any warranty of uninterrupted, errorfree, secure, or virusfree operation;"}),T.jsx("li",{children:"Any warranty as to the accuracy, completeness, or timeliness of location data or other information;"}),T.jsx("li",{children:"Any warranty that the Service complies with applicable laws or regulations."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"No Emergency Use."})," The Service is not a lifesafety or emergency service and must not be relied upon for emergency response."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"9. Limitation of Liability"}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.1 EXCLUSION OF DAMAGES."})," TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL TAGLOGGER OR ITS AFFILIATES, LICENSORS, OR SUPPLIERS BE LIABLE FOR ANY:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR GOODWILL), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES;"}),T.jsx("li",{children:"DAMAGES ARISING FROM THIRDPARTY CLAIMS OR ACTIONS."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.2 DAMAGE CAP."})," TAGLOGGERS AGGREGATE LIABILITY FOR ALL CLAIMS ARISING OUT OF OR RELATING TO THE SERVICE, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, SHALL NOT EXCEED THE GREATER OF:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"(A) THE TOTAL SUBSCRIPTION FEES YOU PAID IN THE THREE (3) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM; OR"}),T.jsx("li",{children:"(B) ONE HUNDRED DOLLARS (US$100)."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.3 FORCE MAJEURE."})," TAGLOGGER SHALL NOT BE LIABLE FOR FAILURE OR DELAY IN PERFORMANCE DUE TO CAUSES BEYOND ITS REASONABLE CONTROL, INCLUDING NATURAL DISASTERS, WAR, TERRORISM, RIOTS, EMBARGOES, GOVERNMENT ACTIONS, LABOR DISPUTES, OR INTERNET/NETWORK FAILURES."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.4 ALLOCATION OF RISK."})," THESE LIMITATIONS ARE AN ESSENTIAL PART OF THE BARGAIN BETWEEN YOU AND TAGLOGGER. YOU ACKNOWLEDGE THAT WITHOUT THEM, THE SUBSCRIPTION FEES WOULD BE SUBSTANTIALLY HIGHER."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"10. Indemnification"}),T.jsx("p",{children:"You agree to indemnify, defend, and hold harmless TagLogger and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys fees) arising out of:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Your use of the Service;"}),T.jsx("li",{children:"Your violation of these Terms; or"}),T.jsx("li",{children:"Any thirdparty claim alleging infringement of intellectual property or privacy rights."})]}),T.jsx("p",{children:"In addition to the above, you specifically agree to indemnify, defend, and hold harmless TagLogger from any claims, investigations, or legal actions arising out of or related to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Your failure to obtain consent before tracking any individual or property; or"}),T.jsx("li",{children:"Your unlawful or unauthorized use of location data collected through the Service."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"11. Termination"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"By You:"})," You may cancel your subscription at any time via the dashboard; cancellation is effective at the end of your current billing cycle."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"By Us:"})," We may suspend or terminate your account for nonpayment, breach of these Terms, compliance with legal or regulatory requirements, or if we detect or receive credible reports of unlawful tracking activity or use without required consent, and we may cooperate with law enforcement."]}),T.jsx("li",{children:"Upon termination, your right to access the Service ends immediately, and we may delete your Customer Data."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"12. Changes to Service or Terms"}),T.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue the Service or any part thereof at any time. We may update these Terms by posting the revised version with a new Last updated date. Your continued use after changes constitutes acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"13. Governing Law & Dispute Resolution"}),T.jsx("p",{children:"These Terms are governed by California law (excluding conflictoflaw rules). Any dispute arising under these Terms will be resolved by binding arbitration in Los Angeles County under the American Arbitration Associations rules. You and TagLogger each waive the right to a jury trial and to participate in any classaction lawsuit."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"14. Legal Compliance"}),T.jsx("p",{children:"TagLoggers Service is intended for lawful assettracking purposes. TagLogger does not condone or facilitate the use of its technology for stalking, harassment, or unauthorized surveillance. Users are solely responsible for ensuring their use complies with all applicable laws."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Export Control & Sanctions."})," You represent you are not located in, under control of, or a national/resident of any embargoed country or prohibited party list, and you will comply with U.S./EU export control and sanctions laws."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"15. Severability & Waiver"}),T.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, the remaining provisions remain in full force. Our failure to enforce any right or provision will not constitute a waiver of future enforcement."}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",textAlign:"center"},children:T.jsx("em",{children:"End of Terms and Conditions"})})]})})}function kU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Privacy Policy"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Effective Date: October 8, 2025"})}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Version: 1.0"})}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Introduction"}),T.jsx("p",{children:"At TagLogger, we are committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our services. By using TagLogger, you agree to the practices described in this policy."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Data Controller:"})," TagLogger is the data controller responsible for your personal information. For any questions or concerns about this policy or your data, please contact us via the in-app support form or through our Contact Us page."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Information We Collect"}),T.jsx("p",{children:"We collect the following types of information to provide and improve our services:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Location Data:"})," Latitude, longitude, and timestamps associated with your AirTags for location history and tracking features."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"User Identification:"})," Account details like your email address or username to link location data to your account."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Used to authenticate users, remember preferences, and analyze website usage."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Use Your Information"}),T.jsx("p",{children:"We use your information to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Provide the TagLogger service, including location history, geofencing, inventory management, and interactive timelines."}),T.jsx("li",{children:"Improve our services, troubleshoot issues, and develop new features."}),T.jsx("li",{children:"Communicate with you about your account, updates, or support matters."})]}),T.jsx("p",{children:"TagLogger processes location data solely on behalf of the account holder and for the purpose of providing the tracking features you request."}),T.jsx("p",{children:"You are responsible for ensuring that any collection or sharing of location data with respect to other individuals complies with applicable privacy and surveillance laws, including obtaining consent where required."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Share Your Information"}),T.jsx("p",{children:"We do not share your location data with third parties, except as follows:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Trusted Service Providers:"})," We may share data with trusted vendors (e.g., for hosting, analytics, or payment processing) who are bound by confidentiality obligations and use your data only to perform services for us."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Legal Requirements:"})," When required by law, such as a subpoena or court order."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Protection of Rights:"})," To protect TagLogger, our users, or others."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"With Your Consent:"})," If you explicitly agree to share your data."]})]}),T.jsx("p",{children:"We may suspend or terminate access to the Service or cooperate with law enforcement if we detect or receive credible reports of unlawful tracking activity."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Your Choices and Rights"}),T.jsx("p",{children:"You can:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Access:"})," View your data through your account dashboard."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Correct:"})," Update inaccuracies in your account settings."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Delete:"})," Request data deletion, subject to legal retention obligations."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Object:"})," Opt out of certain data processing where permitted by law."]})]}),T.jsx("p",{children:"To exercise these rights, use the in-app support form or visit our Contact Us page."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Security"}),T.jsx("p",{children:"We use industry-standard encryption, access controls, and secure servers to protect your data. However, no system is fully immune to risks."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"International Data Transfers"}),T.jsx("p",{children:"Your data may be processed in other countries, with safeguards to comply with applicable laws."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Childrens Privacy"}),T.jsx("p",{children:"Our services are not intended for anyone under 18. We do not knowingly collect data from individuals under 18, and we will delete such data if discovered."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Business Use"}),T.jsx("p",{children:"If you use TagLogger for business (e.g., tracking shipments), you must comply with privacy laws and obtain necessary consents."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Data Retention"}),T.jsx("p",{children:"We keep your data while your account is active or as needed for the service. Upon deletion requests, we remove it unless legally required to retain it."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Cookies and Tracking Technologies"}),T.jsx("p",{children:"Cookies help with authentication, preferences, and analytics. Manage them via your browser settings, though this may limit functionality."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Changes to This Policy"}),T.jsx("p",{children:"We may update this policy and will notify you of significant changes via our website. Continued use after updates implies acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Contact Us"}),T.jsx("p",{children:"For questions or requests, reach us via the in-app support form or Contact Us."})]})})}function VU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"Contact"}),T.jsxs("p",{children:["Have questions or need support? Reach out to us at ",T.jsx("a",{href:"mailto:info@ipekai.com",style:{color:"#00eaff",textDecoration:"underline"},children:"info@ipekai.com"}),"."]}),T.jsx("p",{children:"We aim to respond within 1-2 business days."})]})})}function jU(){return T.jsx("footer",{className:"global-footer",role:"contentinfo",children:T.jsxs("div",{className:"footer-content",children:[T.jsx("div",{className:"footer-brand",children:"TagLogger"}),T.jsxs("nav",{className:"footer-nav","aria-label":"Footer",children:[T.jsx(hh,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),T.jsx(hh,{to:"/privacy",className:"footer-link",children:"Data Privacy"}),T.jsx(hh,{to:"/contact",className:"footer-link",children:"Contact"})]}),T.jsxs("div",{className:"footer-copy",children:[" ",new Date().getFullYear()," TagLogger. All rights reserved."]}),T.jsx("div",{className:"footer-disclaimer",style:{fontSize:"0.6rem",color:"#aaa",marginTop:"0px"},children:"An independent service, not affiliated with Apple Inc."})]})})}const zU=V.lazy(()=>oM(()=>import("./MapPage-BGnA8dAR.js"),__vite__mapDeps([0,1])));function UU(){const[e,t]=V.useState(null);return T.jsxs(T.Fragment,{children:[T.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),T.jsx(U5,{scrollYProgress:e}),T.jsxs(x2,{children:[T.jsx(fs,{path:"/",element:T.jsx(RS,{onScrollProgress:t})}),T.jsx(fs,{path:"/login",element:T.jsx(CU,{})}),T.jsx(fs,{path:"/purchase",element:T.jsx(NU,{})}),T.jsx(fs,{path:"/map",element:T.jsx(xd,{children:T.jsx(V.Suspense,{fallback:null,children:T.jsx(zU,{})})})}),T.jsx(fs,{path:"/dashboard",element:T.jsx(xd,{children:T.jsx(IS,{})})}),T.jsx(fs,{path:"/settings",element:T.jsx(xd,{children:T.jsx(IS,{})})}),T.jsx(fs,{path:"/admin",element:T.jsx(xd,{adminOnly:!0,requireEntitlement:!1,children:T.jsx(MU,{})})}),T.jsx(fs,{path:"/terms",element:T.jsx(OU,{})}),T.jsx(fs,{path:"/privacy",element:T.jsx(kU,{})}),T.jsx(fs,{path:"/contact",element:T.jsx(VU,{})}),T.jsx(fs,{path:"*",element:T.jsx(RS,{onScrollProgress:t})})]}),T.jsx(jU,{})]})}NP.createRoot(document.getElementById("root")).render(T.jsx(V.StrictMode,{children:T.jsx(Y2,{children:T.jsx(z5,{children:T.jsx(UU,{})})})}));export{up as M,hp as T,ah as a,n_ as b,BU as c,yi as d,hr as e,Qh as f,gr as g,qU as h,iU as i,T as j,GU as k,ac as l,m5 as o,e_ as q,V as r,WU as s,HU as u,Qw as w};
