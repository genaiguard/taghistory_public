const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapPage-D2Ucoloy.js","assets/MapPage-TjnJ7GMF.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var i6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Px(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gg={exports:{}},Xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function RP(){if(ub)return Xc;ub=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Xc.Fragment=t,Xc.jsx=n,Xc.jsxs=n,Xc}var cb;function CP(){return cb||(cb=1,Gg.exports=RP()),Gg.exports}var E=CP(),Wg={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function IP(){if(hb)return Jt;hb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function q(j,ct,Et){this.props=j,this.context=ct,this.refs=B,this.updater=Et||M}q.prototype.isReactComponent={},q.prototype.setState=function(j,ct){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ct,"setState")},q.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function G(){}G.prototype=q.prototype;function nt(j,ct,Et){this.props=j,this.context=ct,this.refs=B,this.updater=Et||M}var K=nt.prototype=new G;K.constructor=nt,k(K,q.prototype),K.isPureReactComponent=!0;var pt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function H(j,ct,Et,vt,wt,Pt){return Et=Pt.ref,{$$typeof:e,type:j,key:ct,ref:Et!==void 0?Et:null,props:Pt}}function O(j,ct){return H(j.type,ct,void 0,void 0,void 0,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function W(j){var ct={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Et){return ct[Et]})}var Z=/\/+/g;function $(j,ct){return typeof j=="object"&&j!==null&&j.key!=null?W(""+j.key):ct.toString(36)}function F(){}function Se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(F,F):(j.status="pending",j.then(function(ct){j.status==="pending"&&(j.status="fulfilled",j.value=ct)},function(ct){j.status==="pending"&&(j.status="rejected",j.reason=ct)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function je(j,ct,Et,vt,wt){var Pt=typeof j;(Pt==="undefined"||Pt==="boolean")&&(j=null);var St=!1;if(j===null)St=!0;else switch(Pt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(j.$$typeof){case e:case t:St=!0;break;case b:return St=j._init,je(St(j._payload),ct,Et,vt,wt)}}if(St)return wt=wt(j),St=vt===""?"."+$(j,0):vt,pt(wt)?(Et="",St!=null&&(Et=St.replace(Z,"$&/")+"/"),je(wt,ct,Et,"",function(Dn){return Dn})):wt!=null&&(V(wt)&&(wt=O(wt,Et+(wt.key==null||j&&j.key===wt.key?"":(""+wt.key).replace(Z,"$&/")+"/")+St)),ct.push(wt)),1;St=0;var Ee=vt===""?".":vt+":";if(pt(j))for(var ee=0;ee<j.length;ee++)vt=j[ee],Pt=Ee+$(vt,ee),St+=je(vt,ct,Et,Pt,wt);else if(ee=S(j),typeof ee=="function")for(j=ee.call(j),ee=0;!(vt=j.next()).done;)vt=vt.value,Pt=Ee+$(vt,ee++),St+=je(vt,ct,Et,Pt,wt);else if(Pt==="object"){if(typeof j.then=="function")return je(Se(j),ct,Et,vt,wt);throw ct=String(j),Error("Objects are not valid as a React child (found: "+(ct==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ct)+"). If you meant to render a collection of children, use an array instead.")}return St}function lt(j,ct,Et){if(j==null)return j;var vt=[],wt=0;return je(j,vt,"","",function(Pt){return ct.call(Et,Pt,wt++)}),vt}function Tt(j){if(j._status===-1){var ct=j._result;ct=ct(),ct.then(function(Et){(j._status===0||j._status===-1)&&(j._status=1,j._result=Et)},function(Et){(j._status===0||j._status===-1)&&(j._status=2,j._result=Et)}),j._status===-1&&(j._status=0,j._result=ct)}if(j._status===1)return j._result.default;throw j._result}var yt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ct=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ct))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function te(){}return Jt.Children={map:lt,forEach:function(j,ct,Et){lt(j,function(){ct.apply(this,arguments)},Et)},count:function(j){var ct=0;return lt(j,function(){ct++}),ct},toArray:function(j){return lt(j,function(ct){return ct})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Jt.Component=q,Jt.Fragment=n,Jt.Profiler=o,Jt.PureComponent=nt,Jt.StrictMode=s,Jt.Suspense=y,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return ut.H.useMemoCache(j)}},Jt.cache=function(j){return function(){return j.apply(null,arguments)}},Jt.cloneElement=function(j,ct,Et){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var vt=k({},j.props),wt=j.key,Pt=void 0;if(ct!=null)for(St in ct.ref!==void 0&&(Pt=void 0),ct.key!==void 0&&(wt=""+ct.key),ct)!xt.call(ct,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&ct.ref===void 0||(vt[St]=ct[St]);var St=arguments.length-2;if(St===1)vt.children=Et;else if(1<St){for(var Ee=Array(St),ee=0;ee<St;ee++)Ee[ee]=arguments[ee+2];vt.children=Ee}return H(j.type,wt,void 0,void 0,Pt,vt)},Jt.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Jt.createElement=function(j,ct,Et){var vt,wt={},Pt=null;if(ct!=null)for(vt in ct.key!==void 0&&(Pt=""+ct.key),ct)xt.call(ct,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(wt[vt]=ct[vt]);var St=arguments.length-2;if(St===1)wt.children=Et;else if(1<St){for(var Ee=Array(St),ee=0;ee<St;ee++)Ee[ee]=arguments[ee+2];wt.children=Ee}if(j&&j.defaultProps)for(vt in St=j.defaultProps,St)wt[vt]===void 0&&(wt[vt]=St[vt]);return H(j,Pt,void 0,void 0,null,wt)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(j){return{$$typeof:m,render:j}},Jt.isValidElement=V,Jt.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:Tt}},Jt.memo=function(j,ct){return{$$typeof:_,type:j,compare:ct===void 0?null:ct}},Jt.startTransition=function(j){var ct=ut.T,Et={};ut.T=Et;try{var vt=j(),wt=ut.S;wt!==null&&wt(Et,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(te,yt)}catch(Pt){yt(Pt)}finally{ut.T=ct}},Jt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Jt.use=function(j){return ut.H.use(j)},Jt.useActionState=function(j,ct,Et){return ut.H.useActionState(j,ct,Et)},Jt.useCallback=function(j,ct){return ut.H.useCallback(j,ct)},Jt.useContext=function(j){return ut.H.useContext(j)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(j,ct){return ut.H.useDeferredValue(j,ct)},Jt.useEffect=function(j,ct,Et){var vt=ut.H;if(typeof Et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return vt.useEffect(j,ct)},Jt.useId=function(){return ut.H.useId()},Jt.useImperativeHandle=function(j,ct,Et){return ut.H.useImperativeHandle(j,ct,Et)},Jt.useInsertionEffect=function(j,ct){return ut.H.useInsertionEffect(j,ct)},Jt.useLayoutEffect=function(j,ct){return ut.H.useLayoutEffect(j,ct)},Jt.useMemo=function(j,ct){return ut.H.useMemo(j,ct)},Jt.useOptimistic=function(j,ct){return ut.H.useOptimistic(j,ct)},Jt.useReducer=function(j,ct,Et){return ut.H.useReducer(j,ct,Et)},Jt.useRef=function(j){return ut.H.useRef(j)},Jt.useState=function(j){return ut.H.useState(j)},Jt.useSyncExternalStore=function(j,ct,Et){return ut.H.useSyncExternalStore(j,ct,Et)},Jt.useTransition=function(){return ut.H.useTransition()},Jt.version="19.1.0",Jt}var fb;function A_(){return fb||(fb=1,Wg.exports=IP()),Wg.exports}var N=A_();const tm=Px(N);var Zg={exports:{}},Qc={},Kg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function PP(){return db||(db=1,function(e){function t(lt,Tt){var yt=lt.length;lt.push(Tt);t:for(;0<yt;){var te=yt-1>>>1,j=lt[te];if(0<o(j,Tt))lt[te]=Tt,lt[yt]=j,yt=te;else break t}}function n(lt){return lt.length===0?null:lt[0]}function s(lt){if(lt.length===0)return null;var Tt=lt[0],yt=lt.pop();if(yt!==Tt){lt[0]=yt;t:for(var te=0,j=lt.length,ct=j>>>1;te<ct;){var Et=2*(te+1)-1,vt=lt[Et],wt=Et+1,Pt=lt[wt];if(0>o(vt,yt))wt<j&&0>o(Pt,vt)?(lt[te]=Pt,lt[wt]=yt,te=wt):(lt[te]=vt,lt[Et]=yt,te=Et);else if(wt<j&&0>o(Pt,yt))lt[te]=Pt,lt[wt]=yt,te=wt;else break t}}return Tt}function o(lt,Tt){var yt=lt.sortIndex-Tt.sortIndex;return yt!==0?yt:lt.id-Tt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var y=[],_=[],b=1,A=null,S=3,M=!1,k=!1,B=!1,q=!1,G=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function pt(lt){for(var Tt=n(_);Tt!==null;){if(Tt.callback===null)s(_);else if(Tt.startTime<=lt)s(_),Tt.sortIndex=Tt.expirationTime,t(y,Tt);else break;Tt=n(_)}}function ut(lt){if(B=!1,pt(lt),!k)if(n(y)!==null)k=!0,xt||(xt=!0,$());else{var Tt=n(_);Tt!==null&&je(ut,Tt.startTime-lt)}}var xt=!1,H=-1,O=5,V=-1;function W(){return q?!0:!(e.unstable_now()-V<O)}function Z(){if(q=!1,xt){var lt=e.unstable_now();V=lt;var Tt=!0;try{t:{k=!1,B&&(B=!1,nt(H),H=-1),M=!0;var yt=S;try{e:{for(pt(lt),A=n(y);A!==null&&!(A.expirationTime>lt&&W());){var te=A.callback;if(typeof te=="function"){A.callback=null,S=A.priorityLevel;var j=te(A.expirationTime<=lt);if(lt=e.unstable_now(),typeof j=="function"){A.callback=j,pt(lt),Tt=!0;break e}A===n(y)&&s(y),pt(lt)}else s(y);A=n(y)}if(A!==null)Tt=!0;else{var ct=n(_);ct!==null&&je(ut,ct.startTime-lt),Tt=!1}}break t}finally{A=null,S=yt,M=!1}Tt=void 0}}finally{Tt?$():xt=!1}}}var $;if(typeof K=="function")$=function(){K(Z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Se=F.port2;F.port1.onmessage=Z,$=function(){Se.postMessage(null)}}else $=function(){G(Z,0)};function je(lt,Tt){H=G(function(){lt(e.unstable_now())},Tt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(lt){lt.callback=null},e.unstable_forceFrameRate=function(lt){0>lt||125<lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<lt?Math.floor(1e3/lt):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(lt){switch(S){case 1:case 2:case 3:var Tt=3;break;default:Tt=S}var yt=S;S=Tt;try{return lt()}finally{S=yt}},e.unstable_requestPaint=function(){q=!0},e.unstable_runWithPriority=function(lt,Tt){switch(lt){case 1:case 2:case 3:case 4:case 5:break;default:lt=3}var yt=S;S=lt;try{return Tt()}finally{S=yt}},e.unstable_scheduleCallback=function(lt,Tt,yt){var te=e.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?te+yt:te):yt=te,lt){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=yt+j,lt={id:b++,callback:Tt,priorityLevel:lt,startTime:yt,expirationTime:j,sortIndex:-1},yt>te?(lt.sortIndex=yt,t(_,lt),n(y)===null&&lt===n(_)&&(B?(nt(H),H=-1):B=!0,je(ut,yt-te))):(lt.sortIndex=j,t(y,lt),k||M||(k=!0,xt||(xt=!0,$()))),lt},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(lt){var Tt=S;return function(){var yt=S;S=Tt;try{return lt.apply(this,arguments)}finally{S=yt}}}}(Yg)),Yg}var mb;function LP(){return mb||(mb=1,Kg.exports=PP()),Kg.exports}var $g={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function MP(){if(pb)return ci;pb=1;var e=A_();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ci.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,b)},ci.flushSync=function(y){var _=f.T,b=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=b,s.d.f()}},ci.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},ci.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ci.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=m(b,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,M=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:M}):b==="script"&&s.d.X(y,{crossOrigin:A,integrity:S,fetchPriority:M,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ci.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=m(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},ci.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=m(b,_.crossOrigin);s.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ci.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=m(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},ci.requestFormReset=function(y){s.d.r(y)},ci.unstable_batchedUpdates=function(y,_){return y(_)},ci.useFormState=function(y,_,b){return f.H.useFormState(y,_,b)},ci.useFormStatus=function(){return f.H.useHostTransitionStatus()},ci.version="19.1.0",ci}var gb;function Lx(){if(gb)return $g.exports;gb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$g.exports=MP(),$g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function DP(){if(yb)return Qc;yb=1;var e=LP(),t=A_(),n=Lx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return m(g),i;if(v===h)return m(g),r;v=v.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=v;else{for(var C=!1,P=g.child;P;){if(P===l){C=!0,l=g,h=v;break}if(P===h){C=!0,h=g,l=v;break}P=P.sibling}if(!C){for(P=v.child;P;){if(P===l){C=!0,l=v,h=g;break}if(P===h){C=!0,h=v,l=g;break}P=P.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),K=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case q:return"Profiler";case B:return"StrictMode";case ut:return"Suspense";case xt:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case K:return(i.displayName||"Context")+".Provider";case nt:return(i._context.displayName||"Context")+".Consumer";case pt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return r=i.displayName||null,r!==null?r:Se(i.type)||"Memo";case O:r=i._payload,i=i._init;try{return Se(i(r))}catch{}}return null}var je=Array.isArray,lt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},te=[],j=-1;function ct(i){return{current:i}}function Et(i){0>j||(i.current=te[j],te[j]=null,j--)}function vt(i,r){j++,te[j]=i.current,i.current=r}var wt=ct(null),Pt=ct(null),St=ct(null),Ee=ct(null);function ee(i,r){switch(vt(St,r),vt(Pt,i),vt(wt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?VE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=VE(r),i=jE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Et(wt),vt(wt,i)}function Dn(){Et(wt),Et(Pt),Et(St)}function sn(i){i.memoizedState!==null&&vt(Ee,i);var r=wt.current,l=jE(r,i.type);r!==l&&(vt(Pt,i),vt(wt,l))}function ei(i){Pt.current===i&&(Et(wt),Et(Pt)),Ee.current===i&&(Et(Ee),Wc._currentValue=yt)}var pe=Object.prototype.hasOwnProperty,ni=e.unstable_scheduleCallback,Nn=e.unstable_cancelCallback,ps=e.unstable_shouldYield,Gr=e.unstable_requestPaint,xn=e.unstable_now,ve=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,Ge=e.unstable_UserBlockingPriority,gi=e.unstable_NormalPriority,Ri=e.unstable_LowPriority,Zi=e.unstable_IdlePriority,On=e.log,Ki=e.unstable_setDisableYieldValue,Te=null,re=null;function An(i){if(typeof On=="function"&&Ki(i),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(Te,i)}catch{}}var Ke=Math.clz32?Math.clz32:$i,gs=Math.log,Yi=Math.LN2;function $i(i){return i>>>=0,i===0?32:31-(gs(i)/Yi|0)|0}var Ci=256,yi=4194304;function pn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ys(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var P=h&134217727;return P!==0?(h=P&~v,h!==0?g=pn(h):(C&=P,C!==0?g=pn(C):l||(l=P&~i,l!==0&&(g=pn(l))))):(P=h&~v,P!==0?g=pn(P):C!==0?g=pn(C):l||(l=h&~i,l!==0&&(g=pn(l)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:g}function _i(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ii(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var i=Ci;return Ci<<=1,(Ci&4194048)===0&&(Ci=256),i}function pr(){var i=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),i}function Pi(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Li(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wr(i,r,l,h,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,z=i.expirationTimes,et=i.hiddenUpdates;for(l=C&~l;0<l;){var ht=31-Ke(l),mt=1<<ht;P[ht]=0,z[ht]=-1;var st=et[ht];if(st!==null)for(et[ht]=null,ht=0;ht<st.length;ht++){var rt=st[ht];rt!==null&&(rt.lane&=-536870913)}l&=~mt}h!==0&&Mi(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function Mi(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Ke(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Zr(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Ke(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function _s(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function it(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function It(){var i=Tt.p;return i!==0?i:(i=window.event,i===void 0?32:ib(i.type))}function jt(i,r){var l=Tt.p;try{return Tt.p=i,r()}finally{Tt.p=l}}var Mt=Math.random().toString(36).slice(2),$t="__reactFiber$"+Mt,ae="__reactProps$"+Mt,me="__reactContainer$"+Mt,Ue="__reactEvents$"+Mt,Ct="__reactListeners$"+Mt,Di="__reactHandles$"+Mt,vs="__reactResources$"+Mt,ii="__reactMarker$"+Mt;function Ts(i){delete i[$t],delete i[ae],delete i[Ue],delete i[Ct],delete i[Di]}function si(i){var r=i[$t];if(r)return r;for(var l=i.parentNode;l;){if(r=l[me]||l[$t]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=FE(i);i!==null;){if(l=i[$t])return l;i=FE(i)}return r}i=l,l=i.parentNode}return null}function Xi(i){if(i=i[$t]||i[me]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Wn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function kn(i){var r=i[vs];return r||(r=i[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qe(i){i[ii]=!0}var Yo=new Set,Ma={};function Qi(i,r){Es(i,r),Es(i+"Capture",r)}function Es(i,r){for(Ma[i]=r,i=0;i<r.length;i++)Yo.add(r[i])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kr={},Yr={};function Bl(i){return pe.call(Yr,i)?!0:pe.call(Kr,i)?!1:zl.test(i)?Yr[i]=!0:(Kr[i]=!0,!1)}function gr(i,r,l){if(Bl(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function bs(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Rn(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var Gs,yr;function ws(i){if(Gs===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Gs=r&&r[1]||"",yr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+i+yr}var $r=!1;function Ss(i,r){if(!i||$r)return"";$r=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(rt){var st=rt}Reflect.construct(i,[],mt)}else{try{mt.call()}catch(rt){st=rt}i.call(mt.prototype)}}else{try{throw Error()}catch(rt){st=rt}(mt=i())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(rt){if(rt&&st&&typeof rt.stack=="string")return[rt.stack,st.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],P=v[1];if(C&&P){var z=C.split(`
`),et=P.split(`
`);for(g=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;g<et.length&&!et[g].includes("DetermineComponentFrameRoot");)g++;if(h===z.length||g===et.length)for(h=z.length-1,g=et.length-1;1<=h&&0<=g&&z[h]!==et[g];)g--;for(;1<=h&&0<=g;h--,g--)if(z[h]!==et[g]){if(h!==1||g!==1)do if(h--,g--,0>g||z[h]!==et[g]){var ht=`
`+z[h].replace(" at new "," at ");return i.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",i.displayName)),ht}while(1<=h&&0<=g);break}}}finally{$r=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ws(l):""}function ie(i){switch(i.tag){case 26:case 27:case 5:return ws(i.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return Ss(i.type,!1);case 11:return Ss(i.type.render,!1);case 1:return Ss(i.type,!0);case 31:return ws("Activity");default:return""}}function xe(i){try{var r="";do r+=ie(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _r(i){var r=xs(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function vr(i){i._valueTracker||(i._valueTracker=_r(i))}function Kt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=xs(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ce(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var $o=/[\n"\\]/g;function We(i){return i.replace($o,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ze(i,r,l,h,g,v,C,P){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+gn(r)):i.value!==""+gn(r)&&(i.value=""+gn(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?Ji(i,C,gn(r)):l!=null?Ji(i,C,gn(l)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+gn(P):i.removeAttribute("name")}function Xr(i,r,l,h,g,v,C,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+gn(l):"",r=r!=null?""+gn(r):l,P||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=P?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Ji(i,r,l){r==="number"&&Ce(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Zn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Ft(i,r,l){if(r!=null&&(r=""+gn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+gn(l):""}function vi(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(je(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=gn(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Vn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Da(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||ts.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Ws(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&Da(i,g,h)}else for(var v in r)r.hasOwnProperty(v)&&Da(i,v,r[v])}function Qr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(i){return Na.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var es=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var As=null,ns=null;function Qo(i){var r=Xi(i);if(r&&(i=r.stateNode)){var l=i[ae]||null;t:switch(i=r.stateNode,r.type){case"input":if(ze(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+We(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[ae]||null;if(!g)throw Error(s(90));ze(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Kt(h)}break t;case"textarea":Ft(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Zn(i,!!l.multiple,r,!1)}}}var Ut=!1;function Ti(i,r,l){if(Ut)return i(r,l);Ut=!0;try{var h=i(r);return h}finally{if(Ut=!1,(As!==null||ns!==null)&&(Qf(),As&&(r=As,i=ns,ns=As=null,Qo(r),i)))for(r=0;r<i.length;r++)Qo(i[r])}}function ge(i,r){var l=i.stateNode;if(l===null)return null;var h=l[ae]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(Ni)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{ri=!1}var Oi=null,ai=null,is=null;function Ks(){if(is)return is;var i,r=ai,l=r.length,h,g="value"in Oi?Oi.value:Oi.textContent,v=g.length;for(i=0;i<l&&r[i]===g[i];i++);var C=l-i;for(h=1;h<=C&&r[l-h]===g[v-h];h++);return is=g.slice(i,1<h?1-h:void 0)}function Me(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function jn(){return!0}function Oa(){return!1}function cn(i){function r(l,h,g,v,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?jn:Oa,this.isPropagationStopped=Oa,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),r}var be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=cn(be),Ys=b({},be,{view:0,detail:0}),Fl=cn(Ys),ta,Qt,Rs,Cn=b({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rs&&(Rs&&i.type==="mousemove"?(ta=i.screenX-Rs.screenX,Qt=i.screenY-Rs.screenY):Qt=ta=0,Rs=i),ta)},movementY:function(i){return"movementY"in i?i.movementY:Qt}}),Un=cn(Cn),Jo=b({},Cn,{dataTransfer:0}),uc=cn(Jo),$s=b({},Ys,{relatedTarget:0}),ka=cn($s),Va=b({},be,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=cn(Va),Hl=b({},be,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Er=cn(Hl),cc=b({},be,{data:0}),oi=cn(cc),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ss={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ss[i])?!!r[i]:!1}function br(){return Ua}var za=b({},Ys,{key:function(i){if(i.key){var r=ea[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Me(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(i){return i.type==="keypress"?Me(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Me(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=cn(za),el=b({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fa=cn(el),Xs=b({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),ql=cn(Xs),Ha=b({},be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=cn(Ha),nl=b({},Cn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),na=cn(nl),yn=b({},be,{newState:0,oldState:0}),Cs=cn(yn),Wl=[9,13,27,32],li=Ni&&"CompositionEvent"in window,d=null;Ni&&"documentMode"in document&&(d=document.documentMode);var w=Ni&&"TextEvent"in window&&!d,R=Ni&&(!li||d&&8<d&&11>=d),D=" ",Q=!1;function ot(i,r){switch(i){case"keyup":return Wl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ue=!1;function rn(i,r){switch(i){case"compositionend":return bt(r);case"keypress":return r.which!==32?null:(Q=!0,D);case"textInput":return i=r.data,i===D&&Q?null:i;default:return null}}function ce(i,r){if(ue)return i==="compositionend"||!li&&ot(i,r)?(i=Ks(),is=ai=Oi=null,ue=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R&&r.locale!=="ko"?null:r.data;default:return null}}var Ae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ae[i.type]:r==="textarea"}function Qs(i,r,l,h){As?ns?ns.push(h):ns=[h]:As=h,r=sd(r,"onChange"),0<r.length&&(l=new Jr("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var ke=null,Is=null;function Ps(i){ME(i,0)}function Zl(i){var r=Wn(i);if(Kt(r))return i}function qa(i,r){if(i==="change")return r}var hc=!1;if(Ni){var Ga;if(Ni){var fc="oninput"in document;if(!fc){var Js=document.createElement("div");Js.setAttribute("oninput","return;"),fc=typeof Js.oninput=="function"}Ga=fc}else Ga=!1;hc=Ga&&(!document.documentMode||9<document.documentMode)}function il(){ke&&(ke.detachEvent("onpropertychange",yf),Is=ke=null)}function yf(i){if(i.propertyName==="value"&&Zl(Is)){var r=[];Qs(r,Is,i,Kn(i)),Ti(Ps,r)}}function dc(i,r,l){i==="focusin"?(il(),ke=r,Is=l,ke.attachEvent("onpropertychange",yf)):i==="focusout"&&il()}function pp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zl(Is)}function tr(i,r){if(i==="click")return Zl(r)}function gp(i,r){if(i==="input"||i==="change")return Zl(r)}function Wa(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ei=typeof Object.is=="function"?Object.is:Wa;function bi(i,r){if(Ei(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!pe.call(r,g)||!Ei(i[g],r[g]))return!1}return!0}function sl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mc(i,r){var l=sl(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=sl(l)}}function Kl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Kl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function rl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ce(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ce(i.document)}return r}function al(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Yl=Ni&&"documentMode"in document&&11>=document.documentMode,rs=null,Za=null,ia=null,$l=!1;function _f(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$l||rs==null||rs!==Ce(h)||(h=rs,"selectionStart"in h&&al(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ia&&bi(ia,h)||(ia=h,h=sd(Za,"onSelect"),0<h.length&&(r=new Jr("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=rs)))}function Ls(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Ka={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Xl={},vf={};Ni&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function wr(i){if(Xl[i])return Xl[i];if(!Ka[i])return i;var r=Ka[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in vf)return Xl[i]=r[l];return i}var Tf=wr("animationend"),as=wr("animationiteration"),ol=wr("animationstart"),yp=wr("transitionrun"),Ql=wr("transitionstart"),_p=wr("transitioncancel"),pc=wr("transitionend"),Ef=new Map,sa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sa.push("scrollEnd");function os(i,r){Ef.set(i,r),Qi(r,[i])}var ra=new WeakMap;function wi(i,r){if(typeof i=="object"&&i!==null){var l=ra.get(i);return l!==void 0?l:(r={value:i,source:r,stack:xe(r)},ra.set(i,r),r)}return{value:i,source:r,stack:xe(r)}}var Si=[],Ya=0,ls=0;function ll(){for(var i=Ya,r=ls=Ya=0;r<i;){var l=Si[r];Si[r++]=null;var h=Si[r];Si[r++]=null;var g=Si[r];Si[r++]=null;var v=Si[r];if(Si[r++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}v!==0&&cl(l,g,v)}}function ul(i,r,l,h){Si[Ya++]=i,Si[Ya++]=r,Si[Ya++]=l,Si[Ya++]=h,ls|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function aa(i,r,l,h){return ul(i,r,l,h),Sr(i)}function $a(i,r){return ul(i,null,null,r),Sr(i)}function cl(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-Ke(l),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),v):null}function Sr(i){if(50<jc)throw jc=0,pg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var oa={};function bf(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(i,r,l,h){return new bf(i,r,l,h)}function Jl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ms(i,r){var l=i.alternate;return l===null?(l=xi(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function gc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hl(i,r,l,h,g,v){var C=0;if(h=i,typeof i=="function")Jl(i)&&(C=1);else if(typeof i=="string")C=mP(i,l,wt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case V:return i=xi(31,l,r,g),i.elementType=V,i.lanes=v,i;case k:return xr(l.children,g,v,r);case B:C=8,g|=24;break;case q:return i=xi(12,l,r,g|2),i.elementType=q,i.lanes=v,i;case ut:return i=xi(13,l,r,g),i.elementType=ut,i.lanes=v,i;case xt:return i=xi(19,l,r,g),i.elementType=xt,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:case K:C=10;break t;case nt:C=9;break t;case pt:C=11;break t;case H:C=14;break t;case O:C=16,h=null;break t}C=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=xi(C,l,r,g),r.elementType=i,r.type=h,r.lanes=v,r}function xr(i,r,l,h){return i=xi(7,i,h,r),i.lanes=l,i}function yc(i,r,l){return i=xi(6,i,null,r),i.lanes=l,i}function tu(i,r,l){return r=xi(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var la=[],Xa=0,a=null,c=0,p=[],T=0,x=null,I=1,U="";function J(i,r){la[Xa++]=c,la[Xa++]=a,a=i,c=r}function at(i,r,l){p[T++]=I,p[T++]=U,p[T++]=x,x=i;var h=I;i=U;var g=32-Ke(h)-1;h&=~(1<<g),l+=1;var v=32-Ke(r)+g;if(30<v){var C=g-g%5;v=(h&(1<<C)-1).toString(32),h>>=C,g-=C,I=1<<32-Ke(r)+g|l<<g|h,U=v+i}else I=1<<v|l<<g|h,U=i}function _t(i){i.return!==null&&(J(i,1),at(i,1,0))}function Rt(i){for(;i===a;)a=la[--Xa],la[Xa]=null,c=la[--Xa],la[Xa]=null;for(;i===x;)x=p[--T],p[T]=null,U=p[--T],p[T]=null,I=p[--T],p[T]=null}var Dt=null,Ot=null,Zt=!1,Fe=null,Je=!1,zn=Error(s(519));function ki(i){var r=Error(s(418,""));throw Ja(wi(r,i)),zn}function wf(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[$t]=i,r[ae]=h,l){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(l=0;l<zc.length;l++)le(zc[l],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":le("invalid",r),Xr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),vr(r);break;case"select":le("invalid",r);break;case"textarea":le("invalid",r),vi(r,h.value,h.defaultValue,h.children),vr(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||kE(r.textContent,l)?(h.popover!=null&&(le("beforetoggle",r),le("toggle",r)),h.onScroll!=null&&le("scroll",r),h.onScrollEnd!=null&&le("scrollend",r),h.onClick!=null&&(r.onclick=rd),r=!0):r=!1,r||ki(i)}function Sf(i){for(Dt=i.return;Dt;)switch(Dt.tag){case 5:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:Dt=Dt.return}}function fl(i){if(i!==Dt)return!1;if(!Zt)return Sf(i),Zt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Lg(i.type,i.memoizedProps)),l=!l),l&&Ot&&ki(i),Sf(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Ot=sr(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Ot=null}}else r===27?(r=Ot,po(i.type)?(i=Og,Og=null,Ot=i):Ot=r):Ot=Dt?sr(i.stateNode.nextSibling):null;return!0}function Qa(){Ot=Dt=null,Zt=!1}function xf(){var i=Fe;return i!==null&&(Ui===null?Ui=i:Ui.push.apply(Ui,i),Fe=null),i}function Ja(i){Fe===null?Fe=[i]:Fe.push(i)}var Ye=ct(null),Ds=null,er=null;function Ar(i,r,l){vt(Ye,r._currentValue),r._currentValue=l}function nr(i){i._currentValue=Ye.current,Et(Ye)}function dl(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function eu(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var P=v;v=g;for(var z=0;z<r.length;z++)if(P.context===r[z]){v.lanes|=l,P=v.alternate,P!==null&&(P.lanes|=l),dl(v.return,l,i),h||(C=null);break t}v=P.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(s(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),dl(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function ml(i,r,l,h){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var P=g.type;Ei(g.pendingProps.value,C.value)||(i!==null?i.push(P):i=[P])}}else if(g===Ee.current){if(C=g.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Wc):i=[Wc])}g=g.return}i!==null&&eu(r,i,l,h),r.flags|=262144}function Af(i){for(i=i.firstContext;i!==null;){if(!Ei(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pl(i){Ds=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ui(i){return b0(Ds,i)}function Rf(i,r){return Ds===null&&pl(i),b0(i,r)}function b0(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},er===null){if(i===null)throw Error(s(308));er=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else er=er.next=r;return l}var dI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},mI=e.unstable_scheduleCallback,pI=e.unstable_NormalPriority,In={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vp(){return{controller:new dI,data:new Map,refCount:0}}function _c(i){i.refCount--,i.refCount===0&&mI(pI,function(){i.controller.abort()})}var vc=null,Tp=0,nu=0,iu=null;function gI(i,r){if(vc===null){var l=vc=[];Tp=0,nu=bg(),iu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Tp++,r.then(w0,w0),r}function w0(){if(--Tp===0&&vc!==null){iu!==null&&(iu.status="fulfilled");var i=vc;vc=null,nu=0,iu=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function yI(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var S0=lt.S;lt.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&gI(i,r),S0!==null&&S0(i,r)};var gl=ct(null);function Ep(){var i=gl.current;return i!==null?i:He.pooledCache}function Cf(i,r){r===null?vt(gl,gl.current):vt(gl,r.pool)}function x0(){var i=Ep();return i===null?null:{parent:In._currentValue,pool:i}}var Tc=Error(s(460)),A0=Error(s(474)),If=Error(s(542)),bp={then:function(){}};function R0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pf(){}function C0(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Pf,Pf),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,P0(i),i;default:if(typeof r.status=="string")r.then(Pf,Pf);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,P0(i),i}throw Ec=r,Tc}}var Ec=null;function I0(){if(Ec===null)throw Error(s(459));var i=Ec;return Ec=null,i}function P0(i){if(i===Tc||i===If)throw Error(s(483))}var to=!1;function wp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function no(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ie&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=Sr(i),cl(i,null,l),r}return ul(i,h,r,l),Sr(i)}function bc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Zr(i,l)}}function xp(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=r:v=v.next=r}else g=v=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Ap=!1;function wc(){if(Ap){var i=iu;if(i!==null)throw i}}function Sc(i,r,l,h){Ap=!1;var g=i.updateQueue;to=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var z=P,et=z.next;z.next=null,C===null?v=et:C.next=et,C=z;var ht=i.alternate;ht!==null&&(ht=ht.updateQueue,P=ht.lastBaseUpdate,P!==C&&(P===null?ht.firstBaseUpdate=et:P.next=et,ht.lastBaseUpdate=z))}if(v!==null){var mt=g.baseState;C=0,ht=et=z=null,P=v;do{var st=P.lane&-536870913,rt=st!==P.lane;if(rt?(ye&st)===st:(h&st)===st){st!==0&&st===nu&&(Ap=!0),ht!==null&&(ht=ht.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Gt=i,zt=P;st=r;var Oe=l;switch(zt.tag){case 1:if(Gt=zt.payload,typeof Gt=="function"){mt=Gt.call(Oe,mt,st);break t}mt=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=zt.payload,st=typeof Gt=="function"?Gt.call(Oe,mt,st):Gt,st==null)break t;mt=b({},mt,st);break t;case 2:to=!0}}st=P.callback,st!==null&&(i.flags|=64,rt&&(i.flags|=8192),rt=g.callbacks,rt===null?g.callbacks=[st]:rt.push(st))}else rt={lane:st,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ht===null?(et=ht=rt,z=mt):ht=ht.next=rt,C|=st;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;rt=P,P=rt.next,rt.next=null,g.lastBaseUpdate=rt,g.shared.pending=null}}while(!0);ht===null&&(z=mt),g.baseState=z,g.firstBaseUpdate=et,g.lastBaseUpdate=ht,v===null&&(g.shared.lanes=0),co|=C,i.lanes=C,i.memoizedState=mt}}function L0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function M0(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)L0(l[i],r)}var su=ct(null),Lf=ct(0);function D0(i,r){i=pa,vt(Lf,i),vt(su,r),pa=i|r.baseLanes}function Rp(){vt(Lf,pa),vt(su,su.current)}function Cp(){pa=Lf.current,Et(su),Et(Lf)}var io=0,ne=null,De=null,_n=null,Mf=!1,ru=!1,yl=!1,Df=0,xc=0,au=null,_I=0;function hn(){throw Error(s(321))}function Ip(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Ei(i[l],r[l]))return!1;return!0}function Pp(i,r,l,h,g,v){return io=v,ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,lt.H=i===null||i.memoizedState===null?gT:yT,yl=!1,v=l(h,g),yl=!1,ru&&(v=O0(r,l,h,g)),N0(i),v}function N0(i){lt.H=Uf;var r=De!==null&&De.next!==null;if(io=0,_n=De=ne=null,Mf=!1,xc=0,au=null,r)throw Error(s(300));i===null||Bn||(i=i.dependencies,i!==null&&Af(i)&&(Bn=!0))}function O0(i,r,l,h){ne=i;var g=0;do{if(ru&&(au=null),xc=0,ru=!1,25<=g)throw Error(s(301));if(g+=1,_n=De=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}lt.H=xI,v=r(l,h)}while(ru);return v}function vI(){var i=lt.H,r=i.useState()[0];return r=typeof r.then=="function"?Ac(r):r,i=i.useState()[0],(De!==null?De.memoizedState:null)!==i&&(ne.flags|=1024),r}function Lp(){var i=Df!==0;return Df=0,i}function Mp(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Dp(i){if(Mf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Mf=!1}io=0,_n=De=ne=null,ru=!1,xc=Df=0,au=null}function Vi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ne.memoizedState=_n=i:_n=_n.next=i,_n}function vn(){if(De===null){var i=ne.alternate;i=i!==null?i.memoizedState:null}else i=De.next;var r=_n===null?ne.memoizedState:_n.next;if(r!==null)_n=r,De=i;else{if(i===null)throw ne.alternate===null?Error(s(467)):Error(s(310));De=i,i={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},_n===null?ne.memoizedState=_n=i:_n=_n.next=i}return _n}function Np(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(i){var r=xc;return xc+=1,au===null&&(au=[]),i=C0(au,i,r),r=ne,(_n===null?r.memoizedState:_n.next)===null&&(r=r.alternate,lt.H=r===null||r.memoizedState===null?gT:yT),i}function Nf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ac(i);if(i.$$typeof===K)return ui(i)}throw Error(s(438,String(i)))}function Op(i){var r=null,l=ne.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=ne.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Np(),ne.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=W;return r.index++,l}function ua(i,r){return typeof r=="function"?r(i):r}function Of(i){var r=vn();return kp(r,De,i)}function kp(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}r.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var P=C=null,z=null,et=r,ht=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(ye&mt)===mt:(io&mt)===mt){var st=et.revertLane;if(st===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===nu&&(ht=!0);else if((io&st)===st){et=et.next,st===nu&&(ht=!0);continue}else mt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},z===null?(P=z=mt,C=v):z=z.next=mt,ne.lanes|=st,co|=st;mt=et.action,yl&&l(v,mt),v=et.hasEagerState?et.eagerState:l(v,mt)}else st={lane:mt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},z===null?(P=z=st,C=v):z=z.next=st,ne.lanes|=mt,co|=mt;et=et.next}while(et!==null&&et!==r);if(z===null?C=v:z.next=P,!Ei(v,i.memoizedState)&&(Bn=!0,ht&&(l=iu,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=z,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Vp(i){var r=vn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,v=r.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);Ei(v,r.memoizedState)||(Bn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,h]}function k0(i,r,l){var h=ne,g=vn(),v=Zt;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var C=!Ei((De||g).memoizedState,l);C&&(g.memoizedState=l,Bn=!0),g=g.queue;var P=U0.bind(null,h,g,i);if(Rc(2048,8,P,[i]),g.getSnapshot!==r||C||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,ou(9,kf(),j0.bind(null,h,g,l,r),null),He===null)throw Error(s(349));v||(io&124)!==0||V0(h,r,l)}return l}function V0(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=ne.updateQueue,r===null?(r=Np(),ne.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function j0(i,r,l,h){r.value=l,r.getSnapshot=h,z0(r)&&B0(i)}function U0(i,r,l){return l(function(){z0(r)&&B0(i)})}function z0(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Ei(i,l)}catch{return!0}}function B0(i){var r=$a(i,2);r!==null&&ds(r,i,2)}function jp(i){var r=Vi();if(typeof i=="function"){var l=i;if(i=l(),yl){An(!0);try{l()}finally{An(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:i},r}function F0(i,r,l,h){return i.baseState=l,kp(i,De,typeof h=="function"?h:ua)}function TI(i,r,l,h,g){if(jf(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};lt.T!==null?l(!0):v.isTransition=!1,h(v),l=r.pending,l===null?(v.next=r.pending=v,H0(r,v)):(v.next=l.next,r.pending=l.next=v)}}function H0(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var v=lt.T,C={};lt.T=C;try{var P=l(g,h),z=lt.S;z!==null&&z(C,P),q0(i,r,P)}catch(et){Up(i,r,et)}finally{lt.T=v}}else try{v=l(g,h),q0(i,r,v)}catch(et){Up(i,r,et)}}function q0(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){G0(i,r,h)},function(h){return Up(i,r,h)}):G0(i,r,l)}function G0(i,r,l){r.status="fulfilled",r.value=l,W0(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,H0(i,l)))}function Up(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,W0(r),r=r.next;while(r!==h)}i.action=null}function W0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Z0(i,r){return r}function K0(i,r){if(Zt){var l=He.formState;if(l!==null){t:{var h=ne;if(Zt){if(Ot){e:{for(var g=Ot,v=Je;g.nodeType!==8;){if(!v){g=null;break e}if(g=sr(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ot=sr(g.nextSibling),h=g.data==="F!";break t}}ki(h)}h=!1}h&&(r=l[0])}}return l=Vi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:r},l.queue=h,l=dT.bind(null,ne,h),h.dispatch=l,h=jp(!1),v=qp.bind(null,ne,!1,h.queue),h=Vi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=TI.bind(null,ne,g,v,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function Y0(i){var r=vn();return $0(r,De,i)}function $0(i,r,l){if(r=kp(i,r,Z0)[0],i=Of(ua)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Ac(r)}catch(C){throw C===Tc?If:C}else h=r;r=vn();var g=r.queue,v=g.dispatch;return l!==r.memoizedState&&(ne.flags|=2048,ou(9,kf(),EI.bind(null,g,l),null)),[h,v,i]}function EI(i,r){i.action=r}function X0(i){var r=vn(),l=De;if(l!==null)return $0(r,l,i);vn(),r=r.memoizedState,l=vn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function ou(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=ne.updateQueue,r===null&&(r=Np(),ne.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function kf(){return{destroy:void 0,resource:void 0}}function Q0(){return vn().memoizedState}function Vf(i,r,l,h){var g=Vi();h=h===void 0?null:h,ne.flags|=i,g.memoizedState=ou(1|r,kf(),l,h)}function Rc(i,r,l,h){var g=vn();h=h===void 0?null:h;var v=g.memoizedState.inst;De!==null&&h!==null&&Ip(h,De.memoizedState.deps)?g.memoizedState=ou(r,v,l,h):(ne.flags|=i,g.memoizedState=ou(1|r,v,l,h))}function J0(i,r){Vf(8390656,8,i,r)}function tT(i,r){Rc(2048,8,i,r)}function eT(i,r){return Rc(4,2,i,r)}function nT(i,r){return Rc(4,4,i,r)}function iT(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function sT(i,r,l){l=l!=null?l.concat([i]):null,Rc(4,4,iT.bind(null,r,i),l)}function zp(){}function rT(i,r){var l=vn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Ip(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function aT(i,r){var l=vn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Ip(r,h[1]))return h[0];if(h=i(),yl){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[h,r],h}function Bp(i,r,l){return l===void 0||(io&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=uE(),ne.lanes|=i,co|=i,l)}function oT(i,r,l,h){return Ei(l,r)?l:su.current!==null?(i=Bp(i,l,h),Ei(i,r)||(Bn=!0),i):(io&42)===0?(Bn=!0,i.memoizedState=l):(i=uE(),ne.lanes|=i,co|=i,r)}function lT(i,r,l,h,g){var v=Tt.p;Tt.p=v!==0&&8>v?v:8;var C=lt.T,P={};lt.T=P,qp(i,!1,r,l);try{var z=g(),et=lt.S;if(et!==null&&et(P,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ht=yI(z,h);Cc(i,r,ht,fs(i))}else Cc(i,r,h,fs(i))}catch(mt){Cc(i,r,{then:function(){},status:"rejected",reason:mt},fs())}finally{Tt.p=v,lt.T=C}}function bI(){}function Fp(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=uT(i).queue;lT(i,g,r,yt,l===null?bI:function(){return cT(i),l(h)})}function uT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:yt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function cT(i){var r=uT(i).next.queue;Cc(i,r,{},fs())}function Hp(){return ui(Wc)}function hT(){return vn().memoizedState}function fT(){return vn().memoizedState}function wI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=fs();i=eo(l);var h=no(r,i,l);h!==null&&(ds(h,r,l),bc(h,r,l)),r={cache:vp()},i.payload=r;return}r=r.return}}function SI(i,r,l){var h=fs();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jf(i)?mT(r,l):(l=aa(i,r,l,h),l!==null&&(ds(l,i,h),pT(l,r,h)))}function dT(i,r,l){var h=fs();Cc(i,r,l,h)}function Cc(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jf(i))mT(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,P=v(C,l);if(g.hasEagerState=!0,g.eagerState=P,Ei(P,C))return ul(i,r,g,0),He===null&&ll(),!1}catch{}finally{}if(l=aa(i,r,g,h),l!==null)return ds(l,i,h),pT(l,r,h),!0}return!1}function qp(i,r,l,h){if(h={lane:2,revertLane:bg(),action:h,hasEagerState:!1,eagerState:null,next:null},jf(i)){if(r)throw Error(s(479))}else r=aa(i,l,h,2),r!==null&&ds(r,i,2)}function jf(i){var r=i.alternate;return i===ne||r!==null&&r===ne}function mT(i,r){ru=Mf=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function pT(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Zr(i,l)}}var Uf={readContext:ui,use:Nf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},gT={readContext:ui,use:Nf,useCallback:function(i,r){return Vi().memoizedState=[i,r===void 0?null:r],i},useContext:ui,useEffect:J0,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Vf(4194308,4,iT.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Vf(4194308,4,i,r)},useInsertionEffect:function(i,r){Vf(4,2,i,r)},useMemo:function(i,r){var l=Vi();r=r===void 0?null:r;var h=i();if(yl){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=Vi();if(l!==void 0){var g=l(r);if(yl){An(!0);try{l(r)}finally{An(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=SI.bind(null,ne,i),[h.memoizedState,i]},useRef:function(i){var r=Vi();return i={current:i},r.memoizedState=i},useState:function(i){i=jp(i);var r=i.queue,l=dT.bind(null,ne,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:zp,useDeferredValue:function(i,r){var l=Vi();return Bp(l,i,r)},useTransition:function(){var i=jp(!1);return i=lT.bind(null,ne,i.queue,!0,!1),Vi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=ne,g=Vi();if(Zt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),He===null)throw Error(s(349));(ye&124)!==0||V0(h,r,l)}g.memoizedState=l;var v={value:l,getSnapshot:r};return g.queue=v,J0(U0.bind(null,h,v,i),[i]),h.flags|=2048,ou(9,kf(),j0.bind(null,h,v,l,r),null),l},useId:function(){var i=Vi(),r=He.identifierPrefix;if(Zt){var l=U,h=I;l=(h&~(1<<32-Ke(h)-1)).toString(32)+l,r="«"+r+"R"+l,l=Df++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=_I++,r="«"+r+"r"+l.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Hp,useFormState:K0,useActionState:K0,useOptimistic:function(i){var r=Vi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=qp.bind(null,ne,!0,l),l.dispatch=r,[i,r]},useMemoCache:Op,useCacheRefresh:function(){return Vi().memoizedState=wI.bind(null,ne)}},yT={readContext:ui,use:Nf,useCallback:rT,useContext:ui,useEffect:tT,useImperativeHandle:sT,useInsertionEffect:eT,useLayoutEffect:nT,useMemo:aT,useReducer:Of,useRef:Q0,useState:function(){return Of(ua)},useDebugValue:zp,useDeferredValue:function(i,r){var l=vn();return oT(l,De.memoizedState,i,r)},useTransition:function(){var i=Of(ua)[0],r=vn().memoizedState;return[typeof i=="boolean"?i:Ac(i),r]},useSyncExternalStore:k0,useId:hT,useHostTransitionStatus:Hp,useFormState:Y0,useActionState:Y0,useOptimistic:function(i,r){var l=vn();return F0(l,De,i,r)},useMemoCache:Op,useCacheRefresh:fT},xI={readContext:ui,use:Nf,useCallback:rT,useContext:ui,useEffect:tT,useImperativeHandle:sT,useInsertionEffect:eT,useLayoutEffect:nT,useMemo:aT,useReducer:Vp,useRef:Q0,useState:function(){return Vp(ua)},useDebugValue:zp,useDeferredValue:function(i,r){var l=vn();return De===null?Bp(l,i,r):oT(l,De.memoizedState,i,r)},useTransition:function(){var i=Vp(ua)[0],r=vn().memoizedState;return[typeof i=="boolean"?i:Ac(i),r]},useSyncExternalStore:k0,useId:hT,useHostTransitionStatus:Hp,useFormState:X0,useActionState:X0,useOptimistic:function(i,r){var l=vn();return De!==null?F0(l,De,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Op,useCacheRefresh:fT},lu=null,Ic=0;function zf(i){var r=Ic;return Ic+=1,lu===null&&(lu=[]),C0(lu,i,r)}function Pc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Bf(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function _T(i){var r=i._init;return r(i._payload)}function vT(i){function r(X,Y){if(i){var tt=X.deletions;tt===null?(X.deletions=[Y],X.flags|=16):tt.push(Y)}}function l(X,Y){if(!i)return null;for(;Y!==null;)r(X,Y),Y=Y.sibling;return null}function h(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function g(X,Y){return X=Ms(X,Y),X.index=0,X.sibling=null,X}function v(X,Y,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<Y?(X.flags|=67108866,Y):tt):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function C(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function P(X,Y,tt,dt){return Y===null||Y.tag!==6?(Y=yc(tt,X.mode,dt),Y.return=X,Y):(Y=g(Y,tt),Y.return=X,Y)}function z(X,Y,tt,dt){var Nt=tt.type;return Nt===k?ht(X,Y,tt.props.children,dt,tt.key):Y!==null&&(Y.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===O&&_T(Nt)===Y.type)?(Y=g(Y,tt.props),Pc(Y,tt),Y.return=X,Y):(Y=hl(tt.type,tt.key,tt.props,null,X.mode,dt),Pc(Y,tt),Y.return=X,Y)}function et(X,Y,tt,dt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==tt.containerInfo||Y.stateNode.implementation!==tt.implementation?(Y=tu(tt,X.mode,dt),Y.return=X,Y):(Y=g(Y,tt.children||[]),Y.return=X,Y)}function ht(X,Y,tt,dt,Nt){return Y===null||Y.tag!==7?(Y=xr(tt,X.mode,dt,Nt),Y.return=X,Y):(Y=g(Y,tt),Y.return=X,Y)}function mt(X,Y,tt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=yc(""+Y,X.mode,tt),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return tt=hl(Y.type,Y.key,Y.props,null,X.mode,tt),Pc(tt,Y),tt.return=X,tt;case M:return Y=tu(Y,X.mode,tt),Y.return=X,Y;case O:var dt=Y._init;return Y=dt(Y._payload),mt(X,Y,tt)}if(je(Y)||$(Y))return Y=xr(Y,X.mode,tt,null),Y.return=X,Y;if(typeof Y.then=="function")return mt(X,zf(Y),tt);if(Y.$$typeof===K)return mt(X,Rf(X,Y),tt);Bf(X,Y)}return null}function st(X,Y,tt,dt){var Nt=Y!==null?Y.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Nt!==null?null:P(X,Y,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return tt.key===Nt?z(X,Y,tt,dt):null;case M:return tt.key===Nt?et(X,Y,tt,dt):null;case O:return Nt=tt._init,tt=Nt(tt._payload),st(X,Y,tt,dt)}if(je(tt)||$(tt))return Nt!==null?null:ht(X,Y,tt,dt,null);if(typeof tt.then=="function")return st(X,Y,zf(tt),dt);if(tt.$$typeof===K)return st(X,Y,Rf(X,tt),dt);Bf(X,tt)}return null}function rt(X,Y,tt,dt,Nt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return X=X.get(tt)||null,P(Y,X,""+dt,Nt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case S:return X=X.get(dt.key===null?tt:dt.key)||null,z(Y,X,dt,Nt);case M:return X=X.get(dt.key===null?tt:dt.key)||null,et(Y,X,dt,Nt);case O:var se=dt._init;return dt=se(dt._payload),rt(X,Y,tt,dt,Nt)}if(je(dt)||$(dt))return X=X.get(tt)||null,ht(Y,X,dt,Nt,null);if(typeof dt.then=="function")return rt(X,Y,tt,zf(dt),Nt);if(dt.$$typeof===K)return rt(X,Y,tt,Rf(Y,dt),Nt);Bf(Y,dt)}return null}function Gt(X,Y,tt,dt){for(var Nt=null,se=null,kt=Y,Bt=Y=0,Hn=null;kt!==null&&Bt<tt.length;Bt++){kt.index>Bt?(Hn=kt,kt=null):Hn=kt.sibling;var we=st(X,kt,tt[Bt],dt);if(we===null){kt===null&&(kt=Hn);break}i&&kt&&we.alternate===null&&r(X,kt),Y=v(we,Y,Bt),se===null?Nt=we:se.sibling=we,se=we,kt=Hn}if(Bt===tt.length)return l(X,kt),Zt&&J(X,Bt),Nt;if(kt===null){for(;Bt<tt.length;Bt++)kt=mt(X,tt[Bt],dt),kt!==null&&(Y=v(kt,Y,Bt),se===null?Nt=kt:se.sibling=kt,se=kt);return Zt&&J(X,Bt),Nt}for(kt=h(kt);Bt<tt.length;Bt++)Hn=rt(kt,X,Bt,tt[Bt],dt),Hn!==null&&(i&&Hn.alternate!==null&&kt.delete(Hn.key===null?Bt:Hn.key),Y=v(Hn,Y,Bt),se===null?Nt=Hn:se.sibling=Hn,se=Hn);return i&&kt.forEach(function(To){return r(X,To)}),Zt&&J(X,Bt),Nt}function zt(X,Y,tt,dt){if(tt==null)throw Error(s(151));for(var Nt=null,se=null,kt=Y,Bt=Y=0,Hn=null,we=tt.next();kt!==null&&!we.done;Bt++,we=tt.next()){kt.index>Bt?(Hn=kt,kt=null):Hn=kt.sibling;var To=st(X,kt,we.value,dt);if(To===null){kt===null&&(kt=Hn);break}i&&kt&&To.alternate===null&&r(X,kt),Y=v(To,Y,Bt),se===null?Nt=To:se.sibling=To,se=To,kt=Hn}if(we.done)return l(X,kt),Zt&&J(X,Bt),Nt;if(kt===null){for(;!we.done;Bt++,we=tt.next())we=mt(X,we.value,dt),we!==null&&(Y=v(we,Y,Bt),se===null?Nt=we:se.sibling=we,se=we);return Zt&&J(X,Bt),Nt}for(kt=h(kt);!we.done;Bt++,we=tt.next())we=rt(kt,X,Bt,we.value,dt),we!==null&&(i&&we.alternate!==null&&kt.delete(we.key===null?Bt:we.key),Y=v(we,Y,Bt),se===null?Nt=we:se.sibling=we,se=we);return i&&kt.forEach(function(AP){return r(X,AP)}),Zt&&J(X,Bt),Nt}function Oe(X,Y,tt,dt){if(typeof tt=="object"&&tt!==null&&tt.type===k&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:t:{for(var Nt=tt.key;Y!==null;){if(Y.key===Nt){if(Nt=tt.type,Nt===k){if(Y.tag===7){l(X,Y.sibling),dt=g(Y,tt.props.children),dt.return=X,X=dt;break t}}else if(Y.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===O&&_T(Nt)===Y.type){l(X,Y.sibling),dt=g(Y,tt.props),Pc(dt,tt),dt.return=X,X=dt;break t}l(X,Y);break}else r(X,Y);Y=Y.sibling}tt.type===k?(dt=xr(tt.props.children,X.mode,dt,tt.key),dt.return=X,X=dt):(dt=hl(tt.type,tt.key,tt.props,null,X.mode,dt),Pc(dt,tt),dt.return=X,X=dt)}return C(X);case M:t:{for(Nt=tt.key;Y!==null;){if(Y.key===Nt)if(Y.tag===4&&Y.stateNode.containerInfo===tt.containerInfo&&Y.stateNode.implementation===tt.implementation){l(X,Y.sibling),dt=g(Y,tt.children||[]),dt.return=X,X=dt;break t}else{l(X,Y);break}else r(X,Y);Y=Y.sibling}dt=tu(tt,X.mode,dt),dt.return=X,X=dt}return C(X);case O:return Nt=tt._init,tt=Nt(tt._payload),Oe(X,Y,tt,dt)}if(je(tt))return Gt(X,Y,tt,dt);if($(tt)){if(Nt=$(tt),typeof Nt!="function")throw Error(s(150));return tt=Nt.call(tt),zt(X,Y,tt,dt)}if(typeof tt.then=="function")return Oe(X,Y,zf(tt),dt);if(tt.$$typeof===K)return Oe(X,Y,Rf(X,tt),dt);Bf(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Y!==null&&Y.tag===6?(l(X,Y.sibling),dt=g(Y,tt),dt.return=X,X=dt):(l(X,Y),dt=yc(tt,X.mode,dt),dt.return=X,X=dt),C(X)):l(X,Y)}return function(X,Y,tt,dt){try{Ic=0;var Nt=Oe(X,Y,tt,dt);return lu=null,Nt}catch(kt){if(kt===Tc||kt===If)throw kt;var se=xi(29,kt,null,X.mode);return se.lanes=dt,se.return=X,se}finally{}}}var uu=vT(!0),TT=vT(!1),Ns=ct(null),Rr=null;function so(i){var r=i.alternate;vt(Pn,Pn.current&1),vt(Ns,i),Rr===null&&(r===null||su.current!==null||r.memoizedState!==null)&&(Rr=i)}function ET(i){if(i.tag===22){if(vt(Pn,Pn.current),vt(Ns,i),Rr===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Rr=i)}}else ro()}function ro(){vt(Pn,Pn.current),vt(Ns,Ns.current)}function ca(i){Et(Ns),Rr===i&&(Rr=null),Et(Pn)}var Pn=ct(0);function Ff(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ng(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Gp(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:b({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Wp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=fs(),g=eo(h);g.payload=r,l!=null&&(g.callback=l),r=no(i,g,h),r!==null&&(ds(r,i,h),bc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=fs(),g=eo(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=no(i,g,h),r!==null&&(ds(r,i,h),bc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=fs(),h=eo(l);h.tag=2,r!=null&&(h.callback=r),r=no(i,h,l),r!==null&&(ds(r,i,l),bc(r,i,l))}};function bT(i,r,l,h,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):r.prototype&&r.prototype.isPureReactComponent?!bi(l,h)||!bi(g,v):!0}function wT(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Wp.enqueueReplaceState(r,r.state,null)}function _l(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=b({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Hf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ST(i){Hf(i)}function xT(i){console.error(i)}function AT(i){Hf(i)}function qf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function RT(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zp(i,r,l){return l=eo(l),l.tag=3,l.payload={element:null},l.callback=function(){qf(i,r)},l}function CT(i){return i=eo(i),i.tag=3,i}function IT(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){RT(r,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){RT(r,l,h),typeof g!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function AI(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&ml(r,l,g,!0),l=Ns.current,l!==null){switch(l.tag){case 13:return Rr===null?yg():l.alternate===null&&an===0&&(an=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===bp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),vg(i,h,g)),!1;case 22:return l.flags|=65536,h===bp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),vg(i,h,g)),!1}throw Error(s(435,l.tag))}return vg(i,h,g),yg(),!1}if(Zt)return r=Ns.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==zn&&(i=Error(s(422),{cause:h}),Ja(wi(i,l)))):(h!==zn&&(r=Error(s(423),{cause:h}),Ja(wi(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=wi(h,l),g=Zp(i.stateNode,h,g),xp(i,g),an!==4&&(an=2)),!1;var v=Error(s(520),{cause:h});if(v=wi(v,l),Vc===null?Vc=[v]:Vc.push(v),an!==4&&(an=2),r===null)return!0;h=wi(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Zp(l.stateNode,h,i),xp(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ho===null||!ho.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=CT(g),IT(g,i,l,h),xp(l,g),!1}l=l.return}while(l!==null);return!1}var PT=Error(s(461)),Bn=!1;function Yn(i,r,l,h){r.child=i===null?TT(r,null,l,h):uu(r,i.child,l,h)}function LT(i,r,l,h,g){l=l.render;var v=r.ref;if("ref"in h){var C={};for(var P in h)P!=="ref"&&(C[P]=h[P])}else C=h;return pl(r),h=Pp(i,r,l,C,v,g),P=Lp(),i!==null&&!Bn?(Mp(i,r,g),ha(i,r,g)):(Zt&&P&&_t(r),r.flags|=1,Yn(i,r,h,g),r.child)}function MT(i,r,l,h,g){if(i===null){var v=l.type;return typeof v=="function"&&!Jl(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,DT(i,r,v,h,g)):(i=hl(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!eg(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:bi,l(C,h)&&i.ref===r.ref)return ha(i,r,g)}return r.flags|=1,i=Ms(v,h),i.ref=r.ref,i.return=r,r.child=i}function DT(i,r,l,h,g){if(i!==null){var v=i.memoizedProps;if(bi(v,h)&&i.ref===r.ref)if(Bn=!1,r.pendingProps=h=v,eg(i,g))(i.flags&131072)!==0&&(Bn=!0);else return r.lanes=i.lanes,ha(i,r,g)}return Kp(i,r,l,h,g)}function NT(i,r,l){var h=r.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|l:l,i!==null){for(g=r.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return OT(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Cf(r,v!==null?v.cachePool:null),v!==null?D0(r,v):Rp(),ET(r);else return r.lanes=r.childLanes=536870912,OT(i,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(Cf(r,v.cachePool),D0(r,v),ro(),r.memoizedState=null):(i!==null&&Cf(r,null),Rp(),ro());return Yn(i,r,g,l),r.child}function OT(i,r,l,h){var g=Ep();return g=g===null?null:{parent:In._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&Cf(r,null),Rp(),ET(r),i!==null&&ml(i,r,h,!0),null}function Gf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Kp(i,r,l,h,g){return pl(r),l=Pp(i,r,l,h,void 0,g),h=Lp(),i!==null&&!Bn?(Mp(i,r,g),ha(i,r,g)):(Zt&&h&&_t(r),r.flags|=1,Yn(i,r,l,g),r.child)}function kT(i,r,l,h,g,v){return pl(r),r.updateQueue=null,l=O0(r,h,l,g),N0(i),h=Lp(),i!==null&&!Bn?(Mp(i,r,v),ha(i,r,v)):(Zt&&h&&_t(r),r.flags|=1,Yn(i,r,l,v),r.child)}function VT(i,r,l,h,g){if(pl(r),r.stateNode===null){var v=oa,C=l.contextType;typeof C=="object"&&C!==null&&(v=ui(C)),v=new l(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Wp,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},wp(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?ui(C):oa,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Gp(r,l,C,h),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Wp.enqueueReplaceState(v,v.state,null),Sc(r,h,v,g),wc(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){v=r.stateNode;var P=r.memoizedProps,z=_l(l,P);v.props=z;var et=v.context,ht=l.contextType;C=oa,typeof ht=="object"&&ht!==null&&(C=ui(ht));var mt=l.getDerivedStateFromProps;ht=typeof mt=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,ht||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||et!==C)&&wT(r,v,h,C),to=!1;var st=r.memoizedState;v.state=st,Sc(r,h,v,g),wc(),et=r.memoizedState,P||st!==et||to?(typeof mt=="function"&&(Gp(r,l,mt,h),et=r.memoizedState),(z=to||bT(r,l,z,h,st,et,C))?(ht||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=et),v.props=h,v.state=et,v.context=C,h=z):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,Sp(i,r),C=r.memoizedProps,ht=_l(l,C),v.props=ht,mt=r.pendingProps,st=v.context,et=l.contextType,z=oa,typeof et=="object"&&et!==null&&(z=ui(et)),P=l.getDerivedStateFromProps,(et=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==mt||st!==z)&&wT(r,v,h,z),to=!1,st=r.memoizedState,v.state=st,Sc(r,h,v,g),wc();var rt=r.memoizedState;C!==mt||st!==rt||to||i!==null&&i.dependencies!==null&&Af(i.dependencies)?(typeof P=="function"&&(Gp(r,l,P,h),rt=r.memoizedState),(ht=to||bT(r,l,ht,h,st,rt,z)||i!==null&&i.dependencies!==null&&Af(i.dependencies))?(et||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,rt,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,rt,z)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=rt),v.props=h,v.state=rt,v.context=z,h=ht):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=1024),h=!1)}return v=h,Gf(i,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&h?(r.child=uu(r,i.child,null,g),r.child=uu(r,null,l,g)):Yn(i,r,l,g),r.memoizedState=v.state,i=r.child):i=ha(i,r,g),i}function jT(i,r,l,h){return Qa(),r.flags|=256,Yn(i,r,l,h),r.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $p(i){return{baseLanes:i,cachePool:x0()}}function Xp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Os),i}function UT(i,r,l){var h=r.pendingProps,g=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(Pn.current&2)!==0),C&&(g=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Zt){if(g?so(r):ro(),Zt){var P=Ot,z;if(z=P){t:{for(z=P,P=Je;z.nodeType!==8;){if(!P){P=null;break t}if(z=sr(z.nextSibling),z===null){P=null;break t}}P=z}P!==null?(r.memoizedState={dehydrated:P,treeContext:x!==null?{id:I,overflow:U}:null,retryLane:536870912,hydrationErrors:null},z=xi(18,null,null,0),z.stateNode=P,z.return=r,r.child=z,Dt=r,Ot=null,z=!0):z=!1}z||ki(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ng(P)?r.lanes=32:r.lanes=536870912,null;ca(r)}return P=h.children,h=h.fallback,g?(ro(),g=r.mode,P=Wf({mode:"hidden",children:P},g),h=xr(h,g,l,null),P.return=r,h.return=r,P.sibling=h,r.child=P,g=r.child,g.memoizedState=$p(l),g.childLanes=Xp(i,C,l),r.memoizedState=Yp,h):(so(r),Qp(r,P))}if(z=i.memoizedState,z!==null&&(P=z.dehydrated,P!==null)){if(v)r.flags&256?(so(r),r.flags&=-257,r=Jp(i,r,l)):r.memoizedState!==null?(ro(),r.child=i.child,r.flags|=128,r=null):(ro(),g=h.fallback,P=r.mode,h=Wf({mode:"visible",children:h.children},P),g=xr(g,P,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,uu(r,i.child,null,l),h=r.child,h.memoizedState=$p(l),h.childLanes=Xp(i,C,l),r.memoizedState=Yp,r=g);else if(so(r),Ng(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var et=C.dgst;C=et,h=Error(s(419)),h.stack="",h.digest=C,Ja({value:h,source:null,stack:null}),r=Jp(i,r,l)}else if(Bn||ml(i,r,l,!1),C=(l&i.childLanes)!==0,Bn||C){if(C=He,C!==null&&(h=l&-l,h=(h&42)!==0?1:_s(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==z.retryLane))throw z.retryLane=h,$a(i,h),ds(C,i,h),PT;P.data==="$?"||yg(),r=Jp(i,r,l)}else P.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=z.treeContext,Ot=sr(P.nextSibling),Dt=r,Zt=!0,Fe=null,Je=!1,i!==null&&(p[T++]=I,p[T++]=U,p[T++]=x,I=i.id,U=i.overflow,x=r),r=Qp(r,h.children),r.flags|=4096);return r}return g?(ro(),g=h.fallback,P=r.mode,z=i.child,et=z.sibling,h=Ms(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,et!==null?g=Ms(et,g):(g=xr(g,P,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,P=i.child.memoizedState,P===null?P=$p(l):(z=P.cachePool,z!==null?(et=In._currentValue,z=z.parent!==et?{parent:et,pool:et}:z):z=x0(),P={baseLanes:P.baseLanes|l,cachePool:z}),g.memoizedState=P,g.childLanes=Xp(i,C,l),r.memoizedState=Yp,h):(so(r),l=i.child,i=l.sibling,l=Ms(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=l,r.memoizedState=null,l)}function Qp(i,r){return r=Wf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Wf(i,r){return i=xi(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Jp(i,r,l){return uu(r,i.child,null,l),i=Qp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function zT(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),dl(i.return,r,l)}function tg(i,r,l,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function BT(i,r,l){var h=r.pendingProps,g=h.revealOrder,v=h.tail;if(Yn(i,r,h.children,l),h=Pn.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zT(i,l,r);else if(i.tag===19)zT(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(vt(Pn,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&Ff(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),tg(r,!1,g,l,v);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&Ff(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}tg(r,!0,l,null,v);break;case"together":tg(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ha(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),co|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(ml(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ms(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ms(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function eg(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Af(i)))}function RI(i,r,l){switch(r.tag){case 3:ee(r,r.stateNode.containerInfo),Ar(r,In,i.memoizedState.cache),Qa();break;case 27:case 5:sn(r);break;case 4:ee(r,r.stateNode.containerInfo);break;case 10:Ar(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(so(r),r.flags|=128,null):(l&r.child.childLanes)!==0?UT(i,r,l):(so(r),i=ha(i,r,l),i!==null?i.sibling:null);so(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(ml(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return BT(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),vt(Pn,Pn.current),h)break;return null;case 22:case 23:return r.lanes=0,NT(i,r,l);case 24:Ar(r,In,i.memoizedState.cache)}return ha(i,r,l)}function FT(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)Bn=!0;else{if(!eg(i,l)&&(r.flags&128)===0)return Bn=!1,RI(i,r,l);Bn=(i.flags&131072)!==0}else Bn=!1,Zt&&(r.flags&1048576)!==0&&at(r,c,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")Jl(h)?(i=_l(h,i),r.tag=1,r=VT(null,r,h,i,l)):(r.tag=0,r=Kp(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===pt){r.tag=11,r=LT(null,r,h,i,l);break t}else if(g===H){r.tag=14,r=MT(null,r,h,i,l);break t}}throw r=Se(h)||h,Error(s(306,r,""))}}return r;case 0:return Kp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=_l(h,r.pendingProps),VT(i,r,h,g,l);case 3:t:{if(ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var v=r.memoizedState;g=v.element,Sp(i,r),Sc(r,h,null,l);var C=r.memoizedState;if(h=C.cache,Ar(r,In,h),h!==v.cache&&eu(r,[In],l,!0),wc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=jT(i,r,h,l);break t}else if(h!==g){g=wi(Error(s(424)),r),Ja(g),r=jT(i,r,h,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ot=sr(i.firstChild),Dt=r,Zt=!0,Fe=null,Je=!0,l=TT(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Qa(),h===g){r=ha(i,r,l);break t}Yn(i,r,h,l)}r=r.child}return r;case 26:return Gf(i,r),i===null?(l=WE(r.type,null,r.pendingProps,null))?r.memoizedState=l:Zt||(l=r.type,i=r.pendingProps,h=ad(St.current).createElement(l),h[$t]=r,h[ae]=i,Xn(h,l,i),Qe(h),r.stateNode=h):r.memoizedState=WE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return sn(r),i===null&&Zt&&(h=r.stateNode=HE(r.type,r.pendingProps,St.current),Dt=r,Je=!0,g=Ot,po(r.type)?(Og=g,Ot=sr(h.firstChild)):Ot=g),Yn(i,r,r.pendingProps.children,l),Gf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Zt&&((g=h=Ot)&&(h=eP(h,r.type,r.pendingProps,Je),h!==null?(r.stateNode=h,Dt=r,Ot=sr(h.firstChild),Je=!1,g=!0):g=!1),g||ki(r)),sn(r),g=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,Lg(g,v)?h=null:C!==null&&Lg(g,C)&&(r.flags|=32),r.memoizedState!==null&&(g=Pp(i,r,vI,null,null,l),Wc._currentValue=g),Gf(i,r),Yn(i,r,h,l),r.child;case 6:return i===null&&Zt&&((i=l=Ot)&&(l=nP(l,r.pendingProps,Je),l!==null?(r.stateNode=l,Dt=r,Ot=null,i=!0):i=!1),i||ki(r)),null;case 13:return UT(i,r,l);case 4:return ee(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=uu(r,null,h,l):Yn(i,r,h,l),r.child;case 11:return LT(i,r,r.type,r.pendingProps,l);case 7:return Yn(i,r,r.pendingProps,l),r.child;case 8:return Yn(i,r,r.pendingProps.children,l),r.child;case 12:return Yn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Ar(r,r.type,h.value),Yn(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,pl(r),g=ui(g),h=h(g),r.flags|=1,Yn(i,r,h,l),r.child;case 14:return MT(i,r,r.type,r.pendingProps,l);case 15:return DT(i,r,r.type,r.pendingProps,l);case 19:return BT(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=Wf(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=Ms(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return NT(i,r,l);case 24:return pl(r),h=ui(In),i===null?(g=Ep(),g===null&&(g=He,v=vp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),r.memoizedState={parent:h,cache:g},wp(r),Ar(r,In,g)):((i.lanes&l)!==0&&(Sp(i,r),Sc(r,null,null,l),wc()),g=i.memoizedState,v=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ar(r,In,h)):(h=v.cache,Ar(r,In,h),h!==g.cache&&eu(r,[In],l,!0))),Yn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fa(i){i.flags|=4}function HT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!XE(r)){if(r=Ns.current,r!==null&&((ye&4194048)===ye?Rr!==null:(ye&62914560)!==ye&&(ye&536870912)===0||r!==Rr))throw Ec=bp,A0;i.flags|=8192}}function Zf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?pr():536870912,i.lanes|=r,du|=r)}function Lc(i,r){if(!Zt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function tn(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function CI(i,r,l){var h=r.pendingProps;switch(Rt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(r),null;case 1:return tn(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),nr(In),Dn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(fl(r)?fa(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xf())),tn(r),null;case 26:return l=r.memoizedState,i===null?(fa(r),l!==null?(tn(r),HT(r,l)):(tn(r),r.flags&=-16777217)):l?l!==i.memoizedState?(fa(r),tn(r),HT(r,l)):(tn(r),r.flags&=-16777217):(i.memoizedProps!==h&&fa(r),tn(r),r.flags&=-16777217),null;case 27:ei(r),l=St.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&fa(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return tn(r),null}i=wt.current,fl(r)?wf(r):(i=HE(g,h,l),r.stateNode=i,fa(r))}return tn(r),null;case 5:if(ei(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&fa(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return tn(r),null}if(i=wt.current,fl(r))wf(r);else{switch(g=ad(St.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[$t]=r,i[ae]=h;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Xn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&fa(r)}}return tn(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&fa(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,fl(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=Dt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[$t]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||kE(i.nodeValue,l)),i||ki(r)}else i=ad(i).createTextNode(h),i[$t]=r,r.stateNode=i}return tn(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=fl(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[$t]=r}else Qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tn(r),g=!1}else g=xf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ca(r),r):(ca(r),null)}if(ca(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Zf(r,r.updateQueue),tn(r),null;case 4:return Dn(),i===null&&Ag(r.stateNode.containerInfo),tn(r),null;case 10:return nr(r.type),tn(r),null;case 19:if(Et(Pn),g=r.memoizedState,g===null)return tn(r),null;if(h=(r.flags&128)!==0,v=g.rendering,v===null)if(h)Lc(g,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Ff(i),v!==null){for(r.flags|=128,Lc(g,!1),i=v.updateQueue,r.updateQueue=i,Zf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)gc(l,i),l=l.sibling;return vt(Pn,Pn.current&1|2),r.child}i=i.sibling}g.tail!==null&&xn()>$f&&(r.flags|=128,h=!0,Lc(g,!1),r.lanes=4194304)}else{if(!h)if(i=Ff(v),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Zf(r,i),Lc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Zt)return tn(r),null}else 2*xn()-g.renderingStartTime>$f&&l!==536870912&&(r.flags|=128,h=!0,Lc(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(i=g.last,i!==null?i.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=xn(),r.sibling=null,i=Pn.current,vt(Pn,h?i&1|2:i&1),r):(tn(r),null);case 22:case 23:return ca(r),Cp(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(tn(r),r.subtreeFlags&6&&(r.flags|=8192)):tn(r),l=r.updateQueue,l!==null&&Zf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&Et(gl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),nr(In),tn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function II(i,r){switch(Rt(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return nr(In),Dn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ei(r),null;case 13:if(ca(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Et(Pn),null;case 4:return Dn(),null;case 10:return nr(r.type),null;case 22:case 23:return ca(r),Cp(),i!==null&&Et(gl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return nr(In),null;case 25:return null;default:return null}}function qT(i,r){switch(Rt(r),r.tag){case 3:nr(In),Dn();break;case 26:case 27:case 5:ei(r);break;case 4:Dn();break;case 13:ca(r);break;case 19:Et(Pn);break;case 10:nr(r.type);break;case 22:case 23:ca(r),Cp(),i!==null&&Et(gl);break;case 24:nr(In)}}function Mc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var v=l.create,C=l.inst;h=v(),C.destroy=h}l=l.next}while(l!==g)}}catch(P){Ve(r,r.return,P)}}function ao(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var C=h.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,g=r;var z=l,et=P;try{et()}catch(ht){Ve(g,z,ht)}}}h=h.next}while(h!==v)}}catch(ht){Ve(r,r.return,ht)}}function GT(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{M0(r,l)}catch(h){Ve(i,i.return,h)}}}function WT(i,r,l){l.props=_l(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Ve(i,r,h)}}function Dc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Ve(i,r,g)}}function Cr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Ve(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ve(i,r,g)}else l.current=null}function ZT(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Ve(i,i.return,g)}}function ng(i,r,l){try{var h=i.stateNode;$I(h,i.type,l,r),h[ae]=r}catch(g){Ve(i,i.return,g)}}function KT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&po(i.type)||i.tag===4}function ig(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||KT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&po(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sg(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=rd));else if(h!==4&&(h===27&&po(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(sg(i,r,l),i=i.sibling;i!==null;)sg(i,r,l),i=i.sibling}function Kf(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&po(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Kf(i,r,l),i=i.sibling;i!==null;)Kf(i,r,l),i=i.sibling}function YT(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Xn(r,h,l),r[$t]=i,r[ae]=l}catch(v){Ve(i,i.return,v)}}var da=!1,fn=!1,rg=!1,$T=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function PI(i,r){if(i=i.containerInfo,Ig=fd,i=rl(i),al(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,P=-1,z=-1,et=0,ht=0,mt=i,st=null;e:for(;;){for(var rt;mt!==l||g!==0&&mt.nodeType!==3||(P=C+g),mt!==v||h!==0&&mt.nodeType!==3||(z=C+h),mt.nodeType===3&&(C+=mt.nodeValue.length),(rt=mt.firstChild)!==null;)st=mt,mt=rt;for(;;){if(mt===i)break e;if(st===l&&++et===g&&(P=C),st===v&&++ht===h&&(z=C),(rt=mt.nextSibling)!==null)break;mt=st,st=mt.parentNode}mt=rt}l=P===-1||z===-1?null:{start:P,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pg={focusedElem:i,selectionRange:l},fd=!1,Fn=r;Fn!==null;)if(r=Fn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Fn=i;else for(;Fn!==null;){switch(r=Fn,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,g=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var Gt=_l(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Gt,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(zt){Ve(l,l.return,zt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Dg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Fn=i;break}Fn=r.return}}function XT(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:oo(i,l),h&4&&Mc(5,l);break;case 1:if(oo(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(C){Ve(l,l.return,C)}else{var g=_l(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Ve(l,l.return,C)}}h&64&&GT(l),h&512&&Dc(l,l.return);break;case 3:if(oo(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{M0(i,r)}catch(C){Ve(l,l.return,C)}}break;case 27:r===null&&h&4&&YT(l);case 26:case 5:oo(i,l),r===null&&h&4&&ZT(l),h&512&&Dc(l,l.return);break;case 12:oo(i,l);break;case 13:oo(i,l),h&4&&tE(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=UI.bind(null,l),iP(i,l))));break;case 22:if(h=l.memoizedState!==null||da,!h){r=r!==null&&r.memoizedState!==null||fn,g=da;var v=fn;da=h,(fn=r)&&!v?lo(i,l,(l.subtreeFlags&8772)!==0):oo(i,l),da=g,fn=v}break;case 30:break;default:oo(i,l)}}function QT(i){var r=i.alternate;r!==null&&(i.alternate=null,QT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ts(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,ji=!1;function ma(i,r,l){for(l=l.child;l!==null;)JT(i,r,l),l=l.sibling}function JT(i,r,l){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(Te,l)}catch{}switch(l.tag){case 26:fn||Cr(l,r),ma(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:fn||Cr(l,r);var h=$e,g=ji;po(l.type)&&($e=l.stateNode,ji=!1),ma(i,r,l),Fc(l.stateNode),$e=h,ji=g;break;case 5:fn||Cr(l,r);case 6:if(h=$e,g=ji,$e=null,ma(i,r,l),$e=h,ji=g,$e!==null)if(ji)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(v){Ve(l,r,v)}else try{$e.removeChild(l.stateNode)}catch(v){Ve(l,r,v)}break;case 18:$e!==null&&(ji?(i=$e,BE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),$c(i)):BE($e,l.stateNode));break;case 4:h=$e,g=ji,$e=l.stateNode.containerInfo,ji=!0,ma(i,r,l),$e=h,ji=g;break;case 0:case 11:case 14:case 15:fn||ao(2,l,r),fn||ao(4,l,r),ma(i,r,l);break;case 1:fn||(Cr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&WT(l,r,h)),ma(i,r,l);break;case 21:ma(i,r,l);break;case 22:fn=(h=fn)||l.memoizedState!==null,ma(i,r,l),fn=h;break;default:ma(i,r,l)}}function tE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$c(i)}catch(l){Ve(r,r.return,l)}}function LI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new $T),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new $T),r;default:throw Error(s(435,i.tag))}}function ag(i,r){var l=LI(i);r.forEach(function(h){var g=zI.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function us(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],v=i,C=r,P=C;t:for(;P!==null;){switch(P.tag){case 27:if(po(P.type)){$e=P.stateNode,ji=!1;break t}break;case 5:$e=P.stateNode,ji=!1;break t;case 3:case 4:$e=P.stateNode.containerInfo,ji=!0;break t}P=P.return}if($e===null)throw Error(s(160));JT(v,C,g),$e=null,ji=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)eE(r,i),r=r.sibling}var ir=null;function eE(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:us(r,i),cs(i),h&4&&(ao(3,i,i.return),Mc(3,i),ao(5,i,i.return));break;case 1:us(r,i),cs(i),h&512&&(fn||l===null||Cr(l,l.return)),h&64&&da&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=ir;if(us(r,i),cs(i),h&512&&(fn||l===null||Cr(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ii]||v[$t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Xn(v,h,l),v[$t]=i,Qe(v),h=v;break t;case"link":var C=YE("link","href",g).get(h+(l.href||""));if(C){for(var P=0;P<C.length;P++)if(v=C[P],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(P,1);break e}}v=g.createElement(h),Xn(v,h,l),g.head.appendChild(v);break;case"meta":if(C=YE("meta","content",g).get(h+(l.content||""))){for(P=0;P<C.length;P++)if(v=C[P],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(P,1);break e}}v=g.createElement(h),Xn(v,h,l),g.head.appendChild(v);break;default:throw Error(s(468,h))}v[$t]=i,Qe(v),h=v}i.stateNode=h}else $E(g,i.type,i.stateNode);else i.stateNode=KE(g,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?$E(g,i.type,i.stateNode):KE(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&ng(i,i.memoizedProps,l.memoizedProps)}break;case 27:us(r,i),cs(i),h&512&&(fn||l===null||Cr(l,l.return)),l!==null&&h&4&&ng(i,i.memoizedProps,l.memoizedProps);break;case 5:if(us(r,i),cs(i),h&512&&(fn||l===null||Cr(l,l.return)),i.flags&32){g=i.stateNode;try{Vn(g,"")}catch(rt){Ve(i,i.return,rt)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,ng(i,g,l!==null?l.memoizedProps:g)),h&1024&&(rg=!0);break;case 6:if(us(r,i),cs(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(rt){Ve(i,i.return,rt)}}break;case 3:if(ud=null,g=ir,ir=od(r.containerInfo),us(r,i),ir=g,cs(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$c(r.containerInfo)}catch(rt){Ve(i,i.return,rt)}rg&&(rg=!1,nE(i));break;case 4:h=ir,ir=od(i.stateNode.containerInfo),us(r,i),cs(i),ir=h;break;case 12:us(r,i),cs(i);break;case 13:us(r,i),cs(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fg=xn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ag(i,h)));break;case 22:g=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,et=da,ht=fn;if(da=et||g,fn=ht||z,us(r,i),fn=ht,da=et,cs(i),h&8192)t:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||z||da||fn||vl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){z=l=r;try{if(v=z.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=z.stateNode;var mt=z.memoizedProps.style,st=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;P.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(rt){Ve(z,z.return,rt)}}}else if(r.tag===6){if(l===null){z=r;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(rt){Ve(z,z.return,rt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,ag(i,l))));break;case 19:us(r,i),cs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ag(i,h)));break;case 30:break;case 21:break;default:us(r,i),cs(i)}}function cs(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(KT(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,v=ig(i);Kf(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(Vn(C,""),l.flags&=-33);var P=ig(i);Kf(i,P,C);break;case 3:case 4:var z=l.stateNode.containerInfo,et=ig(i);sg(i,et,z);break;default:throw Error(s(161))}}catch(ht){Ve(i,i.return,ht)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function nE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;nE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function oo(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)XT(i,r.alternate,r),r=r.sibling}function vl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ao(4,r,r.return),vl(r);break;case 1:Cr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&WT(r,r.return,l),vl(r);break;case 27:Fc(r.stateNode);case 26:case 5:Cr(r,r.return),vl(r);break;case 22:r.memoizedState===null&&vl(r);break;case 30:vl(r);break;default:vl(r)}i=i.sibling}}function lo(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:lo(g,v,l),Mc(4,v);break;case 1:if(lo(g,v,l),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(et){Ve(h,h.return,et)}if(h=v,g=h.updateQueue,g!==null){var P=h.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)L0(z[g],P)}catch(et){Ve(h,h.return,et)}}l&&C&64&&GT(v),Dc(v,v.return);break;case 27:YT(v);case 26:case 5:lo(g,v,l),l&&h===null&&C&4&&ZT(v),Dc(v,v.return);break;case 12:lo(g,v,l);break;case 13:lo(g,v,l),l&&C&4&&tE(g,v);break;case 22:v.memoizedState===null&&lo(g,v,l),Dc(v,v.return);break;case 30:break;default:lo(g,v,l)}r=r.sibling}}function og(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&_c(l))}function lg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_c(i))}function Ir(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iE(i,r,l,h),r=r.sibling}function iE(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ir(i,r,l,h),g&2048&&Mc(9,r);break;case 1:Ir(i,r,l,h);break;case 3:Ir(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_c(i)));break;case 12:if(g&2048){Ir(i,r,l,h),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,P=v.onPostCommit;typeof P=="function"&&P(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Ve(r,r.return,z)}}else Ir(i,r,l,h);break;case 13:Ir(i,r,l,h);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?Ir(i,r,l,h):Nc(i,r):v._visibility&2?Ir(i,r,l,h):(v._visibility|=2,cu(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&og(C,r);break;case 24:Ir(i,r,l,h),g&2048&&lg(r.alternate,r);break;default:Ir(i,r,l,h)}}function cu(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,C=r,P=l,z=h,et=C.flags;switch(C.tag){case 0:case 11:case 15:cu(v,C,P,z,g),Mc(8,C);break;case 23:break;case 22:var ht=C.stateNode;C.memoizedState!==null?ht._visibility&2?cu(v,C,P,z,g):Nc(v,C):(ht._visibility|=2,cu(v,C,P,z,g)),g&&et&2048&&og(C.alternate,C);break;case 24:cu(v,C,P,z,g),g&&et&2048&&lg(C.alternate,C);break;default:cu(v,C,P,z,g)}r=r.sibling}}function Nc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:Nc(l,h),g&2048&&og(h.alternate,h);break;case 24:Nc(l,h),g&2048&&lg(h.alternate,h);break;default:Nc(l,h)}r=r.sibling}}var Oc=8192;function hu(i){if(i.subtreeFlags&Oc)for(i=i.child;i!==null;)sE(i),i=i.sibling}function sE(i){switch(i.tag){case 26:hu(i),i.flags&Oc&&i.memoizedState!==null&&gP(ir,i.memoizedState,i.memoizedProps);break;case 5:hu(i);break;case 3:case 4:var r=ir;ir=od(i.stateNode.containerInfo),hu(i),ir=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Oc,Oc=16777216,hu(i),Oc=r):hu(i));break;default:hu(i)}}function rE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function kc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Fn=h,oE(h,i)}rE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aE(i),i=i.sibling}function aE(i){switch(i.tag){case 0:case 11:case 15:kc(i),i.flags&2048&&ao(9,i,i.return);break;case 3:kc(i);break;case 12:kc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Yf(i)):kc(i);break;default:kc(i)}}function Yf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Fn=h,oE(h,i)}rE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ao(8,r,r.return),Yf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Yf(r));break;default:Yf(r)}i=i.sibling}}function oE(i,r){for(;Fn!==null;){var l=Fn;switch(l.tag){case 0:case 11:case 15:ao(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:_c(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Fn=h;else t:for(l=i;Fn!==null;){h=Fn;var g=h.sibling,v=h.return;if(QT(h),h===l){Fn=null;break t}if(g!==null){g.return=v,Fn=g;break t}Fn=v}}}var MI={getCacheForType:function(i){var r=ui(In),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},DI=typeof WeakMap=="function"?WeakMap:Map,Ie=0,He=null,oe=null,ye=0,Pe=0,hs=null,uo=!1,fu=!1,ug=!1,pa=0,an=0,co=0,Tl=0,cg=0,Os=0,du=0,Vc=null,Ui=null,hg=!1,fg=0,$f=1/0,Xf=null,ho=null,$n=0,fo=null,mu=null,pu=0,dg=0,mg=null,lE=null,jc=0,pg=null;function fs(){if((Ie&2)!==0&&ye!==0)return ye&-ye;if(lt.T!==null){var i=nu;return i!==0?i:bg()}return It()}function uE(){Os===0&&(Os=(ye&536870912)===0||Zt?mr():536870912);var i=Ns.current;return i!==null&&(i.flags|=32),Os}function ds(i,r,l){(i===He&&(Pe===2||Pe===9)||i.cancelPendingCommit!==null)&&(gu(i,0),mo(i,ye,Os,!1)),Li(i,l),((Ie&2)===0||i!==He)&&(i===He&&((Ie&2)===0&&(Tl|=l),an===4&&mo(i,ye,Os,!1)),Pr(i))}function cE(i,r,l){if((Ie&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||_i(i,r),g=h?kI(i,r):_g(i,r,!0),v=h;do{if(g===0){fu&&!h&&mo(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!NI(l)){g=_g(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var P=i;g=Vc;var z=P.current.memoizedState.isDehydrated;if(z&&(gu(P,C).flags|=256),C=_g(P,C,!1),C!==2){if(ug&&!z){P.errorRecoveryDisabledLanes|=v,Tl|=v,g=4;break t}v=Ui,Ui=g,v!==null&&(Ui===null?Ui=v:Ui.push.apply(Ui,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){gu(i,0),mo(i,r,0,!0);break}t:{switch(h=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mo(h,r,Os,!uo);break t;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=fg+300-xn(),10<g)){if(mo(h,r,Os,!uo),ys(h,0,!0)!==0)break t;h.timeoutHandle=UE(hE.bind(null,h,l,Ui,Xf,hg,r,Os,Tl,du,uo,v,2,-0,0),g);break t}hE(h,l,Ui,Xf,hg,r,Os,Tl,du,uo,v,0,-0,0)}}break}while(!0);Pr(i)}function hE(i,r,l,h,g,v,C,P,z,et,ht,mt,st,rt){if(i.timeoutHandle=-1,mt=r.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(Gc={stylesheets:null,count:0,unsuspend:pP},sE(r),mt=yP(),mt!==null)){i.cancelPendingCommit=mt(_E.bind(null,i,r,v,l,h,g,C,P,z,ht,1,st,rt)),mo(i,v,C,!et);return}_E(i,r,v,l,h,g,C,P,z)}function NI(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!Ei(v(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mo(i,r,l,h){r&=~cg,r&=~Tl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var v=31-Ke(g),C=1<<v;h[v]=-1,g&=~C}l!==0&&Mi(i,l,r)}function Qf(){return(Ie&6)===0?(Uc(0),!1):!0}function gg(){if(oe!==null){if(Pe===0)var i=oe.return;else i=oe,er=Ds=null,Dp(i),lu=null,Ic=0,i=oe;for(;i!==null;)qT(i.alternate,i),i=i.return;oe=null}}function gu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,QI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),gg(),He=i,oe=l=Ms(i.current,null),ye=r,Pe=0,hs=null,uo=!1,fu=_i(i,r),ug=!1,du=Os=cg=Tl=co=an=0,Ui=Vc=null,hg=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-Ke(h),v=1<<g;r|=i[g],h&=~v}return pa=r,ll(),l}function fE(i,r){ne=null,lt.H=Uf,r===Tc||r===If?(r=I0(),Pe=3):r===A0?(r=I0(),Pe=4):Pe=r===PT?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,hs=r,oe===null&&(an=1,qf(i,wi(r,i.current)))}function dE(){var i=lt.H;return lt.H=Uf,i===null?Uf:i}function mE(){var i=lt.A;return lt.A=MI,i}function yg(){an=4,uo||(ye&4194048)!==ye&&Ns.current!==null||(fu=!0),(co&134217727)===0&&(Tl&134217727)===0||He===null||mo(He,ye,Os,!1)}function _g(i,r,l){var h=Ie;Ie|=2;var g=dE(),v=mE();(He!==i||ye!==r)&&(Xf=null,gu(i,r)),r=!1;var C=an;t:do try{if(Pe!==0&&oe!==null){var P=oe,z=hs;switch(Pe){case 8:gg(),C=6;break t;case 3:case 2:case 9:case 6:Ns.current===null&&(r=!0);var et=Pe;if(Pe=0,hs=null,yu(i,P,z,et),l&&fu){C=0;break t}break;default:et=Pe,Pe=0,hs=null,yu(i,P,z,et)}}OI(),C=an;break}catch(ht){fE(i,ht)}while(!0);return r&&i.shellSuspendCounter++,er=Ds=null,Ie=h,lt.H=g,lt.A=v,oe===null&&(He=null,ye=0,ll()),C}function OI(){for(;oe!==null;)pE(oe)}function kI(i,r){var l=Ie;Ie|=2;var h=dE(),g=mE();He!==i||ye!==r?(Xf=null,$f=xn()+500,gu(i,r)):fu=_i(i,r);t:do try{if(Pe!==0&&oe!==null){r=oe;var v=hs;e:switch(Pe){case 1:Pe=0,hs=null,yu(i,r,v,1);break;case 2:case 9:if(R0(v)){Pe=0,hs=null,gE(r);break}r=function(){Pe!==2&&Pe!==9||He!==i||(Pe=7),Pr(i)},v.then(r,r);break t;case 3:Pe=7;break t;case 4:Pe=5;break t;case 7:R0(v)?(Pe=0,hs=null,gE(r)):(Pe=0,hs=null,yu(i,r,v,7));break;case 5:var C=null;switch(oe.tag){case 26:C=oe.memoizedState;case 5:case 27:var P=oe;if(!C||XE(C)){Pe=0,hs=null;var z=P.sibling;if(z!==null)oe=z;else{var et=P.return;et!==null?(oe=et,Jf(et)):oe=null}break e}}Pe=0,hs=null,yu(i,r,v,5);break;case 6:Pe=0,hs=null,yu(i,r,v,6);break;case 8:gg(),an=6;break t;default:throw Error(s(462))}}VI();break}catch(ht){fE(i,ht)}while(!0);return er=Ds=null,lt.H=h,lt.A=g,Ie=l,oe!==null?0:(He=null,ye=0,ll(),an)}function VI(){for(;oe!==null&&!ps();)pE(oe)}function pE(i){var r=FT(i.alternate,i,pa);i.memoizedProps=i.pendingProps,r===null?Jf(i):oe=r}function gE(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=kT(l,r,r.pendingProps,r.type,void 0,ye);break;case 11:r=kT(l,r,r.pendingProps,r.type.render,r.ref,ye);break;case 5:Dp(r);default:qT(l,r),r=oe=gc(r,pa),r=FT(l,r,pa)}i.memoizedProps=i.pendingProps,r===null?Jf(i):oe=r}function yu(i,r,l,h){er=Ds=null,Dp(r),lu=null,Ic=0;var g=r.return;try{if(AI(i,g,r,l,ye)){an=1,qf(i,wi(l,i.current)),oe=null;return}}catch(v){if(g!==null)throw oe=g,v;an=1,qf(i,wi(l,i.current)),oe=null;return}r.flags&32768?(Zt||h===1?i=!0:fu||(ye&536870912)!==0?i=!1:(uo=i=!0,(h===2||h===9||h===3||h===6)&&(h=Ns.current,h!==null&&h.tag===13&&(h.flags|=16384))),yE(r,i)):Jf(r)}function Jf(i){var r=i;do{if((r.flags&32768)!==0){yE(r,uo);return}i=r.return;var l=CI(r.alternate,r,pa);if(l!==null){oe=l;return}if(r=r.sibling,r!==null){oe=r;return}oe=r=i}while(r!==null);an===0&&(an=5)}function yE(i,r){do{var l=II(i.alternate,i);if(l!==null){l.flags&=32767,oe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){oe=i;return}oe=i=l}while(i!==null);an=6,oe=null}function _E(i,r,l,h,g,v,C,P,z){i.cancelPendingCommit=null;do td();while($n!==0);if((Ie&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=ls,Wr(i,l,v,C,P,z),i===He&&(oe=He=null,ye=0),mu=r,fo=i,pu=l,dg=v,mg=g,lE=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BI(gi,function(){return wE(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=lt.T,lt.T=null,g=Tt.p,Tt.p=2,C=Ie,Ie|=4;try{PI(i,r,l)}finally{Ie=C,Tt.p=g,lt.T=h}}$n=1,vE(),TE(),EE()}}function vE(){if($n===1){$n=0;var i=fo,r=mu,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=lt.T,lt.T=null;var h=Tt.p;Tt.p=2;var g=Ie;Ie|=4;try{eE(r,i);var v=Pg,C=rl(i.containerInfo),P=v.focusedElem,z=v.selectionRange;if(C!==P&&P&&P.ownerDocument&&Kl(P.ownerDocument.documentElement,P)){if(z!==null&&al(P)){var et=z.start,ht=z.end;if(ht===void 0&&(ht=et),"selectionStart"in P)P.selectionStart=et,P.selectionEnd=Math.min(ht,P.value.length);else{var mt=P.ownerDocument||document,st=mt&&mt.defaultView||window;if(st.getSelection){var rt=st.getSelection(),Gt=P.textContent.length,zt=Math.min(z.start,Gt),Oe=z.end===void 0?zt:Math.min(z.end,Gt);!rt.extend&&zt>Oe&&(C=Oe,Oe=zt,zt=C);var X=mc(P,zt),Y=mc(P,Oe);if(X&&Y&&(rt.rangeCount!==1||rt.anchorNode!==X.node||rt.anchorOffset!==X.offset||rt.focusNode!==Y.node||rt.focusOffset!==Y.offset)){var tt=mt.createRange();tt.setStart(X.node,X.offset),rt.removeAllRanges(),zt>Oe?(rt.addRange(tt),rt.extend(Y.node,Y.offset)):(tt.setEnd(Y.node,Y.offset),rt.addRange(tt))}}}}for(mt=[],rt=P;rt=rt.parentNode;)rt.nodeType===1&&mt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<mt.length;P++){var dt=mt[P];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}fd=!!Ig,Pg=Ig=null}finally{Ie=g,Tt.p=h,lt.T=l}}i.current=r,$n=2}}function TE(){if($n===2){$n=0;var i=fo,r=mu,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=lt.T,lt.T=null;var h=Tt.p;Tt.p=2;var g=Ie;Ie|=4;try{XT(i,r.alternate,r)}finally{Ie=g,Tt.p=h,lt.T=l}}$n=3}}function EE(){if($n===4||$n===3){$n=0,Gr();var i=fo,r=mu,l=pu,h=lE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$n=5:($n=0,mu=fo=null,bE(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ho=null),it(l),r=r.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(Te,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=lt.T,g=Tt.p,Tt.p=2,lt.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var P=h[C];v(P.value,{componentStack:P.stack})}}finally{lt.T=r,Tt.p=g}}(pu&3)!==0&&td(),Pr(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===pg?jc++:(jc=0,pg=i):jc=0,Uc(0)}}function bE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,_c(r)))}function td(i){return vE(),TE(),EE(),wE()}function wE(){if($n!==5)return!1;var i=fo,r=dg;dg=0;var l=it(pu),h=lt.T,g=Tt.p;try{Tt.p=32>l?32:l,lt.T=null,l=mg,mg=null;var v=fo,C=pu;if($n=0,mu=fo=null,pu=0,(Ie&6)!==0)throw Error(s(331));var P=Ie;if(Ie|=4,aE(v.current),iE(v,v.current,C,l),Ie=P,Uc(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(Te,v)}catch{}return!0}finally{Tt.p=g,lt.T=h,bE(i,r)}}function SE(i,r,l){r=wi(l,r),r=Zp(i.stateNode,r,2),i=no(i,r,2),i!==null&&(Li(i,2),Pr(i))}function Ve(i,r,l){if(i.tag===3)SE(i,i,l);else for(;r!==null;){if(r.tag===3){SE(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ho===null||!ho.has(h))){i=wi(l,i),l=CT(2),h=no(r,l,2),h!==null&&(IT(l,h,r,i),Li(h,2),Pr(h));break}}r=r.return}}function vg(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new DI;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(ug=!0,g.add(l),i=jI.bind(null,i,r,l),r.then(i,i))}function jI(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,He===i&&(ye&l)===l&&(an===4||an===3&&(ye&62914560)===ye&&300>xn()-fg?(Ie&2)===0&&gu(i,0):cg|=l,du===ye&&(du=0)),Pr(i)}function xE(i,r){r===0&&(r=pr()),i=$a(i,r),i!==null&&(Li(i,r),Pr(i))}function UI(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),xE(i,l)}function zI(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),xE(i,l)}function BI(i,r){return ni(i,r)}var ed=null,_u=null,Tg=!1,nd=!1,Eg=!1,El=0;function Pr(i){i!==_u&&i.next===null&&(_u===null?ed=_u=i:_u=_u.next=i),nd=!0,Tg||(Tg=!0,HI())}function Uc(i,r){if(!Eg&&nd){Eg=!0;do for(var l=!1,h=ed;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var C=h.suspendedLanes,P=h.pingedLanes;v=(1<<31-Ke(42|i)+1)-1,v&=g&~(C&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,IE(h,v))}else v=ye,v=ys(h,h===He?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||_i(h,v)||(l=!0,IE(h,v));h=h.next}while(l);Eg=!1}}function FI(){AE()}function AE(){nd=Tg=!1;var i=0;El!==0&&(XI()&&(i=El),El=0);for(var r=xn(),l=null,h=ed;h!==null;){var g=h.next,v=RE(h,r);v===0?(h.next=null,l===null?ed=g:l.next=g,g===null&&(_u=l)):(l=h,(i!==0||(v&3)!==0)&&(nd=!0)),h=g}Uc(i)}function RE(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-Ke(v),P=1<<C,z=g[C];z===-1?((P&l)===0||(P&h)!==0)&&(g[C]=Ii(P,r)):z<=r&&(i.expiredLanes|=P),v&=~P}if(r=He,l=ye,l=ys(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Pe===2||Pe===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Nn(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_i(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Nn(h),it(l)){case 2:case 8:l=Ge;break;case 32:l=gi;break;case 268435456:l=Zi;break;default:l=gi}return h=CE.bind(null,i),l=ni(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Nn(h),i.callbackPriority=2,i.callbackNode=null,2}function CE(i,r){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(td()&&i.callbackNode!==l)return null;var h=ye;return h=ys(i,i===He?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(cE(i,h,r),RE(i,xn()),i.callbackNode!=null&&i.callbackNode===l?CE.bind(null,i):null)}function IE(i,r){if(td())return null;cE(i,r,!0)}function HI(){JI(function(){(Ie&6)!==0?ni(dr,FI):AE()})}function bg(){return El===0&&(El=mr()),El}function PE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Tr(""+i)}function LE(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function qI(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var v=PE((g[ae]||null).action),C=h.submitter;C&&(r=(r=C[ae]||null)?PE(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var P=new Jr("action","action",null,h,g);i.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(El!==0){var z=C?LE(g,C):new FormData(g);Fp(l,{pending:!0,data:z,method:g.method,action:v},null,z)}}else typeof v=="function"&&(P.preventDefault(),z=C?LE(g,C):new FormData(g),Fp(l,{pending:!0,data:z,method:g.method,action:v},v,z))},currentTarget:g}]})}}for(var wg=0;wg<sa.length;wg++){var Sg=sa[wg],GI=Sg.toLowerCase(),WI=Sg[0].toUpperCase()+Sg.slice(1);os(GI,"on"+WI)}os(Tf,"onAnimationEnd"),os(as,"onAnimationIteration"),os(ol,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(yp,"onTransitionRun"),os(Ql,"onTransitionStart"),os(_p,"onTransitionCancel"),os(pc,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function ME(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var C=h.length-1;0<=C;C--){var P=h[C],z=P.instance,et=P.currentTarget;if(P=P.listener,z!==v&&g.isPropagationStopped())break t;v=P,g.currentTarget=et;try{v(g)}catch(ht){Hf(ht)}g.currentTarget=null,v=z}else for(C=0;C<h.length;C++){if(P=h[C],z=P.instance,et=P.currentTarget,P=P.listener,z!==v&&g.isPropagationStopped())break t;v=P,g.currentTarget=et;try{v(g)}catch(ht){Hf(ht)}g.currentTarget=null,v=z}}}}function le(i,r){var l=r[Ue];l===void 0&&(l=r[Ue]=new Set);var h=i+"__bubble";l.has(h)||(DE(r,i,2,!1),l.add(h))}function xg(i,r,l){var h=0;r&&(h|=4),DE(l,i,h,r)}var id="_reactListening"+Math.random().toString(36).slice(2);function Ag(i){if(!i[id]){i[id]=!0,Yo.forEach(function(l){l!=="selectionchange"&&(ZI.has(l)||xg(l,!1,i),xg(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[id]||(r[id]=!0,xg("selectionchange",!1,r))}}function DE(i,r,l,h){switch(ib(r)){case 2:var g=TP;break;case 8:g=EP;break;default:g=zg}l=g.bind(null,r,l,i),g=void 0,!ri||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Rg(i,r,l,h,g){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var P=h.stateNode.containerInfo;if(P===g)break;if(C===4)for(C=h.return;C!==null;){var z=C.tag;if((z===3||z===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;P!==null;){if(C=si(P),C===null)return;if(z=C.tag,z===5||z===6||z===26||z===27){h=v=C;continue t}P=P.parentNode}}h=h.return}Ti(function(){var et=v,ht=Kn(l),mt=[];t:{var st=Ef.get(i);if(st!==void 0){var rt=Jr,Gt=i;switch(i){case"keypress":if(Me(l)===0)break t;case"keydown":case"keyup":rt=Ba;break;case"focusin":Gt="focus",rt=ka;break;case"focusout":Gt="blur",rt=ka;break;case"beforeblur":case"afterblur":rt=ka;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=ql;break;case Tf:case as:case ol:rt=ja;break;case pc:rt=Gl;break;case"scroll":case"scrollend":rt=Fl;break;case"wheel":rt=na;break;case"copy":case"cut":case"paste":rt=Er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Fa;break;case"toggle":case"beforetoggle":rt=Cs}var zt=(r&4)!==0,Oe=!zt&&(i==="scroll"||i==="scrollend"),X=zt?st!==null?st+"Capture":null:st;zt=[];for(var Y=et,tt;Y!==null;){var dt=Y;if(tt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||tt===null||X===null||(dt=ge(Y,X),dt!=null&&zt.push(Bc(Y,dt,tt))),Oe)break;Y=Y.return}0<zt.length&&(st=new rt(st,Gt,null,l,ht),mt.push({event:st,listeners:zt}))}}if((r&7)===0){t:{if(st=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",st&&l!==es&&(Gt=l.relatedTarget||l.fromElement)&&(si(Gt)||Gt[me]))break t;if((rt||st)&&(st=ht.window===ht?ht:(st=ht.ownerDocument)?st.defaultView||st.parentWindow:window,rt?(Gt=l.relatedTarget||l.toElement,rt=et,Gt=Gt?si(Gt):null,Gt!==null&&(Oe=u(Gt),zt=Gt.tag,Gt!==Oe||zt!==5&&zt!==27&&zt!==6)&&(Gt=null)):(rt=null,Gt=et),rt!==Gt)){if(zt=Un,dt="onMouseLeave",X="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(zt=Fa,dt="onPointerLeave",X="onPointerEnter",Y="pointer"),Oe=rt==null?st:Wn(rt),tt=Gt==null?st:Wn(Gt),st=new zt(dt,Y+"leave",rt,l,ht),st.target=Oe,st.relatedTarget=tt,dt=null,si(ht)===et&&(zt=new zt(X,Y+"enter",Gt,l,ht),zt.target=tt,zt.relatedTarget=Oe,dt=zt),Oe=dt,rt&&Gt)e:{for(zt=rt,X=Gt,Y=0,tt=zt;tt;tt=vu(tt))Y++;for(tt=0,dt=X;dt;dt=vu(dt))tt++;for(;0<Y-tt;)zt=vu(zt),Y--;for(;0<tt-Y;)X=vu(X),tt--;for(;Y--;){if(zt===X||X!==null&&zt===X.alternate)break e;zt=vu(zt),X=vu(X)}zt=null}else zt=null;rt!==null&&NE(mt,st,rt,zt,!1),Gt!==null&&Oe!==null&&NE(mt,Oe,Gt,zt,!0)}}t:{if(st=et?Wn(et):window,rt=st.nodeName&&st.nodeName.toLowerCase(),rt==="select"||rt==="input"&&st.type==="file")var Nt=qa;else if(Be(st))if(hc)Nt=gp;else{Nt=pp;var se=dc}else rt=st.nodeName,!rt||rt.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?et&&Qr(et.elementType)&&(Nt=qa):Nt=tr;if(Nt&&(Nt=Nt(i,et))){Qs(mt,Nt,l,ht);break t}se&&se(i,st,et),i==="focusout"&&et&&st.type==="number"&&et.memoizedProps.value!=null&&Ji(st,"number",st.value)}switch(se=et?Wn(et):window,i){case"focusin":(Be(se)||se.contentEditable==="true")&&(rs=se,Za=et,ia=null);break;case"focusout":ia=Za=rs=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,_f(mt,l,ht);break;case"selectionchange":if(Yl)break;case"keydown":case"keyup":_f(mt,l,ht)}var kt;if(li)t:{switch(i){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else ue?ot(i,l)&&(Bt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Bt="onCompositionStart");Bt&&(R&&l.locale!=="ko"&&(ue||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ue&&(kt=Ks()):(Oi=ht,ai="value"in Oi?Oi.value:Oi.textContent,ue=!0)),se=sd(et,Bt),0<se.length&&(Bt=new oi(Bt,i,null,l,ht),mt.push({event:Bt,listeners:se}),kt?Bt.data=kt:(kt=bt(l),kt!==null&&(Bt.data=kt)))),(kt=w?rn(i,l):ce(i,l))&&(Bt=sd(et,"onBeforeInput"),0<Bt.length&&(se=new oi("onBeforeInput","beforeinput",null,l,ht),mt.push({event:se,listeners:Bt}),se.data=kt)),qI(mt,i,et,l,ht)}ME(mt,r)})}function Bc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function sd(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ge(i,l),g!=null&&h.unshift(Bc(i,g,v)),g=ge(i,r),g!=null&&h.push(Bc(i,g,v))),i.tag===3)return h;i=i.return}return[]}function vu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function NE(i,r,l,h,g){for(var v=r._reactName,C=[];l!==null&&l!==h;){var P=l,z=P.alternate,et=P.stateNode;if(P=P.tag,z!==null&&z===h)break;P!==5&&P!==26&&P!==27||et===null||(z=et,g?(et=ge(l,v),et!=null&&C.unshift(Bc(l,et,z))):g||(et=ge(l,v),et!=null&&C.push(Bc(l,et,z)))),l=l.return}C.length!==0&&i.push({event:r,listeners:C})}var KI=/\r\n?/g,YI=/\u0000|\uFFFD/g;function OE(i){return(typeof i=="string"?i:""+i).replace(KI,`
`).replace(YI,"")}function kE(i,r){return r=OE(r),OE(i)===r}function rd(){}function Ne(i,r,l,h,g,v){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Vn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Vn(i,""+h);break;case"className":bs(i,"class",h);break;case"tabIndex":bs(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(i,l,h);break;case"style":Ws(i,h,v);break;case"data":if(r!=="object"){bs(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Tr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Ne(i,r,"name",g.name,g,null),Ne(i,r,"formEncType",g.formEncType,g,null),Ne(i,r,"formMethod",g.formMethod,g,null),Ne(i,r,"formTarget",g.formTarget,g,null)):(Ne(i,r,"encType",g.encType,g,null),Ne(i,r,"method",g.method,g,null),Ne(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Tr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=rd);break;case"onScroll":h!=null&&le("scroll",i);break;case"onScrollEnd":h!=null&&le("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Tr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":le("beforetoggle",i),le("toggle",i),gr(i,"popover",h);break;case"xlinkActuate":Rn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Rn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Rn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Rn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Rn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Rn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Rn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Rn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Rn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":gr(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xo.get(l)||l,gr(i,l,h))}}function Cg(i,r,l,h,g,v){switch(l){case"style":Ws(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Vn(i,h):(typeof h=="number"||typeof h=="bigint")&&Vn(i,""+h);break;case"onScroll":h!=null&&le("scroll",i);break;case"onScrollEnd":h!=null&&le("scrollend",i);break;case"onClick":h!=null&&(i.onclick=rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),v=i[ae]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):gr(i,l,h)}}}function Xn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",i),le("load",i);var h=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ne(i,r,v,C,l,null)}}g&&Ne(i,r,"srcSet",l.srcSet,l,null),h&&Ne(i,r,"src",l.src,l,null);return;case"input":le("invalid",i);var P=v=C=g=null,z=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ht=l[h];if(ht!=null)switch(h){case"name":g=ht;break;case"type":C=ht;break;case"checked":z=ht;break;case"defaultChecked":et=ht;break;case"value":v=ht;break;case"defaultValue":P=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,r));break;default:Ne(i,r,h,ht,l,null)}}Xr(i,v,P,z,et,C,g,!1),vr(i);return;case"select":le("invalid",i),h=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(P=l[g],P!=null))switch(g){case"value":v=P;break;case"defaultValue":C=P;break;case"multiple":h=P;default:Ne(i,r,g,P,l,null)}r=v,l=C,i.multiple=!!h,r!=null?Zn(i,!!h,r,!1):l!=null&&Zn(i,!!h,l,!0);return;case"textarea":le("invalid",i),v=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(P=l[C],P!=null))switch(C){case"value":h=P;break;case"defaultValue":g=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:Ne(i,r,C,P,l,null)}vi(i,h,g,v),vr(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(h=l[z],h!=null))switch(z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ne(i,r,z,h,l,null)}return;case"dialog":le("beforetoggle",i),le("toggle",i),le("cancel",i),le("close",i);break;case"iframe":case"object":le("load",i);break;case"video":case"audio":for(h=0;h<zc.length;h++)le(zc[h],i);break;case"image":le("error",i),le("load",i);break;case"details":le("toggle",i);break;case"embed":case"source":case"link":le("error",i),le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ne(i,r,et,h,l,null)}return;default:if(Qr(r)){for(ht in l)l.hasOwnProperty(ht)&&(h=l[ht],h!==void 0&&Cg(i,r,ht,h,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(h=l[P],h!=null&&Ne(i,r,P,h,l,null))}function $I(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,P=null,z=null,et=null,ht=null;for(rt in l){var mt=l[rt];if(l.hasOwnProperty(rt)&&mt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":z=mt;default:h.hasOwnProperty(rt)||Ne(i,r,rt,null,h,mt)}}for(var st in h){var rt=h[st];if(mt=l[st],h.hasOwnProperty(st)&&(rt!=null||mt!=null))switch(st){case"type":v=rt;break;case"name":g=rt;break;case"checked":et=rt;break;case"defaultChecked":ht=rt;break;case"value":C=rt;break;case"defaultValue":P=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,r));break;default:rt!==mt&&Ne(i,r,st,rt,h,mt)}}ze(i,C,P,z,et,ht,v,g);return;case"select":rt=C=P=st=null;for(v in l)if(z=l[v],l.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":rt=z;default:h.hasOwnProperty(v)||Ne(i,r,v,null,h,z)}for(g in h)if(v=h[g],z=l[g],h.hasOwnProperty(g)&&(v!=null||z!=null))switch(g){case"value":st=v;break;case"defaultValue":P=v;break;case"multiple":C=v;default:v!==z&&Ne(i,r,g,v,h,z)}r=P,l=C,h=rt,st!=null?Zn(i,!!l,st,!1):!!h!=!!l&&(r!=null?Zn(i,!!l,r,!0):Zn(i,!!l,l?[]:"",!1));return;case"textarea":rt=st=null;for(P in l)if(g=l[P],l.hasOwnProperty(P)&&g!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ne(i,r,P,null,h,g)}for(C in h)if(g=h[C],v=l[C],h.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":st=g;break;case"defaultValue":rt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&Ne(i,r,C,g,h,v)}Ft(i,st,rt);return;case"option":for(var Gt in l)if(st=l[Gt],l.hasOwnProperty(Gt)&&st!=null&&!h.hasOwnProperty(Gt))switch(Gt){case"selected":i.selected=!1;break;default:Ne(i,r,Gt,null,h,st)}for(z in h)if(st=h[z],rt=l[z],h.hasOwnProperty(z)&&st!==rt&&(st!=null||rt!=null))switch(z){case"selected":i.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Ne(i,r,z,st,h,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)st=l[zt],l.hasOwnProperty(zt)&&st!=null&&!h.hasOwnProperty(zt)&&Ne(i,r,zt,null,h,st);for(et in h)if(st=h[et],rt=l[et],h.hasOwnProperty(et)&&st!==rt&&(st!=null||rt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,r));break;default:Ne(i,r,et,st,h,rt)}return;default:if(Qr(r)){for(var Oe in l)st=l[Oe],l.hasOwnProperty(Oe)&&st!==void 0&&!h.hasOwnProperty(Oe)&&Cg(i,r,Oe,void 0,h,st);for(ht in h)st=h[ht],rt=l[ht],!h.hasOwnProperty(ht)||st===rt||st===void 0&&rt===void 0||Cg(i,r,ht,st,h,rt);return}}for(var X in l)st=l[X],l.hasOwnProperty(X)&&st!=null&&!h.hasOwnProperty(X)&&Ne(i,r,X,null,h,st);for(mt in h)st=h[mt],rt=l[mt],!h.hasOwnProperty(mt)||st===rt||st==null&&rt==null||Ne(i,r,mt,st,h,rt)}var Ig=null,Pg=null;function ad(i){return i.nodeType===9?i:i.ownerDocument}function VE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mg=null;function XI(){var i=window.event;return i&&i.type==="popstate"?i===Mg?!1:(Mg=i,!0):(Mg=null,!1)}var UE=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(i){return zE.resolve(null).then(i).catch(tP)}:UE;function tP(i){setTimeout(function(){throw i})}function po(i){return i==="head"}function BE(i,r){var l=r,h=0,g=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&Fc(C.documentElement),l&2&&Fc(C.body),l&4)for(l=C.head,Fc(l),C=l.firstChild;C;){var P=C.nextSibling,z=C.nodeName;C[ii]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=P}}if(g===0){i.removeChild(v),$c(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=v}while(l);$c(r)}function Dg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dg(l),Ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function eP(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ii])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=sr(i.nextSibling),i===null)break}return null}function nP(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=sr(i.nextSibling),i===null))return null;return i}function Ng(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iP(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function sr(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Og=null;function FE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function HE(i,r,l){switch(r=ad(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Fc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ts(i)}var ks=new Map,qE=new Set;function od(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ga=Tt.d;Tt.d={f:sP,r:rP,D:aP,C:oP,L:lP,m:uP,X:hP,S:cP,M:fP};function sP(){var i=ga.f(),r=Qf();return i||r}function rP(i){var r=Xi(i);r!==null&&r.tag===5&&r.type==="form"?cT(r):ga.r(i)}var Tu=typeof document>"u"?null:document;function GE(i,r,l){var h=Tu;if(h&&typeof r=="string"&&r){var g=We(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),qE.has(g)||(qE.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Xn(r,"link",i),Qe(r),h.head.appendChild(r)))}}function aP(i){ga.D(i),GE("dns-prefetch",i,null)}function oP(i,r){ga.C(i,r),GE("preconnect",i,r)}function lP(i,r,l){ga.L(i,r,l);var h=Tu;if(h&&i&&r){var g='link[rel="preload"][as="'+We(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+We(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+We(l.imageSizes)+'"]')):g+='[href="'+We(i)+'"]';var v=g;switch(r){case"style":v=Eu(i);break;case"script":v=bu(i)}ks.has(v)||(i=b({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),ks.set(v,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Hc(v))||r==="script"&&h.querySelector(qc(v))||(r=h.createElement("link"),Xn(r,"link",i),Qe(r),h.head.appendChild(r)))}}function uP(i,r){ga.m(i,r);var l=Tu;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+We(h)+'"][href="'+We(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=bu(i)}if(!ks.has(v)&&(i=b({rel:"modulepreload",href:i},r),ks.set(v,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qc(v)))return}h=l.createElement("link"),Xn(h,"link",i),Qe(h),l.head.appendChild(h)}}}function cP(i,r,l){ga.S(i,r,l);var h=Tu;if(h&&i){var g=kn(h).hoistableStyles,v=Eu(i);r=r||"default";var C=g.get(v);if(!C){var P={loading:0,preload:null};if(C=h.querySelector(Hc(v)))P.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},l),(l=ks.get(v))&&kg(i,l);var z=C=h.createElement("link");Qe(z),Xn(z,"link",i),z._p=new Promise(function(et,ht){z.onload=et,z.onerror=ht}),z.addEventListener("load",function(){P.loading|=1}),z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ld(C,r,h)}C={type:"stylesheet",instance:C,count:1,state:P},g.set(v,C)}}}function hP(i,r){ga.X(i,r);var l=Tu;if(l&&i){var h=kn(l).hoistableScripts,g=bu(i),v=h.get(g);v||(v=l.querySelector(qc(g)),v||(i=b({src:i,async:!0},r),(r=ks.get(g))&&Vg(i,r),v=l.createElement("script"),Qe(v),Xn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function fP(i,r){ga.M(i,r);var l=Tu;if(l&&i){var h=kn(l).hoistableScripts,g=bu(i),v=h.get(g);v||(v=l.querySelector(qc(g)),v||(i=b({src:i,async:!0,type:"module"},r),(r=ks.get(g))&&Vg(i,r),v=l.createElement("script"),Qe(v),Xn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function WE(i,r,l,h){var g=(g=St.current)?od(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Eu(l.href),l=kn(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Eu(l.href);var v=kn(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(Hc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),ks.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ks.set(i,l),v||dP(g,i,l,C.state))),r&&h===null)throw Error(s(528,""));return C}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bu(l),l=kn(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Eu(i){return'href="'+We(i)+'"'}function Hc(i){return'link[rel="stylesheet"]['+i+"]"}function ZE(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function dP(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Xn(r,"link",l),Qe(r),i.head.appendChild(r))}function bu(i){return'[src="'+We(i)+'"]'}function qc(i){return"script[async]"+i}function KE(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+We(l.href)+'"]');if(h)return r.instance=h,Qe(h),h;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Qe(h),Xn(h,"style",g),ld(h,l.precedence,i),r.instance=h;case"stylesheet":g=Eu(l.href);var v=i.querySelector(Hc(g));if(v)return r.state.loading|=4,r.instance=v,Qe(v),v;h=ZE(l),(g=ks.get(g))&&kg(h,g),v=(i.ownerDocument||i).createElement("link"),Qe(v);var C=v;return C._p=new Promise(function(P,z){C.onload=P,C.onerror=z}),Xn(v,"link",h),r.state.loading|=4,ld(v,l.precedence,i),r.instance=v;case"script":return v=bu(l.src),(g=i.querySelector(qc(v)))?(r.instance=g,Qe(g),g):(h=l,(g=ks.get(v))&&(h=b({},l),Vg(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Qe(g),Xn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,ld(h,l.precedence,i));return r.instance}function ld(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,C=0;C<h.length;C++){var P=h[C];if(P.dataset.precedence===r)v=P;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function kg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Vg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ud=null;function YE(i,r,l){if(ud===null){var h=new Map,g=ud=new Map;g.set(l,h)}else g=ud,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[ii]||v[$t]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var P=h.get(C);P?P.push(v):h.set(C,[v])}}return h}function $E(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function mP(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function XE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Gc=null;function pP(){}function gP(i,r,l){if(Gc===null)throw Error(s(475));var h=Gc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Eu(l.href),v=i.querySelector(Hc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=cd.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=v,Qe(v);return}v=i.ownerDocument||i,l=ZE(l),(g=ks.get(g))&&kg(l,g),v=v.createElement("link"),Qe(v);var C=v;C._p=new Promise(function(P,z){C.onload=P,C.onerror=z}),Xn(v,"link",l),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=cd.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function yP(){if(Gc===null)throw Error(s(475));var i=Gc;return i.stylesheets&&i.count===0&&jg(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&jg(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)jg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hd=null;function jg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hd=new Map,r.forEach(_P,i),hd=null,cd.call(i))}function _P(i,r){if(!(r.state.loading&4)){var l=hd.get(i);if(l)var h=l.get(null);else{l=new Map,hd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=r.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||h,v===h&&l.set(null,g),l.set(C,g),this.count++,h=cd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Wc={$$typeof:K,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function vP(i,r,l,h,g,v,C,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function QE(i,r,l,h,g,v,C,P,z,et,ht,mt){return i=new vP(i,r,l,C,P,z,et,mt),r=1,v===!0&&(r|=24),v=xi(3,null,null,r),i.current=v,v.stateNode=i,r=vp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:r},wp(v),i}function JE(i){return i?(i=oa,i):oa}function tb(i,r,l,h,g,v){g=JE(g),h.context===null?h.context=g:h.pendingContext=g,h=eo(r),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=no(i,h,r),l!==null&&(ds(l,i,r),bc(l,i,r))}function eb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Ug(i,r){eb(i,r),(i=i.alternate)&&eb(i,r)}function nb(i){if(i.tag===13){var r=$a(i,67108864);r!==null&&ds(r,i,67108864),Ug(i,67108864)}}var fd=!0;function TP(i,r,l,h){var g=lt.T;lt.T=null;var v=Tt.p;try{Tt.p=2,zg(i,r,l,h)}finally{Tt.p=v,lt.T=g}}function EP(i,r,l,h){var g=lt.T;lt.T=null;var v=Tt.p;try{Tt.p=8,zg(i,r,l,h)}finally{Tt.p=v,lt.T=g}}function zg(i,r,l,h){if(fd){var g=Bg(h);if(g===null)Rg(i,r,h,dd,l),sb(i,h);else if(wP(g,i,r,l,h))h.stopPropagation();else if(sb(i,h),r&4&&-1<bP.indexOf(i)){for(;g!==null;){var v=Xi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=pn(v.pendingLanes);if(C!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var z=1<<31-Ke(C);P.entanglements[1]|=z,C&=~z}Pr(v),(Ie&6)===0&&($f=xn()+500,Uc(0))}}break;case 13:P=$a(v,2),P!==null&&ds(P,v,2),Qf(),Ug(v,2)}if(v=Bg(h),v===null&&Rg(i,r,h,dd,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Rg(i,r,h,null,l)}}function Bg(i){return i=Kn(i),Fg(i)}var dd=null;function Fg(i){if(dd=null,i=si(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return dd=i,null}function ib(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case dr:return 2;case Ge:return 8;case gi:case Ri:return 32;case Zi:return 268435456;default:return 32}default:return 32}}var Hg=!1,go=null,yo=null,_o=null,Zc=new Map,Kc=new Map,vo=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sb(i,r){switch(i){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Zc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(r.pointerId)}}function Yc(i,r,l,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},r!==null&&(r=Xi(r),r!==null&&nb(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function wP(i,r,l,h,g){switch(r){case"focusin":return go=Yc(go,i,r,l,h,g),!0;case"dragenter":return yo=Yc(yo,i,r,l,h,g),!0;case"mouseover":return _o=Yc(_o,i,r,l,h,g),!0;case"pointerover":var v=g.pointerId;return Zc.set(v,Yc(Zc.get(v)||null,i,r,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Kc.set(v,Yc(Kc.get(v)||null,i,r,l,h,g)),!0}return!1}function rb(i){var r=si(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,jt(i.priority,function(){if(l.tag===13){var h=fs();h=_s(h);var g=$a(l,h);g!==null&&ds(g,l,h),Ug(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function md(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Bg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);es=h,l.target.dispatchEvent(h),es=null}else return r=Xi(l),r!==null&&nb(r),i.blockedOn=l,!1;r.shift()}return!0}function ab(i,r,l){md(i)&&l.delete(r)}function SP(){Hg=!1,go!==null&&md(go)&&(go=null),yo!==null&&md(yo)&&(yo=null),_o!==null&&md(_o)&&(_o=null),Zc.forEach(ab),Kc.forEach(ab)}function pd(i,r){i.blockedOn===r&&(i.blockedOn=null,Hg||(Hg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SP)))}var gd=null;function ob(i){gd!==i&&(gd=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gd===i&&(gd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(Fg(h||l)===null)continue;break}var v=Xi(l);v!==null&&(i.splice(r,3),r-=3,Fp(v,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function $c(i){function r(z){return pd(z,i)}go!==null&&pd(go,i),yo!==null&&pd(yo,i),_o!==null&&pd(_o,i),Zc.forEach(r),Kc.forEach(r);for(var l=0;l<vo.length;l++){var h=vo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<vo.length&&(l=vo[0],l.blockedOn===null);)rb(l),l.blockedOn===null&&vo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],v=l[h+1],C=g[ae]||null;if(typeof v=="function")C||ob(l);else if(C){var P=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[ae]||null)P=C.formAction;else if(Fg(g)!==null)continue}else P=C.action;typeof P=="function"?l[h+1]=P:(l.splice(h,3),h-=3),ob(l)}}}function qg(i){this._internalRoot=i}yd.prototype.render=qg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=fs();tb(l,h,i,r,null,null)},yd.prototype.unmount=qg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;tb(i.current,2,null,i,null,null),Qf(),r[me]=null}};function yd(i){this._internalRoot=i}yd.prototype.unstable_scheduleHydration=function(i){if(i){var r=It();i={blockedOn:null,target:i,priority:r};for(var l=0;l<vo.length&&r!==0&&r<vo[l].priority;l++);vo.splice(l,0,i),l===0&&rb(i)}};var lb=t.version;if(lb!=="19.1.0")throw Error(s(527,lb,"19.1.0"));Tt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var xP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:lt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{Te=_d.inject(xP),re=_d}catch{}}return Qc.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=ST,v=xT,C=AT,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=QE(i,1,!1,null,null,l,h,g,v,C,P,null),i[me]=r.current,Ag(i),new qg(r)},Qc.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",v=ST,C=xT,P=AT,z=null,et=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(et=l.formState)),r=QE(i,1,!0,r,l??null,h,g,v,C,P,z,et),r.context=JE(null),l=r.current,h=fs(),h=_s(h),g=eo(h),g.callback=null,no(l,g,h),l=h,r.current.lanes=l,Li(r,l),Pr(r),i[me]=r.current,Ag(i),new yd(r)},Qc.version="19.1.0",Qc}var _b;function NP(){if(_b)return Zg.exports;_b=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zg.exports=DP(),Zg.exports}var OP=NP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vb="popstate";function kP(e={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Iy("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ah(o)}return jP(t,n,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VP(){return Math.random().toString(36).substring(2,10)}function Tb(e,t){return{usr:e.state,key:e.key,idx:t}}function Iy(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yu(t):t,state:n,key:t&&t.key||s||VP()}}function Ah({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function jP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,_=b();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function b(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=b(),G=q==null?null:q-_;_=q,y&&y({action:m,location:B.location,delta:G})}function S(q,G){m="PUSH";let nt=Iy(B.location,q,G);_=b()+1;let K=Tb(nt,_),pt=B.createHref(nt);try{f.pushState(K,"",pt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(pt)}u&&y&&y({action:m,location:B.location,delta:1})}function M(q,G){m="REPLACE";let nt=Iy(B.location,q,G);_=b();let K=Tb(nt,_),pt=B.createHref(nt);f.replaceState(K,"",pt),u&&y&&y({action:m,location:B.location,delta:0})}function k(q){return UP(q)}let B={get action(){return m},get location(){return e(o,f)},listen(q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(vb,A),y=q,()=>{o.removeEventListener(vb,A),y=null}},createHref(q){return t(o,q)},createURL:k,encodeLocation(q){let G=k(q);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:M,go(q){return f.go(q)}};return B}function UP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ah(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Mx(e,t,n="/"){return zP(e,t,n,!1)}function zP(e,t,n,s){let o=typeof t=="string"?Yu(t):t,u=Sa(o.pathname||"/",n);if(u==null)return null;let f=Dx(e);BP(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=QP(u);m=$P(f[y],_,s)}return m}function Dx(e,t=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(Xe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=Ta([s,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Dx(u.children,t,b,_)),!(u.path==null&&!u.index)&&t.push({path:_,score:KP(_,u.index),routesMeta:b})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of Nx(u.path))o(u,f,m)}),t}function Nx(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Nx(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function BP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FP=/^:[\w-]+$/,HP=3,qP=2,GP=1,WP=10,ZP=-2,Eb=e=>e==="*";function KP(e,t){let n=e.split("/"),s=n.length;return n.some(Eb)&&(s+=ZP),t&&(s+=qP),n.filter(o=>!Eb(o)).reduce((o,u)=>o+(FP.test(u)?HP:u===""?GP:WP),s)}function YP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function $P(e,t,n=!1){let{routesMeta:s}=e,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,b=u==="/"?t:t.slice(u.length)||"/",A=em({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},b),S=y.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=em({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Ta([u,A.pathname]),pathnameBase:n2(Ta([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Ta([u,A.pathnameBase]))}return f}function em(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=XP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:b,isOptional:A},S)=>{if(b==="*"){let k=m[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const M=m[S];return A&&!M?_[b]=void 0:_[b]=(M||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:e}}function XP(e,t=!1,n=!0){Fs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function QP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function JP(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Yu(e):e;return{pathname:n?n.startsWith("/")?n:t2(n,t):t,search:i2(s),hash:s2(o)}}function t2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Xg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function R_(e){let t=e2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function C_(e,t,n,s=!1){let o;typeof e=="string"?o=Yu(e):(o={...e},Xe(!o.pathname||!o.pathname.includes("?"),Xg("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Xg("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Xg("#","search","hash",o)));let u=e===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?t[A]:"/"}let y=JP(o,m),_=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||b)&&(y.pathname+="/"),y}var Ta=e=>e.join("/").replace(/\/\/+/g,"/"),n2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Ox=["POST","PUT","PATCH","DELETE"];new Set(Ox);var a2=["GET",...Ox];new Set(a2);var $u=N.createContext(null);$u.displayName="DataRouter";var Pm=N.createContext(null);Pm.displayName="DataRouterState";N.createContext(!1);var kx=N.createContext({isTransitioning:!1});kx.displayName="ViewTransition";var o2=N.createContext(new Map);o2.displayName="Fetchers";var l2=N.createContext(null);l2.displayName="Await";var fr=N.createContext(null);fr.displayName="Navigation";var Kh=N.createContext(null);Kh.displayName="Location";var Hr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var I_=N.createContext(null);I_.displayName="RouteError";function u2(e,{relative:t}={}){Xe(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(fr),{hash:o,pathname:u,search:f}=Yh(e,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ta([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Xu(){return N.useContext(Kh)!=null}function qs(){return Xe(Xu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Kh).location}var Vx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jx(e){N.useContext(fr).static||N.useLayoutEffect(e)}function Bo(){let{isDataRoute:e}=N.useContext(Hr);return e?b2():c2()}function c2(){Xe(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext($u),{basename:t,navigator:n}=N.useContext(fr),{matches:s}=N.useContext(Hr),{pathname:o}=qs(),u=JSON.stringify(R_(s)),f=N.useRef(!1);return jx(()=>{f.current=!0}),N.useCallback((y,_={})=>{if(Fs(f.current,Vx),!f.current)return;if(typeof y=="number"){n.go(y);return}let b=C_(y,JSON.parse(u),o,_.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Ta([t,b.pathname])),(_.replace?n.replace:n.push)(b,_.state,_)},[t,n,u,o,e])}N.createContext(null);function Yh(e,{relative:t}={}){let{matches:n}=N.useContext(Hr),{pathname:s}=qs(),o=JSON.stringify(R_(n));return N.useMemo(()=>C_(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function h2(e,t){return Ux(e,t)}function Ux(e,t,n,s){Xe(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(fr),{matches:u}=N.useContext(Hr),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",b=f&&f.route;{let G=b&&b.path||"";zx(y,!b||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=qs(),S;if(t){let G=typeof t=="string"?Yu(t):t;Xe(_==="/"||G.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),S=G}else S=A;let M=S.pathname||"/",k=M;if(_!=="/"){let G=_.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let B=Mx(e,{pathname:k});Fs(b||B!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Fs(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=g2(B&&B.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Ta([_,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:Ta([_,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return t&&q?N.createElement(Kh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},q):q}function f2(){let e=E2(),t=r2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:o},n):null,f)}var d2=N.createElement(f2,null),m2=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Hr.Provider,{value:this.props.routeContext},N.createElement(I_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p2({routeContext:e,match:t,children:n}){let s=N.useContext($u);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Hr.Provider,{value:e},n)}function g2(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Xe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:A}=n,S=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,_,b)=>{let A,S=!1,M=null,k=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||d2,f&&(m<0&&b===0?(zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===b&&(S=!0,k=_.route.hydrateFallbackElement||null)));let B=t.concat(o.slice(0,b+1)),q=()=>{let G;return A?G=M:S?G=k:_.route.Component?G=N.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=y,N.createElement(p2,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?N.createElement(m2,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:q(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):q()},null)}function P_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y2(e){let t=N.useContext($u);return Xe(t,P_(e)),t}function _2(e){let t=N.useContext(Pm);return Xe(t,P_(e)),t}function v2(e){let t=N.useContext(Hr);return Xe(t,P_(e)),t}function L_(e){let t=v2(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function T2(){return L_("useRouteId")}function E2(){let e=N.useContext(I_),t=_2("useRouteError"),n=L_("useRouteError");return e!==void 0?e:t.errors?.[n]}function b2(){let{router:e}=y2("useNavigate"),t=L_("useNavigate"),n=N.useRef(!1);return jx(()=>{n.current=!0}),N.useCallback(async(o,u={})=>{Fs(n.current,Vx),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var bb={};function zx(e,t,n){!t&&!bb[e]&&(bb[e]=!0,Fs(!1,n))}N.memo(w2);function w2({routes:e,future:t,state:n}){return Ux(e,void 0,n,t)}function Qg({to:e,replace:t,state:n,relative:s}){Xe(Xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(fr);Fs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Hr),{pathname:f}=qs(),m=Bo(),y=C_(e,R_(u),f,s==="path"),_=JSON.stringify(y);return N.useEffect(()=>{m(JSON.parse(_),{replace:t,state:n,relative:s})},[m,_,s,t,n]),null}function rr(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Xe(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Yu(n));let{pathname:y="/",search:_="",hash:b="",state:A=null,key:S="default"}=n,M=N.useMemo(()=>{let k=Sa(y,f);return k==null?null:{location:{pathname:k,search:_,hash:b,state:A,key:S},navigationType:s}},[f,y,_,b,A,S,s]);return Fs(M!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:N.createElement(fr.Provider,{value:m},N.createElement(Kh.Provider,{children:t,value:M}))}function x2({children:e,location:t}){return h2(Py(e),t)}function Py(e,t=[]){let n=[];return N.Children.forEach(e,(s,o)=>{if(!N.isValidElement(s))return;let u=[...t,o];if(s.type===N.Fragment){n.push.apply(n,Py(s.props.children,u));return}Xe(s.type===rr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Py(s.props.children,u)),n.push(f)}),n}var Od="get",kd="application/x-www-form-urlencoded";function Lm(e){return e!=null&&typeof e.tagName=="string"}function A2(e){return Lm(e)&&e.tagName.toLowerCase()==="button"}function R2(e){return Lm(e)&&e.tagName.toLowerCase()==="form"}function C2(e){return Lm(e)&&e.tagName.toLowerCase()==="input"}function I2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function P2(e,t){return e.button===0&&(!t||t==="_self")&&!I2(e)}function Ly(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function L2(e,t){let n=Ly(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var vd=null;function M2(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jg(e){return e!=null&&!D2.has(e)?(Fs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):e}function N2(e,t){let n,s,o,u,f;if(R2(e)){let m=e.getAttribute("action");s=m?Sa(m,t):null,n=e.getAttribute("method")||Od,o=Jg(e.getAttribute("enctype"))||kd,u=new FormData(e)}else if(A2(e)||C2(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(s=y?Sa(y,t):null,n=e.getAttribute("formmethod")||m.getAttribute("method")||Od,o=Jg(e.getAttribute("formenctype"))||Jg(m.getAttribute("enctype"))||kd,u=new FormData(m,e),!M2()){let{name:_,type:b,value:A}=e;if(b==="image"){let S=_?`${_}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else _&&u.append(_,A)}}else{if(Lm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Od,s=null,o=kd,f=e}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Sa(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function k2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j2(e,t,n){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await k2(u,n);return f.links?f.links():[]}return[]}));return F2(s.flat(1).filter(V2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wb(e,t,n,s,o,u){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,m=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,_)=>f(y,_)||m(y,_)):u==="data"?t.filter((y,_)=>{let b=s.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(f(y,_)||m(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function U2(e,t,{includeHydrateFallback:n}={}){return z2(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function z2(e){return[...new Set(e)]}function B2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function F2(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(B2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Bx(){let e=N.useContext($u);return M_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function H2(){let e=N.useContext(Pm);return M_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var D_=N.createContext(void 0);D_.displayName="FrameworkContext";function Fx(){let e=N.useContext(D_);return M_(e,"You must render this element inside a <HydratedRouter> element"),e}function q2(e,t){let n=N.useContext(D_),[s,o]=N.useState(!1),[u,f]=N.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:_,onMouseLeave:b,onTouchStart:A}=t,S=N.useRef(null);N.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let B=G=>{G.forEach(nt=>{f(nt.isIntersecting)})},q=new IntersectionObserver(B,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[e]),N.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let M=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?e!=="intent"?[u,S,{}]:[u,S,{onFocus:Jc(m,M),onBlur:Jc(y,k),onMouseEnter:Jc(_,M),onMouseLeave:Jc(b,k),onTouchStart:Jc(A,M)}]:[!1,S,{}]}function Jc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function G2({page:e,...t}){let{router:n}=Bx(),s=N.useMemo(()=>Mx(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?N.createElement(Z2,{page:e,matches:s,...t}):null}function W2(e){let{manifest:t,routeModules:n}=Fx(),[s,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return j2(e,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[e,t,n]),s}function Z2({page:e,matches:t,...n}){let s=qs(),{manifest:o,routeModules:u}=Fx(),{basename:f}=Bx(),{loaderData:m,matches:y}=H2(),_=N.useMemo(()=>wb(e,t,y,o,s,"data"),[e,t,y,o,s]),b=N.useMemo(()=>wb(e,t,y,o,s,"assets"),[e,t,y,o,s]),A=N.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,B=!1;if(t.forEach(G=>{let nt=o.routes[G.route.id];!nt||!nt.hasLoader||(!_.some(K=>K.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||nt.hasClientLoader?B=!0:k.add(G.route.id))}),k.size===0)return[];let q=O2(e,f,"data");return B&&k.size>0&&q.searchParams.set("_routes",t.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,t,e,u]),S=N.useMemo(()=>U2(b,o),[b,o]),M=W2(b);return N.createElement(N.Fragment,null,A.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),M.map(({key:k,link:B})=>N.createElement("link",{key:k,...B})))}function K2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hx&&(window.__reactRouterVersion="7.7.0")}catch{}function Y2({basename:e,children:t,window:n}){let s=N.useRef();s.current==null&&(s.current=kP({window:n,v5Compat:!0}));let o=s.current,[u,f]=N.useState({action:o.action,location:o.location}),m=N.useCallback(y=>{N.startTransition(()=>f(y))},[f]);return N.useLayoutEffect(()=>o.listen(m),[o,m]),N.createElement(S2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dh=N.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:_,preventScrollReset:b,viewTransition:A,...S},M){let{basename:k}=N.useContext(fr),B=typeof _=="string"&&qx.test(_),q,G=!1;if(typeof _=="string"&&B&&(q=_,Hx))try{let V=new URL(window.location.href),W=_.startsWith("//")?new URL(V.protocol+_):new URL(_),Z=Sa(W.pathname,k);W.origin===V.origin&&Z!=null?_=Z+W.search+W.hash:G=!0}catch{Fs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=u2(_,{relative:o}),[K,pt,ut]=q2(s,S),xt=J2(_,{replace:f,state:m,target:y,preventScrollReset:b,relative:o,viewTransition:A});function H(V){t&&t(V),V.defaultPrevented||xt(V)}let O=N.createElement("a",{...S,...ut,href:q||nt,onClick:G||u?t:H,ref:K2(M,pt),target:y,"data-discover":!B&&n==="render"?"true":void 0});return K&&!B?N.createElement(N.Fragment,null,O,N.createElement(G2,{page:nt})):O});dh.displayName="Link";var $2=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,..._},b){let A=Yh(f,{relative:_.relative}),S=qs(),M=N.useContext(Pm),{navigator:k,basename:B}=N.useContext(fr),q=M!=null&&rL(A)&&m===!0,G=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,nt=S.pathname,K=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(nt=nt.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&B&&(K=Sa(K,B)||K);const pt=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ut=nt===G||!o&&nt.startsWith(G)&&nt.charAt(pt)==="/",xt=K!=null&&(K===G||!o&&K.startsWith(G)&&K.charAt(G.length)==="/"),H={isActive:ut,isPending:xt,isTransitioning:q},O=ut?t:void 0,V;typeof s=="function"?V=s(H):V=[s,ut?"active":null,xt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let W=typeof u=="function"?u(H):u;return N.createElement(dh,{..._,"aria-current":O,className:V,ref:b,style:W,to:f,viewTransition:m},typeof y=="function"?y(H):y)});$2.displayName="NavLink";var X2=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Od,action:m,onSubmit:y,relative:_,preventScrollReset:b,viewTransition:A,...S},M)=>{let k=iL(),B=sL(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&qx.test(m),nt=K=>{if(y&&y(K),K.defaultPrevented)return;K.preventDefault();let pt=K.nativeEvent.submitter,ut=pt?.getAttribute("formmethod")||f;k(pt||K.currentTarget,{fetcherKey:t,method:ut,navigate:n,replace:o,state:u,relative:_,preventScrollReset:b,viewTransition:A})};return N.createElement("form",{ref:M,method:q,action:B,onSubmit:s?y:nt,...S,"data-discover":!G&&e==="render"?"true":void 0})});X2.displayName="Form";function Q2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(e){let t=N.useContext($u);return Xe(t,Q2(e)),t}function J2(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Bo(),y=qs(),_=Yh(e,{relative:u});return N.useCallback(b=>{if(P2(b,t)){b.preventDefault();let A=n!==void 0?n:Ah(y)===Ah(_);m(e,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,_,n,s,t,e,o,u,f])}function tL(e){Fs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(Ly(e)),n=N.useRef(!1),s=qs(),o=N.useMemo(()=>L2(s.search,n.current?null:t.current),[s.search]),u=Bo(),f=N.useCallback((m,y)=>{const _=Ly(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+_,y)},[u,o]);return[o,f]}var eL=0,nL=()=>`__${String(++eL)}__`;function iL(){let{router:e}=Gx("useSubmit"),{basename:t}=N.useContext(fr),n=T2();return N.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:_}=N2(s,t);if(o.navigate===!1){let b=o.fetcherKey||nL();await e.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function sL(e,{relative:t}={}){let{basename:n}=N.useContext(fr),s=N.useContext(Hr);Xe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Yh(e||".",{relative:t})},f=qs();if(e==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(b=>b==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let b=m.toString();u.search=b?`?${b}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ta([n,u.pathname])),Ah(u)}function rL(e,t={}){let n=N.useContext(kx);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gx("useViewTransitionState"),o=Yh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Sa(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Sa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return em(o.pathname,f)!=null||em(o.pathname,u)!=null}Lx();const aL="modulepreload",oL=function(e){return"/"+e},Sb={},lL=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(_){return Promise.all(_.map(b=>Promise.resolve(b).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=y(n.map(_=>{if(_=oL(_),_ in Sb)return;Sb[_]=!0;const b=_.endsWith(".css"),A=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${A}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":aL,b||(S.as="script"),S.crossOrigin="",S.href=_,m&&S.setAttribute("nonce",m),document.head.appendChild(S),b)return new Promise((M,k)=>{S.addEventListener("load",M),S.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},uL=()=>{};var xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cL=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],f=e[n++],m=e[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,m=f?e[o+1]:0,y=o+2<e.length,_=y?e[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|_>>6,M=_&63;y||(M=64,f||(S=64)),s.push(n[b],n[A],n[S],n[M])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Wx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):cL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const _=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||_==null||A==null)throw new hL;const S=u<<2|m>>4;if(s.push(S),_!==64){const M=m<<4&240|_>>2;if(s.push(M),A!==64){const k=_<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fL=function(e){const t=Wx(e);return Zx.encodeByteArray(t,!0)},nm=function(e){return fL(e).replace(/\./g,"")},Kx=function(e){try{return Zx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=()=>dL().__FIREBASE_DEFAULTS__,pL=()=>{if(typeof process>"u"||typeof xb>"u")return;const e=xb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Kx(e[1]);return t&&JSON.parse(t)},Mm=()=>{try{return uL()||mL()||pL()||gL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yx=e=>Mm()?.emulatorHosts?.[e],$x=e=>{const t=Yx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Xx=()=>Mm()?.config,Qx=e=>Mm()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dm(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[nm(JSON.stringify(n)),nm(JSON.stringify(f)),""].join(".")}const mh={};function vL(){const e={prod:[],emulator:[]};for(const t of Object.keys(mh))mh[t]?e.emulator.push(t):e.prod.push(t);return e}function TL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Ab=!1;function N_(e,t){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||mh[e]===t||mh[e]||Ab)return;mh[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=vL().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Ab=!0,f()},S}function b(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=TL(s),M=n("text"),k=document.getElementById(M)||document.createElement("span"),B=n("learnmore"),q=document.getElementById(B)||document.createElement("a"),G=n("preprendIcon"),nt=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;m(K),b(q,B);const pt=_();y(nt,G),K.append(nt,k,q,pt),document.body.appendChild(K)}u?(k.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())}function bL(){const e=Mm()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AL(){const e=pi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function RL(){return!bL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CL(){try{return typeof indexedDB=="object"}catch{return!1}}function IL(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="FirebaseError";class qr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=PL,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?LL(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new qr(o,m,s)}}function LL(e,t){return e.replace(ML,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const ML=/\{\$([^}]+)}/g;function DL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mo(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],f=t[o];if(Rb(u)&&Rb(f)){if(!Mo(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Rb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function rh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function ah(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function NL(e,t){const n=new OL(e,t);return n.subscribe.bind(n)}class OL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kL(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=ty),o.error===void 0&&(o.error=ty),o.complete===void 0&&(o.complete=ty);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ty(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){return e&&e._delegate?e._delegate:e}class Do{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new yL;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UL(t))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=wl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wl){return this.instances.has(t)}getOptions(t=wl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jL(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=wl){return this.component?this.component.multipleInstances?t:wl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jL(e){return e===wl?void 0:e}function UL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VL(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const BL={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},FL=he.INFO,HL={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},qL=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=HL[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O_{constructor(t){this.name=t,this._logLevel=FL,this._logHandler=qL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const GL=(e,t)=>t.some(n=>e instanceof n);let Cb,Ib;function WL(){return Cb||(Cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZL(){return Ib||(Ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jx=new WeakMap,My=new WeakMap,tA=new WeakMap,ey=new WeakMap,k_=new WeakMap;function KL(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(Ro(e.result)),o()},f=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Jx.set(n,e)}).catch(()=>{}),k_.set(t,e),t}function YL(e){if(My.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});My.set(e,t)}let Dy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return My.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $L(e){Dy=e(Dy)}function XL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(ny(this),t,...n);return tA.set(s,t.sort?t.sort():[t]),Ro(s)}:ZL().includes(e)?function(...t){return e.apply(ny(this),t),Ro(Jx.get(this))}:function(...t){return Ro(e.apply(ny(this),t))}}function QL(e){return typeof e=="function"?XL(e):(e instanceof IDBTransaction&&YL(e),GL(e,WL())?new Proxy(e,Dy):e)}function Ro(e){if(e instanceof IDBRequest)return KL(e);if(ey.has(e))return ey.get(e);const t=QL(e);return t!==e&&(ey.set(e,t),k_.set(t,e)),t}const ny=e=>k_.get(e);function JL(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),m=Ro(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Ro(f.result),y.oldVersion,y.newVersion,Ro(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const tM=["get","getKey","getAll","getAllKeys","count"],eM=["put","add","delete","clear"],iy=new Map;function Pb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(iy.get(t))return iy.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=eM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tM.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&y.done]))[0]};return iy.set(t,u),u}$L(e=>({...e,get:(t,n,s)=>Pb(t,n)||e.get(t,n,s),has:(t,n)=>!!Pb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iM(e){return e.getComponent()?.type==="VERSION"}const Ny="@firebase/app",Lb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new O_("@firebase/app"),sM="@firebase/app-compat",rM="@firebase/analytics-compat",aM="@firebase/analytics",oM="@firebase/app-check-compat",lM="@firebase/app-check",uM="@firebase/auth",cM="@firebase/auth-compat",hM="@firebase/database",fM="@firebase/data-connect",dM="@firebase/database-compat",mM="@firebase/functions",pM="@firebase/functions-compat",gM="@firebase/installations",yM="@firebase/installations-compat",_M="@firebase/messaging",vM="@firebase/messaging-compat",TM="@firebase/performance",EM="@firebase/performance-compat",bM="@firebase/remote-config",wM="@firebase/remote-config-compat",SM="@firebase/storage",xM="@firebase/storage-compat",AM="@firebase/firestore",RM="@firebase/ai",CM="@firebase/firestore-compat",IM="firebase",PM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="[DEFAULT]",LM={[Ny]:"fire-core",[sM]:"fire-core-compat",[aM]:"fire-analytics",[rM]:"fire-analytics-compat",[lM]:"fire-app-check",[oM]:"fire-app-check-compat",[uM]:"fire-auth",[cM]:"fire-auth-compat",[hM]:"fire-rtdb",[fM]:"fire-data-connect",[dM]:"fire-rtdb-compat",[mM]:"fire-fn",[pM]:"fire-fn-compat",[gM]:"fire-iid",[yM]:"fire-iid-compat",[_M]:"fire-fcm",[vM]:"fire-fcm-compat",[TM]:"fire-perf",[EM]:"fire-perf-compat",[bM]:"fire-rc",[wM]:"fire-rc-compat",[SM]:"fire-gcs",[xM]:"fire-gcs-compat",[AM]:"fire-fst",[CM]:"fire-fst-compat",[RM]:"fire-vertex","fire-js":"fire-js",[IM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map,MM=new Map,ky=new Map;function Mb(e,t){try{e.container.addComponent(t)}catch(n){xa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dl(e){const t=e.name;if(ky.has(t))return xa.debug(`There were multiple attempts to register component ${t}.`),!1;ky.set(t,e);for(const n of im.values())Mb(n,e);for(const n of MM.values())Mb(n,e);return!0}function Qh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Bi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new $h("app","Firebase",DM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=PM;function eA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Oy,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Co.create("bad-app-name",{appName:String(o)});if(n||(n=Xx()),!n)throw Co.create("no-options");const u=im.get(o);if(u){if(Mo(n,u.options)&&Mo(s,u.config))return u;throw Co.create("duplicate-app",{appName:o})}const f=new zL(o);for(const y of ky.values())f.addComponent(y);const m=new NM(n,s,f);return im.set(o,m),m}function V_(e=Oy){const t=im.get(e);if(!t&&e===Oy&&Xx())return eA();if(!t)throw Co.create("no-app",{appName:e});return t}function Mr(e,t,n){let s=LM[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xa.warn(f.join(" "));return}Dl(new Do(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebase-heartbeat-database",kM=1,Rh="firebase-heartbeat-store";let sy=null;function nA(){return sy||(sy=JL(OM,kM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Rh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Co.create("idb-open",{originalErrorMessage:e.message})})),sy}async function VM(e){try{const n=(await nA()).transaction(Rh),s=await n.objectStore(Rh).get(iA(e));return await n.done,s}catch(t){if(t instanceof qr)xa.warn(t.message);else{const n=Co.create("idb-get",{originalErrorMessage:t?.message});xa.warn(n.message)}}}async function Db(e,t){try{const s=(await nA()).transaction(Rh,"readwrite");await s.objectStore(Rh).put(t,iA(e)),await s.done}catch(n){if(n instanceof qr)xa.warn(n.message);else{const s=Co.create("idb-set",{originalErrorMessage:n?.message});xa.warn(s.message)}}}function iA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=1024,UM=30;class zM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Nb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>UM){const o=HM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){xa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Nb(),{heartbeatsToSend:n,unsentEntries:s}=BM(this._heartbeatsCache.heartbeats),o=nm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return xa.warn(t),""}}}function Nb(){return new Date().toISOString().substring(0,10)}function BM(e,t=jM){const n=[];let s=e.slice();for(const o of e){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ob(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ob(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CL()?IL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Db(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ob(e){return nm(JSON.stringify({version:2,heartbeats:e})).length}function HM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){Dl(new Do("platform-logger",t=>new nM(t),"PRIVATE")),Dl(new Do("heartbeat",t=>new zM(t),"PRIVATE")),Mr(Ny,Lb,e),Mr(Ny,Lb,"esm2020"),Mr("fire-js","")}qM("");var GM="firebase",WM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(GM,WM,"app");function sA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZM=sA,rA=new $h("auth","Firebase",sA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new O_("@firebase/auth");function KM(e,...t){sm.logLevel<=he.WARN&&sm.warn(`Auth (${Qu}): ${e}`,...t)}function Vd(e,...t){sm.logLevel<=he.ERROR&&sm.error(`Auth (${Qu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(e,...t){throw U_(e,...t)}function ur(e,...t){return U_(e,...t)}function j_(e,t,n){const s={...ZM(),[t]:n};return new $h("auth","Firebase",s).create(t,{appName:e.name})}function Ea(e){return j_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YM(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Hs(e,"argument-error"),j_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U_(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return rA.create(e,...t)}function Ht(e,t,...n){if(!e)throw U_(t,...n)}function _a(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vd(t),new Error(t)}function Aa(e,t){e||_a(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){return typeof self<"u"&&self.location?.href||""}function $M(){return kb()==="http:"||kb()==="https:"}function kb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($M()||SL()||"connection"in navigator)?navigator.onLine:!0}function QM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n){this.shortDelay=t,this.longDelay=n,Aa(n>t,"Short delay should be less than long delay!"),this.isMobile=EL()||xL()}get(){return XM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(e,t){Aa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new Jh(3e4,6e4);function Ho(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function qo(e,t,n,s,o={}){return oA(e,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Xh({key:e.config.apiKey,...f}).slice(1),y=await e._getAdditionalHeaders();y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode);const _={method:t,headers:y,...u};return wL()||(_.referrerPolicy="no-referrer"),e.emulatorConfig&&Fo(e.emulatorConfig.host)&&(_.credentials="include"),aA.fetch()(await lA(e,e.config.apiHost,n,m),_)})}async function oA(e,t,n){e._canInitEmulator=!1;const s={...JM,...t};try{const o=new iD(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Td(e,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(e,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Td(e,"email-already-in-use",f);if(y==="USER_DISABLED")throw Td(e,"user-disabled",f);const b=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw j_(e,b,_);Hs(e,b)}}catch(o){if(o instanceof qr)throw o;Hs(e,"network-request-failed",{message:String(o)})}}async function tf(e,t,n,s,o={}){const u=await qo(e,t,n,s,o);return"mfaPendingCredential"in u&&Hs(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function lA(e,t,n,s){const o=`${t}${n}?${s}`,u=e,f=u.config.emulator?z_(e.config,o):`${e.config.apiScheme}://${o}`;return tD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function nD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),eD.get())})}}function Td(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ur(e,t,s);return o.customData._tokenResponse=n,o}function Vb(e){return e!==void 0&&e.enterprise!==void 0}class sD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return nD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rD(e,t){return qo(e,"GET","/v2/recaptchaConfig",Ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(e,t){return qo(e,"POST","/v1/accounts:delete",t)}async function rm(e,t){return qo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oD(e,t=!1){const n=un(e),s=await n.getIdToken(t),o=B_(s);Ht(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ph(ry(o.auth_time)),issuedAtTime:ph(ry(o.iat)),expirationTime:ph(ry(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ry(e){return Number(e)*1e3}function B_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Kx(n);return o?JSON.parse(o):(Vd("Failed to decode base64 JWT payload"),null)}catch(o){return Vd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jb(e){const t=B_(e);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof qr&&lD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function lD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ph(this.lastLoginAt),this.creationTime=ph(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(e){const t=e.auth,n=await e.getIdToken(),s=await Ch(e,rm(t,{idToken:n}));Ht(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?uA(o.providerUserInfo):[],f=hD(e.providerData,u),m=e.isAnonymous,y=!(e.email&&o.passwordHash)&&!f?.length,_=m?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jy(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(e,b)}async function cD(e){const t=un(e);await am(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function uA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(e,t){const n=await oA(e,{},async()=>{const s=Xh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,f=await lA(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return e.emulatorConfig&&Fo(e.emulatorConfig.host)&&(y.credentials="include"),aA.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dD(e,t){return qo(e,"POST","/v2/accounts:revokeToken",Ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const n=jb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ou;return s&&(Ht(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Ht(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Ht(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return _a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e,t){Ht(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class or{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ch(this,this.stsTokenManager.getToken(this.auth,t));return Ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oD(this,t)}reload(){return cD(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new or({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await am(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(Ea(this.auth));const t=await this.getIdToken();return await Ch(this,aD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:M,providerData:k,stsTokenManager:B}=n;Ht(A&&B,t,"internal-error");const q=Ou.fromJSON(this.name,B);Ht(typeof A=="string",t,"internal-error"),Eo(s,t.name),Eo(o,t.name),Ht(typeof S=="boolean",t,"internal-error"),Ht(typeof M=="boolean",t,"internal-error"),Eo(u,t.name),Eo(f,t.name),Eo(m,t.name),Eo(y,t.name),Eo(_,t.name),Eo(b,t.name);const G=new or({uid:A,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:_,lastLoginAt:b});return k&&Array.isArray(k)&&(G.providerData=k.map(nt=>({...nt}))),y&&(G._redirectEventId=y),G}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ou;o.updateFromServerResponse(n);const u=new or({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await am(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Ht(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?uA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ou;m.updateFromIdToken(s);const y=new or({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;function va(e){Aa(e instanceof Function,"Expected a class definition");let t=Ub.get(e);return t?(Aa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ub.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cA.type="NONE";const zb=cA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(e,t,n){return`firebase:${e}:${t}:${n}`}class ku{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=jd(this.userKey,o.apiKey,u),this.fullPersistenceKey=jd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await rm(this.auth,{idToken:t}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,t):null}return or._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ku(va(zb),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||va(zb);const f=jd(s,t.config.apiKey,t.name);let m=null;for(const _ of n)try{const b=await _._get(f);if(b){let A;if(typeof b=="string"){const S=await rm(t,{idToken:b}).catch(()=>{});if(!S)break;A=await or._fromGetAccountInfoResponse(t,S,b)}else A=or._fromJSON(t,b);_!==u&&(m=A),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ku(u,t,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new ku(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gA(t))return"Blackberry";if(yA(t))return"Webos";if(fA(t))return"Safari";if((t.includes("chrome/")||dA(t))&&!t.includes("edge/"))return"Chrome";if(pA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function hA(e=pi()){return/firefox\//i.test(e)}function fA(e=pi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dA(e=pi()){return/crios\//i.test(e)}function mA(e=pi()){return/iemobile/i.test(e)}function pA(e=pi()){return/android/i.test(e)}function gA(e=pi()){return/blackberry/i.test(e)}function yA(e=pi()){return/webos/i.test(e)}function F_(e=pi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mD(e=pi()){return F_(e)&&!!window.navigator?.standalone}function pD(){return AL()&&document.documentMode===10}function _A(e=pi()){return F_(e)||pA(e)||yA(e)||gA(e)||/windows phone/i.test(e)||mA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(e,t=[]){let n;switch(e){case"Browser":n=Bb(pi());break;case"Worker":n=`${Bb(pi())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(e,t={}){return qo(e,"GET","/v2/passwordPolicy",Ho(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class vD{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_D,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=va(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ku.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rm(this,{idToken:t}),s=await or._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await am(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bi(this.app))return Promise.reject(Ea(this));const n=t?un(t):null;return n&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bi(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(va(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yD(this),n=new vD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $h("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&va(t)||this._popupRedirectResolver;Ht(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[va(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Go(e){return un(e)}class Fb{constructor(t){this.auth=t,this.observer=null,this.addObserver=NL(n=>this.observer=n)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ED(e){Nm=e}function TA(e){return Nm.loadJS(e)}function bD(){return Nm.recaptchaEnterpriseScript}function wD(){return Nm.gapiScript}function SD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class xD{constructor(){this.enterprise=new AD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class AD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const RD="recaptcha-enterprise",EA="NO_RECAPTCHA";class CD{constructor(t){this.type=RD,this.auth=Go(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{rD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new sD(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;Vb(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(EA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Vb(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=bD();y.length!==0&&(y+=m),TA(y).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function Hb(e,t,n,s=!1,o=!1){const u=new CD(e);let f;if(o)f=EA;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Uy(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hb(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Hb(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e,t){const n=Qh(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Mo(u,t??{}))return o;Hs(o,"already-initialized")}return n.initialize({options:t})}function PD(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(va);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function LD(e,t,n){const s=Go(e);Ht(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=bA(t),{host:f,port:m}=MD(t),y=m===null?"":`:${m}`,_={url:`${u}//${f}${y}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ht(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ht(Mo(_,s.config.emulator)&&Mo(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Fo(f)?(Dm(`${u}//${f}${y}`),N_("Auth",!0)):DD()}function bA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MD(e){const t=bA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:qb(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:qb(f)}}}function qb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function DD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _a("not implemented")}_getIdTokenResponse(t){return _a("not implemented")}_linkToIdToken(t,n){return _a("not implemented")}_getReauthenticationResolver(t){return _a("not implemented")}}async function ND(e,t){return qo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e,t){return tf(e,"POST","/v1/accounts:signInWithPassword",Ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",Ho(e,t))}async function VD(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",Ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends H_{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ih(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ih(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uy(t,n,"signInWithPassword",OD);case"emailLink":return kD(t,{email:this._email,oobCode:this._password});default:Hs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uy(t,s,"signUpPassword",ND);case"emailLink":return VD(t,{idToken:n,email:this._email,oobCode:this._password});default:Hs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(e,t){return tf(e,"POST","/v1/accounts:signInWithIdp",Ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class Nl extends H_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Nl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Nl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Vu(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Vu(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Vu(t,n)}buildRequest(){const t={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zD(e){const t=rh(ah(e)).link,n=t?rh(ah(t)).deep_link_id:null,s=rh(ah(e)).deep_link_id;return(s?rh(ah(s)).link:null)||s||n||t||e}class q_{constructor(t){const n=rh(ah(t)),s=n.apiKey??null,o=n.oobCode??null,u=UD(n.mode??null);Ht(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=zD(t);try{return new q_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.providerId=Ju.PROVIDER_ID}static credential(t,n){return Ih._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=q_.parseLink(n);return Ht(s,"argument-error"),Ih._fromEmailAndCode(t,s.code,s.tenantId)}}Ju.PROVIDER_ID="password";Ju.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ju.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends G_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends ef{constructor(){super("facebook.com")}static credential(t){return Nl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wo.credentialFromTaggedObject(t)}static credentialFromError(t){return wo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wo.credential(t.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Nl._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ya.credentialFromTaggedObject(t)}static credentialFromError(t){return ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ya.credential(n,s)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends ef{constructor(){super("github.com")}static credential(t){return Nl._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return So.credentialFromTaggedObject(t)}static credentialFromError(t){return So.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return So.credential(t.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends ef{constructor(){super("twitter.com")}static credential(t,n){return Nl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return xo.credentialFromTaggedObject(t)}static credentialFromError(t){return xo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return xo.credential(n,s)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(e,t){return tf(e,"POST","/v1/accounts:signUp",Ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await or._fromIdTokenResponse(t,s,o),f=Gb(s);return new Ol({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Gb(s);return new Ol({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Gb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends qr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,om.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new om(t,n,s,o)}}function wA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(e,u,t,s):u})}async function FD(e,t,n=!1){const s=await Ch(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ol._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(e,t,n=!1){const{auth:s}=e;if(Bi(s.app))return Promise.reject(Ea(s));const o="reauthenticate";try{const u=await Ch(e,wA(s,o,t,e),n);Ht(u.idToken,s,"internal-error");const f=B_(u.idToken);Ht(f,s,"internal-error");const{sub:m}=f;return Ht(e.uid===m,s,"user-mismatch"),Ol._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Hs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(e,t,n=!1){if(Bi(e.app))return Promise.reject(Ea(e));const s="signIn",o=await wA(e,s,t),u=await Ol._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function qD(e,t){return SA(Go(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(e){const t=Go(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GD(e,t,n){if(Bi(e.app))return Promise.reject(Ea(e));const s=Go(e),f=await Uy(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&xA(e),y}),m=await Ol._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function WD(e,t,n){return Bi(e.app)?Promise.reject(Ea(e)):qD(un(e),Ju.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xA(e),s})}function ZD(e,t,n,s){return un(e).onIdTokenChanged(t,n,s)}function KD(e,t,n){return un(e).beforeAuthStateChanged(t,n)}function nf(e,t,n,s){return un(e).onAuthStateChanged(t,n,s)}function YD(e){return un(e).signOut()}const lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e3,XD=10;class RA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_A(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);pD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,XD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}RA.type="LOCAL";const QD=RA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CA.type="SESSION";const IA=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Om(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),y=await JD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const _=W_("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(b),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function eN(e){Dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function nN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){return navigator?.serviceWorker?.controller||null}function sN(){return PA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firebaseLocalStorageDb",rN=1,um="firebaseLocalStorage",MA="fbase_key";class sf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function km(e,t){return e.transaction([um],t?"readwrite":"readonly").objectStore(um)}function aN(){const e=indexedDB.deleteDatabase(LA);return new sf(e).toPromise()}function zy(){const e=indexedDB.open(LA,rN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(um,{keyPath:MA})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(um)?t(s):(s.close(),await aN(),t(await zy()))})})}async function Wb(e,t,n){const s=km(e,!0).put({[MA]:t,value:n});return new sf(s).toPromise()}async function oN(e,t){const n=km(e,!1).get(t),s=await new sf(n).toPromise();return s===void 0?null:s.value}function Zb(e,t){const n=km(e,!0).delete(t);return new sf(n).toPromise()}const lN=800,uN=3;class DA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(sN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nN(),!this.activeServiceWorker)return;this.sender=new tN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zy();return await Wb(t,lm,"1"),await Zb(t,lm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Wb(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>oN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=km(o,!1).getAll();return new sf(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DA.type="LOCAL";const cN=DA;new Jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(e,t){return t?va(t):(Ht(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends H_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Vu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Vu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hN(e){return SA(e.auth,new Z_(e),e.bypassAuthState)}function fN(e){const{auth:t,user:n}=e;return Ht(n,t,"internal-error"),HD(n,new Z_(e),e.bypassAuthState)}async function dN(e){const{auth:t,user:n}=e;return Ht(n,t,"internal-error"),FD(n,new Z_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hN;case"linkViaPopup":case"linkViaRedirect":return dN;case"reauthViaPopup":case"reauthViaRedirect":return fN;default:Hs(this.auth,"internal-error")}}resolve(t){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Jh(2e3,1e4);async function pN(e,t,n){if(Bi(e.app))return Promise.reject(ur(e,"operation-not-supported-in-this-environment"));const s=Go(e);YM(e,t,G_);const o=NA(s,n);return new xl(s,"signInViaPopup",t,o).executeNotNull()}class xl extends OA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const t=W_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mN.get())};t()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="pendingRedirect",Ud=new Map;class yN extends OA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ud.get(this.auth._key());if(!t){try{const s=await _N(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ud.set(this.auth._key(),t)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(e,t){const n=EN(t),s=TN(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vN(e,t){Ud.set(e._key(),t)}function TN(e){return va(e._redirectPersistence)}function EN(e){return jd(gN,e.config.apiKey,e.name)}async function bN(e,t,n=!1){if(Bi(e.app))return Promise.reject(Ea(e));const s=Go(e),o=NA(s,t),f=await new yN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=600*1e3;class SN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!kA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kb(t))}saveEventToCache(t){this.cachedEventUids.add(Kb(t)),this.lastProcessedEventTime=Date.now()}}function Kb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function kA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function xN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(e,t={}){return qo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CN=/^https?/;async function IN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await AN(e);for(const n of t)try{if(PN(n))return}catch{}Hs(e,"unauthorized-domain")}function PN(e){const t=Vy(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const f=new URL(e);return f.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CN.test(n))return!1;if(RN.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Jh(3e4,6e4);function Yb(){const e=Dr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function MN(e){return new Promise((t,n)=>{function s(){Yb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yb(),n(ur(e,"network-request-failed"))},timeout:LN.get()})}if(Dr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Dr().gapi?.load)s();else{const o=SD("iframefcb");return Dr()[o]=()=>{gapi.load?s():n(ur(e,"network-request-failed"))},TA(`${wD()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw zd=null,t})}let zd=null;function DN(e){return zd=zd||MN(e),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Jh(5e3,15e3),ON="__/auth/iframe",kN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UN(e){const t=e.config;Ht(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?z_(t,kN):`https://${e.config.authDomain}/${ON}`,s={apiKey:t.apiKey,appName:e.name,v:Qu},o=jN.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Xh(s).slice(1)}`}async function zN(e){const t=await DN(e),n=Dr().gapi;return Ht(n,e,"internal-error"),t.open({where:document.body,url:UN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ur(e,"network-request-failed"),m=Dr().setTimeout(()=>{u(f)},NN.get());function y(){Dr().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,HN=600,qN="_blank",GN="http://localhost";class $b{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WN(e,t,n,s=FN,o=HN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...BN,width:s.toString(),height:o.toString(),top:u,left:f},_=pi().toLowerCase();n&&(m=dA(_)?qN:n),hA(_)&&(t=t||GN,y.scrollbars="yes");const b=Object.entries(y).reduce((S,[M,k])=>`${S}${M}=${k},`,"");if(mD(_)&&m!=="_self")return ZN(t||"",m),new $b(null);const A=window.open(t||"",m,b);Ht(A,e,"popup-blocked");try{A.focus()}catch{}return new $b(A)}function ZN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="__/auth/handler",YN="emulator/auth/handler",$N=encodeURIComponent("fac");async function Xb(e,t,n,s,o,u){Ht(e.config.authDomain,e,"auth-domain-config-required"),Ht(e.config.apiKey,e,"invalid-api-key");const f={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Qu,eventId:o};if(t instanceof G_){t.setDefaultLanguage(e.languageCode),f.providerId=t.providerId||"",DL(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(t instanceof ef){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}e.tenantId&&(f.tid=e.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const y=await e._getAppCheckToken(),_=y?`#${$N}=${encodeURIComponent(y)}`:"";return`${XN(e)}?${Xh(m).slice(1)}${_}`}function XN({config:e}){return e.emulator?z_(e,YN):`https://${e.authDomain}/${KN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=bN,this._overrideRedirectResult=vN}async _openPopup(t,n,s,o){Aa(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Xb(t,n,s,Vy(),o);return WN(t,u,W_())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Xb(t,n,s,Vy(),o);return eN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Aa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await zN(t),s=new SN(t);return n.register("authEvent",o=>(Ht(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ay,{type:ay},o=>{const u=o?.[0]?.[ay];u!==void 0&&n(!!u),Hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _A()||fA()||F_()}}const JN=QN;var Qb="@firebase/auth",Jb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nO(e){Dl(new Do("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ht(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vA(e)},_=new TD(s,o,u,y);return PD(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Dl(new Do("auth-internal",t=>{const n=Go(t.getProvider("auth").getImmediate());return(s=>new tO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Qb,Jb,eO(e)),Mr(Qb,Jb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=300,sO=Qx("authIdTokenMaxAge")||iO;let tw=null;const rO=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sO)return;const o=n?.token;tw!==o&&(tw=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aO(e=V_()){const t=Qh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ID(e,{popupRedirectResolver:JN,persistence:[cN,QD,IA]}),s=Qx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rO(u.toString());KD(n,f,()=>f(n.currentUser)),ZD(n,m=>f(m))}}const o=Yx("auth");return o&&LD(n,`http://${o}`),n}function oO(){return document.getElementsByTagName("head")?.[0]??document}ED({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=ur("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nO("Browser");var ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,VA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(H,O){function V(){}V.prototype=O.prototype,H.D=O.prototype,H.prototype=new V,H.prototype.constructor=H,H.C=function(W,Z,$){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return O.prototype[Z].apply(W,F)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(H,O,V){V||(V=0);var W=Array(16);if(typeof O=="string")for(var Z=0;16>Z;++Z)W[Z]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(Z=0;16>Z;++Z)W[Z]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=H.g[0],V=H.g[1],Z=H.g[2];var $=H.g[3],F=O+($^V&(Z^$))+W[0]+3614090360&4294967295;O=V+(F<<7&4294967295|F>>>25),F=$+(Z^O&(V^Z))+W[1]+3905402710&4294967295,$=O+(F<<12&4294967295|F>>>20),F=Z+(V^$&(O^V))+W[2]+606105819&4294967295,Z=$+(F<<17&4294967295|F>>>15),F=V+(O^Z&($^O))+W[3]+3250441966&4294967295,V=Z+(F<<22&4294967295|F>>>10),F=O+($^V&(Z^$))+W[4]+4118548399&4294967295,O=V+(F<<7&4294967295|F>>>25),F=$+(Z^O&(V^Z))+W[5]+1200080426&4294967295,$=O+(F<<12&4294967295|F>>>20),F=Z+(V^$&(O^V))+W[6]+2821735955&4294967295,Z=$+(F<<17&4294967295|F>>>15),F=V+(O^Z&($^O))+W[7]+4249261313&4294967295,V=Z+(F<<22&4294967295|F>>>10),F=O+($^V&(Z^$))+W[8]+1770035416&4294967295,O=V+(F<<7&4294967295|F>>>25),F=$+(Z^O&(V^Z))+W[9]+2336552879&4294967295,$=O+(F<<12&4294967295|F>>>20),F=Z+(V^$&(O^V))+W[10]+4294925233&4294967295,Z=$+(F<<17&4294967295|F>>>15),F=V+(O^Z&($^O))+W[11]+2304563134&4294967295,V=Z+(F<<22&4294967295|F>>>10),F=O+($^V&(Z^$))+W[12]+1804603682&4294967295,O=V+(F<<7&4294967295|F>>>25),F=$+(Z^O&(V^Z))+W[13]+4254626195&4294967295,$=O+(F<<12&4294967295|F>>>20),F=Z+(V^$&(O^V))+W[14]+2792965006&4294967295,Z=$+(F<<17&4294967295|F>>>15),F=V+(O^Z&($^O))+W[15]+1236535329&4294967295,V=Z+(F<<22&4294967295|F>>>10),F=O+(Z^$&(V^Z))+W[1]+4129170786&4294967295,O=V+(F<<5&4294967295|F>>>27),F=$+(V^Z&(O^V))+W[6]+3225465664&4294967295,$=O+(F<<9&4294967295|F>>>23),F=Z+(O^V&($^O))+W[11]+643717713&4294967295,Z=$+(F<<14&4294967295|F>>>18),F=V+($^O&(Z^$))+W[0]+3921069994&4294967295,V=Z+(F<<20&4294967295|F>>>12),F=O+(Z^$&(V^Z))+W[5]+3593408605&4294967295,O=V+(F<<5&4294967295|F>>>27),F=$+(V^Z&(O^V))+W[10]+38016083&4294967295,$=O+(F<<9&4294967295|F>>>23),F=Z+(O^V&($^O))+W[15]+3634488961&4294967295,Z=$+(F<<14&4294967295|F>>>18),F=V+($^O&(Z^$))+W[4]+3889429448&4294967295,V=Z+(F<<20&4294967295|F>>>12),F=O+(Z^$&(V^Z))+W[9]+568446438&4294967295,O=V+(F<<5&4294967295|F>>>27),F=$+(V^Z&(O^V))+W[14]+3275163606&4294967295,$=O+(F<<9&4294967295|F>>>23),F=Z+(O^V&($^O))+W[3]+4107603335&4294967295,Z=$+(F<<14&4294967295|F>>>18),F=V+($^O&(Z^$))+W[8]+1163531501&4294967295,V=Z+(F<<20&4294967295|F>>>12),F=O+(Z^$&(V^Z))+W[13]+2850285829&4294967295,O=V+(F<<5&4294967295|F>>>27),F=$+(V^Z&(O^V))+W[2]+4243563512&4294967295,$=O+(F<<9&4294967295|F>>>23),F=Z+(O^V&($^O))+W[7]+1735328473&4294967295,Z=$+(F<<14&4294967295|F>>>18),F=V+($^O&(Z^$))+W[12]+2368359562&4294967295,V=Z+(F<<20&4294967295|F>>>12),F=O+(V^Z^$)+W[5]+4294588738&4294967295,O=V+(F<<4&4294967295|F>>>28),F=$+(O^V^Z)+W[8]+2272392833&4294967295,$=O+(F<<11&4294967295|F>>>21),F=Z+($^O^V)+W[11]+1839030562&4294967295,Z=$+(F<<16&4294967295|F>>>16),F=V+(Z^$^O)+W[14]+4259657740&4294967295,V=Z+(F<<23&4294967295|F>>>9),F=O+(V^Z^$)+W[1]+2763975236&4294967295,O=V+(F<<4&4294967295|F>>>28),F=$+(O^V^Z)+W[4]+1272893353&4294967295,$=O+(F<<11&4294967295|F>>>21),F=Z+($^O^V)+W[7]+4139469664&4294967295,Z=$+(F<<16&4294967295|F>>>16),F=V+(Z^$^O)+W[10]+3200236656&4294967295,V=Z+(F<<23&4294967295|F>>>9),F=O+(V^Z^$)+W[13]+681279174&4294967295,O=V+(F<<4&4294967295|F>>>28),F=$+(O^V^Z)+W[0]+3936430074&4294967295,$=O+(F<<11&4294967295|F>>>21),F=Z+($^O^V)+W[3]+3572445317&4294967295,Z=$+(F<<16&4294967295|F>>>16),F=V+(Z^$^O)+W[6]+76029189&4294967295,V=Z+(F<<23&4294967295|F>>>9),F=O+(V^Z^$)+W[9]+3654602809&4294967295,O=V+(F<<4&4294967295|F>>>28),F=$+(O^V^Z)+W[12]+3873151461&4294967295,$=O+(F<<11&4294967295|F>>>21),F=Z+($^O^V)+W[15]+530742520&4294967295,Z=$+(F<<16&4294967295|F>>>16),F=V+(Z^$^O)+W[2]+3299628645&4294967295,V=Z+(F<<23&4294967295|F>>>9),F=O+(Z^(V|~$))+W[0]+4096336452&4294967295,O=V+(F<<6&4294967295|F>>>26),F=$+(V^(O|~Z))+W[7]+1126891415&4294967295,$=O+(F<<10&4294967295|F>>>22),F=Z+(O^($|~V))+W[14]+2878612391&4294967295,Z=$+(F<<15&4294967295|F>>>17),F=V+($^(Z|~O))+W[5]+4237533241&4294967295,V=Z+(F<<21&4294967295|F>>>11),F=O+(Z^(V|~$))+W[12]+1700485571&4294967295,O=V+(F<<6&4294967295|F>>>26),F=$+(V^(O|~Z))+W[3]+2399980690&4294967295,$=O+(F<<10&4294967295|F>>>22),F=Z+(O^($|~V))+W[10]+4293915773&4294967295,Z=$+(F<<15&4294967295|F>>>17),F=V+($^(Z|~O))+W[1]+2240044497&4294967295,V=Z+(F<<21&4294967295|F>>>11),F=O+(Z^(V|~$))+W[8]+1873313359&4294967295,O=V+(F<<6&4294967295|F>>>26),F=$+(V^(O|~Z))+W[15]+4264355552&4294967295,$=O+(F<<10&4294967295|F>>>22),F=Z+(O^($|~V))+W[6]+2734768916&4294967295,Z=$+(F<<15&4294967295|F>>>17),F=V+($^(Z|~O))+W[13]+1309151649&4294967295,V=Z+(F<<21&4294967295|F>>>11),F=O+(Z^(V|~$))+W[4]+4149444226&4294967295,O=V+(F<<6&4294967295|F>>>26),F=$+(V^(O|~Z))+W[11]+3174756917&4294967295,$=O+(F<<10&4294967295|F>>>22),F=Z+(O^($|~V))+W[2]+718787259&4294967295,Z=$+(F<<15&4294967295|F>>>17),F=V+($^(Z|~O))+W[9]+3951481745&4294967295,H.g[0]=H.g[0]+O&4294967295,H.g[1]=H.g[1]+(Z+(F<<21&4294967295|F>>>11))&4294967295,H.g[2]=H.g[2]+Z&4294967295,H.g[3]=H.g[3]+$&4294967295}s.prototype.u=function(H,O){O===void 0&&(O=H.length);for(var V=O-this.blockSize,W=this.B,Z=this.h,$=0;$<O;){if(Z==0)for(;$<=V;)o(this,H,$),$+=this.blockSize;if(typeof H=="string"){for(;$<O;)if(W[Z++]=H.charCodeAt($++),Z==this.blockSize){o(this,W),Z=0;break}}else for(;$<O;)if(W[Z++]=H[$++],Z==this.blockSize){o(this,W),Z=0;break}}this.h=Z,this.o+=O},s.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var O=1;O<H.length-8;++O)H[O]=0;var V=8*this.o;for(O=H.length-8;O<H.length;++O)H[O]=V&255,V/=256;for(this.u(H),H=Array(16),O=V=0;4>O;++O)for(var W=0;32>W;W+=8)H[V++]=this.g[O]>>>W&255;return H};function u(H,O){var V=m;return Object.prototype.hasOwnProperty.call(V,H)?V[H]:V[H]=O(H)}function f(H,O){this.h=O;for(var V=[],W=!0,Z=H.length-1;0<=Z;Z--){var $=H[Z]|0;W&&$==O||(V[Z]=$,W=!1)}this.g=V}var m={};function y(H){return-128<=H&&128>H?u(H,function(O){return new f([O|0],0>O?-1:0)}):new f([H|0],0>H?-1:0)}function _(H){if(isNaN(H)||!isFinite(H))return A;if(0>H)return q(_(-H));for(var O=[],V=1,W=0;H>=V;W++)O[W]=H/V|0,V*=4294967296;return new f(O,0)}function b(H,O){if(H.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(H.charAt(0)=="-")return q(b(H.substring(1),O));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=_(Math.pow(O,8)),W=A,Z=0;Z<H.length;Z+=8){var $=Math.min(8,H.length-Z),F=parseInt(H.substring(Z,Z+$),O);8>$?($=_(Math.pow(O,$)),W=W.j($).add(_(F))):(W=W.j(V),W=W.add(_(F)))}return W}var A=y(0),S=y(1),M=y(16777216);e=f.prototype,e.m=function(){if(B(this))return-q(this).m();for(var H=0,O=1,V=0;V<this.g.length;V++){var W=this.i(V);H+=(0<=W?W:4294967296+W)*O,O*=4294967296}return H},e.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(k(this))return"0";if(B(this))return"-"+q(this).toString(H);for(var O=_(Math.pow(H,6)),V=this,W="";;){var Z=pt(V,O).g;V=G(V,Z.j(O));var $=((0<V.g.length?V.g[0]:V.h)>>>0).toString(H);if(V=Z,k(V))return $+W;for(;6>$.length;)$="0"+$;W=$+W}},e.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function k(H){if(H.h!=0)return!1;for(var O=0;O<H.g.length;O++)if(H.g[O]!=0)return!1;return!0}function B(H){return H.h==-1}e.l=function(H){return H=G(this,H),B(H)?-1:k(H)?0:1};function q(H){for(var O=H.g.length,V=[],W=0;W<O;W++)V[W]=~H.g[W];return new f(V,~H.h).add(S)}e.abs=function(){return B(this)?q(this):this},e.add=function(H){for(var O=Math.max(this.g.length,H.g.length),V=[],W=0,Z=0;Z<=O;Z++){var $=W+(this.i(Z)&65535)+(H.i(Z)&65535),F=($>>>16)+(this.i(Z)>>>16)+(H.i(Z)>>>16);W=F>>>16,$&=65535,F&=65535,V[Z]=F<<16|$}return new f(V,V[V.length-1]&-2147483648?-1:0)};function G(H,O){return H.add(q(O))}e.j=function(H){if(k(this)||k(H))return A;if(B(this))return B(H)?q(this).j(q(H)):q(q(this).j(H));if(B(H))return q(this.j(q(H)));if(0>this.l(M)&&0>H.l(M))return _(this.m()*H.m());for(var O=this.g.length+H.g.length,V=[],W=0;W<2*O;W++)V[W]=0;for(W=0;W<this.g.length;W++)for(var Z=0;Z<H.g.length;Z++){var $=this.i(W)>>>16,F=this.i(W)&65535,Se=H.i(Z)>>>16,je=H.i(Z)&65535;V[2*W+2*Z]+=F*je,nt(V,2*W+2*Z),V[2*W+2*Z+1]+=$*je,nt(V,2*W+2*Z+1),V[2*W+2*Z+1]+=F*Se,nt(V,2*W+2*Z+1),V[2*W+2*Z+2]+=$*Se,nt(V,2*W+2*Z+2)}for(W=0;W<O;W++)V[W]=V[2*W+1]<<16|V[2*W];for(W=O;W<2*O;W++)V[W]=0;return new f(V,0)};function nt(H,O){for(;(H[O]&65535)!=H[O];)H[O+1]+=H[O]>>>16,H[O]&=65535,O++}function K(H,O){this.g=H,this.h=O}function pt(H,O){if(k(O))throw Error("division by zero");if(k(H))return new K(A,A);if(B(H))return O=pt(q(H),O),new K(q(O.g),q(O.h));if(B(O))return O=pt(H,q(O)),new K(q(O.g),O.h);if(30<H.g.length){if(B(H)||B(O))throw Error("slowDivide_ only works with positive integers.");for(var V=S,W=O;0>=W.l(H);)V=ut(V),W=ut(W);var Z=xt(V,1),$=xt(W,1);for(W=xt(W,2),V=xt(V,2);!k(W);){var F=$.add(W);0>=F.l(H)&&(Z=Z.add(V),$=F),W=xt(W,1),V=xt(V,1)}return O=G(H,Z.j(O)),new K(Z,O)}for(Z=A;0<=H.l(O);){for(V=Math.max(1,Math.floor(H.m()/O.m())),W=Math.ceil(Math.log(V)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),$=_(V),F=$.j(O);B(F)||0<F.l(H);)V-=W,$=_(V),F=$.j(O);k($)&&($=S),Z=Z.add($),H=G(H,F)}return new K(Z,H)}e.A=function(H){return pt(this,H).h},e.and=function(H){for(var O=Math.max(this.g.length,H.g.length),V=[],W=0;W<O;W++)V[W]=this.i(W)&H.i(W);return new f(V,this.h&H.h)},e.or=function(H){for(var O=Math.max(this.g.length,H.g.length),V=[],W=0;W<O;W++)V[W]=this.i(W)|H.i(W);return new f(V,this.h|H.h)},e.xor=function(H){for(var O=Math.max(this.g.length,H.g.length),V=[],W=0;W<O;W++)V[W]=this.i(W)^H.i(W);return new f(V,this.h^H.h)};function ut(H){for(var O=H.g.length+1,V=[],W=0;W<O;W++)V[W]=H.i(W)<<1|H.i(W-1)>>>31;return new f(V,H.h)}function xt(H,O){var V=O>>5;O%=32;for(var W=H.g.length-V,Z=[],$=0;$<W;$++)Z[$]=0<O?H.i($+V)>>>O|H.i($+V+1)<<32-O:H.i($+V);return new f(Z,H.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,VA=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=b,Io=f}).apply(typeof ew<"u"?ew:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jA,oh,UA,Bd,By,zA,BA,FA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,R){return d==Array.prototype||d==Object.prototype||(d[w]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var w=0;w<d.length;++w){var R=d[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function o(d,w){if(w)t:{var R=s;d=d.split(".");for(var D=0;D<d.length-1;D++){var Q=d[D];if(!(Q in R))break t;R=R[Q]}d=d[d.length-1],D=R[d],w=w(D),w!=D&&w!=null&&t(R,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var R=0,D=!1,Q={next:function(){if(!D&&R<d.length){var ot=R++;return{value:w(ot,d[ot]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(d){return d||function(){return u(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function _(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function b(d,w,R){return d.call.apply(d.bind,arguments)}function A(d,w,R){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),d.apply(w,Q)}}return function(){return d.apply(w,arguments)}}function S(d,w,R){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,S.apply(null,arguments)}function M(d,w){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function k(d,w){function R(){}R.prototype=w.prototype,d.aa=w.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(D,Q,ot){for(var bt=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)bt[ue-2]=arguments[ue];return w.prototype[Q].apply(D,bt)}}function B(d){const w=d.length;if(0<w){const R=Array(w);for(let D=0;D<w;D++)R[D]=d[D];return R}return[]}function q(d,w){for(let R=1;R<arguments.length;R++){const D=arguments[R];if(y(D)){const Q=d.length||0,ot=D.length||0;d.length=Q+ot;for(let bt=0;bt<ot;bt++)d[Q+bt]=D[bt]}else d.push(D)}}class G{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function nt(d){return/^[\s\xa0]*$/.test(d)}function K(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function pt(d){return pt[" "](d),d}pt[" "]=function(){};var ut=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function xt(d,w,R){for(const D in d)w.call(R,d[D],D,d)}function H(d,w){for(const R in d)w.call(void 0,d[R],R,d)}function O(d){const w={};for(const R in d)w[R]=d[R];return w}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(d,w){let R,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(R in D)d[R]=D[R];for(let ot=0;ot<V.length;ot++)R=V[ot],Object.prototype.hasOwnProperty.call(D,R)&&(d[R]=D[R])}}function Z(d){var w=1;d=d.split(":");const R=[];for(;0<w&&d.length;)R.push(d.shift()),w--;return d.length&&R.push(d.join(":")),R}function $(d){m.setTimeout(()=>{throw d},0)}function F(){var d=te;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Se{constructor(){this.h=this.g=null}add(w,R){const D=je.get();D.set(w,R),this.h?this.h.next=D:this.g=D,this.h=D}}var je=new G(()=>new lt,d=>d.reset());class lt{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,yt=!1,te=new Se,j=()=>{const d=m.Promise.resolve(void 0);Tt=()=>{d.then(ct)}};var ct=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(R){$(R)}var w=je;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}yt=!1};function Et(){this.s=this.s,this.C=this.C}Et.prototype.s=!1,Et.prototype.ma=function(){this.s||(this.s=!0,this.N())},Et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,w),m.removeEventListener("test",R,w)}catch{}return d}();function Pt(d,w){if(vt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(ut){t:{try{pt(w.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(w=null)}}else R=="mouseover"?w=d.fromElement:R=="mouseout"&&(w=d.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:St[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pt.aa.h.call(this)}}k(Pt,vt);var St={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),ee=0;function Dn(d,w,R,D,Q){this.listener=d,this.proxy=null,this.src=w,this.type=R,this.capture=!!D,this.ha=Q,this.key=++ee,this.da=this.fa=!1}function sn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ei(d){this.src=d,this.g={},this.h=0}ei.prototype.add=function(d,w,R,D,Q){var ot=d.toString();d=this.g[ot],d||(d=this.g[ot]=[],this.h++);var bt=ni(d,w,D,Q);return-1<bt?(w=d[bt],R||(w.fa=!1)):(w=new Dn(w,this.src,ot,!!D,Q),w.fa=R,d.push(w)),w};function pe(d,w){var R=w.type;if(R in d.g){var D=d.g[R],Q=Array.prototype.indexOf.call(D,w,void 0),ot;(ot=0<=Q)&&Array.prototype.splice.call(D,Q,1),ot&&(sn(w),d.g[R].length==0&&(delete d.g[R],d.h--))}}function ni(d,w,R,D){for(var Q=0;Q<d.length;++Q){var ot=d[Q];if(!ot.da&&ot.listener==w&&ot.capture==!!R&&ot.ha==D)return Q}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),ps={};function Gr(d,w,R,D,Q){if(Array.isArray(w)){for(var ot=0;ot<w.length;ot++)Gr(d,w[ot],R,D,Q);return null}return R=Ki(R),d&&d[Ee]?d.K(w,R,_(D)?!!D.capture:!1,Q):xn(d,w,R,!1,D,Q)}function xn(d,w,R,D,Q,ot){if(!w)throw Error("Invalid event type");var bt=_(Q)?!!Q.capture:!!Q,ue=Zi(d);if(ue||(d[Nn]=ue=new ei(d)),R=ue.add(w,R,D,bt,ot),R.proxy)return R;if(D=ve(),R.proxy=D,D.src=d,D.listener=R,d.addEventListener)wt||(Q=bt),Q===void 0&&(Q=!1),d.addEventListener(w.toString(),D,Q);else if(d.attachEvent)d.attachEvent(gi(w.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ve(){function d(R){return w.call(d.src,d.listener,R)}const w=Ri;return d}function dr(d,w,R,D,Q){if(Array.isArray(w))for(var ot=0;ot<w.length;ot++)dr(d,w[ot],R,D,Q);else D=_(D)?!!D.capture:!!D,R=Ki(R),d&&d[Ee]?(d=d.i,w=String(w).toString(),w in d.g&&(ot=d.g[w],R=ni(ot,R,D,Q),-1<R&&(sn(ot[R]),Array.prototype.splice.call(ot,R,1),ot.length==0&&(delete d.g[w],d.h--)))):d&&(d=Zi(d))&&(w=d.g[w.toString()],d=-1,w&&(d=ni(w,R,D,Q)),(R=-1<d?w[d]:null)&&Ge(R))}function Ge(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ee])pe(w.i,d);else{var R=d.type,D=d.proxy;w.removeEventListener?w.removeEventListener(R,D,d.capture):w.detachEvent?w.detachEvent(gi(R),D):w.addListener&&w.removeListener&&w.removeListener(D),(R=Zi(w))?(pe(R,d),R.h==0&&(R.src=null,w[Nn]=null)):sn(d)}}}function gi(d){return d in ps?ps[d]:ps[d]="on"+d}function Ri(d,w){if(d.da)d=!0;else{w=new Pt(w,this);var R=d.listener,D=d.ha||d.src;d.fa&&Ge(d),d=R.call(D,w)}return d}function Zi(d){return d=d[Nn],d instanceof ei?d:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ki(d){return typeof d=="function"?d:(d[On]||(d[On]=function(w){return d.handleEvent(w)}),d[On])}function Te(){Et.call(this),this.i=new ei(this),this.M=this,this.F=null}k(Te,Et),Te.prototype[Ee]=!0,Te.prototype.removeEventListener=function(d,w,R,D){dr(this,d,w,R,D)};function re(d,w){var R,D=d.F;if(D)for(R=[];D;D=D.F)R.push(D);if(d=d.M,D=w.type||w,typeof w=="string")w=new vt(w,d);else if(w instanceof vt)w.target=w.target||d;else{var Q=w;w=new vt(D,d),W(w,Q)}if(Q=!0,R)for(var ot=R.length-1;0<=ot;ot--){var bt=w.g=R[ot];Q=An(bt,D,!0,w)&&Q}if(bt=w.g=d,Q=An(bt,D,!0,w)&&Q,Q=An(bt,D,!1,w)&&Q,R)for(ot=0;ot<R.length;ot++)bt=w.g=R[ot],Q=An(bt,D,!1,w)&&Q}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var R=d.g[w],D=0;D<R.length;D++)sn(R[D]);delete d.g[w],d.h--}}this.F=null},Te.prototype.K=function(d,w,R,D){return this.i.add(String(d),w,!1,R,D)},Te.prototype.L=function(d,w,R,D){return this.i.add(String(d),w,!0,R,D)};function An(d,w,R,D){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,ot=0;ot<w.length;++ot){var bt=w[ot];if(bt&&!bt.da&&bt.capture==R){var ue=bt.listener,rn=bt.ha||bt.src;bt.fa&&pe(d.i,bt),Q=ue.call(rn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Ke(d,w,R){if(typeof d=="function")R&&(d=S(d,R));else if(d&&typeof d.handleEvent=="function")d=S(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:m.setTimeout(d,w||0)}function gs(d){d.g=Ke(()=>{d.g=null,d.i&&(d.i=!1,gs(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Yi extends Et{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(d){Et.call(this),this.h=d,this.g={}}k($i,Et);var Ci=[];function yi(d){xt(d.g,function(w,R){this.g.hasOwnProperty(R)&&Ge(w)},d),d.g={}}$i.prototype.N=function(){$i.aa.N.call(this),yi(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=m.JSON.stringify,ys=m.JSON.parse,_i=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Ii(){}Ii.prototype.h=null;function mr(d){return d.h||(d.h=d.i())}function pr(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){vt.call(this,"d")}k(Li,vt);function Wr(){vt.call(this,"c")}k(Wr,vt);var Mi={},Zr=null;function _s(){return Zr=Zr||new Te}Mi.La="serverreachability";function it(d){vt.call(this,Mi.La,d)}k(it,vt);function It(d){const w=_s();re(w,new it(w))}Mi.STAT_EVENT="statevent";function jt(d,w){vt.call(this,Mi.STAT_EVENT,d),this.stat=w}k(jt,vt);function Mt(d){const w=_s();re(w,new jt(w,d))}Mi.Ma="timingevent";function $t(d,w){vt.call(this,Mi.Ma,d),this.size=w}k($t,vt);function ae(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},w)}function me(){this.g=!0}me.prototype.xa=function(){this.g=!1};function Ue(d,w,R,D,Q,ot){d.info(function(){if(d.g)if(ot)for(var bt="",ue=ot.split("&"),rn=0;rn<ue.length;rn++){var ce=ue[rn].split("=");if(1<ce.length){var Ae=ce[0];ce=ce[1];var Be=Ae.split("_");bt=2<=Be.length&&Be[1]=="type"?bt+(Ae+"="+ce+"&"):bt+(Ae+"=redacted&")}}else bt=null;else bt=ot;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+w+`
`+R+`
`+bt})}function Ct(d,w,R,D,Q,ot,bt){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+w+`
`+R+`
`+ot+" "+bt})}function Di(d,w,R,D){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+ii(d,R)+(D?" "+D:"")})}function vs(d,w){d.info(function(){return"TIMEOUT: "+w})}me.prototype.info=function(){};function ii(d,w){if(!d.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var D=R[d];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var ot=Q[0];if(ot!="noop"&&ot!="stop"&&ot!="close")for(var bt=1;bt<Q.length;bt++)Q[bt]=""}}}}return pn(R)}catch{return w}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xi;function Wn(){}k(Wn,Ii),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Xi=new Wn;function kn(d,w,R,D){this.j=d,this.i=w,this.l=R,this.R=D||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var Yo={},Ma={};function Qi(d,w,R){d.L=1,d.v=vi(ze(w)),d.m=R,d.P=!0,Es(d,null)}function Es(d,w){d.F=Date.now(),Yr(d),d.A=ze(d.v);var R=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Qo(R.i,"t",D),d.C=0,R=d.j.J,d.h=new Qe,d.g=Gl(d.j,R?w:null,!d.m),0<d.O&&(d.M=new Yi(S(d.Y,d,d.g),d.O)),w=d.U,R=d.g,D=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ci[0]=Q.toString()),Q=Ci);for(var ot=0;ot<Q.length;ot++){var bt=Gr(R,Q[ot],D||w.handleEvent,!1,w.h||w);if(!bt)break;w.g[bt.key]=bt}w=d.H?O(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),It(),Ue(d.i,d.u,d.A,d.l,d.R,d.m)}kn.prototype.ca=function(d){d=d.target;const w=this.M;w&&Un(d)==3?w.j():this.Y(d)},kn.prototype.Y=function(d){try{if(d==this.g)t:{const Be=Un(this.g);var w=this.g.Ba();const Qs=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||Jo(this.g)))){this.J||Be!=4||w==7||(w==8||0>=Qs?It(3):It(2)),gr(this);var R=this.g.Z();this.X=R;e:if(zl(this)){var D=Jo(this.g);d="";var Q=D.length,ot=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),bs(this);var bt="";break e}this.h.i=new m.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,d+=this.h.i.decode(D[w],{stream:!(ot&&w==Q-1)});D.length=0,this.h.g+=d,this.C=0,bt=this.h.g}else bt=this.g.oa();if(this.o=R==200,Ct(this.i,this.u,this.A,this.l,this.R,Be,R),this.o){if(this.T&&!this.K){e:{if(this.g){var ue,rn=this.g;if((ue=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(ue)){var ce=ue;break e}}ce=null}if(R=ce)Di(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gs(this,R);else{this.o=!1,this.s=3,Mt(12),Rn(this),bs(this);break t}}if(this.P){R=!0;let ke;for(;!this.J&&this.C<bt.length;)if(ke=Kr(this,bt),ke==Ma){Be==4&&(this.s=4,Mt(14),R=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Yo){this.s=4,Mt(15),Di(this.i,this.l,bt,"[Invalid Chunk]"),R=!1;break}else Di(this.i,this.l,ke,null),Gs(this,ke);if(zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||bt.length!=0||this.h.h||(this.s=1,Mt(16),R=!1),this.o=this.o&&R,!R)Di(this.i,this.l,bt,"[Invalid Chunked Response]"),Rn(this),bs(this);else if(0<bt.length&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.ba&&!Ae.M&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+bt.length),br(Ae),Ae.M=!0,Mt(11))}}else Di(this.i,this.l,bt,null),Gs(this,bt);Be==4&&Rn(this),this.o&&!this.J&&(Be==4?el(this.j,this):(this.o=!1,Yr(this)))}else uc(this.g),R==400&&0<bt.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Rn(this),bs(this)}}}catch{}finally{}};function zl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Kr(d,w){var R=d.C,D=w.indexOf(`
`,R);return D==-1?Ma:(R=Number(w.substring(R,D)),isNaN(R)?Yo:(D+=1,D+R>w.length?Ma:(w=w.slice(D,D+R),d.C=D+R,w)))}kn.prototype.cancel=function(){this.J=!0,Rn(this)};function Yr(d){d.S=Date.now()+d.I,Bl(d,d.I)}function Bl(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ae(S(d.ba,d),w)}function gr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}kn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(vs(this.i,this.A),this.L!=2&&(It(),Mt(17)),Rn(this),this.s=2,bs(this)):Bl(this,this.S-d)};function bs(d){d.j.G==0||d.J||el(d.j,d)}function Rn(d){gr(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,yi(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Gs(d,w){try{var R=d.j;if(R.G!=0&&(R.g==d||ie(R.h,d))){if(!d.K&&ie(R.h,d)&&R.G==3){try{var D=R.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Ba(R),ja(R);else break t;Ua(R),Mt(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=ae(S(R.Za,R),6e3));if(1>=Ss(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Xs(R,11)}else if((d.K||R.g==d)&&Ba(R),!nt(w))for(Q=R.Da.g.parse(w),w=0;w<Q.length;w++){let ce=Q[w];if(R.T=ce[0],ce=ce[1],R.G==2)if(ce[0]=="c"){R.K=ce[1],R.ia=ce[2];const Ae=ce[3];Ae!=null&&(R.la=Ae,R.j.info("VER="+R.la));const Be=ce[4];Be!=null&&(R.Aa=Be,R.j.info("SVER="+R.Aa));const Qs=ce[5];Qs!=null&&typeof Qs=="number"&&0<Qs&&(D=1.5*Qs,R.L=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const ke=d.g;if(ke){const Is=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var ot=D.h;ot.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(xe(ot,ot.h),ot.h=null))}if(D.D){const Ps=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(D.ya=Ps,Ft(D.I,D.D,Ps))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),D=R;var bt=d;if(D.qa=Ha(D,D.J?D.ia:null,D.W),bt.K){gn(D.h,bt);var ue=bt,rn=D.L;rn&&(ue.I=rn),ue.B&&(gr(ue),Yr(ue)),D.g=bt}else ss(D);0<R.i.length&&Er(R)}else ce[0]!="stop"&&ce[0]!="close"||Xs(R,7);else R.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Xs(R,7):Va(R):ce[0]!="noop"&&R.l&&R.l.ta(ce),R.v=0)}}It(4)}catch{}}var yr=class{constructor(d,w){this.g=d,this.map=w}};function ws(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $r(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ss(d){return d.h?1:d.g?d.g.size:0}function ie(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function xe(d,w){d.g?d.g.add(w):d.h=w}function gn(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}ws.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xs(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const R of d.g.values())w=w.concat(R.D);return w}return B(d.i)}function _r(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var w=[],R=d.length,D=0;D<R;D++)w.push(d[D]);return w}w=[],R=0;for(D in d)w[R++]=d[D];return w}function vr(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var w=[];d=d.length;for(var R=0;R<d;R++)w.push(R);return w}w=[],R=0;for(const D in d)w[R++]=D;return w}}}function Kt(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var R=vr(d),D=_r(d),Q=D.length,ot=0;ot<Q;ot++)w.call(void 0,D[ot],R&&R[ot],d)}var Ce=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(d,w){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var D=d[R].indexOf("="),Q=null;if(0<=D){var ot=d[R].substring(0,D);Q=d[R].substring(D+1)}else ot=d[R];w(ot,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function We(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof We){this.h=d.h,Xr(this,d.j),this.o=d.o,this.g=d.g,Ji(this,d.s),this.l=d.l;var w=d.i,R=new es;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),Zn(this,R),this.m=d.m}else d&&(w=String(d).match(Ce))?(this.h=!1,Xr(this,w[1]||"",!0),this.o=Vn(w[2]||""),this.g=Vn(w[3]||"",!0),Ji(this,w[4]),this.l=Vn(w[5]||"",!0),Zn(this,w[6]||"",!0),this.m=Vn(w[7]||"")):(this.h=!1,this.i=new es(null,this.h))}We.prototype.toString=function(){var d=[],w=this.j;w&&d.push(ts(w,Ws,!0),":");var R=this.g;return(R||w=="file")&&(d.push("//"),(w=this.o)&&d.push(ts(w,Ws,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(ts(R,R.charAt(0)=="/"?Xo:Qr,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",ts(R,Tr)),d.join("")};function ze(d){return new We(d)}function Xr(d,w,R){d.j=R?Vn(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Ji(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Zn(d,w,R){w instanceof es?(d.i=w,Ti(d.i,d.h)):(R||(w=ts(w,Na)),d.i=new es(w,d.h))}function Ft(d,w,R){d.i.set(w,R)}function vi(d){return Ft(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Vn(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ts(d,w,R){return typeof d=="string"?(d=encodeURI(d).replace(w,Da),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Da(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ws=/[#\/\?@]/g,Qr=/[#\?:]/g,Xo=/[#\?]/g,Na=/[#\?@]/g,Tr=/#/g;function es(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Kn(d){d.g||(d.g=new Map,d.h=0,d.i&&$o(d.i,function(w,R){d.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}e=es.prototype,e.add=function(d,w){Kn(this),this.i=null,d=Ut(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(w),this.h+=1,this};function As(d,w){Kn(d),w=Ut(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ns(d,w){return Kn(d),w=Ut(d,w),d.g.has(w)}e.forEach=function(d,w){Kn(this),this.g.forEach(function(R,D){R.forEach(function(Q){d.call(w,Q,D,this)},this)},this)},e.na=function(){Kn(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let D=0;D<w.length;D++){const Q=d[D];for(let ot=0;ot<Q.length;ot++)R.push(w[D])}return R},e.V=function(d){Kn(this);let w=[];if(typeof d=="string")ns(this,d)&&(w=w.concat(this.g.get(Ut(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)w=w.concat(d[R])}return w},e.set=function(d,w){return Kn(this),this.i=null,d=Ut(this,d),ns(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},e.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Qo(d,w,R){As(d,w),0<R.length&&(d.i=null,d.g.set(Ut(d,w),B(R)),d.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var D=w[R];const ot=encodeURIComponent(String(D)),bt=this.V(D);for(D=0;D<bt.length;D++){var Q=ot;bt[D]!==""&&(Q+="="+encodeURIComponent(String(bt[D]))),d.push(Q)}}return this.i=d.join("&")};function Ut(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Ti(d,w){w&&!d.j&&(Kn(d),d.i=null,d.g.forEach(function(R,D){var Q=D.toLowerCase();D!=Q&&(As(this,D),Qo(this,Q,R))},d)),d.j=w}function ge(d,w){const R=new me;if(m.Image){const D=new Image;D.onload=M(ri,R,"TestLoadImage: loaded",!0,w,D),D.onerror=M(ri,R,"TestLoadImage: error",!1,w,D),D.onabort=M(ri,R,"TestLoadImage: abort",!1,w,D),D.ontimeout=M(ri,R,"TestLoadImage: timeout",!1,w,D),m.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else w(!1)}function Ni(d,w){const R=new me,D=new AbortController,Q=setTimeout(()=>{D.abort(),ri(R,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:D.signal}).then(ot=>{clearTimeout(Q),ot.ok?ri(R,"TestPingServer: ok",!0,w):ri(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),ri(R,"TestPingServer: error",!1,w)})}function ri(d,w,R,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(R)}catch{}}function Zs(){this.g=new _i}function Oi(d,w,R){const D=R||"";try{Kt(d,function(Q,ot){let bt=Q;_(Q)&&(bt=pn(Q)),w.push(D+ot+"="+encodeURIComponent(bt))})}catch(Q){throw w.push(D+"type="+encodeURIComponent("_badmap")),Q}}function ai(d){this.l=d.Ub||null,this.j=d.eb||!1}k(ai,Ii),ai.prototype.g=function(){return new is(this.l,this.j)},ai.prototype.i=function(d){return function(){return d}}({});function is(d,w){Te.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(is,Te),e=is.prototype,e.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,jn(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||m).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Me(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ks(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ks(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Me(this):jn(this),this.readyState==3&&Ks(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,Me(this))},e.Qa=function(d){this.g&&(this.response=d,Me(this))},e.ga=function(){this.g&&Me(this)};function Me(d){d.readyState=4,d.l=null,d.j=null,d.v=null,jn(d)}e.setRequestHeader=function(d,w){this.u.append(d,w)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=w.next();return d.join(`\r
`)};function jn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Oa(d){let w="";return xt(d,function(R,D){w+=D,w+=":",w+=R,w+=`\r
`}),w}function cn(d,w,R){t:{for(D in R){var D=!1;break t}D=!0}D||(R=Oa(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):Ft(d,w,R))}function be(d){Te.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(be,Te);var Jr=/^https?$/i,Ys=["POST","PUT"];e=be.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,w,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xi.g(),this.v=this.o?mr(this.o):mr(Xi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(ot){Fl(this,ot);return}if(d=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)R.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ot of D.keys())R.set(ot,D.get(ot));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(ot=>ot.toLowerCase()=="content-type"),Q=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ys,w,void 0))||D||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,bt]of R)this.g.setRequestHeader(ot,bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cn(this),this.u=!0,this.g.send(d),this.u=!1}catch(ot){Fl(this,ot)}};function Fl(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,ta(d),Rs(d)}function ta(d){d.A||(d.A=!0,re(d,"complete"),re(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,re(this,"complete"),re(this,"abort"),Rs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),be.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)};function Qt(d){if(d.h&&typeof f<"u"&&(!d.v[1]||Un(d)!=4||d.Z()!=2)){if(d.u&&Un(d)==4)Ke(d.Ea,0,d);else if(re(d,"readystatechange"),Un(d)==4){d.h=!1;try{const bt=d.Z();t:switch(bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var D;if(D=bt===0){var Q=String(d.D).match(Ce)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),D=!Jr.test(Q?Q.toLowerCase():"")}R=D}if(R)re(d,"complete"),re(d,"success");else{d.m=6;try{var ot=2<Un(d)?d.g.statusText:""}catch{ot=""}d.l=ot+" ["+d.Z()+"]",ta(d)}}finally{Rs(d)}}}}function Rs(d,w){if(d.g){Cn(d);const R=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||re(d,"ready");try{R.onreadystatechange=D}catch{}}}function Cn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function Un(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),ys(w)}};function Jo(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function uc(d){const w={};d=(d.g&&2<=Un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(nt(d[D]))continue;var R=Z(d[D]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ot=w[Q]||[];w[Q]=ot,ot.push(R)}H(w,function(D){return D.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(d,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||w}function ka(d){this.Aa=0,this.i=[],this.j=new me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,d),this.cb=$s("retryDelaySeedMs",1e4,d),this.Wa=$s("forwardChannelMaxRetries",2,d),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(d&&d.concurrentRequestLimit),this.Da=new Zs,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ka.prototype,e.la=8,e.G=1,e.connect=function(d,w,R,D){Mt(0),this.W=d,this.H=w||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.I=Ha(this,null,this.W),Er(this)};function Va(d){if(Hl(d),d.G==3){var w=d.U++,R=ze(d.I);if(Ft(R,"SID",d.K),Ft(R,"RID",w),Ft(R,"TYPE","terminate"),ea(d,R),w=new kn(d,d.j,w),w.L=2,w.v=vi(ze(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=w.v,R=!0),R||(w.g=Gl(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Yr(w)}ql(d)}function ja(d){d.g&&(br(d),d.g.cancel(),d.g=null)}function Hl(d){ja(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ba(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function Er(d){if(!$r(d.h)&&!d.s){d.s=!0;var w=d.Ga;Tt||j(),yt||(Tt(),yt=!0),te.add(w,d),d.B=0}}function cc(d,w){return Ss(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ae(S(d.Ga,d,w),Fa(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new kn(this,this.j,d);let ot=this.o;if(this.S&&(ot?(ot=O(ot),W(ot,this.S)):ot=this.S),this.m!==null||this.O||(Q.H=ot,ot=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=tl(this,Q,w),R=ze(this.I),Ft(R,"RID",d),Ft(R,"CVER",22),this.D&&Ft(R,"X-HTTP-Session-Id",this.D),ea(this,R),ot&&(this.O?w="headers="+encodeURIComponent(String(Oa(ot)))+"&"+w:this.m&&cn(R,this.m,ot)),xe(this.h,Q),this.Ua&&Ft(R,"TYPE","init"),this.P?(Ft(R,"$req",w),Ft(R,"SID","null"),Q.T=!0,Qi(Q,R,null)):Qi(Q,R,w),this.G=2}}else this.G==3&&(d?oi(this,d):this.i.length==0||$r(this.h)||oi(this))};function oi(d,w){var R;w?R=w.l:R=d.U++;const D=ze(d.I);Ft(D,"SID",d.K),Ft(D,"RID",R),Ft(D,"AID",d.T),ea(d,D),d.m&&d.o&&cn(D,d.m,d.o),R=new kn(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),w&&(d.i=w.D.concat(d.i)),w=tl(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),xe(d.h,R),Qi(R,D,w)}function ea(d,w){d.H&&xt(d.H,function(R,D){Ft(w,D,R)}),d.l&&Kt({},function(R,D){Ft(w,D,R)})}function tl(d,w,R){R=Math.min(d.i.length,R);var D=d.l?S(d.l.Na,d.l,d):null;t:{var Q=d.i;let ot=-1;for(;;){const bt=["count="+R];ot==-1?0<R?(ot=Q[0].g,bt.push("ofs="+ot)):ot=0:bt.push("ofs="+ot);let ue=!0;for(let rn=0;rn<R;rn++){let ce=Q[rn].g;const Ae=Q[rn].map;if(ce-=ot,0>ce)ot=Math.max(0,Q[rn].g-100),ue=!1;else try{Oi(Ae,bt,"req"+ce+"_")}catch{D&&D(Ae)}}if(ue){D=bt.join("&");break t}}}return d=d.i.splice(0,R),w.D=d,D}function ss(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;Tt||j(),yt||(Tt(),yt=!0),te.add(w,d),d.v=0}}function Ua(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ae(S(d.Fa,d),Fa(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,za(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ae(S(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),ja(this),za(this))};function br(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function za(d){d.g=new kn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=ze(d.qa);Ft(w,"RID","rpc"),Ft(w,"SID",d.K),Ft(w,"AID",d.T),Ft(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ft(w,"TO",d.ja),Ft(w,"TYPE","xmlhttp"),ea(d,w),d.m&&d.o&&cn(w,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=vi(ze(w)),R.m=null,R.P=!0,Es(R,d)}e.Za=function(){this.C!=null&&(this.C=null,ja(this),Ua(this),Mt(19))};function Ba(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function el(d,w){var R=null;if(d.g==w){Ba(d),br(d),d.g=null;var D=2}else if(ie(d.h,w))R=w.D,gn(d.h,w),D=1;else return;if(d.G!=0){if(w.o)if(D==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var Q=d.B;D=_s(),re(D,new $t(D,R)),Er(d)}else ss(d);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(D==1&&cc(d,w)||D==2&&Ua(d)))switch(R&&0<R.length&&(w=d.h,w.i=w.i.concat(R)),Q){case 1:Xs(d,5);break;case 4:Xs(d,10);break;case 3:Xs(d,6);break;default:Xs(d,2)}}}function Fa(d,w){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*w}function Xs(d,w){if(d.j.info("Error code "+w),w==2){var R=S(d.fb,d),D=d.Xa;const Q=!D;D=new We(D||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Xr(D,"https"),vi(D),Q?ge(D.toString(),R):Ni(D.toString(),R)}else Mt(2);d.G=0,d.l&&d.l.sa(w),ql(d),Hl(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function ql(d){if(d.G=0,d.ka=[],d.l){const w=xs(d.h);(w.length!=0||d.i.length!=0)&&(q(d.ka,w),q(d.ka,d.i),d.h.i.length=0,B(d.i),d.i.length=0),d.l.ra()}}function Ha(d,w,R){var D=R instanceof We?ze(R):new We(R);if(D.g!="")w&&(D.g=w+"."+D.g),Ji(D,D.s);else{var Q=m.location;D=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var ot=new We(null);D&&Xr(ot,D),w&&(ot.g=w),Q&&Ji(ot,Q),R&&(ot.l=R),D=ot}return R=d.D,w=d.ya,R&&w&&Ft(D,R,w),Ft(D,"VER",d.la),ea(d,D),D}function Gl(d,w,R){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new be(new ai({eb:R})):new be(d.pa),w.Ha(d.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function nl(){}e=nl.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function na(){}na.prototype.g=function(d,w){return new yn(d,w)};function yn(d,w){Te.call(this),this.g=new ka(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!nt(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!nt(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new li(this)}k(yn,Te),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Va(this.g)},yn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=pn(d),d=R);w.i.push(new yr(w.Ya++,d)),w.G==3&&Er(w)},yn.prototype.N=function(){this.g.l=null,delete this.j,Va(this.g),delete this.g,yn.aa.N.call(this)};function Cs(d){Li.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const R in w){d=R;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}k(Cs,Li);function Wl(){Wr.call(this),this.status=1}k(Wl,Wr);function li(d){this.g=d}k(li,nl),li.prototype.ua=function(){re(this.g,"a")},li.prototype.ta=function(d){re(this.g,new Cs(d))},li.prototype.sa=function(d){re(this.g,new Wl)},li.prototype.ra=function(){re(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,FA=function(){return new na},BA=function(){return _s()},zA=Mi,By={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,Bd=Ts,si.COMPLETE="complete",UA=si,pr.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Te.prototype.listen=Te.prototype.K,oh=pr,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,jA=be}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const nw="@firebase/firestore",iw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new O_("@firebase/firestore");function xu(){return kl.logLevel}function Lt(e,...t){if(kl.logLevel<=he.DEBUG){const n=t.map(K_);kl.debug(`Firestore (${tc}): ${e}`,...n)}}function Ra(e,...t){if(kl.logLevel<=he.ERROR){const n=t.map(K_);kl.error(`Firestore (${tc}): ${e}`,...n)}}function Uu(e,...t){if(kl.logLevel<=he.WARN){const n=t.map(K_);kl.warn(`Firestore (${tc}): ${e}`,...n)}}function K_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,HA(e,s,n)}function HA(e,t,n){let s=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ra(s),new Error(s)}function Re(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||HA(t,o,s)}function Xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends qr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(fi.UNAUTHENTICATED))}shutdown(){}}class uO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cO{constructor(t){this.t=t,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Re(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ba,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ba)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Re(typeof s.accessToken=="string",31837,{l:s}),new qA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string",2055,{h:t}),new fi(t)}}class hO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new hO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Re(this.o===void 0,3512);const s=u=>{u.error!=null&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function fe(e,t){return e<t?-1:e>t?1:0}function Fy(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return oy(o)===oy(u)?fe(o,u):oy(o)?1:-1}return fe(e.length,t.length)}const pO=55296,gO=57343;function oy(e){const t=e.charCodeAt(0);return t>=pO&&t<=gO}function zu(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__name__";class Lr{constructor(t,n,s){n===void 0?n=0:n>t.length&&qt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&qt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Lr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Lr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return fe(t.length,n.length)}static compareSegments(t,n){const s=Lr.isNumericId(t),o=Lr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Lr.extractNumericId(t).compare(Lr.extractNumericId(n)):Fy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Io.fromString(t.substring(4,t.length-2))}}class qe extends Lr{construct(t,n,s){return new qe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new At(ft.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Lr{construct(t,n,s){return new Jn(t,n,s)}static isValidIdentifier(t){return yO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rw}static keyField(){return new Jn([rw])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new At(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new At(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new At(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new At(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.path=t}static fromPath(t){return new Vt(qe.fromString(t))}static fromName(t){return new Vt(qe.fromString(t).popFirst(5))}static empty(){return new Vt(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Vt(new qe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e,t,n){if(!n)throw new At(ft.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _O(e,t,n,s){if(t===!0&&s===!0)throw new At(ft.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function aw(e){if(!Vt.isDocumentKey(e))throw new At(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ow(e){if(Vt.isDocumentKey(e))throw new At(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function WA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Vm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":qt(12329,{type:typeof e})}function Gi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new At(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(e);throw new At(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function vO(e,t){if(t<=0)throw new At(ft.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(e,t){const n={typeString:e};return t&&(n.value=t),n}function rf(e,t){if(!WA(e))throw new At(ft.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const f=e[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new At(ft.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=-62135596800,uw=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(t){return Ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uw);return new Ze(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lw)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uw}_compareTo(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rf(t,Ze._jsonSchema))return new Ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Sn("string",Ze._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(t){return new Yt(t)}static min(){return new Yt(new Ze(0,0))}static max(){return new Yt(new Ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=-1;function TO(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=Yt.fromTimestamp(s===1e9?new Ze(n+1,0):new Ze(n,s));return new No(o,Vt.empty(),t)}function EO(e){return new No(e.readTime,e.key,Ph)}class No{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new No(Yt.min(),Vt.empty(),Ph)}static max(){return new No(Yt.max(),Vt.empty(),Ph)}}function bO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Vt.comparator(e.documentKey,t.documentKey),n!==0?n:fe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(e){if(e.code!==ft.FAILED_PRECONDITION||e.message!==wO)throw e;Lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new gt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof gt?n:gt.resolve(n)}catch(n){return gt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.reject(n)}static resolve(t){return new gt((n,s)=>{n(t)})}static reject(t){return new gt((n,s)=>{s(t)})}static waitFor(t){return new gt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(t){let n=gt.resolve(!1);for(const s of t)n=n.next(o=>o?gt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new gt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next(b=>{f[_]=b,++m,m===u&&s(f)},b=>o(b))}})}static doWhile(t,n){return new gt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function xO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-1;function Um(e){return e==null}function cm(e){return e===0&&1/e==-1/0}function AO(e){return typeof e=="number"&&Number.isInteger(e)&&!cm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="";function RO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=cw(t)),t=CO(e.get(n),t);return cw(t)}function CO(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case ZA:n+="";break;default:n+=u}}return n}function cw(e){return e+ZA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function KA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n){this.comparator=t,this.root=n||Qn.EMPTY}insert(t,n){return new nn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(t){return new nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bd(this.root,t,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bd(this.root,t,this.comparator,!0)}}class bd{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Qn.RED,this.left=o??Qn.EMPTY,this.right=u??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Qn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qt(27949);return t+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Qn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.comparator=t,this.data=new nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(t){return new fw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Mn(this.comparator);return n.data=t,n}}class fw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.fields=t,t.sort(Jn.comparator)}static empty(){return new ms([])}unionWith(t){let n=new Mn(Jn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ms(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zu(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YA("Invalid base64 string: "+u):u}}(t);return new ti(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new ti(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return fe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(e){if(Re(!!e,39018),typeof e=="string"){let t=0;const n=IO.exec(e);if(Re(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:mn(e.seconds),nanos:mn(e.nanos)}}function mn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ko(e){return typeof e=="string"?ti.fromBase64String(e):ti.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="server_timestamp",XA="__type__",QA="__previous_value__",JA="__local_write_time__";function X_(e){return(e?.mapValue?.fields||{})[XA]?.stringValue===$A}function zm(e){const t=e.mapValue.fields[QA];return X_(t)?zm(t):t}function Lh(e){const t=Oo(e.mapValue.fields[JA].timestampValue);return new Ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n,s,o,u,f,m,y,_,b){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Mh="(default)";class Dh{constructor(t,n){this.projectId=t,this.database=n||Mh}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(t){return t instanceof Dh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="__type__",LO="__max__",wd={mapValue:{}},e1="__vector__",hm="value";function Vo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?X_(e)?4:DO(e)?9007199254740991:MO(e)?10:11:qt(28295,{value:e})}function Br(e,t){if(e===t)return!0;const n=Vo(e);if(n!==Vo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lh(e).isEqual(Lh(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Oo(o.timestampValue),m=Oo(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return ko(o.bytesValue).isEqual(ko(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return mn(o.geoPointValue.latitude)===mn(u.geoPointValue.latitude)&&mn(o.geoPointValue.longitude)===mn(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mn(o.integerValue)===mn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mn(o.doubleValue),m=mn(u.doubleValue);return f===m?cm(f)===cm(m):isNaN(f)&&isNaN(m)}return!1}(e,t);case 9:return zu(e.arrayValue.values||[],t.arrayValue.values||[],Br);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hw(f)!==hw(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Br(f[y],m[y])))return!1;return!0}(e,t);default:return qt(52216,{left:e})}}function Nh(e,t){return(e.values||[]).find(n=>Br(n,t))!==void 0}function Bu(e,t){if(e===t)return 0;const n=Vo(e),s=Vo(t);if(n!==s)return fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(u,f){const m=mn(u.integerValue||u.doubleValue),y=mn(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(e,t);case 3:return dw(e.timestampValue,t.timestampValue);case 4:return dw(Lh(e),Lh(t));case 5:return Fy(e.stringValue,t.stringValue);case 6:return function(u,f){const m=ko(u),y=ko(f);return m.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const b=fe(m[_],y[_]);if(b!==0)return b}return fe(m.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const m=fe(mn(u.latitude),mn(f.latitude));return m!==0?m:fe(mn(u.longitude),mn(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return mw(e.arrayValue,t.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},_=m[hm]?.arrayValue,b=y[hm]?.arrayValue,A=fe(_?.values?.length||0,b?.values?.length||0);return A!==0?A:mw(_,b)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===wd.mapValue&&f===wd.mapValue)return 0;if(u===wd.mapValue)return 1;if(f===wd.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=f.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const S=Fy(y[A],b[A]);if(S!==0)return S;const M=Bu(m[y[A]],_[b[A]]);if(M!==0)return M}return fe(y.length,b.length)}(e.mapValue,t.mapValue);default:throw qt(23264,{he:n})}}function dw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);const n=Oo(e),s=Oo(t),o=fe(n.seconds,s.seconds);return o!==0?o:fe(n.nanos,s.nanos)}function mw(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Bu(n[o],s[o]);if(u)return u}return fe(n.length,s.length)}function Fu(e){return Hy(e)}function Hy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=Oo(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ko(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hy(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Hy(n.fields[f])}`;return o+"}"}(e.mapValue):qt(61005,{value:e})}function Fd(e){switch(Vo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zm(e);return t?16+Fd(t):16;case 5:return 2*e.stringValue.length;case 6:return ko(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Fd(u),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return Wo(s.fields,(u,f)=>{o+=u.length+Fd(f)}),o}(e.mapValue);default:throw qt(13486,{value:e})}}function pw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qy(e){return!!e&&"integerValue"in e}function Q_(e){return!!e&&"arrayValue"in e}function gw(e){return!!e&&"nullValue"in e}function yw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hd(e){return!!e&&"mapValue"in e}function MO(e){return(e?.mapValue?.fields||{})[t1]?.stringValue===e1}function gh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Wo(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=gh(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gh(e.arrayValue.values[n]);return t}return{...e}}function DO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===LO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.value=t}static empty(){return new Fi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Hd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gh(n)}setAll(t){let n=Jn.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=gh(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Br(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Hd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Wo(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Fi(gh(this.value))}}function n1(e){const t=[];return Wo(e.fields,(n,s)=>{const o=new Jn([n]);if(Hd(s)){const u=n1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new ms(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new di(t,0,Yt.min(),Yt.min(),Yt.min(),Fi.empty(),0)}static newFoundDocument(t,n,s,o){return new di(t,1,n,Yt.min(),s,o,0)}static newNoDocument(t,n){return new di(t,2,n,Yt.min(),Yt.min(),Fi.empty(),0)}static newUnknownDocument(t,n){return new di(t,3,n,Yt.min(),Yt.min(),Fi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n){this.position=t,this.inclusive=n}}function _w(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?s=Vt.comparator(Vt.fromName(f.referenceValue),n.key):s=Bu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Br(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n="asc"){this.field=t,this.dir=n}}function NO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{}class wn extends i1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new kO(t,n,s):n==="array-contains"?new UO(t,s):n==="in"?new zO(t,s):n==="not-in"?new BO(t,s):n==="array-contains-any"?new FO(t,s):new wn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new VO(t,s):new jO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bu(n,this.value)):n!==null&&Vo(this.value)===Vo(n)&&this.matchesComparison(Bu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends i1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new cr(t,n)}matches(t){return s1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s1(e){return e.op==="and"}function r1(e){return OO(e)&&s1(e)}function OO(e){for(const t of e.filters)if(t instanceof cr)return!1;return!0}function Gy(e){if(e instanceof wn)return e.field.canonicalString()+e.op.toString()+Fu(e.value);if(r1(e))return e.filters.map(t=>Gy(t)).join(",");{const t=e.filters.map(n=>Gy(n)).join(",");return`${e.op}(${t})`}}function a1(e,t){return e instanceof wn?function(s,o){return o instanceof wn&&s.op===o.op&&s.field.isEqual(o.field)&&Br(s.value,o.value)}(e,t):e instanceof cr?function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&a1(f,o.filters[m]),!0):!1}(e,t):void qt(19439)}function o1(e){return e instanceof wn?function(n){return`${n.field.canonicalString()} ${n.op} ${Fu(n.value)}`}(e):e instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(o1).join(" ,")+"}"}(e):"Filter"}class kO extends wn{constructor(t,n,s){super(t,n,s),this.key=Vt.fromName(s.referenceValue)}matches(t){const n=Vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class VO extends wn{constructor(t,n){super(t,"in",n),this.keys=l1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class jO extends wn{constructor(t,n){super(t,"not-in",n),this.keys=l1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function l1(e,t){return(t.arrayValue?.values||[]).map(n=>Vt.fromName(n.referenceValue))}class UO extends wn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Q_(n)&&Nh(n.arrayValue,this.value)}}class zO extends wn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class BO extends wn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class FO extends wn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Nh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Tw(e,t=null,n=[],s=[],o=null,u=null,f=null){return new HO(e,t,n,s,o,u,f)}function J_(e){const t=Xt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Gy(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Um(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fu(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fu(s)).join(",")),t.Te=n}return t.Te}function tv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!NO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!a1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vw(e.startAt,t.startAt)&&vw(e.endAt,t.endAt)}function Wy(e){return Vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qO(e,t,n,s,o,u,f,m){return new ic(e,t,n,s,o,u,f,m)}function Bm(e){return new ic(e)}function Ew(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function u1(e){return e.collectionGroup!==null}function yh(e){const t=Xt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mn(Jn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Oh(u,s))}),n.has(Jn.keyField().canonicalString())||t.Ie.push(new Oh(Jn.keyField(),s))}return t.Ie}function Nr(e){const t=Xt(e);return t.Ee||(t.Ee=GO(t,yh(e))),t.Ee}function GO(e,t){if(e.limitType==="F")return Tw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)});const n=e.endAt?new fm(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new fm(e.startAt.position,e.startAt.inclusive):null;return Tw(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Zy(e,t){const n=e.filters.concat([t]);return new ic(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function dm(e,t,n){return new ic(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fm(e,t){return tv(Nr(e),Nr(t))&&e.limitType===t.limitType}function c1(e){return`${J_(Nr(e))}|lt:${e.limitType}`}function Au(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>o1(o)).join(", ")}]`),Um(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Fu(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Fu(o)).join(",")),`Target(${s})`}(Nr(e))}; limitType=${e.limitType})`}function Hm(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of yh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(f,m,y){const _=_w(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,yh(s),o)||s.endAt&&!function(f,m,y){const _=_w(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,yh(s),o))}(e,t)}function WO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function h1(e){return(t,n)=>{let s=!1;for(const o of yh(e)){const u=ZO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ZO(e,t,n){const s=e.field.isKeyField()?Vt.comparator(t.key,n.key):function(u,f,m){const y=f.data.field(u),_=m.data.field(u);return y!==null&&_!==null?Bu(y,_):qt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return qt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Wo(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return KA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new nn(Vt.comparator);function Ca(){return KO}const f1=new nn(Vt.comparator);function lh(...e){let t=f1;for(const n of e)t=t.insert(n.key,n);return t}function d1(e){let t=f1;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Al(){return _h()}function m1(){return _h()}function _h(){return new jl(e=>e.toString(),(e,t)=>e.isEqual(t))}const YO=new nn(Vt.comparator),$O=new Mn(Vt.comparator);function de(...e){let t=$O;for(const n of e)t=t.add(n);return t}const XO=new Mn(fe);function QO(){return XO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(t)?"-0":t}}function p1(e){return{integerValue:""+e}}function JO(e,t){return AO(t)?p1(t):ev(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this._=void 0}}function tk(e,t,n){return e instanceof kh?function(o,u){const f={fields:{[XA]:{stringValue:$A},[JA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&X_(u)&&(u=zm(u)),u&&(f.fields[QA]=u),{mapValue:f}}(n,t):e instanceof Vh?y1(e,t):e instanceof jh?_1(e,t):function(o,u){const f=g1(o,u),m=bw(f)+bw(o.Ae);return qy(f)&&qy(o.Ae)?p1(m):ev(o.serializer,m)}(e,t)}function ek(e,t,n){return e instanceof Vh?y1(e,t):e instanceof jh?_1(e,t):n}function g1(e,t){return e instanceof mm?function(s){return qy(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class kh extends qm{}class Vh extends qm{constructor(t){super(),this.elements=t}}function y1(e,t){const n=v1(t);for(const s of e.elements)n.some(o=>Br(o,s))||n.push(s);return{arrayValue:{values:n}}}class jh extends qm{constructor(t){super(),this.elements=t}}function _1(e,t){let n=v1(t);for(const s of e.elements)n=n.filter(o=>!Br(o,s));return{arrayValue:{values:n}}}class mm extends qm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function bw(e){return mn(e.integerValue||e.doubleValue)}function v1(e){return Q_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t,n){this.field=t,this.transform=n}}function ik(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Vh&&o instanceof Vh||s instanceof jh&&o instanceof jh?zu(s.elements,o.elements,Br):s instanceof mm&&o instanceof mm?Br(s.Ae,o.Ae):s instanceof kh&&o instanceof kh}(e.transform,t.transform)}class sk{constructor(t,n){this.version=t,this.transformResults=n}}class Bs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bs}static exists(t){return new Bs(void 0,t)}static updateTime(t){return new Bs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Gm{}function T1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new nv(e.key,Bs.none()):new af(e.key,e.data,Bs.none());{const n=e.data,s=Fi.empty();let o=new Mn(Jn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Zo(e.key,s,new ms(o.toArray()),Bs.none())}}function rk(e,t,n){e instanceof af?function(o,u,f){const m=o.value.clone(),y=Sw(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(e,t,n):e instanceof Zo?function(o,u,f){if(!qd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Sw(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(E1(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(e,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function vh(e,t,n,s){return e instanceof af?function(u,f,m,y){if(!qd(u.precondition,f))return m;const _=u.value.clone(),b=xw(u.fieldTransforms,y,f);return _.setAll(b),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(e,t,n,s):e instanceof Zo?function(u,f,m,y){if(!qd(u.precondition,f))return m;const _=xw(u.fieldTransforms,y,f),b=f.data;return b.setAll(E1(u)),b.setAll(_),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(e,t,n,s):function(u,f,m){return qd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(e,t,n)}function ak(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=g1(s.transform,o||null);u!=null&&(n===null&&(n=Fi.empty()),n.set(s.field,u))}return n||null}function ww(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zu(s,o,(u,f)=>ik(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class af extends Gm{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zo extends Gm{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function E1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Sw(e,t,n){const s=new Map;Re(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,ek(f,m,n[o]))}return s}function xw(e,t,n){const s=new Map;for(const o of e){const u=o.transform,f=n.data.field(o.field);s.set(o.field,tk(u,f,t))}return s}class nv extends Gm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ok extends Gm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&rk(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vh(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vh(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=m1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=T1(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Yt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),de())}isEqual(t){return this.batchId===t.batchId&&zu(this.mutations,t.mutations,(n,s)=>ww(n,s))&&zu(this.baseMutations,t.baseMutations,(n,s)=>ww(n,s))}}class iv{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Re(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return YO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new iv(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,_e;function hk(e){switch(e){case ft.OK:return qt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return qt(15467,{code:e})}}function b1(e){if(e===void 0)return Ra("GRPC error has no .code"),ft.UNKNOWN;switch(e){case Tn.OK:return ft.OK;case Tn.CANCELLED:return ft.CANCELLED;case Tn.UNKNOWN:return ft.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ft.INTERNAL;case Tn.UNAVAILABLE:return ft.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ft.NOT_FOUND;case Tn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Tn.ABORTED:return ft.ABORTED;case Tn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Tn.DATA_LOSS:return ft.DATA_LOSS;default:return qt(39323,{code:e})}}(_e=Tn||(Tn={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Io([4294967295,4294967295],0);function Aw(e){const t=fk().encode(e),n=new VA;return n.update(t),new Uint8Array(n.digest())}function Rw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Io([n,s],0),new Io([o,u],0)]}class sv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uh(`Invalid padding: ${n}`);if(s<0)throw new uh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new uh(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new uh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Io.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Io.fromNumber(s)));return o.compare(dk)===1&&(o=new Io([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Aw(t),[s,o]=Rw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new sv(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.ge===0)return;const n=Aw(t),[s,o]=Rw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,of.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Wm(Yt.min(),o,new nn(fe),Ca(),de())}}class of{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new of(s,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class w1{constructor(t,n){this.targetId=t,this.Ce=n}}class S1{constructor(t,n,s=ti.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Cw{constructor(){this.ve=0,this.Fe=Iw(),this.Me=ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=de(),n=de(),s=de();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:qt(38017,{changeType:u})}}),new of(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Iw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ca(),this.Je=Sd(),this.He=Sd(),this.Ye=new nn(fe)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:qt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Wy(u))if(s===0){const f=new Vt(u.path);this.et(n,f,di.newNoDocument(f,Yt.min()))}else Re(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ko(s).toUint8Array()}catch(y){if(y instanceof YA)return Uu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new sv(f,o,u)}catch(y){return Uu(y instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Wy(m.target)){const y=new Vt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,di.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=de();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Wm(t,n,this.Ye,this.je,s);return this.je=Ca(),this.Je=Sd(),this.He=Sd(),this.Ye=new nn(fe),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Cw,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Mn(fe),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Mn(fe),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Cw),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Sd(){return new nn(Vt.comparator)}function Iw(){return new nn(Vt.comparator)}const pk={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yk={and:"AND",or:"OR"};class _k{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ky(e,t){return e.useProto3Json||Um(t)?t:{value:t}}function pm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function x1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vk(e,t){return pm(e,t.toTimestamp())}function Or(e){return Re(!!e,49232),Yt.fromTimestamp(function(n){const s=Oo(n);return new Ze(s.seconds,s.nanos)}(e))}function rv(e,t){return Yy(e,t).canonicalString()}function Yy(e,t){const n=function(o){return new qe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function A1(e){const t=qe.fromString(e);return Re(L1(t),10190,{key:t.toString()}),t}function $y(e,t){return rv(e.databaseId,t.path)}function ly(e,t){const n=A1(t);if(n.get(1)!==e.databaseId.projectId)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vt(C1(n))}function R1(e,t){return rv(e.databaseId,t)}function Tk(e){const t=A1(e);return t.length===4?qe.emptyPath():C1(t)}function Xy(e){return new qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function C1(e){return Re(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Pw(e,t,n){return{name:$y(e,t),fields:n.value.mapValue.fields}}function Ek(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:qt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(_,b){return _.useProto3Json?(Re(b===void 0||typeof b=="string",58123),ti.fromBase64String(b||"")):(Re(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),ti.fromUint8Array(b||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(_){const b=_.code===void 0?ft.UNKNOWN:b1(_.code);return new At(b,_.message||"")}(f);n=new S1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ly(e,s.document.name),u=Or(s.document.updateTime),f=s.document.createTime?Or(s.document.createTime):Yt.min(),m=new Fi({mapValue:{fields:s.document.fields}}),y=di.newFoundDocument(o,u,f,m),_=s.targetIds||[],b=s.removedTargetIds||[];n=new Gd(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ly(e,s.document),u=s.readTime?Or(s.readTime):Yt.min(),f=di.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Gd([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ly(e,s.document),u=s.removedTargetIds||[];n=new Gd([],u,o,null)}else{if(!("filter"in t))return qt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ck(o,u),m=s.targetId;n=new w1(m,f)}}return n}function bk(e,t){let n;if(t instanceof af)n={update:Pw(e,t.key,t.value)};else if(t instanceof nv)n={delete:$y(e,t.key)};else if(t instanceof Zo)n={update:Pw(e,t.key,t.data),updateMask:Lk(t.fieldMask)};else{if(!(t instanceof ok))return qt(16599,{Vt:t.type});n={verify:$y(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof kh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof jh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mm)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw qt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vk(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:qt(27497)}(e,t.precondition)),n}function wk(e,t){return e&&e.length>0?(Re(t!==void 0,14353),e.map(n=>function(o,u){let f=o.updateTime?Or(o.updateTime):Or(u);return f.isEqual(Yt.min())&&(f=Or(u)),new sk(f,o.transformResults||[])}(n,t))):[]}function Sk(e,t){return{documents:[R1(e,t.path)]}}function xk(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=R1(e,o);const u=function(_){if(_.length!==0)return P1(cr.create(_,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(b=>function(S){return{field:Ru(S.field),direction:Ck(S.dir)}}(b))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ky(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:o}}function Ak(e){let t=Tk(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Re(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=function(A){const S=I1(A);return S instanceof cr&&r1(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(k){return new Oh(Cu(k.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Um(S)?null:S}(n.limit));let y=null;n.startAt&&(y=function(A){const S=!!A.before,M=A.values||[];return new fm(M,S)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const S=!A.before,M=A.values||[];return new fm(M,S)}(n.endAt)),qO(t,o,f,u,m,"F",y,_)}function Rk(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function I1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Cu(n.unaryFilter.field);return wn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Cu(n.unaryFilter.field);return wn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Cu(n.unaryFilter.field);return wn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Cu(n.unaryFilter.field);return wn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}}(e):e.fieldFilter!==void 0?function(n){return wn.create(Cu(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(s=>I1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qt(1026)}}(n.compositeFilter.op))}(e):qt(30097,{filter:e})}function Ck(e){return pk[e]}function Ik(e){return gk[e]}function Pk(e){return yk[e]}function Ru(e){return{fieldPath:e.canonicalString()}}function Cu(e){return Jn.fromServerFormat(e.fieldPath)}function P1(e){return e instanceof wn?function(n){if(n.op==="=="){if(yw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(gw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(gw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:Ik(n.op),value:n.value}}}(e):e instanceof cr?function(n){const s=n.getFilters().map(o=>P1(o));return s.length===1?s[0]:{compositeFilter:{op:Pk(n.op),filters:s}}}(e):qt(54877,{filter:e})}function Lk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function L1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,n,s,o,u=Yt.min(),f=Yt.min(),m=ti.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Ao(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t){this.yt=t}}function Dk(e){const t=Ak({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.Cn=new Ok}addToCollectionParentIndex(t,n){return this.Cn.add(n),gt.resolve()}getCollectionParents(t,n){return gt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return gt.resolve()}deleteFieldIndex(t,n){return gt.resolve()}deleteAllFieldIndexes(t){return gt.resolve()}createTargetIndexes(t,n){return gt.resolve()}getDocumentsMatchingTarget(t,n){return gt.resolve(null)}getIndexType(t,n){return gt.resolve(0)}getFieldIndexes(t,n){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,n){return gt.resolve(No.min())}getMinOffsetFromCollectionGroup(t,n){return gt.resolve(No.min())}updateCollectionGroup(t,n,s){return gt.resolve()}updateIndexEntries(t,n){return gt.resolve()}}class Ok{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Mn(qe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Mn(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M1=41943040;class zi{static withCacheSize(t){return new zi(t,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(M1,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Hu(0)}static cr(){return new Hu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="LruGarbageCollector",D1=1048576;function Dw([e,t],[n,s]){const o=fe(e,n);return o===0?fe(t,s):o}class kk{constructor(t){this.Ir=t,this.buffer=new Mn(Dw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Dw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vk{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Lt(Mw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nc(n)?Lt(Mw,"Ignoring IndexedDB error during garbage collection: ",n):await ec(n)}await this.Vr(3e5)})}}class jk{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return gt.resolve(jm.ce);const s=new kk(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(Lw)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lw):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(_=Date.now(),xu()<=he.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Uk(e,t){return new jk(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changes=new jl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,di.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?gt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&vh(s.mutation,o,ms.empty(),Ze.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,de()).next(()=>s))}getLocalViewOfDocuments(t,n,s=de()){const o=Al();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=lh();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Al();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,de()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Ca();const f=_h(),m=function(){return _h()}();return n.forEach((y,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Zo)?u=u.insert(_.key,_):b!==void 0?(f.set(_.key,b.mutation.getFieldMask()),vh(b.mutation,_,b.mutation.getFieldMask(),Ze.now())):f.set(_.key,ms.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((_,b)=>f.set(_,b)),n.forEach((_,b)=>m.set(_,new Bk(b,f.get(_)??null))),m))}recalculateAndSaveOverlays(t,n){const s=_h();let o=new nn((f,m)=>f-m),u=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let b=s.get(y)||ms.empty();b=m.applyToLocalView(_,b),s.set(y,b);const A=(o.get(m.batchId)||de()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,b=y.value,A=m1();b.forEach(S=>{if(!u.has(S)){const M=T1(n.get(S),s.get(S));M!==null&&A.set(S,M),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,A))}return gt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return Vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):u1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):gt.resolve(Al());let m=Ph,y=u;return f.next(_=>gt.forEach(_,(b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?gt.resolve():this.remoteDocumentCache.getEntry(t,b).next(S=>{y=y.insert(b,S)}))).next(()=>this.populateOverlays(t,_,u)).next(()=>this.computeViews(t,y,_,de())).next(b=>({batchId:m,changes:d1(b)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Vt(n)).next(s=>{let o=lh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=lh();return this.indexManager.getCollectionParents(t,u).next(m=>gt.forEach(m,y=>{const _=function(A,S){return new ic(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(b=>{b.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((y,_)=>{const b=_.getKey();f.get(b)===null&&(f=f.insert(b,di.newInvalidDocument(b)))});let m=lh();return f.forEach((y,_)=>{const b=u.get(y);b!==void 0&&vh(b.mutation,_,ms.empty(),Ze.now()),Hm(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return gt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(n)),gt.resolve()}getNamedQuery(t,n){return gt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:Dk(o.bundledQuery),readTime:Or(o.readTime)}}(n)),gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.overlays=new nn(Vt.comparator),this.qr=new Map}getOverlay(t,n){return gt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Al();return gt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),gt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),gt.resolve()}getOverlaysForCollection(t,n,s){const o=Al(),u=n.length+1,f=new Vt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return gt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new nn((_,b)=>_-b);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let b=u.get(_.largestBatchId);b===null&&(b=Al(),u=u.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const m=Al(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,b)=>m.set(_,b)),!(m.size()>=o)););return gt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new uk(n,s));let u=this.qr.get(n);u===void 0&&(u=de(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(t){return gt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.Qr=new Mn(Gn.$r),this.Ur=new Mn(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Gn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Gn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Vt(new qe([])),s=new Gn(n,t),o=new Gn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Vt(new qe([])),s=new Gn(n,t),o=new Gn(n,t+1);let u=de();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Gn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Gn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Vt.comparator(t.key,n.key)||fe(t.Yr,n.Yr)}static Kr(t,n){return fe(t.Yr,n.Yr)||Vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Gn.$r)}checkEmpty(t){return gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lk(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Gn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return gt.resolve(f)}lookupMutationBatch(t,n){return gt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return gt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(this.mutationQueue.length===0?$_:this.tr-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Gn(n,0),o=new Gn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),gt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Mn(fe);return n.forEach(o=>{const u=new Gn(o,0),f=new Gn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),gt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Vt.isDocumentKey(u)||(u=u.child(""));const f=new Gn(new Vt(u),0);let m=new Mn(fe);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Yr)),!0)},f),gt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return gt.forEach(n.mutations,o=>{const u=new Gn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Gn(n,0),o=this.Zr.firstAfterOrEqual(s);return gt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,gt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t){this.ri=t,this.docs=function(){return new nn(Vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return gt.resolve(s?s.document.mutableCopy():di.newInvalidDocument(n))}getEntries(t,n){let s=Ca();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():di.newInvalidDocument(o))}),gt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ca();const f=n.path,m=new Vt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||bO(EO(b),s)<=0||(o.has(b.key)||Hm(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return gt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){qt(9500)}ii(t,n){return gt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Kk(this)}getSize(t){return gt.resolve(this.size)}}class Kk extends zk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),gt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t){this.persistence=t,this.si=new jl(n=>J_(n),tv),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.oi=0,this._i=new av,this.targetCount=0,this.ai=Hu.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),gt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Hu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,gt.resolve()}updateTargetData(t,n){return this.Pr(n),gt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),gt.waitFor(u).next(()=>o)}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return gt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),gt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),gt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),gt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return gt.resolve(s)}containsKey(t,n){return gt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.ui={},this.overlays={},this.ci=new jm(0),this.li=!1,this.li=!0,this.hi=new Gk,this.referenceDelegate=t(this),this.Pi=new Yk(this),this.indexManager=new Nk,this.remoteDocumentCache=function(o){return new Zk(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Mk(n),this.Ii=new Hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Wk(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Lt("MemoryPersistence","Starting transaction:",t);const o=new $k(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return gt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class $k extends SO{constructor(t){super(),this.currentSequenceNumber=t}}class ov{constructor(t){this.persistence=t,this.Ri=new av,this.Vi=null}static mi(t){return new ov(t)}get fi(){if(this.Vi)return this.Vi;throw qt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),gt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),gt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),gt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.fi,s=>{const o=Vt.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Yt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return gt.or([()=>gt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class gm{constructor(t,n){this.persistence=t,this.pi=new jl(s=>RO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Uk(this,n)}static mi(t,n){return new gm(t,n)}Ei(){}di(t){return gt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return gt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?gt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Yt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),gt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),gt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),gt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),gt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fd(t.data.value)),n}br(t,n,s){return gt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return gt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=de(),o=de();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lv(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RL()?8:xO(pi())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Xk;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(xu()<=he.DEBUG&&Lt("QueryEngine","SDK will not create cache indexes for query:",Au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),gt.resolve()):(xu()<=he.DEBUG&&Lt("QueryEngine","Query:",Au(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(xu()<=he.DEBUG&&Lt("QueryEngine","The SDK decides to create cache indexes for query:",Au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nr(n))):gt.resolve())}ys(t,n){if(Ew(n))return gt.resolve(null);let s=Nr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=dm(n,null,"F"),s=Nr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=de(...u);return this.ps.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const _=this.Ds(n,m);return this.Cs(n,_,f,y.readTime)?this.ys(t,dm(n,null,"F")):this.vs(t,_,n,y)}))})))}ws(t,n,s,o){return Ew(n)||o.isEqual(Yt.min())?gt.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?gt.resolve(null):(xu()<=he.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Au(n)),this.vs(t,f,n,TO(o,Ph)).next(m=>m))})}Ds(t,n){let s=new Mn(h1(t));return n.forEach((o,u)=>{Hm(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return xu()<=he.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",Au(n)),this.ps.getDocumentsMatchingQuery(t,n,No.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LocalStore",Jk=3e8;class tV{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new nn(fe),this.xs=new jl(u=>J_(u),tv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function eV(e,t,n,s){return new tV(e,t,n,s)}async function O1(e,t){const n=Xt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=de();for(const _ of o){f.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of u){m.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:f,addedBatchIds:m}))})})}function nV(e,t){const n=Xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,_,b){const A=_.batch,S=A.keys();let M=gt.resolve();return S.forEach(k=>{M=M.next(()=>b.getEntry(y,k)).next(B=>{const q=_.docVersions.get(k);Re(q!==null,48541),B.version.compareTo(q)<0&&(A.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),b.addEntry(B)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=de();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function k1(e){const t=Xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function iV(e,t){const n=Xt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((b,A)=>{const S=o.get(A);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,b.addedDocuments,A)));let M=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?M=M.withResumeToken(ti.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):b.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(b.resumeToken,s)),o=o.insert(A,M),function(B,q,G){return B.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Jk?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(S,M,b)&&m.push(n.Pi.updateTargetData(u,M))});let y=Ca(),_=de();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(sV(u,f,t.documentUpdates).next(b=>{y=b.ks,_=b.qs})),!s.isEqual(Yt.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(b)}return gt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(n.Ms=o,u))}function sV(e,t,n){let s=de(),o=de();return n.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let f=Ca();return n.forEach((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Yt.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):Lt(uv,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{ks:f,qs:o}})}function rV(e,t){const n=Xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=$_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function aV(e,t){const n=Xt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,gt.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Ao(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Qy(e,t,n){const s=Xt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!nc(f))throw f;Lt(uv,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Nw(e,t,n){const s=Xt(e);let o=Yt.min(),u=de();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,b){const A=Xt(y),S=A.xs.get(b);return S!==void 0?gt.resolve(A.Ms.get(S)):A.Pi.getTargetData(_,b)}(s,f,Nr(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Yt.min(),n?u:de())).next(m=>(oV(s,WO(t),m),{documents:m,Qs:u})))}function oV(e,t,n){let s=e.Os.get(t)||Yt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Os.set(t,s)}class Ow{constructor(){this.activeTargetIds=QO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lV{constructor(){this.Mo=new Ow,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ow,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="ConnectivityMonitor";class Vw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Lt(kw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Lt(kw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function Jy(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="RestConnection",cV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Jy(),m=this.zo(t,n.toUriEncodedString());Lt(uy,`Sending RPC '${t}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(m),b=Fo(_);return this.Jo(t,m,y,s,b).then(A=>(Lt(uy,`Received RPC '${t}' ${f}: `,A),A),A=>{throw Uu(uy,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=cV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class dV extends hV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Jy();return new Promise((m,y)=>{const _=new jA;_.setWithCredentials(!0),_.listenOnce(UA.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Bd.NO_ERROR:const A=_.getResponseJson();Lt(hi,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Bd.TIMEOUT:Lt(hi,`RPC '${t}' ${f} timed out`),y(new At(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const S=_.getStatus();if(Lt(hi,`RPC '${t}' ${f} failed with status:`,S,"response text:",_.getResponseText()),S>0){let M=_.getResponseJson();Array.isArray(M)&&(M=M[0]);const k=M?.error;if(k&&k.status&&k.message){const B=function(G){const nt=G.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(nt)>=0?nt:ft.UNKNOWN}(k.status);y(new At(B,k.message))}else y(new At(ft.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new At(ft.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Lt(hi,`RPC '${t}' ${f} completed.`)}});const b=JSON.stringify(o);Lt(hi,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",b,s,15)})}T_(t,n,s){const o=Jy(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=FA(),m=BA(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const b=u.join("");Lt(hi,`Creating RPC '${t}' stream ${o}: ${b}`,y);const A=f.createWebChannel(b,y);this.I_(A);let S=!1,M=!1;const k=new fV({Yo:q=>{M?Lt(hi,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(S||(Lt(hi,`Opening RPC '${t}' stream ${o} transport.`),A.open(),S=!0),Lt(hi,`RPC '${t}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),B=(q,G,nt)=>{q.listen(G,K=>{try{nt(K)}catch(pt){setTimeout(()=>{throw pt},0)}})};return B(A,oh.EventType.OPEN,()=>{M||(Lt(hi,`RPC '${t}' stream ${o} transport opened.`),k.o_())}),B(A,oh.EventType.CLOSE,()=>{M||(M=!0,Lt(hi,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(A))}),B(A,oh.EventType.ERROR,q=>{M||(M=!0,Uu(hi,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),k.a_(new At(ft.UNAVAILABLE,"The operation could not be completed")))}),B(A,oh.EventType.MESSAGE,q=>{if(!M){const G=q.data[0];Re(!!G,16349);const nt=G,K=nt?.error||nt[0]?.error;if(K){Lt(hi,`RPC '${t}' stream ${o} received error:`,K);const pt=K.status;let ut=function(O){const V=Tn[O];if(V!==void 0)return b1(V)}(pt),xt=K.message;ut===void 0&&(ut=ft.INTERNAL,xt="Unknown error status: "+pt+" with message "+K.message),M=!0,k.a_(new At(ut,xt)),A.close()}else Lt(hi,`RPC '${t}' stream ${o} received:`,G),k.u_(G)}}),B(m,zA.STAT_EVENT,q=>{q.stat===By.PROXY?Lt(hi,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===By.NOPROXY&&Lt(hi,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function cy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(e){return new _k(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="PersistentStream";class j1{constructor(t,n,s,o,u,f,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(Ra(n.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new At(ft.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Lt(jw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Lt(jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mV extends j1{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Ek(this.serializer,t),s=function(u){if(!("targetChange"in u))return Yt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Yt.min():f.readTime?Or(f.readTime):Yt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Xy(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=Wy(y)?{documents:Sk(u,y)}:{query:xk(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=x1(u,f.resumeToken);const _=Ky(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Yt.min())>0){m.readTime=pm(u,f.snapshotVersion.toTimestamp());const _=Ky(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,t);const s=Rk(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Xy(this.serializer),n.removeTarget=t,this.q_(n)}}class pV extends j1{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=wk(t.writeResults,t.commitTime),s=Or(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Xy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>bk(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{}class yV extends gV{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,Yy(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new At(ft.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(t,Yy(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new At(ft.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _V{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ra(n),this.aa=!1):Lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class vV{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ul(this)&&(Lt(Vl,"Restarting streams for network reachability change."),await async function(y){const _=Xt(y);_.Ea.add(4),await lf(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Km(_)}(this))})}),this.Ra=new _V(s,o)}}async function Km(e){if(Ul(e))for(const t of e.da)await t(!0)}async function lf(e){for(const t of e.da)await t(!1)}function U1(e,t){const n=Xt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),dv(n)?fv(n):sc(n).O_()&&hv(n,t))}function cv(e,t){const n=Xt(e),s=sc(n);n.Ia.delete(t),s.O_()&&z1(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ul(n)&&n.Ra.set("Unknown"))}function hv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sc(e).Y_(t)}function z1(e,t){e.Va.Ue(t),sc(e).Z_(t)}function fv(e){e.Va=new mk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),sc(e).start(),e.Ra.ua()}function dv(e){return Ul(e)&&!sc(e).x_()&&e.Ia.size>0}function Ul(e){return Xt(e).Ea.size===0}function B1(e){e.Va=void 0}async function TV(e){e.Ra.set("Online")}async function EV(e){e.Ia.forEach((t,n)=>{hv(e,t)})}async function bV(e,t){B1(e),dv(e)?(e.Ra.ha(t),fv(e)):e.Ra.set("Unknown")}async function wV(e,t,n){if(e.Ra.set("Online"),t instanceof S1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(e,t)}catch(s){Lt(Vl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ym(e,s)}else if(t instanceof Gd?e.Va.Ze(t):t instanceof w1?e.Va.st(t):e.Va.tt(t),!n.isEqual(Yt.min()))try{const s=await k1(e.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.Ia.get(_);b&&u.Ia.set(_,b.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const b=u.Ia.get(y);if(!b)return;u.Ia.set(y,b.withResumeToken(ti.EMPTY_BYTE_STRING,b.snapshotVersion)),z1(u,y);const A=new Ao(b.target,y,_,b.sequenceNumber);hv(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Lt(Vl,"Failed to raise snapshot:",s),await ym(e,s)}}async function ym(e,t,n){if(!nc(t))throw t;e.Ea.add(1),await lf(e),e.Ra.set("Offline"),n||(n=()=>k1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Lt(Vl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Km(e)})}function F1(e,t){return t().catch(n=>ym(e,n,t))}async function Ym(e){const t=Xt(e),n=jo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$_;for(;SV(t);)try{const o=await rV(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,xV(t,o)}catch(o){await ym(t,o)}H1(t)&&q1(t)}function SV(e){return Ul(e)&&e.Ta.length<10}function xV(e,t){e.Ta.push(t);const n=jo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function H1(e){return Ul(e)&&!jo(e).x_()&&e.Ta.length>0}function q1(e){jo(e).start()}async function AV(e){jo(e).ra()}async function RV(e){const t=jo(e);for(const n of e.Ta)t.ea(n.mutations)}async function CV(e,t,n){const s=e.Ta.shift(),o=iv.from(s,t,n);await F1(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Ym(e)}async function IV(e,t){t&&jo(e).X_&&await async function(s,o){if(function(f){return hk(f)&&f!==ft.ABORTED}(o.code)){const u=s.Ta.shift();jo(s).B_(),await F1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ym(s)}}(e,t),H1(e)&&q1(e)}async function Uw(e,t){const n=Xt(e);n.asyncQueue.verifyOperationInProgress(),Lt(Vl,"RemoteStore received new credentials");const s=Ul(n);n.Ea.add(3),await lf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Km(n)}async function PV(e,t){const n=Xt(e);t?(n.Ea.delete(2),await Km(n)):t||(n.Ea.add(2),await lf(n),n.Ra.set("Unknown"))}function sc(e){return e.ma||(e.ma=function(n,s,o){const u=Xt(n);return u.sa(),new mV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:TV.bind(null,e),t_:EV.bind(null,e),r_:bV.bind(null,e),H_:wV.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),dv(e)?fv(e):e.Ra.set("Unknown")):(await e.ma.stop(),B1(e))})),e.ma}function jo(e){return e.fa||(e.fa=function(n,s,o){const u=Xt(n);return u.sa(),new pV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:AV.bind(null,e),r_:IV.bind(null,e),ta:RV.bind(null,e),na:CV.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Ym(e)):(await e.fa.stop(),e.Ta.length>0&&(Lt(Vl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new mv(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(e,t){if(Ra("AsyncQueue",`${t}: ${e}`),nc(e))return new At(ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static emptySet(t){return new ju(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Vt.comparator(n.key,s.key):(n,s)=>Vt.comparator(n.key,s.key),this.keyedMap=lh(),this.sortedSet=new nn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ju)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ju;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.ga=new nn(Vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):qt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class qu{constructor(t,n,s,o,u,f,m,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new qu(t,n,ju.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class MV{constructor(){this.queries=Bw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Xt(n),u=o.queries;o.queries=Bw(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new At(ft.ABORTED,"Firestore shutting down"))}}function Bw(){return new jl(e=>c1(e),Fm)}async function gv(e,t){const n=Xt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new LV,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=pv(f,`Initialization of query '${Au(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&_v(n)}async function yv(e,t){const n=Xt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function DV(e,t){const n=Xt(e);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&_v(n)}function NV(e,t,n){const s=Xt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function _v(e){e.Ca.forEach(t=>{t.next()})}var t_,Fw;(Fw=t_||(t_={})).Ma="default",Fw.Cache="cache";class vv{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new qu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=qu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==t_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.key=t}}class W1{constructor(t){this.key=t}}class OV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=h1(t),this.tu=new ju(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new zw,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((b,A)=>{const S=o.get(b),M=Hm(this.query,A)?A:null,k=!!S&&this.mutatedKeys.has(S.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;S&&M?S.data.isEqual(M.data)?k!==B&&(s.track({type:3,doc:M}),q=!0):this.su(S,M)||(s.track({type:2,doc:M}),q=!0,(y&&this.eu(M,y)>0||_&&this.eu(M,_)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),q=!0):S&&!M&&(s.track({type:1,doc:S}),q=!0,(y||_)&&(m=!0)),q&&(M?(f=f.add(M),u=B?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((b,A)=>function(M,k){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Rt:q})}};return B(M)-B(k)}(b.type,A.type)||this.eu(b.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new qu(this.query,t.tu,u,f,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=de(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new W1(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new G1(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=de();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return qu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tv="SyncEngine";class kV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class VV{constructor(t){this.key=t,this.hu=!1}}class jV{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new jl(m=>c1(m),Fm),this.Iu=new Map,this.Eu=new Set,this.du=new nn(Vt.comparator),this.Au=new Map,this.Ru=new av,this.Vu={},this.mu=new Map,this.fu=Hu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UV(e,t,n=!0){const s=Q1(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Z1(s,t,n,!0),o}async function zV(e,t){const n=Q1(e);await Z1(n,t,!0,!1)}async function Z1(e,t,n,s){const o=await aV(e.localStore,Nr(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await BV(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&n&&U1(e.remoteStore,o),m}async function BV(e,t,n,s,o){e.pu=(A,S,M)=>async function(B,q,G,nt){let K=q.view.ru(G);K.Cs&&(K=await Nw(B.localStore,q.query,!1).then(({documents:H})=>q.view.ru(H,K)));const pt=nt&&nt.targetChanges.get(q.targetId),ut=nt&&nt.targetMismatches.get(q.targetId)!=null,xt=q.view.applyChanges(K,B.isPrimaryClient,pt,ut);return qw(B,q.targetId,xt.au),xt.snapshot}(e,A,S,M);const u=await Nw(e.localStore,t,!0),f=new OV(t,u.Qs),m=f.ru(u.documents),y=of.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),_=f.applyChanges(m,e.isPrimaryClient,y);qw(e,n,_.au);const b=new kV(t,n,f);return e.Tu.set(t,b),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),_.snapshot}async function FV(e,t,n){const s=Xt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Fm(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qy(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&cv(s.remoteStore,o.targetId),e_(s,o.targetId)}).catch(ec)):(e_(s,o.targetId),await Qy(s.localStore,o.targetId,!0))}async function HV(e,t){const n=Xt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cv(n.remoteStore,s.targetId))}async function qV(e,t,n){const s=XV(e);try{const o=await function(f,m){const y=Xt(f),_=Ze.now(),b=m.reduce((M,k)=>M.add(k.key),de());let A,S;return y.persistence.runTransaction("Locally write mutations","readwrite",M=>{let k=Ca(),B=de();return y.Ns.getEntries(M,b).next(q=>{k=q,k.forEach((G,nt)=>{nt.isValidDocument()||(B=B.add(G))})}).next(()=>y.localDocuments.getOverlayedDocuments(M,k)).next(q=>{A=q;const G=[];for(const nt of m){const K=ak(nt,A.get(nt.key).overlayedDocument);K!=null&&G.push(new Zo(nt.key,K,n1(K.value.mapValue),Bs.exists(!0)))}return y.mutationQueue.addMutationBatch(M,_,G,m)}).next(q=>{S=q;const G=q.applyToLocalDocumentSet(A,B);return y.documentOverlayCache.saveOverlays(M,q.batchId,G)})}).then(()=>({batchId:S.batchId,changes:d1(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new nn(fe)),_=_.insert(m,y),f.Vu[f.currentUser.toKey()]=_}(s,o.batchId,n),await uf(s,o.changes),await Ym(s.remoteStore)}catch(o){const u=pv(o,"Failed to persist write");n.reject(u)}}async function K1(e,t){const n=Xt(e);try{const s=await iV(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Re(f.hu,14607):o.removedDocuments.size>0&&(Re(f.hu,42227),f.hu=!1))}),await uf(n,s,t)}catch(s){await ec(s)}}function Hw(e,t,n){const s=Xt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Xt(f);y.onlineState=m;let _=!1;y.queries.forEach((b,A)=>{for(const S of A.Sa)S.va(m)&&(_=!0)}),_&&_v(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function GV(e,t,n){const s=Xt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new nn(Vt.comparator);f=f.insert(u,di.newNoDocument(u,Yt.min()));const m=de().add(u),y=new Wm(Yt.min(),new Map,new nn(fe),f,m);await K1(s,y),s.du=s.du.remove(u),s.Au.delete(t),Ev(s)}else await Qy(s.localStore,t,!1).then(()=>e_(s,t,n)).catch(ec)}async function WV(e,t){const n=Xt(e),s=t.batch.batchId;try{const o=await nV(n.localStore,t);$1(n,s,null),Y1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uf(n,o)}catch(o){await ec(o)}}async function ZV(e,t,n){const s=Xt(e);try{const o=await function(f,m){const y=Xt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return y.mutationQueue.lookupMutationBatch(_,m).next(A=>(Re(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>y.localDocuments.getDocuments(_,b))})}(s.localStore,t);$1(s,t,n),Y1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await uf(s,o)}catch(o){await ec(o)}}function Y1(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function $1(e,t,n){const s=Xt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function e_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||X1(e,s)})}function X1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(cv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ev(e))}function qw(e,t,n){for(const s of n)s instanceof G1?(e.Ru.addReference(s.key,t),KV(e,s)):s instanceof W1?(Lt(Tv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||X1(e,s.key)):qt(19791,{wu:s})}function KV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Lt(Tv,"New document in limbo: "+n),e.Eu.add(s),Ev(e))}function Ev(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Vt(qe.fromString(t)),s=e.fu.next();e.Au.set(s,new VV(n)),e.du=e.du.insert(n,s),U1(e.remoteStore,new Ao(Nr(Bm(n.path)),s,"TargetPurposeLimboResolution",jm.ce))}}async function uf(e,t,n){const s=Xt(e),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,t,n).then(_=>{if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){o.push(_);const b=lv.As(y.targetId,_);u.push(b)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,_){const b=Xt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>gt.forEach(_,S=>gt.forEach(S.Es,M=>b.persistence.referenceDelegate.addReference(A,S.targetId,M)).next(()=>gt.forEach(S.ds,M=>b.persistence.referenceDelegate.removeReference(A,S.targetId,M)))))}catch(A){if(!nc(A))throw A;Lt(uv,"Failed to update sequence numbers: "+A)}for(const A of _){const S=A.targetId;if(!A.fromCache){const M=b.Ms.get(S),k=M.snapshotVersion,B=M.withLastLimboFreeSnapshotVersion(k);b.Ms=b.Ms.insert(S,B)}}}(s.localStore,u))}async function YV(e,t){const n=Xt(e);if(!n.currentUser.isEqual(t)){Lt(Tv,"User change. New user:",t.toKey());const s=await O1(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new At(ft.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await uf(n,s.Ls)}}function $V(e,t){const n=Xt(e),s=n.Au.get(t);if(s&&s.hu)return de().add(s.key);{let o=de();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Q1(e){const t=Xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$V.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GV.bind(null,t),t.Pu.H_=DV.bind(null,t.eventManager),t.Pu.yu=NV.bind(null,t.eventManager),t}function XV(e){const t=Xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZV.bind(null,t),t}class _m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return eV(this.persistence,new Qk,t.initialUser,this.serializer)}Cu(t){return new N1(ov.mi,this.serializer)}Du(t){return new lV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_m.provider={build:()=>new _m};class QV extends _m{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Re(this.persistence.referenceDelegate instanceof gm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Vk(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new N1(s=>gm.mi(s,n),this.serializer)}}class n_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YV.bind(null,this.syncEngine),await PV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MV}()}createDatastore(t){const n=Zm(t.databaseInfo.databaseId),s=function(u){return new dV(u)}(t.databaseInfo);return function(u,f,m,y){return new yV(u,f,m,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new vV(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Hw(this.syncEngine,n,0),function(){return Vw.v()?new Vw:new uV}())}createSyncEngine(t,n){return function(o,u,f,m,y,_,b){const A=new jV(o,u,f,m,y,_);return b&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Xt(n);Lt(Vl,"RemoteStore shutting down."),s.Ea.add(5),await lf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}n_.provider={build:()=>new n_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ra("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="FirestoreClient";class JV{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=fi.UNAUTHENTICATED,this.clientId=Y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{Lt(Uo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(Lt(Uo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=pv(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function hy(e,t){e.asyncQueue.verifyOperationInProgress(),Lt(Uo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await O1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Gw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tj(e);Lt(Uo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>Uw(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>Uw(t.remoteStore,o)),e._onlineComponents=t}async function tj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Lt(Uo,"Using user provided OfflineComponentProvider");try{await hy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Uu("Error using user provided cache. Falling back to memory cache: "+n),await hy(e,new _m)}}else Lt(Uo,"Using default OfflineComponentProvider"),await hy(e,new QV(void 0));return e._offlineComponents}async function J1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Lt(Uo,"Using user provided OnlineComponentProvider"),await Gw(e,e._uninitializedComponentsProvider._online)):(Lt(Uo,"Using default OnlineComponentProvider"),await Gw(e,new n_))),e._onlineComponents}function ej(e){return J1(e).then(t=>t.syncEngine)}async function vm(e){const t=await J1(e),n=t.eventManager;return n.onListen=UV.bind(null,t.syncEngine),n.onUnlisten=FV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=HV.bind(null,t.syncEngine),n}function nj(e,t,n={}){const s=new ba;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const b=new bv({next:S=>{b.Nu(),f.enqueueAndForget(()=>yv(u,A));const M=S.docs.has(m);!M&&S.fromCache?_.reject(new At(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&y&&y.source==="server"?_.reject(new At(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new vv(Bm(m.path),b,{includeMetadataChanges:!0,qa:!0});return gv(u,A)}(await vm(e),e.asyncQueue,t,n,s)),s.promise}function ij(e,t,n={}){const s=new ba;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const b=new bv({next:S=>{b.Nu(),f.enqueueAndForget(()=>yv(u,A)),S.fromCache&&y.source==="server"?_.reject(new At(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new vv(m,b,{includeMetadataChanges:!0,qa:!0});return gv(u,A)}(await vm(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firestore.googleapis.com",Zw=!0;class Kw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eR,this.ssl=Zw}else this.host=t.host,this.ssl=t.ssl??Zw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=M1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<D1)throw new At(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_O("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $m{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lO;switch(s.type){case"firstParty":return new fO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new At(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ww.get(n);s&&(Lt("ComponentProvider","Removing Datastore"),Ww.delete(n),s.terminate())}(this),Promise.resolve()}}function sj(e,t,n,s={}){e=Gi(e,$m);const o=Fo(t),u=e._getSettings(),f={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(Dm(`https://${m}`),N_("Firestore",!0)),u.host!==eR&&u.host!==m&&Uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!Mo(y,f)&&(e._setSettings(y),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=fi.MOCK_USER;else{_=_L(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new At(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new fi(A)}e._authCredentials=new uO(new qA(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new La(this.firestore,t,this._query)}}class ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(rf(n,ln._jsonSchema))return new ln(t,s||null,new Vt(qe.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Sn("string",ln._jsonSchemaVersion),referencePath:Sn("string")};class Po extends La{constructor(t,n,s){super(t,n,Bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new Vt(t))}withConverter(t){return new Po(this.firestore,t,this._path)}}function Uh(e,t,...n){if(e=un(e),GA("collection","path",t),e instanceof $m){const s=qe.fromString(t,...n);return ow(s),new Po(e,null,s)}{if(!(e instanceof ln||e instanceof Po))throw new At(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(qe.fromString(t,...n));return ow(s),new Po(e.firestore,null,s)}}function Lo(e,t,...n){if(e=un(e),arguments.length===1&&(t=Y_.newId()),GA("doc","path",t),e instanceof $m){const s=qe.fromString(t,...n);return aw(s),new ln(e,null,new Vt(s))}{if(!(e instanceof ln||e instanceof Po))throw new At(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(qe.fromString(t,...n));return aw(s),new ln(e.firestore,e instanceof Po?e.converter:null,new Vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class $w{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V1(this,"async_queue_retry"),this._c=()=>{const s=cy();s&&Lt(Yw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=cy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ba;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!nc(t))throw t;Lt(Yw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,Ra("INTERNAL UNHANDLED ERROR: ",Xw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=mv.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&qt(47125,{Pc:Xw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Xw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(e){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class Ia extends $m{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new $w,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $w(t),this._firestoreClient=void 0,await t}}}function rj(e,t,n){n||(n=Mh);const s=Qh(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),u=s.getOptions(n);if(Mo(u,t))return o;throw new At(ft.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new At(ft.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<D1)throw new At(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Fo(t.host)&&Dm(t.host),s.initialize({options:t,instanceIdentifier:n})}function aj(e,t){const n=typeof e=="object"?e:V_(),s=typeof e=="string"?e:Mh,o=Qh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$x("firestore");u&&sj(o,...u)}return o}function Xm(e){if(e._terminated)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||oj(e),e._firestoreClient}function oj(e){const t=e._freezeSettings(),n=function(o,u,f,m){return new PO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,tR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new JV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Us(ti.fromBase64String(t))}catch(n){throw new At(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Us(ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rf(t,Us._jsonSchema))return Us.fromBase64String(t.bytes)}}Us._jsonSchemaVersion="firestore/bytes/1.0",Us._jsonSchema={type:Sn("string",Us._jsonSchemaVersion),bytes:Sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return fe(this._lat,t._lat)||fe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(t){if(rf(t,kr._jsonSchema))return new kr(t.latitude,t.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Sn("string",kr._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rf(t,Vr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Vr(t.vectorValues);throw new At(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Sn("string",Vr._jsonSchemaVersion),vectorValues:Sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^__.*__$/;class uj{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms):new af(t,this.data,n,this.fieldTransforms)}}class nR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function iR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ac:e})}}class wv{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Tm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(iR(this.Ac)&&lj.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cj{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Zm(t)}Cc(t,n,s,o=!1){return new wv({Ac:t,methodName:n,Dc:s,path:Jn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(e){const t=e._freezeSettings(),n=Zm(e._databaseId);return new cj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sR(e,t,n,s,o,u={}){const f=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);xv("Data must be an object, but it was:",f,s);const m=rR(s,f);let y,_;if(u.merge)y=new ms(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const S=i_(t,A,n);if(!f.contains(S))throw new At(ft.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);oR(b,S)||b.push(S)}y=new ms(b),_=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,_=f.fieldTransforms;return new uj(new Fi(m),y,_)}class ep extends Jm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ep}}class Sv extends Jm{_toFieldTransform(t){return new nk(t.path,new kh)}isEqual(t){return t instanceof Sv}}function hj(e,t,n,s){const o=e.Cc(1,t,n);xv("Data must be an object, but it was:",o,s);const u=[],f=Fi.empty();Wo(s,(y,_)=>{const b=Av(t,y,n);_=un(_);const A=o.yc(b);if(_ instanceof ep)u.push(b);else{const S=cf(_,A);S!=null&&(u.push(b),f.set(b,S))}});const m=new ms(u);return new nR(f,m,o.fieldTransforms)}function fj(e,t,n,s,o,u){const f=e.Cc(1,t,n),m=[i_(t,s,n)],y=[o];if(u.length%2!=0)throw new At(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(i_(t,u[S])),y.push(u[S+1]);const _=[],b=Fi.empty();for(let S=m.length-1;S>=0;--S)if(!oR(_,m[S])){const M=m[S];let k=y[S];k=un(k);const B=f.yc(M);if(k instanceof ep)_.push(M);else{const q=cf(k,B);q!=null&&(_.push(M),b.set(M,q))}}const A=new ms(_);return new nR(b,A,f.fieldTransforms)}function dj(e,t,n,s=!1){return cf(n,e.Cc(s?4:3,t))}function cf(e,t){if(aR(e=un(e)))return xv("Unsupported field value:",t,e),rR(e,t);if(e instanceof Jm)return function(s,o){if(!iR(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=cf(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ze.fromDate(s);return{timestampValue:pm(o.serializer,u)}}if(s instanceof Ze){const u=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pm(o.serializer,u)}}if(s instanceof kr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Us)return{bytesValue:x1(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vr)return function(f,m){return{mapValue:{fields:{[t1]:{stringValue:e1},[hm]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return ev(m.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Vm(s)}`)}(e,t)}function rR(e,t){const n={};return KA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wo(e,(s,o)=>{const u=cf(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function aR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ze||e instanceof kr||e instanceof Us||e instanceof ln||e instanceof Jm||e instanceof Vr)}function xv(e,t,n){if(!aR(n)||!WA(n)){const s=Vm(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function i_(e,t,n){if((t=un(t))instanceof Qm)return t._internalPath;if(typeof t=="string")return Av(e,t);throw Tm("Field path arguments must be of type string or ",e,!1,void 0,n)}const mj=new RegExp("[~\\*/\\[\\]]");function Av(e,t,n){if(t.search(mj)>=0)throw Tm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Qm(...t.split("."))._internalPath}catch{throw Tm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tm(e,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new At(ft.INVALID_ARGUMENT,m+e+y)}function oR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(np("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pj extends lR{data(){return super.data()}}function np(e,t){return typeof t=="string"?Av(e,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new At(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class Cv extends Rv{}function zh(e,t,...n){let s=[];t instanceof Rv&&s.push(t),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof Iv).length,m=u.filter(y=>y instanceof ip).length;if(f>1||f>0&&m>0)throw new At(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class ip extends Cv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ip(t,n,s)}_apply(t){const n=this._parse(t);return cR(t._query,n),new La(t.firestore,t.converter,Zy(t._query,n))}_parse(t){const n=tp(t.firestore);return function(u,f,m,y,_,b,A){let S;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new At(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){tS(A,b);const k=[];for(const B of A)k.push(Jw(y,u,B));S={arrayValue:{values:k}}}else S=Jw(y,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||tS(A,b),S=dj(m,f,A,b==="in"||b==="not-in");return wn.create(_,b,S)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Gu(e,t,n){const s=t,o=np("where",e);return ip._create(o,s,n)}class Iv extends Rv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Iv(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)cR(f,y),f=Zy(f,y)}(t._query,n),new La(t.firestore,t.converter,Zy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends Cv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Pv(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new At(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new At(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oh(u,f)}(t._query,this._field,this._direction);return new La(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new ic(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function gj(e,t="asc"){const n=t,s=np("orderBy",e);return Pv._create(s,n)}class Lv extends Cv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Lv(t,n,s)}_apply(t){return new La(t.firestore,t.converter,dm(t._query,this._limit,this._limitType))}}function yj(e){return vO("limit",e),Lv._create("limit",e,"F")}function Jw(e,t,n){if(typeof(n=un(n))=="string"){if(n==="")throw new At(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u1(t)&&n.indexOf("/")!==-1)throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(qe.fromString(n));if(!Vt.isDocumentKey(s))throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pw(e,new Vt(s))}if(n instanceof ln)return pw(e,n._key);throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(n)}.`)}function tS(e,t){if(!Array.isArray(e)||e.length===0)throw new At(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cR(e,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new At(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class _j{convertValue(t,n="none"){switch(Vo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ko(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw qt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Wo(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[hm].arrayValue?.values?.map(s=>mn(s.doubleValue));return new Vr(n)}convertGeoPoint(t){return new kr(mn(t.latitude),mn(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=zm(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Lh(t));default:return null}}convertTimestamp(t){const n=Oo(t);return new Ze(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=qe.fromString(t);Re(L1(s),9688,{name:t});const o=new Dh(s.get(1),s.get(3)),u=new Vt(s.popFirst(5));return o.isEqual(n)||Ra(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class ch{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Il extends lR{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(np("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Il._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Il._jsonSchemaVersion="firestore/documentSnapshot/1.0",Il._jsonSchema={type:Sn("string",Il._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class Wd extends Il{data(t={}){return super.data(t)}}class Pl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ch(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Wd(this._firestore,this._userDataWriter,s.key,s,new ch(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new Wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ch(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new Wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ch(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:vj(m.type),doc:y,oldIndex:_,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Y_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(e){e=Gi(e,ln);const t=Gi(e.firestore,Ia);return nj(Xm(t),e._key).then(n=>fR(t,e,n))}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:Sn("string",Pl._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class Mv extends _j{constructor(t){super(),this.firestore=t}convertBytes(t){return new Us(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Em(e){e=Gi(e,La);const t=Gi(e.firestore,Ia),n=Xm(t),s=new Mv(t);return uR(e._query),ij(n,e._query).then(o=>new Pl(t,s,e,o))}function bm(e,t,n){e=Gi(e,ln);const s=Gi(e.firestore,Ia),o=hR(e.converter,t,n);return rp(s,[sR(tp(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Bs.none())])}function r6(e,t,n,...s){e=Gi(e,ln);const o=Gi(e.firestore,Ia),u=tp(o);let f;return f=typeof(t=un(t))=="string"||t instanceof Qm?fj(u,"updateDoc",e._key,t,n,s):hj(u,"updateDoc",e._key,t),rp(o,[f.toMutation(e._key,Bs.exists(!0))])}function a6(e){return rp(Gi(e.firestore,Ia),[new nv(e._key,Bs.none())])}function o6(e,t){const n=Gi(e.firestore,Ia),s=Lo(e),o=hR(e.converter,t);return rp(n,[sR(tp(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,Bs.exists(!1))]).then(()=>s)}function Tj(e,...t){e=un(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Qw(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Qw(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(e instanceof ln)f=Gi(e.firestore,Ia),m=Bm(e._key.path),u={next:y=>{t[s]&&t[s](fR(f,e,y))},error:t[s+1],complete:t[s+2]};else{const y=Gi(e,La);f=Gi(y.firestore,Ia),m=y._query;const _=new Mv(f);u={next:b=>{t[s]&&t[s](new Pl(f,_,y,b))},error:t[s+1],complete:t[s+2]},uR(e._query)}return function(_,b,A,S){const M=new bv(S),k=new vv(b,M,A);return _.asyncQueue.enqueueAndForget(async()=>gv(await vm(_),k)),()=>{M.Nu(),_.asyncQueue.enqueueAndForget(async()=>yv(await vm(_),k))}}(Xm(f),m,o,u)}function rp(e,t){return function(s,o){const u=new ba;return s.asyncQueue.enqueueAndForget(async()=>qV(await ej(s),o,u)),u.promise}(Xm(e),t)}function fR(e,t,n){const s=n.docs.get(t._key),o=new Mv(e);return new Il(e,o,t._key,s,new ch(n.hasPendingWrites,n.fromCache),t.converter)}function l6(){return new Sv("serverTimestamp")}(function(t,n=!0){(function(o){tc=o})(Qu),Dl(new Do("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ia(new cO(s.getProvider("auth-internal")),new dO(f,s.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new At(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(_.options.projectId,b)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Mr(nw,iw,t),Mr(nw,iw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="type.googleapis.com/google.protobuf.Int64Value",bj="type.googleapis.com/google.protobuf.UInt64Value";function dR(e,t){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}function wm(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>wm(t));if(typeof e=="function"||typeof e=="object")return dR(e,t=>wm(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Wu(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case Ej:case bj:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Wu(t)):typeof e=="function"||typeof e=="object"?dR(e,t=>Wu(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hi extends qr{constructor(t,n,s){super(`${Dv}/${t}`,n||""),this.details=s,Object.setPrototypeOf(this,Hi.prototype)}}function wj(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Sm(e,t){let n=wj(e),s=n,o;try{const u=t&&t.error;if(u){const f=u.status;if(typeof f=="string"){if(!eS[f])return new Hi("internal","internal");n=eS[f],s=f}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=Wu(o))}}catch{}return n==="ok"?null:new Hi(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Bi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="us-central1",xj=/^data: (.*?)(?:\n|$)/;function Aj(e){let t=null;return{promise:new Promise((n,s)=>{t=setTimeout(()=>{s(new Hi("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Rj{constructor(t,n,s,o,u=s_,f=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new Sj(t,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=s_}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Cj(e,t,n){const s=Fo(t);e.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Dm(e.emulatorOrigin),N_("Functions",!0))}function Ij(e,t,n){const s=o=>Lj(e,t,o,{});return s.stream=(o,u)=>Dj(e,t,o,u),s}async function Pj(e,t,n,s){n["Content-Type"]="application/json";let o;try{o=await s(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function mR(e,t){const n={},s=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function Lj(e,t,n,s){const o=e._url(t);return Mj(e,o,n,s)}async function Mj(e,t,n,s){n=wm(n);const o={data:n},u=await mR(e,s),f=s.timeout||7e4,m=Aj(f),y=await Promise.race([Pj(t,o,u,e.fetchImpl),m.promise,e.cancelAllRequests]);if(m.cancel(),!y)throw new Hi("cancelled","Firebase Functions instance was deleted.");const _=Sm(y.status,y.json);if(_)throw _;if(!y.json)throw new Hi("internal","Response is not valid JSON object.");let b=y.json.data;if(typeof b>"u"&&(b=y.json.result),typeof b>"u")throw new Hi("internal","Response is missing data field.");return{data:Wu(b)}}function Dj(e,t,n,s){const o=e._url(t);return Nj(e,o,n,s||{})}async function Nj(e,t,n,s){n=wm(n);const o={data:n},u=await mR(e,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const k=new Hi("cancelled","Request was cancelled.");return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}const M=Sm(0,null);return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}let m,y;const _=new Promise((S,M)=>{m=S,y=M});s?.signal?.addEventListener("abort",()=>{const S=new Hi("cancelled","Request was cancelled.");y(S)});const b=f.body.getReader(),A=Oj(b,m,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const S=A.getReader();return{async next(){const{value:M,done:k}=await S.read();return{value:M,done:k}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:_}}function Oj(e,t,n,s){const o=(f,m)=>{const y=f.match(xj);if(!y)return;const _=y[1];try{const b=JSON.parse(_);if("result"in b){t(Wu(b.result));return}if("message"in b){m.enqueue(Wu(b.message));return}if("error"in b){const A=Sm(0,b);m.error(A),n(A);return}}catch(b){if(b instanceof Hi){m.error(b),n(b);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return y();async function y(){if(s?.aborted){const _=new Hi("cancelled","Request was cancelled");return f.error(_),n(_),Promise.resolve()}try{const{value:_,done:b}=await e.read();if(b){m.trim()&&o(m.trim(),f),f.close();return}if(s?.aborted){const S=new Hi("cancelled","Request was cancelled");f.error(S),n(S),await e.cancel();return}m+=u.decode(_,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const S of A)S.trim()&&o(S.trim(),f);return y()}catch(_){const b=_ instanceof Hi?_:Sm(0,null);f.error(b),n(b)}}},cancel(){return e.cancel()}})}const nS="@firebase/functions",iS="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="auth-internal",Vj="app-check-internal",jj="messaging-internal";function Uj(e){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(kj),f=n.getProvider(jj),m=n.getProvider(Vj);return new Rj(o,u,f,m,s)};Dl(new Do(Dv,t,"PUBLIC").setMultipleInstances(!0)),Mr(nS,iS,e),Mr(nS,iS,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(e=V_(),t=s_){const s=Qh(un(e),Dv).getImmediate({identifier:t}),o=$x("functions");return o&&zj(s,...o),s}function zj(e,t,n){Cj(un(e),t,n)}function En(e,t,n){return Ij(un(e),t)}Uj();const gR={apiKey:"AIzaSyBh-nePsQ50f6ZMZ1PaLUUfhD3hExxgRsI",authDomain:"findmyhistory.firebaseapp.com",projectId:"findmyhistory",storageBucket:"findmyhistory.firebasestorage.app",messagingSenderId:"951487481110",appId:"1:951487481110:web:242bd9188bb043df177c37"},hf=eA(gR),wa=aO(hf),Bj=new ya;try{rj(hf,{experimentalForceLongPolling:!0,useFetchStreams:!1})}catch{}const zs=aj(hf),Ln=pR(hf);gR.apiKey||console.warn("Firebase API key not found in environment variables");const yR=N.createContext();function Fj(){return N.useContext(yR)}function Hj({children:e}){const[t,n]=N.useState(null),[s,o]=N.useState(!0);N.useEffect(()=>nf(wa,m=>{n(m),o(!1)}),[]);const u={user:t,loading:s};return E.jsx(yR.Provider,{value:u,children:!s&&e})}function qj({scrollYProgress:e}){const t=Bo(),n=qs(),[s,o]=N.useState(0),{user:u}=Fj();N.useEffect(()=>{if(n.pathname==="/"){if(e)return e.on("change",y=>{if(y>=.7){const _=Math.min(1,(y-.7)/.1);o(_)}else o(0)})}else o(1)},[e,n.pathname]);const f=async()=>{await YD(wa),t("/")};return E.jsxs("div",{className:"global-header",style:{opacity:s},children:[E.jsx("h1",{className:"global-header-title clickable",onClick:()=>t("/"),children:"TagLogger"}),E.jsx("div",{className:"header-login-btn",children:u?E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"login-btn",onClick:()=>t("/dashboard"),children:"Dashboard"}),E.jsx("button",{className:"login-btn",onClick:f,style:{marginLeft:"0.5rem"},children:"Logout"})]}):E.jsx("button",{className:"login-btn",onClick:()=>t("/login"),children:"Login"})})]})}function fy({children:e,adminOnly:t=!1,requireEntitlement:n=!0}){const[s,o]=N.useState(null),[u,f]=N.useState(!0),[m,y]=N.useState(!1),[_,b]=N.useState(!1),[A,S]=N.useState(!1);return N.useEffect(()=>{try{if(new URLSearchParams(window.location.search).get("tag_purchase")==="success"){S(!0);const k=setTimeout(()=>S(!1),1e4);return()=>clearTimeout(k)}}catch{}},[]),N.useEffect(()=>{const M=nf(wa,async k=>{if(o(k),k){try{const B=Lo(zs,"users",k.uid),q=await sp(B);b(q.exists()&&q.data().isAdmin===!0)}catch{b(!1)}try{const B=Uh(zs,"purchases"),q=zh(B,Gu("userId","==",k.uid),Gu("status","==","paid")),nt=(await Em(q)).docs.reduce((K,pt)=>K+(pt.data().tagCount||0),0);y(nt>0)}catch{y(!1)}}else y(!1),b(!1);f(!1)});return()=>M()},[]),u?null:s?t?_?e:E.jsx(Qg,{to:"/dashboard"}):n&&!m&&!A?E.jsx(Qg,{to:"/purchase"}):e:E.jsx(Qg,{to:"/login"})}const _R=N.createContext({});function ap(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Nv=typeof window<"u",Ov=Nv?N.useLayoutEffect:N.useEffect,kv=N.createContext(null);function Vv(e,t){e.indexOf(t)===-1&&e.push(t)}function jv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Fr=(e,t,n)=>n>t?t:n<e?e:n;let Bh=()=>{};const Pa={},vR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function TR(e){return typeof e=="object"&&e!==null}const ER=e=>/^0[^.\s]+$/u.test(e);function Uv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wi=e=>e,Gj=(e,t)=>n=>t(e(n)),ff=(...e)=>e.reduce(Gj),Zu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class zv{constructor(){this.subscriptions=[]}add(t){return Vv(this.subscriptions,t),()=>jv(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jr=e=>e*1e3,Ur=e=>e/1e3;function Bv(e,t){return t?e*(1e3/t):0}const bR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Wj=1e-7,Zj=12;function Kj(e,t,n,s,o){let u,f,m=0;do f=t+(n-t)/2,u=bR(f,s,o)-e,u>0?n=f:t=f;while(Math.abs(u)>Wj&&++m<Zj);return f}function df(e,t,n,s){if(e===t&&n===s)return Wi;const o=u=>Kj(u,0,1,e,n);return u=>u===0||u===1?u:bR(o(u),t,s)}const wR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,SR=e=>t=>1-e(1-t),xR=df(.33,1.53,.69,.99),Fv=SR(xR),AR=wR(Fv),RR=e=>(e*=2)<1?.5*Fv(e):.5*(2-Math.pow(2,-10*(e-1))),Hv=e=>1-Math.sin(Math.acos(e)),CR=SR(Hv),IR=wR(Hv),Yj=df(.42,0,1,1),$j=df(0,0,.58,1),PR=df(.42,0,.58,1),Xj=e=>Array.isArray(e)&&typeof e[0]!="number",LR=e=>Array.isArray(e)&&typeof e[0]=="number",Qj={linear:Wi,easeIn:Yj,easeInOut:PR,easeOut:$j,circIn:Hv,circInOut:IR,circOut:CR,backIn:Fv,backInOut:AR,backOut:xR,anticipate:RR},Jj=e=>typeof e=="string",sS=e=>{if(LR(e)){Bh(e.length===4);const[t,n,s,o]=e;return df(t,n,s,o)}else if(Jj(e))return Qj[e];return e},Ad=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t5(e,t){let n=new Set,s=new Set,o=!1,u=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(b){f.has(b)&&(_.schedule(b),e()),b(m)}const _={schedule:(b,A=!1,S=!1)=>{const k=S&&o?n:s;return A&&f.add(b),k.has(b)||k.add(b),b},cancel:b=>{s.delete(b),f.delete(b)},process:b=>{if(m=b,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,_.process(b))}};return _}const e5=40;function MR(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=Ad.reduce((K,pt)=>(K[pt]=t5(u),K),{}),{setup:m,read:y,resolveKeyframes:_,preUpdate:b,update:A,preRender:S,render:M,postRender:k}=f,B=()=>{const K=Pa.useManualTiming?o.timestamp:performance.now();n=!1,Pa.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(K-o.timestamp,e5),1)),o.timestamp=K,o.isProcessing=!0,m.process(o),y.process(o),_.process(o),b.process(o),A.process(o),S.process(o),M.process(o),k.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(B))},q=()=>{n=!0,s=!0,o.isProcessing||e(B)};return{schedule:Ad.reduce((K,pt)=>{const ut=f[pt];return K[pt]=(xt,H=!1,O=!1)=>(n||q(),ut.schedule(xt,H,O)),K},{}),cancel:K=>{for(let pt=0;pt<Ad.length;pt++)f[Ad[pt]].cancel(K)},state:o,steps:f}}const{schedule:Le,cancel:hr,state:qn,steps:dy}=MR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wi,!0);let Zd;function n5(){Zd=void 0}const qi={now:()=>(Zd===void 0&&qi.set(qn.isProcessing||Pa.useManualTiming?qn.timestamp:performance.now()),Zd),set:e=>{Zd=e,queueMicrotask(n5)}},DR=e=>t=>typeof t=="string"&&t.startsWith(e),qv=DR("--"),i5=DR("var(--"),Gv=e=>i5(e)?s5.test(e.split("/*")[0].trim()):!1,s5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fh={...rc,transform:e=>Fr(0,1,e)},Rd={...rc,default:1},Th=e=>Math.round(e*1e5)/1e5,Wv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r5(e){return e==null}const a5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zv=(e,t)=>n=>!!(typeof n=="string"&&a5.test(n)&&n.startsWith(e)||t&&!r5(n)&&Object.prototype.hasOwnProperty.call(n,t)),NR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,f,m]=s.match(Wv);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},o5=e=>Fr(0,255,e),my={...rc,transform:e=>Math.round(o5(e))},Rl={test:Zv("rgb","red"),parse:NR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+my.transform(e)+", "+my.transform(t)+", "+my.transform(n)+", "+Th(Fh.transform(s))+")"};function l5(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const r_={test:Zv("#"),parse:l5,transform:Rl.transform},mf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bo=mf("deg"),zr=mf("%"),Wt=mf("px"),u5=mf("vh"),c5=mf("vw"),rS={...zr,parse:e=>zr.parse(e)/100,transform:e=>zr.transform(e*100)},Iu={test:Zv("hsl","hue"),parse:NR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+zr.transform(Th(t))+", "+zr.transform(Th(n))+", "+Th(Fh.transform(s))+")"},bn={test:e=>Rl.test(e)||r_.test(e)||Iu.test(e),parse:e=>Rl.test(e)?Rl.parse(e):Iu.test(e)?Iu.parse(e):r_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Rl.transform(e):Iu.transform(e),getAnimatableNone:e=>{const t=bn.parse(e);return t.alpha=0,bn.transform(t)}},h5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f5(e){return isNaN(e)&&typeof e=="string"&&(e.match(Wv)?.length||0)+(e.match(h5)?.length||0)>0}const OR="number",kR="color",d5="var",m5="var(",aS="${}",p5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(p5,y=>(bn.test(y)?(s.color.push(u),o.push(kR),n.push(bn.parse(y))):y.startsWith(m5)?(s.var.push(u),o.push(d5),n.push(y)):(s.number.push(u),o.push(OR),n.push(parseFloat(y))),++u,aS)).split(aS);return{values:n,split:m,indexes:s,types:o}}function VR(e){return Hh(e).values}function jR(e){const{split:t,types:n}=Hh(e),s=t.length;return o=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],o[f]!==void 0){const m=n[f];m===OR?u+=Th(o[f]):m===kR?u+=bn.transform(o[f]):u+=o[f]}return u}}const g5=e=>typeof e=="number"?0:bn.test(e)?bn.getAnimatableNone(e):e;function y5(e){const t=VR(e);return jR(e)(t.map(g5))}const zo={test:f5,parse:VR,createTransformer:jR,getAnimatableNone:y5};function py(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _5({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,f=0;if(!t)o=u=f=n;else{const m=n<.5?n*(1+t):n+t-n*t,y=2*n-m;o=py(y,m,e+1/3),u=py(y,m,e),f=py(y,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function xm(e,t){return n=>n>0?t:e}const en=(e,t,n)=>e+(t-e)*n,gy=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},v5=[r_,Rl,Iu],T5=e=>v5.find(t=>t.test(e));function oS(e){const t=T5(e);if(!t)return!1;let n=t.parse(e);return t===Iu&&(n=_5(n)),n}const lS=(e,t)=>{const n=oS(e),s=oS(t);if(!n||!s)return xm(e,t);const o={...n};return u=>(o.red=gy(n.red,s.red,u),o.green=gy(n.green,s.green,u),o.blue=gy(n.blue,s.blue,u),o.alpha=en(n.alpha,s.alpha,u),Rl.transform(o))},a_=new Set(["none","hidden"]);function E5(e,t){return a_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function b5(e,t){return n=>en(e,t,n)}function Kv(e){return typeof e=="number"?b5:typeof e=="string"?Gv(e)?xm:bn.test(e)?lS:x5:Array.isArray(e)?UR:typeof e=="object"?bn.test(e)?lS:w5:xm}function UR(e,t){const n=[...e],s=n.length,o=e.map((u,f)=>Kv(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=o[f](u);return n}}function w5(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Kv(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function S5(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=e.indexes[u][s[u]],m=e.values[f]??0;n[o]=m,s[u]++}return n}const x5=(e,t)=>{const n=zo.createTransformer(t),s=Hh(e),o=Hh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?a_.has(e)&&!o.values.length||a_.has(t)&&!s.values.length?E5(e,t):ff(UR(S5(s,o),o.values),n):xm(e,t)};function zR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?en(e,t,n):Kv(e)(e,t)}const A5=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Le.update(t,n),stop:()=>hr(t),now:()=>qn.isProcessing?qn.timestamp:qi.now()}},BR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Am=2e4;function Yv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Am;)t+=n,s=e.next(t);return t>=Am?1/0:t}function R5(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Yv(s),Am);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Ur(o)}}const C5=5;function FR(e,t,n){const s=Math.max(t-C5,0);return Bv(n-e(s),t-s)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yy=.001;function I5({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:s=on.mass}){let o,u,f=1-t;f=Fr(on.minDamping,on.maxDamping,f),e=Fr(on.minDuration,on.maxDuration,Ur(e)),f<1?(o=_=>{const b=_*f,A=b*e,S=b-n,M=o_(_,f),k=Math.exp(-A);return yy-S/M*k},u=_=>{const A=_*f*e,S=A*n+n,M=Math.pow(f,2)*Math.pow(_,2)*e,k=Math.exp(-A),B=o_(Math.pow(_,2),f);return(-o(_)+yy>0?-1:1)*((S-M)*k)/B}):(o=_=>{const b=Math.exp(-_*e),A=(_-n)*e+1;return-yy+b*A},u=_=>{const b=Math.exp(-_*e),A=(n-_)*(e*e);return b*A});const m=5/e,y=L5(o,u,m);if(e=jr(e),isNaN(y))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const _=Math.pow(y,2)*s;return{stiffness:_,damping:f*2*Math.sqrt(s*_),duration:e}}}const P5=12;function L5(e,t,n){let s=n;for(let o=1;o<P5;o++)s=s-e(s)/t(s);return s}function o_(e,t){return e*Math.sqrt(1-t*t)}const M5=["duration","bounce"],D5=["stiffness","damping","mass"];function uS(e,t){return t.some(n=>e[n]!==void 0)}function N5(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!uS(e,D5)&&uS(e,M5))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*Fr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:on.mass,stiffness:o,damping:u}}else{const n=I5(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function Rm(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:_,mass:b,duration:A,velocity:S,isResolvedFromDuration:M}=N5({...n,velocity:-Ur(n.velocity||0)}),k=S||0,B=_/(2*Math.sqrt(y*b)),q=f-u,G=Ur(Math.sqrt(y/b)),nt=Math.abs(q)<5;s||(s=nt?on.restSpeed.granular:on.restSpeed.default),o||(o=nt?on.restDelta.granular:on.restDelta.default);let K;if(B<1){const ut=o_(G,B);K=xt=>{const H=Math.exp(-B*G*xt);return f-H*((k+B*G*q)/ut*Math.sin(ut*xt)+q*Math.cos(ut*xt))}}else if(B===1)K=ut=>f-Math.exp(-G*ut)*(q+(k+G*q)*ut);else{const ut=G*Math.sqrt(B*B-1);K=xt=>{const H=Math.exp(-B*G*xt),O=Math.min(ut*xt,300);return f-H*((k+B*G*q)*Math.sinh(O)+ut*q*Math.cosh(O))/ut}}const pt={calculatedDuration:M&&A||null,next:ut=>{const xt=K(ut);if(M)m.done=ut>=A;else{let H=ut===0?k:0;B<1&&(H=ut===0?jr(k):FR(K,ut,xt));const O=Math.abs(H)<=s,V=Math.abs(f-xt)<=o;m.done=O&&V}return m.value=m.done?f:xt,m},toString:()=>{const ut=Math.min(Yv(pt),Am),xt=BR(H=>pt.next(ut*H).value,ut,30);return ut+"ms "+xt},toTransition:()=>{}};return pt}Rm.applyToOptions=e=>{const t=R5(e,100,Rm);return e.ease=t.ease,e.duration=jr(t.duration),e.type="keyframes",e};function l_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:m,max:y,restDelta:_=.5,restSpeed:b}){const A=e[0],S={done:!1,value:A},M=O=>m!==void 0&&O<m||y!==void 0&&O>y,k=O=>m===void 0?y:y===void 0||Math.abs(m-O)<Math.abs(y-O)?m:y;let B=n*t;const q=A+B,G=f===void 0?q:f(q);G!==q&&(B=G-A);const nt=O=>-B*Math.exp(-O/s),K=O=>G+nt(O),pt=O=>{const V=nt(O),W=K(O);S.done=Math.abs(V)<=_,S.value=S.done?G:W};let ut,xt;const H=O=>{M(S.value)&&(ut=O,xt=Rm({keyframes:[S.value,k(S.value)],velocity:FR(K,O,S.value),damping:o,stiffness:u,restDelta:_,restSpeed:b}))};return H(0),{calculatedDuration:null,next:O=>{let V=!1;return!xt&&ut===void 0&&(V=!0,pt(O),H(O)),ut!==void 0&&O>=ut?xt.next(O-ut):(!V&&pt(O),S)}}}function O5(e,t,n){const s=[],o=n||Pa.mix||zR,u=e.length-1;for(let f=0;f<u;f++){let m=o(e[f],e[f+1]);if(t){const y=Array.isArray(t)?t[f]||Wi:t;m=ff(y,m)}s.push(m)}return s}function $v(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Bh(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=O5(t,s,o),y=m.length,_=b=>{if(f&&b<e[0])return t[0];let A=0;if(y>1)for(;A<e.length-2&&!(b<e[A+1]);A++);const S=Zu(e[A],e[A+1],b);return m[A](S)};return n?b=>_(Fr(e[0],e[u-1],b)):_}function k5(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Zu(0,t,s);e.push(en(n,1,o))}}function HR(e){const t=[0];return k5(t,e.length-1),t}function V5(e,t){return e.map(n=>n*t)}function j5(e,t){return e.map(()=>t||PR).splice(0,e.length-1)}function Eh({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Xj(s)?s.map(sS):sS(s),u={done:!1,value:t[0]},f=V5(n&&n.length===t.length?n:HR(t),e),m=$v(f,t,{ease:Array.isArray(o)?o:j5(t,o)});return{calculatedDuration:e,next:y=>(u.value=m(y),u.done=y>=e,u)}}const U5=e=>e!==null;function Xv(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(U5),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const z5={decay:l_,inertia:l_,tween:Eh,keyframes:Eh,spring:Rm};function qR(e){typeof e.type=="string"&&(e.type=z5[e.type])}class Qv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const B5=e=>e/100;class Jv extends Qv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==qi.now()&&this.tick(qi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qR(t);const{type:n=Eh,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:m}=t;const y=n||Eh;y!==Eh&&typeof m[0]!="number"&&(this.mixKeyframes=ff(B5,zR(m[0],m[1])),m=[0,100]);const _=y({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-f})),_.calculatedDuration===null&&(_.calculatedDuration=Yv(_));const{calculatedDuration:b}=_;this.calculatedDuration=b,this.resolvedDuration=b+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=_}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:_=0,keyframes:b,repeat:A,repeatType:S,repeatDelay:M,type:k,onUpdate:B,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const G=this.currentTime-_*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?G<0:G>o;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let K=this.currentTime,pt=s;if(A){const O=Math.min(this.currentTime,o)/m;let V=Math.floor(O),W=O%1;!W&&O>=1&&(W=1),W===1&&V--,V=Math.min(V,A+1),!!(V%2)&&(S==="reverse"?(W=1-W,M&&(W-=M/m)):S==="mirror"&&(pt=f)),K=Fr(0,1,W)*m}const ut=nt?{done:!1,value:b[0]}:pt.next(K);u&&(ut.value=u(ut.value));let{done:xt}=ut;!nt&&y!==null&&(xt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&xt);return H&&k!==l_&&(ut.value=Xv(b,this.options,q,this.speed)),B&&B(ut.value),H&&this.finish(),ut}then(t,n){return this.finished.then(t,n)}get duration(){return Ur(this.calculatedDuration)}get time(){return Ur(this.currentTime)}set time(t){t=jr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(qi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ur(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=A5,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function F5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Cl=e=>e*180/Math.PI,u_=e=>{const t=Cl(Math.atan2(e[1],e[0]));return c_(t)},H5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:u_,rotateZ:u_,skewX:e=>Cl(Math.atan(e[1])),skewY:e=>Cl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c_=e=>(e=e%360,e<0&&(e+=360),e),cS=u_,hS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),q5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hS,scaleY:fS,scale:e=>(hS(e)+fS(e))/2,rotateX:e=>c_(Cl(Math.atan2(e[6],e[5]))),rotateY:e=>c_(Cl(Math.atan2(-e[2],e[0]))),rotateZ:cS,rotate:cS,skewX:e=>Cl(Math.atan(e[4])),skewY:e=>Cl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function h_(e){return e.includes("scale")?1:0}function f_(e,t){if(!e||e==="none")return h_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=q5,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=H5,o=m}if(!o)return h_(t);const u=s[t],f=o[1].split(",").map(W5);return typeof u=="function"?u(f):f[u]}const G5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return f_(n,t)};function W5(e){return parseFloat(e.trim())}const ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oc=new Set(ac),dS=e=>e===rc||e===Wt,Z5=new Set(["x","y","z"]),K5=ac.filter(e=>!Z5.has(e));function Y5(e){const t=[];return K5.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ll={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>f_(t,"x"),y:(e,{transform:t})=>f_(t,"y")};Ll.translateX=Ll.x;Ll.translateY=Ll.y;const Ml=new Set;let d_=!1,m_=!1,p_=!1;function GR(){if(m_){const e=Array.from(Ml).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=Y5(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}m_=!1,d_=!1,Ml.forEach(e=>e.complete(p_)),Ml.clear()}function WR(){Ml.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(m_=!0)})}function $5(){p_=!0,WR(),GR(),p_=!1}class t0{constructor(t,n,s,o,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Ml.add(this),d_||(d_=!0,Le.read(WR),Le.resolveKeyframes(GR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const m=s.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}F5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ml.delete(this)}cancel(){this.state==="scheduled"&&(Ml.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X5=e=>e.startsWith("--");function Q5(e,t,n){X5(t)?e.style.setProperty(t,n):e.style[t]=n}const ZR=Uv(()=>window.ScrollTimeline!==void 0),J5={};function t4(e,t){const n=Uv(e);return()=>J5[t]??n()}const KR=t4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hh=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,mS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function YR(e,t){if(e)return typeof e=="function"?KR()?BR(e,t):"ease-out":LR(e)?hh(e):Array.isArray(e)?e.map(n=>YR(n,t)||mS.easeOut):mS[e]}function e4(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:m="easeOut",times:y}={},_=void 0){const b={[t]:n};y&&(b.offset=y);const A=YR(m,o);Array.isArray(A)&&(b.easing=A);const S={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return _&&(S.pseudoElement=_),e.animate(b,S)}function $R(e){return typeof e=="function"&&"applyToOptions"in e}function n4({type:e,...t}){return $R(e)&&KR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class i4 extends Qv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Bh(typeof t.type!="string");const _=n4(t);this.animation=e4(n,s,o,_,u),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const b=Xv(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):Q5(n,s,b),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ur(Number(t))}get time(){return Ur(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=jr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ZR()?(this.animation.timeline=t,Wi):n(this)}}const XR={anticipate:RR,backInOut:AR,circInOut:IR};function s4(e){return e in XR}function r4(e){typeof e.ease=="string"&&s4(e.ease)&&(e.ease=XR[e.ease])}const pS=10;class a4 extends i4{constructor(t){r4(t),qR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new Jv({...f,autoplay:!1}),y=jr(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-pS).value,m.sample(y).value,pS),m.stop()}}const gS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zo.test(e)||e==="0")&&!e.startsWith("url("));function o4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function l4(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=gS(o,t),m=gS(u,t);return!f||!m?!1:o4(e)||(n==="spring"||$R(n))&&s}const u4=new Set(["opacity","clipPath","filter","transform"]),c4=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=t.owner.getProps();return c4()&&n&&u4.has(n)&&(n!=="transform"||!_)&&!y&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}const f4=40;class d4 extends Qv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:m,name:y,motionValue:_,element:b,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=qi.now();const S={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:f,name:y,motionValue:_,element:b,...A},M=b?.KeyframeResolver||t0;this.keyframeResolver=new M(m,(k,B,q)=>this.onKeyframesResolved(k,B,S,!q),y,_,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:m,delay:y,isHandoff:_,onUpdate:b}=s;this.resolvedAt=qi.now(),l4(t,u,f,m)||((Pa.instantAnimations||!y)&&b?.(Xv(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>f4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},M=!_&&h4(S)?new a4({...S,element:S.motionValue.owner.current}):new Jv(S);M.finished.then(()=>this.notifyFinished()).catch(Wi),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const m4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p4(e){const t=m4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function QR(e,t,n=1){const[s,o]=p4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return vR(f)?parseFloat(f):f}return Gv(o)?QR(o,t,n+1):o}function e0(e,t){return e?.[t]??e?.default??e}const JR=new Set(["width","height","top","left","right","bottom",...ac]),g4={test:e=>e==="auto",parse:e=>e},tC=e=>t=>t.test(e),eC=[rc,Wt,zr,bo,c5,u5,g4],yS=e=>eC.find(tC(e));function y4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ER(e):!0}const _4=new Set(["brightness","contrast","saturate","opacity"]);function v4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Wv)||[];if(!s)return e;const o=n.replace(s,"");let u=_4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const T4=/\b([a-z-]*)\(.*?\)/gu,g_={...zo,getAnimatableNone:e=>{const t=e.match(T4);return t?t.map(v4).join(" "):e}},_S={...rc,transform:Math.round},E4={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:Rd,scaleX:Rd,scaleY:Rd,scaleZ:Rd,skew:bo,skewX:bo,skewY:bo,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Fh,originX:rS,originY:rS,originZ:Wt},n0={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt,...E4,zIndex:_S,fillOpacity:Fh,strokeOpacity:Fh,numOctaves:_S},b4={...n0,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:g_,WebkitFilter:g_},nC=e=>b4[e];function iC(e,t){let n=nC(e);return n!==g_&&(n=zo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const w4=new Set(["auto","none","0"]);function S4(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!w4.has(u)&&Hh(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=iC(n,o)}class x4 extends t0{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Gv(_))){const b=QR(_,n.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!JR.has(s)||t.length!==2)return;const[o,u]=t,f=yS(o),m=yS(u);if(f!==m)if(dS(f)&&dS(m))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Ll[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||y4(t[o]))&&s.push(o);s.length&&S4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ll[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=Ll[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function sC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const rC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function aC(e){return TR(e)&&"offsetHeight"in e}const vS=30,A4=e=>!isNaN(parseFloat(e)),bh={current:void 0};class R4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=qi.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=A4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new zv);const s=this.events[t].add(n);return t==="change"?()=>{s(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return bh.current&&bh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vS);return Bv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lr(e,t){return new R4(e,t)}const{schedule:i0}=MR(queueMicrotask,!1),ar={x:!1,y:!1};function oC(){return ar.x||ar.y}function C4(e){return e==="x"||e==="y"?ar[e]?null:(ar[e]=!0,()=>{ar[e]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}function lC(e,t){const n=sC(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function TS(e){return!(e.pointerType==="touch"||oC())}function I4(e,t,n={}){const[s,o,u]=lC(e,n),f=m=>{if(!TS(m))return;const{target:y}=m,_=t(y,m);if(typeof _!="function"||!y)return;const b=A=>{TS(A)&&(_(A),y.removeEventListener("pointerleave",b))};y.addEventListener("pointerleave",b,o)};return s.forEach(m=>{m.addEventListener("pointerenter",f,o)}),u}const uC=(e,t)=>t?e===t?!0:uC(e,t.parentElement):!1,s0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,P4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L4(e){return P4.has(e.tagName)||e.tabIndex!==-1}const Kd=new WeakSet;function ES(e){return t=>{t.key==="Enter"&&e(t)}}function _y(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const M4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ES(()=>{if(Kd.has(n))return;_y(n,"down");const o=ES(()=>{_y(n,"up")}),u=()=>_y(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function bS(e){return s0(e)&&!oC()}function D4(e,t,n={}){const[s,o,u]=lC(e,n),f=m=>{const y=m.currentTarget;if(!bS(m))return;Kd.add(y);const _=t(y,m),b=(M,k)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",S),Kd.has(y)&&Kd.delete(y),bS(M)&&typeof _=="function"&&_(M,{success:k})},A=M=>{b(M,y===window||y===document||n.useGlobalTarget||uC(y,M.target))},S=M=>{b(M,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",S,o)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",f,o),aC(m)&&(m.addEventListener("focus",_=>M4(_,o)),!L4(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function r0(e){return TR(e)&&"ownerSVGElement"in e}const Yd=new WeakMap;let $d;const cC=(e,t,n)=>(s,o)=>o&&o[0]?o[0][e+"Size"]:r0(s)&&"getBBox"in s?s.getBBox()[t]:s[n],N4=cC("inline","width","offsetWidth"),O4=cC("block","height","offsetHeight");function k4({target:e,borderBoxSize:t}){Yd.get(e)?.forEach(n=>{n(e,{get width(){return N4(e,t)},get height(){return O4(e,t)}})})}function V4(e){e.forEach(k4)}function j4(){typeof ResizeObserver>"u"||($d=new ResizeObserver(V4))}function U4(e,t){$d||j4();const n=sC(e);return n.forEach(s=>{let o=Yd.get(s);o||(o=new Set,Yd.set(s,o)),o.add(t),$d?.observe(s)}),()=>{n.forEach(s=>{const o=Yd.get(s);o?.delete(t),o?.size||$d?.unobserve(s)})}}const Xd=new Set;let Pu;function z4(){Pu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Xd.forEach(t=>t(e))},window.addEventListener("resize",Pu)}function B4(e){return Xd.add(e),Pu||z4(),()=>{Xd.delete(e),!Xd.size&&typeof Pu=="function"&&(window.removeEventListener("resize",Pu),Pu=void 0)}}function F4(e,t){return typeof e=="function"?B4(e):U4(e,t)}function hC(e,t){let n;const s=()=>{const{currentTime:o}=t,f=(o===null?0:o.value)/100;n!==f&&e(f),n=f};return Le.preUpdate(s,!0),()=>hr(s)}function H4(e){return r0(e)&&e.tagName==="svg"}function q4(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],u=e[2+n],f=e[3+n],m=$v(o,u,f);return t?m(s):m}const mi=e=>!!(e&&e.getVelocity),G4=[...eC,bn,zo],W4=e=>G4.find(tC(e)),a0=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Z4(e=!0){const t=N.useContext(kv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=N.useId();N.useEffect(()=>{if(e)return o(u)},[e]);const f=N.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const fC=N.createContext({strict:!1}),wS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ku={};for(const e in wS)Ku[e]={isEnabled:t=>wS[e].some(n=>!!t[n])};function K4(e){for(const t in e)Ku[t]={...Ku[t],...e[t]}}const Y4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y4.has(e)}let dC=e=>!Cm(e);function $4(e){typeof e=="function"&&(dC=t=>t.startsWith("on")?!Cm(t):e(t))}try{$4(require("@emotion/is-prop-valid").default)}catch{}function X4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(dC(o)||n===!0&&Cm(o)||!t&&!Cm(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const op=N.createContext({});function lp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qh(e){return typeof e=="string"||Array.isArray(e)}const o0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l0=["initial",...o0];function up(e){return lp(e.animate)||l0.some(t=>qh(e[t]))}function mC(e){return!!(up(e)||e.variants)}function Q4(e,t){if(up(e)){const{initial:n,animate:s}=e;return{initial:n===!1||qh(n)?n:void 0,animate:qh(s)?s:void 0}}return e.inherit!==!1?t:{}}function J4(e){const{initial:t,animate:n}=Q4(e,N.useContext(op));return N.useMemo(()=>({initial:t,animate:n}),[SS(t),SS(n)])}function SS(e){return Array.isArray(e)?e.join(" "):e}const Gh={};function tU(e){for(const t in e)Gh[t]=e[t],qv(t)&&(Gh[t].isCSSVariable=!0)}function pC(e,{layout:t,layoutId:n}){return oc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gh[e]||e==="opacity")}const eU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nU=ac.length;function iU(e,t,n){let s="",o=!0;for(let u=0;u<nU;u++){const f=ac[u],m=e[f];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(f.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const _=rC(m,n0[f]);if(!y){o=!1;const b=eU[f]||f;s+=`${b}(${_}) `}n&&(t[f]=_)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function u0(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let f=!1,m=!1;for(const y in t){const _=t[y];if(oc.has(y)){f=!0;continue}else if(qv(y)){o[y]=_;continue}else{const b=rC(_,n0[y]);y.startsWith("origin")?(m=!0,u[y]=b):s[y]=b}}if(t.transform||(f||n?s.transform=iU(t,e.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:_="50%",originZ:b=0}=u;s.transformOrigin=`${y} ${_} ${b}`}}const c0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gC(e,t,n){for(const s in t)!mi(t[s])&&!pC(s,n)&&(e[s]=t[s])}function sU({transformTemplate:e},t){return N.useMemo(()=>{const n=c0();return u0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rU(e,t){const n=e.style||{},s={};return gC(s,n,e),Object.assign(s,sU(e,t)),s}function aU(e,t){const n={},s=rU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const oU={offset:"stroke-dashoffset",array:"stroke-dasharray"},lU={offset:"strokeDashoffset",array:"strokeDasharray"};function uU(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?oU:lU;e[u.offset]=Wt.transform(-s);const f=Wt.transform(t),m=Wt.transform(n);e[u.array]=`${f} ${m}`}function yC(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...m},y,_,b){if(u0(e,m,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:S}=e;A.transform&&(S.transform=A.transform,delete A.transform),(S.transform||A.transformOrigin)&&(S.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),S.transform&&(S.transformBox=b?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&uU(A,o,u,f,!1)}const _C=()=>({...c0(),attrs:{}}),vC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cU(e,t,n,s){const o=N.useMemo(()=>{const u=_C();return yC(u,t,vC(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};gC(u,e.style,e),o.style={...u,...o.style}}return o}const hU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h0(e){return typeof e!="string"||e.includes("-")?!1:!!(hU.indexOf(e)>-1||/[A-Z]/u.test(e))}function fU(e,t,n,{latestValues:s},o,u=!1){const m=(h0(e)?cU:aU)(t,s,o,e),y=X4(t,typeof e=="string",u),_=e!==N.Fragment?{...y,...m,ref:n}:{},{children:b}=t,A=N.useMemo(()=>mi(b)?b.get():b,[b]);return N.createElement(e,{..._,children:A})}function xS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function f0(e,t,n,s){if(typeof t=="function"){const[o,u]=xS(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=xS(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function Qd(e){return mi(e)?e.get():e}function dU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:mU(n,s,o,e),renderState:t()}}function mU(e,t,n,s){const o={},u=s(e,{});for(const S in u)o[S]=Qd(u[S]);let{initial:f,animate:m}=e;const y=up(e),_=mC(e);t&&_&&!y&&e.inherit!==!1&&(f===void 0&&(f=t.initial),m===void 0&&(m=t.animate));let b=n?n.initial===!1:!1;b=b||f===!1;const A=b?m:f;if(A&&typeof A!="boolean"&&!lp(A)){const S=Array.isArray(A)?A:[A];for(let M=0;M<S.length;M++){const k=f0(e,S[M]);if(k){const{transitionEnd:B,transition:q,...G}=k;for(const nt in G){let K=G[nt];if(Array.isArray(K)){const pt=b?K.length-1:0;K=K[pt]}K!==null&&(o[nt]=K)}for(const nt in B)o[nt]=B[nt]}}}return o}const TC=e=>(t,n)=>{const s=N.useContext(op),o=N.useContext(kv),u=()=>dU(e,t,s,o);return n?u():ap(u)};function d0(e,t,n){const{style:s}=e,o={};for(const u in s)(mi(s[u])||t.style&&mi(t.style[u])||pC(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const pU=TC({scrapeMotionValuesFromProps:d0,createRenderState:c0});function EC(e,t,n){const s=d0(e,t,n);for(const o in e)if(mi(e[o])||mi(t[o])){const u=ac.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const gU=TC({scrapeMotionValuesFromProps:EC,createRenderState:_C}),yU=Symbol.for("motionComponentSymbol");function Lu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _U(e,t,n){return N.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Lu(n)&&(n.current=s))},[t])}const m0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vU="framerAppearId",bC="data-"+m0(vU),wC=N.createContext({});function TU(e,t,n,s,o){const{visualElement:u}=N.useContext(op),f=N.useContext(fC),m=N.useContext(kv),y=N.useContext(a0).reducedMotion,_=N.useRef(null);s=s||f.renderer,!_.current&&s&&(_.current=s(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const b=_.current,A=N.useContext(wC);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&EU(_.current,n,o,A);const S=N.useRef(!1);N.useInsertionEffect(()=>{b&&S.current&&b.update(n,m)});const M=n[bC],k=N.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return Ov(()=>{b&&(S.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),k.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!k.current&&b.animationState&&b.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),k.current=!1))}),b}function EU(e,t,n,s){const{layoutId:o,layout:u,drag:f,dragConstraints:m,layoutScroll:y,layoutRoot:_,layoutCrossfade:b}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:SC(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||m&&Lu(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:b,layoutScroll:y,layoutRoot:_})}function SC(e){if(e)return e.options.allowProjection!==!1?e.projection:SC(e.parent)}function vy(e,{forwardMotionProps:t=!1}={},n,s){n&&K4(n);const o=h0(e)?gU:pU;function u(m,y){let _;const b={...N.useContext(a0),...m,layoutId:bU(m)},{isStatic:A}=b,S=J4(m),M=o(m,A);if(!A&&Nv){wU();const k=SU(b);_=k.MeasureLayout,S.visualElement=TU(e,M,b,s,k.ProjectionNode)}return E.jsxs(op.Provider,{value:S,children:[_&&S.visualElement?E.jsx(_,{visualElement:S.visualElement,...b}):null,fU(e,m,_U(M,S.visualElement,y),M,A,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=N.forwardRef(u);return f[yU]=e,f}function bU({layoutId:e}){const t=N.useContext(_R).id;return t&&e!==void 0?t+"-"+e:e}function wU(e,t){N.useContext(fC).strict}function SU(e){const{drag:t,layout:n}=Ku;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function xU(e,t){if(typeof Proxy>"u")return vy;const n=new Map,s=(u,f)=>vy(u,f,e,t),o=(u,f)=>s(u,f);return new Proxy(o,{get:(u,f)=>f==="create"?s:(n.has(f)||n.set(f,vy(f,void 0,e,t)),n.get(f))})}function xC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function AU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function RU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ty(e){return e===void 0||e===1}function y_({scale:e,scaleX:t,scaleY:n}){return!Ty(e)||!Ty(t)||!Ty(n)}function Sl(e){return y_(e)||AC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function AC(e){return AS(e.x)||AS(e.y)}function AS(e){return e&&e!=="0%"}function Im(e,t,n){const s=e-n,o=t*s;return n+o}function RS(e,t,n,s,o){return o!==void 0&&(e=Im(e,o,s)),Im(e,n,s)+t}function __(e,t=0,n=1,s,o){e.min=RS(e.min,t,n,s,o),e.max=RS(e.max,t,n,s,o)}function RC(e,{x:t,y:n}){__(e.x,t.translate,t.scale,t.originPoint),__(e.y,n.translate,n.scale,n.originPoint)}const CS=.999999999999,IS=1.0000000000001;function CU(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,f;for(let m=0;m<o;m++){u=n[m],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Du(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,RC(e,f)),s&&Sl(u.latestValues)&&Du(e,u.latestValues))}t.x<IS&&t.x>CS&&(t.x=1),t.y<IS&&t.y>CS&&(t.y=1)}function Mu(e,t){e.min=e.min+t,e.max=e.max+t}function PS(e,t,n,s,o=.5){const u=en(e.min,e.max,o);__(e,t,n,u,s)}function Du(e,t){PS(e.x,t.x,t.scaleX,t.scale,t.originX),PS(e.y,t.y,t.scaleY,t.scale,t.originY)}function CC(e,t){return xC(RU(e.getBoundingClientRect(),t))}function IU(e,t,n){const s=CC(e,n),{scroll:o}=t;return o&&(Mu(s.x,o.offset.x),Mu(s.y,o.offset.y)),s}const LS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nu=()=>({x:LS(),y:LS()}),MS=()=>({min:0,max:0}),dn=()=>({x:MS(),y:MS()}),v_={current:null},IC={current:!1};function PU(){if(IC.current=!0,!!Nv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>v_.current=e.matches;e.addEventListener("change",t),t()}else v_.current=!1}const LU=new WeakMap;function MU(e,t,n){for(const s in t){const o=t[s],u=n[s];if(mi(o))e.addValue(s,o);else if(mi(u))e.addValue(s,lr(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=e.getStaticValue(s);e.addValue(s,lr(f!==void 0?f:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const DS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DU{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=t0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=qi.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Le.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=up(n),this.isVariantNode=mC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in A){const M=A[S];y[S]!==void 0&&mi(M)&&M.set(y[S],!1)}}mount(t){this.current=t,LU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),IC.current||PU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=oc.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&Le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ku){const n=Ku[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<DS.length;s++){const o=DS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=MU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=lr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(vR(s)||ER(s))?s=parseFloat(s):!W4(s)&&zo.test(n)&&(s=iC(t,n)),this.setBaseTarget(t,mi(s)?s.get():s)),mi(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=f0(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!mi(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new zv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){i0.render(this.render)}}class PC extends DU{constructor(){super(...arguments),this.KeyframeResolver=x4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LC(e,{style:t,vars:n},s,o){const u=e.style;let f;for(f in t)u[f]=t[f];o?.applyProjectionStyles(u,s);for(f in n)u.setProperty(f,n[f])}function NU(e){return window.getComputedStyle(e)}class OU extends PC{constructor(){super(...arguments),this.type="html",this.renderInstance=LC}readValueFromInstance(t,n){if(oc.has(n))return this.projection?.isProjecting?h_(n):G5(t,n);{const s=NU(t),o=(qv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return CC(t,n)}build(t,n,s){u0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return d0(t,n,s)}}const MC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kU(e,t,n,s){LC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(MC.has(o)?o:m0(o),t.attrs[o])}class VU extends PC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(oc.has(n)){const s=nC(n);return s&&s.default||0}return n=MC.has(n)?n:m0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return EC(t,n,s)}build(t,n,s){yC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){kU(t,n,s,o)}mount(t){this.isSVGTag=vC(t.tagName),super.mount(t)}}const jU=(e,t)=>h0(e)?new VU(t):new OU(t,{allowProjection:e!==N.Fragment});function Wh(e,t,n){const s=e.getProps();return f0(s,t,n!==void 0?n:s.custom,e)}const T_=e=>Array.isArray(e);function UU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,lr(n))}function zU(e){return T_(e)?e[e.length-1]||0:e}function BU(e,t){const n=Wh(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const f in u){const m=zU(u[f]);UU(e,f,m)}}function FU(e){return!!(mi(e)&&e.add)}function E_(e,t){const n=e.getValue("willChange");if(FU(n))return n.add(t);if(!n&&Pa.WillChange){const s=new Pa.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function DC(e){return e.props[bC]}const HU=e=>e!==null;function qU(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(HU),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const GU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZU={type:"keyframes",duration:.8},KU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YU=(e,{keyframes:t})=>t.length>2?ZU:oc.has(e)?e.startsWith("scale")?WU(t[1]):GU:KU;function $U({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:m,from:y,elapsed:_,...b}){return!!Object.keys(b).length}const p0=(e,t,n,s={},o,u)=>f=>{const m=e0(s,e)||{},y=m.delay||s.delay||0;let{elapsed:_=0}=s;_=_-jr(y);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-_,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};$U(m)||Object.assign(b,YU(e,b)),b.duration&&(b.duration=jr(b.duration)),b.repeatDelay&&(b.repeatDelay=jr(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let A=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(b.duration=0,b.delay===0&&(A=!0)),(Pa.instantAnimations||Pa.skipAnimations)&&(A=!0,b.duration=0,b.delay=0),b.allowFlatten=!m.type&&!m.ease,A&&!u&&t.get()!==void 0){const S=qU(b.keyframes,m);if(S!==void 0){Le.update(()=>{b.onUpdate(S),b.onComplete()});return}}return m.isSync?new Jv(b):new d4(b)};function XU({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function NC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:f,...m}=t;s&&(u=s);const y=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const b in m){const A=e.getValue(b,e.latestValues[b]??null),S=m[b];if(S===void 0||_&&XU(_,b))continue;const M={delay:n,...e0(u||{},b)},k=A.get();if(k!==void 0&&!A.isAnimating&&!Array.isArray(S)&&S===k&&!M.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const G=DC(e);if(G){const nt=window.MotionHandoffAnimation(G,b,Le);nt!==null&&(M.startTime=nt,B=!0)}}E_(e,b),A.start(p0(b,A,S,e.shouldReduceMotion&&JR.has(b)?{type:!1}:M,e,B));const q=A.animation;q&&y.push(q)}return f&&Promise.all(y).then(()=>{Le.update(()=>{f&&BU(e,f)})}),y}function b_(e,t,n={}){const s=Wh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(NC(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:b,staggerDirection:A}=o;return QU(e,t,y,_,b,A,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,_]=m==="beforeChildren"?[u,f]:[f,u];return y().then(()=>_())}else return Promise.all([u(),f(n.delay)])}function QU(e,t,n=0,s=0,o=0,u=1,f){const m=[],y=e.variantChildren.size,_=(y-1)*o,b=typeof s=="function",A=b?S=>s(S,y):u===1?(S=0)=>S*o:(S=0)=>_-S*o;return Array.from(e.variantChildren).sort(JU).forEach((S,M)=>{S.notify("AnimationStart",t),m.push(b_(S,t,{...f,delay:n+(b?0:s)+A(M)}).then(()=>S.notify("AnimationComplete",t)))}),Promise.all(m)}function JU(e,t){return e.sortNodePosition(t)}function t3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>b_(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=b_(e,t,n);else{const o=typeof t=="function"?Wh(e,t,n.custom):t;s=Promise.all(NC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function OC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const e3=l0.length;function kC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?kC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<e3;n++){const s=l0[n],o=e.props[s];(qh(o)||o===!1)&&(t[s]=o)}return t}const n3=[...o0].reverse(),i3=o0.length;function s3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>t3(e,n,s)))}function r3(e){let t=s3(e),n=NS(),s=!0;const o=y=>(_,b)=>{const A=Wh(e,b,y==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:S,transitionEnd:M,...k}=A;_={..._,...k,...M}}return _};function u(y){t=y(e)}function f(y){const{props:_}=e,b=kC(e.parent)||{},A=[],S=new Set;let M={},k=1/0;for(let q=0;q<i3;q++){const G=n3[q],nt=n[G],K=_[G]!==void 0?_[G]:b[G],pt=qh(K),ut=G===y?nt.isActive:null;ut===!1&&(k=q);let xt=K===b[G]&&K!==_[G]&&pt;if(xt&&s&&e.manuallyAnimateOnMount&&(xt=!1),nt.protectedKeys={...M},!nt.isActive&&ut===null||!K&&!nt.prevProp||lp(K)||typeof K=="boolean")continue;const H=a3(nt.prevProp,K);let O=H||G===y&&nt.isActive&&!xt&&pt||q>k&&pt,V=!1;const W=Array.isArray(K)?K:[K];let Z=W.reduce(o(G),{});ut===!1&&(Z={});const{prevResolvedValues:$={}}=nt,F={...$,...Z},Se=Tt=>{O=!0,S.has(Tt)&&(V=!0,S.delete(Tt)),nt.needsAnimating[Tt]=!0;const yt=e.getValue(Tt);yt&&(yt.liveStyle=!1)};for(const Tt in F){const yt=Z[Tt],te=$[Tt];if(M.hasOwnProperty(Tt))continue;let j=!1;T_(yt)&&T_(te)?j=!OC(yt,te):j=yt!==te,j?yt!=null?Se(Tt):S.add(Tt):yt!==void 0&&S.has(Tt)?Se(Tt):nt.protectedKeys[Tt]=!0}nt.prevProp=K,nt.prevResolvedValues=Z,nt.isActive&&(M={...M,...Z}),s&&e.blockInitialAnimation&&(O=!1),O&&(!(xt&&H)||V)&&A.push(...W.map(Tt=>({animation:Tt,options:{type:G}})))}if(S.size){const q={};if(typeof _.initial!="boolean"){const G=Wh(e,Array.isArray(_.initial)?_.initial[0]:_.initial);G&&G.transition&&(q.transition=G.transition)}S.forEach(G=>{const nt=e.getBaseTarget(G),K=e.getValue(G);K&&(K.liveStyle=!0),q[G]=nt??null}),A.push({animation:q})}let B=!!A.length;return s&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(B=!1),s=!1,B?t(A):Promise.resolve()}function m(y,_){if(n[y].isActive===_)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(y,_)),n[y].isActive=_;const b=f(y);for(const A in n)n[A].protectedKeys={};return b}return{animateChanges:f,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=NS(),s=!0}}}function a3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OC(t,e):!1}function bl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NS(){return{animate:bl(!0),whileInView:bl(),whileHover:bl(),whileTap:bl(),whileDrag:bl(),whileFocus:bl(),exit:bl()}}class Ko{constructor(t){this.isMounted=!1,this.node=t}update(){}}class o3 extends Ko{constructor(t){super(t),t.animationState||(t.animationState=r3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let l3=0;class u3 extends Ko{constructor(){super(...arguments),this.id=l3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const c3={animation:{Feature:o3},exit:{Feature:u3}};function Zh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function pf(e){return{point:{x:e.pageX,y:e.pageY}}}const h3=e=>t=>s0(t)&&e(t,pf(t));function wh(e,t,n,s){return Zh(e,t,h3(n),s)}const VC=1e-4,f3=1-VC,d3=1+VC,jC=.01,m3=0-jC,p3=0+jC;function Ai(e){return e.max-e.min}function g3(e,t,n){return Math.abs(e-t)<=n}function OS(e,t,n,s=.5){e.origin=s,e.originPoint=en(t.min,t.max,e.origin),e.scale=Ai(n)/Ai(t),e.translate=en(n.min,n.max,e.origin)-e.originPoint,(e.scale>=f3&&e.scale<=d3||isNaN(e.scale))&&(e.scale=1),(e.translate>=m3&&e.translate<=p3||isNaN(e.translate))&&(e.translate=0)}function Sh(e,t,n,s){OS(e.x,t.x,n.x,s?s.originX:void 0),OS(e.y,t.y,n.y,s?s.originY:void 0)}function kS(e,t,n){e.min=n.min+t.min,e.max=e.min+Ai(t)}function y3(e,t,n){kS(e.x,t.x,n.x),kS(e.y,t.y,n.y)}function VS(e,t,n){e.min=t.min-n.min,e.max=e.min+Ai(t)}function xh(e,t,n){VS(e.x,t.x,n.x),VS(e.y,t.y,n.y)}function js(e){return[e("x"),e("y")]}const UC=({current:e})=>e?e.ownerDocument.defaultView:null,jS=(e,t)=>Math.abs(e-t);function _3(e,t){const n=jS(e.x,t.x),s=jS(e.y,t.y);return Math.sqrt(n**2+s**2)}class zC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=by(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,k=_3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!k)return;const{point:B}=S,{timestamp:q}=qn;this.history.push({...B,timestamp:q});const{onStart:G,onMove:nt}=this.handlers;M||(G&&G(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ey(M,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:k,onSessionEnd:B,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=by(S.type==="pointercancel"?this.lastMoveEventInfo:Ey(M,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,G),B&&B(S,G)},!s0(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=o||window;const m=pf(t),y=Ey(m,this.transformPagePoint),{point:_}=y,{timestamp:b}=qn;this.history=[{..._,timestamp:b}];const{onSessionStart:A}=n;A&&A(t,by(y,this.history)),this.removeListeners=ff(wh(this.contextWindow,"pointermove",this.handlePointerMove),wh(this.contextWindow,"pointerup",this.handlePointerUp),wh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function Ey(e,t){return t?{point:t(e.point)}:e}function US(e,t){return{x:e.x-t.x,y:e.y-t.y}}function by({point:e},t){return{point:e,delta:US(e,BC(t)),offset:US(e,v3(t)),velocity:T3(t,.1)}}function v3(e){return e[0]}function BC(e){return e[e.length-1]}function T3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=BC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>jr(t)));)n--;if(!s)return{x:0,y:0};const u=Ur(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function E3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?en(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?en(n,e,s.max):Math.min(e,n)),e}function zS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function b3(e,{top:t,left:n,bottom:s,right:o}){return{x:zS(e.x,n,o),y:zS(e.y,t,s)}}function BS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function w3(e,t){return{x:BS(e.x,t.x),y:BS(e.y,t.y)}}function S3(e,t){let n=.5;const s=Ai(e),o=Ai(t);return o>s?n=Zu(t.min,t.max-s,e.min):s>o&&(n=Zu(e.min,e.max-o,t.min)),Fr(0,1,n)}function x3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const w_=.35;function A3(e=w_){return e===!1?e=0:e===!0&&(e=w_),{x:FS(e,"left","right"),y:FS(e,"top","bottom")}}function FS(e,t,n){return{min:HS(e,t),max:HS(e,n)}}function HS(e,t){return typeof e=="number"?e:e[t]||0}const R3=new WeakMap;class C3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=A=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pf(A).point)},f=(A,S)=>{const{drag:M,dragPropagation:k,onDragStart:B}=this.getProps();if(M&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C4(M),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),js(G=>{let nt=this.getAxisMotionValue(G).get()||0;if(zr.test(nt)){const{projection:K}=this.visualElement;if(K&&K.layout){const pt=K.layout.layoutBox[G];pt&&(nt=Ai(pt)*(parseFloat(nt)/100))}}this.originPoint[G]=nt}),B&&Le.postRender(()=>B(A,S)),E_(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},m=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S;const{dragPropagation:M,dragDirectionLock:k,onDirectionLock:B,onDrag:q}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:G}=S;if(k&&this.currentDirection===null){this.currentDirection=I3(G),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",S.point,G),this.updateAxis("y",S.point,G),this.visualElement.render(),q&&q(A,S)},y=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S,this.stop(A,S),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>js(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new zC(t,{onSessionStart:u,onStart:f,onMove:m,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:s,contextWindow:UC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:f}=o;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&Le.postRender(()=>m(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Cd(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=E3(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Lu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=b3(s.layoutBox,t):this.constraints=!1,this.elastic=A3(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&js(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=x3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Lu(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=IU(s,o.root,this.visualElement.getTransformPagePoint());let f=w3(o.layout.layoutBox,u);if(n){const m=n(AU(f));this.hasMutatedConstraints=!!m,m&&(f=xC(m))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},_=js(b=>{if(!Cd(b,n,this.currentDirection))return;let A=y&&y[b]||{};f&&(A={min:0,max:0});const S=o?200:1e6,M=o?40:1e7,k={type:"inertia",velocity:s?t[b]:0,bounceStiffness:S,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(b,k)});return Promise.all(_).then(m)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return E_(this.visualElement,t),s.start(p0(t,s,0,n,this.visualElement,!1))}stopAnimation(){js(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){js(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){js(n=>{const{drag:s}=this.getProps();if(!Cd(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:m}=o.layout.layoutBox[n];u.set(t[n]-en(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Lu(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};js(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const y=m.get();o[f]=S3({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),js(f=>{if(!Cd(f,t,null))return;const m=this.getAxisMotionValue(f),{min:y,max:_}=this.constraints[f];m.set(en(y,_,o[f]))})}addListeners(){if(!this.visualElement.current)return;R3.set(this.visualElement,this);const t=this.visualElement.current,n=wh(t,"pointerdown",y=>{const{drag:_,dragListener:b=!0}=this.getProps();_&&b&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Lu(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Le.read(s);const f=Zh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(js(b=>{const A=this.getAxisMotionValue(b);A&&(this.originPoint[b]+=y[b].translate,A.set(A.get()+y[b].translate))}),this.visualElement.render())});return()=>{f(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=w_,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:m}}}function Cd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function I3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class P3 extends Ko{constructor(t){super(t),this.removeGroupControls=Wi,this.removeListeners=Wi,this.controls=new C3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wi}unmount(){this.removeGroupControls(),this.removeListeners()}}const qS=e=>(t,n)=>{e&&Le.postRender(()=>e(t,n))};class L3 extends Ko{constructor(){super(...arguments),this.removePointerDownListener=Wi}onPointerDown(t){this.session=new zC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:qS(t),onStart:qS(n),onMove:s,onEnd:(u,f)=>{delete this.session,o&&Le.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=wh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const th={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=GS(e,t.target.x),s=GS(e,t.target.y);return`${n}% ${s}%`}},M3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=zo.parse(e);if(o.length>5)return s;const u=zo.createTransformer(e),f=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,y=n.y.scale*t.y;o[0+f]/=m,o[1+f]/=y;const _=en(m,y,.5);return typeof o[2+f]=="number"&&(o[2+f]/=_),typeof o[3+f]=="number"&&(o[3+f]/=_),u(o)}};let WS=!1;class D3 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;tU(N3),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),WS&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,WS=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||Le.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),i0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FC(e){const[t,n]=Z4(),s=N.useContext(_R);return E.jsx(D3,{...e,layoutGroup:s,switchLayoutGroup:N.useContext(wC),isPresent:t,safeToRemove:n})}const N3={borderRadius:{...th,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:th,borderTopRightRadius:th,borderBottomLeftRadius:th,borderBottomRightRadius:th,boxShadow:M3};function O3(e,t,n){const s=mi(e)?e:lr(e);return s.start(p0("",s,t,n)),s.animation}const k3=(e,t)=>e.depth-t.depth;class V3{constructor(){this.children=[],this.isDirty=!1}add(t){Vv(this.children,t),this.isDirty=!0}remove(t){jv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(k3),this.isDirty=!1,this.children.forEach(t)}}function j3(e,t){const n=qi.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(hr(s),e(u-t))};return Le.setup(s,!0),()=>hr(s)}const HC=["TopLeft","TopRight","BottomLeft","BottomRight"],U3=HC.length,ZS=e=>typeof e=="string"?parseFloat(e):e,KS=e=>typeof e=="number"||Wt.test(e);function z3(e,t,n,s,o,u){o?(e.opacity=en(0,n.opacity??1,B3(s)),e.opacityExit=en(t.opacity??1,0,F3(s))):u&&(e.opacity=en(t.opacity??1,n.opacity??1,s));for(let f=0;f<U3;f++){const m=`border${HC[f]}Radius`;let y=YS(t,m),_=YS(n,m);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||KS(y)===KS(_)?(e[m]=Math.max(en(ZS(y),ZS(_),s),0),(zr.test(_)||zr.test(y))&&(e[m]+="%")):e[m]=_}(t.rotate||n.rotate)&&(e.rotate=en(t.rotate||0,n.rotate||0,s))}function YS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const B3=qC(0,.5,CR),F3=qC(.5,.95,Wi);function qC(e,t,n){return s=>s<e?0:s>t?1:n(Zu(e,t,s))}function $S(e,t){e.min=t.min,e.max=t.max}function Vs(e,t){$S(e.x,t.x),$S(e.y,t.y)}function XS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function QS(e,t,n,s,o){return e-=t,e=Im(e,1/n,s),o!==void 0&&(e=Im(e,1/o,s)),e}function H3(e,t=0,n=1,s=.5,o,u=e,f=e){if(zr.test(t)&&(t=parseFloat(t),t=en(f.min,f.max,t/100)-f.min),typeof t!="number")return;let m=en(u.min,u.max,s);e===u&&(m-=t),e.min=QS(e.min,t,n,m,o),e.max=QS(e.max,t,n,m,o)}function JS(e,t,[n,s,o],u,f){H3(e,t[n],t[s],t[o],t.scale,u,f)}const q3=["x","scaleX","originX"],G3=["y","scaleY","originY"];function tx(e,t,n,s){JS(e.x,t,q3,n?n.x:void 0,s?s.x:void 0),JS(e.y,t,G3,n?n.y:void 0,s?s.y:void 0)}function ex(e){return e.translate===0&&e.scale===1}function GC(e){return ex(e.x)&&ex(e.y)}function nx(e,t){return e.min===t.min&&e.max===t.max}function W3(e,t){return nx(e.x,t.x)&&nx(e.y,t.y)}function ix(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function WC(e,t){return ix(e.x,t.x)&&ix(e.y,t.y)}function sx(e){return Ai(e.x)/Ai(e.y)}function rx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Z3{constructor(){this.members=[]}add(t){Vv(this.members,t),t.scheduleRender()}remove(t){if(jv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K3(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((o||u||f)&&(s=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:_,rotate:b,rotateX:A,rotateY:S,skewX:M,skewY:k}=n;_&&(s=`perspective(${_}px) ${s}`),b&&(s+=`rotate(${b}deg) `),A&&(s+=`rotateX(${A}deg) `),S&&(s+=`rotateY(${S}deg) `),M&&(s+=`skewX(${M}deg) `),k&&(s+=`skewY(${k}deg) `)}const m=e.x.scale*t.x,y=e.y.scale*t.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const wy=["","X","Y","Z"],Y3=1e3;let $3=0;function Sy(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function ZC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=DC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&ZC(s)}function KC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},m=t?.()){this.id=$3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J3),this.nodes.forEach(iz),this.nodes.forEach(sz),this.nodes.forEach(tz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new V3)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new zv),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const y=this.eventHandlers.get(f);y&&y.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=r0(f)&&!H4(f),this.instance=f;const{layoutId:m,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),e){let b,A=0;const S=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{A=window.innerWidth}),e(f,()=>{const M=window.innerWidth;M!==A&&(A=M,this.root.updateBlockedByResize=!0,b&&b(),b=j3(S,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(lx)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||y)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:A,hasRelativeLayoutChanged:S,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||_.getDefaultTransition()||uz,{onLayoutAnimationStart:B,onLayoutAnimationComplete:q}=_.getProps(),G=!this.targetLayout||!WC(this.targetLayout,M),nt=!A&&S;if(this.options.layoutRoot||this.resumeFrom||nt||A&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...e0(k,"layout"),onPlay:B,onComplete:q};(_.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(b,nt)}else A||lx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rz),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const A=this.path[b];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ax);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ox);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nz),this.nodes.forEach(X3),this.nodes.forEach(Q3)):this.nodes.forEach(ox),this.clearAllSnapshots();const m=qi.now();qn.delta=Fr(0,1e3/60,m-qn.timestamp),qn.timestamp=m,qn.isProcessing=!0,dy.update.process(qn),dy.preRender.process(qn),dy.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ez),this.sharedNodes.forEach(az)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ai(this.snapshot.measuredBox.x)&&!Ai(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!GC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,b=_!==this.prevTransformTemplateValue;f&&this.instance&&(m||Sl(this.latestValues)||b)&&(o(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return f&&(y=this.removeTransform(y)),cz(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return dn();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hz))){const{scroll:_}=this.root;_&&(Mu(m.x,_.offset.x),Mu(m.y,_.offset.y))}return m}removeElementScroll(f){const m=dn();if(Vs(m,f),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:b,options:A}=_;_!==this.root&&b&&A.layoutScroll&&(b.wasRoot&&Vs(m,f),Mu(m.x,b.offset.x),Mu(m.y,b.offset.y))}return m}applyTransform(f,m=!1){const y=dn();Vs(y,f);for(let _=0;_<this.path.length;_++){const b=this.path[_];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Du(y,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Sl(b.latestValues)&&Du(y,b.latestValues)}return Sl(this.latestValues)&&Du(y,this.latestValues),y}removeTransform(f){const m=dn();Vs(m,f);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!Sl(_.latestValues))continue;y_(_.latestValues)&&_.updateSnapshot();const b=dn(),A=_.measurePageBox();Vs(b,A),tx(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,b)}return Sl(this.latestValues)&&tx(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:A}=this.options;if(!(!this.layout||!(b||A))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),xh(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vs(this.target,this.layout.layoutBox),RC(this.target,this.targetDelta)):Vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),xh(this.relativeTargetOrigin,this.target,S.target),Vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||y_(this.parent.latestValues)||AC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(y=!1),y)return;const{layout:_,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||b))return;Vs(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,S=this.treeScale.y;CU(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=dn());const{target:M}=f;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XS(this.prevProjectionDelta.x,this.projectionDelta.x),XS(this.prevProjectionDelta.y,this.projectionDelta.y)),Sh(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==S||!rx(this.projectionDelta.x,this.prevProjectionDelta.x)||!rx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nu(),this.projectionDelta=Nu(),this.projectionDeltaWithTransform=Nu()}setAnimationOrigin(f,m=!1){const y=this.snapshot,_=y?y.latestValues:{},b={...this.latestValues},A=Nu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=dn(),M=y?y.source:void 0,k=this.layout?this.layout.source:void 0,B=M!==k,q=this.getStack(),G=!q||q.members.length<=1,nt=!!(B&&!G&&this.options.crossfade===!0&&!this.path.some(lz));this.animationProgress=0;let K;this.mixTargetDelta=pt=>{const ut=pt/1e3;ux(A.x,f.x,ut),ux(A.y,f.y,ut),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xh(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oz(this.relativeTarget,this.relativeTargetOrigin,S,ut),K&&W3(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=dn()),Vs(K,this.relativeTarget)),B&&(this.animationValues=b,z3(b,_,this.latestValues,ut,nt,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ut},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Jd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lr(0)),this.currentAnimation=O3(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:y,layout:_,latestValues:b}=f;if(!(!m||!y||!_)){if(this!==f&&this.layout&&_&&YC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||dn();const A=Ai(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+A;const S=Ai(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+S}Vs(m,y),Du(m,b),Sh(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new Z3),this.sharedNodes.get(f).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const _={};y.z&&Sy("z",f,_,this.animationValues);for(let b=0;b<wy.length;b++)Sy(`rotate${wy[b]}`,f,_,this.animationValues),Sy(`skew${wy[b]}`,f,_,this.animationValues);f.render();for(const b in _)f.setStaticValue(b,_[b]),this.animationValues&&(this.animationValues[b]=_[b]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Qd(m?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Qd(m?.pointerEvents)||""),this.hasProjected&&!Sl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const b=_.animationValues||_.latestValues;this.applyTransformsToTarget();let A=K3(this.projectionDeltaWithTransform,this.treeScale,b);y&&(A=y(b,A)),f.transform=A;const{x:S,y:M}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${M.origin*100}% 0`,_.animationValues?f.opacity=_===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=_===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const k in Gh){if(b[k]===void 0)continue;const{correct:B,applyTo:q,isCSSVariable:G}=Gh[k],nt=A==="none"?b[k]:B(b[k],_);if(q){const K=q.length;for(let pt=0;pt<K;pt++)f[q[pt]]=nt}else G?this.options.visualElement.renderState.vars[k]=nt:f[k]=nt}this.options.layoutId&&(f.pointerEvents=_===this?Qd(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(ax),this.root.sharedNodes.clear()}}}function X3(e){e.updateLayout()}function Q3(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?js(b=>{const A=u?t.measuredBox[b]:t.layoutBox[b],S=Ai(A);A.min=n[b].min,A.max=A.min+S}):YC(o,t.layoutBox,n)&&js(b=>{const A=u?t.measuredBox[b]:t.layoutBox[b],S=Ai(n[b]);A.max=A.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[b].max=e.relativeTarget[b].min+S)});const f=Nu();Sh(f,n,t.layoutBox);const m=Nu();u?Sh(m,e.applyTransform(s,!0),t.measuredBox):Sh(m,n,t.layoutBox);const y=!GC(f);let _=!1;if(!e.resumeFrom){const b=e.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:A,layout:S}=b;if(A&&S){const M=dn();xh(M,t.layoutBox,A.layoutBox);const k=dn();xh(k,n,S.layoutBox),WC(M,k)||(_=!0),b.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=M,e.relativeParent=b)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function J3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ez(e){e.clearSnapshot()}function ax(e){e.clearMeasurements()}function ox(e){e.isLayoutDirty=!1}function nz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iz(e){e.resolveTargetDelta()}function sz(e){e.calcProjection()}function rz(e){e.resetSkewAndRotation()}function az(e){e.removeLeadSnapshot()}function ux(e,t,n){e.translate=en(t.translate,0,n),e.scale=en(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cx(e,t,n,s){e.min=en(t.min,n.min,s),e.max=en(t.max,n.max,s)}function oz(e,t,n,s){cx(e.x,t.x,n.x,s),cx(e.y,t.y,n.y,s)}function lz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uz={duration:.45,ease:[.4,0,.1,1]},hx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fx=hx("applewebkit/")&&!hx("chrome/")?Math.round:Wi;function dx(e){e.min=fx(e.min),e.max=fx(e.max)}function cz(e){dx(e.x),dx(e.y)}function YC(e,t,n){return e==="position"||e==="preserve-aspect"&&!g3(sx(t),sx(n),.2)}function hz(e){return e!==e.root&&e.scroll?.wasRoot}const fz=KC({attachResizeListener:(e,t)=>Zh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xy={current:void 0},$C=KC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xy.current){const e=new fz({});e.mount(window),e.setOptions({layoutScroll:!0}),xy.current=e}return xy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dz={pan:{Feature:L3},drag:{Feature:P3,ProjectionNode:$C,MeasureLayout:FC}};function mx(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&Le.postRender(()=>u(t,pf(t)))}class mz extends Ko{mount(){const{current:t}=this.node;t&&(this.unmount=I4(t,(n,s)=>(mx(this.node,s,"Start"),o=>mx(this.node,o,"End"))))}unmount(){}}class pz extends Ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ff(Zh(this.node.current,"focus",()=>this.onFocus()),Zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function px(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&Le.postRender(()=>u(t,pf(t)))}class gz extends Ko{mount(){const{current:t}=this.node;t&&(this.unmount=D4(t,(n,s)=>(px(this.node,s,"Start"),(o,{success:u})=>px(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S_=new WeakMap,Ay=new WeakMap,yz=e=>{const t=S_.get(e.target);t&&t(e)},_z=e=>{e.forEach(yz)};function vz({root:e,...t}){const n=e||document;Ay.has(n)||Ay.set(n,{});const s=Ay.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(_z,{root:e,...t})),s[o]}function Tz(e,t,n){const s=vz(t);return S_.set(e,n),s.observe(e),()=>{S_.delete(e),s.unobserve(e)}}const Ez={some:0,all:1};class bz extends Ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Ez[o]},m=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,u&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:b,onViewportLeave:A}=this.node.getProps(),S=_?b:A;S&&S(y)};return Tz(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wz(t,n))&&this.startObserver()}unmount(){}}function wz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Sz={inView:{Feature:bz},tap:{Feature:gz},focus:{Feature:pz},hover:{Feature:mz}},xz={layout:{ProjectionNode:$C,MeasureLayout:FC}},Az={...c3,...Sz,...dz,...xz},eh=xU(Az,jU),Rz=50,gx=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Cz=()=>({time:0,x:gx(),y:gx()}),Iz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function yx(e,t,n,s){const o=n[t],{length:u,position:f}=Iz[t],m=o.current,y=n.time;o.current=e[`scroll${f}`],o.scrollLength=e[`scroll${u}`]-e[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Zu(0,o.scrollLength,o.current);const _=s-y;o.velocity=_>Rz?0:Bv(o.current-m,_)}function Pz(e,t,n){yx(e,"x",t,n),yx(e,"y",t,n),t.time=n}function Lz(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(aC(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const u=s.getBoundingClientRect();n.x+=o.left-u.left,n.y+=o.top-u.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:u}=s.getBBox();n.x+=o,n.y+=u;let f=null,m=s.parentNode;for(;!f;)m.tagName==="svg"&&(f=m),m=s.parentNode;s=f}else break;return n}const x_={start:0,center:.5,end:1};function _x(e,t,n=0){let s=0;if(e in x_&&(e=x_[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(s=t*e),n+s}const Mz=[0,0];function Dz(e,t,n,s){let o=Array.isArray(e)?e:Mz,u=0,f=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,x_[e]?e:"0"]),u=_x(o[0],n,s),f=_x(o[1],t),u-f}const Nz={All:[[0,0],[1,1]]},Oz={x:0,y:0};function kz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Vz(e,t,n){const{offset:s=Nz.All}=n,{target:o=e,axis:u="y"}=n,f=u==="y"?"height":"width",m=o!==e?Lz(o,e):Oz,y=o===e?{width:e.scrollWidth,height:e.scrollHeight}:kz(o),_={width:e.clientWidth,height:e.clientHeight};t[u].offset.length=0;let b=!t[u].interpolate;const A=s.length;for(let S=0;S<A;S++){const M=Dz(s[S],_[f],y[f],m[u]);!b&&M!==t[u].interpolatorOffsets[S]&&(b=!0),t[u].offset[S]=M}b&&(t[u].interpolate=$v(t[u].offset,HR(s),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=Fr(0,1,t[u].interpolate(t[u].current))}function jz(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function Uz(e,t,n,s={}){return{measure:o=>{jz(e,s.target,n),Pz(e,n,o),(s.offset||s.target)&&Vz(e,n,s)},notify:()=>t(n)}}const nh=new WeakMap,vx=new WeakMap,Ry=new WeakMap,Tx=e=>e===document.scrollingElement?window:e;function XC(e,{container:t=document.scrollingElement,...n}={}){if(!t)return Wi;let s=Ry.get(t);s||(s=new Set,Ry.set(t,s));const o=Cz(),u=Uz(t,e,o,n);if(s.add(u),!nh.has(t)){const m=()=>{for(const A of s)A.measure(qn.timestamp);Le.preUpdate(y)},y=()=>{for(const A of s)A.notify()},_=()=>Le.read(m);nh.set(t,_);const b=Tx(t);window.addEventListener("resize",_,{passive:!0}),t!==document.documentElement&&vx.set(t,F4(t,_)),b.addEventListener("scroll",_,{passive:!0}),_()}const f=nh.get(t);return Le.read(f,!1,!0),()=>{hr(f);const m=Ry.get(t);if(!m||(m.delete(u),m.size))return;const y=nh.get(t);nh.delete(t),y&&(Tx(t).removeEventListener("scroll",y),vx.get(t)?.(),window.removeEventListener("resize",y))}}const Ex=new Map;function zz(e){const t={value:0},n=XC(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function QC({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const o=Ex.get(t)??new Map;Ex.set(t,o);const u=n.target??"self",f=o.get(u)??{},m=s+(n.offset??[]).join(",");return f[m]||(f[m]=!n.target&&ZR()?new ScrollTimeline({source:t,axis:s}):zz({container:t,...n})),f[m]}function Bz(e,t){const n=QC(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),hC(o=>{s.time=s.duration*o},n))})}function Fz(e){return e.length===2}function Hz(e,t){return Fz(e)?XC(n=>{e(n[t.axis].progress,n)},t):hC(e,QC(t))}function qz(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return Wi;const o={axis:t,container:n,...s};return typeof e=="function"?Hz(e,o):Bz(e,o)}const Gz=()=>({scrollX:lr(0),scrollY:lr(0),scrollXProgress:lr(0),scrollYProgress:lr(0)}),Id=e=>e?!e.current:!1;function Wz({container:e,target:t,...n}={}){const s=ap(Gz),o=N.useRef(null),u=N.useRef(!1),f=N.useCallback(()=>(o.current=qz((m,{x:y,y:_})=>{s.scrollX.set(y.current),s.scrollXProgress.set(y.progress),s.scrollY.set(_.current),s.scrollYProgress.set(_.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{o.current?.()}),[e,t,JSON.stringify(n.offset)]);return Ov(()=>{if(u.current=!1,Id(e)||Id(t)){u.current=!0;return}else return f()},[f]),N.useEffect(()=>{if(u.current)return Bh(!Id(e)),Bh(!Id(t)),f()},[f]),s}function Zz(e){const t=ap(()=>lr(e)),{isStatic:n}=N.useContext(a0);if(n){const[,s]=N.useState(e);N.useEffect(()=>t.on("change",s),[])}return t}function JC(e,t){const n=Zz(t()),s=()=>n.set(t());return s(),Ov(()=>{const o=()=>Le.preRender(s,!1,!0),u=e.map(f=>f.on("change",o));return()=>{u.forEach(f=>f()),hr(s)}}),n}function Kz(e){bh.current=[],e();const t=JC(bh.current,e);return bh.current=void 0,t}function wu(e,t,n,s){if(typeof e=="function")return Kz(e);const o=typeof t=="function"?t:q4(t,n,s);return Array.isArray(e)?bx(e,o):bx([e],([u])=>o(u))}function bx(e,t){const n=ap(()=>[]);return JC(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Yz(e,t){const n=N.useRef(t);N.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function $z(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const Xz=1;function Qz(e){return Object.freeze({__version:Xz,map:e})}function g0(e,t){return Object.freeze({...e,...t})}const y0=N.createContext(null);function _0(){const e=N.use(y0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function tI(e){function t(n,s){const{instance:o,context:u}=e(n).current;N.useImperativeHandle(s,()=>o);const{children:f}=n;return f==null?null:tm.createElement(y0,{value:u},f)}return N.forwardRef(t)}function Jz(e){function t(n,s){const{instance:o}=e(n).current;return N.useImperativeHandle(s,()=>o),null}return N.forwardRef(t)}function eI(e,t){const n=N.useRef(void 0);N.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function v0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var fh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var tB=fh.exports,wx;function eB(){return wx||(wx=1,function(e,t){(function(n,s){s(t)})(tB,function(n){var s="1.9.4";function o(a){var c,p,T,x;for(p=1,T=arguments.length;p<T;p++){x=arguments[p];for(c in x)a[c]=x[c]}return a}var u=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function f(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var T=p.call(arguments,2);return function(){return a.apply(c,T.length?T.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function _(a,c,p){var T,x,I,U;return U=function(){T=!1,x&&(I.apply(p,x),x=!1)},I=function(){T?x=arguments:(a.apply(p,arguments),setTimeout(U,c),T=!0)},I}function b(a,c,p){var T=c[1],x=c[0],I=T-x;return a===T&&p?a:((a-x)%I+I)%I+x}function A(){return!1}function S(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function M(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return M(a).split(/\s+/)}function B(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function q(a,c,p){var T=[];for(var x in a)T.push(encodeURIComponent(p?x.toUpperCase():x)+"="+encodeURIComponent(a[x]));return(!c||c.indexOf("?")===-1?"?":"&")+T.join("&")}var G=/\{ *([\w_ -]+) *\}/g;function nt(a,c){return a.replace(G,function(p,T){var x=c[T];if(x===void 0)throw new Error("No value provided for variable "+p);return typeof x=="function"&&(x=x(c)),x})}var K=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function pt(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var ut="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var H=0;function O(a){var c=+new Date,p=Math.max(0,16-(c-H));return H=c+p,window.setTimeout(a,p)}var V=window.requestAnimationFrame||xt("RequestAnimationFrame")||O,W=window.cancelAnimationFrame||xt("CancelAnimationFrame")||xt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Z(a,c,p){if(p&&V===O)a.call(c);else return V.call(window,f(a,c))}function $(a){a&&W.call(window,a)}var F={__proto__:null,extend:o,create:u,bind:f,get lastId(){return m},stamp:y,throttle:_,wrapNum:b,falseFn:A,formatNum:S,trim:M,splitWords:k,setOptions:B,getParamString:q,template:nt,isArray:K,indexOf:pt,emptyImageUrl:ut,requestFn:V,cancelFn:W,requestAnimFrame:Z,cancelAnimFrame:$};function Se(){}Se.extend=function(a){var c=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,T=u(p);T.constructor=c,c.prototype=T;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(c[x]=this[x]);return a.statics&&o(c,a.statics),a.includes&&(je(a.includes),o.apply(null,[T].concat(a.includes))),o(T,a),delete T.statics,delete T.includes,T.options&&(T.options=p.options?u(p.options):{},o(T.options,a.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,U=T._initHooks.length;I<U;I++)T._initHooks[I].call(this)}},c},Se.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Se.mergeOptions=function(a){return o(this.prototype.options,a),this},Se.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function je(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=K(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var lt={on:function(a,c,p){if(typeof a=="object")for(var T in a)this._on(T,a[T],c);else{a=k(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var T in a)this._off(T,a[T],c);else{a=k(a);for(var x=arguments.length===1,I=0,U=a.length;I<U;I++)x?this._off(a[I]):this._off(a[I],c,p)}return this},_on:function(a,c,p,T){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var x={fn:c,ctx:p};T&&(x.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(x)}},_off:function(a,c,p){var T,x,I;if(this._events&&(T=this._events[a],!!T)){if(arguments.length===1){if(this._firingCount)for(x=0,I=T.length;x<I;x++)T[x].fn=A;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var U=this._listens(a,c,p);if(U!==!1){var J=T[U];this._firingCount&&(J.fn=A,this._events[a]=T=T.slice()),T.splice(U,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var T=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var x=this._events[a];if(x){this._firingCount=this._firingCount+1||1;for(var I=0,U=x.length;I<U;I++){var J=x[I],at=J.fn;J.once&&this.off(a,at,J.ctx),at.call(J.ctx||this,T)}this._firingCount--}}return p&&this._propagateEvent(T),this},listens:function(a,c,p,T){typeof a!="string"&&console.warn('"string" type argument expected');var x=c;typeof c!="function"&&(T=!!c,x=void 0,p=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,x,p)!==!1)return!0;if(T){for(var U in this._eventParents)if(this._eventParents[U].listens(a,c,p,T))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var T=this._events[a]||[];if(!c)return!!T.length;p===this&&(p=void 0);for(var x=0,I=T.length;x<I;x++)if(T[x].fn===c&&T[x].ctx===p)return x;return!1},once:function(a,c,p){if(typeof a=="object")for(var T in a)this._on(T,a[T],c,!0);else{a=k(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};lt.addEventListener=lt.on,lt.removeEventListener=lt.clearAllEventListeners=lt.off,lt.addOneTimeEventListener=lt.once,lt.fireEvent=lt.fire,lt.hasEventListeners=lt.listens;var Tt=Se.extend(lt);function yt(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var te=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(a){return this.clone()._add(j(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(j(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new yt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new yt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(a){a=j(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=j(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=j(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function j(a,c,p){return a instanceof yt?a:K(a)?new yt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new yt(a.x,a.y):new yt(a,c,p)}function ct(a,c){if(a)for(var p=c?[a,c]:a,T=0,x=p.length;T<x;T++)this.extend(p[T])}ct.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof yt||typeof a[0]=="number"||"x"in a)c=p=j(a);else if(a=Et(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof yt?a=j(a):a=Et(a),a instanceof ct?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=Et(a);var c=this.min,p=this.max,T=a.min,x=a.max,I=x.x>=c.x&&T.x<=p.x,U=x.y>=c.y&&T.y<=p.y;return I&&U},overlaps:function(a){a=Et(a);var c=this.min,p=this.max,T=a.min,x=a.max,I=x.x>c.x&&T.x<p.x,U=x.y>c.y&&T.y<p.y;return I&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,T=Math.abs(c.x-p.x)*a,x=Math.abs(c.y-p.y)*a;return Et(j(c.x-T,c.y-x),j(p.x+T,p.y+x))},equals:function(a){return a?(a=Et(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Et(a,c){return!a||a instanceof ct?a:new ct(a,c)}function vt(a,c){if(a)for(var p=c?[a,c]:a,T=0,x=p.length;T<x;T++)this.extend(p[T])}vt.prototype={extend:function(a){var c=this._southWest,p=this._northEast,T,x;if(a instanceof Pt)T=a,x=a;else if(a instanceof vt){if(T=a._southWest,x=a._northEast,!T||!x)return this}else return a?this.extend(St(a)||wt(a)):this;return!c&&!p?(this._southWest=new Pt(T.lat,T.lng),this._northEast=new Pt(x.lat,x.lng)):(c.lat=Math.min(T.lat,c.lat),c.lng=Math.min(T.lng,c.lng),p.lat=Math.max(x.lat,p.lat),p.lng=Math.max(x.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,T=Math.abs(c.lat-p.lat)*a,x=Math.abs(c.lng-p.lng)*a;return new vt(new Pt(c.lat-T,c.lng-x),new Pt(p.lat+T,p.lng+x))},getCenter:function(){return new Pt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Pt||"lat"in a?a=St(a):a=wt(a);var c=this._southWest,p=this._northEast,T,x;return a instanceof vt?(T=a.getSouthWest(),x=a.getNorthEast()):T=x=a,T.lat>=c.lat&&x.lat<=p.lat&&T.lng>=c.lng&&x.lng<=p.lng},intersects:function(a){a=wt(a);var c=this._southWest,p=this._northEast,T=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>=c.lat&&T.lat<=p.lat,U=x.lng>=c.lng&&T.lng<=p.lng;return I&&U},overlaps:function(a){a=wt(a);var c=this._southWest,p=this._northEast,T=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>c.lat&&T.lat<p.lat,U=x.lng>c.lng&&T.lng<p.lng;return I&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=wt(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function wt(a,c){return a instanceof vt?a:new vt(a,c)}function Pt(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Pt.prototype={equals:function(a,c){if(!a)return!1;a=St(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+S(this.lat,a)+", "+S(this.lng,a)+")"},distanceTo:function(a){return ee.distance(this,St(a))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return wt([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Pt(this.lat,this.lng,this.alt)}};function St(a,c,p){return a instanceof Pt?a:K(a)&&typeof a[0]!="object"?a.length===3?new Pt(a[0],a[1],a[2]):a.length===2?new Pt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Pt(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Pt(a,c,p)}var Ee={latLngToPoint:function(a,c){var p=this.projection.project(a),T=this.scale(c);return this.transformation._transform(p,T)},pointToLatLng:function(a,c){var p=this.scale(c),T=this.transformation.untransform(a,p);return this.projection.unproject(T)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),T=this.transformation.transform(c.min,p),x=this.transformation.transform(c.max,p);return new ct(T,x)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?b(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?b(a.lat,this.wrapLat,!0):a.lat,T=a.alt;return new Pt(p,c,T)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),T=c.lat-p.lat,x=c.lng-p.lng;if(T===0&&x===0)return a;var I=a.getSouthWest(),U=a.getNorthEast(),J=new Pt(I.lat-T,I.lng-x),at=new Pt(U.lat-T,U.lng-x);return new vt(J,at)}},ee=o({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,T=a.lat*p,x=c.lat*p,I=Math.sin((c.lat-a.lat)*p/2),U=Math.sin((c.lng-a.lng)*p/2),J=I*I+Math.cos(T)*Math.cos(x)*U*U,at=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*at}}),Dn=6378137,sn={R:Dn,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,T=Math.max(Math.min(p,a.lat),-p),x=Math.sin(T*c);return new yt(this.R*a.lng*c,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(a){var c=180/Math.PI;return new Pt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=Dn*Math.PI;return new ct([-a,-a],[a,a])}()};function ei(a,c,p,T){if(K(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=T}ei.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new yt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function pe(a,c,p,T){return new ei(a,c,p,T)}var ni=o({},ee,{code:"EPSG:3857",projection:sn,transformation:function(){var a=.5/(Math.PI*sn.R);return pe(a,.5,-a,.5)}()}),Nn=o({},ni,{code:"EPSG:900913"});function ps(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Gr(a,c){var p="",T,x,I,U,J,at;for(T=0,I=a.length;T<I;T++){for(J=a[T],x=0,U=J.length;x<U;x++)at=J[x],p+=(x?"L":"M")+at.x+" "+at.y;p+=c?Ct.svg?"z":"x":""}return p||"M0 0"}var xn=document.documentElement.style,ve="ActiveXObject"in window,dr=ve&&!document.addEventListener,Ge="msLaunchUri"in navigator&&!("documentMode"in document),gi=Ue("webkit"),Ri=Ue("android"),Zi=Ue("android 2")||Ue("android 3"),On=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ki=Ri&&Ue("Google")&&On<537&&!("AudioNode"in window),Te=!!window.opera,re=!Ge&&Ue("chrome"),An=Ue("gecko")&&!gi&&!Te&&!ve,Ke=!re&&Ue("safari"),gs=Ue("phantom"),Yi="OTransition"in xn,$i=navigator.platform.indexOf("Win")===0,Ci=ve&&"transition"in xn,yi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zi,pn="MozPerspective"in xn,ys=!window.L_DISABLE_3D&&(Ci||yi||pn)&&!Yi&&!gs,_i=typeof orientation<"u"||Ue("mobile"),Ii=_i&&gi,mr=_i&&yi,pr=!window.PointerEvent&&window.MSPointerEvent,Pi=!!(window.PointerEvent||pr),Li="ontouchstart"in window||!!window.TouchEvent,Wr=!window.L_NO_TOUCH&&(Li||Pi),Mi=_i&&Te,Zr=_i&&An,_s=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,it=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return a}(),It=function(){return!!document.createElement("canvas").getContext}(),jt=!!(document.createElementNS&&ps("svg").createSVGRect),Mt=!!jt&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$t=!jt&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),ae=navigator.platform.indexOf("Mac")===0,me=navigator.platform.indexOf("Linux")===0;function Ue(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ct={ie:ve,ielt9:dr,edge:Ge,webkit:gi,android:Ri,android23:Zi,androidStock:Ki,opera:Te,chrome:re,gecko:An,safari:Ke,phantom:gs,opera12:Yi,win:$i,ie3d:Ci,webkit3d:yi,gecko3d:pn,any3d:ys,mobile:_i,mobileWebkit:Ii,mobileWebkit3d:mr,msPointer:pr,pointer:Pi,touch:Wr,touchNative:Li,mobileOpera:Mi,mobileGecko:Zr,retina:_s,passiveEvents:it,canvas:It,svg:jt,vml:$t,inlineSvg:Mt,mac:ae,linux:me},Di=Ct.msPointer?"MSPointerDown":"pointerdown",vs=Ct.msPointer?"MSPointerMove":"pointermove",ii=Ct.msPointer?"MSPointerUp":"pointerup",Ts=Ct.msPointer?"MSPointerCancel":"pointercancel",si={touchstart:Di,touchmove:vs,touchend:ii,touchcancel:Ts},Xi={touchstart:Yr,touchmove:Kr,touchend:Kr,touchcancel:Kr},Wn={},kn=!1;function Qe(a,c,p){return c==="touchstart"&&zl(),Xi[c]?(p=Xi[c].bind(this,p),a.addEventListener(si[c],p,!1),p):(console.warn("wrong event specified:",c),A)}function Yo(a,c,p){if(!si[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(si[c],p,!1)}function Ma(a){Wn[a.pointerId]=a}function Qi(a){Wn[a.pointerId]&&(Wn[a.pointerId]=a)}function Es(a){delete Wn[a.pointerId]}function zl(){kn||(document.addEventListener(Di,Ma,!0),document.addEventListener(vs,Qi,!0),document.addEventListener(ii,Es,!0),document.addEventListener(Ts,Es,!0),kn=!0)}function Kr(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Wn)c.touches.push(Wn[p]);c.changedTouches=[c],a(c)}}function Yr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Me(c),Kr(a,c)}function Bl(a){var c={},p,T;for(T in a)p=a[T],c[T]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var gr=200;function bs(a,c){a.addEventListener("dblclick",c);var p=0,T;function x(I){if(I.detail!==1){T=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var U=Oa(I);if(!(U.some(function(at){return at instanceof HTMLLabelElement&&at.attributes.for})&&!U.some(function(at){return at instanceof HTMLInputElement||at instanceof HTMLSelectElement}))){var J=Date.now();J-p<=gr?(T++,T===2&&c(Bl(I))):T=1,p=J}}}return a.addEventListener("click",x),{dblclick:c,simDblclick:x}}function Rn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Gs=Ji(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yr=Ji(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ws=yr==="webkitTransition"||yr==="OTransition"?yr+"End":"transitionend";function $r(a){return typeof a=="string"?document.getElementById(a):a}function Ss(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(a,null);p=T?T[c]:null}return p==="auto"?null:p}function ie(a,c,p){var T=document.createElement(a);return T.className=c||"",p&&p.appendChild(T),T}function xe(a){var c=a.parentNode;c&&c.removeChild(a)}function gn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function xs(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function _r(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function vr(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=We(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Kt(a,c){if(a.classList!==void 0)for(var p=k(c),T=0,x=p.length;T<x;T++)a.classList.add(p[T]);else if(!vr(a,c)){var I=We(a);$o(a,(I?I+" ":"")+c)}}function Ce(a,c){a.classList!==void 0?a.classList.remove(c):$o(a,M((" "+We(a)+" ").replace(" "+c+" "," ")))}function $o(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function We(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ze(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Xr(a,c)}function Xr(a,c){var p=!1,T="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(T)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+T+"(opacity="+c+")"}function Ji(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Zn(a,c,p){var T=c||new yt(0,0);a.style[Gs]=(Ct.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(p?" scale("+p+")":"")}function Ft(a,c){a._leaflet_pos=c,Ct.any3d?Zn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function vi(a){return a._leaflet_pos||new yt(0,0)}var Vn,ts,Da;if("onselectstart"in document)Vn=function(){Ut(window,"selectstart",Me)},ts=function(){ge(window,"selectstart",Me)};else{var Ws=Ji(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vn=function(){if(Ws){var a=document.documentElement.style;Da=a[Ws],a[Ws]="none"}},ts=function(){Ws&&(document.documentElement.style[Ws]=Da,Da=void 0)}}function Qr(){Ut(window,"dragstart",Me)}function Xo(){ge(window,"dragstart",Me)}var Na,Tr;function es(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Kn(),Na=a,Tr=a.style.outlineStyle,a.style.outlineStyle="none",Ut(window,"keydown",Kn))}function Kn(){Na&&(Na.style.outlineStyle=Tr,Na=void 0,Tr=void 0,ge(window,"keydown",Kn))}function As(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function ns(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Qo={__proto__:null,TRANSFORM:Gs,TRANSITION:yr,TRANSITION_END:ws,get:$r,getStyle:Ss,create:ie,remove:xe,empty:gn,toFront:xs,toBack:_r,hasClass:vr,addClass:Kt,removeClass:Ce,setClass:$o,getClass:We,setOpacity:ze,testProp:Ji,setTransform:Zn,setPosition:Ft,getPosition:vi,get disableTextSelection(){return Vn},get enableTextSelection(){return ts},disableImageDrag:Qr,enableImageDrag:Xo,preventOutline:es,restoreOutline:Kn,getSizedParentNode:As,getScale:ns};function Ut(a,c,p,T){if(c&&typeof c=="object")for(var x in c)Zs(a,x,c[x],p);else{c=k(c);for(var I=0,U=c.length;I<U;I++)Zs(a,c[I],p,T)}return this}var Ti="_leaflet_events";function ge(a,c,p,T){if(arguments.length===1)Ni(a),delete a[Ti];else if(c&&typeof c=="object")for(var x in c)Oi(a,x,c[x],p);else if(c=k(c),arguments.length===2)Ni(a,function(J){return pt(c,J)!==-1});else for(var I=0,U=c.length;I<U;I++)Oi(a,c[I],p,T);return this}function Ni(a,c){for(var p in a[Ti]){var T=p.split(/\d/)[0];(!c||c(T))&&Oi(a,T,null,null,p)}}var ri={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zs(a,c,p,T){var x=c+y(p)+(T?"_"+y(T):"");if(a[Ti]&&a[Ti][x])return this;var I=function(J){return p.call(T||a,J||window.event)},U=I;!Ct.touchNative&&Ct.pointer&&c.indexOf("touch")===0?I=Qe(a,c,I):Ct.touch&&c==="dblclick"?I=bs(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(ri[c]||c,I,Ct.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(J){J=J||window.event,Ys(a,J)&&U(J)},a.addEventListener(ri[c],I,!1)):a.addEventListener(c,U,!1):a.attachEvent("on"+c,I),a[Ti]=a[Ti]||{},a[Ti][x]=I}function Oi(a,c,p,T,x){x=x||c+y(p)+(T?"_"+y(T):"");var I=a[Ti]&&a[Ti][x];if(!I)return this;!Ct.touchNative&&Ct.pointer&&c.indexOf("touch")===0?Yo(a,c,I):Ct.touch&&c==="dblclick"?Rn(a,I):"removeEventListener"in a?a.removeEventListener(ri[c]||c,I,!1):a.detachEvent("on"+c,I),a[Ti][x]=null}function ai(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function is(a){return Zs(a,"wheel",ai),this}function Ks(a){return Ut(a,"mousedown touchstart dblclick contextmenu",ai),a._leaflet_disable_click=!0,this}function Me(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function jn(a){return Me(a),ai(a),this}function Oa(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function cn(a,c){if(!c)return new yt(a.clientX,a.clientY);var p=ns(c),T=p.boundingClientRect;return new yt((a.clientX-T.left)/p.x-c.clientLeft,(a.clientY-T.top)/p.y-c.clientTop)}var be=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jr(a){return Ct.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/be:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ys(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Fl={__proto__:null,on:Ut,off:ge,stopPropagation:ai,disableScrollPropagation:is,disableClickPropagation:Ks,preventDefault:Me,stop:jn,getPropagationPath:Oa,getMousePosition:cn,getWheelDelta:Jr,isExternalTarget:Ys,addListener:Ut,removeListener:ge},ta=Tt.extend({run:function(a,c,p,T){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=vi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ft(this._el,p),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Qt=Tt.extend({options:{crs:ni,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=B(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(St(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yr&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,ws,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(St(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var T=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var T=this.getZoomScale(c),x=this.getSize().divideBy(2),I=a instanceof yt?a:this.latLngToContainerPoint(a),U=I.subtract(x).multiplyBy(1-1/T),J=this.containerPointToLatLng(x.add(U));return this.setView(J,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():wt(a);var p=j(c.paddingTopLeft||c.padding||[0,0]),T=j(c.paddingBottomRight||c.padding||[0,0]),x=this.getBoundsZoom(a,!1,p.add(T));if(x=typeof c.maxZoom=="number"?Math.min(c.maxZoom,x):x,x===1/0)return{center:a.getCenter(),zoom:x};var I=T.subtract(p).divideBy(2),U=this.project(a.getSouthWest(),x),J=this.project(a.getNorthEast(),x),at=this.unproject(U.add(J).divideBy(2).add(I),x);return{center:at,zoom:x}},fitBounds:function(a,c){if(a=wt(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=j(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ta,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Kt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Ct.any3d)return this.setView(a,c,p);this._stop();var T=this.project(this.getCenter()),x=this.project(a),I=this.getSize(),U=this._zoom;a=St(a),c=c===void 0?U:c;var J=Math.max(I.x,I.y),at=J*this.getZoomScale(U,c),_t=x.distanceTo(T)||1,Rt=1.42,Dt=Rt*Rt;function Ot(Ye){var Ds=Ye?-1:1,er=Ye?at:J,Ar=at*at-J*J+Ds*Dt*Dt*_t*_t,nr=2*er*Dt*_t,dl=Ar/nr,eu=Math.sqrt(dl*dl+1)-dl,ml=eu<1e-9?-18:Math.log(eu);return ml}function Zt(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function Fe(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function Je(Ye){return Zt(Ye)/Fe(Ye)}var zn=Ot(0);function ki(Ye){return J*(Fe(zn)/Fe(zn+Rt*Ye))}function wf(Ye){return J*(Fe(zn)*Je(zn+Rt*Ye)-Zt(zn))/Dt}function Sf(Ye){return 1-Math.pow(1-Ye,1.5)}var fl=Date.now(),Qa=(Ot(1)-zn)/Rt,xf=p.duration?1e3*p.duration:1e3*Qa*.8;function Ja(){var Ye=(Date.now()-fl)/xf,Ds=Sf(Ye)*Qa;Ye<=1?(this._flyToFrame=Z(Ja,this),this._move(this.unproject(T.add(x.subtract(T).multiplyBy(wf(Ds)/_t)),U),this.getScaleZoom(J/ki(Ds),U),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Ja.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=wt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),T=this._limitCenter(p,this._zoom,wt(a));return p.equals(T)||this.panTo(T,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=j(c.paddingTopLeft||c.padding||[0,0]),T=j(c.paddingBottomRight||c.padding||[0,0]),x=this.project(this.getCenter()),I=this.project(a),U=this.getPixelBounds(),J=Et([U.min.add(p),U.max.subtract(T)]),at=J.getSize();if(!J.contains(I)){this._enforcingBounds=!0;var _t=I.subtract(J.getCenter()),Rt=J.extend(I).getSize().subtract(at);x.x+=_t.x<0?-Rt.x:Rt.x,x.y+=_t.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(x),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),T=c.divideBy(2).round(),x=p.divideBy(2).round(),I=T.subtract(x);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,T=new Pt(c,p),x=T.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var U=this.getBoundsZoom(x);this.setView(T,I.maxZoom?Math.min(U,I.maxZoom):U)}var J={latlng:T,bounds:x,timestamp:a.timestamp};for(var at in a.coords)typeof a.coords[at]=="number"&&(J[at]=a.coords[at]);this.fire("locationfound",J)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)xe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),T=ie("div",p,c||this._mapPane);return a&&(this._panes[a]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new vt(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=wt(a),p=j(p||[0,0]);var T=this.getZoom()||0,x=this.getMinZoom(),I=this.getMaxZoom(),U=a.getNorthWest(),J=a.getSouthEast(),at=this.getSize().subtract(p),_t=Et(this.project(J,T),this.project(U,T)).getSize(),Rt=Ct.any3d?this.options.zoomSnap:1,Dt=at.x/_t.x,Ot=at.y/_t.y,Zt=c?Math.max(Dt,Ot):Math.min(Dt,Ot);return T=this.getScaleZoom(Zt,T),Rt&&(T=Math.round(T/(Rt/100))*(Rt/100),T=c?Math.ceil(T/Rt)*Rt:Math.floor(T/Rt)*Rt),Math.max(x,Math.min(I,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new yt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new ct(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var T=p.zoom(a*p.scale(c));return isNaN(T)?1/0:T},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(St(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(j(a),c)},layerPointToLatLng:function(a){var c=j(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(St(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(St(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(wt(a))},distance:function(a,c){return this.options.crs.distance(St(a),St(c))},containerPointToLayerPoint:function(a){return j(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return j(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(j(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(St(a)))},mouseEventToContainerPoint:function(a){return cn(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=$r(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,Kt(a,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ss(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new yt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Kt(a.markerPane,"leaflet-zoom-hide"),Kt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ft(this._mapPane,new yt(0,0));var T=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var x=this._zoom!==c;this._moveStart(x,p)._move(a,c)._moveEnd(x),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,T){c===void 0&&(c=this._zoom);var x=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),T?p&&p.pinch&&this.fire("zoom",p):((x||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ft(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?ge:Ut;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],T,x=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,U=!1;I;){if(T=this._targets[y(I)],T&&(c==="click"||c==="preclick")&&this._draggableMoved(T)){U=!0;break}if(T&&T.listens(c,!0)&&(x&&!Ys(I,a)||(p.push(T),x))||I===this._container)break;I=I.parentNode}return!p.length&&!U&&!x&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&es(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var T=o({},a);T.type="preclick",this._fireDOMEvent(T,T.type,p)}var x=this._findEventTargets(a,c);if(p){for(var I=[],U=0;U<p.length;U++)p[U].listens(c,!0)&&I.push(p[U]);x=I.concat(x)}if(x.length){c==="contextmenu"&&Me(a);var J=x[0],at={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var _t=J.getLatLng&&(!J._radius||J._radius<=10);at.containerPoint=_t?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),at.layerPoint=this.containerPointToLayerPoint(at.containerPoint),at.latlng=_t?J.getLatLng():this.layerPointToLatLng(at.layerPoint)}for(U=0;U<x.length;U++)if(x[U].fire(c,at,!0),at.originalEvent._stopped||x[U].options.bubblingMouseEvents===!1&&pt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return vi(this._mapPane)||new yt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var T=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(T)},_latLngBoundsToNewLayerBounds:function(a,c,p){var T=this._getNewPixelOrigin(p,c);return Et([this.project(a.getSouthWest(),c)._subtract(T),this.project(a.getNorthWest(),c)._subtract(T),this.project(a.getSouthEast(),c)._subtract(T),this.project(a.getNorthEast(),c)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var T=this.project(a,c),x=this.getSize().divideBy(2),I=new ct(T.subtract(x),T.add(x)),U=this._getBoundsOffset(I,p,c);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?a:this.unproject(T.add(U),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),T=new ct(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(T,c))},_getBoundsOffset:function(a,c,p){var T=Et(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),x=T.min.subtract(a.min),I=T.max.subtract(a.max),U=this._rebound(x.x,-I.x),J=this._rebound(x.y,-I.y);return new yt(U,J)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),T=Ct.any3d?this.options.zoomSnap:1;return T&&(a=Math.round(a/T)*T),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=Gs,T=this._proxy.style[p];Zn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),T===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Zn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(c),x=this._getCenterOffset(a)._divideBy(1-1/T);return p.animate!==!0&&!this.getSize().contains(x)?!1:(Z(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,T){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rs(a,c){return new Qt(a,c)}var Cn=Se.extend({options:{position:"topright"},initialize:function(a){B(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),T=a._controlCorners[p];return Kt(c,"leaflet-control"),p.indexOf("bottom")!==-1?T.insertBefore(c,T.firstChild):T.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Un=function(a){return new Cn(a)};Qt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=ie("div",c+"control-container",this._container);function T(x,I){var U=c+x+" "+c+I;a[x+I]=ie("div",U,p)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)xe(this._controlCorners[a]);xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Jo=Cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,T){return p<T?-1:T<p?1:0}},initialize:function(a,c,p){B(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in a)this._addLayer(a[T],T);for(T in c)this._addLayer(c[T],T,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Cn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=ie("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ks(c),is(c);var T=this._section=ie("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ut(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=ie("a",a+"-toggle",c);x.href="#",x.title="Layers",x.setAttribute("role","button"),Ut(x,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Me(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=ie("div",a+"-base",T),this._separator=ie("div",a+"-separator",T),this._overlaysList=ie("div",a+"-overlays",T),c.appendChild(T)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(T,x){return this.options.sortFunction(T.layer,x.layer,T.name,x.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var a,c,p,T,x=0;for(p=0;p<this._layers.length;p++)T=this._layers[p],this._addItem(T),c=c||T.overlay,a=a||!T.overlay,x+=T.overlay?0:1;return this.options.hideSingleBase&&(a=a&&x>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=p,T.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),T;a.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=p):T=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(T),T.layerId=y(a.layer),Ut(T,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(T),I.appendChild(x);var U=a.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,T=[],x=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],p=this._getLayer(c.layerId).layer,c.checked?T.push(p):c.checked||x.push(p);for(I=0;I<x.length;I++)this._map.hasLayer(x[I])&&this._map.removeLayer(x[I]);for(I=0;I<T.length;I++)this._map.hasLayer(T[I])||this._map.addLayer(T[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,T=this._map.getZoom(),x=a.length-1;x>=0;x--)c=a[x],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&T<p.options.minZoom||p.options.maxZoom!==void 0&&T>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ut(a,"click",Me),this.expand();var c=this;setTimeout(function(){ge(a,"click",Me),c._preventClick=!1})}}),uc=function(a,c,p){return new Jo(a,c,p)},$s=Cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=ie("div",c+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,T,x){var I=ie("a",p,T);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),Ks(I),Ut(I,"click",jn),Ut(I,"click",x,this),Ut(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Ce(this._zoomInButton,c),Ce(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Kt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Kt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $s,this.addControl(this.zoomControl))});var ka=function(a){return new $s(a)},Va=Cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=ie("div",c),T=this.options;return this._addScales(T,c+"-line",p),a.on(T.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=ie("div",c,p)),a.imperial&&(this._iScale=ie("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,T,x;c>5280?(p=c/5280,T=this._getRoundNum(p),this._updateScale(this._iScale,T+" mi",T/p)):(x=this._getRoundNum(c),this._updateScale(this._iScale,x+" ft",x/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),ja=function(a){return new Va(a)},Hl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Er=Cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?Hl+" ":"")+"Leaflet</a>"},initialize:function(a){B(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),Ks(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new Er().addTo(this)});var cc=function(a){return new Er(a)};Cn.Layers=Jo,Cn.Zoom=$s,Cn.Scale=Va,Cn.Attribution=Er,Un.layers=uc,Un.zoom=ka,Un.scale=ja,Un.attribution=cc;var oi=Se.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(a,c){return a.addHandler(c,this),this};var ea={Events:lt},tl=Ct.touch?"touchstart mousedown":"mousedown",ss=Tt.extend({options:{clickTolerance:3},initialize:function(a,c,p,T){B(this,T),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(Ut(this._dragStartTarget,tl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ss._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,tl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!vr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ss._dragging===this&&this.finishDrag();return}if(!(ss._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ss._dragging=this,this._preventOutline&&es(this._element),Qr(),Vn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=As(this._element);this._startPoint=new yt(c.clientX,c.clientY),this._startPos=vi(this._element),this._parentScale=ns(p);var T=a.type==="mousedown";Ut(document,T?"mousemove":"touchmove",this._onMove,this),Ut(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new yt(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Me(a),this._moved||(this.fire("dragstart"),this._moved=!0,Kt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ft(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),Xo(),ts();var c=this._moved&&this._moving;this._moving=!1,ss._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ua(a,c,p){var T,x=[1,4,2,8],I,U,J,at,_t,Rt,Dt,Ot;for(I=0,Rt=a.length;I<Rt;I++)a[I]._code=Cs(a[I],c);for(J=0;J<4;J++){for(Dt=x[J],T=[],I=0,Rt=a.length,U=Rt-1;I<Rt;U=I++)at=a[I],_t=a[U],at._code&Dt?_t._code&Dt||(Ot=yn(_t,at,Dt,c,p),Ot._code=Cs(Ot,c),T.push(Ot)):(_t._code&Dt&&(Ot=yn(_t,at,Dt,c,p),Ot._code=Cs(Ot,c),T.push(Ot)),T.push(at));a=T}return a}function br(a,c){var p,T,x,I,U,J,at,_t,Rt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Dt=St([0,0]),Ot=wt(a),Zt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Zt<1700&&(Dt=za(a));var Fe=a.length,Je=[];for(p=0;p<Fe;p++){var zn=St(a[p]);Je.push(c.project(St([zn.lat-Dt.lat,zn.lng-Dt.lng])))}for(J=at=_t=0,p=0,T=Fe-1;p<Fe;T=p++)x=Je[p],I=Je[T],U=x.y*I.x-I.y*x.x,at+=(x.x+I.x)*U,_t+=(x.y+I.y)*U,J+=U*3;J===0?Rt=Je[0]:Rt=[at/J,_t/J];var ki=c.unproject(j(Rt));return St([ki.lat+Dt.lat,ki.lng+Dt.lng])}function za(a){for(var c=0,p=0,T=0,x=0;x<a.length;x++){var I=St(a[x]);c+=I.lat,p+=I.lng,T++}return St([c/T,p/T])}var Ba={__proto__:null,clipPolygon:Ua,polygonCenter:br,centroid:za};function el(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Gl(a,p),a=ql(a,p),a}function Fa(a,c,p){return Math.sqrt(li(a,c,p,!0))}function Xs(a,c,p){return li(a,c,p)}function ql(a,c){var p=a.length,T=typeof Uint8Array<"u"?Uint8Array:Array,x=new T(p);x[0]=x[p-1]=1,Ha(a,x,c,0,p-1);var I,U=[];for(I=0;I<p;I++)x[I]&&U.push(a[I]);return U}function Ha(a,c,p,T,x){var I=0,U,J,at;for(J=T+1;J<=x-1;J++)at=li(a[J],a[T],a[x],!0),at>I&&(U=J,I=at);I>p&&(c[U]=1,Ha(a,c,p,T,U),Ha(a,c,p,U,x))}function Gl(a,c){for(var p=[a[0]],T=1,x=0,I=a.length;T<I;T++)Wl(a[T],a[x])>c&&(p.push(a[T]),x=T);return x<I-1&&p.push(a[I-1]),p}var nl;function na(a,c,p,T,x){var I=T?nl:Cs(a,p),U=Cs(c,p),J,at,_t;for(nl=U;;){if(!(I|U))return[a,c];if(I&U)return!1;J=I||U,at=yn(a,c,J,p,x),_t=Cs(at,p),J===I?(a=at,I=_t):(c=at,U=_t)}}function yn(a,c,p,T,x){var I=c.x-a.x,U=c.y-a.y,J=T.min,at=T.max,_t,Rt;return p&8?(_t=a.x+I*(at.y-a.y)/U,Rt=at.y):p&4?(_t=a.x+I*(J.y-a.y)/U,Rt=J.y):p&2?(_t=at.x,Rt=a.y+U*(at.x-a.x)/I):p&1&&(_t=J.x,Rt=a.y+U*(J.x-a.x)/I),new yt(_t,Rt,x)}function Cs(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Wl(a,c){var p=c.x-a.x,T=c.y-a.y;return p*p+T*T}function li(a,c,p,T){var x=c.x,I=c.y,U=p.x-x,J=p.y-I,at=U*U+J*J,_t;return at>0&&(_t=((a.x-x)*U+(a.y-I)*J)/at,_t>1?(x=p.x,I=p.y):_t>0&&(x+=U*_t,I+=J*_t)),U=a.x-x,J=a.y-I,T?U*U+J*J:new yt(x,I)}function d(a){return!K(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function w(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function R(a,c){var p,T,x,I,U,J,at,_t;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Rt=St([0,0]),Dt=wt(a),Ot=Dt.getNorthWest().distanceTo(Dt.getSouthWest())*Dt.getNorthEast().distanceTo(Dt.getNorthWest());Ot<1700&&(Rt=za(a));var Zt=a.length,Fe=[];for(p=0;p<Zt;p++){var Je=St(a[p]);Fe.push(c.project(St([Je.lat-Rt.lat,Je.lng-Rt.lng])))}for(p=0,T=0;p<Zt-1;p++)T+=Fe[p].distanceTo(Fe[p+1])/2;if(T===0)_t=Fe[0];else for(p=0,I=0;p<Zt-1;p++)if(U=Fe[p],J=Fe[p+1],x=U.distanceTo(J),I+=x,I>T){at=(I-T)/x,_t=[J.x-at*(J.x-U.x),J.y-at*(J.y-U.y)];break}var zn=c.unproject(j(_t));return St([zn.lat+Rt.lat,zn.lng+Rt.lng])}var D={__proto__:null,simplify:el,pointToSegmentDistance:Fa,closestPointOnSegment:Xs,clipSegment:na,_getEdgeIntersection:yn,_getBitCode:Cs,_sqClosestPointOnSegment:li,isFlat:d,_flat:w,polylineCenter:R},Q={project:function(a){return new yt(a.lng,a.lat)},unproject:function(a){return new Pt(a.y,a.x)},bounds:new ct([-180,-90],[180,90])},ot={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ct([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,T=a.lat*c,x=this.R_MINOR/p,I=Math.sqrt(1-x*x),U=I*Math.sin(T),J=Math.tan(Math.PI/4-T/2)/Math.pow((1-U)/(1+U),I/2);return T=-p*Math.log(Math.max(J,1e-10)),new yt(a.lng*c*p,T)},unproject:function(a){for(var c=180/Math.PI,p=this.R,T=this.R_MINOR/p,x=Math.sqrt(1-T*T),I=Math.exp(-a.y/p),U=Math.PI/2-2*Math.atan(I),J=0,at=.1,_t;J<15&&Math.abs(at)>1e-7;J++)_t=x*Math.sin(U),_t=Math.pow((1-_t)/(1+_t),x/2),at=Math.PI/2-2*Math.atan(I*_t)-U,U+=at;return new Pt(U*c,a.x*c/p)}},bt={__proto__:null,LonLat:Q,Mercator:ot,SphericalMercator:sn},ue=o({},ee,{code:"EPSG:3395",projection:ot,transformation:function(){var a=.5/(Math.PI*ot.R);return pe(a,.5,-a,.5)}()}),rn=o({},ee,{code:"EPSG:4326",projection:Q,transformation:pe(1/180,1,-1/180,.5)}),ce=o({},Ee,{projection:Q,transformation:pe(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,T=c.lat-a.lat;return Math.sqrt(p*p+T*T)},infinite:!0});Ee.Earth=ee,Ee.EPSG3395=ue,Ee.EPSG3857=ni,Ee.EPSG900913=Nn,Ee.EPSG4326=rn,Ee.Simple=ce;var Ae=Tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?K(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var T in this._zoomBoundLayers){var x=this._zoomBoundLayers[T].options;a=x.minZoom===void 0?a:Math.min(a,x.minZoom),c=x.maxZoom===void 0?c:Math.max(c,x.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Be=Ae.extend({initialize:function(a,c){B(this,c),this._layers={};var p,T;if(a)for(p=0,T=a.length;p<T;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,T;for(p in this._layers)T=this._layers[p],T[a]&&T[a].apply(T,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),Qs=function(a,c){return new Be(a,c)},ke=Be.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Be.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Be.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new vt;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Is=function(a,c){return new ke(a,c)},Ps=Se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){B(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(T,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(a,c){var p=this.options,T=p[c+"Size"];typeof T=="number"&&(T=[T,T]);var x=j(T),I=j(c==="shadow"&&p.shadowAnchor||p.iconAnchor||x&&x.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),x&&(a.style.width=x.x+"px",a.style.height=x.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ct.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Zl(a){return new Ps(a)}var qa=Ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof qa.imagePath!="string"&&(qa.imagePath=this._detectIconPath()),(this.options.imagePath||qa.imagePath)+Ps.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,T,x){var I=T.exec(p);return I&&I[x]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ie("div","leaflet-default-icon-path",document.body),c=Ss(a,"background-image")||Ss(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),hc=oi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ss(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Kt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,T=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,I=vi(c._icon),U=p.getPixelBounds(),J=p.getPixelOrigin(),at=Et(U.min._subtract(J).add(x),U.max._subtract(J).subtract(x));if(!at.contains(I)){var _t=j((Math.max(at.max.x,I.x)-at.max.x)/(U.max.x-at.max.x)-(Math.min(at.min.x,I.x)-at.min.x)/(U.min.x-at.min.x),(Math.max(at.max.y,I.y)-at.max.y)/(U.max.y-at.max.y)-(Math.min(at.min.y,I.y)-at.min.y)/(U.min.y-at.min.y)).multiplyBy(T);p.panBy(_t,{animate:!1}),this._draggable._newPos._add(_t),this._draggable._startPos._add(_t),Ft(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Z(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,T=vi(c._icon),x=c._map.layerPointToLatLng(T);p&&Ft(p,T),c._latlng=x,a.latlng=x,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ga=Ae.extend({options:{icon:new qa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){B(this,c),this._latlng=St(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=St(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),T=!1;p!==this._icon&&(this._icon&&this._removeIcon(),T=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Kt(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(p,"focus",this._panOnFocus,this);var x=a.icon.createShadow(this._shadow),I=!1;x!==this._shadow&&(this._removeShadow(),I=!0),x&&(Kt(x,c),x.alt=""),this._shadow=x,a.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ft(this._icon,a),this._shadow&&Ft(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ze(this._icon,a),this._shadow&&ze(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?j(c.iconSize):j(0,0),T=c.iconAnchor?j(c.iconAnchor):j(0,0);a.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:p.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fc(a,c){return new Ga(a,c)}var Js=Ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return B(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),il=Js.extend({options:{fill:!0,radius:10},initialize:function(a,c){B(this,c),this._latlng=St(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=St(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Js.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),T=[a+p,c+p];this._pxBounds=new ct(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yf(a,c){return new il(a,c)}var dc=il.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),B(this,c),this._latlng=St(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Js.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,T=p.options.crs;if(T.distance===ee.distance){var x=Math.PI/180,I=this._mRadius/ee.R/x,U=p.project([c+I,a]),J=p.project([c-I,a]),at=U.add(J).divideBy(2),_t=p.unproject(at).lat,Rt=Math.acos((Math.cos(I*x)-Math.sin(c*x)*Math.sin(_t*x))/(Math.cos(c*x)*Math.cos(_t*x)))/x;(isNaN(Rt)||Rt===0)&&(Rt=I/Math.cos(Math.PI/180*c)),this._point=at.subtract(p.getPixelOrigin()),this._radius=isNaN(Rt)?0:at.x-p.project([_t,a-Rt]).x,this._radiusY=at.y-U.y}else{var Dt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Dt).x}this._updateBounds()}});function pp(a,c,p){return new dc(a,c,p)}var tr=Js.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){B(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,T=li,x,I,U=0,J=this._parts.length;U<J;U++)for(var at=this._parts[U],_t=1,Rt=at.length;_t<Rt;_t++){x=at[_t-1],I=at[_t];var Dt=T(a,x,I,!0);Dt<c&&(c=Dt,p=T(a,x,I))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return R(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=St(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new vt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),T=0,x=a.length;T<x;T++)p?(c[T]=St(a[T]),this._bounds.extend(c[T])):c[T]=this._convertLatLngs(a[T]);return c},_project:function(){var a=new ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new yt(a,a);this._rawPxBounds&&(this._pxBounds=new ct([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var T=a[0]instanceof Pt,x=a.length,I,U;if(T){for(U=[],I=0;I<x;I++)U[I]=this._map.latLngToLayerPoint(a[I]),p.extend(U[I]);c.push(U)}else for(I=0;I<x;I++)this._projectLatlngs(a[I],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,T,x,I,U,J,at;for(p=0,x=0,I=this._rings.length;p<I;p++)for(at=this._rings[p],T=0,U=at.length;T<U-1;T++)J=na(at[T],at[T+1],a,T,!0),J&&(c[x]=c[x]||[],c[x].push(J[0]),(J[1]!==at[T+1]||T===U-2)&&(c[x].push(J[1]),x++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,T=a.length;p<T;p++)a[p]=el(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,T,x,I,U,J,at=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,I=this._parts.length;p<I;p++)for(J=this._parts[p],T=0,U=J.length,x=U-1;T<U;x=T++)if(!(!c&&T===0)&&Fa(a,J[x],J[T])<=at)return!0;return!1}});function gp(a,c){return new tr(a,c)}tr._flat=w;var Wa=tr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return br(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=tr.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Pt&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){tr.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new yt(c,c);if(a=new ct(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,x=this._rings.length,I;T<x;T++)I=Ua(this._rings[T],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,T,x,I,U,J,at,_t;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,at=this._parts.length;I<at;I++)for(p=this._parts[I],U=0,_t=p.length,J=_t-1;U<_t;J=U++)T=p[U],x=p[J],T.y>a.y!=x.y>a.y&&a.x<(x.x-T.x)*(a.y-T.y)/(x.y-T.y)+T.x&&(c=!c);return c||tr.prototype._containsPoint.call(this,a,!0)}});function Ei(a,c){return new Wa(a,c)}var bi=ke.extend({initialize:function(a,c){B(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=K(a)?a:a.features,p,T,x;if(c){for(p=0,T=c.length;p<T;p++)x=c[p],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var U=sl(a,I);return U?(U.feature=Za(a),U.defaultOptions=U.options,this.resetStyle(U),I.onEachFeature&&I.onEachFeature(a,U),this.addLayer(U)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function sl(a,c){var p=a.type==="Feature"?a.geometry:a,T=p?p.coordinates:null,x=[],I=c&&c.pointToLayer,U=c&&c.coordsToLatLng||Kl,J,at,_t,Rt;if(!T&&!p)return null;switch(p.type){case"Point":return J=U(T),mc(I,a,J,c);case"MultiPoint":for(_t=0,Rt=T.length;_t<Rt;_t++)J=U(T[_t]),x.push(mc(I,a,J,c));return new ke(x);case"LineString":case"MultiLineString":return at=rl(T,p.type==="LineString"?0:1,U),new tr(at,c);case"Polygon":case"MultiPolygon":return at=rl(T,p.type==="Polygon"?1:2,U),new Wa(at,c);case"GeometryCollection":for(_t=0,Rt=p.geometries.length;_t<Rt;_t++){var Dt=sl({geometry:p.geometries[_t],type:"Feature",properties:a.properties},c);Dt&&x.push(Dt)}return new ke(x);case"FeatureCollection":for(_t=0,Rt=p.features.length;_t<Rt;_t++){var Ot=sl(p.features[_t],c);Ot&&x.push(Ot)}return new ke(x);default:throw new Error("Invalid GeoJSON object.")}}function mc(a,c,p,T){return a?a(c,p):new Ga(p,T&&T.markersInheritOptions&&T)}function Kl(a){return new Pt(a[1],a[0],a[2])}function rl(a,c,p){for(var T=[],x=0,I=a.length,U;x<I;x++)U=c?rl(a[x],c-1,p):(p||Kl)(a[x]),T.push(U);return T}function al(a,c){return a=St(a),a.alt!==void 0?[S(a.lng,c),S(a.lat,c),S(a.alt,c)]:[S(a.lng,c),S(a.lat,c)]}function Yl(a,c,p,T){for(var x=[],I=0,U=a.length;I<U;I++)x.push(c?Yl(a[I],d(a[I])?0:c-1,p,T):al(a[I],T));return!c&&p&&x.length>0&&x.push(x[0].slice()),x}function rs(a,c){return a.feature?o({},a.feature,{geometry:c}):Za(c)}function Za(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ia={toGeoJSON:function(a){return rs(this,{type:"Point",coordinates:al(this.getLatLng(),a)})}};Ga.include(ia),dc.include(ia),il.include(ia),tr.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=Yl(this._latlngs,c?1:0,!1,a);return rs(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Wa.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),T=Yl(this._latlngs,p?2:c?1:0,!0,a);return c||(T=[T]),rs(this,{type:(p?"Multi":"")+"Polygon",coordinates:T})}}),Be.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),rs(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",T=[];return this.eachLayer(function(x){if(x.toGeoJSON){var I=x.toGeoJSON(a);if(p)T.push(I.geometry);else{var U=Za(I);U.type==="FeatureCollection"?T.push.apply(T,U.features):T.push(U)}}}),p?rs(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function $l(a,c){return new bi(a,c)}var _f=$l,Ls=Ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=wt(c),B(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&xs(this._image),this},bringToBack:function(){return this._map&&_r(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=wt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:ie("img");if(Kt(c,"leaflet-image-layer"),this._zoomAnimated&&Kt(c,"leaflet-zoom-animated"),this.options.className&&Kt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Zn(this._image,p,c)},_reset:function(){var a=this._image,c=new ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ft(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Ka=function(a,c,p){return new Ls(a,c,p)},Xl=Ls.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:ie("video");if(Kt(c,"leaflet-image-layer"),this._zoomAnimated&&Kt(c,"leaflet-zoom-animated"),this.options.className&&Kt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=f(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),T=[],x=0;x<p.length;x++)T.push(p[x].src);this._url=p.length>0?T:[c.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var U=ie("source");U.src=this._url[I],c.appendChild(U)}}});function vf(a,c,p){return new Xl(a,c,p)}var wr=Ls.extend({_initImage:function(){var a=this._image=this._url;Kt(a,"leaflet-image-layer"),this._zoomAnimated&&Kt(a,"leaflet-zoom-animated"),this.options.className&&Kt(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function Tf(a,c,p){return new wr(a,c,p)}var as=Ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Pt||K(a))?(this._latlng=St(a),B(this,c)):(B(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(f(xe,void 0,this._container),200)):xe(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=St(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xs(this._container),this},bringToBack:function(){return this._map&&_r(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof ke){c=null;var p=this._source._layers;for(var T in p)if(p[T]._map){c=p[T];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=j(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ft(this._container,a.add(p)):c=c.add(a).add(p);var T=this._containerBottom=-c.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=T+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(a,c,p,T){var x=c;return x instanceof a||(x=new a(T).setContent(c)),p&&x.setLatLng(p),x}}),Ae.include({_initOverlay:function(a,c,p,T){var x=p;return x instanceof a?(B(x,T),x._source=this):(x=c&&!T?c:new a(T,this),x.setContent(p)),x}});var ol=as.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,as.prototype.openOn.call(this,a)},onAdd:function(a){as.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Js||this._source.on("preclick",ai))},onRemove:function(a){as.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Js||this._source.off("preclick",ai))},getEvents:function(){var a=as.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=ie("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=ie("div",a+"-content-wrapper",c);if(this._contentNode=ie("div",a+"-content",p),Ks(c),is(this._contentNode),Ut(c,"contextmenu",ai),this._tipContainer=ie("div",a+"-tip-container",c),this._tip=ie("div",a+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=ie("a",a+"-close-button",c);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(T,"click",function(x){Me(x),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var T=a.offsetHeight,x=this.options.maxHeight,I="leaflet-popup-scrolled";x&&T>x?(c.height=x+"px",Kt(a,I)):Ce(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ft(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Ss(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,T=this._containerWidth,x=new yt(this._containerLeft,-p-this._containerBottom);x._add(vi(this._container));var I=a.layerPointToContainerPoint(x),U=j(this.options.autoPanPadding),J=j(this.options.autoPanPaddingTopLeft||U),at=j(this.options.autoPanPaddingBottomRight||U),_t=a.getSize(),Rt=0,Dt=0;I.x+T+at.x>_t.x&&(Rt=I.x+T-_t.x+at.x),I.x-Rt-J.x<0&&(Rt=I.x-J.x),I.y+p+at.y>_t.y&&(Dt=I.y+p-_t.y+at.y),I.y-Dt-J.y<0&&(Dt=I.y-J.y),(Rt||Dt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Rt,Dt]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yp=function(a,c){return new ol(a,c)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(a,c,p){return this._initOverlay(ol,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ae.include({bindPopup:function(a,c){return this._popup=this._initOverlay(ol,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ke||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){jn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Js)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Ql=as.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){as.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){as.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=as.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,T=this._map,x=this._container,I=T.latLngToContainerPoint(T.getCenter()),U=T.layerPointToContainerPoint(a),J=this.options.direction,at=x.offsetWidth,_t=x.offsetHeight,Rt=j(this.options.offset),Dt=this._getAnchor();J==="top"?(c=at/2,p=_t):J==="bottom"?(c=at/2,p=0):J==="center"?(c=at/2,p=_t/2):J==="right"?(c=0,p=_t/2):J==="left"?(c=at,p=_t/2):U.x<I.x?(J="right",c=0,p=_t/2):(J="left",c=at+(Rt.x+Dt.x)*2,p=_t/2),a=a.subtract(j(c,p,!0)).add(Rt).add(Dt),Ce(x,"leaflet-tooltip-right"),Ce(x,"leaflet-tooltip-left"),Ce(x,"leaflet-tooltip-top"),Ce(x,"leaflet-tooltip-bottom"),Kt(x,"leaflet-tooltip-"+J),Ft(x,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ze(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),_p=function(a,c){return new Ql(a,c)};Qt.include({openTooltip:function(a,c,p){return this._initOverlay(Ql,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ae.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ql,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ke||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ut(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ut(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,T;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),T=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(c)}});var pc=Ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(gn(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var T=j(p.bgPos);c.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Ef(a){return new pc(a)}Ps.Default=qa;var sa=Ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){B(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),xe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_r(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof yt?a:new yt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),T=0,x=c.length,I;T<x;T++)I=c[T].style.zIndex,c[T]!==this._container&&I&&(p=a(p,+I));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){ze(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var T in this._tiles){var x=this._tiles[T];if(!(!x.current||!x.loaded)){var I=Math.min(1,(a-x.loaded)/200);ze(x.el,I),I<1?c=!0:(x.active?p=!0:this._onOpaqueTile(x),x.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&($(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(xe(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var T=this._levels[a],x=this._map;return T||(T=this._levels[a]={},T.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=c,T.origin=x.project(x.unproject(x.getPixelOrigin()),a).round(),T.zoom=a,this._setZoomTransform(T,x.getCenter(),x.getZoom()),A(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var T=c.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)xe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,T){var x=Math.floor(a/2),I=Math.floor(c/2),U=p-1,J=new yt(+x,+I);J.z=+U;var at=this._tileCoordsToKey(J),_t=this._tiles[at];return _t&&_t.active?(_t.retain=!0,!0):(_t&&_t.loaded&&(_t.retain=!0),U>T?this._retainParent(x,I,U,T):!1)},_retainChildren:function(a,c,p,T){for(var x=2*a;x<2*a+2;x++)for(var I=2*c;I<2*c+2;I++){var U=new yt(x,I);U.z=p+1;var J=this._tileCoordsToKey(U),at=this._tiles[J];if(at&&at.active){at.retain=!0;continue}else at&&at.loaded&&(at.retain=!0);p+1<T&&this._retainChildren(x,I,p+1,T)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,T){var x=Math.round(c);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var I=this.options.updateWhenZooming&&x!==this._tileZoom;(!T||I)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var T=this._map.getZoomScale(p,a.zoom),x=a.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(c,p)).round();Ct.any3d?Zn(a.el,x,T):Ft(a.el,x)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),T=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],T).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],T).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],T).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],T).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),T=c.getZoomScale(p,this._tileZoom),x=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(T*2);return new ct(x.subtract(I),x.add(I))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(a),x=this._pxBoundsToTileRange(T),I=x.getCenter(),U=[],J=this.options.keepBuffer,at=new ct(x.getBottomLeft().subtract([J,-J]),x.getTopRight().add([J,-J]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _t in this._tiles){var Rt=this._tiles[_t].coords;(Rt.z!==this._tileZoom||!at.contains(new yt(Rt.x,Rt.y)))&&(this._tiles[_t].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Dt=x.min.y;Dt<=x.max.y;Dt++)for(var Ot=x.min.x;Ot<=x.max.x;Ot++){var Zt=new yt(Ot,Dt);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var Fe=this._tiles[this._tileCoordsToKey(Zt)];Fe?Fe.current=!0:U.push(Zt)}}if(U.sort(function(zn,ki){return zn.distanceTo(I)-ki.distanceTo(I)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Je=document.createDocumentFragment();for(Ot=0;Ot<U.length;Ot++)this._addTile(U[Ot],Je);this._level.el.appendChild(Je)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(a);return wt(this.options.bounds).overlaps(T)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),T=a.scaleBy(p),x=T.add(p),I=c.unproject(T,a.z),U=c.unproject(x,a.z);return[I,U]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new vt(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new yt(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(xe(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Kt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=A,a.onmousemove=A,Ct.ielt9&&this.options.opacity<1&&ze(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),T=this._tileCoordsToKey(a),x=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(x),this.createTile.length<2&&Z(f(this._tileReady,this,a,null,x)),Ft(x,p),this._tiles[T]={el:x,coords:a,current:!0},c.appendChild(x),this.fire("tileloadstart",{tile:x,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var T=this._tileCoordsToKey(a);p=this._tiles[T],p&&(p.loaded=+new Date,this._map._fadeAnimated?(ze(p.el,0),$(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Kt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new yt(this._wrapX?b(a.x,this._wrapX):a.x,this._wrapY?b(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new ct(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function os(a){return new sa(a)}var ra=sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=B(this,c),c.detectRetina&&Ct.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return Ut(p,"load",f(this._tileOnLoad,this,c,p)),Ut(p,"error",f(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Ct.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return nt(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Ct.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var T=this.options.errorTileUrl;T&&c.getAttribute("src")!==T&&(c.src=T),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,T=this.options.zoomOffset;return p&&(a=c-a),a+T},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=A,c.onerror=A,!c.complete)){c.src=ut;var p=this._tiles[a].coords;xe(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",ut),sa.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===ut))return sa.prototype._tileReady.call(this,a,c,p)}});function wi(a,c){return new ra(a,c)}var Si=ra.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var T in c)T in this.options||(p[T]=c[T]);c=B(this,c);var x=c.detectRetina&&Ct.retina?2:1,I=this.getTileSize();p.width=I.x*x,p.height=I.y*x,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,ra.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,T=Et(p.project(c[0]),p.project(c[1])),x=T.min,I=T.max,U=(this._wmsVersion>=1.3&&this._crs===rn?[x.y,x.x,I.y,I.x]:[x.x,x.y,I.x,I.y]).join(","),J=ra.prototype.getTileUrl.call(this,a);return J+q(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Ya(a,c){return new Si(a,c)}ra.WMS=Si,wi.wms=Ya;var ls=Ae.extend({options:{padding:.1},initialize:function(a){B(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,c),I=T.multiplyBy(-p).add(x).subtract(this._map._getNewPixelOrigin(a,c));Ct.any3d?Zn(this._container,I,p):Ft(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new ct(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ll=ls.extend({options:{tolerance:0},getEvents:function(){var a=ls.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ls.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ut(a,"mousemove",this._onMouseMove,this),Ut(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,xe(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ls.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),T=Ct.retina?2:1;Ft(c,a.min),c.width=T*p.x,c.height=T*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ls.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,T=c.prev;p?p.prev=T:this._drawLast=T,T?T.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],T,x;for(x=0;x<c.length;x++){if(T=Number(c[x]),isNaN(T))return;p.push(T)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ct,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)a=T.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,T,x,I,U=a._parts,J=U.length,at=this._ctx;if(J){for(at.beginPath(),p=0;p<J;p++){for(T=0,x=U[p].length;T<x;T++)I=U[p][T],at[T?"lineTo":"moveTo"](I.x,I.y);c&&at.closePath()}this._fillStroke(at,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,T=Math.max(Math.round(a._radius),1),x=(Math.max(Math.round(a._radiusY),1)||T)/T;x!==1&&(p.save(),p.scale(1,x)),p.beginPath(),p.arc(c.x,c.y/x,T,0,Math.PI*2,!1),x!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,T,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(T=p);this._fireEvent(T?[T]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,T,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(c)&&(T=p);T!==this._hoveredLayer&&(this._handleMouseOut(a),T&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([T],a,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,T=c.prev;if(p)p.prev=T;else return;T?T.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,T=c.prev;if(T)T.next=p;else return;p?p.prev=T:T&&(this._drawLast=T),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function ul(a){return Ct.canvas?new ll(a):null}var aa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$a={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ls.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=aa("shape");Kt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=aa("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;xe(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,T=a.options,x=a._container;x.stroked=!!T.stroke,x.filled=!!T.fill,T.stroke?(c||(c=a._stroke=aa("stroke")),x.appendChild(c),c.weight=T.weight+"px",c.color=T.color,c.opacity=T.opacity,T.dashArray?c.dashStyle=K(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=T.lineCap.replace("butt","flat"),c.joinstyle=T.lineJoin):c&&(x.removeChild(c),a._stroke=null),T.fill?(p||(p=a._fill=aa("fill")),x.appendChild(p),p.color=T.fillColor||T.color,p.opacity=T.fillOpacity):p&&(x.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),T=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+T+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){xs(a._container)},_bringToBack:function(a){_r(a._container)}},cl=Ct.vml?aa:ps,Sr=ls.extend({_initContainer:function(){this._container=cl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xe(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ls.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ft(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=cl("path");a.options.className&&Kt(c,a.options.className),a.options.interactive&&Kt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){xe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Gr(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),T=Math.max(Math.round(a._radiusY),1)||p,x="a"+p+","+T+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+x+p*2+",0 "+x+-p*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){xs(a._path)},_bringToBack:function(a){_r(a._path)}});Ct.vml&&Sr.include($a);function oa(a){return Ct.svg||Ct.vml?new Sr(a):null}Qt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&ul(a)||oa(a)}});var bf=Wa.extend({initialize:function(a,c){Wa.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=wt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function xi(a,c){return new bf(a,c)}Sr.create=cl,Sr.pointsToPath=Gr,bi.geometryToLayer=sl,bi.coordsToLatLng=Kl,bi.coordsToLatLngs=rl,bi.latLngToCoords=al,bi.latLngsToCoords=Yl,bi.getFeature=rs,bi.asFeature=Za,Qt.mergeOptions({boxZoom:!0});var Jl=oi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vn(),Qr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ut(document,{contextmenu:jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),Kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new ct(this._point,this._startPoint),p=c.getSize();Ft(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(xe(this._box),Ce(this._container,"leaflet-crosshair")),ts(),Xo(),ge(document,{contextmenu:jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",Jl),Qt.mergeOptions({doubleClickZoom:!0});var Ms=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),T=c.options.zoomDelta,x=a.originalEvent.shiftKey?p-T:p+T;c.options.doubleClickZoom==="center"?c.setZoom(x):c.setZoomAround(a.containerPoint,x)}});Qt.addInitHook("addHandler","doubleClickZoom",Ms),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gc=oi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ss(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=wt(this._map.options.maxBounds);this._offsetLimit=Et(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,T=this._draggable._newPos.x,x=(T-c+p)%a+c-p,I=(T+c+p)%a-c-p,U=Math.abs(x+p)<Math.abs(I+p)?x:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(a){var c=this._map,p=c.options,T=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),T)c.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,U=p.easeLinearity,J=x.multiplyBy(U/I),at=J.distanceTo([0,0]),_t=Math.min(p.inertiaMaxSpeed,at),Rt=J.multiplyBy(_t/at),Dt=_t/(p.inertiaDeceleration*U),Ot=Rt.multiplyBy(-Dt/2).round();!Ot.x&&!Ot.y?c.fire("moveend"):(Ot=c._limitOffset(Ot,c.options.maxBounds),Z(function(){c.panBy(Ot,{duration:Dt,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",gc),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hl=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ut(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,T=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(T,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,T,x;for(T=0,x=p.left.length;T<x;T++)c[p.left[T]]=[-1*a,0];for(T=0,x=p.right.length;T<x;T++)c[p.right[T]]=[a,0];for(T=0,x=p.down.length;T<x;T++)c[p.down[T]]=[0,a];for(T=0,x=p.up.length;T<x;T++)c[p.up[T]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,T,x;for(T=0,x=p.zoomIn.length;T<x;T++)c[p.zoomIn[T]]=a;for(T=0,x=p.zoomOut.length;T<x;T++)c[p.zoomOut[T]]=-a},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,T;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(T=this._panKeys[c],a.shiftKey&&(T=j(T).multiplyBy(3)),p.options.maxBounds&&(T=p._limitOffset(j(T),p.options.maxBounds)),p.options.worldCopyJump){var x=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(T)));p.panTo(x)}else p.panBy(T)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;jn(a)}}});Qt.addInitHook("addHandler","keyboard",hl),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xr=oi.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Jr(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var T=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),T),jn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,I=p?Math.ceil(x/p)*p:x,U=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,U&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+U):a.setZoomAround(this._lastMousePos,c+U))}});Qt.addInitHook("addHandler","scrollWheelZoom",xr);var yc=600;Qt.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var tu=oi.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new yt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Me),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),yc),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ge(document,"touchend",Me),ge(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new yt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Qt.addInitHook("addHandler","tapHold",tu),Qt.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var la=oi.extend({addHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(T)._divideBy(2))),this._startDist=p.distanceTo(T),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Me(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]),x=p.distanceTo(T)/this._startDist;if(this._zoom=c.getScaleZoom(x,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&x<1||this._zoom>c.getMaxZoom()&&x>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var I=p._add(T)._divideBy(2)._subtract(this._centerPoint);if(x===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var U=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(U,this,!0),Me(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",la),Qt.BoxZoom=Jl,Qt.DoubleClickZoom=Ms,Qt.Drag=gc,Qt.Keyboard=hl,Qt.ScrollWheelZoom=xr,Qt.TapHold=tu,Qt.TouchZoom=la,n.Bounds=ct,n.Browser=Ct,n.CRS=Ee,n.Canvas=ll,n.Circle=dc,n.CircleMarker=il,n.Class=Se,n.Control=Cn,n.DivIcon=pc,n.DivOverlay=as,n.DomEvent=Fl,n.DomUtil=Qo,n.Draggable=ss,n.Evented=Tt,n.FeatureGroup=ke,n.GeoJSON=bi,n.GridLayer=sa,n.Handler=oi,n.Icon=Ps,n.ImageOverlay=Ls,n.LatLng=Pt,n.LatLngBounds=vt,n.Layer=Ae,n.LayerGroup=Be,n.LineUtil=D,n.Map=Qt,n.Marker=Ga,n.Mixin=ea,n.Path=Js,n.Point=yt,n.PolyUtil=Ba,n.Polygon=Wa,n.Polyline=tr,n.Popup=ol,n.PosAnimation=ta,n.Projection=bt,n.Rectangle=bf,n.Renderer=ls,n.SVG=Sr,n.SVGOverlay=wr,n.TileLayer=ra,n.Tooltip=Ql,n.Transformation=ei,n.Util=F,n.VideoOverlay=Xl,n.bind=f,n.bounds=Et,n.canvas=ul,n.circle=pp,n.circleMarker=yf,n.control=Un,n.divIcon=Ef,n.extend=o,n.featureGroup=Is,n.geoJSON=$l,n.geoJson=_f,n.gridLayer=os,n.icon=Zl,n.imageOverlay=Ka,n.latLng=St,n.latLngBounds=wt,n.layerGroup=Qs,n.map=Rs,n.marker=fc,n.point=j,n.polygon=Ei,n.polyline=gp,n.popup=yp,n.rectangle=xi,n.setOptions=B,n.stamp=y,n.svg=oa,n.svgOverlay=Tf,n.tileLayer=wi,n.tooltip=_p,n.transformation=pe,n.version=s,n.videoOverlay=vf;var Xa=window.L;n.noConflict=function(){return window.L=Xa,this},window.L=n})}(fh,fh.exports)),fh.exports}var lc=eB();const cp=Px(lc);function hp(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function T0(e,t){return t==null?function(s,o){const u=N.useRef(void 0);return u.current||(u.current=e(s,o)),u}:function(s,o){const u=N.useRef(void 0);u.current||(u.current=e(s,o));const f=N.useRef(s),{instance:m}=u.current;return N.useEffect(function(){f.current!==s&&(t(m,s,f.current),f.current=s)},[m,s,t]),u}}function nI(e,t){N.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function iI(e){return function(n){const s=_0(),o=e(v0(n,s),s);return Yz(s.map,n.attribution),eI(o.current,n.eventHandlers),nI(o.current,s),o}}function nB(e,t){const n=N.useRef(void 0);N.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function iB(e){return function(n){const s=_0(),o=e(v0(n,s),s);return eI(o.current,n.eventHandlers),nI(o.current,s),nB(o.current,n),o}}function sB(e,t){const n=T0(e,t),s=iI(n);return tI(s)}function sI(e,t){const n=T0(e,t),s=iB(n);return tI(s)}function rB(e,t){const n=T0(e,t),s=iI(n);return Jz(s)}function aB(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function oB(){return _0().map}const rI=sI(function({center:t,children:n,...s},o){const u=new lc.Circle(t,s);return hp(u,g0(o,{overlayContainer:u}))},$z);function lB({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:u,placeholder:f,style:m,whenReady:y,zoom:_,...b},A){const[S]=N.useState({className:o,id:u,style:m}),[M,k]=N.useState(null),B=N.useRef(void 0);N.useImperativeHandle(A,()=>M?.map??null,[M]);const q=N.useCallback(nt=>{if(nt!==null&&!B.current){const K=new lc.Map(nt,b);B.current=K,n!=null&&_!=null?K.setView(n,_):e!=null&&K.fitBounds(e,t),y!=null&&K.whenReady(y),k(Qz(K))}},[]);N.useEffect(()=>()=>{M?.map.remove()},[M]);const G=M?tm.createElement(y0,{value:M},s):f??null;return tm.createElement("div",{...S,ref:q},G)}const fp=N.forwardRef(lB),dp=sB(function({position:t,...n},s){const o=new lc.Marker(t,n);return hp(o,g0(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),aI=sI(function({positions:t,...n},s){const o=new lc.Polyline(t,n);return hp(o,g0(s,{overlayContainer:o}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),mp=rB(function({url:t,...n},s){const o=new lc.TileLayer(t,v0(n,s));return hp(o,s)},function(t,n,s){aB(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)}),oI="/assets/Apple_AirTag-DXsKpCuU.svg",Cy=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194]];function uB({scrollYProgress:e,path:t,setBreadcrumbPath:n,setVisitedPoints:s}){const o=oB();return N.useEffect(()=>{const u=e.on("change",f=>{const m=(f-.3)/.39999999999999997;if(m<0||m>1){const M=m>1?t[t.length-1]:t[0],k=m>1?12.75:15;o.setView(M,k),n(m>1?t:[t[0]]),s(m>1?t:[t[0]]);return}const y=m*(t.length-1),_=Math.floor(y),b=y-_;let A;if(_>=t.length-1)A=t[t.length-1];else{const[M,k]=t[_],[B,q]=t[_+1];A=[M+(B-M)*b,k+(q-k)*b]}const S=15-m*(15-12.75);o.setView(A,S),n([...t.slice(0,_+1),A]),s(t.slice(0,_+1))});return()=>u()},[o,e,t,n,s]),null}function cB({onScrollProgress:e}){const t=N.useRef(null),{scrollYProgress:n}=Wz({target:t,offset:["start start","end end"]});N.useEffect(()=>{e&&e(n)},[n,e]);const s=wu(n,[0,.3],[1,.2]),o=wu(n,[.7,1],[1,0]),u=wu(n,[.1,.3,.8,1],[0,1,1,0]),f=wu(n,[.7,.8],[1,0]),[m,y]=N.useState([Cy[0]]),[_,b]=N.useState([]),A=cp.divIcon({className:"trail-point",iconSize:[8,8],iconAnchor:[4,4],html:"<div></div>"}),S=wu(n,[.7,.8],[1,0]),M=wu(n,[.8,1],[0,1]);return E.jsxs("div",{ref:t,id:"hero",className:"landing-root",role:"banner","aria-labelledby":"hero-title",children:[E.jsx(eh.div,{className:"header-background-container",style:{opacity:M}}),E.jsx(eh.div,{className:"hero-title-container",style:{opacity:S},children:E.jsx("h1",{id:"hero-title",className:"hero-title",children:"TagLogger"})}),E.jsxs(eh.p,{className:"subtitle",style:{opacity:f},children:[E.jsx("strong",{children:"Unlock the location history and more."}),E.jsx("br",{}),E.jsx("span",{style:{fontSize:"0.5em",display:"block",marginTop:"15px"},children:"An independent service, not affiliated with Apple Inc."})]}),E.jsx(eh.img,{src:oI,alt:"Apple AirTag - Location tracking device",className:"airtag-img",style:{scale:s,opacity:o,zIndex:10,translateX:"-50%",translateY:"-50%"},draggable:!1}),E.jsx(eh.div,{className:"map-fade",style:{opacity:u,zIndex:1},children:E.jsxs(fp,{center:Cy[0],zoom:15,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100vh",width:"100vw",background:"black"},children:[E.jsx(mp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),E.jsx(uB,{scrollYProgress:n,path:Cy,setBreadcrumbPath:y,setVisitedPoints:b}),E.jsx(aI,{positions:m,color:"#00eaff",weight:6,opacity:.7}),_.map((k,B)=>E.jsx(dp,{position:k,icon:A,zIndexOffset:1e3},B))]},"main-app-map")})]})}const hB=[{feature:"Size",taglogger:"31x31 mm",apple:"",gps:"40–60mm+, bulky"},{feature:"Tech",taglogger:"AirTag",apple:"",gps:"GPS, SIM"},{feature:"Device Support",taglogger:"Android, iOS, Web",apple:"Apple only",gps:"Often agnostic"},{feature:"Battery Life",taglogger:"~1 yr",apple:"",gps:"Days–weeks"},{feature:"Cost",taglogger:"Low",apple:"",gps:"High"},{feature:"History/Export",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Alerts/Geofencing",taglogger:"Yes",apple:"Limited",gps:"Extra fees"},{feature:"Inventory Mgmt",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Scalability",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Max Tags",taglogger:"Unlimited",apple:"32 items",gps:"Many"}];function fB(){return E.jsx("section",{id:"feature-comparison",className:"feature-comparison-section",role:"region","aria-labelledby":"feature-comparison-title",children:E.jsxs("div",{className:"feature-comparison-content",children:[E.jsx("h2",{id:"feature-comparison-title",className:"feature-comparison-title",children:"How We Compare"}),E.jsx("div",{style:{maxWidth:700,margin:"0 auto"},children:E.jsx("p",{className:"feature-description",style:{marginBottom:32},children:"See how our solution compares to other tracking options on the market. We deliver the best mix of size, battery life, and coverage. If you’ve tried AirTags, you’ll know nothing else is quite like it."})}),E.jsx("div",{className:"feature-comparison-table-wrapper",style:{overflowX:"auto",maxWidth:800,margin:"0 auto"},children:E.jsxs("table",{className:"feature-comparison-table",style:{width:"100%",borderCollapse:"collapse",minWidth:580,tableLayout:"fixed"},children:[E.jsxs("colgroup",{children:[E.jsx("col",{style:{width:"25%"}}),E.jsx("col",{style:{width:"25%",background:"rgba(0,234,255,0.10)"}}),E.jsx("col",{style:{width:"25%"}}),E.jsx("col",{style:{width:"25%"}})]}),E.jsx("thead",{children:E.jsxs("tr",{style:{background:"rgba(0,234,255,0.08)"},children:[E.jsx("th",{style:{padding:"10px 6px",color:"#00eaff",fontWeight:700,fontSize:14,textAlign:"left",borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Feature"}),E.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"TagLogger"}),E.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Apple Find My"}),E.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14},children:"GPS Trackers"})]})}),E.jsx("tbody",{children:hB.map((e,t)=>e.feature==="Tech"&&!e.apple||e.feature==="Size"&&!e.apple||e.feature==="Battery Life"&&!e.apple||e.feature==="Cost"&&!e.apple?E.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[E.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),E.jsx("td",{colSpan:2,style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,textAlign:"center",background:"rgba(0,234,255,0.10)",borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.taglogger}),E.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t):E.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[E.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),E.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)",background:"rgba(0,234,255,0.10)"},children:e.taglogger}),E.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.apple}),E.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t))})]})})]})})}function dB(){const[e,t]=N.useState("business"),n=[{icon:"🧳",title:"Track Luggage Travels",description:"Monitor your luggage with an AirTag during vacations and business trips"},{icon:"🐕",title:"Monitor Pet Adventures",description:"See where your furry friends wander and explore"},{icon:"👨‍👩‍👧‍👦",title:"Family Safety Tracking",description:"Track your elderly parents or young kids for safety reasons"},{icon:"🔗",title:"Shared Item Locations",description:"Remember locations when lending valuable possessions"},{icon:"📦",title:"Package Delivery Verification",description:"Verify delivered packages with complete travel history"},{icon:"🚗",title:"Vehicle Journey Documentation",description:"Document vehicle journeys for expense reports or records"}],s=[{icon:"📦",title:"Shipment Monitoring",description:"Track shipments to reduce losses and ensure timely deliveries"},{icon:"✅",title:"Delivery Verification",description:"Verify deliveries using historical location data for accuracy and dispute resolution"},{icon:"🏭",title:"Equipment Location",description:"Locate equipment across industries like healthcare, manufacturing, film, construction, and IT to boost operational efficiency"},{icon:"📊",title:"Historical Equipment Usage",description:"Record equipment movements over time for maintenance, accountability, and compliance"},{icon:"🚛",title:"Vehicle Journey Documentation",description:"Document vehicle travels for expense reimbursement, travel logging, and compliance"},{icon:"🚜",title:"Rental and Event Equipment Management",description:"Manage rental and event equipment with historical tracking to ensure proper usage and timely returns"}];return E.jsx("section",{id:"use-cases",className:"use-cases-section",role:"region","aria-labelledby":"use-cases-title",children:E.jsxs("div",{className:"use-cases-content",children:[E.jsx("h2",{id:"use-cases-title",className:"use-cases-title",children:"Built for Business and Personal Use Cases"}),E.jsxs("div",{className:"use-cases-toggle",children:[E.jsx("button",{className:`toggle-btn ${e==="business"?"active":""}`,onClick:()=>t("business"),children:"Business Use"}),E.jsx("button",{className:`toggle-btn ${e==="personal"?"active":""}`,onClick:()=>t("personal"),children:"Personal Use"})]}),E.jsx("div",{className:"use-cases-category",children:E.jsx("div",{className:"use-cases-grid",children:(e==="personal"?n:s).map((o,u)=>E.jsxs("div",{className:"use-case-card",children:[E.jsx("div",{className:"use-case-icon","aria-hidden":"true",children:o.icon}),E.jsx("h3",{className:"use-case-title",children:o.title}),E.jsx("p",{className:"use-case-description",children:o.description})]},u))})})]})})}const Su=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194],[37.7549,-122.4194],[37.7499,-122.4194]];function mB(){const[e,t]=N.useState([]),[n,s]=N.useState(Su[0]);N.useEffect(()=>{let u=0;const f=setInterval(()=>{u<Su.length?(t(Su.slice(0,u+1)),s(Su[u]),u++):(u=0,t([]),s(Su[0]))},300);return()=>clearInterval(f)},[]);const o=cp.divIcon({className:"demo-marker",iconSize:[20,20],iconAnchor:[10,10],html:'<div class="marker-dot"></div>'});return E.jsx("div",{className:"platform-demo",children:E.jsxs("div",{className:"browser-window",children:[E.jsxs("div",{className:"browser-header",children:[E.jsxs("div",{className:"browser-buttons",children:[E.jsx("div",{className:"browser-button red"}),E.jsx("div",{className:"browser-button yellow"}),E.jsx("div",{className:"browser-button green"})]}),E.jsx("div",{className:"browser-url",children:"taglogger.com/dashboard"})]}),E.jsx("div",{className:"browser-content",children:E.jsxs(fp,{center:Su[0],zoom:13,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[E.jsx(mp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),e.length>0&&E.jsx(aI,{positions:e,color:"#00eaff",weight:4,opacity:.8}),n&&E.jsx(dp,{position:n,icon:o})]},"platform-demo-map")})]})})}const Pd=[37.7749,-122.4194],Sx=500,Ld=[[37.7749,-122.4194],[37.7749,-122.415],[37.7749,-122.41],[37.7749,-122.405],[37.7749,-122.41],[37.7749,-122.415],[37.7749,-122.4194]];function pB(){const[e,t]=N.useState(Ld[0]),[n,s]=N.useState(!0),[o,u]=N.useState(!1),[f,m]=N.useState(""),y=(A,S,M,k)=>{const q=A*Math.PI/180,G=M*Math.PI/180,nt=(M-A)*Math.PI/180,K=(k-S)*Math.PI/180,pt=Math.sin(nt/2)*Math.sin(nt/2)+Math.cos(q)*Math.cos(G)*Math.sin(K/2)*Math.sin(K/2);return 6371e3*(2*Math.atan2(Math.sqrt(pt),Math.sqrt(1-pt)))},_=A=>y(A[0],A[1],Pd[0],Pd[1])<=Sx;N.useEffect(()=>{let A=0;const S=setInterval(()=>{if(A<Ld.length){const M=Ld[A];t(M);const k=n,B=_(M);k!==B&&(s(B),m(B?"🚨 AirTag entered geofence zone!":"🚨 AirTag left geofence zone!"),u(!0),setTimeout(()=>u(!1),2e3)),A++}else A=0,t(Ld[0]),s(!0)},670);return()=>clearInterval(S)},[n]);const b=cp.divIcon({className:"geofence-marker",iconSize:[24,24],iconAnchor:[12,12],html:`<div class="marker-dot ${n?"inside":"outside"}"></div>`});return E.jsx("div",{className:"geofence-demo",children:E.jsxs("div",{className:"browser-window",children:[E.jsxs("div",{className:"browser-header",children:[E.jsxs("div",{className:"browser-buttons",children:[E.jsx("div",{className:"browser-button red"}),E.jsx("div",{className:"browser-button yellow"}),E.jsx("div",{className:"browser-button green"})]}),E.jsx("div",{className:"browser-url",children:"taglogger.com/geofencing"})]}),E.jsxs("div",{className:"browser-content",children:[E.jsxs(fp,{center:Pd,zoom:14,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[E.jsx(mp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),E.jsx(rI,{center:Pd,radius:Sx,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:2,opacity:.8}}),e&&E.jsx(dp,{position:e,icon:b})]},"geofence-demo-map"),o&&E.jsx("div",{className:"geofence-alert",children:E.jsxs("div",{className:`alert-content${n?" blue":""}`,children:[E.jsx("span",{className:"alert-icon",children:"🚨"}),E.jsx("span",{className:"alert-text",children:f})]})}),E.jsx("div",{className:"geofence-status",children:E.jsx("div",{className:`status-indicator ${n?"inside":"outside"}`,children:n?"📍 Inside Geofence":"📍 Outside Geofence"})})]})]})})}const Md={yard:[37.7749,-122.4194],"site-a":[37.7849,-122.4094],"site-b":[37.7649,-122.4294],"site-c":[37.7949,-122.3994]},gB=[{id:1,name:"Excavator #EX-001",type:"excavator",status:"checked-out",location:"site-a",user:"Mike Rodriguez",lastUpdate:"2 hours ago"},{id:2,name:"Bulldozer #BD-045",type:"bulldozer",status:"checked-in",location:"yard",user:null,lastUpdate:"1 day ago"},{id:3,name:"Crane #CR-012",type:"crane",status:"checked-out",location:"site-b",user:"Sarah Johnson",lastUpdate:"30 min ago"},{id:4,name:"Loader #LD-023",type:"loader",status:"checked-out",location:"site-c",user:"Tom Wilson",lastUpdate:"5 hours ago"}];function yB(){const[e,t]=N.useState(gB),[n,s]=N.useState(null),[o,u]=N.useState(new Date);N.useEffect(()=>{const S=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(S)},[]);const f=S=>Md[S]||Md.warehouse,m=S=>S==="checked-in"?"📦":"📤",y=S=>({excavator:"🚜",bulldozer:"🚛",crane:"🏗️",loader:"🚚"})[S]||"🏗️",_=S=>{s(n?.id===S.id?null:S)},b=S=>{t(M=>M.map(k=>{if(k.id===S){const B=k.status==="checked-in"?"checked-out":"checked-in";return{...k,status:B,user:B==="checked-out"?"Current User":null,lastUpdate:"Just now"}}return k}))},A=(S,M)=>cp.divIcon({className:"inventory-marker",iconSize:[30,30],iconAnchor:[15,15],html:`<div class="marker-content ${M}">
               <div class="marker-icon">${y(S)}</div>
               <div class="marker-status">${m(M)}</div>
             </div>`});return E.jsx("div",{className:"inventory-demo",children:E.jsxs("div",{className:"browser-window",children:[E.jsxs("div",{className:"browser-header",children:[E.jsxs("div",{className:"browser-buttons",children:[E.jsx("div",{className:"browser-button red"}),E.jsx("div",{className:"browser-button yellow"}),E.jsx("div",{className:"browser-button green"})]}),E.jsx("div",{className:"browser-url",children:"taglogger.com/equipment"})]}),E.jsxs("div",{className:"browser-content",children:[E.jsxs("div",{className:"inventory-layout",children:[E.jsxs("div",{className:"inventory-sidebar",children:[E.jsxs("div",{className:"sidebar-header",children:[E.jsx("h3",{children:"Equipment Inventory"}),E.jsx("div",{className:"time-display",children:o.toLocaleTimeString()})]}),E.jsx("div",{className:"asset-list",children:e.map(S=>E.jsxs("div",{className:`asset-item ${n?.id===S.id?"selected":""} ${S.status}`,onClick:()=>_(S),children:[E.jsx("div",{className:"asset-icon",children:y(S.type)}),E.jsxs("div",{className:"asset-info",children:[E.jsx("div",{className:"asset-name",children:S.name}),E.jsxs("div",{className:"asset-details",children:[E.jsxs("span",{className:`status-badge ${S.status}`,children:[m(S.status)," ",S.status]}),E.jsxs("span",{className:"asset-location",children:["📍 ",S.location]})]}),S.user&&E.jsxs("div",{className:"asset-user",children:["👤 ",S.user]})]}),E.jsx("button",{className:`check-btn ${S.status}`,onClick:M=>{M.stopPropagation(),b(S.id)},children:S.status==="checked-in"?"Check Out":"Check In"})]},S.id))})]}),E.jsx("div",{className:"inventory-map",children:E.jsxs(fp,{center:Md.yard,zoom:12,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[E.jsx(mp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),Object.entries(Md).map(([S,M])=>E.jsx(rI,{center:M,radius:200,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:1,opacity:.5}},S)),e.map(S=>{const M=f(S.location);return M?E.jsx(dp,{position:M,icon:A(S.type,S.status)},S.id):null})]},"inventory-demo-map")})]}),n&&E.jsxs("div",{className:"asset-details-panel",children:[E.jsxs("div",{className:"details-header",children:[E.jsx("h4",{children:n.name}),E.jsx("button",{className:"close-btn",onClick:()=>s(null),children:"×"})]}),E.jsxs("div",{className:"details-content",children:[E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"detail-label",children:"Type:"}),E.jsx("span",{className:"detail-value",children:n.type})]}),E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"detail-label",children:"Status:"}),E.jsxs("span",{className:`detail-value status-${n.status}`,children:[m(n.status)," ",n.status]})]}),E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"detail-label",children:"Location:"}),E.jsxs("span",{className:"detail-value",children:["📍 ",n.location]})]}),n.user&&E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"detail-label",children:"Assigned to:"}),E.jsxs("span",{className:"detail-value",children:["👤 ",n.user]})]}),E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"detail-label",children:"Last updated:"}),E.jsx("span",{className:"detail-value",children:n.lastUpdate})]})]})]})]})]})})}function _B(){const[e,t]=N.useState(0),n=[{title:"Complete Location History",description:"Interactive timeline with 30-90+ day history. Analyze movement patterns and travel routes with timeline playback.",demo:E.jsx(mB,{})},{title:"Geofencing",description:"Virtual boundaries with automated alerts. Custom radius 100m-5km with email/SMS notifications.",demo:E.jsx(pB,{})},{title:"Inventory Check-In/Out",description:"Automate asset management with location-based status updates and inventory system integration.",demo:E.jsx(yB,{})}];return E.jsx("section",{id:"platform-features",className:"platform-features-section",role:"region","aria-labelledby":"platform-features-title",children:E.jsxs("div",{className:"platform-features-content",children:[E.jsx("h2",{id:"platform-features-title",className:"platform-features-title",children:"Platform Features"}),E.jsxs("div",{className:"platform-features-layout",children:[E.jsx("div",{className:"features-selector",children:n.map((s,o)=>E.jsx("button",{className:`feature-selector-btn ${e===o?"selected":""}`,onClick:()=>t(o),children:s.title},o))}),E.jsxs("div",{className:"demo-section",children:[E.jsx("p",{className:"feature-description",children:n[e].description}),E.jsx("div",{className:"demo-placeholder",children:n[e].demo})]})]})]})})}function vB(){const e=[{icon:"📦",title:"Order",subtitle:"Get pre-configured tags",description:"For your security and seamless integration, tags must be pre-configured and onboarded to our platform before shipping. This ensures they are ready to track without needing access to your iCloud account."},{icon:"🔗",title:"Activate",subtitle:"Link in seconds",description:"Once your pre-configured tags arrive, simply link them to your account on our platform. The tracking functionality will activate, ready for use."},{icon:"📍",title:"Track",subtitle:"Anywhere",description:"Access powerful platform features, including location history, geofencing, and inventory check-in/out capabilities."}];return E.jsx("section",{id:"how-it-works",className:"how-it-works-section",role:"region","aria-labelledby":"how-it-works-title",children:E.jsxs("div",{className:"how-it-works-content",children:[E.jsx("h2",{id:"how-it-works-title",className:"how-it-works-title",children:"How It Works"}),E.jsx("div",{className:"how-it-works-steps modern",children:e.map((t,n)=>E.jsxs(tm.Fragment,{children:[E.jsxs("div",{className:"how-it-works-step modern",children:[E.jsx("div",{className:"how-it-works-icon modern",children:t.icon}),E.jsx("div",{className:"how-it-works-step-title modern",children:t.title}),E.jsx("div",{className:"how-it-works-step-subtitle",children:t.subtitle}),E.jsx("p",{className:"how-it-works-step-description",children:t.description})]}),n<e.length-1&&E.jsx("div",{className:"how-it-works-chevron",children:"→"})]},n))})]})})}const gf=(e,t={})=>{typeof gtag<"u"?(gtag("event",e,t),console.log("GA4 Event tracked:",e,t)):console.warn("GA4 not loaded - event would be:",e,t)},TB=()=>{gf("sign_up",{method:"google"})},EB=()=>{gf("login",{method:"google"})},bB=(e=1)=>{gf("begin_checkout",{currency:"USD",value:e*4.99,items:[{item_id:"airtag_tracking",item_name:"AirTag Tracking Service",category:"subscription",quantity:e,price:4.99}]})},wB=(e=1,t)=>{gf("purchase",{transaction_id:t,currency:"USD",value:e*4.99,items:[{item_id:"airtag_tracking",item_name:"AirTag Tracking Service",category:"subscription",quantity:e,price:4.99}]})},SB=(e,t)=>{gf("cta_click",{cta_location:e,cta_text:t})},E0=(e,t={})=>{if(typeof fbq<"u"){const n=`${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate event",e,t);return}fbq("track",e,t),console.log("Meta Pixel Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - event would be:",e,t)},lI=(e,t={})=>{if(typeof fbq<"u"){const n=`custom_${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate custom event",e,t);return}fbq("trackCustom",e,t),console.log("Meta Pixel Custom Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - custom event would be:",e,t)},xx=()=>{TB(),E0("CompleteRegistration",{content_name:"User Registration",content_category:"signup"})},Ax=()=>{EB(),lI("UserLogin",{content_name:"User Login",content_category:"authentication"})},xB=(e=1)=>{bB(e),E0("InitiateCheckout",{content_name:"AirTag Tracking Service",content_category:"subscription",content_ids:["airtag_tracking"],content_type:"product",value:e*4.99,currency:"USD",num_items:e})},AB=(e=1,t)=>{wB(e,t),E0("Purchase",{content_name:"AirTag Tracking Service",content_category:"subscription",content_ids:["airtag_tracking"],content_type:"product",value:e*4.99,currency:"USD",num_items:e,transaction_id:t})},RB=(e,t)=>{SB(e,t),lI("CTAClick",{content_name:t,content_category:"cta",cta_location:e})};function CB(){const[e,t]=N.useState(1),n=Bo(),s=m=>m===1?4.99:m<=3?3.74:m<=10?3.49:2.99,o=m=>s(m)*m,u=m=>{if(m===1)return 0;const y=4.99,_=s(m),b=((y-_)/y*100).toFixed(0);return Math.max(0,b)},f=o(e);return s(e).toFixed(2),u(e),E.jsx("section",{id:"pricing",className:"pricing-section",role:"region","aria-labelledby":"pricing-title",children:E.jsxs("div",{className:"pricing-content",children:[E.jsx("h2",{id:"pricing-title",className:"pricing-title",children:"Simple, Transparent Pricing"}),E.jsx("p",{className:"pricing-subtitle",children:"One-time tag purchase + monthly subscription. Save up to 40% with volume discounts."}),E.jsx("div",{className:"pricing-calculator",children:E.jsxs("div",{className:"calculator-card",children:[E.jsxs("div",{className:"amount-section",children:[E.jsx("p",{className:"amount-label",children:"How many AirTags?"}),E.jsxs("div",{className:"tag-counter",children:[E.jsx("button",{className:"counter-btn",onClick:()=>t(Math.max(1,e-1)),disabled:e<=1,children:"-"}),E.jsxs("div",{className:"tag-display",children:[E.jsx("span",{className:"tag-count",children:e}),E.jsxs("span",{className:"tag-label",children:["AirTag",e>1?"s":""]})]}),E.jsx("button",{className:"counter-btn",onClick:()=>t(Math.min(100,e+1)),children:"+"})]})]}),E.jsxs("div",{className:"pricing-split",children:[E.jsxs("div",{className:"pricing-left",children:[E.jsx("h4",{className:"pricing-section-title",children:"Pre-configured tags"}),E.jsxs("span",{className:"setup-amount",children:["$",(e*29.99).toFixed(2)]}),E.jsx("img",{src:oI,className:"tag-image",alt:"Tag",style:{width:"48px",marginBottom:"10px"}}),E.jsxs("div",{className:"setup-fee",children:[E.jsx("span",{className:"setup-per-tag",children:"$29.99 per tag"}),E.jsx("br",{}),E.jsxs("span",{className:"setup-shipping-note",children:["free shipping",E.jsx("br",{}),E.jsx("span",{className:"shipping-region",children:"(continental US)"})]}),E.jsx("br",{})]})]}),E.jsx("div",{className:"pricing-divider"}),E.jsxs("div",{className:"pricing-right",children:[E.jsx("h4",{className:"pricing-section-title",children:"Monthly Subscription"}),E.jsxs("div",{className:"subscription-fee",children:[E.jsxs("span",{className:"subscription-amount",children:["$",(e*s(e)).toFixed(2)]}),E.jsx("span",{className:"subscription-label",children:"Monthly Fee"}),E.jsxs("span",{className:"subscription-per-tag",children:["$",s(e).toFixed(2)," per AirTag"]})]}),E.jsx("span",{className:"purchase-note",children:"Activate your subscription from the dashboard once your tags arrive."}),E.jsxs("div",{className:"volume-discounts",children:[E.jsx("h5",{className:"discounts-title",children:"Discounts"}),E.jsxs("table",{className:"discount-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Tags"}),E.jsx("th",{children:"Discount"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{children:[E.jsx("td",{children:"1"}),E.jsx("td",{children:"No discount"})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"2-3"}),E.jsx("td",{children:"25% off"})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"4-10"}),E.jsx("td",{children:"30% off"})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"10+"}),E.jsx("td",{children:"40% off"})]})]})]})]})]})]}),E.jsx("div",{className:"pricing-display-card compact",children:E.jsx("div",{className:"simple-pricing-line",children:E.jsxs("span",{className:"pricing-value",children:["$",f.toFixed(2)," /month"]})})}),E.jsxs("button",{className:"pricing-cta",onClick:()=>{RB("pricing_section",`Start Tracking ${e} AirTag${e>1?"s":""}`),n(`/login?tagCount=${e}&mode=register`)},children:["Start Tracking ",e," AirTag",e>1?"s":""]})]})})]})})}function IB(){const e=[{q:"Does your platform allow me as an Android user to use AirTags?",a:"Yes, since we set up the AirTags for you and provide a web app, you can use them as an Android user."},{q:"What devices are compatible with your platform?",a:"Our web app works on any modern browser, including Chrome, Safari, Firefox, and Edge, on both desktop and mobile devices."},{q:"What is the battery lifetime?",a:"Around 1 to 1.5 years. You can replace the battery yourself with a standard CR2032 coin cell."},{q:"Can I use my own tag?",a:"For your security, we never request access to your iCloud account. Tags must be onboarded to our platform before shipping. Once received, they are yours to keep and can be factory reset for regular use at any time."},{q:"Is my location data private and secure?",a:"Yes, we use industry-standard encryption and never share your data with third parties. Only you have access to your location history."},{q:"Can I export my location data?",a:"Yes, you can export your location history in CSV or JSON format for your records or analysis."},{q:"Can I reset the tags?",a:"Yes, you can factory reset your tags at any time and use them as you wish."},{q:"How many tags can I track simultaneously?",a:"There's no limit. If you plan to deploy more than 10 tags, please contact us for tailored support."},{q:"Shipping fee",a:"Shipping is free within the continental US. For other locations, see pricing at checkout."},{q:"Can I configure location-specific email alerts?",a:"Yes, you can set up location-based email alerts directly in the platform."},{q:"How far back does the location history go?",a:"There's no practical limit—your location history is available as far back as you need."},{q:"How do I access the application?",a:"You can access the platform via a web app that works seamlessly on both mobile and desktop browsers."},{q:"Can I pause or cancel my subscription?",a:"Yes, you can pause or cancel your subscription at any time from your account dashboard."}],[t,n]=N.useState(null),s=o=>n(t===o?null:o);return E.jsx("section",{id:"faq",className:"faq-section",role:"region","aria-labelledby":"faq-title",children:E.jsxs("div",{className:"faq-content",children:[E.jsx("h2",{id:"faq-title",className:"faq-title",children:"FAQ"}),E.jsx("div",{className:"faq-list",children:e.map((o,u)=>E.jsxs("div",{className:`faq-item${t===u?" open":""}`,children:[E.jsxs("button",{className:"faq-question",onClick:()=>s(u),"aria-expanded":t===u,"aria-controls":`faq-answer-${u}`,children:[E.jsx("span",{children:o.q}),E.jsx("span",{className:`faq-chevron${t===u?" open":""}`,"aria-hidden":"true",children:"▼"})]}),t===u&&E.jsx("div",{id:`faq-answer-${u}`,className:"faq-answer",role:"region","aria-labelledby":`faq-question-${u}`,children:o.a})]},u))})]})})}function PB(){const[e,t]=N.useState("hero"),[n,s]=N.useState(!1),o=[{id:"hero",label:"Home"},{id:"platform-features",label:"Platform"},{id:"feature-comparison",label:"How We Compare"},{id:"use-cases",label:"Use Cases"},{id:"how-it-works",label:"How It Works"},{id:"pricing",label:"Pricing"},{id:"faq",label:"FAQ"}],u=f=>{const m=document.getElementById(f);if(m){const _=f==="feature-comparison"?104:80,b=m.offsetTop-_;window.scrollTo({top:b,behavior:"smooth"}),window.history.pushState(null,null,`#${f}`)}};return N.useEffect(()=>{const f=()=>{const m=window.location.hash.slice(1);m&&o.find(y=>y.id===m)&&(t(m),u(m))};return window.location.hash&&f(),window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),N.useEffect(()=>{const f={rootMargin:"-20% 0px -80% 0px",threshold:0},m=new IntersectionObserver(y=>{y.forEach(_=>{_.isIntersecting&&t(_.target.id)})},f);return o.forEach(({id:y})=>{const _=document.getElementById(y);_&&m.observe(_)}),()=>m.disconnect()},[]),N.useEffect(()=>{const f=()=>{const y=window.scrollY,_=document.getElementById("hero");if(_){const b=_.offsetHeight;s(y>b*.8)}else s(y>500)},m=setTimeout(()=>{f()},100);return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f),clearTimeout(m)}},[]),E.jsx("nav",{className:`section-navigation ${n?"visible":""}`,role:"navigation","aria-label":"Page sections",children:E.jsx("div",{className:"nav-container",children:E.jsx("ul",{className:"nav-list",children:o.map(({id:f,label:m})=>E.jsx("li",{className:"nav-item",children:E.jsx("button",{className:`nav-link ${e===f?"active":""}`,onClick:()=>u(f),"aria-current":e===f?"true":"false","aria-label":`Go to ${m} section`,children:m})},f))})})})}function Rx({onScrollProgress:e}){const[t,n]=N.useState(null);return N.useEffect(()=>{e&&e(t)},[t,e]),E.jsxs("main",{id:"main-content",role:"main",tabIndex:"-1",children:[E.jsx(PB,{}),E.jsx(cB,{onScrollProgress:n}),E.jsx(_B,{}),E.jsx(fB,{}),E.jsx(dB,{}),E.jsx(vB,{}),E.jsx(CB,{}),E.jsx(IB,{})]})}function LB(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?e.state.tagCount:t.has("tagCount")?t.get("tagCount"):""}function Cx(e){return new URLSearchParams(e.search).get("mode")==="register"?"register":"login"}function MB(){const e=qs(),t=Bo(),[n,s]=N.useState(Cx(e)),[o,u]=N.useState(""),[f,m]=N.useState(""),[y,_]=N.useState(""),[b,A]=N.useState(""),[S,M]=N.useState(!1),k=LB(e);N.useEffect(()=>{s(Cx(e))},[e]);const B=async G=>{G.preventDefault(),A(""),M(!0);try{if(n==="register"){if(f!==y){A("Passwords do not match."),M(!1);return}const nt=await GD(wa,o,f);xx(),await bm(Lo(zs,"users",nt.user.uid),{email:nt.user.email,selectedTagCount:Number(k),subscribed:!1}),console.log("User document written to Firestore:",nt.user.uid),t("/purchase")}else{const nt=await WD(wa,o,f);Ax(),t("/purchase")}}catch(nt){console.error("Registration error:",nt),A(nt.message.replace("Firebase: ",""))}finally{M(!1)}},q=async()=>{A(""),M(!0);try{const G=await pN(wa,Bj),nt=Lo(zs,"users",G.user.uid);(await sp(nt)).exists()?Ax():(xx(),await bm(nt,{email:G.user.email,displayName:G.user.displayName||null,createdAt:G.user.metadata.creationTime,selectedTagCount:Number(k)||0,subscribed:!1}),console.log("New user document created in Firestore for Google sign-in:",G.user.uid)),t("/purchase")}catch(G){A(G.message.replace("Firebase: ",""))}finally{M(!1)}};return E.jsx("div",{className:"login-page-root",children:E.jsxs("div",{className:"login-card",children:[E.jsxs("div",{className:"login-toggle",children:[E.jsx("button",{className:n==="login"?"active":"",onClick:()=>s("login"),children:"Login"}),E.jsx("button",{className:n==="register"?"active":"",onClick:()=>s("register"),children:"Register"})]}),E.jsx("h2",{className:"login-title",children:n==="login"?"Login to your account":"Create an account"}),k&&E.jsx("div",{className:"login-tagcount-info",children:n==="register"?`Registering for ${k} tag${k>1?"s":""}`:""}),E.jsxs("form",{className:"login-form",onSubmit:B,children:[E.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:G=>u(G.target.value),required:!0,disabled:S}),E.jsx("input",{type:"password",placeholder:"Password",value:f,onChange:G=>m(G.target.value),required:!0,disabled:S}),n==="register"&&E.jsx("input",{type:"password",placeholder:"Confirm Password",value:y,onChange:G=>_(G.target.value),required:!0,disabled:S}),b&&E.jsx("div",{className:"login-error",children:b}),E.jsx("button",{type:"submit",className:"login-submit-btn",disabled:S,children:S?n==="login"?"Logging in...":"Registering...":n==="login"?"Login":"Register"}),n==="register"&&E.jsxs("p",{className:"terms-acknowledgement",children:["By registering, you acknowledge you have read and agree to our ",E.jsx("a",{href:"/terms",target:"_blank",children:"Terms of Service"})," and ",E.jsx("a",{href:"/privacy",target:"_blank",children:"Privacy Policy"}),"."]})]}),E.jsx("div",{className:"login-divider",children:"or"}),E.jsxs("button",{className:"google-auth-btn",type:"button",onClick:q,disabled:S,children:[E.jsx("span",{className:"google-icon",children:"G"})," Sign in with Google"]})]})})}function DB({tag:e,onCommitName:t,onCommitColor:n,showDivider:s}){const[o,u]=N.useState(!1),[f,m]=N.useState(e.name||""),[y,_]=N.useState(!1),[b,A]=N.useState(!1),[S,M]=N.useState(""),k=N.useRef(null);N.useEffect(()=>{m(e.name||"")},[e.name]);const B=()=>{M(""),m(e.name||""),u(!0)},q=()=>{m(e.name||""),u(!1),M("")},G=async()=>{if(y)return;const pt=(f||"").trim();try{_(!0),M(""),await t(e.id,pt),u(!1)}catch(ut){M(String(ut?.message||ut))}finally{_(!1)}},nt=async pt=>{if(pt)try{A(!0),M(""),await n(e.id,pt)}catch(ut){M(String(ut?.message||ut))}finally{A(!1)}},K=/^#([0-9a-fA-F]{3}){1,2}$/.test(e.color||"")?e.color:"#999999";return E.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:s?"1px solid rgba(255,255,255,0.08)":"none"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,minWidth:0},children:[E.jsx("button",{type:"button",onClick:()=>k.current?.click(),"aria-label":"Change tag color",style:{width:28,height:28,flex:"0 0 auto",padding:0,margin:0,borderRadius:"50%",border:"2px solid rgba(255,255,255,0.5)",boxSizing:"border-box",background:K,cursor:"pointer",position:"relative",lineHeight:0,WebkitAppearance:"none",appearance:"none",outline:"none",WebkitTapHighlightColor:"transparent"},title:"Change color",children:b&&E.jsx("span",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,color:"#000",fontWeight:700},children:"…"})}),E.jsx("input",{ref:k,type:"color",value:K,onChange:pt=>nt(pt.target.value),style:{position:"absolute",opacity:0,width:0,height:0,pointerEvents:"none"},"aria-hidden":!0,tabIndex:-1}),E.jsxs("div",{style:{color:"#fff",minWidth:0},children:[o?E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[E.jsx("input",{type:"text",autoFocus:!0,placeholder:"Name",value:f,onChange:pt=>m(pt.target.value),onKeyDown:pt=>{pt.key==="Enter"&&G(),pt.key==="Escape"&&q()},onBlur:G,style:{padding:"6px 8px",borderRadius:6,border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.06)",color:"#fff"}}),E.jsx("button",{type:"button",onClick:G,disabled:y,className:"dashboard-btn",style:{padding:"6px 10px"},children:y?"Saving…":"Save"}),E.jsx("button",{type:"button",onClick:q,style:{background:"transparent",color:"#bbb",border:"1px solid rgba(255,255,255,0.2)",borderRadius:6,padding:"6px 10px",cursor:"pointer"},children:"Cancel"})]}):E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[E.jsx("div",{style:{fontWeight:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:260},children:e.name||`AirTag ${e.id.slice(0,8)}`}),E.jsx("button",{type:"button",onClick:B,style:{background:"transparent",color:"#bbb",border:"1px solid rgba(255,255,255,0.2)",borderRadius:6,padding:"4px 8px",cursor:"pointer"},title:"Rename tag",children:"Edit"})]}),E.jsxs("div",{style:{opacity:.7,fontSize:12},children:["id: ",e.id]}),S&&E.jsx("div",{style:{color:"#ff7d7d",fontSize:12,marginTop:4},children:S})]})]})})}function NB(){const[e,t]=N.useState(null),[n,s]=N.useState(!0),[o,u]=N.useState(0),[f,m]=N.useState([]),[y,_]=N.useState([]),[b,A]=N.useState(!1),S=Bo(),[M,k]=tL(),[B,q]=N.useState(!1),[G,nt]=N.useState(!1);return N.useEffect(()=>{const K=nf(wa,async pt=>{if(pt){t(pt);const ut=Uh(zs,"purchases"),xt=zh(ut,Gu("userId","==",pt.uid),Gu("status","==","paid")),H=await Em(xt);m(H.docs.map(O=>O.data())),u(H.docs.reduce((O,V)=>O+(V.data().tagCount||0),0));try{const O=await Em(zh(Uh(zs,`users/${pt.uid}/accessories`)));_(O.docs.map(V=>({id:V.id,...V.data()})))}catch{}}else S("/login");s(!1)});return()=>K()},[S]),N.useEffect(()=>{if(M.get("tag_purchase")==="success"){A(!0);const K=M.get("tag_count")||"1",pt=M.get("session_id");AB(parseInt(K),pt);const ut=new URLSearchParams(M);ut.delete("tag_purchase"),ut.delete("tag_count"),ut.delete("session_id"),k(ut);const xt=setTimeout(()=>{A(!1)},5e3);return()=>clearTimeout(xt)}if(M.get("subscription")==="success"){const K=new URLSearchParams(M);K.delete("subscription"),K.delete("tag_count"),k(K)}},[M,k]),n?E.jsx("div",{className:"loading",children:"Loading..."}):E.jsxs("div",{className:"dashboard-page",children:[E.jsxs("header",{className:"dashboard-header",children:[E.jsxs("div",{className:"dashboard-header-main",children:[E.jsx("h1",{children:"Dashboard"}),E.jsx("div",{className:"dashboard-accent-bar"})]}),E.jsxs("div",{className:"user-info",children:[E.jsx("span",{className:"user-icon",children:"👤"}),E.jsxs("span",{children:["Welcome, ",e?.email]})]})]}),b&&E.jsx("div",{style:{background:"linear-gradient(135deg, #00eaff, #0099cc)",color:"#fff",padding:"16px 24px",margin:"0 auto 24px auto",maxWidth:"600px",borderRadius:"12px",textAlign:"center",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 20px rgba(0, 234, 255, 0.3)",animation:"slideIn 0.3s ease-out"},children:"🎉 Payment successful! Your AirTags are being prepared and you'll be notified once they're shipped."}),E.jsxs("main",{className:"dashboard-content",children:[E.jsxs("div",{style:{margin:"0 auto 24px auto",textAlign:"center",maxWidth:640,padding:0},children:[E.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.2)",borderRadius:12,padding:"16px 18px",background:"rgba(255,255,255,0.04)",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:0,minHeight:72},children:[E.jsxs("div",{style:{padding:"12px 0",borderRight:"1px solid rgba(255,255,255,0.12)"},children:[E.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:4},children:"Tags Purchased"}),E.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:o})]}),E.jsxs("div",{style:{padding:"12px 0",borderRight:"1px solid rgba(255,255,255,0.12)"},children:[E.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:4},children:"Tags Activated"}),E.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:"0"})]}),E.jsxs("div",{style:{padding:"12px 0"},children:[E.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:4},children:"Active Subscriptions"}),E.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:"0"})]})]}),0<o&&E.jsx("div",{style:{color:"#fff",background:"rgba(0,234,255,0.08)",borderRadius:8,padding:"14px 18px",margin:"14px 0 0 0",fontSize:15,fontWeight:400,lineHeight:1.5},children:"Thank you for your purchase! We are preparing your tags and will notify you once they are sent out. If you have any questions, please contact support."})]}),E.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"12px 0 24px 0"},children:E.jsxs("div",{role:"button",onClick:()=>S("/map"),onKeyDown:K=>{K.key==="Enter"&&S("/map")},tabIndex:0,style:{width:"100%",maxWidth:820,borderRadius:16,border:"1px solid rgba(255,255,255,0.15)",background:"linear-gradient(180deg, rgba(0,234,255,0.08), rgba(255,255,255,0.03))",cursor:"pointer",overflow:"hidden",boxShadow:"0 12px 30px rgba(0,0,0,0.35)"},children:[E.jsxs("div",{style:{position:"relative",height:200,background:"radial-gradient(1200px 200px at 30% 40%, rgba(0,234,255,0.25), transparent), #0b0b0b"},children:[E.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),E.jsx("div",{style:{position:"absolute",left:20,top:16,color:"#fff",fontWeight:700,letterSpacing:"-0.01em"},children:"TagLogger Map"}),E.jsx("div",{style:{position:"absolute",right:20,top:16,color:"#00eaff",fontWeight:700},children:"Open Map →"}),E.jsxs("svg",{viewBox:"0 0 800 200",preserveAspectRatio:"none",style:{position:"absolute",inset:0},children:[E.jsx("polyline",{points:"40,150 160,120 300,130 420,80 560,90 700,60",fill:"none",stroke:"#00eaff",strokeWidth:"4",opacity:"0.85"}),E.jsx("circle",{cx:"700",cy:"60",r:"8",fill:"#00eaff",stroke:"#fff",strokeWidth:"2"})]})]}),E.jsxs("div",{style:{padding:"14px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("div",{style:{color:"#ddd"},children:"View history, draw geofences, and manage assets on an interactive map."}),E.jsx("button",{className:"dashboard-btn",children:"Open Map"})]})]})}),E.jsxs("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:[E.jsx("button",{className:"dashboard-btn",onClick:()=>S("/purchase?additional=true"),children:"Purchase More Tags"}),o>0&&E.jsx("button",{className:"dashboard-btn",style:{marginLeft:12},disabled:B,onClick:async()=>{try{q(!0);const ut=(await En(Ln,"createAllTagsSubscriptionCheckout")({origin:window.location.origin})).data.url;ut?window.location.href=ut:console.error("Missing checkout URL")}catch(K){console.error(K)}finally{q(!1)}},children:"Activate Data Stream for All Purchased Tags"}),o>0&&E.jsx("button",{className:"dashboard-btn",style:{marginLeft:12},disabled:G,onClick:async()=>{try{nt(!0);const ut=(await En(Ln,"createCustomerPortalSession")({origin:window.location.origin})).data?.url;ut?window.location.href=ut:console.error("Missing portal URL")}catch(K){console.error(K)}finally{nt(!1)}},children:"Manage Subscription"})]}),y.length>0&&E.jsxs("div",{style:{margin:"28px auto 0 auto",maxWidth:640},children:[E.jsx("h3",{style:{color:"#fff",fontSize:18,fontWeight:700,marginBottom:10},children:"Your Tags"}),E.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:12,padding:12},children:y.map((K,pt)=>E.jsx(DB,{tag:K,showDivider:pt<y.length-1,onCommitName:async(ut,xt)=>{try{await En(Ln,"userUpdateTagMeta")({tagId:ut,name:xt}),_(O=>O.map(V=>V.id===ut?{...V,name:xt}:V))}catch(H){throw H}},onCommitColor:async(ut,xt)=>{try{await En(Ln,"userUpdateTagMeta")({tagId:ut,color:xt}),_(O=>O.map(V=>V.id===ut?{...V,color:xt}:V))}catch(H){throw H}}},K.id))})]}),f.length>0&&E.jsxs("div",{style:{margin:"44px auto 0 auto",maxWidth:440,padding:"0",textAlign:"center"},children:[E.jsx("h3",{style:{fontSize:18,fontWeight:700,margin:"0 0 14px 0",color:"#fff",letterSpacing:"-0.01em"},children:"Purchase History"}),E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:f.map((K,pt)=>E.jsxs("li",{style:{marginBottom:12,color:"#fff",fontSize:16,borderRadius:7,padding:"10px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"none",border:"1px solid rgba(255,255,255,0.08)"},children:[E.jsxs("span",{style:{fontWeight:600},children:[K.tagCount," Tag",K.tagCount!==1?"s":""]}),E.jsxs("span",{style:{color:"#00eaff",fontWeight:700,fontSize:15},children:["$",(K.amount/100).toFixed(2)]}),E.jsx("span",{style:{color:"#bbb",fontSize:14,fontWeight:400},children:K.createdAt?.toDate?K.createdAt.toDate().toLocaleString():"recently"})]},pt))})]})]})]})}function OB(){const[e,t]=N.useState(!0),[n,s]=N.useState(null),[o,u]=N.useState(!1),[f,m]=N.useState([]),[y,_]=N.useState("all"),[b,A]=N.useState(""),[S,M]=N.useState(!1),[k,B]=N.useState(!1),[q,G]=N.useState(!1),[nt,K]=N.useState(""),[pt,ut]=N.useState(!1),[xt,H]=N.useState(""),[O,V]=N.useState(""),[W,Z]=N.useState([]),[$,F]=N.useState([]),[Se,je]=N.useState("all"),[lt,Tt]=N.useState(null),[yt,te]=N.useState(null),[j,ct]=N.useState(null),[Et,vt]=N.useState([]),[wt,Pt]=N.useState("*/15 * * * *"),[St,Ee]=N.useState(!1),[ee,Dn]=N.useState([]),[sn,ei]=N.useState(null),[pe,ni]=N.useState(!1),[Nn,ps]=N.useState("assign"),[Gr,xn]=N.useState(!1),[ve,dr]=N.useState(null),[Ge,gi]=N.useState(null),[Ri,Zi]=N.useState([]),[On,Ki]=N.useState([]),[Te,re]=N.useState(!1),[An,Ke]=N.useState(""),[gs,Yi]=N.useState({total:0,done:0,failed:0});N.useEffect(()=>{const it=nf(wa,async It=>{if(!It){t(!1),s(null),u(!1);return}s(It);const jt=await sp(Lo(zs,"users",It.uid)),Mt=jt.exists()&&jt.data().isAdmin===!0;if(u(Mt),t(!1),Mt)try{const me=(await En(Ln,"adminListTags")({})).data.items||[];m(me);try{const vs=await En(Ln,"adminListAccounts")({});F(vs.data.items||[])}catch{}const Ct=await En(Ln,"adminListUsers")({pageSize:50});Z(Ct.data.items||[]),Tt(Ct.data.nextPageToken||null)}catch($t){K(String($t?.message||$t))}});return()=>it()},[]),N.useEffect(()=>{if(!o){Dn([]);return}try{const it=Uh(zs,"ingestRuns"),It=zh(it,gj("processedAt","desc"),yj(5)),jt=Tj(It,Mt=>{const $t=Mt.docs.map(ae=>({id:ae.id,...ae.data()}));Dn($t)},Mt=>{console.error("Error fetching ingest runs:",Mt),Dn([])});return()=>jt()}catch(it){console.error("Error setting up ingest runs listener:",it),Dn([])}},[o]),N.useEffect(()=>{o&&Nn==="backend"&&yi()},[o,Nn]);const $i=N.useMemo(()=>y==="unassigned"?f.filter(it=>!it.userId):y==="assigned"?f.filter(it=>!!it.userId):f,[f,y]),Ci=async()=>{try{M(!0);const jt=(await En(Ln,"adminListPurchases")({pageSize:500})).data?.items||[];vt(jt)}catch(it){K(String(it?.message||it))}finally{M(!1)}},yi=async()=>{try{ni(!0);const It=await En(Ln,"adminManageScheduler")({action:"status"});ei(It.data)}catch(it){console.error("Failed to check scheduler status:",it),ei({exists:!1,error:String(it?.message||it)})}finally{ni(!1)}},pn=async(it,It=null)=>{try{ni(!0);const jt=En(Ln,"adminManageScheduler"),Mt={action:it};It&&(Mt.schedule=It),(await jt(Mt)).data.success&&(K(`Scheduler ${it} successful!`),await yi(),it==="create"||it==="update"?(Pt(It),Ee(!0)):it==="pause"||it==="delete"?Ee(!1):it==="resume"&&Ee(!0))}catch(jt){K(`Failed to ${it} scheduler: ${jt?.message||jt}`)}finally{ni(!1)}},ys=[{value:"*/1 * * * *",label:"1 minute"},{value:"*/5 * * * *",label:"5 minutes"},{value:"*/10 * * * *",label:"10 minutes"},{value:"*/15 * * * *",label:"15 minutes"},{value:"*/30 * * * *",label:"30 minutes"},{value:"0 * * * *",label:"1 hour"},{value:"0 */2 * * *",label:"2 hours"},{value:"0 */8 * * *",label:"8 hours"},{value:"0 */12 * * *",label:"12 hours"},{value:"0 0 * * *",label:"24 hours"}],_i=it=>{const It=ys.find(jt=>jt.value===it);return It?It.label:"Custom schedule"},Ii=it=>it?ys.some(It=>It.value===it):!1,mr=it=>{try{if(!it)return"";if(typeof it?.toDate=="function")return it.toDate().toLocaleString();if(typeof it=="object"&&typeof it._seconds=="number")return new Date(it._seconds*1e3).toLocaleString();if(typeof it=="string"||typeof it=="number"){const It=new Date(it);if(!isNaN(It.getTime()))return It.toLocaleString()}}catch{}return""},pr=async it=>{xn(!0),dr(it),gi(null),Zi([]),Ki([]),Ke(""),Yi({total:0,done:0,failed:0});try{re(!0);let It=null;const jt=it?.email||"";if(jt)try{const si=(await En(Ln,"adminListUsers")({emailFilter:jt})).data?.items||[];It=si.length?si[0]:null}catch{}gi(It);const ae=(await En(Ln,"adminListTags")({})).data?.items||[];Zi(ae);const me=Math.max(0,Number(it.tagCount)||0),Ue=It?ae.filter(ii=>ii.userId===It.uid):[],Ct=Math.max(0,me-Ue.length),vs=ae.filter(ii=>!ii.userId).slice(0,Ct);Ki(vs),Yi({total:vs.length,done:0,failed:0}),it._calculatedAssigned=Ue.length,it._calculatedRemaining=Ct}catch(It){Ke(String(It?.message||It))}finally{re(!1)}},Pi=()=>{xn(!1),dr(null),gi(null),Zi([]),Ki([]),Ke(""),Yi({total:0,done:0,failed:0})},Li=it=>{Ki(It=>{if(It.find($t=>$t.id===it.id&&$t.accountId===it.accountId))return It.filter($t=>!($t.id===it.id&&$t.accountId===it.accountId));const Mt=ve?._calculatedRemaining||0;return Mt&&It.length>=Mt?It:[...It,it]})},Wr=async()=>{if(!Ge||!On.length)return;re(!0),Ke(""),Yi({total:On.length,done:0,failed:0});let it=0,It=0;try{for(const jt of On){try{await En(Ln,"adminAssignAccessory")({action:"assign",accountId:jt.accountId,accessoryId:jt.id,userId:Ge.uid}),it+=1}catch{It+=1}Yi({total:On.length,done:it,failed:It})}try{const Mt=await En(Ln,"adminListTags")({});m(Mt.data.items||[])}catch{}try{await Ci()}catch{}try{ve?.id&&it>=(ve?.tagCount||0)?await bm(Lo(zs,"purchases",ve.id),{fulfilled:!0,assignedCount:it},{merge:!0}):ve?.id&&await bm(Lo(zs,"purchases",ve.id),{assignedCount:it},{merge:!0})}catch{}}catch(jt){Ke(String(jt?.message||jt))}finally{re(!1)}},Mi=()=>{const it=["createdAt","email","phone","tagCount","amount","currency","status","shippingName","line1","line2","city","state","postal_code","country"],It=(Et||[]).map(me=>{const Ue=me.createdAt?.toDate?me.createdAt.toDate().toISOString():"",Ct=me.shippingAddress||{};return[Ue,me.email||"",me.phone||"",String(me.tagCount||""),typeof me.amount=="number"?(me.amount/100).toFixed(2):"",me.currency||"usd",me.status||"",me.shippingName||"",Ct.line1||"",Ct.line2||"",Ct.city||"",Ct.state||"",Ct.postal_code||"",Ct.country||""]}),jt=[it,...It].map(me=>me.map(Ue=>String(Ue).replaceAll('"','""')).map(Ue=>`"${Ue}"`).join(",")).join(`
`),Mt=new Blob([jt],{type:"text/csv;charset=utf-8;"}),$t=URL.createObjectURL(Mt),ae=document.createElement("a");ae.href=$t,ae.download=`orders_${new Date().toISOString().slice(0,10)}.csv`,ae.click(),URL.revokeObjectURL($t)},Zr=async()=>{if(lt)try{M(!0);const It=await En(Ln,"adminListUsers")({pageSize:50,pageToken:lt});Z(jt=>[...jt,...It.data.items||[]]),Tt(It.data.nextPageToken||null)}catch(it){K(String(it?.message||it))}finally{M(!1)}},_s=async it=>{te(it);try{M(!0);const jt=await En(Ln,"adminGetUserSummary")({userId:it.uid});ct(jt.data)}catch(It){K(String(It?.message||It))}finally{M(!1)}};return e?E.jsx("div",{style:{padding:24},children:"Loading…"}):n?o?E.jsxs("div",{className:"dashboard-page",children:[E.jsxs("header",{className:"dashboard-header",children:[E.jsxs("div",{className:"dashboard-header-main",children:[E.jsx("h1",{children:"Admin Page"}),E.jsx("div",{className:"dashboard-accent-bar"})]}),E.jsxs("div",{className:"user-info",children:[E.jsx("span",{className:"user-icon",children:"👤"}),E.jsxs("span",{children:["Welcome, ",n?.email]})]})]}),E.jsx("main",{className:"dashboard-content",children:E.jsxs("div",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[nt&&E.jsx("div",{style:{marginBottom:12,color:"#ff7d7d"},children:nt}),E.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16},children:[E.jsx("button",{onClick:()=>ps("assign"),disabled:Nn==="assign",children:"Users & Accessories"}),E.jsx("button",{onClick:()=>{ps("orders"),Ci()},disabled:Nn==="orders",children:"Assign to orders"}),E.jsx("button",{onClick:()=>ps("backend"),disabled:Nn==="backend",children:"Backend Operations"})]}),Nn==="assign"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",marginBottom:16},children:[E.jsx("label",{children:"Filter:"}),E.jsxs("select",{value:y,onChange:it=>_(it.target.value),children:[E.jsx("option",{value:"all",children:"All"}),E.jsx("option",{value:"unassigned",children:"Unassigned"}),E.jsx("option",{value:"assigned",children:"Assigned"})]}),E.jsx("button",{onClick:async()=>{try{M(!0);const It=await En(Ln,"adminListTags")({});m(It.data.items||[])}catch(it){K(String(it?.message||it))}finally{M(!1)}},children:"Refresh"})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:24},children:[E.jsxs("div",{children:[E.jsxs("h3",{children:["Users (",W.length,")"]}),E.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:8,maxHeight:420,overflow:"auto"},children:[(W||[]).map(it=>E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700},children:it.email||"(no email)"}),E.jsxs("div",{style:{opacity:.75,fontSize:12},children:["uid: ",it.uid]})]}),E.jsx("div",{children:E.jsx("button",{onClick:()=>_s(it),disabled:S,children:"View"})})]},it.uid)),!W?.length&&E.jsx("div",{style:{padding:12,opacity:.8},children:"No users."})]}),E.jsx("div",{style:{marginTop:8},children:E.jsx("button",{onClick:Zr,disabled:!lt||S,children:"Load more"})})]}),E.jsxs("div",{children:[E.jsxs("h3",{children:["Accessories (",$i.length,")"]}),E.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:8,maxHeight:420,overflow:"auto"},children:[$i.map((it,It)=>E.jsx("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700},children:it.name||`AirTag ${it.id.slice(0,8)}`}),E.jsxs("div",{style:{opacity:.75,fontSize:12},children:["id: ",it.id," ",it.userId?"(assigned)":"(unassigned)"]})]})},`${it.accountId||"unknown"}-${it.id}-${It}`)),$i.length===0&&E.jsx("div",{style:{padding:12,opacity:.8},children:"No tags."})]})]})]})]}),Nn==="backend"&&E.jsxs("div",{style:{display:"grid",gap:20},children:[E.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[E.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Data Ingestion"}),E.jsx("button",{disabled:k,onClick:async()=>{try{B(!0),await En(Ln,"adminTriggerIngestion")({})}catch(it){K(String(it?.message||it))}finally{B(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #00eaff",background:"#00eaff",color:"#000",fontWeight:700,cursor:k?"not-allowed":"pointer",opacity:k?.7:1},children:k?"Running...":"Run Ingestion Now"})]}),E.jsx("div",{style:{fontSize:14,color:"#bbb",marginBottom:16},children:"Fetch latest location data from Apple Find My and update tag positions"}),E.jsxs("div",{style:{marginBottom:16},children:[E.jsxs("h4",{style:{fontSize:14,fontWeight:600,color:"#fff",marginBottom:8},children:["Recent Runs (",ee.length,")"]}),E.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,maxHeight:200,overflowY:"auto"},children:ee.length===0?E.jsx("div",{style:{padding:12,color:"#aaa",fontSize:12},children:"No runs yet"}):ee.map((it,It)=>{const jt=Mt=>{if(!Mt)return"Unknown time";try{return Mt.toDate?Mt.toDate().toLocaleString():Mt.seconds?new Date(Mt.seconds*1e3).toLocaleString():new Date(Mt).toLocaleString()}catch{return"Invalid time"}};return E.jsxs("div",{style:{padding:"8px 12px",borderBottom:It<ee.length-1?"1px solid rgba(255,255,255,0.05)":"none",fontSize:12},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[E.jsxs("span",{style:{color:"#fff",fontWeight:600},children:["Account: ",it.accountId||"Unknown"]}),E.jsx("span",{style:{color:"#bbb"},children:jt(it.processedAt)})]}),E.jsxs("div",{style:{display:"flex",gap:16,color:"#bbb"},children:[E.jsxs("span",{children:["Created: ",E.jsx("span",{style:{color:"#4ade80"},children:it.createdLocations||0})]}),E.jsxs("span",{children:["Skipped: ",E.jsx("span",{style:{color:"#fbbf24"},children:it.dedupLocations||0})]}),E.jsxs("span",{children:["Updates: ",E.jsx("span",{style:{color:"#60a5fa"},children:it.lastSeenUpdates||0})]}),E.jsxs("span",{children:["Writes: ",E.jsx("span",{style:{color:"#a78bfa"},children:it.totalWrites||0})]})]})]},it.id)})})]}),E.jsxs("div",{children:[E.jsx("h4",{style:{fontSize:14,fontWeight:600,color:"#fff",marginBottom:8},children:"Automation Schedule"}),E.jsx("div",{style:{marginBottom:12,padding:8,border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,background:"rgba(255,255,255,0.02)"},children:pe?E.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Checking scheduler status..."}):sn?E.jsx("div",{style:{fontSize:12},children:sn.exists?E.jsxs("div",{children:[E.jsxs("div",{style:{color:sn.state==="ENABLED"?"#4ade80":"#fbbf24"},children:["● Status: ",E.jsx("strong",{children:sn.state||"Unknown"})]}),E.jsxs("div",{style:{color:"#bbb",marginTop:2},children:["Frequency: ",E.jsx("strong",{children:_i(sn.schedule)})]}),sn.nextRunTime&&E.jsxs("div",{style:{color:"#bbb",marginTop:2},children:["Next run: ",new Date(sn.nextRunTime.seconds*1e3).toLocaleString()]})]}):E.jsx("div",{style:{color:"#ff9f0a"},children:"● No Cloud Scheduler job exists"})}):E.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Status unknown"})}),E.jsxs("div",{style:{display:"grid",gap:8,maxWidth:480},children:[E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",fontSize:12,color:"#bbb",marginBottom:4},children:"Ingestion Frequency"}),E.jsxs("select",{value:wt,onChange:it=>Pt(it.target.value),style:{width:"100%",padding:"8px 10px",borderRadius:6,border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:13,cursor:"pointer"},children:[E.jsx("option",{value:"",style:{background:"#1f1f1f",color:"#fff"},children:"Select frequency..."}),ys.map(it=>E.jsx("option",{value:it.value,style:{background:"#1f1f1f",color:"#fff"},children:it.label},it.value))]}),E.jsx("div",{style:{fontSize:11,color:"#bbb",marginTop:4},children:"Choose how often to automatically fetch location data from Apple"})]}),E.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[sn?.exists?E.jsxs(E.Fragment,{children:[E.jsx("button",{disabled:pe||!Ii(wt),onClick:()=>pn("update",wt),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #60a5fa",background:"#60a5fa",color:"#000",fontSize:12,fontWeight:600,cursor:pe||!Ii(wt)?"not-allowed":"pointer",opacity:pe||!Ii(wt)?.5:1},children:"Update Frequency"}),sn.state==="ENABLED"?E.jsx("button",{disabled:pe,onClick:()=>pn("pause"),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #fbbf24",background:"#fbbf24",color:"#000",fontSize:12,fontWeight:600,cursor:pe?"not-allowed":"pointer",opacity:pe?.5:1},children:"Pause"}):E.jsx("button",{disabled:pe,onClick:()=>pn("resume"),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #4ade80",background:"#4ade80",color:"#000",fontSize:12,fontWeight:600,cursor:pe?"not-allowed":"pointer",opacity:pe?.5:1},children:"Resume"}),E.jsx("button",{disabled:pe,onClick:()=>{confirm("Delete the scheduler job? This will stop all automated ingestion.")&&pn("delete")},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #ef4444",background:"transparent",color:"#ef4444",fontSize:12,cursor:pe?"not-allowed":"pointer",opacity:pe?.5:1},children:"Delete"})]}):E.jsx("button",{disabled:pe||!Ii(wt),onClick:()=>pn("create",wt),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #4ade80",background:"#4ade80",color:"#000",fontSize:12,fontWeight:600,cursor:pe||!Ii(wt)?"not-allowed":"pointer",opacity:pe||!Ii(wt)?.5:1},children:pe?"Setting up...":"Enable Automation"}),E.jsx("button",{disabled:pe,onClick:yi,style:{padding:"8px 16px",borderRadius:6,border:"1px solid rgba(255,255,255,0.3)",background:"transparent",color:"#fff",fontSize:12,cursor:pe?"not-allowed":"pointer",opacity:pe?.5:1},children:"Refresh Status"})]})]})]})]}),E.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[E.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Geofence Monitoring"}),E.jsx("button",{disabled:q,onClick:async()=>{try{G(!0),await En(Ln,"adminTriggerGeofenceMonitor")({})}catch(it){K(String(it?.message||it))}finally{G(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:700,cursor:q?"not-allowed":"pointer",opacity:q?.7:1},children:q?"Checking...":"Run Geofence Check"})]}),E.jsx("div",{style:{fontSize:14,color:"#bbb",marginBottom:16},children:"Check all active geofences for entry/exit events and send notifications"}),E.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Manual trigger only - automatic scheduling coming soon"})]})]}),Nn==="orders"&&E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[E.jsxs("h3",{children:["Assign to orders (",Et.length,")"]}),E.jsxs("div",{style:{display:"flex",gap:8},children:[E.jsx("button",{onClick:Ci,disabled:S,children:"Refresh"}),E.jsx("button",{onClick:Mi,disabled:!Et.length,children:"Export CSV"})]})]}),E.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,overflow:"auto"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{background:"rgba(255,255,255,0.06)"},children:[E.jsx("th",{style:{textAlign:"left",padding:8},children:"Date"}),E.jsx("th",{style:{textAlign:"left",padding:8},children:"Email"}),E.jsx("th",{style:{textAlign:"right",padding:8},children:"Tags"}),E.jsx("th",{style:{textAlign:"right",padding:8},children:"Amount"}),E.jsx("th",{style:{textAlign:"left",padding:8},children:"Status"}),E.jsx("th",{style:{textAlign:"left",padding:8},children:"Action"})]})}),E.jsxs("tbody",{children:[Et.map(it=>{const It=mr(it.createdAt),jt=typeof it.amount=="number"?`$${(it.amount/100).toFixed(2)}`:typeof it.amount_total=="number"?`$${(it.amount_total/100).toFixed(2)}`:"";return E.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[E.jsx("td",{style:{padding:8},children:It}),E.jsx("td",{style:{padding:8},children:it.email||"—"}),E.jsx("td",{style:{padding:8,textAlign:"right"},children:it.tagCount||""}),E.jsx("td",{style:{padding:8,textAlign:"right"},children:jt}),E.jsx("td",{style:{padding:8},children:it.status||""}),E.jsx("td",{style:{padding:8},children:E.jsxs("button",{onClick:()=>pr(it),disabled:S,title:`Assign ${it.tagCount||0} tag(s)`,"aria-label":`Assign ${it.tagCount||0} tags for ${it.email||"order"}`,children:["Assign ",it.tagCount||0]})})]},it.id)}),!Et.length&&E.jsx("tr",{children:E.jsx("td",{colSpan:6,style:{padding:12,opacity:.8},children:"No orders found."})})]})]})}),Gr&&E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:E.jsxs("div",{style:{width:"min(720px, 92vw)",background:"#121212",border:"1px solid rgba(255,255,255,0.15)",borderRadius:12,boxShadow:"0 12px 40px rgba(0,0,0,0.5)"},children:[E.jsxs("div",{style:{padding:"14px 16px",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{color:"#fff",fontWeight:700},children:["Assign ",ve?.tagCount||0," tag(s)",ve?.email?` to ${ve.email}`:""]}),E.jsx("button",{onClick:Pi,disabled:Te,style:{background:"transparent",color:"#bbb",border:"1px solid rgba(255,255,255,0.2)",borderRadius:6,padding:"6px 10px"},children:"Close"})]}),E.jsxs("div",{style:{padding:16,display:"grid",gap:12},children:[An&&E.jsx("div",{style:{color:"#ff7d7d"},children:An}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[E.jsx("div",{style:{gridColumn:"1 / -1"},children:E.jsxs("div",{style:{fontSize:13,opacity:.9,marginBottom:8},children:["Order date: ",mr(ve?.createdAt)," · Email: ",ve?.email||"—"]})}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700,color:"#fff",marginBottom:8},children:"User"}),E.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:10,minHeight:72},children:Ge?E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700},children:Ge.email}),E.jsxs("div",{style:{opacity:.75,fontSize:12},children:["uid: ",Ge.uid]})]}):E.jsx("div",{style:{opacity:.8},children:"No user resolved by email. Select a user from the Users list on the Assign tab and try again, or create the user first."})}),E.jsxs("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:["Required: ",ve?.tagCount||0]})]}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700,color:"#fff",marginBottom:8},children:"Tag Assignment"}),E.jsxs("div",{style:{marginBottom:12},children:[E.jsxs("div",{style:{fontSize:12,color:"#bbb",marginBottom:8},children:[E.jsxs("div",{children:["Order needs: ",E.jsx("strong",{children:ve?.tagCount||0})," tags total"]}),Ge&&E.jsxs("div",{style:{marginTop:4},children:["Already assigned to ",E.jsx("strong",{style:{color:"#4ade80"},children:Ge.email}),":",E.jsxs("strong",{style:{color:"#4ade80"},children:[" ",ve?._calculatedAssigned||0]})," tags"]}),E.jsx("div",{style:{marginTop:4},children:E.jsxs("strong",{style:{color:ve?._calculatedRemaining>0?"#fbbf24":"#4ade80"},children:["Remaining needed: ",ve?._calculatedRemaining||0]})})]}),E.jsxs("div",{style:{padding:8,border:"1px solid rgba(255,255,255,0.12)",borderRadius:6,background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:12},children:[E.jsx("strong",{children:"Instructions:"})," ",Ge?`Tags already assigned to ${Ge.email} are highlighted in green. `:"","Select unassigned tags to complete this order."]})]}),E.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:8,maxHeight:220,overflow:"auto"},children:Ri.length?Ri.map(it=>{const It=!!On.find(me=>me.id===it.id&&me.accountId===it.accountId),jt=!!it.userId,Mt=Ge&&it.userId===Ge.uid,$t=jt&&!Mt,ae=ve?._calculatedRemaining||0;return E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 8px",borderBottom:"1px solid rgba(255,255,255,0.08)",opacity:$t?.3:1,background:It?"rgba(0,234,255,0.15)":Mt?"rgba(74,222,128,0.15)":$t?"rgba(255,159,10,0.1)":"transparent"},children:[E.jsxs("div",{children:[E.jsxs("div",{style:{fontWeight:700,color:Mt?"#4ade80":$t?"#ff9f0a":"#fff"},children:[it.name||`AirTag ${it.id.slice(0,8)}`,Mt&&E.jsx("span",{style:{marginLeft:8,fontSize:11,padding:"2px 6px",background:"#4ade80",color:"#000",borderRadius:4},children:"ASSIGNED TO USER"}),$t&&E.jsx("span",{style:{marginLeft:8,fontSize:11,padding:"2px 6px",background:"#ff9f0a",color:"#000",borderRadius:4},children:"ASSIGNED OTHER"})]}),E.jsxs("div",{style:{opacity:.75,fontSize:12},children:["id: ",it.id," · acct: ",it.accountId||"n/a",jt&&it.userId&&E.jsx("span",{style:{color:Mt?"#4ade80":"#ff9f0a"},children:Mt?` → ${Ge.email}`:` → ${it.userId}`})]})]}),E.jsx("div",{children:E.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13},children:[E.jsx("input",{type:"checkbox",checked:It,onChange:()=>Li(it),disabled:Te||jt||ae&&!It&&On.length>=ae}),It?"✓ Selected":Mt?"✓ Yours":$t?"✗ Other":"Available"]})})]},`${it.accountId}:${it.id}`)}):E.jsx("div",{style:{padding:8,opacity:.8},children:"No tags available."})}),E.jsxs("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Selected: ",On.length," / ",ve?._calculatedRemaining||0," remaining • Available: ",Ri.filter(it=>!it.userId).length,"• This User: ",ve?._calculatedAssigned||0,"• Others: ",Ri.filter(it=>it.userId&&it.userId!==Ge?.uid).length]}),E.jsxs("div",{style:{display:"flex",gap:8},children:[E.jsxs("button",{disabled:Te||(ve?._calculatedRemaining||0)===0,onClick:()=>{const it=ve?._calculatedRemaining||0,jt=Ri.filter(Mt=>!Mt.userId).slice(0,it);Ki(jt),Yi(Mt=>({...Mt,total:jt.length}))},children:["Auto-select ",ve?._calculatedRemaining||0]}),E.jsx("button",{disabled:Te,onClick:()=>Ki([]),children:"Clear"})]})]})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:4},children:[E.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Progress: ",gs.done,"/",gs.total," assigned",gs.failed?`, ${gs.failed} failed`:""]}),E.jsx("div",{children:E.jsx("button",{onClick:Wr,disabled:Te||!Ge||On.length!==Math.min(ve?.tagCount||0,Ri.length),title:Ge?On.length!==Math.min(ve?.tagCount||0,Ri.length)?"Select required number of tags":"Assign":"Resolve user first",children:Te?"Assigning…":`Assign ${On.length}`})})]})]})]})})]})]})})]}):E.jsx("div",{style:{padding:24},children:"Not authorized."}):E.jsx("div",{style:{padding:24},children:"Please sign in."})}var uI="basil",kB=function(t){return t===3?"v3":t},cI="https://js.stripe.com",VB="".concat(cI,"/").concat(uI,"/stripe.js"),jB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,UB=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var zB=function(t){return jB.test(t)||UB.test(t)},BB=function(){for(var t=document.querySelectorAll('script[src^="'.concat(cI,'"]')),n=0;n<t.length;n++){var s=t[n];if(zB(s.src))return s}return null},Ix=function(t){var n="",s=document.createElement("script");s.src="".concat(VB).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(s),s},FB=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.5.0",startTime:n})},ih=null,Dd=null,Nd=null,HB=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},qB=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},GB=function(t){return ih!==null?ih:(ih=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=BB();if(!(o&&t)){if(!o)o=Ix(t);else if(o&&Nd!==null&&Dd!==null){var u;o.removeEventListener("load",Nd),o.removeEventListener("error",Dd),(u=o.parentNode)===null||u===void 0||u.removeChild(o),o=Ix(t)}}Nd=qB(n,s),Dd=HB(s),o.addEventListener("load",Nd),o.addEventListener("error",Dd)}catch(f){s(f);return}}),ih.catch(function(n){return ih=null,Promise.reject(n)}))},WB=function(t,n,s){if(t===null)return null;var o=n[0],u=o.match(/^pk_test/),f=kB(t.version),m=uI;u&&f!==m&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("7.5.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var y=t.apply(void 0,n);return FB(y,s),y},sh,hI=!1,fI=function(){return sh||(sh=GB(null).catch(function(t){return sh=null,Promise.reject(t)}),sh)};Promise.resolve().then(function(){return fI()}).catch(function(e){hI||console.warn(e)});var ZB=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];hI=!0;var o=Date.now();return fI().then(function(u){return WB(u,n,o)})};const KB=ZB("pk_live_51RnBJpBGn8gfa2UxBgm0adcqppMm1mRjvGe7f1PRurEIwXUAGEeMVR5fZ27Qe8CJePvkmcbtdgVbvYFrRi5dp8Mo00VcNUxbA9");function YB(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?Number(e.state.tagCount):t.has("tagCount")?Number(t.get("tagCount")):1}function $B(){const e=qs(),t=Bo(),[n,s]=N.useState(()=>YB(e)),[o,u]=N.useState(!1),[f,m]=N.useState(""),[y,_]=N.useState(!0),[b,A]=N.useState(!1);N.useEffect(()=>{const B=nf(wa,async q=>{if(q)try{const G=Uh(zs,"purchases"),nt=zh(G,Gu("userId","==",q.uid),Gu("status","==","paid")),K=await Em(nt),ut=new URLSearchParams(e.search).get("additional")==="true";if(!K.empty&&!ut){A(!0),t("/dashboard",{replace:!0});return}const xt=await sp(Lo(zs,"users",q.uid));xt.exists()&&xt.data().selectedTagCount&&s(xt.data().selectedTagCount)}catch(G){console.error("Error checking purchases:",G)}else t("/login",{replace:!0});_(!1)});return()=>B()},[e,t]);const S=async()=>{u(!0),m(""),xB(n);try{const B=pR(hf),q=En(B,"createTagCheckout"),G=window.location.origin,nt=await q({tagCount:n,origin:G});nt.data&&nt.data.sessionId?await(await KB).redirectToCheckout({sessionId:nt.data.sessionId}):m("Failed to create Stripe Checkout session.")}catch(B){m("Error: "+(B.message||"Unknown error"))}finally{u(!1)}};if(y)return E.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:E.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:"Checking your account..."})});const k=new URLSearchParams(e.search).get("additional")==="true";return E.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:E.jsxs("div",{className:"calculator-card",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:20,padding:"50px 40px",textAlign:"center",backdropFilter:"blur(10px)",maxWidth:400,width:"100%"},children:[E.jsx("h2",{style:{color:"white",fontSize:"2.2rem",fontWeight:600,margin:"0 0 18px 0",letterSpacing:"-0.01em"},children:k?"Purchase More Tags":"Purchase Tags"}),E.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"1.1rem",fontWeight:400,margin:"0 0 32px 0"},children:k?"Add more tags to your account and expand your tracking capabilities.":"Select the number of tags you want to purchase and proceed to secure checkout."}),E.jsxs("div",{style:{marginBottom:32},children:[E.jsx("label",{style:{color:"rgba(255,255,255,0.8)",fontWeight:500,fontSize:16,marginBottom:10,display:"block"},children:"Number of tags:"}),E.jsx("input",{type:"number",min:1,max:20,value:n,onChange:B=>s(Number(B.target.value)),disabled:o,style:{width:90,fontSize:18,padding:8,borderRadius:8,border:"1px solid #fff",textAlign:"center",fontWeight:600,background:"rgba(255,255,255,0.08)",color:"white",outline:"none",marginTop:4}})]}),E.jsx("button",{className:"pricing-cta",onClick:S,disabled:o||n<1,style:{background:"#00eaff",color:"#000",border:"none",borderRadius:12,padding:"16px 0",fontSize:20,fontWeight:700,cursor:o?"not-allowed":"pointer",width:"100%",marginBottom:10,boxShadow:"0 2px 8px rgba(0,234,255,0.08)",transition:"background 0.2s",letterSpacing:"-0.01em"},onMouseOver:B=>B.currentTarget.style.background="#00bcd4",onMouseOut:B=>B.currentTarget.style.background="#00eaff",children:o?"Redirecting...":`Purchase ${n} Tag${n>1?"s":""}`}),f&&E.jsx("div",{style:{color:"#ff4d4f",marginTop:18,fontWeight:500},children:f})]})})}function XB(){return N.useEffect(()=>{window.scrollTo(0,0)},[]),E.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:E.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[E.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Terms and Conditions"}),E.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:E.jsx("strong",{children:"Last updated: July 22, 2025"})}),E.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"1. Acceptance of Terms"}),E.jsx("p",{children:"By registering for or using TagLogger’s platform (“Service”), you agree to be bound by these Terms and our Privacy Policy. If you do not agree, do not use the Service."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"2. Service Description"}),E.jsx("p",{children:"TagLogger provides a web‑based platform to track Apple AirTag devices, offering real‑time location, historical playback, geofencing, data export, and customizable alerts. We are an independent service and are not affiliated with Apple Inc."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"3. Eligibility & Account Registration"}),E.jsxs("ul",{children:[E.jsx("li",{children:"You must be at least 18 years old and able to form a binding contract."}),E.jsx("li",{children:"You agree to provide accurate, current, and complete information during registration and to keep your account credentials secure."}),E.jsx("li",{children:"You are responsible for all activity under your account."})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"4. Fees & Payment"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Tag Purchase"}),": One‑time fee per AirTag, at prices shown in your dashboard (free continental U.S. shipping)."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Subscription"}),": Recurring monthly fee per tag, billed automatically. Volume discounts apply (see Pricing Page)."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Payment Methods"}),": Major credit/debit cards and PayPal."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Non‑Refundable"}),": All fees are non‑refundable except as required by law."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Late or Failed Payments"}),": We may suspend your Service until payment is received."]})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"5. Use Restrictions"}),E.jsx("p",{children:"You agree not to:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Reverse engineer, decompile, or otherwise attempt to derive source code."}),E.jsx("li",{children:"Scrape, harvest, or extract data from the Service."}),E.jsx("li",{children:"Interfere with the operation or security of the Service."}),E.jsx("li",{children:"Use the Service for any unlawful purpose or without obtaining all required consents."})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"6. Ownership & License"}),E.jsxs("ul",{children:[E.jsx("li",{children:"TagLogger and its licensors retain all rights in the Service, including software, trademarks, and content."}),E.jsx("li",{children:"You own your location and account data (“Customer Data”) but grant us a worldwide, royalty‑free license to host, process, and display it as necessary to provide the Service."})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"7. Privacy & Data Security"}),E.jsx("p",{children:"Our Privacy Policy explains how we collect, use, share, and protect Customer Data. You are responsible for ensuring your use of the Service complies with all applicable privacy and surveillance laws."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"8. Disclaimers"}),E.jsx("p",{children:"The Service is provided “AS IS” and “AS AVAILABLE,” with all faults. TAGLOGGER AND ITS AFFILIATES, LICENSORS, AND SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Any warranty of merchantability or fitness for a particular purpose;"}),E.jsx("li",{children:"Any warranty of uninterrupted, error‑free, secure, or virus‑free operation;"}),E.jsx("li",{children:"Any warranty as to the accuracy, completeness, or timeliness of location data or other information;"}),E.jsx("li",{children:"Any warranty that the Service complies with applicable laws or regulations."})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"9. Limitation of Liability"}),E.jsxs("p",{children:[E.jsx("strong",{children:"9.1 EXCLUSION OF DAMAGES."})," TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL TAGLOGGER OR ITS AFFILIATES, LICENSORS, OR SUPPLIERS BE LIABLE FOR ANY:"]}),E.jsxs("ul",{children:[E.jsx("li",{children:"INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR GOODWILL), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES;"}),E.jsx("li",{children:"DAMAGES ARISING FROM THIRD‑PARTY CLAIMS OR ACTIONS."})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"9.2 DAMAGE CAP."})," TAGLOGGER’S AGGREGATE LIABILITY FOR ALL CLAIMS ARISING OUT OF OR RELATING TO THE SERVICE, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, SHALL NOT EXCEED THE GREATER OF:"]}),E.jsxs("ul",{children:[E.jsx("li",{children:"(A) THE TOTAL SUBSCRIPTION FEES YOU PAID IN THE THREE (3) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM; OR"}),E.jsx("li",{children:"(B) ONE HUNDRED DOLLARS (US $100)."})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"9.3 FORCE MAJEURE."})," TAGLOGGER SHALL NOT BE LIABLE FOR FAILURE OR DELAY IN PERFORMANCE DUE TO CAUSES BEYOND ITS REASONABLE CONTROL, INCLUDING NATURAL DISASTERS, WAR, TERRORISM, RIOTS, EMBARGOES, GOVERNMENT ACTIONS, LABOR DISPUTES, OR INTERNET/NETWORK FAILURES."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"9.4 ALLOCATION OF RISK."})," THESE LIMITATIONS ARE AN ESSENTIAL PART OF THE BARGAIN BETWEEN YOU AND TAGLOGGER. YOU ACKNOWLEDGE THAT WITHOUT THEM, THE SUBSCRIPTION FEES WOULD BE SUBSTANTIALLY HIGHER."]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"10. Indemnification"}),E.jsx("p",{children:"You agree to indemnify, defend, and hold harmless TagLogger and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys’ fees) arising out of:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Your use of the Service;"}),E.jsx("li",{children:"Your violation of these Terms; or"}),E.jsx("li",{children:"Any third‑party claim alleging infringement of intellectual property or privacy rights."})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"11. Termination"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("strong",{children:"By You:"})," You may cancel your subscription at any time via the dashboard; cancellation is effective at the end of your current billing cycle."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"By Us:"})," We may suspend or terminate your account for non‑payment, breach of these Terms, or compliance with legal or regulatory requirements."]}),E.jsx("li",{children:"Upon termination, your right to access the Service ends immediately, and we may delete your Customer Data."})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"12. Changes to Service or Terms"}),E.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue the Service or any part thereof at any time. We may update these Terms by posting the revised version with a new “Last updated” date. Your continued use after changes constitutes acceptance."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"13. Governing Law & Dispute Resolution"}),E.jsx("p",{children:"These Terms are governed by California law (excluding conflict‑of‑law rules). Any dispute arising under these Terms will be resolved by binding arbitration in Los Angeles County under the American Arbitration Association’s rules. You and TagLogger each waive the right to a jury trial and to participate in any class‑action lawsuit."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"14. Severability & Waiver"}),E.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, the remaining provisions remain in full force. Our failure to enforce any right or provision will not constitute a waiver of future enforcement."}),E.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),E.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",textAlign:"center"},children:E.jsx("em",{children:"End of Terms and Conditions"})})]})})}function QB(){return N.useEffect(()=>{window.scrollTo(0,0)},[]),E.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:E.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[E.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Privacy Policy"}),E.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:E.jsx("strong",{children:"Effective Date: July 21, 2025"})}),E.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:E.jsx("strong",{children:"Version: 1.0"})}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Introduction"}),E.jsx("p",{children:"At TagLogger, we are committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our services. By using TagLogger, you agree to the practices described in this policy."}),E.jsxs("p",{children:[E.jsx("strong",{children:"Data Controller:"})," TagLogger is the data controller responsible for your personal information. For any questions or concerns about this policy or your data, please contact us via the in-app support form or through our Contact Us page."]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Information We Collect"}),E.jsx("p",{children:"We collect the following types of information to provide and improve our services:"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Location Data:"})," Latitude, longitude, and timestamps associated with your AirTags for location history and tracking features."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"User Identification:"})," Account details like your email address or username to link location data to your account."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Used to authenticate users, remember preferences, and analyze website usage."]})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Use Your Information"}),E.jsx("p",{children:"We use your information to:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Provide the TagLogger service, including location history, geofencing, inventory management, and interactive timelines."}),E.jsx("li",{children:"Improve our services, troubleshoot issues, and develop new features."}),E.jsx("li",{children:"Communicate with you about your account, updates, or support matters."})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Share Your Information"}),E.jsx("p",{children:"We do not share your location data with third parties, except as follows:"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Trusted Service Providers:"})," We may share data with trusted vendors (e.g., for hosting, analytics, or payment processing) who are bound by confidentiality obligations and use your data only to perform services for us."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Legal Requirements:"})," When required by law, such as a subpoena or court order."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Protection of Rights:"})," To protect TagLogger, our users, or others."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"With Your Consent:"})," If you explicitly agree to share your data."]})]}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Your Choices and Rights"}),E.jsx("p",{children:"You can:"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Access:"})," View your data through your account dashboard."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Correct:"})," Update inaccuracies in your account settings."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Delete:"})," Request data deletion, subject to legal retention obligations."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Object:"})," Opt out of certain data processing where permitted by law."]})]}),E.jsx("p",{children:"To exercise these rights, use the in-app support form or visit our Contact Us page."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Security"}),E.jsx("p",{children:"We use industry-standard encryption, access controls, and secure servers to protect your data. However, no system is fully immune to risks."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"International Data Transfers"}),E.jsx("p",{children:"Your data may be processed in other countries, with safeguards to comply with applicable laws."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Children’s Privacy"}),E.jsx("p",{children:"Our services are not intended for anyone under 18. We do not knowingly collect data from individuals under 18, and we will delete such data if discovered."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Business Use"}),E.jsx("p",{children:"If you use TagLogger for business (e.g., tracking shipments), you must comply with privacy laws and obtain necessary consents."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Data Retention"}),E.jsx("p",{children:"We keep your data while your account is active or as needed for the service. Upon deletion requests, we remove it unless legally required to retain it."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Cookies and Tracking Technologies"}),E.jsx("p",{children:"Cookies help with authentication, preferences, and analytics. Manage them via your browser settings, though this may limit functionality."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Changes to This Policy"}),E.jsx("p",{children:"We may update this policy and will notify you of significant changes via our website. Continued use after updates implies acceptance."}),E.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Contact Us"}),E.jsx("p",{children:"For questions or requests, reach us via the in-app support form or Contact Us."})]})})}function JB(){return N.useEffect(()=>{window.scrollTo(0,0)},[]),E.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:E.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[E.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"Contact"}),E.jsxs("p",{children:["Have questions or need support? Reach out to us at ",E.jsx("a",{href:"mailto:info@ipekai.com",style:{color:"#00eaff",textDecoration:"underline"},children:"info@ipekai.com"}),"."]}),E.jsx("p",{children:"We aim to respond within 1-2 business days."})]})})}function t6(){return E.jsx("footer",{className:"global-footer",role:"contentinfo",children:E.jsxs("div",{className:"footer-content",children:[E.jsx("div",{className:"footer-brand",children:"TagLogger"}),E.jsxs("nav",{className:"footer-nav","aria-label":"Footer",children:[E.jsx(dh,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),E.jsx(dh,{to:"/privacy",className:"footer-link",children:"Data Privacy"}),E.jsx(dh,{to:"/contact",className:"footer-link",children:"Contact"})]}),E.jsxs("div",{className:"footer-copy",children:["© ",new Date().getFullYear()," TagLogger. All rights reserved."]}),E.jsx("div",{className:"footer-disclaimer",style:{fontSize:"0.6rem",color:"#aaa",marginTop:"0px"},children:"An independent service, not affiliated with Apple Inc."})]})})}const e6=N.lazy(()=>lL(()=>import("./MapPage-D2Ucoloy.js"),__vite__mapDeps([0,1])));function n6(){const[e,t]=N.useState(null);return E.jsxs(E.Fragment,{children:[E.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),E.jsx(qj,{scrollYProgress:e}),E.jsxs(x2,{children:[E.jsx(rr,{path:"/",element:E.jsx(Rx,{onScrollProgress:t})}),E.jsx(rr,{path:"/login",element:E.jsx(MB,{})}),E.jsx(rr,{path:"/purchase",element:E.jsx($B,{})}),E.jsx(rr,{path:"/map",element:E.jsx(fy,{children:E.jsx(N.Suspense,{fallback:null,children:E.jsx(e6,{})})})}),E.jsx(rr,{path:"/dashboard",element:E.jsx(fy,{children:E.jsx(NB,{})})}),E.jsx(rr,{path:"/admin",element:E.jsx(fy,{adminOnly:!0,requireEntitlement:!1,children:E.jsx(OB,{})})}),E.jsx(rr,{path:"/terms",element:E.jsx(XB,{})}),E.jsx(rr,{path:"/privacy",element:E.jsx(QB,{})}),E.jsx(rr,{path:"/contact",element:E.jsx(JB,{})}),E.jsx(rr,{path:"*",element:E.jsx(Rx,{onScrollProgress:t})})]}),E.jsx(t6,{})]})}OP.createRoot(document.getElementById("root")).render(E.jsx(N.StrictMode,{children:E.jsx(Y2,{children:E.jsx(Hj,{children:E.jsx(n6,{})})})}));export{fp as M,mp as T,Uh as a,Tj as b,i6 as c,zs as d,wa as e,nf as f,Lo as g,a6 as h,lc as i,E as j,oB as k,yj as l,o6 as m,gj as o,zh as q,N as r,l6 as s,r6 as u,Gu as w};
