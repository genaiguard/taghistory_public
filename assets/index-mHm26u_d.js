const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapPage-uVx1Bme4.js","assets/MapPage-7WyE4uYj.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var FU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ug={exports:{}},Qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function RP(){if(sE)return Qc;sE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Qc.Fragment=t,Qc.jsx=n,Qc.jsxs=n,Qc}var rE;function CP(){return rE||(rE=1,Ug.exports=RP()),Ug.exports}var T=CP(),Bg={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function IP(){if(aE)return Jt;aE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function Z(j,ut,Et){this.props=j,this.context=ut,this.refs=G,this.updater=Et||D}Z.prototype.isReactComponent={},Z.prototype.setState=function(j,ut){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ut,"setState")},Z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=Z.prototype;function st(j,ut,Et){this.props=j,this.context=ut,this.refs=G,this.updater=Et||D}var $=st.prototype=new Y;$.constructor=st,k($,Z.prototype),$.isPureReactComponent=!0;var yt=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},vt=Object.prototype.hasOwnProperty;function F(j,ut,Et,Tt,St,wt){return Et=wt.ref,{$$typeof:e,type:j,key:ut,ref:Et!==void 0?Et:null,props:wt}}function P(j,ut){return F(j.type,ut,void 0,void 0,void 0,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function U(j){var ut={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Et){return ut[Et]})}var B=/\/+/g;function W(j,ut){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):ut.toString(36)}function z(){}function Ft(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(z,z):(j.status="pending",j.then(function(ut){j.status==="pending"&&(j.status="fulfilled",j.value=ut)},function(ut){j.status==="pending"&&(j.status="rejected",j.reason=ut)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Kt(j,ut,Et,Tt,St){var wt=typeof j;(wt==="undefined"||wt==="boolean")&&(j=null);var bt=!1;if(j===null)bt=!0;else switch(wt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(j.$$typeof){case e:case t:bt=!0;break;case E:return bt=j._init,Kt(bt(j._payload),ut,Et,Tt,St)}}if(bt)return St=St(j),bt=Tt===""?"."+W(j,0):Tt,yt(St)?(Et="",bt!=null&&(Et=bt.replace(B,"$&/")+"/"),Kt(St,ut,Et,"",function(ri){return ri})):St!=null&&(N(St)&&(St=P(St,Et+(St.key==null||j&&j.key===St.key?"":(""+St.key).replace(B,"$&/")+"/")+bt)),ut.push(St)),1;bt=0;var pe=Tt===""?".":Tt+":";if(yt(j))for(var te=0;te<j.length;te++)Tt=j[te],wt=pe+W(Tt,te),bt+=Kt(Tt,ut,Et,wt,St);else if(te=x(j),typeof te=="function")for(j=te.call(j),te=0;!(Tt=j.next()).done;)Tt=Tt.value,wt=pe+W(Tt,te++),bt+=Kt(Tt,ut,Et,wt,St);else if(wt==="object"){if(typeof j.then=="function")return Kt(Ft(j),ut,Et,Tt,St);throw ut=String(j),Error("Objects are not valid as a React child (found: "+(ut==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ut)+"). If you meant to render a collection of children, use an array instead.")}return bt}function rt(j,ut,Et){if(j==null)return j;var Tt=[],St=0;return Kt(j,Tt,"","",function(wt){return ut.call(Et,wt,St++)}),Tt}function pt(j){if(j._status===-1){var ut=j._result;ut=ut(),ut.then(function(Et){(j._status===0||j._status===-1)&&(j._status=1,j._result=Et)},function(Et){(j._status===0||j._status===-1)&&(j._status=2,j._result=Et)}),j._status===-1&&(j._status=0,j._result=ut)}if(j._status===1)return j._result.default;throw j._result}var dt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ut=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ut))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Zt(){}return Jt.Children={map:rt,forEach:function(j,ut,Et){rt(j,function(){ut.apply(this,arguments)},Et)},count:function(j){var ut=0;return rt(j,function(){ut++}),ut},toArray:function(j){return rt(j,function(ut){return ut})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Jt.Component=Z,Jt.Fragment=n,Jt.Profiler=o,Jt.PureComponent=st,Jt.StrictMode=s,Jt.Suspense=y,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return nt.H.useMemoCache(j)}},Jt.cache=function(j){return function(){return j.apply(null,arguments)}},Jt.cloneElement=function(j,ut,Et){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Tt=k({},j.props),St=j.key,wt=void 0;if(ut!=null)for(bt in ut.ref!==void 0&&(wt=void 0),ut.key!==void 0&&(St=""+ut.key),ut)!vt.call(ut,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&ut.ref===void 0||(Tt[bt]=ut[bt]);var bt=arguments.length-2;if(bt===1)Tt.children=Et;else if(1<bt){for(var pe=Array(bt),te=0;te<bt;te++)pe[te]=arguments[te+2];Tt.children=pe}return F(j.type,St,void 0,void 0,wt,Tt)},Jt.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Jt.createElement=function(j,ut,Et){var Tt,St={},wt=null;if(ut!=null)for(Tt in ut.key!==void 0&&(wt=""+ut.key),ut)vt.call(ut,Tt)&&Tt!=="key"&&Tt!=="__self"&&Tt!=="__source"&&(St[Tt]=ut[Tt]);var bt=arguments.length-2;if(bt===1)St.children=Et;else if(1<bt){for(var pe=Array(bt),te=0;te<bt;te++)pe[te]=arguments[te+2];St.children=pe}if(j&&j.defaultProps)for(Tt in bt=j.defaultProps,bt)St[Tt]===void 0&&(St[Tt]=bt[Tt]);return F(j,wt,void 0,void 0,null,St)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(j){return{$$typeof:p,render:j}},Jt.isValidElement=N,Jt.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:pt}},Jt.memo=function(j,ut){return{$$typeof:_,type:j,compare:ut===void 0?null:ut}},Jt.startTransition=function(j){var ut=nt.T,Et={};nt.T=Et;try{var Tt=j(),St=nt.S;St!==null&&St(Et,Tt),typeof Tt=="object"&&Tt!==null&&typeof Tt.then=="function"&&Tt.then(Zt,dt)}catch(wt){dt(wt)}finally{nt.T=ut}},Jt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Jt.use=function(j){return nt.H.use(j)},Jt.useActionState=function(j,ut,Et){return nt.H.useActionState(j,ut,Et)},Jt.useCallback=function(j,ut){return nt.H.useCallback(j,ut)},Jt.useContext=function(j){return nt.H.useContext(j)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(j,ut){return nt.H.useDeferredValue(j,ut)},Jt.useEffect=function(j,ut,Et){var Tt=nt.H;if(typeof Et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Tt.useEffect(j,ut)},Jt.useId=function(){return nt.H.useId()},Jt.useImperativeHandle=function(j,ut,Et){return nt.H.useImperativeHandle(j,ut,Et)},Jt.useInsertionEffect=function(j,ut){return nt.H.useInsertionEffect(j,ut)},Jt.useLayoutEffect=function(j,ut){return nt.H.useLayoutEffect(j,ut)},Jt.useMemo=function(j,ut){return nt.H.useMemo(j,ut)},Jt.useOptimistic=function(j,ut){return nt.H.useOptimistic(j,ut)},Jt.useReducer=function(j,ut,Et){return nt.H.useReducer(j,ut,Et)},Jt.useRef=function(j){return nt.H.useRef(j)},Jt.useState=function(j){return nt.H.useState(j)},Jt.useSyncExternalStore=function(j,ut,Et){return nt.H.useSyncExternalStore(j,ut,Et)},Jt.useTransition=function(){return nt.H.useTransition()},Jt.version="19.1.0",Jt}var oE;function S_(){return oE||(oE=1,Bg.exports=IP()),Bg.exports}var V=S_();const Qd=RS(V);var Fg={exports:{}},Jc={},Hg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function PP(){return lE||(lE=1,function(e){function t(rt,pt){var dt=rt.length;rt.push(pt);t:for(;0<dt;){var Zt=dt-1>>>1,j=rt[Zt];if(0<o(j,pt))rt[Zt]=pt,rt[dt]=j,dt=Zt;else break t}}function n(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var pt=rt[0],dt=rt.pop();if(dt!==pt){rt[0]=dt;t:for(var Zt=0,j=rt.length,ut=j>>>1;Zt<ut;){var Et=2*(Zt+1)-1,Tt=rt[Et],St=Et+1,wt=rt[St];if(0>o(Tt,dt))St<j&&0>o(wt,Tt)?(rt[Zt]=wt,rt[St]=dt,Zt=St):(rt[Zt]=Tt,rt[Et]=dt,Zt=Et);else if(St<j&&0>o(wt,dt))rt[Zt]=wt,rt[St]=dt,Zt=St;else break t}}return pt}function o(rt,pt){var dt=rt.sortIndex-pt.sortIndex;return dt!==0?dt:rt.id-pt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var y=[],_=[],E=1,A=null,x=3,D=!1,k=!1,G=!1,Z=!1,Y=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function yt(rt){for(var pt=n(_);pt!==null;){if(pt.callback===null)s(_);else if(pt.startTime<=rt)s(_),pt.sortIndex=pt.expirationTime,t(y,pt);else break;pt=n(_)}}function nt(rt){if(G=!1,yt(rt),!k)if(n(y)!==null)k=!0,vt||(vt=!0,W());else{var pt=n(_);pt!==null&&Kt(nt,pt.startTime-rt)}}var vt=!1,F=-1,P=5,N=-1;function U(){return Z?!0:!(e.unstable_now()-N<P)}function B(){if(Z=!1,vt){var rt=e.unstable_now();N=rt;var pt=!0;try{t:{k=!1,G&&(G=!1,st(F),F=-1),D=!0;var dt=x;try{e:{for(yt(rt),A=n(y);A!==null&&!(A.expirationTime>rt&&U());){var Zt=A.callback;if(typeof Zt=="function"){A.callback=null,x=A.priorityLevel;var j=Zt(A.expirationTime<=rt);if(rt=e.unstable_now(),typeof j=="function"){A.callback=j,yt(rt),pt=!0;break e}A===n(y)&&s(y),yt(rt)}else s(y);A=n(y)}if(A!==null)pt=!0;else{var ut=n(_);ut!==null&&Kt(nt,ut.startTime-rt),pt=!1}}break t}finally{A=null,x=dt,D=!1}pt=void 0}}finally{pt?W():vt=!1}}}var W;if(typeof $=="function")W=function(){$(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Ft=z.port2;z.port1.onmessage=B,W=function(){Ft.postMessage(null)}}else W=function(){Y(B,0)};function Kt(rt,pt){F=Y(function(){rt(e.unstable_now())},pt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(rt){rt.callback=null},e.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<rt?Math.floor(1e3/rt):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(rt){switch(x){case 1:case 2:case 3:var pt=3;break;default:pt=x}var dt=x;x=pt;try{return rt()}finally{x=dt}},e.unstable_requestPaint=function(){Z=!0},e.unstable_runWithPriority=function(rt,pt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var dt=x;x=rt;try{return pt()}finally{x=dt}},e.unstable_scheduleCallback=function(rt,pt,dt){var Zt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Zt+dt:Zt):dt=Zt,rt){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=dt+j,rt={id:E++,callback:pt,priorityLevel:rt,startTime:dt,expirationTime:j,sortIndex:-1},dt>Zt?(rt.sortIndex=dt,t(_,rt),n(y)===null&&rt===n(_)&&(G?(st(F),F=-1):G=!0,Kt(nt,dt-Zt))):(rt.sortIndex=j,t(y,rt),k||D||(k=!0,vt||(vt=!0,W()))),rt},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(rt){var pt=x;return function(){var dt=x;x=pt;try{return rt.apply(this,arguments)}finally{x=dt}}}}(qg)),qg}var uE;function MP(){return uE||(uE=1,Hg.exports=PP()),Hg.exports}var Gg={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function LP(){if(cE)return Jn;cE=1;var e=S_();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,E)},Jn.flushSync=function(y){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=E,s.d.f()}},Jn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Jn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Jn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,D=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:D}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:x,fetchPriority:D,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Jn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Jn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Jn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Jn.requestFormReset=function(y){s.d.r(y)},Jn.unstable_batchedUpdates=function(y,_){return y(_)},Jn.useFormState=function(y,_,E){return f.H.useFormState(y,_,E)},Jn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jn.version="19.1.0",Jn}var hE;function CS(){if(hE)return Gg.exports;hE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gg.exports=LP(),Gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function DP(){if(fE)return Jc;fE=1;var e=MP(),t=S_(),n=CS();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return p(g),i;if(v===h)return p(g),r;v=v.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=v;else{for(var C=!1,M=g.child;M;){if(M===l){C=!0,l=g,h=v;break}if(M===h){C=!0,h=g,l=v;break}M=M.sibling}if(!C){for(M=v.child;M;){if(M===l){C=!0,l=v,h=g;break}if(M===h){C=!0,h=v,l=g;break}M=M.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),$=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function Ft(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case nt:return"Suspense";case vt:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case $:return(i.displayName||"Context")+".Provider";case st:return(i._context.displayName||"Context")+".Consumer";case yt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return r=i.displayName||null,r!==null?r:Ft(i.type)||"Memo";case P:r=i._payload,i=i._init;try{return Ft(i(r))}catch{}}return null}var Kt=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Zt=[],j=-1;function ut(i){return{current:i}}function Et(i){0>j||(i.current=Zt[j],Zt[j]=null,j--)}function Tt(i,r){j++,Zt[j]=i.current,i.current=r}var St=ut(null),wt=ut(null),bt=ut(null),pe=ut(null);function te(i,r){switch(Tt(bt,r),Tt(wt,i),Tt(St,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Lb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Lb(r),i=Db(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Et(St),Tt(St,i)}function ri(){Et(St),Et(wt),Et(bt)}function ai(i){i.memoizedState!==null&&Tt(pe,i);var r=St.current,l=Db(r,i.type);r!==l&&(Tt(wt,i),Tt(St,l))}function Nn(i){wt.current===i&&(Et(St),Et(wt)),pe.current===i&&(Et(pe),Zc._currentValue=dt)}var Gn=Object.prototype.hasOwnProperty,mi=e.unstable_scheduleCallback,Rs=e.unstable_cancelCallback,Xi=e.unstable_shouldYield,Cs=e.unstable_requestPaint,Ke=e.unstable_now,Qi=e.unstable_getCurrentPriorityLevel,kr=e.unstable_ImmediatePriority,$t=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,Le=e.unstable_LowPriority,un=e.unstable_IdlePriority,On=e.log,Js=e.unstable_setDisableYieldValue,be=null,me=null;function Wn(i){if(typeof On=="function"&&Js(i),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(be,i)}catch{}}var wn=Math.clz32?Math.clz32:Vr,Bo=Math.log,Ul=Math.LN2;function Vr(i){return i>>>=0,i===0?32:31-(Bo(i)/Ul|0)|0}var tr=256,Is=4194304;function gi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function va(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~v,h!==0?g=gi(h):(C&=M,C!==0?g=gi(C):l||(l=M&~i,l!==0&&(g=gi(l))))):(M=h&~v,M!==0?g=gi(M):C!==0?g=gi(C):l||(l=h&~i,l!==0&&(g=gi(l)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:g}function Mi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Fo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var i=tr;return tr<<=1,(tr&4194048)===0&&(tr=256),i}function Ta(){var i=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),i}function Ji(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function ts(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qo(i,r,l,h,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,q=i.expirationTimes,et=i.hiddenUpdates;for(l=C&~l;0<l;){var ct=31-wn(l),mt=1<<ct;M[ct]=0,q[ct]=-1;var it=et[ct];if(it!==null)for(et[ct]=null,ct=0;ct<it.length;ct++){var at=it[ct];at!==null&&(at.lane&=-536870913)}l&=~mt}h!==0&&es(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function es(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-wn(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Go(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-wn(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function er(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ba(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nr(){var i=pt.p;return i!==0?i:(i=window.event,i===void 0?32:Qb(i.type))}function Ea(i,r){var l=pt.p;try{return pt.p=i,r()}finally{pt.p=l}}var De=Math.random().toString(36).slice(2),nn="__reactFiber$"+De,$e="__reactProps$"+De,yi="__reactContainer$"+De,Zn="__reactEvents$"+De,Dt="__reactListeners$"+De,Ps="__reactHandles$"+De,Wo="__reactResources$"+De,ir="__reactMarker$"+De;function Ms(i){delete i[nn],delete i[$e],delete i[Zn],delete i[Dt],delete i[Ps]}function Li(i){var r=i[nn];if(r)return r;for(var l=i.parentNode;l;){if(r=l[yi]||l[nn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Vb(i);i!==null;){if(l=i[nn])return l;i=Vb(i)}return r}i=l,l=i.parentNode}return null}function Di(i){if(i=i[nn]||i[yi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function kn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function xn(i){var r=i[Wo];return r||(r=i[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function qe(i){i[ir]=!0}var Zo=new Set,wa={};function Ni(i,r){ns(i,r),ns(i+"Capture",r)}function ns(i,r){for(wa[i]=r,i=0;i<r.length;i++)Zo.add(r[i])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jr={},zr={};function Fl(i){return Gn.call(zr,i)?!0:Gn.call(jr,i)?!1:Bl.test(i)?zr[i]=!0:(jr[i]=!0,!1)}function sr(i,r,l){if(Fl(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function is(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function _n(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var Ls,rr;function ss(i){if(Ls===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ls=r&&r[1]||"",rr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+i+rr}var Ur=!1;function rs(i,r){if(!i||Ur)return"";Ur=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(at){var it=at}Reflect.construct(i,[],mt)}else{try{mt.call()}catch(at){it=at}i.call(mt.prototype)}}else{try{throw Error()}catch(at){it=at}(mt=i())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],M=v[1];if(C&&M){var q=C.split(`
`),et=M.split(`
`);for(g=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;g<et.length&&!et[g].includes("DetermineComponentFrameRoot");)g++;if(h===q.length||g===et.length)for(h=q.length-1,g=et.length-1;1<=h&&0<=g&&q[h]!==et[g];)g--;for(;1<=h&&0<=g;h--,g--)if(q[h]!==et[g]){if(h!==1||g!==1)do if(h--,g--,0>g||q[h]!==et[g]){var ct=`
`+q[h].replace(" at new "," at ");return i.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",i.displayName)),ct}while(1<=h&&0<=g);break}}}finally{Ur=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ss(l):""}function ne(i){switch(i.tag){case 26:case 27:case 5:return ss(i.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 15:return rs(i.type,!1);case 11:return rs(i.type.render,!1);case 1:return rs(i.type,!0);case 31:return ss("Activity");default:return""}}function _e(i){try{var r="";do r+=ne(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function as(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ar(i){var r=as(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function or(i){i._valueTracker||(i._valueTracker=ar(i))}function Wt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=as(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ee(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yo=/[\n"\\]/g;function ze(i){return i.replace(Yo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ne(i,r,l,h,g,v,C,M){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+cn(r)):i.value!==""+cn(r)&&(i.value=""+cn(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?Oi(i,C,cn(r)):l!=null?Oi(i,C,cn(l)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+cn(M):i.removeAttribute("name")}function Br(i,r,l,h,g,v,C,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+cn(l):"",r=r!=null?""+cn(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Oi(i,r,l){r==="number"&&Ee(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Vn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+cn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function zt(i,r,l){if(r!=null&&(r=""+cn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+cn(l):""}function oi(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Kt(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=cn(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Sn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xa(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||ki.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Ds(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&xa(i,g,h)}else for(var v in r)r.hasOwnProperty(v)&&xa(i,v,r[v])}function Fr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(i){return Sa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Vi=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var os=null,ji=null;function $o(i){var r=Di(i);if(r&&(i=r.stateNode)){var l=i[$e]||null;t:switch(i=r.stateNode,r.type){case"input":if(Ne(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ze(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[$e]||null;if(!g)throw Error(s(90));Ne(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Wt(h)}break t;case"textarea":zt(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Vn(i,!!l.multiple,r,!1)}}}var kt=!1;function li(i,r,l){if(kt)return i(r,l);kt=!0;try{var h=i(r);return h}finally{if(kt=!1,(os!==null||ji!==null)&&(Xf(),os&&(r=os,i=ji,ji=os=null,$o(r),i)))for(r=0;r<i.length;r++)$o(i[r])}}function he(i,r){var l=i.stateNode;if(l===null)return null;var h=l[$e]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(_i)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Yn=!1}var vi=null,Kn=null,zi=null;function Os(){if(zi)return zi;var i,r=Kn,l=r.length,h,g="value"in vi?vi.value:vi.textContent,v=g.length;for(i=0;i<l&&r[i]===g[i];i++);var C=l-i;for(h=1;h<=C&&r[l-h]===g[v-h];h++);return zi=g.slice(i,1<h?1-h:void 0)}function Ae(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function An(){return!0}function Aa(){return!1}function sn(i){function r(l,h,g,v,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?An:Aa,this.isPropagationStopped=Aa,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=An)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=An)},persist:function(){},isPersistent:An}),r}var ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=sn(ge),ks=E({},ge,{view:0,detail:0}),Hl=sn(ks),qr,Qt,ls,vn=E({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ls&&(ls&&i.type==="mousemove"?(qr=i.screenX-ls.screenX,Qt=i.screenY-ls.screenY):Qt=qr=0,ls=i),qr)},movementY:function(i){return"movementY"in i?i.movementY:Qt}}),Rn=sn(vn),Xo=E({},vn,{dataTransfer:0}),cc=sn(Xo),Vs=E({},ks,{relatedTarget:0}),Ra=sn(Vs),Ca=E({},ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=sn(Ca),ql=E({},ge,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ur=sn(ql),hc=E({},ge,{data:0}),$n=sn(hc),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pa(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ui[i])?!!r[i]:!1}function cr(){return Pa}var Ma=E({},ks,{key:function(i){if(i.key){var r=Gr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ae(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?Ae(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ae(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),La=sn(Ma),Jo=E({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=sn(Jo),js=E({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),Gl=sn(js),Na=E({},ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wl=sn(Na),tl=E({},vn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Wr=sn(tl),hn=E({},ge,{newState:0,oldState:0}),us=sn(hn),Zl=[9,13,27,32],Xn=_i&&"CompositionEvent"in window,d=null;_i&&"documentMode"in document&&(d=document.documentMode);var w=_i&&"TextEvent"in window&&!d,R=_i&&(!Xn||d&&8<d&&11>=d),O=" ",Q=!1;function lt(i,r){switch(i){case"keyup":return Zl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ae=!1;function Xe(i,r){switch(i){case"compositionend":return xt(r);case"keypress":return r.which!==32?null:(Q=!0,O);case"textInput":return i=r.data,i===O&&Q?null:i;default:return null}}function oe(i,r){if(ae)return i==="compositionend"||!Xn&&lt(i,r)?(i=Os(),zi=Kn=vi=null,ae=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R&&r.locale!=="ko"?null:r.data;default:return null}}var ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ve[i.type]:r==="textarea"}function zs(i,r,l,h){os?ji?ji.push(h):ji=[h]:os=h,r=id(r,"onChange"),0<r.length&&(l=new Hr("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Pe=null,cs=null;function hs(i){Rb(i,0)}function Yl(i){var r=kn(i);if(Wt(r))return i}function Oa(i,r){if(i==="change")return r}var fc=!1;if(_i){var ka;if(_i){var dc="oninput"in document;if(!dc){var Us=document.createElement("div");Us.setAttribute("oninput","return;"),dc=typeof Us.oninput=="function"}ka=dc}else ka=!1;fc=ka&&(!document.documentMode||9<document.documentMode)}function el(){Pe&&(Pe.detachEvent("onpropertychange",gf),cs=Pe=null)}function gf(i){if(i.propertyName==="value"&&Yl(cs)){var r=[];zs(r,cs,i,jn(i)),li(hs,r)}}function pc(i,r,l){i==="focusin"?(el(),Pe=r,cs=l,Pe.attachEvent("onpropertychange",gf)):i==="focusout"&&el()}function cm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yl(cs)}function Bs(i,r){if(i==="click")return Yl(r)}function hm(i,r){if(i==="input"||i==="change")return Yl(r)}function Va(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ui=typeof Object.is=="function"?Object.is:Va;function ci(i,r){if(ui(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Gn.call(r,g)||!ui(i[g],r[g]))return!1}return!0}function nl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mc(i,r){var l=nl(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=nl(l)}}function Kl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Kl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function il(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ee(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ee(i.document)}return r}function sl(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var $l=_i&&"documentMode"in document&&11>=document.documentMode,Bi=null,ja=null,Zr=null,Xl=!1;function yf(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xl||Bi==null||Bi!==Ee(h)||(h=Bi,"selectionStart"in h&&sl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zr&&ci(Zr,h)||(Zr=h,h=id(ja,"onSelect"),0<h.length&&(r=new Hr("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Bi)))}function fs(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var za={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Ql={},_f={};_i&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function hr(i){if(Ql[i])return Ql[i];if(!za[i])return i;var r=za[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in _f)return Ql[i]=r[l];return i}var vf=hr("animationend"),Fi=hr("animationiteration"),rl=hr("animationstart"),fm=hr("transitionrun"),Jl=hr("transitionstart"),dm=hr("transitioncancel"),gc=hr("transitionend"),Tf=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function Hi(i,r){Tf.set(i,r),Ni(r,[i])}var Kr=new WeakMap;function hi(i,r){if(typeof i=="object"&&i!==null){var l=Kr.get(i);return l!==void 0?l:(r={value:i,source:r,stack:_e(r)},Kr.set(i,r),r)}return{value:i,source:r,stack:_e(r)}}var fi=[],Ua=0,qi=0;function al(){for(var i=Ua,r=qi=Ua=0;r<i;){var l=fi[r];fi[r++]=null;var h=fi[r];fi[r++]=null;var g=fi[r];fi[r++]=null;var v=fi[r];if(fi[r++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}v!==0&&ll(l,g,v)}}function ol(i,r,l,h){fi[Ua++]=i,fi[Ua++]=r,fi[Ua++]=l,fi[Ua++]=h,qi|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function $r(i,r,l,h){return ol(i,r,l,h),fr(i)}function Ba(i,r){return ol(i,null,null,r),fr(i)}function ll(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-wn(l),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),v):null}function fr(i){if(50<zc)throw zc=0,cg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Xr={};function bf(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(i,r,l,h){return new bf(i,r,l,h)}function tu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ds(i,r){var l=i.alternate;return l===null?(l=di(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function yc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ul(i,r,l,h,g,v){var C=0;if(h=i,typeof i=="function")tu(i)&&(C=1);else if(typeof i=="string")C=pP(i,l,St.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case N:return i=di(31,l,r,g),i.elementType=N,i.lanes=v,i;case k:return dr(l.children,g,v,r);case G:C=8,g|=24;break;case Z:return i=di(12,l,r,g|2),i.elementType=Z,i.lanes=v,i;case nt:return i=di(13,l,r,g),i.elementType=nt,i.lanes=v,i;case vt:return i=di(19,l,r,g),i.elementType=vt,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:case $:C=10;break t;case st:C=9;break t;case yt:C=11;break t;case F:C=14;break t;case P:C=16,h=null;break t}C=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=di(C,l,r,g),r.elementType=i,r.type=h,r.lanes=v,r}function dr(i,r,l,h){return i=di(7,i,h,r),i.lanes=l,i}function _c(i,r,l){return i=di(6,i,null,r),i.lanes=l,i}function eu(i,r,l){return r=di(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Qr=[],Fa=0,a=null,c=0,m=[],b=0,S=null,I=1,H="";function J(i,r){Qr[Fa++]=c,Qr[Fa++]=a,a=i,c=r}function ot(i,r,l){m[b++]=I,m[b++]=H,m[b++]=S,S=i;var h=I;i=H;var g=32-wn(h)-1;h&=~(1<<g),l+=1;var v=32-wn(r)+g;if(30<v){var C=g-g%5;v=(h&(1<<C)-1).toString(32),h>>=C,g-=C,I=1<<32-wn(r)+g|l<<g|h,H=v+i}else I=1<<v|l<<g|h,H=i}function _t(i){i.return!==null&&(J(i,1),ot(i,1,0))}function Rt(i){for(;i===a;)a=Qr[--Fa],Qr[Fa]=null,c=Qr[--Fa],Qr[Fa]=null;for(;i===S;)S=m[--b],m[b]=null,H=m[--b],m[b]=null,I=m[--b],m[b]=null}var Pt=null,Lt=null,Gt=!1,ke=null,Ge=!1,Cn=Error(s(519));function Ti(i){var r=Error(s(418,""));throw qa(hi(r,i)),Cn}function Ef(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[nn]=i,r[$e]=h,l){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(l=0;l<Bc.length;l++)re(Bc[l],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":re("invalid",r),Br(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),or(r);break;case"select":re("invalid",r);break;case"textarea":re("invalid",r),oi(r,h.value,h.defaultValue,h.children),or(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||Mb(r.textContent,l)?(h.popover!=null&&(re("beforetoggle",r),re("toggle",r)),h.onScroll!=null&&re("scroll",r),h.onScrollEnd!=null&&re("scrollend",r),h.onClick!=null&&(r.onclick=sd),r=!0):r=!1,r||Ti(i)}function wf(i){for(Pt=i.return;Pt;)switch(Pt.tag){case 5:case 13:Ge=!1;return;case 27:case 3:Ge=!0;return;default:Pt=Pt.return}}function cl(i){if(i!==Pt)return!1;if(!Gt)return wf(i),Gt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ag(i.type,i.memoizedProps)),l=!l),l&&Lt&&Ti(i),wf(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Lt=Gs(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Lt=null}}else r===27?(r=Lt,ro(i.type)?(i=Pg,Pg=null,Lt=i):Lt=r):Lt=Pt?Gs(i.stateNode.nextSibling):null;return!0}function Ha(){Lt=Pt=null,Gt=!1}function xf(){var i=ke;return i!==null&&(wi===null?wi=i:wi.push.apply(wi,i),ke=null),i}function qa(i){ke===null?ke=[i]:ke.push(i)}var Be=ut(null),ps=null,Fs=null;function pr(i,r,l){Tt(Be,r._currentValue),r._currentValue=l}function Hs(i){i._currentValue=Be.current,Et(Be)}function hl(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function nu(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var M=v;v=g;for(var q=0;q<r.length;q++)if(M.context===r[q]){v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),hl(v.return,l,i),h||(C=null);break t}v=M.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(s(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),hl(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function fl(i,r,l,h){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var M=g.type;ui(g.pendingProps.value,C.value)||(i!==null?i.push(M):i=[M])}}else if(g===pe.current){if(C=g.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Zc):i=[Zc])}g=g.return}i!==null&&nu(r,i,l,h),r.flags|=262144}function Sf(i){for(i=i.firstContext;i!==null;){if(!ui(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dl(i){ps=i,Fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qn(i){return y0(ps,i)}function Af(i,r){return ps===null&&dl(i),y0(i,r)}function y0(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Fs===null){if(i===null)throw Error(s(308));Fs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Fs=Fs.next=r;return l}var dI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},pI=e.unstable_scheduleCallback,mI=e.unstable_NormalPriority,Tn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new dI,data:new Map,refCount:0}}function vc(i){i.refCount--,i.refCount===0&&pI(mI,function(){i.controller.abort()})}var Tc=null,mm=0,iu=0,su=null;function gI(i,r){if(Tc===null){var l=Tc=[];mm=0,iu=yg(),su={status:"pending",value:void 0,then:function(h){l.push(h)}}}return mm++,r.then(_0,_0),r}function _0(){if(--mm===0&&Tc!==null){su!==null&&(su.status="fulfilled");var i=Tc;Tc=null,iu=0,su=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function yI(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var v0=rt.S;rt.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&gI(i,r),v0!==null&&v0(i,r)};var pl=ut(null);function gm(){var i=pl.current;return i!==null?i:Ve.pooledCache}function Rf(i,r){r===null?Tt(pl,pl.current):Tt(pl,r.pool)}function T0(){var i=gm();return i===null?null:{parent:Tn._currentValue,pool:i}}var bc=Error(s(460)),b0=Error(s(474)),Cf=Error(s(542)),ym={then:function(){}};function E0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function If(){}function w0(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(If,If),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,S0(i),i;default:if(typeof r.status=="string")r.then(If,If);else{if(i=Ve,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,S0(i),i}throw Ec=r,bc}}var Ec=null;function x0(){if(Ec===null)throw Error(s(459));var i=Ec;return Ec=null,i}function S0(i){if(i===bc||i===Cf)throw Error(s(483))}var Ga=!1;function _m(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Za(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(we&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=fr(i),ll(i,null,l),r}return ol(i,h,r,l),fr(i)}function wc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Go(i,l)}}function Tm(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=r:v=v.next=r}else g=v=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var bm=!1;function xc(){if(bm){var i=su;if(i!==null)throw i}}function Sc(i,r,l,h){bm=!1;var g=i.updateQueue;Ga=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var q=M,et=q.next;q.next=null,C===null?v=et:C.next=et,C=q;var ct=i.alternate;ct!==null&&(ct=ct.updateQueue,M=ct.lastBaseUpdate,M!==C&&(M===null?ct.firstBaseUpdate=et:M.next=et,ct.lastBaseUpdate=q))}if(v!==null){var mt=g.baseState;C=0,ct=et=q=null,M=v;do{var it=M.lane&-536870913,at=it!==M.lane;if(at?(fe&it)===it:(h&it)===it){it!==0&&it===iu&&(bm=!0),ct!==null&&(ct=ct.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Ht=i,Vt=M;it=r;var Ie=l;switch(Vt.tag){case 1:if(Ht=Vt.payload,typeof Ht=="function"){mt=Ht.call(Ie,mt,it);break t}mt=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Vt.payload,it=typeof Ht=="function"?Ht.call(Ie,mt,it):Ht,it==null)break t;mt=E({},mt,it);break t;case 2:Ga=!0}}it=M.callback,it!==null&&(i.flags|=64,at&&(i.flags|=8192),at=g.callbacks,at===null?g.callbacks=[it]:at.push(it))}else at={lane:it,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ct===null?(et=ct=at,q=mt):ct=ct.next=at,C|=it;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;at=M,M=at.next,at.next=null,g.lastBaseUpdate=at,g.shared.pending=null}}while(!0);ct===null&&(q=mt),g.baseState=q,g.firstBaseUpdate=et,g.lastBaseUpdate=ct,v===null&&(g.shared.lanes=0),eo|=C,i.lanes=C,i.memoizedState=mt}}function A0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function R0(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)A0(l[i],r)}var ru=ut(null),Pf=ut(0);function C0(i,r){i=ra,Tt(Pf,i),Tt(ru,r),ra=i|r.baseLanes}function Em(){Tt(Pf,ra),Tt(ru,ru.current)}function wm(){ra=Pf.current,Et(ru),Et(Pf)}var Ya=0,ee=null,Re=null,fn=null,Mf=!1,au=!1,ml=!1,Lf=0,Ac=0,ou=null,_I=0;function rn(){throw Error(s(321))}function xm(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!ui(i[l],r[l]))return!1;return!0}function Sm(i,r,l,h,g,v){return Ya=v,ee=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,rt.H=i===null||i.memoizedState===null?hT:fT,ml=!1,v=l(h,g),ml=!1,au&&(v=P0(r,l,h,g)),I0(i),v}function I0(i){rt.H=jf;var r=Re!==null&&Re.next!==null;if(Ya=0,fn=Re=ee=null,Mf=!1,Ac=0,ou=null,r)throw Error(s(300));i===null||In||(i=i.dependencies,i!==null&&Sf(i)&&(In=!0))}function P0(i,r,l,h){ee=i;var g=0;do{if(au&&(ou=null),Ac=0,au=!1,25<=g)throw Error(s(301));if(g+=1,fn=Re=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}rt.H=SI,v=r(l,h)}while(au);return v}function vI(){var i=rt.H,r=i.useState()[0];return r=typeof r.then=="function"?Rc(r):r,i=i.useState()[0],(Re!==null?Re.memoizedState:null)!==i&&(ee.flags|=1024),r}function Am(){var i=Lf!==0;return Lf=0,i}function Rm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Cm(i){if(Mf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Mf=!1}Ya=0,fn=Re=ee=null,au=!1,Ac=Lf=0,ou=null}function bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?ee.memoizedState=fn=i:fn=fn.next=i,fn}function dn(){if(Re===null){var i=ee.alternate;i=i!==null?i.memoizedState:null}else i=Re.next;var r=fn===null?ee.memoizedState:fn.next;if(r!==null)fn=r,Re=i;else{if(i===null)throw ee.alternate===null?Error(s(467)):Error(s(310));Re=i,i={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},fn===null?ee.memoizedState=fn=i:fn=fn.next=i}return fn}function Im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(i){var r=Ac;return Ac+=1,ou===null&&(ou=[]),i=w0(ou,i,r),r=ee,(fn===null?r.memoizedState:fn.next)===null&&(r=r.alternate,rt.H=r===null||r.memoizedState===null?hT:fT),i}function Df(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Rc(i);if(i.$$typeof===$)return Qn(i)}throw Error(s(438,String(i)))}function Pm(i){var r=null,l=ee.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=ee.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Im(),ee.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=U;return r.index++,l}function Jr(i,r){return typeof r=="function"?r(i):r}function Nf(i){var r=dn();return Mm(r,Re,i)}function Mm(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}r.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var M=C=null,q=null,et=r,ct=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(fe&mt)===mt:(Ya&mt)===mt){var it=et.revertLane;if(it===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===iu&&(ct=!0);else if((Ya&it)===it){et=et.next,it===iu&&(ct=!0);continue}else mt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(M=q=mt,C=v):q=q.next=mt,ee.lanes|=it,eo|=it;mt=et.action,ml&&l(v,mt),v=et.hasEagerState?et.eagerState:l(v,mt)}else it={lane:mt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(M=q=it,C=v):q=q.next=it,ee.lanes|=mt,eo|=mt;et=et.next}while(et!==null&&et!==r);if(q===null?C=v:q.next=M,!ui(v,i.memoizedState)&&(In=!0,ct&&(l=su,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=q,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Lm(i){var r=dn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,v=r.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);ui(v,r.memoizedState)||(In=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,h]}function M0(i,r,l){var h=ee,g=dn(),v=Gt;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var C=!ui((Re||g).memoizedState,l);C&&(g.memoizedState=l,In=!0),g=g.queue;var M=N0.bind(null,h,g,i);if(Cc(2048,8,M,[i]),g.getSnapshot!==r||C||fn!==null&&fn.memoizedState.tag&1){if(h.flags|=2048,lu(9,Of(),D0.bind(null,h,g,l,r),null),Ve===null)throw Error(s(349));v||(Ya&124)!==0||L0(h,r,l)}return l}function L0(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=ee.updateQueue,r===null?(r=Im(),ee.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function D0(i,r,l,h){r.value=l,r.getSnapshot=h,O0(r)&&k0(i)}function N0(i,r,l){return l(function(){O0(r)&&k0(i)})}function O0(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!ui(i,l)}catch{return!0}}function k0(i){var r=Ba(i,2);r!==null&&Ki(r,i,2)}function Dm(i){var r=bi();if(typeof i=="function"){var l=i;if(i=l(),ml){Wn(!0);try{l()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:i},r}function V0(i,r,l,h){return i.baseState=l,Mm(i,Re,typeof h=="function"?h:Jr)}function TI(i,r,l,h,g){if(Vf(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};rt.T!==null?l(!0):v.isTransition=!1,h(v),l=r.pending,l===null?(v.next=r.pending=v,j0(r,v)):(v.next=l.next,r.pending=l.next=v)}}function j0(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var v=rt.T,C={};rt.T=C;try{var M=l(g,h),q=rt.S;q!==null&&q(C,M),z0(i,r,M)}catch(et){Nm(i,r,et)}finally{rt.T=v}}else try{v=l(g,h),z0(i,r,v)}catch(et){Nm(i,r,et)}}function z0(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){U0(i,r,h)},function(h){return Nm(i,r,h)}):U0(i,r,l)}function U0(i,r,l){r.status="fulfilled",r.value=l,B0(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,j0(i,l)))}function Nm(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,B0(r),r=r.next;while(r!==h)}i.action=null}function B0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function F0(i,r){return r}function H0(i,r){if(Gt){var l=Ve.formState;if(l!==null){t:{var h=ee;if(Gt){if(Lt){e:{for(var g=Lt,v=Ge;g.nodeType!==8;){if(!v){g=null;break e}if(g=Gs(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Lt=Gs(g.nextSibling),h=g.data==="F!";break t}}Ti(h)}h=!1}h&&(r=l[0])}}return l=bi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F0,lastRenderedState:r},l.queue=h,l=lT.bind(null,ee,h),h.dispatch=l,h=Dm(!1),v=zm.bind(null,ee,!1,h.queue),h=bi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=TI.bind(null,ee,g,v,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function q0(i){var r=dn();return G0(r,Re,i)}function G0(i,r,l){if(r=Mm(i,r,F0)[0],i=Nf(Jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Rc(r)}catch(C){throw C===bc?Cf:C}else h=r;r=dn();var g=r.queue,v=g.dispatch;return l!==r.memoizedState&&(ee.flags|=2048,lu(9,Of(),bI.bind(null,g,l),null)),[h,v,i]}function bI(i,r){i.action=r}function W0(i){var r=dn(),l=Re;if(l!==null)return G0(r,l,i);dn(),r=r.memoizedState,l=dn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function lu(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=ee.updateQueue,r===null&&(r=Im(),ee.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Of(){return{destroy:void 0,resource:void 0}}function Z0(){return dn().memoizedState}function kf(i,r,l,h){var g=bi();h=h===void 0?null:h,ee.flags|=i,g.memoizedState=lu(1|r,Of(),l,h)}function Cc(i,r,l,h){var g=dn();h=h===void 0?null:h;var v=g.memoizedState.inst;Re!==null&&h!==null&&xm(h,Re.memoizedState.deps)?g.memoizedState=lu(r,v,l,h):(ee.flags|=i,g.memoizedState=lu(1|r,v,l,h))}function Y0(i,r){kf(8390656,8,i,r)}function K0(i,r){Cc(2048,8,i,r)}function $0(i,r){return Cc(4,2,i,r)}function X0(i,r){return Cc(4,4,i,r)}function Q0(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function J0(i,r,l){l=l!=null?l.concat([i]):null,Cc(4,4,Q0.bind(null,r,i),l)}function Om(){}function tT(i,r){var l=dn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&xm(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function eT(i,r){var l=dn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&xm(r,h[1]))return h[0];if(h=i(),ml){Wn(!0);try{i()}finally{Wn(!1)}}return l.memoizedState=[h,r],h}function km(i,r,l){return l===void 0||(Ya&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=sb(),ee.lanes|=i,eo|=i,l)}function nT(i,r,l,h){return ui(l,r)?l:ru.current!==null?(i=km(i,l,h),ui(i,r)||(In=!0),i):(Ya&42)===0?(In=!0,i.memoizedState=l):(i=sb(),ee.lanes|=i,eo|=i,r)}function iT(i,r,l,h,g){var v=pt.p;pt.p=v!==0&&8>v?v:8;var C=rt.T,M={};rt.T=M,zm(i,!1,r,l);try{var q=g(),et=rt.S;if(et!==null&&et(M,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ct=yI(q,h);Ic(i,r,ct,Yi(i))}else Ic(i,r,h,Yi(i))}catch(mt){Ic(i,r,{then:function(){},status:"rejected",reason:mt},Yi())}finally{pt.p=v,rt.T=C}}function EI(){}function Vm(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=sT(i).queue;iT(i,g,r,dt,l===null?EI:function(){return rT(i),l(h)})}function sT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:dt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function rT(i){var r=sT(i).next.queue;Ic(i,r,{},Yi())}function jm(){return Qn(Zc)}function aT(){return dn().memoizedState}function oT(){return dn().memoizedState}function wI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Yi();i=Wa(l);var h=Za(r,i,l);h!==null&&(Ki(h,r,l),wc(h,r,l)),r={cache:pm()},i.payload=r;return}r=r.return}}function xI(i,r,l){var h=Yi();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vf(i)?uT(r,l):(l=$r(i,r,l,h),l!==null&&(Ki(l,i,h),cT(l,r,h)))}function lT(i,r,l){var h=Yi();Ic(i,r,l,h)}function Ic(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vf(i))uT(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,M=v(C,l);if(g.hasEagerState=!0,g.eagerState=M,ui(M,C))return ol(i,r,g,0),Ve===null&&al(),!1}catch{}finally{}if(l=$r(i,r,g,h),l!==null)return Ki(l,i,h),cT(l,r,h),!0}return!1}function zm(i,r,l,h){if(h={lane:2,revertLane:yg(),action:h,hasEagerState:!1,eagerState:null,next:null},Vf(i)){if(r)throw Error(s(479))}else r=$r(i,l,h,2),r!==null&&Ki(r,i,2)}function Vf(i){var r=i.alternate;return i===ee||r!==null&&r===ee}function uT(i,r){au=Mf=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function cT(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Go(i,l)}}var jf={readContext:Qn,use:Df,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},hT={readContext:Qn,use:Df,useCallback:function(i,r){return bi().memoizedState=[i,r===void 0?null:r],i},useContext:Qn,useEffect:Y0,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,kf(4194308,4,Q0.bind(null,r,i),l)},useLayoutEffect:function(i,r){return kf(4194308,4,i,r)},useInsertionEffect:function(i,r){kf(4,2,i,r)},useMemo:function(i,r){var l=bi();r=r===void 0?null:r;var h=i();if(ml){Wn(!0);try{i()}finally{Wn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=bi();if(l!==void 0){var g=l(r);if(ml){Wn(!0);try{l(r)}finally{Wn(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=xI.bind(null,ee,i),[h.memoizedState,i]},useRef:function(i){var r=bi();return i={current:i},r.memoizedState=i},useState:function(i){i=Dm(i);var r=i.queue,l=lT.bind(null,ee,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Om,useDeferredValue:function(i,r){var l=bi();return km(l,i,r)},useTransition:function(){var i=Dm(!1);return i=iT.bind(null,ee,i.queue,!0,!1),bi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=ee,g=bi();if(Gt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ve===null)throw Error(s(349));(fe&124)!==0||L0(h,r,l)}g.memoizedState=l;var v={value:l,getSnapshot:r};return g.queue=v,Y0(N0.bind(null,h,v,i),[i]),h.flags|=2048,lu(9,Of(),D0.bind(null,h,v,l,r),null),l},useId:function(){var i=bi(),r=Ve.identifierPrefix;if(Gt){var l=H,h=I;l=(h&~(1<<32-wn(h)-1)).toString(32)+l,r=""+r+"R"+l,l=Lf++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=_I++,r=""+r+"r"+l.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:jm,useFormState:H0,useActionState:H0,useOptimistic:function(i){var r=bi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=zm.bind(null,ee,!0,l),l.dispatch=r,[i,r]},useMemoCache:Pm,useCacheRefresh:function(){return bi().memoizedState=wI.bind(null,ee)}},fT={readContext:Qn,use:Df,useCallback:tT,useContext:Qn,useEffect:K0,useImperativeHandle:J0,useInsertionEffect:$0,useLayoutEffect:X0,useMemo:eT,useReducer:Nf,useRef:Z0,useState:function(){return Nf(Jr)},useDebugValue:Om,useDeferredValue:function(i,r){var l=dn();return nT(l,Re.memoizedState,i,r)},useTransition:function(){var i=Nf(Jr)[0],r=dn().memoizedState;return[typeof i=="boolean"?i:Rc(i),r]},useSyncExternalStore:M0,useId:aT,useHostTransitionStatus:jm,useFormState:q0,useActionState:q0,useOptimistic:function(i,r){var l=dn();return V0(l,Re,i,r)},useMemoCache:Pm,useCacheRefresh:oT},SI={readContext:Qn,use:Df,useCallback:tT,useContext:Qn,useEffect:K0,useImperativeHandle:J0,useInsertionEffect:$0,useLayoutEffect:X0,useMemo:eT,useReducer:Lm,useRef:Z0,useState:function(){return Lm(Jr)},useDebugValue:Om,useDeferredValue:function(i,r){var l=dn();return Re===null?km(l,i,r):nT(l,Re.memoizedState,i,r)},useTransition:function(){var i=Lm(Jr)[0],r=dn().memoizedState;return[typeof i=="boolean"?i:Rc(i),r]},useSyncExternalStore:M0,useId:aT,useHostTransitionStatus:jm,useFormState:W0,useActionState:W0,useOptimistic:function(i,r){var l=dn();return Re!==null?V0(l,Re,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Pm,useCacheRefresh:oT},uu=null,Pc=0;function zf(i){var r=Pc;return Pc+=1,uu===null&&(uu=[]),w0(uu,i,r)}function Mc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Uf(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function dT(i){var r=i._init;return r(i._payload)}function pT(i){function r(X,K){if(i){var tt=X.deletions;tt===null?(X.deletions=[K],X.flags|=16):tt.push(K)}}function l(X,K){if(!i)return null;for(;K!==null;)r(X,K),K=K.sibling;return null}function h(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=ds(X,K),X.index=0,X.sibling=null,X}function v(X,K,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<K?(X.flags|=67108866,K):tt):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function C(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function M(X,K,tt,ft){return K===null||K.tag!==6?(K=_c(tt,X.mode,ft),K.return=X,K):(K=g(K,tt),K.return=X,K)}function q(X,K,tt,ft){var Mt=tt.type;return Mt===k?ct(X,K,tt.props.children,ft,tt.key):K!==null&&(K.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===P&&dT(Mt)===K.type)?(K=g(K,tt.props),Mc(K,tt),K.return=X,K):(K=ul(tt.type,tt.key,tt.props,null,X.mode,ft),Mc(K,tt),K.return=X,K)}function et(X,K,tt,ft){return K===null||K.tag!==4||K.stateNode.containerInfo!==tt.containerInfo||K.stateNode.implementation!==tt.implementation?(K=eu(tt,X.mode,ft),K.return=X,K):(K=g(K,tt.children||[]),K.return=X,K)}function ct(X,K,tt,ft,Mt){return K===null||K.tag!==7?(K=dr(tt,X.mode,ft,Mt),K.return=X,K):(K=g(K,tt),K.return=X,K)}function mt(X,K,tt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=_c(""+K,X.mode,tt),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return tt=ul(K.type,K.key,K.props,null,X.mode,tt),Mc(tt,K),tt.return=X,tt;case D:return K=eu(K,X.mode,tt),K.return=X,K;case P:var ft=K._init;return K=ft(K._payload),mt(X,K,tt)}if(Kt(K)||W(K))return K=dr(K,X.mode,tt,null),K.return=X,K;if(typeof K.then=="function")return mt(X,zf(K),tt);if(K.$$typeof===$)return mt(X,Af(X,K),tt);Uf(X,K)}return null}function it(X,K,tt,ft){var Mt=K!==null?K.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Mt!==null?null:M(X,K,""+tt,ft);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return tt.key===Mt?q(X,K,tt,ft):null;case D:return tt.key===Mt?et(X,K,tt,ft):null;case P:return Mt=tt._init,tt=Mt(tt._payload),it(X,K,tt,ft)}if(Kt(tt)||W(tt))return Mt!==null?null:ct(X,K,tt,ft,null);if(typeof tt.then=="function")return it(X,K,zf(tt),ft);if(tt.$$typeof===$)return it(X,K,Af(X,tt),ft);Uf(X,tt)}return null}function at(X,K,tt,ft,Mt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return X=X.get(tt)||null,M(K,X,""+ft,Mt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case x:return X=X.get(ft.key===null?tt:ft.key)||null,q(K,X,ft,Mt);case D:return X=X.get(ft.key===null?tt:ft.key)||null,et(K,X,ft,Mt);case P:var ie=ft._init;return ft=ie(ft._payload),at(X,K,tt,ft,Mt)}if(Kt(ft)||W(ft))return X=X.get(tt)||null,ct(K,X,ft,Mt,null);if(typeof ft.then=="function")return at(X,K,tt,zf(ft),Mt);if(ft.$$typeof===$)return at(X,K,tt,Af(K,ft),Mt);Uf(K,ft)}return null}function Ht(X,K,tt,ft){for(var Mt=null,ie=null,Nt=K,jt=K=0,Mn=null;Nt!==null&&jt<tt.length;jt++){Nt.index>jt?(Mn=Nt,Nt=null):Mn=Nt.sibling;var ye=it(X,Nt,tt[jt],ft);if(ye===null){Nt===null&&(Nt=Mn);break}i&&Nt&&ye.alternate===null&&r(X,Nt),K=v(ye,K,jt),ie===null?Mt=ye:ie.sibling=ye,ie=ye,Nt=Mn}if(jt===tt.length)return l(X,Nt),Gt&&J(X,jt),Mt;if(Nt===null){for(;jt<tt.length;jt++)Nt=mt(X,tt[jt],ft),Nt!==null&&(K=v(Nt,K,jt),ie===null?Mt=Nt:ie.sibling=Nt,ie=Nt);return Gt&&J(X,jt),Mt}for(Nt=h(Nt);jt<tt.length;jt++)Mn=at(Nt,X,jt,tt[jt],ft),Mn!==null&&(i&&Mn.alternate!==null&&Nt.delete(Mn.key===null?jt:Mn.key),K=v(Mn,K,jt),ie===null?Mt=Mn:ie.sibling=Mn,ie=Mn);return i&&Nt.forEach(function(co){return r(X,co)}),Gt&&J(X,jt),Mt}function Vt(X,K,tt,ft){if(tt==null)throw Error(s(151));for(var Mt=null,ie=null,Nt=K,jt=K=0,Mn=null,ye=tt.next();Nt!==null&&!ye.done;jt++,ye=tt.next()){Nt.index>jt?(Mn=Nt,Nt=null):Mn=Nt.sibling;var co=it(X,Nt,ye.value,ft);if(co===null){Nt===null&&(Nt=Mn);break}i&&Nt&&co.alternate===null&&r(X,Nt),K=v(co,K,jt),ie===null?Mt=co:ie.sibling=co,ie=co,Nt=Mn}if(ye.done)return l(X,Nt),Gt&&J(X,jt),Mt;if(Nt===null){for(;!ye.done;jt++,ye=tt.next())ye=mt(X,ye.value,ft),ye!==null&&(K=v(ye,K,jt),ie===null?Mt=ye:ie.sibling=ye,ie=ye);return Gt&&J(X,jt),Mt}for(Nt=h(Nt);!ye.done;jt++,ye=tt.next())ye=at(Nt,X,jt,ye.value,ft),ye!==null&&(i&&ye.alternate!==null&&Nt.delete(ye.key===null?jt:ye.key),K=v(ye,K,jt),ie===null?Mt=ye:ie.sibling=ye,ie=ye);return i&&Nt.forEach(function(AP){return r(X,AP)}),Gt&&J(X,jt),Mt}function Ie(X,K,tt,ft){if(typeof tt=="object"&&tt!==null&&tt.type===k&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:t:{for(var Mt=tt.key;K!==null;){if(K.key===Mt){if(Mt=tt.type,Mt===k){if(K.tag===7){l(X,K.sibling),ft=g(K,tt.props.children),ft.return=X,X=ft;break t}}else if(K.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===P&&dT(Mt)===K.type){l(X,K.sibling),ft=g(K,tt.props),Mc(ft,tt),ft.return=X,X=ft;break t}l(X,K);break}else r(X,K);K=K.sibling}tt.type===k?(ft=dr(tt.props.children,X.mode,ft,tt.key),ft.return=X,X=ft):(ft=ul(tt.type,tt.key,tt.props,null,X.mode,ft),Mc(ft,tt),ft.return=X,X=ft)}return C(X);case D:t:{for(Mt=tt.key;K!==null;){if(K.key===Mt)if(K.tag===4&&K.stateNode.containerInfo===tt.containerInfo&&K.stateNode.implementation===tt.implementation){l(X,K.sibling),ft=g(K,tt.children||[]),ft.return=X,X=ft;break t}else{l(X,K);break}else r(X,K);K=K.sibling}ft=eu(tt,X.mode,ft),ft.return=X,X=ft}return C(X);case P:return Mt=tt._init,tt=Mt(tt._payload),Ie(X,K,tt,ft)}if(Kt(tt))return Ht(X,K,tt,ft);if(W(tt)){if(Mt=W(tt),typeof Mt!="function")throw Error(s(150));return tt=Mt.call(tt),Vt(X,K,tt,ft)}if(typeof tt.then=="function")return Ie(X,K,zf(tt),ft);if(tt.$$typeof===$)return Ie(X,K,Af(X,tt),ft);Uf(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,K!==null&&K.tag===6?(l(X,K.sibling),ft=g(K,tt),ft.return=X,X=ft):(l(X,K),ft=_c(tt,X.mode,ft),ft.return=X,X=ft),C(X)):l(X,K)}return function(X,K,tt,ft){try{Pc=0;var Mt=Ie(X,K,tt,ft);return uu=null,Mt}catch(Nt){if(Nt===bc||Nt===Cf)throw Nt;var ie=di(29,Nt,null,X.mode);return ie.lanes=ft,ie.return=X,ie}finally{}}}var cu=pT(!0),mT=pT(!1),ms=ut(null),mr=null;function Ka(i){var r=i.alternate;Tt(bn,bn.current&1),Tt(ms,i),mr===null&&(r===null||ru.current!==null||r.memoizedState!==null)&&(mr=i)}function gT(i){if(i.tag===22){if(Tt(bn,bn.current),Tt(ms,i),mr===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(mr=i)}}else $a()}function $a(){Tt(bn,bn.current),Tt(ms,ms.current)}function ta(i){Et(ms),mr===i&&(mr=null),Et(bn)}var bn=ut(0);function Bf(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ig(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Um(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bm={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Yi(),g=Wa(h);g.payload=r,l!=null&&(g.callback=l),r=Za(i,g,h),r!==null&&(Ki(r,i,h),wc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Yi(),g=Wa(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Za(i,g,h),r!==null&&(Ki(r,i,h),wc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Yi(),h=Wa(l);h.tag=2,r!=null&&(h.callback=r),r=Za(i,h,l),r!==null&&(Ki(r,i,l),wc(r,i,l))}};function yT(i,r,l,h,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):r.prototype&&r.prototype.isPureReactComponent?!ci(l,h)||!ci(g,v):!0}function _T(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Bm.enqueueReplaceState(r,r.state,null)}function gl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Ff=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function vT(i){Ff(i)}function TT(i){console.error(i)}function bT(i){Ff(i)}function Hf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function ET(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Fm(i,r,l){return l=Wa(l),l.tag=3,l.payload={element:null},l.callback=function(){Hf(i,r)},l}function wT(i){return i=Wa(i),i.tag=3,i}function xT(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){ET(r,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){ET(r,l,h),typeof g!="function"&&(no===null?no=new Set([this]):no.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function AI(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&fl(r,l,g,!0),l=ms.current,l!==null){switch(l.tag){case 13:return mr===null?fg():l.alternate===null&&Qe===0&&(Qe=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===ym?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),pg(i,h,g)),!1;case 22:return l.flags|=65536,h===ym?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),pg(i,h,g)),!1}throw Error(s(435,l.tag))}return pg(i,h,g),fg(),!1}if(Gt)return r=ms.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==Cn&&(i=Error(s(422),{cause:h}),qa(hi(i,l)))):(h!==Cn&&(r=Error(s(423),{cause:h}),qa(hi(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=hi(h,l),g=Fm(i.stateNode,h,g),Tm(i,g),Qe!==4&&(Qe=2)),!1;var v=Error(s(520),{cause:h});if(v=hi(v,l),jc===null?jc=[v]:jc.push(v),Qe!==4&&(Qe=2),r===null)return!0;h=hi(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Fm(l.stateNode,h,i),Tm(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(no===null||!no.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=wT(g),xT(g,i,l,h),Tm(l,g),!1}l=l.return}while(l!==null);return!1}var ST=Error(s(461)),In=!1;function zn(i,r,l,h){r.child=i===null?mT(r,null,l,h):cu(r,i.child,l,h)}function AT(i,r,l,h,g){l=l.render;var v=r.ref;if("ref"in h){var C={};for(var M in h)M!=="ref"&&(C[M]=h[M])}else C=h;return dl(r),h=Sm(i,r,l,C,v,g),M=Am(),i!==null&&!In?(Rm(i,r,g),ea(i,r,g)):(Gt&&M&&_t(r),r.flags|=1,zn(i,r,h,g),r.child)}function RT(i,r,l,h,g){if(i===null){var v=l.type;return typeof v=="function"&&!tu(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,CT(i,r,v,h,g)):(i=ul(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!$m(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:ci,l(C,h)&&i.ref===r.ref)return ea(i,r,g)}return r.flags|=1,i=ds(v,h),i.ref=r.ref,i.return=r,r.child=i}function CT(i,r,l,h,g){if(i!==null){var v=i.memoizedProps;if(ci(v,h)&&i.ref===r.ref)if(In=!1,r.pendingProps=h=v,$m(i,g))(i.flags&131072)!==0&&(In=!0);else return r.lanes=i.lanes,ea(i,r,g)}return Hm(i,r,l,h,g)}function IT(i,r,l){var h=r.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|l:l,i!==null){for(g=r.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return PT(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rf(r,v!==null?v.cachePool:null),v!==null?C0(r,v):Em(),gT(r);else return r.lanes=r.childLanes=536870912,PT(i,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(Rf(r,v.cachePool),C0(r,v),$a(),r.memoizedState=null):(i!==null&&Rf(r,null),Em(),$a());return zn(i,r,g,l),r.child}function PT(i,r,l,h){var g=gm();return g=g===null?null:{parent:Tn._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&Rf(r,null),Em(),gT(r),i!==null&&fl(i,r,h,!0),null}function qf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Hm(i,r,l,h,g){return dl(r),l=Sm(i,r,l,h,void 0,g),h=Am(),i!==null&&!In?(Rm(i,r,g),ea(i,r,g)):(Gt&&h&&_t(r),r.flags|=1,zn(i,r,l,g),r.child)}function MT(i,r,l,h,g,v){return dl(r),r.updateQueue=null,l=P0(r,h,l,g),I0(i),h=Am(),i!==null&&!In?(Rm(i,r,v),ea(i,r,v)):(Gt&&h&&_t(r),r.flags|=1,zn(i,r,l,v),r.child)}function LT(i,r,l,h,g){if(dl(r),r.stateNode===null){var v=Xr,C=l.contextType;typeof C=="object"&&C!==null&&(v=Qn(C)),v=new l(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Bm,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},_m(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?Qn(C):Xr,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Um(r,l,C,h),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Bm.enqueueReplaceState(v,v.state,null),Sc(r,h,v,g),xc(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){v=r.stateNode;var M=r.memoizedProps,q=gl(l,M);v.props=q;var et=v.context,ct=l.contextType;C=Xr,typeof ct=="object"&&ct!==null&&(C=Qn(ct));var mt=l.getDerivedStateFromProps;ct=typeof mt=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ct||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||et!==C)&&_T(r,v,h,C),Ga=!1;var it=r.memoizedState;v.state=it,Sc(r,h,v,g),xc(),et=r.memoizedState,M||it!==et||Ga?(typeof mt=="function"&&(Um(r,l,mt,h),et=r.memoizedState),(q=Ga||yT(r,l,q,h,it,et,C))?(ct||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=et),v.props=h,v.state=et,v.context=C,h=q):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,vm(i,r),C=r.memoizedProps,ct=gl(l,C),v.props=ct,mt=r.pendingProps,it=v.context,et=l.contextType,q=Xr,typeof et=="object"&&et!==null&&(q=Qn(et)),M=l.getDerivedStateFromProps,(et=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==mt||it!==q)&&_T(r,v,h,q),Ga=!1,it=r.memoizedState,v.state=it,Sc(r,h,v,g),xc();var at=r.memoizedState;C!==mt||it!==at||Ga||i!==null&&i.dependencies!==null&&Sf(i.dependencies)?(typeof M=="function"&&(Um(r,l,M,h),at=r.memoizedState),(ct=Ga||yT(r,l,ct,h,it,at,q)||i!==null&&i.dependencies!==null&&Sf(i.dependencies))?(et||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,at,q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,at,q)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=at),v.props=h,v.state=at,v.context=q,h=ct):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=1024),h=!1)}return v=h,qf(i,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&h?(r.child=cu(r,i.child,null,g),r.child=cu(r,null,l,g)):zn(i,r,l,g),r.memoizedState=v.state,i=r.child):i=ea(i,r,g),i}function DT(i,r,l,h){return Ha(),r.flags|=256,zn(i,r,l,h),r.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(i){return{baseLanes:i,cachePool:T0()}}function Wm(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=gs),i}function NT(i,r,l){var h=r.pendingProps,g=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(bn.current&2)!==0),C&&(g=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Gt){if(g?Ka(r):$a(),Gt){var M=Lt,q;if(q=M){t:{for(q=M,M=Ge;q.nodeType!==8;){if(!M){M=null;break t}if(q=Gs(q.nextSibling),q===null){M=null;break t}}M=q}M!==null?(r.memoizedState={dehydrated:M,treeContext:S!==null?{id:I,overflow:H}:null,retryLane:536870912,hydrationErrors:null},q=di(18,null,null,0),q.stateNode=M,q.return=r,r.child=q,Pt=r,Lt=null,q=!0):q=!1}q||Ti(r)}if(M=r.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Ig(M)?r.lanes=32:r.lanes=536870912,null;ta(r)}return M=h.children,h=h.fallback,g?($a(),g=r.mode,M=Gf({mode:"hidden",children:M},g),h=dr(h,g,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,g=r.child,g.memoizedState=Gm(l),g.childLanes=Wm(i,C,l),r.memoizedState=qm,h):(Ka(r),Zm(r,M))}if(q=i.memoizedState,q!==null&&(M=q.dehydrated,M!==null)){if(v)r.flags&256?(Ka(r),r.flags&=-257,r=Ym(i,r,l)):r.memoizedState!==null?($a(),r.child=i.child,r.flags|=128,r=null):($a(),g=h.fallback,M=r.mode,h=Gf({mode:"visible",children:h.children},M),g=dr(g,M,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,cu(r,i.child,null,l),h=r.child,h.memoizedState=Gm(l),h.childLanes=Wm(i,C,l),r.memoizedState=qm,r=g);else if(Ka(r),Ig(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var et=C.dgst;C=et,h=Error(s(419)),h.stack="",h.digest=C,qa({value:h,source:null,stack:null}),r=Ym(i,r,l)}else if(In||fl(i,r,l,!1),C=(l&i.childLanes)!==0,In||C){if(C=Ve,C!==null&&(h=l&-l,h=(h&42)!==0?1:er(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==q.retryLane))throw q.retryLane=h,Ba(i,h),Ki(C,i,h),ST;M.data==="$?"||fg(),r=Ym(i,r,l)}else M.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=q.treeContext,Lt=Gs(M.nextSibling),Pt=r,Gt=!0,ke=null,Ge=!1,i!==null&&(m[b++]=I,m[b++]=H,m[b++]=S,I=i.id,H=i.overflow,S=r),r=Zm(r,h.children),r.flags|=4096);return r}return g?($a(),g=h.fallback,M=r.mode,q=i.child,et=q.sibling,h=ds(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&65011712,et!==null?g=ds(et,g):(g=dr(g,M,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,M=i.child.memoizedState,M===null?M=Gm(l):(q=M.cachePool,q!==null?(et=Tn._currentValue,q=q.parent!==et?{parent:et,pool:et}:q):q=T0(),M={baseLanes:M.baseLanes|l,cachePool:q}),g.memoizedState=M,g.childLanes=Wm(i,C,l),r.memoizedState=qm,h):(Ka(r),l=i.child,i=l.sibling,l=ds(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=l,r.memoizedState=null,l)}function Zm(i,r){return r=Gf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Gf(i,r){return i=di(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ym(i,r,l){return cu(r,i.child,null,l),i=Zm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function OT(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),hl(i.return,r,l)}function Km(i,r,l,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function kT(i,r,l){var h=r.pendingProps,g=h.revealOrder,v=h.tail;if(zn(i,r,h.children,l),h=bn.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&OT(i,l,r);else if(i.tag===19)OT(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(Tt(bn,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&Bf(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Km(r,!1,g,l,v);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&Bf(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Km(r,!0,l,null,v);break;case"together":Km(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ea(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),eo|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(fl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=ds(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=ds(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function $m(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Sf(i)))}function RI(i,r,l){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),pr(r,Tn,i.memoizedState.cache),Ha();break;case 27:case 5:ai(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ka(r),r.flags|=128,null):(l&r.child.childLanes)!==0?NT(i,r,l):(Ka(r),i=ea(i,r,l),i!==null?i.sibling:null);Ka(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(fl(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return kT(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Tt(bn,bn.current),h)break;return null;case 22:case 23:return r.lanes=0,IT(i,r,l);case 24:pr(r,Tn,i.memoizedState.cache)}return ea(i,r,l)}function VT(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)In=!0;else{if(!$m(i,l)&&(r.flags&128)===0)return In=!1,RI(i,r,l);In=(i.flags&131072)!==0}else In=!1,Gt&&(r.flags&1048576)!==0&&ot(r,c,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")tu(h)?(i=gl(h,i),r.tag=1,r=LT(null,r,h,i,l)):(r.tag=0,r=Hm(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===yt){r.tag=11,r=AT(null,r,h,i,l);break t}else if(g===F){r.tag=14,r=RT(null,r,h,i,l);break t}}throw r=Ft(h)||h,Error(s(306,r,""))}}return r;case 0:return Hm(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=gl(h,r.pendingProps),LT(i,r,h,g,l);case 3:t:{if(te(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var v=r.memoizedState;g=v.element,vm(i,r),Sc(r,h,null,l);var C=r.memoizedState;if(h=C.cache,pr(r,Tn,h),h!==v.cache&&nu(r,[Tn],l,!0),xc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=DT(i,r,h,l);break t}else if(h!==g){g=hi(Error(s(424)),r),qa(g),r=DT(i,r,h,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=Gs(i.firstChild),Pt=r,Gt=!0,ke=null,Ge=!0,l=mT(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ha(),h===g){r=ea(i,r,l);break t}zn(i,r,h,l)}r=r.child}return r;case 26:return qf(i,r),i===null?(l=Bb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Gt||(l=r.type,i=r.pendingProps,h=rd(bt.current).createElement(l),h[nn]=r,h[$e]=i,Bn(h,l,i),qe(h),r.stateNode=h):r.memoizedState=Bb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ai(r),i===null&&Gt&&(h=r.stateNode=jb(r.type,r.pendingProps,bt.current),Pt=r,Ge=!0,g=Lt,ro(r.type)?(Pg=g,Lt=Gs(h.firstChild)):Lt=g),zn(i,r,r.pendingProps.children,l),qf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Gt&&((g=h=Lt)&&(h=eP(h,r.type,r.pendingProps,Ge),h!==null?(r.stateNode=h,Pt=r,Lt=Gs(h.firstChild),Ge=!1,g=!0):g=!1),g||Ti(r)),ai(r),g=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,Ag(g,v)?h=null:C!==null&&Ag(g,C)&&(r.flags|=32),r.memoizedState!==null&&(g=Sm(i,r,vI,null,null,l),Zc._currentValue=g),qf(i,r),zn(i,r,h,l),r.child;case 6:return i===null&&Gt&&((i=l=Lt)&&(l=nP(l,r.pendingProps,Ge),l!==null?(r.stateNode=l,Pt=r,Lt=null,i=!0):i=!1),i||Ti(r)),null;case 13:return NT(i,r,l);case 4:return te(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=cu(r,null,h,l):zn(i,r,h,l),r.child;case 11:return AT(i,r,r.type,r.pendingProps,l);case 7:return zn(i,r,r.pendingProps,l),r.child;case 8:return zn(i,r,r.pendingProps.children,l),r.child;case 12:return zn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,pr(r,r.type,h.value),zn(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,dl(r),g=Qn(g),h=h(g),r.flags|=1,zn(i,r,h,l),r.child;case 14:return RT(i,r,r.type,r.pendingProps,l);case 15:return CT(i,r,r.type,r.pendingProps,l);case 19:return kT(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=Gf(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ds(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return IT(i,r,l);case 24:return dl(r),h=Qn(Tn),i===null?(g=gm(),g===null&&(g=Ve,v=pm(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),r.memoizedState={parent:h,cache:g},_m(r),pr(r,Tn,g)):((i.lanes&l)!==0&&(vm(i,r),Sc(r,null,null,l),xc()),g=i.memoizedState,v=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),pr(r,Tn,h)):(h=v.cache,pr(r,Tn,h),h!==g.cache&&nu(r,[Tn],l,!0))),zn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function na(i){i.flags|=4}function jT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Wb(r)){if(r=ms.current,r!==null&&((fe&4194048)===fe?mr!==null:(fe&62914560)!==fe&&(fe&536870912)===0||r!==mr))throw Ec=ym,b0;i.flags|=8192}}function Wf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ta():536870912,i.lanes|=r,pu|=r)}function Lc(i,r){if(!Gt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function We(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function CI(i,r,l){var h=r.pendingProps;switch(Rt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(r),null;case 1:return We(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Hs(Tn),ri(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(cl(r)?na(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xf())),We(r),null;case 26:return l=r.memoizedState,i===null?(na(r),l!==null?(We(r),jT(r,l)):(We(r),r.flags&=-16777217)):l?l!==i.memoizedState?(na(r),We(r),jT(r,l)):(We(r),r.flags&=-16777217):(i.memoizedProps!==h&&na(r),We(r),r.flags&=-16777217),null;case 27:Nn(r),l=bt.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return We(r),null}i=St.current,cl(r)?Ef(r):(i=jb(g,h,l),r.stateNode=i,na(r))}return We(r),null;case 5:if(Nn(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return We(r),null}if(i=St.current,cl(r))Ef(r);else{switch(g=rd(bt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[nn]=r,i[$e]=h;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Bn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&na(r)}}return We(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=bt.current,cl(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=Pt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[nn]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Mb(i.nodeValue,l)),i||Ti(r)}else i=rd(i).createTextNode(h),i[nn]=r,r.stateNode=i}return We(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=cl(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[nn]=r}else Ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;We(r),g=!1}else g=xf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ta(r),r):(ta(r),null)}if(ta(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Wf(r,r.updateQueue),We(r),null;case 4:return ri(),i===null&&bg(r.stateNode.containerInfo),We(r),null;case 10:return Hs(r.type),We(r),null;case 19:if(Et(bn),g=r.memoizedState,g===null)return We(r),null;if(h=(r.flags&128)!==0,v=g.rendering,v===null)if(h)Lc(g,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Bf(i),v!==null){for(r.flags|=128,Lc(g,!1),i=v.updateQueue,r.updateQueue=i,Wf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)yc(l,i),l=l.sibling;return Tt(bn,bn.current&1|2),r.child}i=i.sibling}g.tail!==null&&Ke()>Kf&&(r.flags|=128,h=!0,Lc(g,!1),r.lanes=4194304)}else{if(!h)if(i=Bf(v),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Wf(r,i),Lc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Gt)return We(r),null}else 2*Ke()-g.renderingStartTime>Kf&&l!==536870912&&(r.flags|=128,h=!0,Lc(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(i=g.last,i!==null?i.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Ke(),r.sibling=null,i=bn.current,Tt(bn,h?i&1|2:i&1),r):(We(r),null);case 22:case 23:return ta(r),wm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(We(r),r.subtreeFlags&6&&(r.flags|=8192)):We(r),l=r.updateQueue,l!==null&&Wf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&Et(pl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hs(Tn),We(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function II(i,r){switch(Rt(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Hs(Tn),ri(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Nn(r),null;case 13:if(ta(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ha()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Et(bn),null;case 4:return ri(),null;case 10:return Hs(r.type),null;case 22:case 23:return ta(r),wm(),i!==null&&Et(pl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Hs(Tn),null;case 25:return null;default:return null}}function zT(i,r){switch(Rt(r),r.tag){case 3:Hs(Tn),ri();break;case 26:case 27:case 5:Nn(r);break;case 4:ri();break;case 13:ta(r);break;case 19:Et(bn);break;case 10:Hs(r.type);break;case 22:case 23:ta(r),wm(),i!==null&&Et(pl);break;case 24:Hs(Tn)}}function Dc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var v=l.create,C=l.inst;h=v(),C.destroy=h}l=l.next}while(l!==g)}}catch(M){Me(r,r.return,M)}}function Xa(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var C=h.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,g=r;var q=l,et=M;try{et()}catch(ct){Me(g,q,ct)}}}h=h.next}while(h!==v)}}catch(ct){Me(r,r.return,ct)}}function UT(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{R0(r,l)}catch(h){Me(i,i.return,h)}}}function BT(i,r,l){l.props=gl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Me(i,r,h)}}function Nc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Me(i,r,g)}}function gr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Me(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Me(i,r,g)}else l.current=null}function FT(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Me(i,i.return,g)}}function Xm(i,r,l){try{var h=i.stateNode;$I(h,i.type,l,r),h[$e]=r}catch(g){Me(i,i.return,g)}}function HT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ro(i.type)||i.tag===4}function Qm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||HT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ro(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jm(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=sd));else if(h!==4&&(h===27&&ro(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Jm(i,r,l),i=i.sibling;i!==null;)Jm(i,r,l),i=i.sibling}function Zf(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&ro(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Zf(i,r,l),i=i.sibling;i!==null;)Zf(i,r,l),i=i.sibling}function qT(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Bn(r,h,l),r[nn]=i,r[$e]=l}catch(v){Me(i,i.return,v)}}var ia=!1,an=!1,tg=!1,GT=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function PI(i,r){if(i=i.containerInfo,xg=hd,i=il(i),sl(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,M=-1,q=-1,et=0,ct=0,mt=i,it=null;e:for(;;){for(var at;mt!==l||g!==0&&mt.nodeType!==3||(M=C+g),mt!==v||h!==0&&mt.nodeType!==3||(q=C+h),mt.nodeType===3&&(C+=mt.nodeValue.length),(at=mt.firstChild)!==null;)it=mt,mt=at;for(;;){if(mt===i)break e;if(it===l&&++et===g&&(M=C),it===v&&++ct===h&&(q=C),(at=mt.nextSibling)!==null)break;mt=it,it=mt.parentNode}mt=at}l=M===-1||q===-1?null:{start:M,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sg={focusedElem:i,selectionRange:l},hd=!1,Pn=r;Pn!==null;)if(r=Pn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Pn=i;else for(;Pn!==null;){switch(r=Pn,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,g=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var Ht=gl(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Ht,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(Vt){Me(l,l.return,Vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Cg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Pn=i;break}Pn=r.return}}function WT(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Qa(i,l),h&4&&Dc(5,l);break;case 1:if(Qa(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(C){Me(l,l.return,C)}else{var g=gl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Me(l,l.return,C)}}h&64&&UT(l),h&512&&Nc(l,l.return);break;case 3:if(Qa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{R0(i,r)}catch(C){Me(l,l.return,C)}}break;case 27:r===null&&h&4&&qT(l);case 26:case 5:Qa(i,l),r===null&&h&4&&FT(l),h&512&&Nc(l,l.return);break;case 12:Qa(i,l);break;case 13:Qa(i,l),h&4&&KT(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=zI.bind(null,l),iP(i,l))));break;case 22:if(h=l.memoizedState!==null||ia,!h){r=r!==null&&r.memoizedState!==null||an,g=ia;var v=an;ia=h,(an=r)&&!v?Ja(i,l,(l.subtreeFlags&8772)!==0):Qa(i,l),ia=g,an=v}break;case 30:break;default:Qa(i,l)}}function ZT(i){var r=i.alternate;r!==null&&(i.alternate=null,ZT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ms(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Fe=null,Ei=!1;function sa(i,r,l){for(l=l.child;l!==null;)YT(i,r,l),l=l.sibling}function YT(i,r,l){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(be,l)}catch{}switch(l.tag){case 26:an||gr(l,r),sa(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:an||gr(l,r);var h=Fe,g=Ei;ro(l.type)&&(Fe=l.stateNode,Ei=!1),sa(i,r,l),Hc(l.stateNode),Fe=h,Ei=g;break;case 5:an||gr(l,r);case 6:if(h=Fe,g=Ei,Fe=null,sa(i,r,l),Fe=h,Ei=g,Fe!==null)if(Ei)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(l.stateNode)}catch(v){Me(l,r,v)}else try{Fe.removeChild(l.stateNode)}catch(v){Me(l,r,v)}break;case 18:Fe!==null&&(Ei?(i=Fe,kb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xc(i)):kb(Fe,l.stateNode));break;case 4:h=Fe,g=Ei,Fe=l.stateNode.containerInfo,Ei=!0,sa(i,r,l),Fe=h,Ei=g;break;case 0:case 11:case 14:case 15:an||Xa(2,l,r),an||Xa(4,l,r),sa(i,r,l);break;case 1:an||(gr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&BT(l,r,h)),sa(i,r,l);break;case 21:sa(i,r,l);break;case 22:an=(h=an)||l.memoizedState!==null,sa(i,r,l),an=h;break;default:sa(i,r,l)}}function KT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(l){Me(r,r.return,l)}}function MI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new GT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new GT),r;default:throw Error(s(435,i.tag))}}function eg(i,r){var l=MI(i);r.forEach(function(h){var g=UI.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function Gi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],v=i,C=r,M=C;t:for(;M!==null;){switch(M.tag){case 27:if(ro(M.type)){Fe=M.stateNode,Ei=!1;break t}break;case 5:Fe=M.stateNode,Ei=!1;break t;case 3:case 4:Fe=M.stateNode.containerInfo,Ei=!0;break t}M=M.return}if(Fe===null)throw Error(s(160));YT(v,C,g),Fe=null,Ei=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)$T(r,i),r=r.sibling}var qs=null;function $T(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gi(r,i),Wi(i),h&4&&(Xa(3,i,i.return),Dc(3,i),Xa(5,i,i.return));break;case 1:Gi(r,i),Wi(i),h&512&&(an||l===null||gr(l,l.return)),h&64&&ia&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=qs;if(Gi(r,i),Wi(i),h&512&&(an||l===null||gr(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ir]||v[nn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Bn(v,h,l),v[nn]=i,qe(v),h=v;break t;case"link":var C=qb("link","href",g).get(h+(l.href||""));if(C){for(var M=0;M<C.length;M++)if(v=C[M],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(M,1);break e}}v=g.createElement(h),Bn(v,h,l),g.head.appendChild(v);break;case"meta":if(C=qb("meta","content",g).get(h+(l.content||""))){for(M=0;M<C.length;M++)if(v=C[M],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(M,1);break e}}v=g.createElement(h),Bn(v,h,l),g.head.appendChild(v);break;default:throw Error(s(468,h))}v[nn]=i,qe(v),h=v}i.stateNode=h}else Gb(g,i.type,i.stateNode);else i.stateNode=Hb(g,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?Gb(g,i.type,i.stateNode):Hb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Xm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Gi(r,i),Wi(i),h&512&&(an||l===null||gr(l,l.return)),l!==null&&h&4&&Xm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Gi(r,i),Wi(i),h&512&&(an||l===null||gr(l,l.return)),i.flags&32){g=i.stateNode;try{Sn(g,"")}catch(at){Me(i,i.return,at)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Xm(i,g,l!==null?l.memoizedProps:g)),h&1024&&(tg=!0);break;case 6:if(Gi(r,i),Wi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(at){Me(i,i.return,at)}}break;case 3:if(ld=null,g=qs,qs=ad(r.containerInfo),Gi(r,i),qs=g,Wi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Xc(r.containerInfo)}catch(at){Me(i,i.return,at)}tg&&(tg=!1,XT(i));break;case 4:h=qs,qs=ad(i.stateNode.containerInfo),Gi(r,i),Wi(i),qs=h;break;case 12:Gi(r,i),Wi(i);break;case 13:Gi(r,i),Wi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(og=Ke()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,eg(i,h)));break;case 22:g=i.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,et=ia,ct=an;if(ia=et||g,an=ct||q,Gi(r,i),an=ct,ia=et,Wi(i),h&8192)t:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||q||ia||an||yl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){q=l=r;try{if(v=q.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=q.stateNode;var mt=q.memoizedProps.style,it=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;M.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(at){Me(q,q.return,at)}}}else if(r.tag===6){if(l===null){q=r;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(at){Me(q,q.return,at)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,eg(i,l))));break;case 19:Gi(r,i),Wi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,eg(i,h)));break;case 30:break;case 21:break;default:Gi(r,i),Wi(i)}}function Wi(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(HT(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,v=Qm(i);Zf(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(Sn(C,""),l.flags&=-33);var M=Qm(i);Zf(i,M,C);break;case 3:case 4:var q=l.stateNode.containerInfo,et=Qm(i);Jm(i,et,q);break;default:throw Error(s(161))}}catch(ct){Me(i,i.return,ct)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function XT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;XT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Qa(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)WT(i,r.alternate,r),r=r.sibling}function yl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Xa(4,r,r.return),yl(r);break;case 1:gr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&BT(r,r.return,l),yl(r);break;case 27:Hc(r.stateNode);case 26:case 5:gr(r,r.return),yl(r);break;case 22:r.memoizedState===null&&yl(r);break;case 30:yl(r);break;default:yl(r)}i=i.sibling}}function Ja(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(g,v,l),Dc(4,v);break;case 1:if(Ja(g,v,l),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(et){Me(h,h.return,et)}if(h=v,g=h.updateQueue,g!==null){var M=h.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)A0(q[g],M)}catch(et){Me(h,h.return,et)}}l&&C&64&&UT(v),Nc(v,v.return);break;case 27:qT(v);case 26:case 5:Ja(g,v,l),l&&h===null&&C&4&&FT(v),Nc(v,v.return);break;case 12:Ja(g,v,l);break;case 13:Ja(g,v,l),l&&C&4&&KT(g,v);break;case 22:v.memoizedState===null&&Ja(g,v,l),Nc(v,v.return);break;case 30:break;default:Ja(g,v,l)}r=r.sibling}}function ng(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&vc(l))}function ig(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&vc(i))}function yr(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)QT(i,r,l,h),r=r.sibling}function QT(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:yr(i,r,l,h),g&2048&&Dc(9,r);break;case 1:yr(i,r,l,h);break;case 3:yr(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&vc(i)));break;case 12:if(g&2048){yr(i,r,l,h),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,M=v.onPostCommit;typeof M=="function"&&M(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){Me(r,r.return,q)}}else yr(i,r,l,h);break;case 13:yr(i,r,l,h);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?yr(i,r,l,h):Oc(i,r):v._visibility&2?yr(i,r,l,h):(v._visibility|=2,hu(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&ng(C,r);break;case 24:yr(i,r,l,h),g&2048&&ig(r.alternate,r);break;default:yr(i,r,l,h)}}function hu(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,C=r,M=l,q=h,et=C.flags;switch(C.tag){case 0:case 11:case 15:hu(v,C,M,q,g),Dc(8,C);break;case 23:break;case 22:var ct=C.stateNode;C.memoizedState!==null?ct._visibility&2?hu(v,C,M,q,g):Oc(v,C):(ct._visibility|=2,hu(v,C,M,q,g)),g&&et&2048&&ng(C.alternate,C);break;case 24:hu(v,C,M,q,g),g&&et&2048&&ig(C.alternate,C);break;default:hu(v,C,M,q,g)}r=r.sibling}}function Oc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:Oc(l,h),g&2048&&ng(h.alternate,h);break;case 24:Oc(l,h),g&2048&&ig(h.alternate,h);break;default:Oc(l,h)}r=r.sibling}}var kc=8192;function fu(i){if(i.subtreeFlags&kc)for(i=i.child;i!==null;)JT(i),i=i.sibling}function JT(i){switch(i.tag){case 26:fu(i),i.flags&kc&&i.memoizedState!==null&&gP(qs,i.memoizedState,i.memoizedProps);break;case 5:fu(i);break;case 3:case 4:var r=qs;qs=ad(i.stateNode.containerInfo),fu(i),qs=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=kc,kc=16777216,fu(i),kc=r):fu(i));break;default:fu(i)}}function tb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Vc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Pn=h,nb(h,i)}tb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)eb(i),i=i.sibling}function eb(i){switch(i.tag){case 0:case 11:case 15:Vc(i),i.flags&2048&&Xa(9,i,i.return);break;case 3:Vc(i);break;case 12:Vc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Yf(i)):Vc(i);break;default:Vc(i)}}function Yf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Pn=h,nb(h,i)}tb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Xa(8,r,r.return),Yf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Yf(r));break;default:Yf(r)}i=i.sibling}}function nb(i,r){for(;Pn!==null;){var l=Pn;switch(l.tag){case 0:case 11:case 15:Xa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:vc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Pn=h;else t:for(l=i;Pn!==null;){h=Pn;var g=h.sibling,v=h.return;if(ZT(h),h===l){Pn=null;break t}if(g!==null){g.return=v,Pn=g;break t}Pn=v}}}var LI={getCacheForType:function(i){var r=Qn(Tn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},DI=typeof WeakMap=="function"?WeakMap:Map,we=0,Ve=null,se=null,fe=0,xe=0,Zi=null,to=!1,du=!1,sg=!1,ra=0,Qe=0,eo=0,_l=0,rg=0,gs=0,pu=0,jc=null,wi=null,ag=!1,og=0,Kf=1/0,$f=null,no=null,Un=0,io=null,mu=null,gu=0,lg=0,ug=null,ib=null,zc=0,cg=null;function Yi(){if((we&2)!==0&&fe!==0)return fe&-fe;if(rt.T!==null){var i=iu;return i!==0?i:yg()}return nr()}function sb(){gs===0&&(gs=(fe&536870912)===0||Gt?Ho():536870912);var i=ms.current;return i!==null&&(i.flags|=32),gs}function Ki(i,r,l){(i===Ve&&(xe===2||xe===9)||i.cancelPendingCommit!==null)&&(yu(i,0),so(i,fe,gs,!1)),ts(i,l),((we&2)===0||i!==Ve)&&(i===Ve&&((we&2)===0&&(_l|=l),Qe===4&&so(i,fe,gs,!1)),_r(i))}function rb(i,r,l){if((we&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||Mi(i,r),g=h?kI(i,r):dg(i,r,!0),v=h;do{if(g===0){du&&!h&&so(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!NI(l)){g=dg(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var M=i;g=jc;var q=M.current.memoizedState.isDehydrated;if(q&&(yu(M,C).flags|=256),C=dg(M,C,!1),C!==2){if(sg&&!q){M.errorRecoveryDisabledLanes|=v,_l|=v,g=4;break t}v=wi,wi=g,v!==null&&(wi===null?wi=v:wi.push.apply(wi,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){yu(i,0),so(i,r,0,!0);break}t:{switch(h=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:so(h,r,gs,!to);break t;case 2:wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=og+300-Ke(),10<g)){if(so(h,r,gs,!to),va(h,0,!0)!==0)break t;h.timeoutHandle=Nb(ab.bind(null,h,l,wi,$f,ag,r,gs,_l,pu,to,v,2,-0,0),g);break t}ab(h,l,wi,$f,ag,r,gs,_l,pu,to,v,0,-0,0)}}break}while(!0);_r(i)}function ab(i,r,l,h,g,v,C,M,q,et,ct,mt,it,at){if(i.timeoutHandle=-1,mt=r.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(Wc={stylesheets:null,count:0,unsuspend:mP},JT(r),mt=yP(),mt!==null)){i.cancelPendingCommit=mt(db.bind(null,i,r,v,l,h,g,C,M,q,ct,1,it,at)),so(i,v,C,!et);return}db(i,r,v,l,h,g,C,M,q)}function NI(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!ui(v(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function so(i,r,l,h){r&=~rg,r&=~_l,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var v=31-wn(g),C=1<<v;h[v]=-1,g&=~C}l!==0&&es(i,l,r)}function Xf(){return(we&6)===0?(Uc(0),!1):!0}function hg(){if(se!==null){if(xe===0)var i=se.return;else i=se,Fs=ps=null,Cm(i),uu=null,Pc=0,i=se;for(;i!==null;)zT(i.alternate,i),i=i.return;se=null}}function yu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,QI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),hg(),Ve=i,se=l=ds(i.current,null),fe=r,xe=0,Zi=null,to=!1,du=Mi(i,r),sg=!1,pu=gs=rg=_l=eo=Qe=0,wi=jc=null,ag=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-wn(h),v=1<<g;r|=i[g],h&=~v}return ra=r,al(),l}function ob(i,r){ee=null,rt.H=jf,r===bc||r===Cf?(r=x0(),xe=3):r===b0?(r=x0(),xe=4):xe=r===ST?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Zi=r,se===null&&(Qe=1,Hf(i,hi(r,i.current)))}function lb(){var i=rt.H;return rt.H=jf,i===null?jf:i}function ub(){var i=rt.A;return rt.A=LI,i}function fg(){Qe=4,to||(fe&4194048)!==fe&&ms.current!==null||(du=!0),(eo&134217727)===0&&(_l&134217727)===0||Ve===null||so(Ve,fe,gs,!1)}function dg(i,r,l){var h=we;we|=2;var g=lb(),v=ub();(Ve!==i||fe!==r)&&($f=null,yu(i,r)),r=!1;var C=Qe;t:do try{if(xe!==0&&se!==null){var M=se,q=Zi;switch(xe){case 8:hg(),C=6;break t;case 3:case 2:case 9:case 6:ms.current===null&&(r=!0);var et=xe;if(xe=0,Zi=null,_u(i,M,q,et),l&&du){C=0;break t}break;default:et=xe,xe=0,Zi=null,_u(i,M,q,et)}}OI(),C=Qe;break}catch(ct){ob(i,ct)}while(!0);return r&&i.shellSuspendCounter++,Fs=ps=null,we=h,rt.H=g,rt.A=v,se===null&&(Ve=null,fe=0,al()),C}function OI(){for(;se!==null;)cb(se)}function kI(i,r){var l=we;we|=2;var h=lb(),g=ub();Ve!==i||fe!==r?($f=null,Kf=Ke()+500,yu(i,r)):du=Mi(i,r);t:do try{if(xe!==0&&se!==null){r=se;var v=Zi;e:switch(xe){case 1:xe=0,Zi=null,_u(i,r,v,1);break;case 2:case 9:if(E0(v)){xe=0,Zi=null,hb(r);break}r=function(){xe!==2&&xe!==9||Ve!==i||(xe=7),_r(i)},v.then(r,r);break t;case 3:xe=7;break t;case 4:xe=5;break t;case 7:E0(v)?(xe=0,Zi=null,hb(r)):(xe=0,Zi=null,_u(i,r,v,7));break;case 5:var C=null;switch(se.tag){case 26:C=se.memoizedState;case 5:case 27:var M=se;if(!C||Wb(C)){xe=0,Zi=null;var q=M.sibling;if(q!==null)se=q;else{var et=M.return;et!==null?(se=et,Qf(et)):se=null}break e}}xe=0,Zi=null,_u(i,r,v,5);break;case 6:xe=0,Zi=null,_u(i,r,v,6);break;case 8:hg(),Qe=6;break t;default:throw Error(s(462))}}VI();break}catch(ct){ob(i,ct)}while(!0);return Fs=ps=null,rt.H=h,rt.A=g,we=l,se!==null?0:(Ve=null,fe=0,al(),Qe)}function VI(){for(;se!==null&&!Xi();)cb(se)}function cb(i){var r=VT(i.alternate,i,ra);i.memoizedProps=i.pendingProps,r===null?Qf(i):se=r}function hb(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=MT(l,r,r.pendingProps,r.type,void 0,fe);break;case 11:r=MT(l,r,r.pendingProps,r.type.render,r.ref,fe);break;case 5:Cm(r);default:zT(l,r),r=se=yc(r,ra),r=VT(l,r,ra)}i.memoizedProps=i.pendingProps,r===null?Qf(i):se=r}function _u(i,r,l,h){Fs=ps=null,Cm(r),uu=null,Pc=0;var g=r.return;try{if(AI(i,g,r,l,fe)){Qe=1,Hf(i,hi(l,i.current)),se=null;return}}catch(v){if(g!==null)throw se=g,v;Qe=1,Hf(i,hi(l,i.current)),se=null;return}r.flags&32768?(Gt||h===1?i=!0:du||(fe&536870912)!==0?i=!1:(to=i=!0,(h===2||h===9||h===3||h===6)&&(h=ms.current,h!==null&&h.tag===13&&(h.flags|=16384))),fb(r,i)):Qf(r)}function Qf(i){var r=i;do{if((r.flags&32768)!==0){fb(r,to);return}i=r.return;var l=CI(r.alternate,r,ra);if(l!==null){se=l;return}if(r=r.sibling,r!==null){se=r;return}se=r=i}while(r!==null);Qe===0&&(Qe=5)}function fb(i,r){do{var l=II(i.alternate,i);if(l!==null){l.flags&=32767,se=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){se=i;return}se=i=l}while(i!==null);Qe=6,se=null}function db(i,r,l,h,g,v,C,M,q){i.cancelPendingCommit=null;do Jf();while(Un!==0);if((we&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=qi,qo(i,l,v,C,M,q),i===Ve&&(se=Ve=null,fe=0),mu=r,io=i,gu=l,lg=v,ug=g,ib=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BI(It,function(){return _b(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=rt.T,rt.T=null,g=pt.p,pt.p=2,C=we,we|=4;try{PI(i,r,l)}finally{we=C,pt.p=g,rt.T=h}}Un=1,pb(),mb(),gb()}}function pb(){if(Un===1){Un=0;var i=io,r=mu,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=rt.T,rt.T=null;var h=pt.p;pt.p=2;var g=we;we|=4;try{$T(r,i);var v=Sg,C=il(i.containerInfo),M=v.focusedElem,q=v.selectionRange;if(C!==M&&M&&M.ownerDocument&&Kl(M.ownerDocument.documentElement,M)){if(q!==null&&sl(M)){var et=q.start,ct=q.end;if(ct===void 0&&(ct=et),"selectionStart"in M)M.selectionStart=et,M.selectionEnd=Math.min(ct,M.value.length);else{var mt=M.ownerDocument||document,it=mt&&mt.defaultView||window;if(it.getSelection){var at=it.getSelection(),Ht=M.textContent.length,Vt=Math.min(q.start,Ht),Ie=q.end===void 0?Vt:Math.min(q.end,Ht);!at.extend&&Vt>Ie&&(C=Ie,Ie=Vt,Vt=C);var X=mc(M,Vt),K=mc(M,Ie);if(X&&K&&(at.rangeCount!==1||at.anchorNode!==X.node||at.anchorOffset!==X.offset||at.focusNode!==K.node||at.focusOffset!==K.offset)){var tt=mt.createRange();tt.setStart(X.node,X.offset),at.removeAllRanges(),Vt>Ie?(at.addRange(tt),at.extend(K.node,K.offset)):(tt.setEnd(K.node,K.offset),at.addRange(tt))}}}}for(mt=[],at=M;at=at.parentNode;)at.nodeType===1&&mt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<mt.length;M++){var ft=mt[M];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}hd=!!xg,Sg=xg=null}finally{we=g,pt.p=h,rt.T=l}}i.current=r,Un=2}}function mb(){if(Un===2){Un=0;var i=io,r=mu,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=rt.T,rt.T=null;var h=pt.p;pt.p=2;var g=we;we|=4;try{WT(i,r.alternate,r)}finally{we=g,pt.p=h,rt.T=l}}Un=3}}function gb(){if(Un===4||Un===3){Un=0,Cs();var i=io,r=mu,l=gu,h=ib;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Un=5:(Un=0,mu=io=null,yb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(no=null),ba(l),r=r.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(be,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=rt.T,g=pt.p,pt.p=2,rt.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var M=h[C];v(M.value,{componentStack:M.stack})}}finally{rt.T=r,pt.p=g}}(gu&3)!==0&&Jf(),_r(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===cg?zc++:(zc=0,cg=i):zc=0,Uc(0)}}function yb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,vc(r)))}function Jf(i){return pb(),mb(),gb(),_b()}function _b(){if(Un!==5)return!1;var i=io,r=lg;lg=0;var l=ba(gu),h=rt.T,g=pt.p;try{pt.p=32>l?32:l,rt.T=null,l=ug,ug=null;var v=io,C=gu;if(Un=0,mu=io=null,gu=0,(we&6)!==0)throw Error(s(331));var M=we;if(we|=4,eb(v.current),QT(v,v.current,C,l),we=M,Uc(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(be,v)}catch{}return!0}finally{pt.p=g,rt.T=h,yb(i,r)}}function vb(i,r,l){r=hi(l,r),r=Fm(i.stateNode,r,2),i=Za(i,r,2),i!==null&&(ts(i,2),_r(i))}function Me(i,r,l){if(i.tag===3)vb(i,i,l);else for(;r!==null;){if(r.tag===3){vb(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(no===null||!no.has(h))){i=hi(l,i),l=wT(2),h=Za(r,l,2),h!==null&&(xT(l,h,r,i),ts(h,2),_r(h));break}}r=r.return}}function pg(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new DI;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(sg=!0,g.add(l),i=jI.bind(null,i,r,l),r.then(i,i))}function jI(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ve===i&&(fe&l)===l&&(Qe===4||Qe===3&&(fe&62914560)===fe&&300>Ke()-og?(we&2)===0&&yu(i,0):rg|=l,pu===fe&&(pu=0)),_r(i)}function Tb(i,r){r===0&&(r=Ta()),i=Ba(i,r),i!==null&&(ts(i,r),_r(i))}function zI(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Tb(i,l)}function UI(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),Tb(i,l)}function BI(i,r){return mi(i,r)}var td=null,vu=null,mg=!1,ed=!1,gg=!1,vl=0;function _r(i){i!==vu&&i.next===null&&(vu===null?td=vu=i:vu=vu.next=i),ed=!0,mg||(mg=!0,HI())}function Uc(i,r){if(!gg&&ed){gg=!0;do for(var l=!1,h=td;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var C=h.suspendedLanes,M=h.pingedLanes;v=(1<<31-wn(42|i)+1)-1,v&=g&~(C&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,xb(h,v))}else v=fe,v=va(h,h===Ve?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Mi(h,v)||(l=!0,xb(h,v));h=h.next}while(l);gg=!1}}function FI(){bb()}function bb(){ed=mg=!1;var i=0;vl!==0&&(XI()&&(i=vl),vl=0);for(var r=Ke(),l=null,h=td;h!==null;){var g=h.next,v=Eb(h,r);v===0?(h.next=null,l===null?td=g:l.next=g,g===null&&(vu=l)):(l=h,(i!==0||(v&3)!==0)&&(ed=!0)),h=g}Uc(i)}function Eb(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-wn(v),M=1<<C,q=g[C];q===-1?((M&l)===0||(M&h)!==0)&&(g[C]=Fo(M,r)):q<=r&&(i.expiredLanes|=M),v&=~M}if(r=Ve,l=fe,l=va(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(xe===2||xe===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Rs(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Mi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Rs(h),ba(l)){case 2:case 8:l=$t;break;case 32:l=It;break;case 268435456:l=un;break;default:l=It}return h=wb.bind(null,i),l=mi(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Rs(h),i.callbackPriority=2,i.callbackNode=null,2}function wb(i,r){if(Un!==0&&Un!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Jf()&&i.callbackNode!==l)return null;var h=fe;return h=va(i,i===Ve?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(rb(i,h,r),Eb(i,Ke()),i.callbackNode!=null&&i.callbackNode===l?wb.bind(null,i):null)}function xb(i,r){if(Jf())return null;rb(i,r,!0)}function HI(){JI(function(){(we&6)!==0?mi(kr,FI):bb()})}function yg(){return vl===0&&(vl=Ho()),vl}function Sb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:lr(""+i)}function Ab(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function qI(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var v=Sb((g[$e]||null).action),C=h.submitter;C&&(r=(r=C[$e]||null)?Sb(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var M=new Hr("action","action",null,h,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(vl!==0){var q=C?Ab(g,C):new FormData(g);Vm(l,{pending:!0,data:q,method:g.method,action:v},null,q)}}else typeof v=="function"&&(M.preventDefault(),q=C?Ab(g,C):new FormData(g),Vm(l,{pending:!0,data:q,method:g.method,action:v},v,q))},currentTarget:g}]})}}for(var _g=0;_g<Yr.length;_g++){var vg=Yr[_g],GI=vg.toLowerCase(),WI=vg[0].toUpperCase()+vg.slice(1);Hi(GI,"on"+WI)}Hi(vf,"onAnimationEnd"),Hi(Fi,"onAnimationIteration"),Hi(rl,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(fm,"onTransitionRun"),Hi(Jl,"onTransitionStart"),Hi(dm,"onTransitionCancel"),Hi(gc,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function Rb(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var C=h.length-1;0<=C;C--){var M=h[C],q=M.instance,et=M.currentTarget;if(M=M.listener,q!==v&&g.isPropagationStopped())break t;v=M,g.currentTarget=et;try{v(g)}catch(ct){Ff(ct)}g.currentTarget=null,v=q}else for(C=0;C<h.length;C++){if(M=h[C],q=M.instance,et=M.currentTarget,M=M.listener,q!==v&&g.isPropagationStopped())break t;v=M,g.currentTarget=et;try{v(g)}catch(ct){Ff(ct)}g.currentTarget=null,v=q}}}}function re(i,r){var l=r[Zn];l===void 0&&(l=r[Zn]=new Set);var h=i+"__bubble";l.has(h)||(Cb(r,i,2,!1),l.add(h))}function Tg(i,r,l){var h=0;r&&(h|=4),Cb(l,i,h,r)}var nd="_reactListening"+Math.random().toString(36).slice(2);function bg(i){if(!i[nd]){i[nd]=!0,Zo.forEach(function(l){l!=="selectionchange"&&(ZI.has(l)||Tg(l,!1,i),Tg(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[nd]||(r[nd]=!0,Tg("selectionchange",!1,r))}}function Cb(i,r,l,h){switch(Qb(r)){case 2:var g=TP;break;case 8:g=bP;break;default:g=Og}l=g.bind(null,r,l,i),g=void 0,!Yn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Eg(i,r,l,h,g){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var M=h.stateNode.containerInfo;if(M===g)break;if(C===4)for(C=h.return;C!==null;){var q=C.tag;if((q===3||q===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;M!==null;){if(C=Li(M),C===null)return;if(q=C.tag,q===5||q===6||q===26||q===27){h=v=C;continue t}M=M.parentNode}}h=h.return}li(function(){var et=v,ct=jn(l),mt=[];t:{var it=Tf.get(i);if(it!==void 0){var at=Hr,Ht=i;switch(i){case"keypress":if(Ae(l)===0)break t;case"keydown":case"keyup":at=La;break;case"focusin":Ht="focus",at=Ra;break;case"focusout":Ht="blur",at=Ra;break;case"beforeblur":case"afterblur":at=Ra;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Gl;break;case vf:case Fi:case rl:at=Ia;break;case gc:at=Wl;break;case"scroll":case"scrollend":at=Hl;break;case"wheel":at=Wr;break;case"copy":case"cut":case"paste":at=ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Da;break;case"toggle":case"beforetoggle":at=us}var Vt=(r&4)!==0,Ie=!Vt&&(i==="scroll"||i==="scrollend"),X=Vt?it!==null?it+"Capture":null:it;Vt=[];for(var K=et,tt;K!==null;){var ft=K;if(tt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||tt===null||X===null||(ft=he(K,X),ft!=null&&Vt.push(Fc(K,ft,tt))),Ie)break;K=K.return}0<Vt.length&&(it=new at(it,Ht,null,l,ct),mt.push({event:it,listeners:Vt}))}}if((r&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",at=i==="mouseout"||i==="pointerout",it&&l!==Vi&&(Ht=l.relatedTarget||l.fromElement)&&(Li(Ht)||Ht[yi]))break t;if((at||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,at?(Ht=l.relatedTarget||l.toElement,at=et,Ht=Ht?Li(Ht):null,Ht!==null&&(Ie=u(Ht),Vt=Ht.tag,Ht!==Ie||Vt!==5&&Vt!==27&&Vt!==6)&&(Ht=null)):(at=null,Ht=et),at!==Ht)){if(Vt=Rn,ft="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Vt=Da,ft="onPointerLeave",X="onPointerEnter",K="pointer"),Ie=at==null?it:kn(at),tt=Ht==null?it:kn(Ht),it=new Vt(ft,K+"leave",at,l,ct),it.target=Ie,it.relatedTarget=tt,ft=null,Li(ct)===et&&(Vt=new Vt(X,K+"enter",Ht,l,ct),Vt.target=tt,Vt.relatedTarget=Ie,ft=Vt),Ie=ft,at&&Ht)e:{for(Vt=at,X=Ht,K=0,tt=Vt;tt;tt=Tu(tt))K++;for(tt=0,ft=X;ft;ft=Tu(ft))tt++;for(;0<K-tt;)Vt=Tu(Vt),K--;for(;0<tt-K;)X=Tu(X),tt--;for(;K--;){if(Vt===X||X!==null&&Vt===X.alternate)break e;Vt=Tu(Vt),X=Tu(X)}Vt=null}else Vt=null;at!==null&&Ib(mt,it,at,Vt,!1),Ht!==null&&Ie!==null&&Ib(mt,Ie,Ht,Vt,!0)}}t:{if(it=et?kn(et):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var Mt=Oa;else if(Oe(it))if(fc)Mt=hm;else{Mt=cm;var ie=pc}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&Fr(et.elementType)&&(Mt=Oa):Mt=Bs;if(Mt&&(Mt=Mt(i,et))){zs(mt,Mt,l,ct);break t}ie&&ie(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&Oi(it,"number",it.value)}switch(ie=et?kn(et):window,i){case"focusin":(Oe(ie)||ie.contentEditable==="true")&&(Bi=ie,ja=et,Zr=null);break;case"focusout":Zr=ja=Bi=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,yf(mt,l,ct);break;case"selectionchange":if($l)break;case"keydown":case"keyup":yf(mt,l,ct)}var Nt;if(Xn)t:{switch(i){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ae?lt(i,l)&&(jt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(R&&l.locale!=="ko"&&(ae||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ae&&(Nt=Os()):(vi=ct,Kn="value"in vi?vi.value:vi.textContent,ae=!0)),ie=id(et,jt),0<ie.length&&(jt=new $n(jt,i,null,l,ct),mt.push({event:jt,listeners:ie}),Nt?jt.data=Nt:(Nt=xt(l),Nt!==null&&(jt.data=Nt)))),(Nt=w?Xe(i,l):oe(i,l))&&(jt=id(et,"onBeforeInput"),0<jt.length&&(ie=new $n("onBeforeInput","beforeinput",null,l,ct),mt.push({event:ie,listeners:jt}),ie.data=Nt)),qI(mt,i,et,l,ct)}Rb(mt,r)})}function Fc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function id(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=he(i,l),g!=null&&h.unshift(Fc(i,g,v)),g=he(i,r),g!=null&&h.push(Fc(i,g,v))),i.tag===3)return h;i=i.return}return[]}function Tu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ib(i,r,l,h,g){for(var v=r._reactName,C=[];l!==null&&l!==h;){var M=l,q=M.alternate,et=M.stateNode;if(M=M.tag,q!==null&&q===h)break;M!==5&&M!==26&&M!==27||et===null||(q=et,g?(et=he(l,v),et!=null&&C.unshift(Fc(l,et,q))):g||(et=he(l,v),et!=null&&C.push(Fc(l,et,q)))),l=l.return}C.length!==0&&i.push({event:r,listeners:C})}var YI=/\r\n?/g,KI=/\u0000|\uFFFD/g;function Pb(i){return(typeof i=="string"?i:""+i).replace(YI,`
`).replace(KI,"")}function Mb(i,r){return r=Pb(r),Pb(i)===r}function sd(){}function Ce(i,r,l,h,g,v){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Sn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Sn(i,""+h);break;case"className":is(i,"class",h);break;case"tabIndex":is(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":is(i,l,h);break;case"style":Ds(i,h,v);break;case"data":if(r!=="object"){is(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=lr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Ce(i,r,"name",g.name,g,null),Ce(i,r,"formEncType",g.formEncType,g,null),Ce(i,r,"formMethod",g.formMethod,g,null),Ce(i,r,"formTarget",g.formTarget,g,null)):(Ce(i,r,"encType",g.encType,g,null),Ce(i,r,"method",g.method,g,null),Ce(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=lr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=sd);break;case"onScroll":h!=null&&re("scroll",i);break;case"onScrollEnd":h!=null&&re("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=lr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":re("beforetoggle",i),re("toggle",i),sr(i,"popover",h);break;case"xlinkActuate":_n(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_n(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_n(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_n(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_n(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_n(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_n(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_n(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_n(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":sr(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ko.get(l)||l,sr(i,l,h))}}function wg(i,r,l,h,g,v){switch(l){case"style":Ds(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Sn(i,h):(typeof h=="number"||typeof h=="bigint")&&Sn(i,""+h);break;case"onScroll":h!=null&&re("scroll",i);break;case"onScrollEnd":h!=null&&re("scrollend",i);break;case"onClick":h!=null&&(i.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),v=i[$e]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):sr(i,l,h)}}}function Bn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",i),re("load",i);var h=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ce(i,r,v,C,l,null)}}g&&Ce(i,r,"srcSet",l.srcSet,l,null),h&&Ce(i,r,"src",l.src,l,null);return;case"input":re("invalid",i);var M=v=C=g=null,q=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ct=l[h];if(ct!=null)switch(h){case"name":g=ct;break;case"type":C=ct;break;case"checked":q=ct;break;case"defaultChecked":et=ct;break;case"value":v=ct;break;case"defaultValue":M=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(s(137,r));break;default:Ce(i,r,h,ct,l,null)}}Br(i,v,M,q,et,C,g,!1),or(i);return;case"select":re("invalid",i),h=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(M=l[g],M!=null))switch(g){case"value":v=M;break;case"defaultValue":C=M;break;case"multiple":h=M;default:Ce(i,r,g,M,l,null)}r=v,l=C,i.multiple=!!h,r!=null?Vn(i,!!h,r,!1):l!=null&&Vn(i,!!h,l,!0);return;case"textarea":re("invalid",i),v=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(M=l[C],M!=null))switch(C){case"value":h=M;break;case"defaultValue":g=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Ce(i,r,C,M,l,null)}oi(i,h,g,v),or(i);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(h=l[q],h!=null))switch(q){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ce(i,r,q,h,l,null)}return;case"dialog":re("beforetoggle",i),re("toggle",i),re("cancel",i),re("close",i);break;case"iframe":case"object":re("load",i);break;case"video":case"audio":for(h=0;h<Bc.length;h++)re(Bc[h],i);break;case"image":re("error",i),re("load",i);break;case"details":re("toggle",i);break;case"embed":case"source":case"link":re("error",i),re("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ce(i,r,et,h,l,null)}return;default:if(Fr(r)){for(ct in l)l.hasOwnProperty(ct)&&(h=l[ct],h!==void 0&&wg(i,r,ct,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Ce(i,r,M,h,l,null))}function $I(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,M=null,q=null,et=null,ct=null;for(at in l){var mt=l[at];if(l.hasOwnProperty(at)&&mt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":q=mt;default:h.hasOwnProperty(at)||Ce(i,r,at,null,h,mt)}}for(var it in h){var at=h[it];if(mt=l[it],h.hasOwnProperty(it)&&(at!=null||mt!=null))switch(it){case"type":v=at;break;case"name":g=at;break;case"checked":et=at;break;case"defaultChecked":ct=at;break;case"value":C=at;break;case"defaultValue":M=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,r));break;default:at!==mt&&Ce(i,r,it,at,h,mt)}}Ne(i,C,M,q,et,ct,v,g);return;case"select":at=C=M=it=null;for(v in l)if(q=l[v],l.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":at=q;default:h.hasOwnProperty(v)||Ce(i,r,v,null,h,q)}for(g in h)if(v=h[g],q=l[g],h.hasOwnProperty(g)&&(v!=null||q!=null))switch(g){case"value":it=v;break;case"defaultValue":M=v;break;case"multiple":C=v;default:v!==q&&Ce(i,r,g,v,h,q)}r=M,l=C,h=at,it!=null?Vn(i,!!l,it,!1):!!h!=!!l&&(r!=null?Vn(i,!!l,r,!0):Vn(i,!!l,l?[]:"",!1));return;case"textarea":at=it=null;for(M in l)if(g=l[M],l.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ce(i,r,M,null,h,g)}for(C in h)if(g=h[C],v=l[C],h.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":it=g;break;case"defaultValue":at=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&Ce(i,r,C,g,h,v)}zt(i,it,at);return;case"option":for(var Ht in l)if(it=l[Ht],l.hasOwnProperty(Ht)&&it!=null&&!h.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:Ce(i,r,Ht,null,h,it)}for(q in h)if(it=h[q],at=l[q],h.hasOwnProperty(q)&&it!==at&&(it!=null||at!=null))switch(q){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Ce(i,r,q,it,h,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in l)it=l[Vt],l.hasOwnProperty(Vt)&&it!=null&&!h.hasOwnProperty(Vt)&&Ce(i,r,Vt,null,h,it);for(et in h)if(it=h[et],at=l[et],h.hasOwnProperty(et)&&it!==at&&(it!=null||at!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,r));break;default:Ce(i,r,et,it,h,at)}return;default:if(Fr(r)){for(var Ie in l)it=l[Ie],l.hasOwnProperty(Ie)&&it!==void 0&&!h.hasOwnProperty(Ie)&&wg(i,r,Ie,void 0,h,it);for(ct in h)it=h[ct],at=l[ct],!h.hasOwnProperty(ct)||it===at||it===void 0&&at===void 0||wg(i,r,ct,it,h,at);return}}for(var X in l)it=l[X],l.hasOwnProperty(X)&&it!=null&&!h.hasOwnProperty(X)&&Ce(i,r,X,null,h,it);for(mt in h)it=h[mt],at=l[mt],!h.hasOwnProperty(mt)||it===at||it==null&&at==null||Ce(i,r,mt,it,h,at)}var xg=null,Sg=null;function rd(i){return i.nodeType===9?i:i.ownerDocument}function Lb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Db(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ag(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rg=null;function XI(){var i=window.event;return i&&i.type==="popstate"?i===Rg?!1:(Rg=i,!0):(Rg=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(i){return Ob.resolve(null).then(i).catch(tP)}:Nb;function tP(i){setTimeout(function(){throw i})}function ro(i){return i==="head"}function kb(i,r){var l=r,h=0,g=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&Hc(C.documentElement),l&2&&Hc(C.body),l&4)for(l=C.head,Hc(l),C=l.firstChild;C;){var M=C.nextSibling,q=C.nodeName;C[ir]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=M}}if(g===0){i.removeChild(v),Xc(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=v}while(l);Xc(r)}function Cg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Cg(l),Ms(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function eP(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ir])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Gs(i.nextSibling),i===null)break}return null}function nP(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Gs(i.nextSibling),i===null))return null;return i}function Ig(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iP(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Gs(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Pg=null;function Vb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function jb(i,r,l){switch(r=rd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Hc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ms(i)}var ys=new Map,zb=new Set;function ad(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var aa=pt.d;pt.d={f:sP,r:rP,D:aP,C:oP,L:lP,m:uP,X:hP,S:cP,M:fP};function sP(){var i=aa.f(),r=Xf();return i||r}function rP(i){var r=Di(i);r!==null&&r.tag===5&&r.type==="form"?rT(r):aa.r(i)}var bu=typeof document>"u"?null:document;function Ub(i,r,l){var h=bu;if(h&&typeof r=="string"&&r){var g=ze(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),zb.has(g)||(zb.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Bn(r,"link",i),qe(r),h.head.appendChild(r)))}}function aP(i){aa.D(i),Ub("dns-prefetch",i,null)}function oP(i,r){aa.C(i,r),Ub("preconnect",i,r)}function lP(i,r,l){aa.L(i,r,l);var h=bu;if(h&&i&&r){var g='link[rel="preload"][as="'+ze(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ze(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ze(l.imageSizes)+'"]')):g+='[href="'+ze(i)+'"]';var v=g;switch(r){case"style":v=Eu(i);break;case"script":v=wu(i)}ys.has(v)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),ys.set(v,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(qc(v))||r==="script"&&h.querySelector(Gc(v))||(r=h.createElement("link"),Bn(r,"link",i),qe(r),h.head.appendChild(r)))}}function uP(i,r){aa.m(i,r);var l=bu;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+ze(h)+'"][href="'+ze(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=wu(i)}if(!ys.has(v)&&(i=E({rel:"modulepreload",href:i},r),ys.set(v,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gc(v)))return}h=l.createElement("link"),Bn(h,"link",i),qe(h),l.head.appendChild(h)}}}function cP(i,r,l){aa.S(i,r,l);var h=bu;if(h&&i){var g=xn(h).hoistableStyles,v=Eu(i);r=r||"default";var C=g.get(v);if(!C){var M={loading:0,preload:null};if(C=h.querySelector(qc(v)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=ys.get(v))&&Mg(i,l);var q=C=h.createElement("link");qe(q),Bn(q,"link",i),q._p=new Promise(function(et,ct){q.onload=et,q.onerror=ct}),q.addEventListener("load",function(){M.loading|=1}),q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,od(C,r,h)}C={type:"stylesheet",instance:C,count:1,state:M},g.set(v,C)}}}function hP(i,r){aa.X(i,r);var l=bu;if(l&&i){var h=xn(l).hoistableScripts,g=wu(i),v=h.get(g);v||(v=l.querySelector(Gc(g)),v||(i=E({src:i,async:!0},r),(r=ys.get(g))&&Lg(i,r),v=l.createElement("script"),qe(v),Bn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function fP(i,r){aa.M(i,r);var l=bu;if(l&&i){var h=xn(l).hoistableScripts,g=wu(i),v=h.get(g);v||(v=l.querySelector(Gc(g)),v||(i=E({src:i,async:!0,type:"module"},r),(r=ys.get(g))&&Lg(i,r),v=l.createElement("script"),qe(v),Bn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function Bb(i,r,l,h){var g=(g=bt.current)?ad(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Eu(l.href),l=xn(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Eu(l.href);var v=xn(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(qc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),ys.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ys.set(i,l),v||dP(g,i,l,C.state))),r&&h===null)throw Error(s(528,""));return C}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wu(l),l=xn(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Eu(i){return'href="'+ze(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function Fb(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function dP(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Bn(r,"link",l),qe(r),i.head.appendChild(r))}function wu(i){return'[src="'+ze(i)+'"]'}function Gc(i){return"script[async]"+i}function Hb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+ze(l.href)+'"]');if(h)return r.instance=h,qe(h),h;var g=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),qe(h),Bn(h,"style",g),od(h,l.precedence,i),r.instance=h;case"stylesheet":g=Eu(l.href);var v=i.querySelector(qc(g));if(v)return r.state.loading|=4,r.instance=v,qe(v),v;h=Fb(l),(g=ys.get(g))&&Mg(h,g),v=(i.ownerDocument||i).createElement("link"),qe(v);var C=v;return C._p=new Promise(function(M,q){C.onload=M,C.onerror=q}),Bn(v,"link",h),r.state.loading|=4,od(v,l.precedence,i),r.instance=v;case"script":return v=wu(l.src),(g=i.querySelector(Gc(v)))?(r.instance=g,qe(g),g):(h=l,(g=ys.get(v))&&(h=E({},l),Lg(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),qe(g),Bn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,od(h,l.precedence,i));return r.instance}function od(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,C=0;C<h.length;C++){var M=h[C];if(M.dataset.precedence===r)v=M;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Mg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Lg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ld=null;function qb(i,r,l){if(ld===null){var h=new Map,g=ld=new Map;g.set(l,h)}else g=ld,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[ir]||v[nn]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var M=h.get(C);M?M.push(v):h.set(C,[v])}}return h}function Gb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function pP(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Wb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wc=null;function mP(){}function gP(i,r,l){if(Wc===null)throw Error(s(475));var h=Wc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Eu(l.href),v=i.querySelector(qc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=ud.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=v,qe(v);return}v=i.ownerDocument||i,l=Fb(l),(g=ys.get(g))&&Mg(l,g),v=v.createElement("link"),qe(v);var C=v;C._p=new Promise(function(M,q){C.onload=M,C.onerror=q}),Bn(v,"link",l),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=ud.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function yP(){if(Wc===null)throw Error(s(475));var i=Wc;return i.stylesheets&&i.count===0&&Dg(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&Dg(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function ud(){if(this.count--,this.count===0){if(this.stylesheets)Dg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cd=null;function Dg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cd=new Map,r.forEach(_P,i),cd=null,ud.call(i))}function _P(i,r){if(!(r.state.loading&4)){var l=cd.get(i);if(l)var h=l.get(null);else{l=new Map,cd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=r.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||h,v===h&&l.set(null,g),l.set(C,g),this.count++,h=ud.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Zc={$$typeof:$,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function vP(i,r,l,h,g,v,C,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Zb(i,r,l,h,g,v,C,M,q,et,ct,mt){return i=new vP(i,r,l,C,M,q,et,mt),r=1,v===!0&&(r|=24),v=di(3,null,null,r),i.current=v,v.stateNode=i,r=pm(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:r},_m(v),i}function Yb(i){return i?(i=Xr,i):Xr}function Kb(i,r,l,h,g,v){g=Yb(g),h.context===null?h.context=g:h.pendingContext=g,h=Wa(r),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=Za(i,h,r),l!==null&&(Ki(l,i,r),wc(l,i,r))}function $b(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Ng(i,r){$b(i,r),(i=i.alternate)&&$b(i,r)}function Xb(i){if(i.tag===13){var r=Ba(i,67108864);r!==null&&Ki(r,i,67108864),Ng(i,67108864)}}var hd=!0;function TP(i,r,l,h){var g=rt.T;rt.T=null;var v=pt.p;try{pt.p=2,Og(i,r,l,h)}finally{pt.p=v,rt.T=g}}function bP(i,r,l,h){var g=rt.T;rt.T=null;var v=pt.p;try{pt.p=8,Og(i,r,l,h)}finally{pt.p=v,rt.T=g}}function Og(i,r,l,h){if(hd){var g=kg(h);if(g===null)Eg(i,r,h,fd,l),Jb(i,h);else if(wP(g,i,r,l,h))h.stopPropagation();else if(Jb(i,h),r&4&&-1<EP.indexOf(i)){for(;g!==null;){var v=Di(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=gi(v.pendingLanes);if(C!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var q=1<<31-wn(C);M.entanglements[1]|=q,C&=~q}_r(v),(we&6)===0&&(Kf=Ke()+500,Uc(0))}}break;case 13:M=Ba(v,2),M!==null&&Ki(M,v,2),Xf(),Ng(v,2)}if(v=kg(h),v===null&&Eg(i,r,h,fd,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Eg(i,r,h,null,l)}}function kg(i){return i=jn(i),Vg(i)}var fd=null;function Vg(i){if(fd=null,i=Li(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return fd=i,null}function Qb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case kr:return 2;case $t:return 8;case It:case Le:return 32;case un:return 268435456;default:return 32}default:return 32}}var jg=!1,ao=null,oo=null,lo=null,Yc=new Map,Kc=new Map,uo=[],EP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(i,r){switch(i){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Yc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(r.pointerId)}}function $c(i,r,l,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},r!==null&&(r=Di(r),r!==null&&Xb(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function wP(i,r,l,h,g){switch(r){case"focusin":return ao=$c(ao,i,r,l,h,g),!0;case"dragenter":return oo=$c(oo,i,r,l,h,g),!0;case"mouseover":return lo=$c(lo,i,r,l,h,g),!0;case"pointerover":var v=g.pointerId;return Yc.set(v,$c(Yc.get(v)||null,i,r,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Kc.set(v,$c(Kc.get(v)||null,i,r,l,h,g)),!0}return!1}function tE(i){var r=Li(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,Ea(i.priority,function(){if(l.tag===13){var h=Yi();h=er(h);var g=Ba(l,h);g!==null&&Ki(g,l,h),Ng(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function dd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=kg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Vi=h,l.target.dispatchEvent(h),Vi=null}else return r=Di(l),r!==null&&Xb(r),i.blockedOn=l,!1;r.shift()}return!0}function eE(i,r,l){dd(i)&&l.delete(r)}function xP(){jg=!1,ao!==null&&dd(ao)&&(ao=null),oo!==null&&dd(oo)&&(oo=null),lo!==null&&dd(lo)&&(lo=null),Yc.forEach(eE),Kc.forEach(eE)}function pd(i,r){i.blockedOn===r&&(i.blockedOn=null,jg||(jg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xP)))}var md=null;function nE(i){md!==i&&(md=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){md===i&&(md=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(Vg(h||l)===null)continue;break}var v=Di(l);v!==null&&(i.splice(r,3),r-=3,Vm(v,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Xc(i){function r(q){return pd(q,i)}ao!==null&&pd(ao,i),oo!==null&&pd(oo,i),lo!==null&&pd(lo,i),Yc.forEach(r),Kc.forEach(r);for(var l=0;l<uo.length;l++){var h=uo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<uo.length&&(l=uo[0],l.blockedOn===null);)tE(l),l.blockedOn===null&&uo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],v=l[h+1],C=g[$e]||null;if(typeof v=="function")C||nE(l);else if(C){var M=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[$e]||null)M=C.formAction;else if(Vg(g)!==null)continue}else M=C.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),nE(l)}}}function zg(i){this._internalRoot=i}gd.prototype.render=zg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=Yi();Kb(l,h,i,r,null,null)},gd.prototype.unmount=zg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Kb(i.current,2,null,i,null,null),Xf(),r[yi]=null}};function gd(i){this._internalRoot=i}gd.prototype.unstable_scheduleHydration=function(i){if(i){var r=nr();i={blockedOn:null,target:i,priority:r};for(var l=0;l<uo.length&&r!==0&&r<uo[l].priority;l++);uo.splice(l,0,i),l===0&&tE(i)}};var iE=t.version;if(iE!=="19.1.0")throw Error(s(527,iE,"19.1.0"));pt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var SP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{be=yd.inject(SP),me=yd}catch{}}return Jc.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=vT,v=TT,C=bT,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks)),r=Zb(i,1,!1,null,null,l,h,g,v,C,M,null),i[yi]=r.current,bg(i),new zg(r)},Jc.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",v=vT,C=TT,M=bT,q=null,et=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(q=l.unstable_transitionCallbacks),l.formState!==void 0&&(et=l.formState)),r=Zb(i,1,!0,r,l??null,h,g,v,C,M,q,et),r.context=Yb(null),l=r.current,h=Yi(),h=er(h),g=Wa(h),g.callback=null,Za(l,g,h),l=h,r.current.lanes=l,ts(r,l),_r(r),i[yi]=r.current,bg(i),new gd(r)},Jc.version="19.1.0",Jc}var dE;function NP(){if(dE)return Fg.exports;dE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fg.exports=DP(),Fg.exports}var OP=NP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pE="popstate";function kP(e={}){function t(s,o){let{pathname:u,search:f,hash:p}=s.location;return xy("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ah(o)}return jP(t,n,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VP(){return Math.random().toString(36).substring(2,10)}function mE(e,t){return{usr:e.state,key:e.key,idx:t}}function xy(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?$u(t):t,state:n,key:t&&t.key||s||VP()}}function Ah({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function jP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",y=null,_=E();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let Z=E(),Y=Z==null?null:Z-_;_=Z,y&&y({action:p,location:G.location,delta:Y})}function x(Z,Y){p="PUSH";let st=xy(G.location,Z,Y);_=E()+1;let $=mE(st,_),yt=G.createHref(st);try{f.pushState($,"",yt)}catch(nt){if(nt instanceof DOMException&&nt.name==="DataCloneError")throw nt;o.location.assign(yt)}u&&y&&y({action:p,location:G.location,delta:1})}function D(Z,Y){p="REPLACE";let st=xy(G.location,Z,Y);_=E();let $=mE(st,_),yt=G.createHref(st);f.replaceState($,"",yt),u&&y&&y({action:p,location:G.location,delta:0})}function k(Z){return zP(Z)}let G={get action(){return p},get location(){return e(o,f)},listen(Z){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(pE,A),y=Z,()=>{o.removeEventListener(pE,A),y=null}},createHref(Z){return t(o,Z)},createURL:k,encodeLocation(Z){let Y=k(Z);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:x,replace:D,go(Z){return f.go(Z)}};return G}function zP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),He(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ah(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function IS(e,t,n="/"){return UP(e,t,n,!1)}function UP(e,t,n,s){let o=typeof t=="string"?$u(t):t,u=da(o.pathname||"/",n);if(u==null)return null;let f=PS(e);BP(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let _=QP(u);p=$P(f[y],_,s)}return p}function PS(e,t=[],n=[],s=""){let o=(u,f,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(He(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=ha([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(He(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),PS(u.children,t,E,_)),!(u.path==null&&!u.index)&&t.push({path:_,score:YP(_,u.index),routesMeta:E})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let p of MS(u.path))o(u,f,p)}),t}function MS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=MS(s.join("/")),p=[];return p.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&p.push(...f),p.map(y=>e.startsWith("/")&&y===""?"/":y)}function BP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:KP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FP=/^:[\w-]+$/,HP=3,qP=2,GP=1,WP=10,ZP=-2,gE=e=>e==="*";function YP(e,t){let n=e.split("/"),s=n.length;return n.some(gE)&&(s+=ZP),t&&(s+=qP),n.filter(o=>!gE(o)).reduce((o,u)=>o+(FP.test(u)?HP:u===""?GP:WP),s)}function KP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function $P(e,t,n=!1){let{routesMeta:s}=e,o={},u="/",f=[];for(let p=0;p<s.length;++p){let y=s[p],_=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Jd({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},E),x=y.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=Jd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ha([u,A.pathname]),pathnameBase:n2(ha([u,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(u=ha([u,A.pathnameBase]))}return f}function Jd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=XP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:A},x)=>{if(E==="*"){let k=p[x]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const D=p[x];return A&&!D?_[E]=void 0:_[E]=(D||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:e}}function XP(e,t=!1,n=!0){xs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function QP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function da(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function JP(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?$u(e):e;return{pathname:n?n.startsWith("/")?n:t2(n,t):t,search:i2(s),hash:s2(o)}}function t2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Wg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function A_(e){let t=e2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function R_(e,t,n,s=!1){let o;typeof e=="string"?o=$u(e):(o={...e},He(!o.pathname||!o.pathname.includes("?"),Wg("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),Wg("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),Wg("#","search","hash",o)));let u=e===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}p=A>=0?t[A]:"/"}let y=JP(o,p),_=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||E)&&(y.pathname+="/"),y}var ha=e=>e.join("/").replace(/\/\/+/g,"/"),n2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var a2=["GET",...LS];new Set(a2);var Xu=V.createContext(null);Xu.displayName="DataRouter";var Ap=V.createContext(null);Ap.displayName="DataRouterState";V.createContext(!1);var DS=V.createContext({isTransitioning:!1});DS.displayName="ViewTransition";var o2=V.createContext(new Map);o2.displayName="Fetchers";var l2=V.createContext(null);l2.displayName="Await";var Qs=V.createContext(null);Qs.displayName="Navigation";var Wh=V.createContext(null);Wh.displayName="Location";var Dr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var C_=V.createContext(null);C_.displayName="RouteError";function u2(e,{relative:t}={}){He(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Qs),{hash:o,pathname:u,search:f}=Zh(e,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:ha([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Qu(){return V.useContext(Wh)!=null}function As(){return He(Qu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Wh).location}var NS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OS(e){V.useContext(Qs).static||V.useLayoutEffect(e)}function Nr(){let{isDataRoute:e}=V.useContext(Dr);return e?E2():c2()}function c2(){He(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Xu),{basename:t,navigator:n}=V.useContext(Qs),{matches:s}=V.useContext(Dr),{pathname:o}=As(),u=JSON.stringify(A_(s)),f=V.useRef(!1);return OS(()=>{f.current=!0}),V.useCallback((y,_={})=>{if(xs(f.current,NS),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=R_(y,JSON.parse(u),o,_.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ha([t,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[t,n,u,o,e])}V.createContext(null);function Zh(e,{relative:t}={}){let{matches:n}=V.useContext(Dr),{pathname:s}=As(),o=JSON.stringify(A_(n));return V.useMemo(()=>R_(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function h2(e,t){return kS(e,t)}function kS(e,t,n,s){He(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(Qs),{matches:u}=V.useContext(Dr),f=u[u.length-1],p=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let Y=E&&E.path||"";VS(y,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=As(),x;if(t){let Y=typeof t=="string"?$u(t):t;He(_==="/"||Y.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),x=Y}else x=A;let D=x.pathname||"/",k=D;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let G=IS(e,{pathname:k});xs(E||G!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xs(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=g2(G&&G.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:ha([_,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:ha([_,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,s);return t&&Z?V.createElement(Wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Z):Z}function f2(){let e=b2(),t=r2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:o},n):null,f)}var d2=V.createElement(f2,null),p2=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(Dr.Provider,{value:this.props.routeContext},V.createElement(C_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:e,match:t,children:n}){let s=V.useContext(Xu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(Dr.Provider,{value:e},n)}function g2(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);He(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:E,errors:A}=n,x=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||x){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((y,_,E)=>{let A,x=!1,D=null,k=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,D=_.route.errorElement||d2,f&&(p<0&&E===0?(VS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,k=null):p===E&&(x=!0,k=_.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,E+1)),Z=()=>{let Y;return A?Y=D:x?Y=k:_.route.Component?Y=V.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=y,V.createElement(m2,{match:_,routeContext:{outlet:y,matches:G,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?V.createElement(p2,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:Z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):Z()},null)}function I_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y2(e){let t=V.useContext(Xu);return He(t,I_(e)),t}function _2(e){let t=V.useContext(Ap);return He(t,I_(e)),t}function v2(e){let t=V.useContext(Dr);return He(t,I_(e)),t}function P_(e){let t=v2(e),n=t.matches[t.matches.length-1];return He(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function T2(){return P_("useRouteId")}function b2(){let e=V.useContext(C_),t=_2("useRouteError"),n=P_("useRouteError");return e!==void 0?e:t.errors?.[n]}function E2(){let{router:e}=y2("useNavigate"),t=P_("useNavigate"),n=V.useRef(!1);return OS(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{xs(n.current,NS),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var yE={};function VS(e,t,n){!t&&!yE[e]&&(yE[e]=!0,xs(!1,n))}V.memo(w2);function w2({routes:e,future:t,state:n}){return kS(e,void 0,n,t)}function Zg({to:e,replace:t,state:n,relative:s}){He(Qu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(Qs);xs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(Dr),{pathname:f}=As(),p=Nr(),y=R_(e,A_(u),f,s==="path"),_=JSON.stringify(y);return V.useEffect(()=>{p(JSON.parse(_),{replace:t,state:n,relative:s})},[p,_,s,t,n]),null}function vs(e){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){He(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=$u(n));let{pathname:y="/",search:_="",hash:E="",state:A=null,key:x="default"}=n,D=V.useMemo(()=>{let k=da(y,f);return k==null?null:{location:{pathname:k,search:_,hash:E,state:A,key:x},navigationType:s}},[f,y,_,E,A,x,s]);return xs(D!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(Qs.Provider,{value:p},V.createElement(Wh.Provider,{children:t,value:D}))}function S2({children:e,location:t}){return h2(Sy(e),t)}function Sy(e,t=[]){let n=[];return V.Children.forEach(e,(s,o)=>{if(!V.isValidElement(s))return;let u=[...t,o];if(s.type===V.Fragment){n.push.apply(n,Sy(s.props.children,u));return}He(s.type===vs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sy(s.props.children,u)),n.push(f)}),n}var Dd="get",Nd="application/x-www-form-urlencoded";function Rp(e){return e!=null&&typeof e.tagName=="string"}function A2(e){return Rp(e)&&e.tagName.toLowerCase()==="button"}function R2(e){return Rp(e)&&e.tagName.toLowerCase()==="form"}function C2(e){return Rp(e)&&e.tagName.toLowerCase()==="input"}function I2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function P2(e,t){return e.button===0&&(!t||t==="_self")&&!I2(e)}function Ay(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function M2(e,t){let n=Ay(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var _d=null;function L2(){if(_d===null)try{new FormData(document.createElement("form"),0),_d=!1}catch{_d=!0}return _d}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yg(e){return e!=null&&!D2.has(e)?(xs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):e}function N2(e,t){let n,s,o,u,f;if(R2(e)){let p=e.getAttribute("action");s=p?da(p,t):null,n=e.getAttribute("method")||Dd,o=Yg(e.getAttribute("enctype"))||Nd,u=new FormData(e)}else if(A2(e)||C2(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||p.getAttribute("action");if(s=y?da(y,t):null,n=e.getAttribute("formmethod")||p.getAttribute("method")||Dd,o=Yg(e.getAttribute("formenctype"))||Yg(p.getAttribute("enctype"))||Nd,u=new FormData(p,e),!L2()){let{name:_,type:E,value:A}=e;if(E==="image"){let x=_?`${_}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else _&&u.append(_,A)}}else{if(Rp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dd,s=null,o=Nd,f=e}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&da(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function k2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j2(e,t,n){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await k2(u,n);return f.links?f.links():[]}return[]}));return F2(s.flat(1).filter(V2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _E(e,t,n,s,o,u){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,p=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,_)=>f(y,_)||p(y,_)):u==="data"?t.filter((y,_)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,_)||p(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function z2(e,t,{includeHydrateFallback:n}={}){return U2(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function U2(e){return[...new Set(e)]}function B2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function F2(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(B2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jS(){let e=V.useContext(Xu);return M_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function H2(){let e=V.useContext(Ap);return M_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var L_=V.createContext(void 0);L_.displayName="FrameworkContext";function zS(){let e=V.useContext(L_);return M_(e,"You must render this element inside a <HydratedRouter> element"),e}function q2(e,t){let n=V.useContext(L_),[s,o]=V.useState(!1),[u,f]=V.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:_,onMouseLeave:E,onTouchStart:A}=t,x=V.useRef(null);V.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let G=Y=>{Y.forEach(st=>{f(st.isIntersecting)})},Z=new IntersectionObserver(G,{threshold:.5});return x.current&&Z.observe(x.current),()=>{Z.disconnect()}}},[e]),V.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?e!=="intent"?[u,x,{}]:[u,x,{onFocus:th(p,D),onBlur:th(y,k),onMouseEnter:th(_,D),onMouseLeave:th(E,k),onTouchStart:th(A,D)}]:[!1,x,{}]}function th(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function G2({page:e,...t}){let{router:n}=jS(),s=V.useMemo(()=>IS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(Z2,{page:e,matches:s,...t}):null}function W2(e){let{manifest:t,routeModules:n}=zS(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return j2(e,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[e,t,n]),s}function Z2({page:e,matches:t,...n}){let s=As(),{manifest:o,routeModules:u}=zS(),{basename:f}=jS(),{loaderData:p,matches:y}=H2(),_=V.useMemo(()=>_E(e,t,y,o,s,"data"),[e,t,y,o,s]),E=V.useMemo(()=>_E(e,t,y,o,s,"assets"),[e,t,y,o,s]),A=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,G=!1;if(t.forEach(Y=>{let st=o.routes[Y.route.id];!st||!st.hasLoader||(!_.some($=>$.route.id===Y.route.id)&&Y.route.id in p&&u[Y.route.id]?.shouldRevalidate||st.hasClientLoader?G=!0:k.add(Y.route.id))}),k.size===0)return[];let Z=O2(e,f,"data");return G&&k.size>0&&Z.searchParams.set("_routes",t.filter(Y=>k.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[Z.pathname+Z.search]},[f,p,s,o,_,t,e,u]),x=V.useMemo(()=>z2(E,o),[E,o]),D=W2(E);return V.createElement(V.Fragment,null,A.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),x.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),D.map(({key:k,link:G})=>V.createElement("link",{key:k,...G})))}function Y2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{US&&(window.__reactRouterVersion="7.7.0")}catch{}function K2({basename:e,children:t,window:n}){let s=V.useRef();s.current==null&&(s.current=kP({window:n,v5Compat:!0}));let o=s.current,[u,f]=V.useState({action:o.action,location:o.location}),p=V.useCallback(y=>{V.startTransition(()=>f(y))},[f]);return V.useLayoutEffect(()=>o.listen(p),[o,p]),V.createElement(x2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dh=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:y,to:_,preventScrollReset:E,viewTransition:A,...x},D){let{basename:k}=V.useContext(Qs),G=typeof _=="string"&&BS.test(_),Z,Y=!1;if(typeof _=="string"&&G&&(Z=_,US))try{let N=new URL(window.location.href),U=_.startsWith("//")?new URL(N.protocol+_):new URL(_),B=da(U.pathname,k);U.origin===N.origin&&B!=null?_=B+U.search+U.hash:Y=!0}catch{xs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let st=u2(_,{relative:o}),[$,yt,nt]=q2(s,x),vt=J2(_,{replace:f,state:p,target:y,preventScrollReset:E,relative:o,viewTransition:A});function F(N){t&&t(N),N.defaultPrevented||vt(N)}let P=V.createElement("a",{...x,...nt,href:Z||st,onClick:Y||u?t:F,ref:Y2(D,yt),target:y,"data-discover":!G&&n==="render"?"true":void 0});return $&&!G?V.createElement(V.Fragment,null,P,V.createElement(G2,{page:st})):P});dh.displayName="Link";var $2=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:y,..._},E){let A=Zh(f,{relative:_.relative}),x=As(),D=V.useContext(Ap),{navigator:k,basename:G}=V.useContext(Qs),Z=D!=null&&rM(A)&&p===!0,Y=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,st=x.pathname,$=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(st=st.toLowerCase(),$=$?$.toLowerCase():null,Y=Y.toLowerCase()),$&&G&&($=da($,G)||$);const yt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let nt=st===Y||!o&&st.startsWith(Y)&&st.charAt(yt)==="/",vt=$!=null&&($===Y||!o&&$.startsWith(Y)&&$.charAt(Y.length)==="/"),F={isActive:nt,isPending:vt,isTransitioning:Z},P=nt?t:void 0,N;typeof s=="function"?N=s(F):N=[s,nt?"active":null,vt?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(F):u;return V.createElement(dh,{..._,"aria-current":P,className:N,ref:E,style:U,to:f,viewTransition:p},typeof y=="function"?y(F):y)});$2.displayName="NavLink";var X2=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Dd,action:p,onSubmit:y,relative:_,preventScrollReset:E,viewTransition:A,...x},D)=>{let k=iM(),G=sM(p,{relative:_}),Z=f.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&BS.test(p),st=$=>{if(y&&y($),$.defaultPrevented)return;$.preventDefault();let yt=$.nativeEvent.submitter,nt=yt?.getAttribute("formmethod")||f;k(yt||$.currentTarget,{fetcherKey:t,method:nt,navigate:n,replace:o,state:u,relative:_,preventScrollReset:E,viewTransition:A})};return V.createElement("form",{ref:D,method:Z,action:G,onSubmit:s?y:st,...x,"data-discover":!Y&&e==="render"?"true":void 0})});X2.displayName="Form";function Q2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(e){let t=V.useContext(Xu);return He(t,Q2(e)),t}function J2(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Nr(),y=As(),_=Zh(e,{relative:u});return V.useCallback(E=>{if(P2(E,t)){E.preventDefault();let A=n!==void 0?n:Ah(y)===Ah(_);p(e,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,p,_,n,s,t,e,o,u,f])}function tM(e){xs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=V.useRef(Ay(e)),n=V.useRef(!1),s=As(),o=V.useMemo(()=>M2(s.search,n.current?null:t.current),[s.search]),u=Nr(),f=V.useCallback((p,y)=>{const _=Ay(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+_,y)},[u,o]);return[o,f]}var eM=0,nM=()=>`__${String(++eM)}__`;function iM(){let{router:e}=FS("useSubmit"),{basename:t}=V.useContext(Qs),n=T2();return V.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:y,body:_}=N2(s,t);if(o.navigate===!1){let E=o.fetcherKey||nM();await e.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function sM(e,{relative:t}={}){let{basename:n}=V.useContext(Qs),s=V.useContext(Dr);He(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Zh(e||".",{relative:t})},f=As();if(e==null){u.search=f.search;let p=new URLSearchParams(u.search),y=p.getAll("index");if(y.some(E=>E==="")){p.delete("index"),y.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ha([n,u.pathname])),Ah(u)}function rM(e,t={}){let n=V.useContext(DS);He(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FS("useViewTransitionState"),o=Zh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=da(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=da(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jd(o.pathname,f)!=null||Jd(o.pathname,u)!=null}CS();const aM="modulepreload",oM=function(e){return"/"+e},vE={},lM=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(_){return Promise.all(_.map(E=>Promise.resolve(E).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");o=y(n.map(_=>{if(_=oM(_),_ in vE)return;vE[_]=!0;const E=_.endsWith(".css"),A=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${A}`))return;const x=document.createElement("link");if(x.rel=E?"stylesheet":aM,E||(x.as="script"),x.crossOrigin="",x.href=_,p&&x.setAttribute("nonce",p),document.head.appendChild(x),E)return new Promise((D,k)=>{x.addEventListener("load",D),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return o.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return t().catch(u)})},uM=()=>{};var TE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cM=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],f=e[n++],p=e[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,p=f?e[o+1]:0,y=o+2<e.length,_=y?e[o+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let x=(p&15)<<2|_>>6,D=_&63;y||(D=64,f||(x=64)),s.push(n[E],n[A],n[x],n[D])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(HS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):cM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],p=o<e.length?n[e.charAt(o)]:0;++o;const _=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||p==null||_==null||A==null)throw new hM;const x=u<<2|p>>4;if(s.push(x),_!==64){const D=p<<4&240|_>>2;if(s.push(D),A!==64){const k=_<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fM=function(e){const t=HS(e);return qS.encodeByteArray(t,!0)},tp=function(e){return fM(e).replace(/\./g,"")},GS=function(e){try{return qS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=()=>dM().__FIREBASE_DEFAULTS__,mM=()=>{if(typeof process>"u"||typeof TE>"u")return;const e=TE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gM=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&GS(e[1]);return t&&JSON.parse(t)},Cp=()=>{try{return uM()||pM()||mM()||gM()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},WS=e=>Cp()?.emulatorHosts?.[e],ZS=e=>{const t=WS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},YS=()=>Cp()?.config,KS=e=>Cp()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ip(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[tp(JSON.stringify(n)),tp(JSON.stringify(f)),""].join(".")}const ph={};function vM(){const e={prod:[],emulator:[]};for(const t of Object.keys(ph))ph[t]?e.emulator.push(t):e.prod.push(t);return e}function TM(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let bE=!1;function D_(e,t){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||ph[e]===t||ph[e]||bE)return;ph[e]=t;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=vM().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,D){x.setAttribute("width","24"),x.setAttribute("id",D),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{bE=!0,f()},x}function E(x,D){x.setAttribute("id",D),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=TM(s),D=n("text"),k=document.getElementById(D)||document.createElement("span"),G=n("learnmore"),Z=document.getElementById(G)||document.createElement("a"),Y=n("preprendIcon"),st=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const $=x.element;p($),E(Z,G);const yt=_();y(st,Y),$.append(st,k,Z,yt),document.body.appendChild($)}u?(k.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function EM(){const e=Cp()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xM(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AM(){const e=si();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function RM(){return!EM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CM(){try{return typeof indexedDB=="object"}catch{return!1}}function IM(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="FirebaseError";class Or extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=PM,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yh.prototype.create)}}class Yh{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?MM(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Or(o,p,s)}}function MM(e,t){return e.replace(LM,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const LM=/\{\$([^}]+)}/g;function DM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wo(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],f=t[o];if(EE(u)&&EE(f)){if(!wo(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function EE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function sh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function rh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function NM(e,t){const n=new OM(e,t);return n.subscribe.bind(n)}class OM{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kM(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Kg),o.error===void 0&&(o.error=Kg),o.complete===void 0&&(o.complete=Kg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e){return e&&e._delegate?e._delegate:e}class xo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new yM;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zM(t))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=El){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=El){return this.instances.has(t)}getOptions(t=El){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jM(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=El){return this.component?this.component.multipleInstances?t:El:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jM(e){return e===El?void 0:e}function zM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(le||(le={}));const BM={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},FM=le.INFO,HM={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},qM=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=HM[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class N_{constructor(t){this.name=t,this._logLevel=FM,this._logHandler=qM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in le))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...t),this._logHandler(this,le.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...t),this._logHandler(this,le.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,le.INFO,...t),this._logHandler(this,le.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,le.WARN,...t),this._logHandler(this,le.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...t),this._logHandler(this,le.ERROR,...t)}}const GM=(e,t)=>t.some(n=>e instanceof n);let wE,xE;function WM(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZM(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,Ry=new WeakMap,XS=new WeakMap,$g=new WeakMap,O_=new WeakMap;function YM(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(_o(e.result)),o()},f=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&$S.set(n,e)}).catch(()=>{}),O_.set(t,e),t}function KM(e){if(Ry.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});Ry.set(e,t)}let Cy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ry.get(e);if(t==="objectStoreNames")return e.objectStoreNames||XS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $M(e){Cy=e(Cy)}function XM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Xg(this),t,...n);return XS.set(s,t.sort?t.sort():[t]),_o(s)}:ZM().includes(e)?function(...t){return e.apply(Xg(this),t),_o($S.get(this))}:function(...t){return _o(e.apply(Xg(this),t))}}function QM(e){return typeof e=="function"?XM(e):(e instanceof IDBTransaction&&KM(e),GM(e,WM())?new Proxy(e,Cy):e)}function _o(e){if(e instanceof IDBRequest)return YM(e);if($g.has(e))return $g.get(e);const t=QM(e);return t!==e&&($g.set(e,t),O_.set(t,e)),t}const Xg=e=>O_.get(e);function JM(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),p=_o(f);return s&&f.addEventListener("upgradeneeded",y=>{s(_o(f.result),y.oldVersion,y.newVersion,_o(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const tL=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],Qg=new Map;function SE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qg.get(t))return Qg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=eL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tL.includes(n)))return;const u=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&y.done]))[0]};return Qg.set(t,u),u}$M(e=>({...e,get:(t,n,s)=>SE(t,n)||e.get(t,n,s),has:(t,n)=>!!SE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iL(e){return e.getComponent()?.type==="VERSION"}const Iy="@firebase/app",AE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new N_("@firebase/app"),sL="@firebase/app-compat",rL="@firebase/analytics-compat",aL="@firebase/analytics",oL="@firebase/app-check-compat",lL="@firebase/app-check",uL="@firebase/auth",cL="@firebase/auth-compat",hL="@firebase/database",fL="@firebase/data-connect",dL="@firebase/database-compat",pL="@firebase/functions",mL="@firebase/functions-compat",gL="@firebase/installations",yL="@firebase/installations-compat",_L="@firebase/messaging",vL="@firebase/messaging-compat",TL="@firebase/performance",bL="@firebase/performance-compat",EL="@firebase/remote-config",wL="@firebase/remote-config-compat",xL="@firebase/storage",SL="@firebase/storage-compat",AL="@firebase/firestore",RL="@firebase/ai",CL="@firebase/firestore-compat",IL="firebase",PL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="[DEFAULT]",ML={[Iy]:"fire-core",[sL]:"fire-core-compat",[aL]:"fire-analytics",[rL]:"fire-analytics-compat",[lL]:"fire-app-check",[oL]:"fire-app-check-compat",[uL]:"fire-auth",[cL]:"fire-auth-compat",[hL]:"fire-rtdb",[fL]:"fire-data-connect",[dL]:"fire-rtdb-compat",[pL]:"fire-fn",[mL]:"fire-fn-compat",[gL]:"fire-iid",[yL]:"fire-iid-compat",[_L]:"fire-fcm",[vL]:"fire-fcm-compat",[TL]:"fire-perf",[bL]:"fire-perf-compat",[EL]:"fire-rc",[wL]:"fire-rc-compat",[xL]:"fire-gcs",[SL]:"fire-gcs-compat",[AL]:"fire-fst",[CL]:"fire-fst-compat",[RL]:"fire-vertex","fire-js":"fire-js",[IL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new Map,LL=new Map,My=new Map;function RE(e,t){try{e.container.addComponent(t)}catch(n){pa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dl(e){const t=e.name;if(My.has(t))return pa.debug(`There were multiple attempts to register component ${t}.`),!1;My.set(t,e);for(const n of ep.values())RE(n,e);for(const n of LL.values())RE(n,e);return!0}function $h(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Si(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new Yh("app","Firebase",DL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=PL;function QS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Py,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw vo.create("bad-app-name",{appName:String(o)});if(n||(n=YS()),!n)throw vo.create("no-options");const u=ep.get(o);if(u){if(wo(n,u.options)&&wo(s,u.config))return u;throw vo.create("duplicate-app",{appName:o})}const f=new UM(o);for(const y of My.values())f.addComponent(y);const p=new NL(n,s,f);return ep.set(o,p),p}function k_(e=Py){const t=ep.get(e);if(!t&&e===Py&&YS())return QS();if(!t)throw vo.create("no-app",{appName:e});return t}function br(e,t,n){let s=ML[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pa.warn(f.join(" "));return}Dl(new xo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firebase-heartbeat-database",kL=1,Rh="firebase-heartbeat-store";let Jg=null;function JS(){return Jg||(Jg=JM(OL,kL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Rh)}catch(n){console.warn(n)}}}}).catch(e=>{throw vo.create("idb-open",{originalErrorMessage:e.message})})),Jg}async function VL(e){try{const n=(await JS()).transaction(Rh),s=await n.objectStore(Rh).get(t1(e));return await n.done,s}catch(t){if(t instanceof Or)pa.warn(t.message);else{const n=vo.create("idb-get",{originalErrorMessage:t?.message});pa.warn(n.message)}}}async function CE(e,t){try{const s=(await JS()).transaction(Rh,"readwrite");await s.objectStore(Rh).put(t,t1(e)),await s.done}catch(n){if(n instanceof Or)pa.warn(n.message);else{const s=vo.create("idb-set",{originalErrorMessage:n?.message});pa.warn(s.message)}}}function t1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=1024,zL=30;class UL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>zL){const o=HL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IE(),{heartbeatsToSend:n,unsentEntries:s}=BL(this._heartbeatsCache.heartbeats),o=tp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return pa.warn(t),""}}}function IE(){return new Date().toISOString().substring(0,10)}function BL(e,t=jL){const n=[];let s=e.slice();for(const o of e){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),PE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),PE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CM()?IM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function PE(e){return tp(JSON.stringify({version:2,heartbeats:e})).length}function HL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e){Dl(new xo("platform-logger",t=>new nL(t),"PRIVATE")),Dl(new xo("heartbeat",t=>new UL(t),"PRIVATE")),br(Iy,AE,e),br(Iy,AE,"esm2020"),br("fire-js","")}qL("");var GL="firebase",WL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(GL,WL,"app");function e1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZL=e1,n1=new Yh("auth","Firebase",e1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new N_("@firebase/auth");function YL(e,...t){np.logLevel<=le.WARN&&np.warn(`Auth (${Ju}): ${e}`,...t)}function Od(e,...t){np.logLevel<=le.ERROR&&np.error(`Auth (${Ju}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e,...t){throw j_(e,...t)}function Ks(e,...t){return j_(e,...t)}function V_(e,t,n){const s={...ZL(),[t]:n};return new Yh("auth","Firebase",s).create(t,{appName:e.name})}function fa(e){return V_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KL(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ss(e,"argument-error"),V_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j_(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return n1.create(e,...t)}function Ut(e,t,...n){if(!e)throw j_(t,...n)}function la(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Od(t),new Error(t)}function ma(e,t){e||la(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){return typeof self<"u"&&self.location?.href||""}function $L(){return ME()==="http:"||ME()==="https:"}function ME(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($L()||xM()||"connection"in navigator)?navigator.onLine:!0}function QL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n){this.shortDelay=t,this.longDelay=n,ma(n>t,"Short delay should be less than long delay!"),this.isMobile=bM()||SM()}get(){return XL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(e,t){ma(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new Xh(3e4,6e4);function No(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Oo(e,t,n,s,o={}){return s1(e,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Kh({key:e.config.apiKey,...f}).slice(1),y=await e._getAdditionalHeaders();y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode);const _={method:t,headers:y,...u};return wM()||(_.referrerPolicy="no-referrer"),e.emulatorConfig&&Do(e.emulatorConfig.host)&&(_.credentials="include"),i1.fetch()(await r1(e,e.config.apiHost,n,p),_)})}async function s1(e,t,n){e._canInitEmulator=!1;const s={...JL,...t};try{const o=new iD(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw vd(e,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(e,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw vd(e,"email-already-in-use",f);if(y==="USER_DISABLED")throw vd(e,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw V_(e,E,_);Ss(e,E)}}catch(o){if(o instanceof Or)throw o;Ss(e,"network-request-failed",{message:String(o)})}}async function Qh(e,t,n,s,o={}){const u=await Oo(e,t,n,s,o);return"mfaPendingCredential"in u&&Ss(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function r1(e,t,n,s){const o=`${t}${n}?${s}`,u=e,f=u.config.emulator?z_(e.config,o):`${e.config.apiScheme}://${o}`;return tD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function nD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ks(this.auth,"network-request-failed")),eD.get())})}}function vd(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ks(e,t,s);return o.customData._tokenResponse=n,o}function LE(e){return e!==void 0&&e.enterprise!==void 0}class sD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return nD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rD(e,t){return Oo(e,"GET","/v2/recaptchaConfig",No(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(e,t){return Oo(e,"POST","/v1/accounts:delete",t)}async function ip(e,t){return Oo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oD(e,t=!1){const n=en(e),s=await n.getIdToken(t),o=U_(s);Ut(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:mh(ty(o.auth_time)),issuedAtTime:mh(ty(o.iat)),expirationTime:mh(ty(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ty(e){return Number(e)*1e3}function U_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const o=GS(n);return o?JSON.parse(o):(Od("Failed to decode base64 JWT payload"),null)}catch(o){return Od("Caught error parsing JWT payload as JSON",o?.toString()),null}}function DE(e){const t=U_(e);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Or&&lD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function lD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(e){const t=e.auth,n=await e.getIdToken(),s=await Ch(e,ip(t,{idToken:n}));Ut(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?a1(o.providerUserInfo):[],f=hD(e.providerData,u),p=e.isAnonymous,y=!(e.email&&o.passwordHash)&&!f?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Dy(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(e,E)}async function cD(e){const t=en(e);await sp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function a1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(e,t){const n=await s1(e,{},async()=>{const s=Kh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,f=await r1(e,o,"/v1/token",`key=${u}`),p=await e._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return e.emulatorConfig&&Do(e.emulatorConfig.host)&&(y.credentials="include"),i1.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dD(e,t){return Oo(e,"POST","/v2/accounts:revokeToken",No(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):DE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=DE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ku;return s&&(Ut(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Ut(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Ut(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ku,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e,t){Ut(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Zs{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ch(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oD(this,t)}reload(){return cD(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await sp(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(fa(this.auth));const t=await this.getIdToken();return await Ch(this,aD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:D,providerData:k,stsTokenManager:G}=n;Ut(A&&G,t,"internal-error");const Z=ku.fromJSON(this.name,G);Ut(typeof A=="string",t,"internal-error"),ho(s,t.name),ho(o,t.name),Ut(typeof x=="boolean",t,"internal-error"),Ut(typeof D=="boolean",t,"internal-error"),ho(u,t.name),ho(f,t.name),ho(p,t.name),ho(y,t.name),ho(_,t.name),ho(E,t.name);const Y=new Zs({uid:A,auth:t,email:o,emailVerified:x,displayName:s,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:E});return k&&Array.isArray(k)&&(Y.providerData=k.map(st=>({...st}))),y&&(Y._redirectEventId=y),Y}static async _fromIdTokenResponse(t,n,s=!1){const o=new ku;o.updateFromServerResponse(n);const u=new Zs({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await sp(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Ut(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?a1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new ku;p.updateFromIdToken(s);const y=new Zs({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function ua(e){ma(e instanceof Function,"Expected a class definition");let t=NE.get(e);return t?(ma(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,NE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}o1.type="NONE";const OE=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(e,t,n){return`firebase:${e}:${t}:${n}`}class Vu{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=kd(this.userKey,o.apiKey,u),this.fullPersistenceKey=kd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ip(this.auth,{idToken:t}).catch(()=>{});return n?Zs._fromGetAccountInfoResponse(this.auth,n,t):null}return Zs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Vu(ua(OE),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ua(OE);const f=kd(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const E=await _._get(f);if(E){let A;if(typeof E=="string"){const x=await ip(t,{idToken:E}).catch(()=>{});if(!x)break;A=await Zs._fromGetAccountInfoResponse(t,x,E)}else A=Zs._fromJSON(t,E);_!==u&&(p=A),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Vu(u,t,s):(u=y[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Vu(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(h1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(l1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(d1(t))return"Blackberry";if(p1(t))return"Webos";if(u1(t))return"Safari";if((t.includes("chrome/")||c1(t))&&!t.includes("edge/"))return"Chrome";if(f1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function l1(e=si()){return/firefox\//i.test(e)}function u1(e=si()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function c1(e=si()){return/crios\//i.test(e)}function h1(e=si()){return/iemobile/i.test(e)}function f1(e=si()){return/android/i.test(e)}function d1(e=si()){return/blackberry/i.test(e)}function p1(e=si()){return/webos/i.test(e)}function B_(e=si()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pD(e=si()){return B_(e)&&!!window.navigator?.standalone}function mD(){return AM()&&document.documentMode===10}function m1(e=si()){return B_(e)||f1(e)||p1(e)||d1(e)||/windows phone/i.test(e)||h1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(e,t=[]){let n;switch(e){case"Browser":n=kE(si());break;case"Worker":n=`${kE(si())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ju}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const y=t(u);f(y)}catch(y){p(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(e,t={}){return Oo(e,"GET","/v2/passwordPolicy",No(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class vD{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_D,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ua(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ip(this,{idToken:t}),s=await Zs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Si(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await sp(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Si(this.app))return Promise.reject(fa(this));const n=t?en(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Si(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yD(this),n=new vD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yh("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ua(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[ua(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=g1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&YL(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ko(e){return en(e)}class VE{constructor(t){this.auth=t,this.observer=null,this.addObserver=NM(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bD(e){Pp=e}function y1(e){return Pp.loadJS(e)}function ED(){return Pp.recaptchaEnterpriseScript}function wD(){return Pp.gapiScript}function xD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class SD{constructor(){this.enterprise=new AD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class AD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const RD="recaptcha-enterprise",_1="NO_RECAPTCHA";class CD{constructor(t){this.type=RD,this.auth=ko(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{rD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new sD(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{p(y)})})}function o(u,f,p){const y=window.grecaptcha;LE(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(_1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&LE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=ED();y.length!==0&&(y+=p),y1(y).then(()=>{o(p,u,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function jE(e,t,n,s=!1,o=!1){const u=new CD(e);let f;if(o)f=_1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ny(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await jE(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await jE(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e,t){const n=$h(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(wo(u,t??{}))return o;Ss(o,"already-initialized")}return n.initialize({options:t})}function PD(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ua);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function MD(e,t,n){const s=ko(e);Ut(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=v1(t),{host:f,port:p}=LD(t),y=p===null?"":`:${p}`,_={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ut(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ut(wo(_,s.config.emulator)&&wo(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Do(f)?(Ip(`${u}//${f}${y}`),D_("Auth",!0)):DD()}function v1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function LD(e){const t=v1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:zE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:zE(f)}}}function zE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function DD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return la("not implemented")}_getIdTokenResponse(t){return la("not implemented")}_linkToIdToken(t,n){return la("not implemented")}_getReauthenticationResolver(t){return la("not implemented")}}async function ND(e,t){return Oo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e,t){return Qh(e,"POST","/v1/accounts:signInWithPassword",No(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(e,t){return Qh(e,"POST","/v1/accounts:signInWithEmailLink",No(e,t))}async function VD(e,t){return Qh(e,"POST","/v1/accounts:signInWithEmailLink",No(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends F_{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ih(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ih(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(t,n,"signInWithPassword",OD);case"emailLink":return kD(t,{email:this._email,oobCode:this._password});default:Ss(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(t,s,"signUpPassword",ND);case"emailLink":return VD(t,{idToken:n,email:this._email,oobCode:this._password});default:Ss(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(e,t){return Qh(e,"POST","/v1/accounts:signInWithIdp",No(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class Nl extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Nl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Nl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ju(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ju(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ju(t,n)}buildRequest(){const t={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UD(e){const t=sh(rh(e)).link,n=t?sh(rh(t)).deep_link_id:null,s=sh(rh(e)).deep_link_id;return(s?sh(rh(s)).link:null)||s||n||t||e}class H_{constructor(t){const n=sh(rh(t)),s=n.apiKey??null,o=n.oobCode??null,u=zD(n.mode??null);Ut(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=UD(t);try{return new H_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.providerId=tc.PROVIDER_ID}static credential(t,n){return Ih._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=H_.parseLink(n);return Ut(s,"argument-error"),Ih._fromEmailAndCode(t,s.code,s.tenantId)}}tc.PROVIDER_ID="password";tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends q_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Jh{constructor(){super("facebook.com")}static credential(t){return Nl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return po.credentialFromTaggedObject(t)}static credentialFromError(t){return po.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return po.credential(t.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Jh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Nl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return oa.credentialFromTaggedObject(t)}static credentialFromError(t){return oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return oa.credential(n,s)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Jh{constructor(){super("github.com")}static credential(t){return Nl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mo.credentialFromTaggedObject(t)}static credentialFromError(t){return mo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mo.credential(t.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Jh{constructor(){super("twitter.com")}static credential(t,n){return Nl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return go.credentialFromTaggedObject(t)}static credentialFromError(t){return go.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return go.credential(n,s)}catch{return null}}}go.TWITTER_SIGN_IN_METHOD="twitter.com";go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(e,t){return Qh(e,"POST","/v1/accounts:signUp",No(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Zs._fromIdTokenResponse(t,s,o),f=UE(s);return new Ol({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=UE(s);return new Ol({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function UE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends Or{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new rp(t,n,s,o)}}function T1(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rp._fromErrorAndOperation(e,u,t,s):u})}async function FD(e,t,n=!1){const s=await Ch(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ol._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(e,t,n=!1){const{auth:s}=e;if(Si(s.app))return Promise.reject(fa(s));const o="reauthenticate";try{const u=await Ch(e,T1(s,o,t,e),n);Ut(u.idToken,s,"internal-error");const f=U_(u.idToken);Ut(f,s,"internal-error");const{sub:p}=f;return Ut(e.uid===p,s,"user-mismatch"),Ol._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ss(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(e,t,n=!1){if(Si(e.app))return Promise.reject(fa(e));const s="signIn",o=await T1(e,s,t),u=await Ol._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function qD(e,t){return b1(ko(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(e){const t=ko(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GD(e,t,n){if(Si(e.app))return Promise.reject(fa(e));const s=ko(e),f=await Ny(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&E1(e),y}),p=await Ol._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function WD(e,t,n){return Si(e.app)?Promise.reject(fa(e)):qD(en(e),tc.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&E1(e),s})}function ZD(e,t,n,s){return en(e).onIdTokenChanged(t,n,s)}function YD(e,t,n){return en(e).beforeAuthStateChanged(t,n)}function tf(e,t,n,s){return en(e).onAuthStateChanged(t,n,s)}function KD(e){return en(e).signOut()}const ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e3,XD=10;class x1 extends w1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);mD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,XD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}x1.type="LOCAL";const QD=x1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends w1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}S1.type="SESSION";const A1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Mp(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,u)),y=await JD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,y)=>{const _=G_("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function eN(e){Er().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function nN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){return navigator?.serviceWorker?.controller||null}function sN(){return R1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firebaseLocalStorageDb",rN=1,op="firebaseLocalStorage",I1="fbase_key";class ef{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lp(e,t){return e.transaction([op],t?"readwrite":"readonly").objectStore(op)}function aN(){const e=indexedDB.deleteDatabase(C1);return new ef(e).toPromise()}function Oy(){const e=indexedDB.open(C1,rN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(op,{keyPath:I1})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(op)?t(s):(s.close(),await aN(),t(await Oy()))})})}async function BE(e,t,n){const s=Lp(e,!0).put({[I1]:t,value:n});return new ef(s).toPromise()}async function oN(e,t){const n=Lp(e,!1).get(t),s=await new ef(n).toPromise();return s===void 0?null:s.value}function FE(e,t){const n=Lp(e,!0).delete(t);return new ef(n).toPromise()}const lN=800,uN=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mp._getInstance(sN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nN(),!this.activeServiceWorker)return;this.sender=new tN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Oy();return await BE(t,ap,"1"),await FE(t,ap),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>BE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>oN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Lp(o,!1).getAll();return new ef(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const cN=P1;new Xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(e,t){return t?ua(t):(Ut(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends F_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ju(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ju(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ju(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hN(e){return b1(e.auth,new W_(e),e.bypassAuthState)}function fN(e){const{auth:t,user:n}=e;return Ut(n,t,"internal-error"),HD(n,new W_(e),e.bypassAuthState)}async function dN(e){const{auth:t,user:n}=e;return Ut(n,t,"internal-error"),FD(n,new W_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hN;case"linkViaPopup":case"linkViaRedirect":return dN;case"reauthViaPopup":case"reauthViaRedirect":return fN;default:Ss(this.auth,"internal-error")}}resolve(t){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Xh(2e3,1e4);async function mN(e,t,n){if(Si(e.app))return Promise.reject(Ks(e,"operation-not-supported-in-this-environment"));const s=ko(e);KL(e,t,q_);const o=M1(s,n);return new xl(s,"signInViaPopup",t,o).executeNotNull()}class xl extends L1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const t=G_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pN.get())};t()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="pendingRedirect",Vd=new Map;class yN extends L1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Vd.get(this.auth._key());if(!t){try{const s=await _N(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Vd.set(this.auth._key(),t)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(e,t){const n=bN(t),s=TN(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vN(e,t){Vd.set(e._key(),t)}function TN(e){return ua(e._redirectPersistence)}function bN(e){return kd(gN,e.config.apiKey,e.name)}async function EN(e,t,n=!1){if(Si(e.app))return Promise.reject(fa(e));const s=ko(e),o=M1(s,t),f=await new yN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=600*1e3;class xN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!D1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ks(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(t))}saveEventToCache(t){this.cachedEventUids.add(HE(t)),this.lastProcessedEventTime=Date.now()}}function HE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function D1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function SN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(e,t={}){return Oo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CN=/^https?/;async function IN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await AN(e);for(const n of t)try{if(PN(n))return}catch{}Ss(e,"unauthorized-domain")}function PN(e){const t=Ly(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const f=new URL(e);return f.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CN.test(n))return!1;if(RN.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Xh(3e4,6e4);function qE(){const e=Er().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function LN(e){return new Promise((t,n)=>{function s(){qE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(Ks(e,"network-request-failed"))},timeout:MN.get()})}if(Er().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Er().gapi?.load)s();else{const o=xD("iframefcb");return Er()[o]=()=>{gapi.load?s():n(Ks(e,"network-request-failed"))},y1(`${wD()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw jd=null,t})}let jd=null;function DN(e){return jd=jd||LN(e),jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Xh(5e3,15e3),ON="__/auth/iframe",kN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(e){const t=e.config;Ut(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?z_(t,kN):`https://${e.config.authDomain}/${ON}`,s={apiKey:t.apiKey,appName:e.name,v:Ju},o=jN.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Kh(s).slice(1)}`}async function UN(e){const t=await DN(e),n=Er().gapi;return Ut(n,e,"internal-error"),t.open({where:document.body,url:zN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ks(e,"network-request-failed"),p=Er().setTimeout(()=>{u(f)},NN.get());function y(){Er().clearTimeout(p),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,HN=600,qN="_blank",GN="http://localhost";class GE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WN(e,t,n,s=FN,o=HN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...BN,width:s.toString(),height:o.toString(),top:u,left:f},_=si().toLowerCase();n&&(p=c1(_)?qN:n),l1(_)&&(t=t||GN,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[D,k])=>`${x}${D}=${k},`,"");if(pD(_)&&p!=="_self")return ZN(t||"",p),new GE(null);const A=window.open(t||"",p,E);Ut(A,e,"popup-blocked");try{A.focus()}catch{}return new GE(A)}function ZN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__/auth/handler",KN="emulator/auth/handler",$N=encodeURIComponent("fac");async function WE(e,t,n,s,o,u){Ut(e.config.authDomain,e,"auth-domain-config-required"),Ut(e.config.apiKey,e,"invalid-api-key");const f={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ju,eventId:o};if(t instanceof q_){t.setDefaultLanguage(e.languageCode),f.providerId=t.providerId||"",DM(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Jh){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}e.tenantId&&(f.tid=e.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await e._getAppCheckToken(),_=y?`#${$N}=${encodeURIComponent(y)}`:"";return`${XN(e)}?${Kh(p).slice(1)}${_}`}function XN({config:e}){return e.emulator?z_(e,KN):`https://${e.authDomain}/${YN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A1,this._completeRedirectFn=EN,this._overrideRedirectResult=vN}async _openPopup(t,n,s,o){ma(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await WE(t,n,s,Ly(),o);return WN(t,u,G_())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await WE(t,n,s,Ly(),o);return eN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ma(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await UN(t),s=new xN(t);return n.register("authEvent",o=>(Ut(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ey,{type:ey},o=>{const u=o?.[0]?.[ey];u!==void 0&&n(!!u),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return m1()||u1()||B_()}}const JN=QN;var ZE="@firebase/auth",YE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nO(e){Dl(new xo("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Ut(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:p,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g1(e)},_=new TD(s,o,u,y);return PD(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Dl(new xo("auth-internal",t=>{const n=ko(t.getProvider("auth").getImmediate());return(s=>new tO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(ZE,YE,eO(e)),br(ZE,YE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=300,sO=KS("authIdTokenMaxAge")||iO;let KE=null;const rO=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sO)return;const o=n?.token;KE!==o&&(KE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aO(e=k_()){const t=$h(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ID(e,{popupRedirectResolver:JN,persistence:[cN,QD,A1]}),s=KS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rO(u.toString());YD(n,f,()=>f(n.currentUser)),ZD(n,p=>f(p))}}const o=WS("auth");return o&&MD(n,`http://${o}`),n}function oO(){return document.getElementsByTagName("head")?.[0]??document}bD({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Ks("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nO("Browser");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,N1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(F,P){function N(){}N.prototype=P.prototype,F.D=P.prototype,F.prototype=new N,F.prototype.constructor=F,F.C=function(U,B,W){for(var z=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)z[Ft-2]=arguments[Ft];return P.prototype[B].apply(U,z)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(F,P,N){N||(N=0);var U=Array(16);if(typeof P=="string")for(var B=0;16>B;++B)U[B]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(B=0;16>B;++B)U[B]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=F.g[0],N=F.g[1],B=F.g[2];var W=F.g[3],z=P+(W^N&(B^W))+U[0]+3614090360&4294967295;P=N+(z<<7&4294967295|z>>>25),z=W+(B^P&(N^B))+U[1]+3905402710&4294967295,W=P+(z<<12&4294967295|z>>>20),z=B+(N^W&(P^N))+U[2]+606105819&4294967295,B=W+(z<<17&4294967295|z>>>15),z=N+(P^B&(W^P))+U[3]+3250441966&4294967295,N=B+(z<<22&4294967295|z>>>10),z=P+(W^N&(B^W))+U[4]+4118548399&4294967295,P=N+(z<<7&4294967295|z>>>25),z=W+(B^P&(N^B))+U[5]+1200080426&4294967295,W=P+(z<<12&4294967295|z>>>20),z=B+(N^W&(P^N))+U[6]+2821735955&4294967295,B=W+(z<<17&4294967295|z>>>15),z=N+(P^B&(W^P))+U[7]+4249261313&4294967295,N=B+(z<<22&4294967295|z>>>10),z=P+(W^N&(B^W))+U[8]+1770035416&4294967295,P=N+(z<<7&4294967295|z>>>25),z=W+(B^P&(N^B))+U[9]+2336552879&4294967295,W=P+(z<<12&4294967295|z>>>20),z=B+(N^W&(P^N))+U[10]+4294925233&4294967295,B=W+(z<<17&4294967295|z>>>15),z=N+(P^B&(W^P))+U[11]+2304563134&4294967295,N=B+(z<<22&4294967295|z>>>10),z=P+(W^N&(B^W))+U[12]+1804603682&4294967295,P=N+(z<<7&4294967295|z>>>25),z=W+(B^P&(N^B))+U[13]+4254626195&4294967295,W=P+(z<<12&4294967295|z>>>20),z=B+(N^W&(P^N))+U[14]+2792965006&4294967295,B=W+(z<<17&4294967295|z>>>15),z=N+(P^B&(W^P))+U[15]+1236535329&4294967295,N=B+(z<<22&4294967295|z>>>10),z=P+(B^W&(N^B))+U[1]+4129170786&4294967295,P=N+(z<<5&4294967295|z>>>27),z=W+(N^B&(P^N))+U[6]+3225465664&4294967295,W=P+(z<<9&4294967295|z>>>23),z=B+(P^N&(W^P))+U[11]+643717713&4294967295,B=W+(z<<14&4294967295|z>>>18),z=N+(W^P&(B^W))+U[0]+3921069994&4294967295,N=B+(z<<20&4294967295|z>>>12),z=P+(B^W&(N^B))+U[5]+3593408605&4294967295,P=N+(z<<5&4294967295|z>>>27),z=W+(N^B&(P^N))+U[10]+38016083&4294967295,W=P+(z<<9&4294967295|z>>>23),z=B+(P^N&(W^P))+U[15]+3634488961&4294967295,B=W+(z<<14&4294967295|z>>>18),z=N+(W^P&(B^W))+U[4]+3889429448&4294967295,N=B+(z<<20&4294967295|z>>>12),z=P+(B^W&(N^B))+U[9]+568446438&4294967295,P=N+(z<<5&4294967295|z>>>27),z=W+(N^B&(P^N))+U[14]+3275163606&4294967295,W=P+(z<<9&4294967295|z>>>23),z=B+(P^N&(W^P))+U[3]+4107603335&4294967295,B=W+(z<<14&4294967295|z>>>18),z=N+(W^P&(B^W))+U[8]+1163531501&4294967295,N=B+(z<<20&4294967295|z>>>12),z=P+(B^W&(N^B))+U[13]+2850285829&4294967295,P=N+(z<<5&4294967295|z>>>27),z=W+(N^B&(P^N))+U[2]+4243563512&4294967295,W=P+(z<<9&4294967295|z>>>23),z=B+(P^N&(W^P))+U[7]+1735328473&4294967295,B=W+(z<<14&4294967295|z>>>18),z=N+(W^P&(B^W))+U[12]+2368359562&4294967295,N=B+(z<<20&4294967295|z>>>12),z=P+(N^B^W)+U[5]+4294588738&4294967295,P=N+(z<<4&4294967295|z>>>28),z=W+(P^N^B)+U[8]+2272392833&4294967295,W=P+(z<<11&4294967295|z>>>21),z=B+(W^P^N)+U[11]+1839030562&4294967295,B=W+(z<<16&4294967295|z>>>16),z=N+(B^W^P)+U[14]+4259657740&4294967295,N=B+(z<<23&4294967295|z>>>9),z=P+(N^B^W)+U[1]+2763975236&4294967295,P=N+(z<<4&4294967295|z>>>28),z=W+(P^N^B)+U[4]+1272893353&4294967295,W=P+(z<<11&4294967295|z>>>21),z=B+(W^P^N)+U[7]+4139469664&4294967295,B=W+(z<<16&4294967295|z>>>16),z=N+(B^W^P)+U[10]+3200236656&4294967295,N=B+(z<<23&4294967295|z>>>9),z=P+(N^B^W)+U[13]+681279174&4294967295,P=N+(z<<4&4294967295|z>>>28),z=W+(P^N^B)+U[0]+3936430074&4294967295,W=P+(z<<11&4294967295|z>>>21),z=B+(W^P^N)+U[3]+3572445317&4294967295,B=W+(z<<16&4294967295|z>>>16),z=N+(B^W^P)+U[6]+76029189&4294967295,N=B+(z<<23&4294967295|z>>>9),z=P+(N^B^W)+U[9]+3654602809&4294967295,P=N+(z<<4&4294967295|z>>>28),z=W+(P^N^B)+U[12]+3873151461&4294967295,W=P+(z<<11&4294967295|z>>>21),z=B+(W^P^N)+U[15]+530742520&4294967295,B=W+(z<<16&4294967295|z>>>16),z=N+(B^W^P)+U[2]+3299628645&4294967295,N=B+(z<<23&4294967295|z>>>9),z=P+(B^(N|~W))+U[0]+4096336452&4294967295,P=N+(z<<6&4294967295|z>>>26),z=W+(N^(P|~B))+U[7]+1126891415&4294967295,W=P+(z<<10&4294967295|z>>>22),z=B+(P^(W|~N))+U[14]+2878612391&4294967295,B=W+(z<<15&4294967295|z>>>17),z=N+(W^(B|~P))+U[5]+4237533241&4294967295,N=B+(z<<21&4294967295|z>>>11),z=P+(B^(N|~W))+U[12]+1700485571&4294967295,P=N+(z<<6&4294967295|z>>>26),z=W+(N^(P|~B))+U[3]+2399980690&4294967295,W=P+(z<<10&4294967295|z>>>22),z=B+(P^(W|~N))+U[10]+4293915773&4294967295,B=W+(z<<15&4294967295|z>>>17),z=N+(W^(B|~P))+U[1]+2240044497&4294967295,N=B+(z<<21&4294967295|z>>>11),z=P+(B^(N|~W))+U[8]+1873313359&4294967295,P=N+(z<<6&4294967295|z>>>26),z=W+(N^(P|~B))+U[15]+4264355552&4294967295,W=P+(z<<10&4294967295|z>>>22),z=B+(P^(W|~N))+U[6]+2734768916&4294967295,B=W+(z<<15&4294967295|z>>>17),z=N+(W^(B|~P))+U[13]+1309151649&4294967295,N=B+(z<<21&4294967295|z>>>11),z=P+(B^(N|~W))+U[4]+4149444226&4294967295,P=N+(z<<6&4294967295|z>>>26),z=W+(N^(P|~B))+U[11]+3174756917&4294967295,W=P+(z<<10&4294967295|z>>>22),z=B+(P^(W|~N))+U[2]+718787259&4294967295,B=W+(z<<15&4294967295|z>>>17),z=N+(W^(B|~P))+U[9]+3951481745&4294967295,F.g[0]=F.g[0]+P&4294967295,F.g[1]=F.g[1]+(B+(z<<21&4294967295|z>>>11))&4294967295,F.g[2]=F.g[2]+B&4294967295,F.g[3]=F.g[3]+W&4294967295}s.prototype.u=function(F,P){P===void 0&&(P=F.length);for(var N=P-this.blockSize,U=this.B,B=this.h,W=0;W<P;){if(B==0)for(;W<=N;)o(this,F,W),W+=this.blockSize;if(typeof F=="string"){for(;W<P;)if(U[B++]=F.charCodeAt(W++),B==this.blockSize){o(this,U),B=0;break}}else for(;W<P;)if(U[B++]=F[W++],B==this.blockSize){o(this,U),B=0;break}}this.h=B,this.o+=P},s.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var P=1;P<F.length-8;++P)F[P]=0;var N=8*this.o;for(P=F.length-8;P<F.length;++P)F[P]=N&255,N/=256;for(this.u(F),F=Array(16),P=N=0;4>P;++P)for(var U=0;32>U;U+=8)F[N++]=this.g[P]>>>U&255;return F};function u(F,P){var N=p;return Object.prototype.hasOwnProperty.call(N,F)?N[F]:N[F]=P(F)}function f(F,P){this.h=P;for(var N=[],U=!0,B=F.length-1;0<=B;B--){var W=F[B]|0;U&&W==P||(N[B]=W,U=!1)}this.g=N}var p={};function y(F){return-128<=F&&128>F?u(F,function(P){return new f([P|0],0>P?-1:0)}):new f([F|0],0>F?-1:0)}function _(F){if(isNaN(F)||!isFinite(F))return A;if(0>F)return Z(_(-F));for(var P=[],N=1,U=0;F>=N;U++)P[U]=F/N|0,N*=4294967296;return new f(P,0)}function E(F,P){if(F.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(F.charAt(0)=="-")return Z(E(F.substring(1),P));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=_(Math.pow(P,8)),U=A,B=0;B<F.length;B+=8){var W=Math.min(8,F.length-B),z=parseInt(F.substring(B,B+W),P);8>W?(W=_(Math.pow(P,W)),U=U.j(W).add(_(z))):(U=U.j(N),U=U.add(_(z)))}return U}var A=y(0),x=y(1),D=y(16777216);e=f.prototype,e.m=function(){if(G(this))return-Z(this).m();for(var F=0,P=1,N=0;N<this.g.length;N++){var U=this.i(N);F+=(0<=U?U:4294967296+U)*P,P*=4294967296}return F},e.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(k(this))return"0";if(G(this))return"-"+Z(this).toString(F);for(var P=_(Math.pow(F,6)),N=this,U="";;){var B=yt(N,P).g;N=Y(N,B.j(P));var W=((0<N.g.length?N.g[0]:N.h)>>>0).toString(F);if(N=B,k(N))return W+U;for(;6>W.length;)W="0"+W;U=W+U}},e.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function k(F){if(F.h!=0)return!1;for(var P=0;P<F.g.length;P++)if(F.g[P]!=0)return!1;return!0}function G(F){return F.h==-1}e.l=function(F){return F=Y(this,F),G(F)?-1:k(F)?0:1};function Z(F){for(var P=F.g.length,N=[],U=0;U<P;U++)N[U]=~F.g[U];return new f(N,~F.h).add(x)}e.abs=function(){return G(this)?Z(this):this},e.add=function(F){for(var P=Math.max(this.g.length,F.g.length),N=[],U=0,B=0;B<=P;B++){var W=U+(this.i(B)&65535)+(F.i(B)&65535),z=(W>>>16)+(this.i(B)>>>16)+(F.i(B)>>>16);U=z>>>16,W&=65535,z&=65535,N[B]=z<<16|W}return new f(N,N[N.length-1]&-2147483648?-1:0)};function Y(F,P){return F.add(Z(P))}e.j=function(F){if(k(this)||k(F))return A;if(G(this))return G(F)?Z(this).j(Z(F)):Z(Z(this).j(F));if(G(F))return Z(this.j(Z(F)));if(0>this.l(D)&&0>F.l(D))return _(this.m()*F.m());for(var P=this.g.length+F.g.length,N=[],U=0;U<2*P;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(var B=0;B<F.g.length;B++){var W=this.i(U)>>>16,z=this.i(U)&65535,Ft=F.i(B)>>>16,Kt=F.i(B)&65535;N[2*U+2*B]+=z*Kt,st(N,2*U+2*B),N[2*U+2*B+1]+=W*Kt,st(N,2*U+2*B+1),N[2*U+2*B+1]+=z*Ft,st(N,2*U+2*B+1),N[2*U+2*B+2]+=W*Ft,st(N,2*U+2*B+2)}for(U=0;U<P;U++)N[U]=N[2*U+1]<<16|N[2*U];for(U=P;U<2*P;U++)N[U]=0;return new f(N,0)};function st(F,P){for(;(F[P]&65535)!=F[P];)F[P+1]+=F[P]>>>16,F[P]&=65535,P++}function $(F,P){this.g=F,this.h=P}function yt(F,P){if(k(P))throw Error("division by zero");if(k(F))return new $(A,A);if(G(F))return P=yt(Z(F),P),new $(Z(P.g),Z(P.h));if(G(P))return P=yt(F,Z(P)),new $(Z(P.g),P.h);if(30<F.g.length){if(G(F)||G(P))throw Error("slowDivide_ only works with positive integers.");for(var N=x,U=P;0>=U.l(F);)N=nt(N),U=nt(U);var B=vt(N,1),W=vt(U,1);for(U=vt(U,2),N=vt(N,2);!k(U);){var z=W.add(U);0>=z.l(F)&&(B=B.add(N),W=z),U=vt(U,1),N=vt(N,1)}return P=Y(F,B.j(P)),new $(B,P)}for(B=A;0<=F.l(P);){for(N=Math.max(1,Math.floor(F.m()/P.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),W=_(N),z=W.j(P);G(z)||0<z.l(F);)N-=U,W=_(N),z=W.j(P);k(W)&&(W=x),B=B.add(W),F=Y(F,z)}return new $(B,F)}e.A=function(F){return yt(this,F).h},e.and=function(F){for(var P=Math.max(this.g.length,F.g.length),N=[],U=0;U<P;U++)N[U]=this.i(U)&F.i(U);return new f(N,this.h&F.h)},e.or=function(F){for(var P=Math.max(this.g.length,F.g.length),N=[],U=0;U<P;U++)N[U]=this.i(U)|F.i(U);return new f(N,this.h|F.h)},e.xor=function(F){for(var P=Math.max(this.g.length,F.g.length),N=[],U=0;U<P;U++)N[U]=this.i(U)^F.i(U);return new f(N,this.h^F.h)};function nt(F){for(var P=F.g.length+1,N=[],U=0;U<P;U++)N[U]=F.i(U)<<1|F.i(U-1)>>>31;return new f(N,F.h)}function vt(F,P){var N=P>>5;P%=32;for(var U=F.g.length-N,B=[],W=0;W<U;W++)B[W]=0<P?F.i(W+N)>>>P|F.i(W+N+1)<<32-P:F.i(W+N);return new f(B,F.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,N1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,To=f}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O1,ah,k1,zd,ky,V1,j1,z1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,R){return d==Array.prototype||d==Object.prototype||(d[w]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Td=="object"&&Td];for(var w=0;w<d.length;++w){var R=d[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function o(d,w){if(w)t:{var R=s;d=d.split(".");for(var O=0;O<d.length-1;O++){var Q=d[O];if(!(Q in R))break t;R=R[Q]}d=d[d.length-1],O=R[d],w=w(O),w!=O&&w!=null&&t(R,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var R=0,O=!1,Q={next:function(){if(!O&&R<d.length){var lt=R++;return{value:w(lt,d[lt]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(d){return d||function(){return u(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function _(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function E(d,w,R){return d.call.apply(d.bind,arguments)}function A(d,w,R){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),d.apply(w,Q)}}return function(){return d.apply(w,arguments)}}function x(d,w,R){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,x.apply(null,arguments)}function D(d,w){var R=Array.prototype.slice.call(arguments,1);return function(){var O=R.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function k(d,w){function R(){}R.prototype=w.prototype,d.aa=w.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(O,Q,lt){for(var xt=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)xt[ae-2]=arguments[ae];return w.prototype[Q].apply(O,xt)}}function G(d){const w=d.length;if(0<w){const R=Array(w);for(let O=0;O<w;O++)R[O]=d[O];return R}return[]}function Z(d,w){for(let R=1;R<arguments.length;R++){const O=arguments[R];if(y(O)){const Q=d.length||0,lt=O.length||0;d.length=Q+lt;for(let xt=0;xt<lt;xt++)d[Q+xt]=O[xt]}else d.push(O)}}class Y{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function st(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=p.navigator;return d&&(d=d.userAgent)?d:""}function yt(d){return yt[" "](d),d}yt[" "]=function(){};var nt=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function vt(d,w,R){for(const O in d)w.call(R,d[O],O,d)}function F(d,w){for(const R in d)w.call(void 0,d[R],R,d)}function P(d){const w={};for(const R in d)w[R]=d[R];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,w){let R,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(R in O)d[R]=O[R];for(let lt=0;lt<N.length;lt++)R=N[lt],Object.prototype.hasOwnProperty.call(O,R)&&(d[R]=O[R])}}function B(d){var w=1;d=d.split(":");const R=[];for(;0<w&&d.length;)R.push(d.shift()),w--;return d.length&&R.push(d.join(":")),R}function W(d){p.setTimeout(()=>{throw d},0)}function z(){var d=Zt;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Ft{constructor(){this.h=this.g=null}add(w,R){const O=Kt.get();O.set(w,R),this.h?this.h.next=O:this.g=O,this.h=O}}var Kt=new Y(()=>new rt,d=>d.reset());class rt{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,dt=!1,Zt=new Ft,j=()=>{const d=p.Promise.resolve(void 0);pt=()=>{d.then(ut)}};var ut=()=>{for(var d;d=z();){try{d.h.call(d.g)}catch(R){W(R)}var w=Kt;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}dt=!1};function Et(){this.s=this.s,this.C=this.C}Et.prototype.s=!1,Et.prototype.ma=function(){this.s||(this.s=!0,this.N())},Et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};p.addEventListener("test",R,w),p.removeEventListener("test",R,w)}catch{}return d}();function wt(d,w){if(Tt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(nt){t:{try{yt(w.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(w=null)}}else R=="mouseover"?w=d.fromElement:R=="mouseout"&&(w=d.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:bt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&wt.aa.h.call(this)}}k(wt,Tt);var bt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),te=0;function ri(d,w,R,O,Q){this.listener=d,this.proxy=null,this.src=w,this.type=R,this.capture=!!O,this.ha=Q,this.key=++te,this.da=this.fa=!1}function ai(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Nn(d){this.src=d,this.g={},this.h=0}Nn.prototype.add=function(d,w,R,O,Q){var lt=d.toString();d=this.g[lt],d||(d=this.g[lt]=[],this.h++);var xt=mi(d,w,O,Q);return-1<xt?(w=d[xt],R||(w.fa=!1)):(w=new ri(w,this.src,lt,!!O,Q),w.fa=R,d.push(w)),w};function Gn(d,w){var R=w.type;if(R in d.g){var O=d.g[R],Q=Array.prototype.indexOf.call(O,w,void 0),lt;(lt=0<=Q)&&Array.prototype.splice.call(O,Q,1),lt&&(ai(w),d.g[R].length==0&&(delete d.g[R],d.h--))}}function mi(d,w,R,O){for(var Q=0;Q<d.length;++Q){var lt=d[Q];if(!lt.da&&lt.listener==w&&lt.capture==!!R&&lt.ha==O)return Q}return-1}var Rs="closure_lm_"+(1e6*Math.random()|0),Xi={};function Cs(d,w,R,O,Q){if(Array.isArray(w)){for(var lt=0;lt<w.length;lt++)Cs(d,w[lt],R,O,Q);return null}return R=Js(R),d&&d[pe]?d.K(w,R,_(O)?!!O.capture:!1,Q):Ke(d,w,R,!1,O,Q)}function Ke(d,w,R,O,Q,lt){if(!w)throw Error("Invalid event type");var xt=_(Q)?!!Q.capture:!!Q,ae=un(d);if(ae||(d[Rs]=ae=new Nn(d)),R=ae.add(w,R,O,xt,lt),R.proxy)return R;if(O=Qi(),R.proxy=O,O.src=d,O.listener=R,d.addEventListener)St||(Q=xt),Q===void 0&&(Q=!1),d.addEventListener(w.toString(),O,Q);else if(d.attachEvent)d.attachEvent(It(w.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Qi(){function d(R){return w.call(d.src,d.listener,R)}const w=Le;return d}function kr(d,w,R,O,Q){if(Array.isArray(w))for(var lt=0;lt<w.length;lt++)kr(d,w[lt],R,O,Q);else O=_(O)?!!O.capture:!!O,R=Js(R),d&&d[pe]?(d=d.i,w=String(w).toString(),w in d.g&&(lt=d.g[w],R=mi(lt,R,O,Q),-1<R&&(ai(lt[R]),Array.prototype.splice.call(lt,R,1),lt.length==0&&(delete d.g[w],d.h--)))):d&&(d=un(d))&&(w=d.g[w.toString()],d=-1,w&&(d=mi(w,R,O,Q)),(R=-1<d?w[d]:null)&&$t(R))}function $t(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[pe])Gn(w.i,d);else{var R=d.type,O=d.proxy;w.removeEventListener?w.removeEventListener(R,O,d.capture):w.detachEvent?w.detachEvent(It(R),O):w.addListener&&w.removeListener&&w.removeListener(O),(R=un(w))?(Gn(R,d),R.h==0&&(R.src=null,w[Rs]=null)):ai(d)}}}function It(d){return d in Xi?Xi[d]:Xi[d]="on"+d}function Le(d,w){if(d.da)d=!0;else{w=new wt(w,this);var R=d.listener,O=d.ha||d.src;d.fa&&$t(d),d=R.call(O,w)}return d}function un(d){return d=d[Rs],d instanceof Nn?d:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function Js(d){return typeof d=="function"?d:(d[On]||(d[On]=function(w){return d.handleEvent(w)}),d[On])}function be(){Et.call(this),this.i=new Nn(this),this.M=this,this.F=null}k(be,Et),be.prototype[pe]=!0,be.prototype.removeEventListener=function(d,w,R,O){kr(this,d,w,R,O)};function me(d,w){var R,O=d.F;if(O)for(R=[];O;O=O.F)R.push(O);if(d=d.M,O=w.type||w,typeof w=="string")w=new Tt(w,d);else if(w instanceof Tt)w.target=w.target||d;else{var Q=w;w=new Tt(O,d),U(w,Q)}if(Q=!0,R)for(var lt=R.length-1;0<=lt;lt--){var xt=w.g=R[lt];Q=Wn(xt,O,!0,w)&&Q}if(xt=w.g=d,Q=Wn(xt,O,!0,w)&&Q,Q=Wn(xt,O,!1,w)&&Q,R)for(lt=0;lt<R.length;lt++)xt=w.g=R[lt],Q=Wn(xt,O,!1,w)&&Q}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var R=d.g[w],O=0;O<R.length;O++)ai(R[O]);delete d.g[w],d.h--}}this.F=null},be.prototype.K=function(d,w,R,O){return this.i.add(String(d),w,!1,R,O)},be.prototype.L=function(d,w,R,O){return this.i.add(String(d),w,!0,R,O)};function Wn(d,w,R,O){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,lt=0;lt<w.length;++lt){var xt=w[lt];if(xt&&!xt.da&&xt.capture==R){var ae=xt.listener,Xe=xt.ha||xt.src;xt.fa&&Gn(d.i,xt),Q=ae.call(Xe,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function wn(d,w,R){if(typeof d=="function")R&&(d=x(d,R));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:p.setTimeout(d,w||0)}function Bo(d){d.g=wn(()=>{d.g=null,d.i&&(d.i=!1,Bo(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Ul extends Et{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(d){Et.call(this),this.h=d,this.g={}}k(Vr,Et);var tr=[];function Is(d){vt(d.g,function(w,R){this.g.hasOwnProperty(R)&&$t(w)},d),d.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Is(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=p.JSON.stringify,va=p.JSON.parse,Mi=class{stringify(d){return p.JSON.stringify(d,void 0)}parse(d){return p.JSON.parse(d,void 0)}};function Fo(){}Fo.prototype.h=null;function Ho(d){return d.h||(d.h=d.i())}function Ta(){}var Ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ts(){Tt.call(this,"d")}k(ts,Tt);function qo(){Tt.call(this,"c")}k(qo,Tt);var es={},Go=null;function er(){return Go=Go||new be}es.La="serverreachability";function ba(d){Tt.call(this,es.La,d)}k(ba,Tt);function nr(d){const w=er();me(w,new ba(w))}es.STAT_EVENT="statevent";function Ea(d,w){Tt.call(this,es.STAT_EVENT,d),this.stat=w}k(Ea,Tt);function De(d){const w=er();me(w,new Ea(w,d))}es.Ma="timingevent";function nn(d,w){Tt.call(this,es.Ma,d),this.size=w}k(nn,Tt);function $e(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){d()},w)}function yi(){this.g=!0}yi.prototype.xa=function(){this.g=!1};function Zn(d,w,R,O,Q,lt){d.info(function(){if(d.g)if(lt)for(var xt="",ae=lt.split("&"),Xe=0;Xe<ae.length;Xe++){var oe=ae[Xe].split("=");if(1<oe.length){var ve=oe[0];oe=oe[1];var Oe=ve.split("_");xt=2<=Oe.length&&Oe[1]=="type"?xt+(ve+"="+oe+"&"):xt+(ve+"=redacted&")}}else xt=null;else xt=lt;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+w+`
`+R+`
`+xt})}function Dt(d,w,R,O,Q,lt,xt){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+w+`
`+R+`
`+lt+" "+xt})}function Ps(d,w,R,O){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+ir(d,R)+(O?" "+O:"")})}function Wo(d,w){d.info(function(){return"TIMEOUT: "+w})}yi.prototype.info=function(){};function ir(d,w){if(!d.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var O=R[d];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var lt=Q[0];if(lt!="noop"&&lt!="stop"&&lt!="close")for(var xt=1;xt<Q.length;xt++)Q[xt]=""}}}}return gi(R)}catch{return w}}var Ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Di;function kn(){}k(kn,Fo),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Di=new kn;function xn(d,w,R,O){this.j=d,this.i=w,this.l=R,this.R=O||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var Zo={},wa={};function Ni(d,w,R){d.L=1,d.v=oi(Ne(w)),d.m=R,d.P=!0,ns(d,null)}function ns(d,w){d.F=Date.now(),zr(d),d.A=Ne(d.v);var R=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),$o(R.i,"t",O),d.C=0,R=d.j.J,d.h=new qe,d.g=Wl(d.j,R?w:null,!d.m),0<d.O&&(d.M=new Ul(x(d.Y,d,d.g),d.O)),w=d.U,R=d.g,O=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(tr[0]=Q.toString()),Q=tr);for(var lt=0;lt<Q.length;lt++){var xt=Cs(R,Q[lt],O||w.handleEvent,!1,w.h||w);if(!xt)break;w.g[xt.key]=xt}w=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),nr(),Zn(d.i,d.u,d.A,d.l,d.R,d.m)}xn.prototype.ca=function(d){d=d.target;const w=this.M;w&&Rn(d)==3?w.j():this.Y(d)},xn.prototype.Y=function(d){try{if(d==this.g)t:{const Oe=Rn(this.g);var w=this.g.Ba();const zs=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||Oe!=4||w==7||(w==8||0>=zs?nr(3):nr(2)),sr(this);var R=this.g.Z();this.X=R;e:if(Bl(this)){var O=Xo(this.g);d="";var Q=O.length,lt=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),is(this);var xt="";break e}this.h.i=new p.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,d+=this.h.i.decode(O[w],{stream:!(lt&&w==Q-1)});O.length=0,this.h.g+=d,this.C=0,xt=this.h.g}else xt=this.g.oa();if(this.o=R==200,Dt(this.i,this.u,this.A,this.l,this.R,Oe,R),this.o){if(this.T&&!this.K){e:{if(this.g){var ae,Xe=this.g;if((ae=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(ae)){var oe=ae;break e}}oe=null}if(R=oe)Ps(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ls(this,R);else{this.o=!1,this.s=3,De(12),_n(this),is(this);break t}}if(this.P){R=!0;let Pe;for(;!this.J&&this.C<xt.length;)if(Pe=jr(this,xt),Pe==wa){Oe==4&&(this.s=4,De(14),R=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Zo){this.s=4,De(15),Ps(this.i,this.l,xt,"[Invalid Chunk]"),R=!1;break}else Ps(this.i,this.l,Pe,null),Ls(this,Pe);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||xt.length!=0||this.h.h||(this.s=1,De(16),R=!1),this.o=this.o&&R,!R)Ps(this.i,this.l,xt,"[Invalid Chunked Response]"),_n(this),is(this);else if(0<xt.length&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.ba&&!ve.M&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+xt.length),cr(ve),ve.M=!0,De(11))}}else Ps(this.i,this.l,xt,null),Ls(this,xt);Oe==4&&_n(this),this.o&&!this.J&&(Oe==4?Jo(this.j,this):(this.o=!1,zr(this)))}else cc(this.g),R==400&&0<xt.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),_n(this),is(this)}}}catch{}finally{}};function Bl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function jr(d,w){var R=d.C,O=w.indexOf(`
`,R);return O==-1?wa:(R=Number(w.substring(R,O)),isNaN(R)?Zo:(O+=1,O+R>w.length?wa:(w=w.slice(O,O+R),d.C=O+R,w)))}xn.prototype.cancel=function(){this.J=!0,_n(this)};function zr(d){d.S=Date.now()+d.I,Fl(d,d.I)}function Fl(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=$e(x(d.ba,d),w)}function sr(d){d.B&&(p.clearTimeout(d.B),d.B=null)}xn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Wo(this.i,this.A),this.L!=2&&(nr(),De(17)),_n(this),this.s=2,is(this)):Fl(this,this.S-d)};function is(d){d.j.G==0||d.J||Jo(d.j,d)}function _n(d){sr(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Is(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Ls(d,w){try{var R=d.j;if(R.G!=0&&(R.g==d||ne(R.h,d))){if(!d.K&&ne(R.h,d)&&R.G==3){try{var O=R.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)La(R),Ia(R);else break t;Pa(R),De(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=$e(x(R.Za,R),6e3));if(1>=rs(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else js(R,11)}else if((d.K||R.g==d)&&La(R),!st(w))for(Q=R.Da.g.parse(w),w=0;w<Q.length;w++){let oe=Q[w];if(R.T=oe[0],oe=oe[1],R.G==2)if(oe[0]=="c"){R.K=oe[1],R.ia=oe[2];const ve=oe[3];ve!=null&&(R.la=ve,R.j.info("VER="+R.la));const Oe=oe[4];Oe!=null&&(R.Aa=Oe,R.j.info("SVER="+R.Aa));const zs=oe[5];zs!=null&&typeof zs=="number"&&0<zs&&(O=1.5*zs,R.L=O,R.j.info("backChannelRequestTimeoutMs_="+O)),O=R;const Pe=d.g;if(Pe){const cs=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var lt=O.h;lt.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(lt.j=lt.l,lt.g=new Set,lt.h&&(_e(lt,lt.h),lt.h=null))}if(O.D){const hs=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;hs&&(O.ya=hs,zt(O.I,O.D,hs))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),O=R;var xt=d;if(O.qa=Na(O,O.J?O.ia:null,O.W),xt.K){cn(O.h,xt);var ae=xt,Xe=O.L;Xe&&(ae.I=Xe),ae.B&&(sr(ae),zr(ae)),O.g=xt}else Ui(O);0<R.i.length&&ur(R)}else oe[0]!="stop"&&oe[0]!="close"||js(R,7);else R.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?js(R,7):Ca(R):oe[0]!="noop"&&R.l&&R.l.ta(oe),R.v=0)}}nr(4)}catch{}}var rr=class{constructor(d,w){this.g=d,this.map=w}};function ss(d){this.l=d||10,p.PerformanceNavigationTiming?(d=p.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ur(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function rs(d){return d.h?1:d.g?d.g.size:0}function ne(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function _e(d,w){d.g?d.g.add(w):d.h=w}function cn(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}ss.prototype.cancel=function(){if(this.i=as(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function as(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const R of d.g.values())w=w.concat(R.D);return w}return G(d.i)}function ar(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var w=[],R=d.length,O=0;O<R;O++)w.push(d[O]);return w}w=[],R=0;for(O in d)w[R++]=d[O];return w}function or(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var w=[];d=d.length;for(var R=0;R<d;R++)w.push(R);return w}w=[],R=0;for(const O in d)w[R++]=O;return w}}}function Wt(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var R=or(d),O=ar(d),Q=O.length,lt=0;lt<Q;lt++)w.call(void 0,O[lt],R&&R[lt],d)}var Ee=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(d,w){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var O=d[R].indexOf("="),Q=null;if(0<=O){var lt=d[R].substring(0,O);Q=d[R].substring(O+1)}else lt=d[R];w(lt,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ze(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ze){this.h=d.h,Br(this,d.j),this.o=d.o,this.g=d.g,Oi(this,d.s),this.l=d.l;var w=d.i,R=new Vi;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),Vn(this,R),this.m=d.m}else d&&(w=String(d).match(Ee))?(this.h=!1,Br(this,w[1]||"",!0),this.o=Sn(w[2]||""),this.g=Sn(w[3]||"",!0),Oi(this,w[4]),this.l=Sn(w[5]||"",!0),Vn(this,w[6]||"",!0),this.m=Sn(w[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}ze.prototype.toString=function(){var d=[],w=this.j;w&&d.push(ki(w,Ds,!0),":");var R=this.g;return(R||w=="file")&&(d.push("//"),(w=this.o)&&d.push(ki(w,Ds,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(ki(R,R.charAt(0)=="/"?Ko:Fr,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",ki(R,lr)),d.join("")};function Ne(d){return new ze(d)}function Br(d,w,R){d.j=R?Sn(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Oi(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Vn(d,w,R){w instanceof Vi?(d.i=w,li(d.i,d.h)):(R||(w=ki(w,Sa)),d.i=new Vi(w,d.h))}function zt(d,w,R){d.i.set(w,R)}function oi(d){return zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Sn(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ki(d,w,R){return typeof d=="string"?(d=encodeURI(d).replace(w,xa),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xa(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ds=/[#\/\?@]/g,Fr=/[#\?:]/g,Ko=/[#\?]/g,Sa=/[#\?@]/g,lr=/#/g;function Vi(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function jn(d){d.g||(d.g=new Map,d.h=0,d.i&&Yo(d.i,function(w,R){d.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}e=Vi.prototype,e.add=function(d,w){jn(this),this.i=null,d=kt(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(w),this.h+=1,this};function os(d,w){jn(d),w=kt(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ji(d,w){return jn(d),w=kt(d,w),d.g.has(w)}e.forEach=function(d,w){jn(this),this.g.forEach(function(R,O){R.forEach(function(Q){d.call(w,Q,O,this)},this)},this)},e.na=function(){jn(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let O=0;O<w.length;O++){const Q=d[O];for(let lt=0;lt<Q.length;lt++)R.push(w[O])}return R},e.V=function(d){jn(this);let w=[];if(typeof d=="string")ji(this,d)&&(w=w.concat(this.g.get(kt(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)w=w.concat(d[R])}return w},e.set=function(d,w){return jn(this),this.i=null,d=kt(this,d),ji(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},e.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function $o(d,w,R){os(d,w),0<R.length&&(d.i=null,d.g.set(kt(d,w),G(R)),d.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var O=w[R];const lt=encodeURIComponent(String(O)),xt=this.V(O);for(O=0;O<xt.length;O++){var Q=lt;xt[O]!==""&&(Q+="="+encodeURIComponent(String(xt[O]))),d.push(Q)}}return this.i=d.join("&")};function kt(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function li(d,w){w&&!d.j&&(jn(d),d.i=null,d.g.forEach(function(R,O){var Q=O.toLowerCase();O!=Q&&(os(this,O),$o(this,Q,R))},d)),d.j=w}function he(d,w){const R=new yi;if(p.Image){const O=new Image;O.onload=D(Yn,R,"TestLoadImage: loaded",!0,w,O),O.onerror=D(Yn,R,"TestLoadImage: error",!1,w,O),O.onabort=D(Yn,R,"TestLoadImage: abort",!1,w,O),O.ontimeout=D(Yn,R,"TestLoadImage: timeout",!1,w,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else w(!1)}function _i(d,w){const R=new yi,O=new AbortController,Q=setTimeout(()=>{O.abort(),Yn(R,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:O.signal}).then(lt=>{clearTimeout(Q),lt.ok?Yn(R,"TestPingServer: ok",!0,w):Yn(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),Yn(R,"TestPingServer: error",!1,w)})}function Yn(d,w,R,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(R)}catch{}}function Ns(){this.g=new Mi}function vi(d,w,R){const O=R||"";try{Wt(d,function(Q,lt){let xt=Q;_(Q)&&(xt=gi(Q)),w.push(O+lt+"="+encodeURIComponent(xt))})}catch(Q){throw w.push(O+"type="+encodeURIComponent("_badmap")),Q}}function Kn(d){this.l=d.Ub||null,this.j=d.eb||!1}k(Kn,Fo),Kn.prototype.g=function(){return new zi(this.l,this.j)},Kn.prototype.i=function(d){return function(){return d}}({});function zi(d,w){be.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(zi,be),e=zi.prototype,e.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,An(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||p).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ae(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Os(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Os(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Ae(this):An(this),this.readyState==3&&Os(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,Ae(this))},e.Qa=function(d){this.g&&(this.response=d,Ae(this))},e.ga=function(){this.g&&Ae(this)};function Ae(d){d.readyState=4,d.l=null,d.j=null,d.v=null,An(d)}e.setRequestHeader=function(d,w){this.u.append(d,w)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=w.next();return d.join(`\r
`)};function An(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Aa(d){let w="";return vt(d,function(R,O){w+=O,w+=":",w+=R,w+=`\r
`}),w}function sn(d,w,R){t:{for(O in R){var O=!1;break t}O=!0}O||(R=Aa(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):zt(d,w,R))}function ge(d){be.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ge,be);var Hr=/^https?$/i,ks=["POST","PUT"];e=ge.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,w,R,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Di.g(),this.v=this.o?Ho(this.o):Ho(Di),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(lt){Hl(this,lt);return}if(d=R||"",R=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)R.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const lt of O.keys())R.set(lt,O.get(lt));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(R.keys()).find(lt=>lt.toLowerCase()=="content-type"),Q=p.FormData&&d instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ks,w,void 0))||O||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[lt,xt]of R)this.g.setRequestHeader(lt,xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vn(this),this.u=!0,this.g.send(d),this.u=!1}catch(lt){Hl(this,lt)}};function Hl(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,qr(d),ls(d)}function qr(d){d.A||(d.A=!0,me(d,"complete"),me(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,me(this,"complete"),me(this,"abort"),ls(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),ge.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)};function Qt(d){if(d.h&&typeof f<"u"&&(!d.v[1]||Rn(d)!=4||d.Z()!=2)){if(d.u&&Rn(d)==4)wn(d.Ea,0,d);else if(me(d,"readystatechange"),Rn(d)==4){d.h=!1;try{const xt=d.Z();t:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var O;if(O=xt===0){var Q=String(d.D).match(Ee)[1]||null;!Q&&p.self&&p.self.location&&(Q=p.self.location.protocol.slice(0,-1)),O=!Hr.test(Q?Q.toLowerCase():"")}R=O}if(R)me(d,"complete"),me(d,"success");else{d.m=6;try{var lt=2<Rn(d)?d.g.statusText:""}catch{lt=""}d.l=lt+" ["+d.Z()+"]",qr(d)}}finally{ls(d)}}}}function ls(d,w){if(d.g){vn(d);const R=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||me(d,"ready");try{R.onreadystatechange=O}catch{}}}function vn(d){d.I&&(p.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function Rn(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),va(w)}};function Xo(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cc(d){const w={};d=(d.g&&2<=Rn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(st(d[O]))continue;var R=B(d[O]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const lt=w[Q]||[];w[Q]=lt,lt.push(R)}F(w,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(d,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||w}function Ra(d){this.Aa=0,this.i=[],this.j=new yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,d),this.cb=Vs("retryDelaySeedMs",1e4,d),this.Wa=Vs("forwardChannelMaxRetries",2,d),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ss(d&&d.concurrentRequestLimit),this.Da=new Ns,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ra.prototype,e.la=8,e.G=1,e.connect=function(d,w,R,O){De(0),this.W=d,this.H=w||{},R&&O!==void 0&&(this.H.OSID=R,this.H.OAID=O),this.F=this.X,this.I=Na(this,null,this.W),ur(this)};function Ca(d){if(ql(d),d.G==3){var w=d.U++,R=Ne(d.I);if(zt(R,"SID",d.K),zt(R,"RID",w),zt(R,"TYPE","terminate"),Gr(d,R),w=new xn(d,d.j,w),w.L=2,w.v=oi(Ne(R)),R=!1,p.navigator&&p.navigator.sendBeacon)try{R=p.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&p.Image&&(new Image().src=w.v,R=!0),R||(w.g=Wl(w.j,null),w.g.ea(w.v)),w.F=Date.now(),zr(w)}Gl(d)}function Ia(d){d.g&&(cr(d),d.g.cancel(),d.g=null)}function ql(d){Ia(d),d.u&&(p.clearTimeout(d.u),d.u=null),La(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&p.clearTimeout(d.s),d.s=null)}function ur(d){if(!Ur(d.h)&&!d.s){d.s=!0;var w=d.Ga;pt||j(),dt||(pt(),dt=!0),Zt.add(w,d),d.B=0}}function hc(d,w){return rs(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=$e(x(d.Ga,d,w),Da(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new xn(this,this.j,d);let lt=this.o;if(this.S&&(lt?(lt=P(lt),U(lt,this.S)):lt=this.S),this.m!==null||this.O||(Q.H=lt,lt=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var O=this.i[R];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=Qo(this,Q,w),R=Ne(this.I),zt(R,"RID",d),zt(R,"CVER",22),this.D&&zt(R,"X-HTTP-Session-Id",this.D),Gr(this,R),lt&&(this.O?w="headers="+encodeURIComponent(String(Aa(lt)))+"&"+w:this.m&&sn(R,this.m,lt)),_e(this.h,Q),this.Ua&&zt(R,"TYPE","init"),this.P?(zt(R,"$req",w),zt(R,"SID","null"),Q.T=!0,Ni(Q,R,null)):Ni(Q,R,w),this.G=2}}else this.G==3&&(d?$n(this,d):this.i.length==0||Ur(this.h)||$n(this))};function $n(d,w){var R;w?R=w.l:R=d.U++;const O=Ne(d.I);zt(O,"SID",d.K),zt(O,"RID",R),zt(O,"AID",d.T),Gr(d,O),d.m&&d.o&&sn(O,d.m,d.o),R=new xn(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),w&&(d.i=w.D.concat(d.i)),w=Qo(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),_e(d.h,R),Ni(R,O,w)}function Gr(d,w){d.H&&vt(d.H,function(R,O){zt(w,O,R)}),d.l&&Wt({},function(R,O){zt(w,O,R)})}function Qo(d,w,R){R=Math.min(d.i.length,R);var O=d.l?x(d.l.Na,d.l,d):null;t:{var Q=d.i;let lt=-1;for(;;){const xt=["count="+R];lt==-1?0<R?(lt=Q[0].g,xt.push("ofs="+lt)):lt=0:xt.push("ofs="+lt);let ae=!0;for(let Xe=0;Xe<R;Xe++){let oe=Q[Xe].g;const ve=Q[Xe].map;if(oe-=lt,0>oe)lt=Math.max(0,Q[Xe].g-100),ae=!1;else try{vi(ve,xt,"req"+oe+"_")}catch{O&&O(ve)}}if(ae){O=xt.join("&");break t}}}return d=d.i.splice(0,R),w.D=d,O}function Ui(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;pt||j(),dt||(pt(),dt=!0),Zt.add(w,d),d.v=0}}function Pa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=$e(x(d.Fa,d),Da(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=$e(x(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Ia(this),Ma(this))};function cr(d){d.A!=null&&(p.clearTimeout(d.A),d.A=null)}function Ma(d){d.g=new xn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Ne(d.qa);zt(w,"RID","rpc"),zt(w,"SID",d.K),zt(w,"AID",d.T),zt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&zt(w,"TO",d.ja),zt(w,"TYPE","xmlhttp"),Gr(d,w),d.m&&d.o&&sn(w,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=oi(Ne(w)),R.m=null,R.P=!0,ns(R,d)}e.Za=function(){this.C!=null&&(this.C=null,Ia(this),Pa(this),De(19))};function La(d){d.C!=null&&(p.clearTimeout(d.C),d.C=null)}function Jo(d,w){var R=null;if(d.g==w){La(d),cr(d),d.g=null;var O=2}else if(ne(d.h,w))R=w.D,cn(d.h,w),O=1;else return;if(d.G!=0){if(w.o)if(O==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var Q=d.B;O=er(),me(O,new nn(O,R)),ur(d)}else Ui(d);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(O==1&&hc(d,w)||O==2&&Pa(d)))switch(R&&0<R.length&&(w=d.h,w.i=w.i.concat(R)),Q){case 1:js(d,5);break;case 4:js(d,10);break;case 3:js(d,6);break;default:js(d,2)}}}function Da(d,w){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*w}function js(d,w){if(d.j.info("Error code "+w),w==2){var R=x(d.fb,d),O=d.Xa;const Q=!O;O=new ze(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Br(O,"https"),oi(O),Q?he(O.toString(),R):_i(O.toString(),R)}else De(2);d.G=0,d.l&&d.l.sa(w),Gl(d),ql(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Gl(d){if(d.G=0,d.ka=[],d.l){const w=as(d.h);(w.length!=0||d.i.length!=0)&&(Z(d.ka,w),Z(d.ka,d.i),d.h.i.length=0,G(d.i),d.i.length=0),d.l.ra()}}function Na(d,w,R){var O=R instanceof ze?Ne(R):new ze(R);if(O.g!="")w&&(O.g=w+"."+O.g),Oi(O,O.s);else{var Q=p.location;O=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var lt=new ze(null);O&&Br(lt,O),w&&(lt.g=w),Q&&Oi(lt,Q),R&&(lt.l=R),O=lt}return R=d.D,w=d.ya,R&&w&&zt(O,R,w),zt(O,"VER",d.la),Gr(d,O),O}function Wl(d,w,R){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new ge(new Kn({eb:R})):new ge(d.pa),w.Ha(d.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function tl(){}e=tl.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Wr(){}Wr.prototype.g=function(d,w){return new hn(d,w)};function hn(d,w){be.call(this),this.g=new Ra(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!st(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!st(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Xn(this)}k(hn,be),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ca(this.g)},hn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=gi(d),d=R);w.i.push(new rr(w.Ya++,d)),w.G==3&&ur(w)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ca(this.g),delete this.g,hn.aa.N.call(this)};function us(d){ts.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const R in w){d=R;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}k(us,ts);function Zl(){qo.call(this),this.status=1}k(Zl,qo);function Xn(d){this.g=d}k(Xn,tl),Xn.prototype.ua=function(){me(this.g,"a")},Xn.prototype.ta=function(d){me(this.g,new us(d))},Xn.prototype.sa=function(d){me(this.g,new Zl)},Xn.prototype.ra=function(){me(this.g,"b")},Wr.prototype.createWebChannel=Wr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,z1=function(){return new Wr},j1=function(){return er()},V1=es,ky={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,zd=Ms,Li.COMPLETE="complete",k1=Li,Ta.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",be.prototype.listen=be.prototype.K,ah=Ta,ge.prototype.listenOnce=ge.prototype.L,ge.prototype.getLastError=ge.prototype.Ka,ge.prototype.getLastErrorCode=ge.prototype.Ba,ge.prototype.getStatus=ge.prototype.Z,ge.prototype.getResponseJson=ge.prototype.Oa,ge.prototype.getResponseText=ge.prototype.oa,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Ha,O1=ge}).apply(typeof Td<"u"?Td:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",QE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new N_("@firebase/firestore");function Su(){return kl.logLevel}function Ct(e,...t){if(kl.logLevel<=le.DEBUG){const n=t.map(Z_);kl.debug(`Firestore (${ec}): ${e}`,...n)}}function ga(e,...t){if(kl.logLevel<=le.ERROR){const n=t.map(Z_);kl.error(`Firestore (${ec}): ${e}`,...n)}}function Bu(e,...t){if(kl.logLevel<=le.WARN){const n=t.map(Z_);kl.warn(`Firestore (${ec}): ${e}`,...n)}}function Z_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,U1(e,s,n)}function U1(e,t,n){let s=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ga(s),new Error(s)}function Te(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||U1(t,o,s)}function Xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ei.UNAUTHENTICATED))}shutdown(){}}class uO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cO{constructor(t){this.t=t,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Te(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new bo,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},p=y=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new bo)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Te(typeof s.accessToken=="string",31837,{l:s}),new B1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string",2055,{h:t}),new ei(t)}}class hO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new hO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Te(this.o===void 0,3512);const s=u=>{u.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function ue(e,t){return e<t?-1:e>t?1:0}function Vy(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return ny(o)===ny(u)?ue(o,u):ny(o)?1:-1}return ue(e.length,t.length)}const mO=55296,gO=57343;function ny(e){const t=e.charCodeAt(0);return t>=mO&&t<=gO}function Fu(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="__name__";class vr{constructor(t,n,s){n===void 0?n=0:n>t.length&&Bt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Bt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return vr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof vr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=vr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return ue(t.length,n.length)}static compareSegments(t,n){const s=vr.isNumericId(t),o=vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?vr.extractNumericId(t).compare(vr.extractNumericId(n)):Vy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return To.fromString(t.substring(4,t.length-2))}}class je extends vr{construct(t,n,s){return new je(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new At(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new je(n)}static emptyPath(){return new je([])}}const yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends vr{construct(t,n,s){return new Hn(t,n,s)}static isValidIdentifier(t){return yO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tw}static keyField(){return new Hn([tw])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new At(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new At(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new At(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new At(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hn(n)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(je.fromString(t))}static fromName(t){return new Ot(je.fromString(t).popFirst(5))}static empty(){return new Ot(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return je.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new je(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e,t,n){if(!n)throw new At(ht.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _O(e,t,n,s){if(t===!0&&s===!0)throw new At(ht.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ew(e){if(!Ot.isDocumentKey(e))throw new At(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nw(e){if(Ot.isDocumentKey(e))throw new At(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function H1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Dp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Bt(12329,{type:typeof e})}function Es(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new At(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dp(e);throw new At(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e,t){const n={typeString:e};return t&&(n.value=t),n}function nf(e,t){if(!H1(e))throw new At(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const f=e[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new At(ht.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=-62135596800,sw=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(t){return Ue.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*sw);return new Ue(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<iw)throw new At(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sw}_compareTo(t){return this.seconds===t.seconds?ue(this.nanoseconds,t.nanoseconds):ue(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nf(t,Ue._jsonSchema))return new Ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:yn("string",Ue._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(t){return new Yt(t)}static min(){return new Yt(new Ue(0,0))}static max(){return new Yt(new Ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=-1;function vO(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=Yt.fromTimestamp(s===1e9?new Ue(n+1,0):new Ue(n,s));return new So(o,Ot.empty(),t)}function TO(e){return new So(e.readTime,e.key,Ph)}class So{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new So(Yt.min(),Ot.empty(),Ph)}static max(){return new So(Yt.max(),Ot.empty(),Ph)}}function bO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(e.documentKey,t.documentKey),n!==0?n:ue(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(e){if(e.code!==ht.FAILED_PRECONDITION||e.message!==EO)throw e;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new gt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof gt?n:gt.resolve(n)}catch(n){return gt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.reject(n)}static resolve(t){return new gt((n,s)=>{n(t)})}static reject(t){return new gt((n,s)=>{s(t)})}static waitFor(t){return new gt((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(t){let n=gt.resolve(!1);for(const s of t)n=n.next(o=>o?gt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new gt((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next(E=>{f[_]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new gt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function xO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Np.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-1;function Op(e){return e==null}function lp(e){return e===0&&1/e==-1/0}function SO(e){return typeof e=="number"&&Number.isInteger(e)&&!lp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="";function AO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rw(t)),t=RO(e.get(n),t);return rw(t)}function RO(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case q1:n+="";break;default:n+=u}}return n}function rw(e){return e+q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function G1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n){this.comparator=t,this.root=n||Fn.EMPTY}insert(t,n){return new Ye(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(t){return new Ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bd(this.root,t,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bd(this.root,t,this.comparator,!0)}}class bd{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Fn.RED,this.left=o??Fn.EMPTY,this.right=u??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Fn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Fn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bt(27949);return t+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Fn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.comparator=t,this.data=new Ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(t){return new ow(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof En)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new En(this.comparator);return n.data=t,n}}class ow{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.fields=t,t.sort(Hn.comparator)}static empty(){return new $i([])}unionWith(t){let n=new En(Hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $i(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fu(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new W1("Invalid base64 string: "+u):u}}(t);return new qn(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ue(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const CO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(e){if(Te(!!e,39018),typeof e=="string"){let t=0;const n=CO.exec(e);if(Te(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ln(e.seconds),nanos:ln(e.nanos)}}function ln(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ro(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="server_timestamp",Y1="__type__",K1="__previous_value__",$1="__local_write_time__";function $_(e){return(e?.mapValue?.fields||{})[Y1]?.stringValue===Z1}function kp(e){const t=e.mapValue.fields[K1];return $_(t)?kp(t):t}function Mh(e){const t=Ao(e.mapValue.fields[$1].timestampValue);return new Ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,n,s,o,u,f,p,y,_,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Lh="(default)";class Dh{constructor(t,n){this.projectId=t,this.database=n||Lh}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(t){return t instanceof Dh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="__type__",PO="__max__",Ed={mapValue:{}},Q1="__vector__",up="value";function Co(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$_(e)?4:LO(e)?9007199254740991:MO(e)?10:11:Bt(28295,{value:e})}function Pr(e,t){if(e===t)return!0;const n=Co(e);if(n!==Co(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mh(e).isEqual(Mh(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ao(o.timestampValue),p=Ao(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return Ro(o.bytesValue).isEqual(Ro(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return ln(o.geoPointValue.latitude)===ln(u.geoPointValue.latitude)&&ln(o.geoPointValue.longitude)===ln(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ln(o.integerValue)===ln(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ln(o.doubleValue),p=ln(u.doubleValue);return f===p?lp(f)===lp(p):isNaN(f)&&isNaN(p)}return!1}(e,t);case 9:return Fu(e.arrayValue.values||[],t.arrayValue.values||[],Pr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(aw(f)!==aw(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!Pr(f[y],p[y])))return!1;return!0}(e,t);default:return Bt(52216,{left:e})}}function Nh(e,t){return(e.values||[]).find(n=>Pr(n,t))!==void 0}function Hu(e,t){if(e===t)return 0;const n=Co(e),s=Co(t);if(n!==s)return ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(e.booleanValue,t.booleanValue);case 2:return function(u,f){const p=ln(u.integerValue||u.doubleValue),y=ln(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(e,t);case 3:return lw(e.timestampValue,t.timestampValue);case 4:return lw(Mh(e),Mh(t));case 5:return Vy(e.stringValue,t.stringValue);case 6:return function(u,f){const p=Ro(u),y=Ro(f);return p.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),y=f.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=ue(p[_],y[_]);if(E!==0)return E}return ue(p.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const p=ue(ln(u.latitude),ln(f.latitude));return p!==0?p:ue(ln(u.longitude),ln(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return uw(e.arrayValue,t.arrayValue);case 10:return function(u,f){const p=u.fields||{},y=f.fields||{},_=p[up]?.arrayValue,E=y[up]?.arrayValue,A=ue(_?.values?.length||0,E?.values?.length||0);return A!==0?A:uw(_,E)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===Ed.mapValue&&f===Ed.mapValue)return 0;if(u===Ed.mapValue)return 1;if(f===Ed.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),_=f.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const x=Vy(y[A],E[A]);if(x!==0)return x;const D=Hu(p[y[A]],_[E[A]]);if(D!==0)return D}return ue(y.length,E.length)}(e.mapValue,t.mapValue);default:throw Bt(23264,{he:n})}}function lw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ue(e,t);const n=Ao(e),s=Ao(t),o=ue(n.seconds,s.seconds);return o!==0?o:ue(n.nanos,s.nanos)}function uw(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Hu(n[o],s[o]);if(u)return u}return ue(n.length,s.length)}function qu(e){return jy(e)}function jy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=Ao(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ro(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=jy(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${jy(n.fields[f])}`;return o+"}"}(e.mapValue):Bt(61005,{value:e})}function Ud(e){switch(Co(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kp(e);return t?16+Ud(t):16;case 5:return 2*e.stringValue.length;case 6:return Ro(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ud(u),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return Vo(s.fields,(u,f)=>{o+=u.length+Ud(f)}),o}(e.mapValue);default:throw Bt(13486,{value:e})}}function cw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function zy(e){return!!e&&"integerValue"in e}function X_(e){return!!e&&"arrayValue"in e}function hw(e){return!!e&&"nullValue"in e}function fw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bd(e){return!!e&&"mapValue"in e}function MO(e){return(e?.mapValue?.fields||{})[X1]?.stringValue===Q1}function gh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Vo(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=gh(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gh(e.arrayValue.values[n]);return t}return{...e}}function LO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===PO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.value=t}static empty(){return new Ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Bd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gh(n)}setAll(t){let n=Hn.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=gh(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Bd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Vo(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Ai(gh(this.value))}}function J1(e){const t=[];return Vo(e.fields,(n,s)=>{const o=new Hn([n]);if(Bd(s)){const u=J1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new $i(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new ni(t,0,Yt.min(),Yt.min(),Yt.min(),Ai.empty(),0)}static newFoundDocument(t,n,s,o){return new ni(t,1,n,Yt.min(),s,o,0)}static newNoDocument(t,n){return new ni(t,2,n,Yt.min(),Yt.min(),Ai.empty(),0)}static newUnknownDocument(t,n){return new ni(t,3,n,Yt.min(),Yt.min(),Ai.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n){this.position=t,this.inclusive=n}}function dw(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?s=Ot.comparator(Ot.fromName(f.referenceValue),n.key):s=Hu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function pw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n="asc"){this.field=t,this.dir=n}}function DO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{}class gn extends tA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new OO(t,n,s):n==="array-contains"?new jO(t,s):n==="in"?new zO(t,s):n==="not-in"?new UO(t,s):n==="array-contains-any"?new BO(t,s):new gn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new kO(t,s):new VO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hu(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(Hu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends tA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new $s(t,n)}matches(t){return eA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eA(e){return e.op==="and"}function nA(e){return NO(e)&&eA(e)}function NO(e){for(const t of e.filters)if(t instanceof $s)return!1;return!0}function Uy(e){if(e instanceof gn)return e.field.canonicalString()+e.op.toString()+qu(e.value);if(nA(e))return e.filters.map(t=>Uy(t)).join(",");{const t=e.filters.map(n=>Uy(n)).join(",");return`${e.op}(${t})`}}function iA(e,t){return e instanceof gn?function(s,o){return o instanceof gn&&s.op===o.op&&s.field.isEqual(o.field)&&Pr(s.value,o.value)}(e,t):e instanceof $s?function(s,o){return o instanceof $s&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&iA(f,o.filters[p]),!0):!1}(e,t):void Bt(19439)}function sA(e){return e instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${qu(n.value)}`}(e):e instanceof $s?function(n){return n.op.toString()+" {"+n.getFilters().map(sA).join(" ,")+"}"}(e):"Filter"}class OO extends gn{constructor(t,n,s){super(t,n,s),this.key=Ot.fromName(s.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class kO extends gn{constructor(t,n){super(t,"in",n),this.keys=rA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VO extends gn{constructor(t,n){super(t,"not-in",n),this.keys=rA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function rA(e,t){return(t.arrayValue?.values||[]).map(n=>Ot.fromName(n.referenceValue))}class jO extends gn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return X_(n)&&Nh(n.arrayValue,this.value)}}class zO extends gn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class UO extends gn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class BO extends gn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!X_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Nh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function mw(e,t=null,n=[],s=[],o=null,u=null,f=null){return new FO(e,t,n,s,o,u,f)}function Q_(e){const t=Xt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Uy(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Op(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>qu(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>qu(s)).join(",")),t.Te=n}return t.Te}function J_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!DO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pw(e.startAt,t.startAt)&&pw(e.endAt,t.endAt)}function By(e){return Ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HO(e,t,n,s,o,u,f,p){return new sc(e,t,n,s,o,u,f,p)}function Vp(e){return new sc(e)}function gw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function aA(e){return e.collectionGroup!==null}function yh(e){const t=Xt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new En(Hn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Oh(u,s))}),n.has(Hn.keyField().canonicalString())||t.Ie.push(new Oh(Hn.keyField(),s))}return t.Ie}function wr(e){const t=Xt(e);return t.Ee||(t.Ee=qO(t,yh(e))),t.Ee}function qO(e,t){if(e.limitType==="F")return mw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)});const n=e.endAt?new cp(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new cp(e.startAt.position,e.startAt.inclusive):null;return mw(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Fy(e,t){const n=e.filters.concat([t]);return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hp(e,t,n){return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jp(e,t){return J_(wr(e),wr(t))&&e.limitType===t.limitType}function oA(e){return`${Q_(wr(e))}|lt:${e.limitType}`}function Au(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>sA(o)).join(", ")}]`),Op(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>qu(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>qu(o)).join(",")),`Target(${s})`}(wr(e))}; limitType=${e.limitType})`}function zp(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ot.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of yh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(f,p,y){const _=dw(f,p,y);return f.inclusive?_<=0:_<0}(s.startAt,yh(s),o)||s.endAt&&!function(f,p,y){const _=dw(f,p,y);return f.inclusive?_>=0:_>0}(s.endAt,yh(s),o))}(e,t)}function GO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lA(e){return(t,n)=>{let s=!1;for(const o of yh(e)){const u=WO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WO(e,t,n){const s=e.field.isKeyField()?Ot.comparator(t.key,n.key):function(u,f,p){const y=f.data.field(u),_=p.data.field(u);return y!==null&&_!==null?Hu(y,_):Bt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Bt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Vo(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return G1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Ye(Ot.comparator);function ya(){return ZO}const uA=new Ye(Ot.comparator);function oh(...e){let t=uA;for(const n of e)t=t.insert(n.key,n);return t}function cA(e){let t=uA;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Sl(){return _h()}function hA(){return _h()}function _h(){return new jl(e=>e.toString(),(e,t)=>e.isEqual(t))}const YO=new Ye(Ot.comparator),KO=new En(Ot.comparator);function ce(...e){let t=KO;for(const n of e)t=t.add(n);return t}const $O=new En(ue);function XO(){return $O}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(t)?"-0":t}}function fA(e){return{integerValue:""+e}}function QO(e,t){return SO(t)?fA(t):tv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this._=void 0}}function JO(e,t,n){return e instanceof kh?function(o,u){const f={fields:{[Y1]:{stringValue:Z1},[$1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$_(u)&&(u=kp(u)),u&&(f.fields[K1]=u),{mapValue:f}}(n,t):e instanceof Vh?pA(e,t):e instanceof jh?mA(e,t):function(o,u){const f=dA(o,u),p=yw(f)+yw(o.Ae);return zy(f)&&zy(o.Ae)?fA(p):tv(o.serializer,p)}(e,t)}function tk(e,t,n){return e instanceof Vh?pA(e,t):e instanceof jh?mA(e,t):n}function dA(e,t){return e instanceof fp?function(s){return zy(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class kh extends Up{}class Vh extends Up{constructor(t){super(),this.elements=t}}function pA(e,t){const n=gA(t);for(const s of e.elements)n.some(o=>Pr(o,s))||n.push(s);return{arrayValue:{values:n}}}class jh extends Up{constructor(t){super(),this.elements=t}}function mA(e,t){let n=gA(t);for(const s of e.elements)n=n.filter(o=>!Pr(o,s));return{arrayValue:{values:n}}}class fp extends Up{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function yw(e){return ln(e.integerValue||e.doubleValue)}function gA(e){return X_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,n){this.field=t,this.transform=n}}function nk(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Vh&&o instanceof Vh||s instanceof jh&&o instanceof jh?Fu(s.elements,o.elements,Pr):s instanceof fp&&o instanceof fp?Pr(s.Ae,o.Ae):s instanceof kh&&o instanceof kh}(e.transform,t.transform)}class ik{constructor(t,n){this.version=t,this.transformResults=n}}class ws{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ws}static exists(t){return new ws(void 0,t)}static updateTime(t){return new ws(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Bp{}function yA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ev(e.key,ws.none()):new sf(e.key,e.data,ws.none());{const n=e.data,s=Ai.empty();let o=new En(Hn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new jo(e.key,s,new $i(o.toArray()),ws.none())}}function sk(e,t,n){e instanceof sf?function(o,u,f){const p=o.value.clone(),y=vw(o.fieldTransforms,u,f.transformResults);p.setAll(y),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(e,t,n):e instanceof jo?function(o,u,f){if(!Fd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=vw(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(_A(o)),y.setAll(p),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(e,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function vh(e,t,n,s){return e instanceof sf?function(u,f,p,y){if(!Fd(u.precondition,f))return p;const _=u.value.clone(),E=Tw(u.fieldTransforms,y,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(e,t,n,s):e instanceof jo?function(u,f,p,y){if(!Fd(u.precondition,f))return p;const _=Tw(u.fieldTransforms,y,f),E=f.data;return E.setAll(_A(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(e,t,n,s):function(u,f,p){return Fd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(e,t,n)}function rk(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=dA(s.transform,o||null);u!=null&&(n===null&&(n=Ai.empty()),n.set(s.field,u))}return n||null}function _w(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fu(s,o,(u,f)=>nk(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sf extends Bp{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jo extends Bp{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _A(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function vw(e,t,n){const s=new Map;Te(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,tk(f,p,n[o]))}return s}function Tw(e,t,n){const s=new Map;for(const o of e){const u=o.transform,f=n.data.field(o.field);s.set(o.field,JO(u,f,t))}return s}class ev extends Bp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ak extends Bp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&sk(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vh(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vh(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=hA();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const y=yA(f,p);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Yt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ce())}isEqual(t){return this.batchId===t.batchId&&Fu(this.mutations,t.mutations,(n,s)=>_w(n,s))&&Fu(this.baseMutations,t.baseMutations,(n,s)=>_w(n,s))}}class nv{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Te(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return YO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new nv(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,de;function ck(e){switch(e){case ht.OK:return Bt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Bt(15467,{code:e})}}function vA(e){if(e===void 0)return ga("GRPC error has no .code"),ht.UNKNOWN;switch(e){case pn.OK:return ht.OK;case pn.CANCELLED:return ht.CANCELLED;case pn.UNKNOWN:return ht.UNKNOWN;case pn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case pn.INTERNAL:return ht.INTERNAL;case pn.UNAVAILABLE:return ht.UNAVAILABLE;case pn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case pn.NOT_FOUND:return ht.NOT_FOUND;case pn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case pn.ABORTED:return ht.ABORTED;case pn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case pn.DATA_LOSS:return ht.DATA_LOSS;default:return Bt(39323,{code:e})}}(de=pn||(pn={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new To([4294967295,4294967295],0);function bw(e){const t=hk().encode(e),n=new N1;return n.update(t),new Uint8Array(n.digest())}function Ew(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new To([n,s],0),new To([o,u],0)]}class iv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(s<0)throw new lh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=To.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(To.fromNumber(s)));return o.compare(fk)===1&&(o=new To([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=bw(t),[s,o]=Ew(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new iv(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.ge===0)return;const n=bw(t),[s,o]=Ew(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,rf.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Fp(Yt.min(),o,new Ye(ue),ya(),ce())}}class rf{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new rf(s,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class TA{constructor(t,n){this.targetId=t,this.Ce=n}}class bA{constructor(t,n,s=qn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class ww{constructor(){this.ve=0,this.Fe=xw(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ce(),n=ce(),s=ce();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Bt(38017,{changeType:u})}}),new rf(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=xw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dk{constructor(t){this.Ge=t,this.ze=new Map,this.je=ya(),this.Je=wd(),this.He=wd(),this.Ye=new Ye(ue)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Bt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(By(u))if(s===0){const f=new Ot(u.path);this.et(n,f,ni.newNoDocument(f,Yt.min()))}else Te(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),y=p?this.ct(p,t,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Ro(s).toUint8Array()}catch(y){if(y instanceof W1)return Bu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new iv(f,o,u)}catch(y){return Bu(y instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&By(p.target)){const y=new Ot(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,ni.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=ce();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Fp(t,n,this.Ye,this.je,s);return this.je=ya(),this.Je=wd(),this.He=wd(),this.Ye=new Ye(ue),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new ww,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new En(ue),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new En(ue),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ww),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function wd(){return new Ye(Ot.comparator)}function xw(){return new Ye(Ot.comparator)}const pk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk={and:"AND",or:"OR"};class yk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hy(e,t){return e.useProto3Json||Op(t)?t:{value:t}}function dp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _k(e,t){return dp(e,t.toTimestamp())}function xr(e){return Te(!!e,49232),Yt.fromTimestamp(function(n){const s=Ao(n);return new Ue(s.seconds,s.nanos)}(e))}function sv(e,t){return qy(e,t).canonicalString()}function qy(e,t){const n=function(o){return new je(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function wA(e){const t=je.fromString(e);return Te(CA(t),10190,{key:t.toString()}),t}function Gy(e,t){return sv(e.databaseId,t.path)}function iy(e,t){const n=wA(t);if(n.get(1)!==e.databaseId.projectId)throw new At(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new At(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ot(SA(n))}function xA(e,t){return sv(e.databaseId,t)}function vk(e){const t=wA(e);return t.length===4?je.emptyPath():SA(t)}function Wy(e){return new je(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function SA(e){return Te(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Sw(e,t,n){return{name:Gy(e,t),fields:n.value.mapValue.fields}}function Tk(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Bt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(Te(E===void 0||typeof E=="string",58123),qn.fromBase64String(E||"")):(Te(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qn.fromUint8Array(E||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(_){const E=_.code===void 0?ht.UNKNOWN:vA(_.code);return new At(E,_.message||"")}(f);n=new bA(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=iy(e,s.document.name),u=xr(s.document.updateTime),f=s.document.createTime?xr(s.document.createTime):Yt.min(),p=new Ai({mapValue:{fields:s.document.fields}}),y=ni.newFoundDocument(o,u,f,p),_=s.targetIds||[],E=s.removedTargetIds||[];n=new Hd(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=iy(e,s.document),u=s.readTime?xr(s.readTime):Yt.min(),f=ni.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Hd([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=iy(e,s.document),u=s.removedTargetIds||[];n=new Hd([],u,o,null)}else{if(!("filter"in t))return Bt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new uk(o,u),p=s.targetId;n=new TA(p,f)}}return n}function bk(e,t){let n;if(t instanceof sf)n={update:Sw(e,t.key,t.value)};else if(t instanceof ev)n={delete:Gy(e,t.key)};else if(t instanceof jo)n={update:Sw(e,t.key,t.data),updateMask:Pk(t.fieldMask)};else{if(!(t instanceof ak))return Bt(16599,{Vt:t.type});n={verify:Gy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof kh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fp)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Bt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:_k(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Bt(27497)}(e,t.precondition)),n}function Ek(e,t){return e&&e.length>0?(Te(t!==void 0,14353),e.map(n=>function(o,u){let f=o.updateTime?xr(o.updateTime):xr(u);return f.isEqual(Yt.min())&&(f=xr(u)),new ik(f,o.transformResults||[])}(n,t))):[]}function wk(e,t){return{documents:[xA(e,t.path)]}}function xk(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=xA(e,o);const u=function(_){if(_.length!==0)return RA($s.create(_,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(x){return{field:Ru(x.field),direction:Rk(x.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Hy(e,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:o}}function Sk(e){let t=vk(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Te(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const x=AA(A);return x instanceof $s&&nA(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(x=>function(k){return new Oh(Cu(k.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(x))}(n.orderBy));let p=null;n.limit&&(p=function(A){let x;return x=typeof A=="object"?A.value:A,Op(x)?null:x}(n.limit));let y=null;n.startAt&&(y=function(A){const x=!!A.before,D=A.values||[];return new cp(D,x)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const x=!A.before,D=A.values||[];return new cp(D,x)}(n.endAt)),HO(t,o,f,u,p,"F",y,_)}function Ak(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function AA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Cu(n.unaryFilter.field);return gn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Cu(n.unaryFilter.field);return gn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Cu(n.unaryFilter.field);return gn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Cu(n.unaryFilter.field);return gn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}}(e):e.fieldFilter!==void 0?function(n){return gn.create(Cu(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return $s.create(n.compositeFilter.filters.map(s=>AA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}}(n.compositeFilter.op))}(e):Bt(30097,{filter:e})}function Rk(e){return pk[e]}function Ck(e){return mk[e]}function Ik(e){return gk[e]}function Ru(e){return{fieldPath:e.canonicalString()}}function Cu(e){return Hn.fromServerFormat(e.fieldPath)}function RA(e){return e instanceof gn?function(n){if(n.op==="=="){if(fw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(hw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(hw(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:Ck(n.op),value:n.value}}}(e):e instanceof $s?function(n){const s=n.getFilters().map(o=>RA(o));return s.length===1?s[0]:{compositeFilter:{op:Ik(n.op),filters:s}}}(e):Bt(54877,{filter:e})}function Pk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function CA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n,s,o,u=Yt.min(),f=Yt.min(),p=qn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new yo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t){this.yt=t}}function Lk(e){const t=Sk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.Cn=new Nk}addToCollectionParentIndex(t,n){return this.Cn.add(n),gt.resolve()}getCollectionParents(t,n){return gt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return gt.resolve()}deleteFieldIndex(t,n){return gt.resolve()}deleteAllFieldIndexes(t){return gt.resolve()}createTargetIndexes(t,n){return gt.resolve()}getDocumentsMatchingTarget(t,n){return gt.resolve(null)}getIndexType(t,n){return gt.resolve(0)}getFieldIndexes(t,n){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,n){return gt.resolve(So.min())}getMinOffsetFromCollectionGroup(t,n){return gt.resolve(So.min())}updateCollectionGroup(t,n,s){return gt.resolve()}updateIndexEntries(t,n){return gt.resolve()}}class Nk{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new En(je.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new En(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IA=41943040;class xi{static withCacheSize(t){return new xi(t,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi.DEFAULT_COLLECTION_PERCENTILE=10,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xi.DEFAULT=new xi(IA,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xi.DISABLED=new xi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Gu(0)}static cr(){return new Gu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="LruGarbageCollector",PA=1048576;function Cw([e,t],[n,s]){const o=ue(e,n);return o===0?ue(t,s):o}class Ok{constructor(t){this.Ir=t,this.buffer=new En(Cw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Cw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kk{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ct(Rw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?Ct(Rw,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Vr(3e5)})}}class Vk{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return gt.resolve(Np.ce);const s=new Ok(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(Aw)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Aw):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,p=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(_=Date.now(),Su()<=le.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function jk(e,t){return new Vk(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changes=new jl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ni.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?gt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&vh(s.mutation,o,$i.empty(),Ue.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,ce()).next(()=>s))}getLocalViewOfDocuments(t,n,s=ce()){const o=Sl();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=oh();return u.forEach((p,y)=>{f=f.insert(p,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Sl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,ce()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=ya();const f=_h(),p=function(){return _h()}();return n.forEach((y,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof jo)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),vh(E.mutation,_,E.mutation.getFieldMask(),Ue.now())):f.set(_.key,$i.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>p.set(_,new Uk(E,f.get(_)??null))),p))}recalculateAndSaveOverlays(t,n){const s=_h();let o=new Ye((f,p)=>f-p),u=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let E=s.get(y)||$i.empty();E=p.applyToLocalView(_,E),s.set(y,E);const A=(o.get(p.batchId)||ce()).add(y);o=o.insert(p.batchId,A)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=hA();E.forEach(x=>{if(!u.has(x)){const D=yA(n.get(x),s.get(x));D!==null&&A.set(x,D),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,A))}return gt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return Ot.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):gt.resolve(Sl());let p=Ph,y=u;return f.next(_=>gt.forEach(_,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?gt.resolve():this.remoteDocumentCache.getEntry(t,E).next(x=>{y=y.insert(E,x)}))).next(()=>this.populateOverlays(t,_,u)).next(()=>this.computeViews(t,y,_,ce())).next(E=>({batchId:p,changes:cA(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(s=>{let o=oh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=oh();return this.indexManager.getCollectionParents(t,u).next(p=>gt.forEach(p,y=>{const _=function(A,x){return new sc(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(E=>{E.forEach((A,x)=>{f=f.insert(A,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((y,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,ni.newInvalidDocument(E)))});let p=oh();return f.forEach((y,_)=>{const E=u.get(y);E!==void 0&&vh(E.mutation,_,$i.empty(),Ue.now()),zp(n,_)&&(p=p.insert(y,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return gt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(n)),gt.resolve()}getNamedQuery(t,n){return gt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:Lk(o.bundledQuery),readTime:xr(o.readTime)}}(n)),gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.overlays=new Ye(Ot.comparator),this.qr=new Map}getOverlay(t,n){return gt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Sl();return gt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),gt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),gt.resolve()}getOverlaysForCollection(t,n,s){const o=Sl(),u=n.length+1,f=new Ot(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return gt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Ye((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Sl(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Sl(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,E)=>p.set(_,E)),!(p.size()>=o)););return gt.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new lk(n,s));let u=this.qr.get(n);u===void 0&&(u=ce(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(t){return gt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Qr=new En(Dn.$r),this.Ur=new En(Dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Dn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Dn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Ot(new je([])),s=new Dn(n,t),o=new Dn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ot(new je([])),s=new Dn(n,t),o=new Dn(n,t+1);let u=ce();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Dn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Dn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ot.comparator(t.key,n.key)||ue(t.Yr,n.Yr)}static Kr(t,n){return ue(t.Yr,n.Yr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new En(Dn.$r)}checkEmpty(t){return gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ok(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Dn(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return gt.resolve(f)}lookupMutationBatch(t,n){return gt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return gt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(this.mutationQueue.length===0?K_:this.tr-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Dn(n,0),o=new Dn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),gt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new En(ue);return n.forEach(o=>{const u=new Dn(o,0),f=new Dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),gt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Ot.isDocumentKey(u)||(u=u.child(""));const f=new Dn(new Ot(u),0);let p=new En(ue);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)},f),gt.resolve(this.ti(p))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return gt.forEach(n.mutations,o=>{const u=new Dn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Dn(n,0),o=this.Zr.firstAfterOrEqual(s);return gt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,gt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t){this.ri=t,this.docs=function(){return new Ye(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return gt.resolve(s?s.document.mutableCopy():ni.newInvalidDocument(n))}getEntries(t,n){let s=ya();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ni.newInvalidDocument(o))}),gt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ya();const f=n.path,p=new Ot(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||bO(TO(E),s)<=0||(o.has(E.key)||zp(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return gt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Bt(9500)}ii(t,n){return gt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Zk(this)}getSize(t){return gt.resolve(this.size)}}class Zk extends zk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),gt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t){this.persistence=t,this.si=new jl(n=>Q_(n),J_),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.oi=0,this._i=new rv,this.targetCount=0,this.ai=Gu.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),gt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Gu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,gt.resolve()}updateTargetData(t,n){return this.Pr(n),gt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),gt.waitFor(u).next(()=>o)}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return gt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),gt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),gt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),gt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return gt.resolve(s)}containsKey(t,n){return gt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Np(0),this.li=!1,this.li=!0,this.hi=new qk,this.referenceDelegate=t(this),this.Pi=new Yk(this),this.indexManager=new Dk,this.remoteDocumentCache=function(o){return new Wk(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Mk(n),this.Ii=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Hk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Gk(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Ct("MemoryPersistence","Starting transaction:",t);const o=new Kk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return gt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class Kk extends wO{constructor(t){super(),this.currentSequenceNumber=t}}class av{constructor(t){this.persistence=t,this.Ri=new rv,this.Vi=null}static mi(t){return new av(t)}get fi(){if(this.Vi)return this.Vi;throw Bt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),gt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),gt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),gt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.fi,s=>{const o=Ot.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Yt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return gt.or([()=>gt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class pp{constructor(t,n){this.persistence=t,this.pi=new jl(s=>AO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=jk(this,n)}static mi(t,n){return new pp(t,n)}Ei(){}di(t){return gt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return gt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?gt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(p=>{p||(s++,u.removeEntry(f,Yt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),gt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),gt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),gt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),gt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ud(t.data.value)),n}br(t,n,s){return gt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return gt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=ce(),o=ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ov(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RM()?8:xO(si())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $k;return this.Ss(t,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(Su()<=le.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",Au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),gt.resolve()):(Su()<=le.DEBUG&&Ct("QueryEngine","Query:",Au(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Su()<=le.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",Au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wr(n))):gt.resolve())}ys(t,n){if(gw(n))return gt.resolve(null);let s=wr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),s=wr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=ce(...u);return this.ps.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(y=>{const _=this.Ds(n,p);return this.Cs(n,_,f,y.readTime)?this.ys(t,hp(n,null,"F")):this.vs(t,_,n,y)}))})))}ws(t,n,s,o){return gw(n)||o.isEqual(Yt.min())?gt.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?gt.resolve(null):(Su()<=le.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Au(n)),this.vs(t,f,n,vO(o,Ph)).next(p=>p))})}Ds(t,n){let s=new En(lA(t));return n.forEach((o,u)=>{zp(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Su()<=le.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Au(n)),this.ps.getDocumentsMatchingQuery(t,n,So.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LocalStore",Qk=3e8;class Jk{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Ye(ue),this.xs=new jl(u=>Q_(u),J_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function tV(e,t,n,s){return new Jk(e,t,n,s)}async function LA(e,t){const n=Xt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let y=ce();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:f,addedBatchIds:p}))})})}function eV(e,t){const n=Xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,y,_,E){const A=_.batch,x=A.keys();let D=gt.resolve();return x.forEach(k=>{D=D.next(()=>E.getEntry(y,k)).next(G=>{const Z=_.docVersions.get(k);Te(Z!==null,48541),G.version.compareTo(Z)<0&&(A.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),E.addEntry(G)))})}),D.next(()=>p.mutationQueue.removeMutationBatch(y,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let y=ce();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function DA(e){const t=Xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function nV(e,t){const n=Xt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach((E,A)=>{const x=o.get(A);if(!x)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let D=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?D=D.withResumeToken(qn.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(A,D),function(G,Z,Y){return G.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=Qk?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(x,D,E)&&p.push(n.Pi.updateTargetData(u,D))});let y=ya(),_=ce();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(iV(u,f,t.documentUpdates).next(E=>{y=E.ks,_=E.qs})),!s.isEqual(Yt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return gt.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(n.Ms=o,u))}function iV(e,t,n){let s=ce(),o=ce();return n.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let f=ya();return n.forEach((p,y)=>{const _=u.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Yt.min())?(t.removeEntry(p,y.readTime),f=f.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),f=f.insert(p,y)):Ct(lv,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)}),{ks:f,qs:o}})}function sV(e,t){const n=Xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=K_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function rV(e,t){const n=Xt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,gt.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new yo(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Zy(e,t,n){const s=Xt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ic(f))throw f;Ct(lv,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Iw(e,t,n){const s=Xt(e);let o=Yt.min(),u=ce();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,E){const A=Xt(y),x=A.xs.get(E);return x!==void 0?gt.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,E)}(s,f,wr(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Yt.min(),n?u:ce())).next(p=>(aV(s,GO(t),p),{documents:p,Qs:u})))}function aV(e,t,n){let s=e.Os.get(t)||Yt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Os.set(t,s)}class Pw{constructor(){this.activeTargetIds=XO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oV{constructor(){this.Mo=new Pw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Pw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="ConnectivityMonitor";class Lw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ct(Mw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ct(Mw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function Yy(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="RestConnection",uV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Yy(),p=this.zo(t,n.toUriEncodedString());Ct(sy,`Sending RPC '${t}' ${f}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(p),E=Do(_);return this.Jo(t,p,y,s,E).then(A=>(Ct(sy,`Received RPC '${t}' ${f}: `,A),A),A=>{throw Bu(sy,`RPC '${t}' ${f} failed with error: `,A,"url: ",p,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ec}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=uV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class fV extends cV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Yy();return new Promise((p,y)=>{const _=new O1;_.setWithCredentials(!0),_.listenOnce(k1.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case zd.NO_ERROR:const A=_.getResponseJson();Ct(ti,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),p(A);break;case zd.TIMEOUT:Ct(ti,`RPC '${t}' ${f} timed out`),y(new At(ht.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const x=_.getStatus();if(Ct(ti,`RPC '${t}' ${f} failed with status:`,x,"response text:",_.getResponseText()),x>0){let D=_.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D?.error;if(k&&k.status&&k.message){const G=function(Y){const st=Y.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(st)>=0?st:ht.UNKNOWN}(k.status);y(new At(G,k.message))}else y(new At(ht.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new At(ht.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Ct(ti,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);Ct(ti,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",E,s,15)})}T_(t,n,s){const o=Yy(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=z1(),p=j1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");Ct(ti,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let x=!1,D=!1;const k=new hV({Yo:Z=>{D?Ct(ti,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(x||(Ct(ti,`Opening RPC '${t}' stream ${o} transport.`),A.open(),x=!0),Ct(ti,`RPC '${t}' stream ${o} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),G=(Z,Y,st)=>{Z.listen(Y,$=>{try{st($)}catch(yt){setTimeout(()=>{throw yt},0)}})};return G(A,ah.EventType.OPEN,()=>{D||(Ct(ti,`RPC '${t}' stream ${o} transport opened.`),k.o_())}),G(A,ah.EventType.CLOSE,()=>{D||(D=!0,Ct(ti,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(A))}),G(A,ah.EventType.ERROR,Z=>{D||(D=!0,Bu(ti,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),k.a_(new At(ht.UNAVAILABLE,"The operation could not be completed")))}),G(A,ah.EventType.MESSAGE,Z=>{if(!D){const Y=Z.data[0];Te(!!Y,16349);const st=Y,$=st?.error||st[0]?.error;if($){Ct(ti,`RPC '${t}' stream ${o} received error:`,$);const yt=$.status;let nt=function(P){const N=pn[P];if(N!==void 0)return vA(N)}(yt),vt=$.message;nt===void 0&&(nt=ht.INTERNAL,vt="Unknown error status: "+yt+" with message "+$.message),D=!0,k.a_(new At(nt,vt)),A.close()}else Ct(ti,`RPC '${t}' stream ${o} received:`,Y),k.u_(Y)}}),G(p,V1.STAT_EVENT,Z=>{Z.stat===ky.PROXY?Ct(ti,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===ky.NOPROXY&&Ct(ti,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function ry(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e){return new yk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="PersistentStream";class OA{constructor(t,n,s,o,u,f,p,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(ga(n.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new At(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ct(Dw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Ct(Dw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dV extends OA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Tk(this.serializer,t),s=function(u){if(!("targetChange"in u))return Yt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Yt.min():f.readTime?xr(f.readTime):Yt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Wy(this.serializer),n.addTarget=function(u,f){let p;const y=f.target;if(p=By(y)?{documents:wk(u,y)}:{query:xk(u,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=EA(u,f.resumeToken);const _=Hy(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(Yt.min())>0){p.readTime=dp(u,f.snapshotVersion.toTimestamp());const _=Hy(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,t);const s=Ak(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Wy(this.serializer),n.removeTarget=t,this.q_(n)}}class pV extends OA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Ek(t.writeResults,t.commitTime),s=xr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Wy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>bk(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{}class gV extends mV{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new At(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,qy(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new At(ht.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(t,qy(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new At(ht.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class yV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ga(n),this.aa=!1):Ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class _V{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{zl(this)&&(Ct(Vl,"Restarting streams for network reachability change."),await async function(y){const _=Xt(y);_.Ea.add(4),await af(_),_.Ra.set("Unknown"),_.Ea.delete(4),await qp(_)}(this))})}),this.Ra=new yV(s,o)}}async function qp(e){if(zl(e))for(const t of e.da)await t(!0)}async function af(e){for(const t of e.da)await t(!1)}function kA(e,t){const n=Xt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),fv(n)?hv(n):rc(n).O_()&&cv(n,t))}function uv(e,t){const n=Xt(e),s=rc(n);n.Ia.delete(t),s.O_()&&VA(n,t),n.Ia.size===0&&(s.O_()?s.L_():zl(n)&&n.Ra.set("Unknown"))}function cv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rc(e).Y_(t)}function VA(e,t){e.Va.Ue(t),rc(e).Z_(t)}function hv(e){e.Va=new dk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),rc(e).start(),e.Ra.ua()}function fv(e){return zl(e)&&!rc(e).x_()&&e.Ia.size>0}function zl(e){return Xt(e).Ea.size===0}function jA(e){e.Va=void 0}async function vV(e){e.Ra.set("Online")}async function TV(e){e.Ia.forEach((t,n)=>{cv(e,t)})}async function bV(e,t){jA(e),fv(e)?(e.Ra.ha(t),hv(e)):e.Ra.set("Unknown")}async function EV(e,t,n){if(e.Ra.set("Online"),t instanceof bA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(e,t)}catch(s){Ct(Vl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await mp(e,s)}else if(t instanceof Hd?e.Va.Ze(t):t instanceof TA?e.Va.st(t):e.Va.tt(t),!n.isEqual(Yt.min()))try{const s=await DA(e.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(y.resumeToken,f))}}),p.targetMismatches.forEach((y,_)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(qn.EMPTY_BYTE_STRING,E.snapshotVersion)),VA(u,y);const A=new yo(E.target,y,_,E.sequenceNumber);cv(u,A)}),u.remoteSyncer.applyRemoteEvent(p)}(e,n)}catch(s){Ct(Vl,"Failed to raise snapshot:",s),await mp(e,s)}}async function mp(e,t,n){if(!ic(t))throw t;e.Ea.add(1),await af(e),e.Ra.set("Offline"),n||(n=()=>DA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ct(Vl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qp(e)})}function zA(e,t){return t().catch(n=>mp(e,n,t))}async function Gp(e){const t=Xt(e),n=Io(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:K_;for(;wV(t);)try{const o=await sV(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,xV(t,o)}catch(o){await mp(t,o)}UA(t)&&BA(t)}function wV(e){return zl(e)&&e.Ta.length<10}function xV(e,t){e.Ta.push(t);const n=Io(e);n.O_()&&n.X_&&n.ea(t.mutations)}function UA(e){return zl(e)&&!Io(e).x_()&&e.Ta.length>0}function BA(e){Io(e).start()}async function SV(e){Io(e).ra()}async function AV(e){const t=Io(e);for(const n of e.Ta)t.ea(n.mutations)}async function RV(e,t,n){const s=e.Ta.shift(),o=nv.from(s,t,n);await zA(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Gp(e)}async function CV(e,t){t&&Io(e).X_&&await async function(s,o){if(function(f){return ck(f)&&f!==ht.ABORTED}(o.code)){const u=s.Ta.shift();Io(s).B_(),await zA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Gp(s)}}(e,t),UA(e)&&BA(e)}async function Nw(e,t){const n=Xt(e);n.asyncQueue.verifyOperationInProgress(),Ct(Vl,"RemoteStore received new credentials");const s=zl(n);n.Ea.add(3),await af(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qp(n)}async function IV(e,t){const n=Xt(e);t?(n.Ea.delete(2),await qp(n)):t||(n.Ea.add(2),await af(n),n.Ra.set("Unknown"))}function rc(e){return e.ma||(e.ma=function(n,s,o){const u=Xt(n);return u.sa(),new dV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:vV.bind(null,e),t_:TV.bind(null,e),r_:bV.bind(null,e),H_:EV.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),fv(e)?hv(e):e.Ra.set("Unknown")):(await e.ma.stop(),jA(e))})),e.ma}function Io(e){return e.fa||(e.fa=function(n,s,o){const u=Xt(n);return u.sa(),new pV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:SV.bind(null,e),r_:CV.bind(null,e),ta:AV.bind(null,e),na:RV.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Gp(e)):(await e.fa.stop(),e.Ta.length>0&&(Ct(Vl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new dv(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(e,t){if(ga("AsyncQueue",`${t}: ${e}`),ic(e))return new At(ht.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{static emptySet(t){return new zu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Ot.comparator(n.key,s.key):(n,s)=>Ot.comparator(n.key,s.key),this.keyedMap=oh(),this.sortedSet=new Ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof zu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new zu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.ga=new Ye(Ot.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Bt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Wu{constructor(t,n,s,o,u,f,p,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Wu(t,n,zu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class MV{constructor(){this.queries=kw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Xt(n),u=o.queries;o.queries=kw(),u.forEach((f,p)=>{for(const y of p.Sa)y.onError(s)})})(this,new At(ht.ABORTED,"Firestore shutting down"))}}function kw(){return new jl(e=>oA(e),jp)}async function FA(e,t){const n=Xt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new PV,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=pv(f,`Initialization of query '${Au(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&mv(n)}async function HA(e,t){const n=Xt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LV(e,t){const n=Xt(e);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&mv(n)}function DV(e,t,n){const s=Xt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function mv(e){e.Ca.forEach(t=>{t.next()})}var Ky,Vw;(Vw=Ky||(Ky={})).Ma="default",Vw.Cache="cache";class qA{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Wu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Wu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.key=t}}class WA{constructor(t){this.key=t}}class NV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=lA(t),this.tu=new zu(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Ow,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const x=o.get(E),D=zp(this.query,A)?A:null,k=!!x&&this.mutatedKeys.has(x.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let Z=!1;x&&D?x.data.isEqual(D.data)?k!==G&&(s.track({type:3,doc:D}),Z=!0):this.su(x,D)||(s.track({type:2,doc:D}),Z=!0,(y&&this.eu(D,y)>0||_&&this.eu(D,_)<0)&&(p=!0)):!x&&D?(s.track({type:0,doc:D}),Z=!0):x&&!D&&(s.track({type:1,doc:x}),Z=!0,(y||_)&&(p=!0)),Z&&(D?(f=f.add(D),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,A)=>function(D,k){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Rt:Z})}};return G(D)-G(k)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new Wu(this.query,t.tu,u,f,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ce(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new WA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new GA(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=ce();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gv="SyncEngine";class OV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class kV{constructor(t){this.key=t,this.hu=!1}}class VV{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new jl(p=>oA(p),jp),this.Iu=new Map,this.Eu=new Set,this.du=new Ye(Ot.comparator),this.Au=new Map,this.Ru=new rv,this.Vu={},this.mu=new Map,this.fu=Gu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jV(e,t,n=!0){const s=QA(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ZA(s,t,n,!0),o}async function zV(e,t){const n=QA(e);await ZA(n,t,!0,!1)}async function ZA(e,t,n,s){const o=await rV(e.localStore,wr(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await UV(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&n&&kA(e.remoteStore,o),p}async function UV(e,t,n,s,o){e.pu=(A,x,D)=>async function(G,Z,Y,st){let $=Z.view.ru(Y);$.Cs&&($=await Iw(G.localStore,Z.query,!1).then(({documents:F})=>Z.view.ru(F,$)));const yt=st&&st.targetChanges.get(Z.targetId),nt=st&&st.targetMismatches.get(Z.targetId)!=null,vt=Z.view.applyChanges($,G.isPrimaryClient,yt,nt);return zw(G,Z.targetId,vt.au),vt.snapshot}(e,A,x,D);const u=await Iw(e.localStore,t,!0),f=new NV(t,u.Qs),p=f.ru(u.documents),y=rf.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),_=f.applyChanges(p,e.isPrimaryClient,y);zw(e,n,_.au);const E=new OV(t,n,f);return e.Tu.set(t,E),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),_.snapshot}async function BV(e,t,n){const s=Xt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!jp(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zy(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&uv(s.remoteStore,o.targetId),$y(s,o.targetId)}).catch(nc)):($y(s,o.targetId),await Zy(s.localStore,o.targetId,!0))}async function FV(e,t){const n=Xt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),uv(n.remoteStore,s.targetId))}async function HV(e,t,n){const s=$V(e);try{const o=await function(f,p){const y=Xt(f),_=Ue.now(),E=p.reduce((D,k)=>D.add(k.key),ce());let A,x;return y.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=ya(),G=ce();return y.Ns.getEntries(D,E).next(Z=>{k=Z,k.forEach((Y,st)=>{st.isValidDocument()||(G=G.add(Y))})}).next(()=>y.localDocuments.getOverlayedDocuments(D,k)).next(Z=>{A=Z;const Y=[];for(const st of p){const $=rk(st,A.get(st.key).overlayedDocument);$!=null&&Y.push(new jo(st.key,$,J1($.value.mapValue),ws.exists(!0)))}return y.mutationQueue.addMutationBatch(D,_,Y,p)}).next(Z=>{x=Z;const Y=Z.applyToLocalDocumentSet(A,G);return y.documentOverlayCache.saveOverlays(D,Z.batchId,Y)})}).then(()=>({batchId:x.batchId,changes:cA(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new Ye(ue)),_=_.insert(p,y),f.Vu[f.currentUser.toKey()]=_}(s,o.batchId,n),await of(s,o.changes),await Gp(s.remoteStore)}catch(o){const u=pv(o,"Failed to persist write");n.reject(u)}}async function YA(e,t){const n=Xt(e);try{const s=await nV(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Te(f.hu,14607):o.removedDocuments.size>0&&(Te(f.hu,42227),f.hu=!1))}),await of(n,s,t)}catch(s){await nc(s)}}function jw(e,t,n){const s=Xt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const y=Xt(f);y.onlineState=p;let _=!1;y.queries.forEach((E,A)=>{for(const x of A.Sa)x.va(p)&&(_=!0)}),_&&mv(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qV(e,t,n){const s=Xt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new Ye(Ot.comparator);f=f.insert(u,ni.newNoDocument(u,Yt.min()));const p=ce().add(u),y=new Fp(Yt.min(),new Map,new Ye(ue),f,p);await YA(s,y),s.du=s.du.remove(u),s.Au.delete(t),yv(s)}else await Zy(s.localStore,t,!1).then(()=>$y(s,t,n)).catch(nc)}async function GV(e,t){const n=Xt(e),s=t.batch.batchId;try{const o=await eV(n.localStore,t);$A(n,s,null),KA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await of(n,o)}catch(o){await nc(o)}}async function WV(e,t,n){const s=Xt(e);try{const o=await function(f,p){const y=Xt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next(A=>(Te(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>y.localDocuments.getDocuments(_,E))})}(s.localStore,t);$A(s,t,n),KA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await of(s,o)}catch(o){await nc(o)}}function KA(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function $A(e,t,n){const s=Xt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function $y(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||XA(e,s)})}function XA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(uv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),yv(e))}function zw(e,t,n){for(const s of n)s instanceof GA?(e.Ru.addReference(s.key,t),ZV(e,s)):s instanceof WA?(Ct(gv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||XA(e,s.key)):Bt(19791,{wu:s})}function ZV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Ct(gv,"New document in limbo: "+n),e.Eu.add(s),yv(e))}function yv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ot(je.fromString(t)),s=e.fu.next();e.Au.set(s,new kV(n)),e.du=e.du.insert(n,s),kA(e.remoteStore,new yo(wr(Vp(n.path)),s,"TargetPurposeLimboResolution",Np.ce))}}async function of(e,t,n){const s=Xt(e),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,y)=>{f.push(s.pu(y,t,n).then(_=>{if((_||n)&&s.isPrimaryClient){const E=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=ov.As(y.targetId,_);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,_){const E=Xt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>gt.forEach(_,x=>gt.forEach(x.Es,D=>E.persistence.referenceDelegate.addReference(A,x.targetId,D)).next(()=>gt.forEach(x.ds,D=>E.persistence.referenceDelegate.removeReference(A,x.targetId,D)))))}catch(A){if(!ic(A))throw A;Ct(lv,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const D=E.Ms.get(x),k=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(k);E.Ms=E.Ms.insert(x,G)}}}(s.localStore,u))}async function YV(e,t){const n=Xt(e);if(!n.currentUser.isEqual(t)){Ct(gv,"User change. New user:",t.toKey());const s=await LA(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(p=>{p.forEach(y=>{y.reject(new At(ht.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await of(n,s.Ls)}}function KV(e,t){const n=Xt(e),s=n.Au.get(t);if(s&&s.hu)return ce().add(s.key);{let o=ce();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function QA(e){const t=Xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qV.bind(null,t),t.Pu.H_=LV.bind(null,t.eventManager),t.Pu.yu=DV.bind(null,t.eventManager),t}function $V(e){const t=Xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WV.bind(null,t),t}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return tV(this.persistence,new Xk,t.initialUser,this.serializer)}Cu(t){return new MA(av.mi,this.serializer)}Du(t){return new oV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class XV extends gp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Te(this.persistence.referenceDelegate instanceof pp,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kk(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?xi.withCacheSize(this.cacheSizeBytes):xi.DEFAULT;return new MA(s=>pp.mi(s,n),this.serializer)}}class Xy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YV.bind(null,this.syncEngine),await IV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MV}()}createDatastore(t){const n=Hp(t.databaseInfo.databaseId),s=function(u){return new fV(u)}(t.databaseInfo);return function(u,f,p,y){return new gV(u,f,p,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new _V(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>jw(this.syncEngine,n,0),function(){return Lw.v()?new Lw:new lV}())}createSyncEngine(t,n){return function(o,u,f,p,y,_,E){const A=new VV(o,u,f,p,y,_);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Xt(n);Ct(Vl,"RemoteStore shutting down."),s.Ea.add(5),await af(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xy.provider={build:()=>new Xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ga("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class QV{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ei.UNAUTHENTICATED,this.clientId=Y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{Ct(Po,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(Ct(Po,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=pv(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ay(e,t){e.asyncQueue.verifyOperationInProgress(),Ct(Po,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await LA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Uw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JV(e);Ct(Po,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>Nw(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>Nw(t.remoteStore,o)),e._onlineComponents=t}async function JV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ct(Po,"Using user provided OfflineComponentProvider");try{await ay(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Bu("Error using user provided cache. Falling back to memory cache: "+n),await ay(e,new gp)}}else Ct(Po,"Using default OfflineComponentProvider"),await ay(e,new XV(void 0));return e._offlineComponents}async function tR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ct(Po,"Using user provided OnlineComponentProvider"),await Uw(e,e._uninitializedComponentsProvider._online)):(Ct(Po,"Using default OnlineComponentProvider"),await Uw(e,new Xy))),e._onlineComponents}function t5(e){return tR(e).then(t=>t.syncEngine)}async function Qy(e){const t=await tR(e),n=t.eventManager;return n.onListen=jV.bind(null,t.syncEngine),n.onUnlisten=BV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FV.bind(null,t.syncEngine),n}function e5(e,t,n={}){const s=new bo;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,p,y,_){const E=new JA({next:x=>{E.Nu(),f.enqueueAndForget(()=>HA(u,A));const D=x.docs.has(p);!D&&x.fromCache?_.reject(new At(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&x.fromCache&&y&&y.source==="server"?_.reject(new At(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new qA(Vp(p.path),E,{includeMetadataChanges:!0,qa:!0});return FA(u,A)}(await Qy(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firestore.googleapis.com",Fw=!0;class Hw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nR,this.ssl=Fw}else this.host=t.host,this.ssl=t.ssl??Fw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=IA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PA)throw new At(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_O("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eR(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new At(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new At(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new At(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lO;switch(s.type){case"firstParty":return new fO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new At(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Bw.get(n);s&&(Ct("ComponentProvider","Removing Datastore"),Bw.delete(n),s.terminate())}(this),Promise.resolve()}}function n5(e,t,n,s={}){e=Es(e,Wp);const o=Do(t),u=e._getSettings(),f={...u,emulatorOptions:e._getEmulatorOptions()},p=`${t}:${n}`;o&&(Ip(`https://${p}`),D_("Firestore",!0)),u.host!==nR&&u.host!==p&&Bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:s};if(!wo(y,f)&&(e._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=ei.MOCK_USER;else{_=_M(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new At(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ei(A)}e._authCredentials=new uO(new B1(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zo(this.firestore,t,this._query)}}class tn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(nf(n,tn._jsonSchema))return new tn(t,s||null,new Ot(je.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:yn("string",tn._jsonSchemaVersion),referencePath:yn("string")};class Eo extends zo{constructor(t,n,s){super(t,n,Vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new Ot(t))}withConverter(t){return new Eo(this.firestore,t,this._path)}}function uh(e,t,...n){if(e=en(e),F1("collection","path",t),e instanceof Wp){const s=je.fromString(t,...n);return nw(s),new Eo(e,null,s)}{if(!(e instanceof tn||e instanceof Eo))throw new At(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(je.fromString(t,...n));return nw(s),new Eo(e.firestore,null,s)}}function Mr(e,t,...n){if(e=en(e),arguments.length===1&&(t=Y_.newId()),F1("doc","path",t),e instanceof Wp){const s=je.fromString(t,...n);return ew(s),new tn(e,null,new Ot(s))}{if(!(e instanceof tn||e instanceof Eo))throw new At(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(je.fromString(t,...n));return ew(s),new tn(e.firestore,e instanceof Eo?e.converter:null,new Ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="AsyncQueue";class Gw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NA(this,"async_queue_retry"),this._c=()=>{const s=ry();s&&Ct(qw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ry();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ry();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new bo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ic(t))throw t;Ct(qw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,ga("INTERNAL UNHANDLED ERROR: ",Ww(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=dv.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Bt(47125,{Pc:Ww(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Ww(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class Mo extends Wp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Gw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Gw(t),this._firestoreClient=void 0,await t}}}function i5(e,t,n){n||(n=Lh);const s=$h(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),u=s.getOptions(n);if(wo(u,t))return o;throw new At(ht.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new At(ht.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PA)throw new At(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Do(t.host)&&Ip(t.host),s.initialize({options:t,instanceIdentifier:n})}function s5(e,t){const n=typeof e=="object"?e:k_(),s=typeof e=="string"?e:Lh,o=$h(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=ZS("firestore");u&&n5(o,...u)}return o}function _v(e){if(e._terminated)throw new At(ht.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||r5(e),e._firestoreClient}function r5(e){const t=e._freezeSettings(),n=function(o,u,f,p){return new IO(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eR(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new QV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bs(qn.fromBase64String(t))}catch(n){throw new At(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new bs(qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nf(t,bs._jsonSchema))return bs.fromBase64String(t.bytes)}}bs._jsonSchemaVersion="firestore/bytes/1.0",bs._jsonSchema={type:yn("string",bs._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ue(this._lat,t._lat)||ue(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(t){if(nf(t,Sr._jsonSchema))return new Sr(t.latitude,t.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:yn("string",Sr._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nf(t,Ar._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Ar(t.vectorValues);throw new At(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:yn("string",Ar._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^__.*__$/;class o5{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new jo(t,this.data,this.fieldMask,n,this.fieldTransforms):new sf(t,this.data,n,this.fieldTransforms)}}class iR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new jo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function sR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ac:e})}}class vv{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new vv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return yp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(sR(this.Ac)&&a5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class l5{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Hp(t)}Cc(t,n,s,o=!1){return new vv({Ac:t,methodName:n,Dc:s,path:Hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(e){const t=e._freezeSettings(),n=Hp(e._databaseId);return new l5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rR(e,t,n,s,o,u={}){const f=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);bv("Data must be an object, but it was:",f,s);const p=aR(s,f);let y,_;if(u.merge)y=new $i(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const x=Jy(t,A,n);if(!f.contains(x))throw new At(ht.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);lR(E,x)||E.push(x)}y=new $i(E),_=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,_=f.fieldTransforms;return new o5(new Ai(p),y,_)}class $p extends Yp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $p}}class Tv extends Yp{_toFieldTransform(t){return new ek(t.path,new kh)}isEqual(t){return t instanceof Tv}}function u5(e,t,n,s){const o=e.Cc(1,t,n);bv("Data must be an object, but it was:",o,s);const u=[],f=Ai.empty();Vo(s,(y,_)=>{const E=Ev(t,y,n);_=en(_);const A=o.yc(E);if(_ instanceof $p)u.push(E);else{const x=lf(_,A);x!=null&&(u.push(E),f.set(E,x))}});const p=new $i(u);return new iR(f,p,o.fieldTransforms)}function c5(e,t,n,s,o,u){const f=e.Cc(1,t,n),p=[Jy(t,s,n)],y=[o];if(u.length%2!=0)throw new At(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(Jy(t,u[x])),y.push(u[x+1]);const _=[],E=Ai.empty();for(let x=p.length-1;x>=0;--x)if(!lR(_,p[x])){const D=p[x];let k=y[x];k=en(k);const G=f.yc(D);if(k instanceof $p)_.push(D);else{const Z=lf(k,G);Z!=null&&(_.push(D),E.set(D,Z))}}const A=new $i(_);return new iR(E,A,f.fieldTransforms)}function h5(e,t,n,s=!1){return lf(n,e.Cc(s?4:3,t))}function lf(e,t){if(oR(e=en(e)))return bv("Unsupported field value:",t,e),aR(e,t);if(e instanceof Yp)return function(s,o){if(!sR(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let y=lf(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ue.fromDate(s);return{timestampValue:dp(o.serializer,u)}}if(s instanceof Ue){const u=new Ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dp(o.serializer,u)}}if(s instanceof Sr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bs)return{bytesValue:EA(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ar)return function(f,p){return{mapValue:{fields:{[X1]:{stringValue:Q1},[up]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return tv(p.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Dp(s)}`)}(e,t)}function aR(e,t){const n={};return G1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vo(e,(s,o)=>{const u=lf(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function oR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ue||e instanceof Sr||e instanceof bs||e instanceof tn||e instanceof Yp||e instanceof Ar)}function bv(e,t,n){if(!oR(n)||!H1(n)){const s=Dp(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Jy(e,t,n){if((t=en(t))instanceof Zp)return t._internalPath;if(typeof t=="string")return Ev(e,t);throw yp("Field path arguments must be of type string or ",e,!1,void 0,n)}const f5=new RegExp("[~\\*/\\[\\]]");function Ev(e,t,n){if(t.search(f5)>=0)throw yp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Zp(...t.split("."))._internalPath}catch{throw yp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function yp(e,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new At(ht.INVALID_ARGUMENT,p+e+y)}function lR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new d5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d5 extends uR{data(){return super.data()}}function Xp(e,t){return typeof t=="string"?Ev(e,t):t instanceof Zp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new At(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class xv extends wv{}function t_(e,t,...n){let s=[];t instanceof wv&&s.push(t),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof Sv).length,p=u.filter(y=>y instanceof Qp).length;if(f>1||f>0&&p>0)throw new At(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class Qp extends xv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Qp(t,n,s)}_apply(t){const n=this._parse(t);return cR(t._query,n),new zo(t.firestore,t.converter,Fy(t._query,n))}_parse(t){const n=Kp(t.firestore);return function(u,f,p,y,_,E,A){let x;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new At(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){$w(A,E);const k=[];for(const G of A)k.push(Kw(y,u,G));x={arrayValue:{values:k}}}else x=Kw(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||$w(A,E),x=h5(p,f,A,E==="in"||E==="not-in");return gn.create(_,E,x)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Yw(e,t,n){const s=t,o=Xp("where",e);return Qp._create(o,s,n)}class Sv extends wv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sv(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:$s.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const y of p)cR(f,y),f=Fy(f,y)}(t._query,n),new zo(t.firestore,t.converter,Fy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Av extends xv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Av(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new At(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new At(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oh(u,f)}(t._query,this._field,this._direction);return new zo(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new sc(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function m5(e,t="asc"){const n=t,s=Xp("orderBy",e);return Av._create(s,n)}class Rv extends xv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Rv(t,n,s)}_apply(t){return new zo(t.firestore,t.converter,hp(t._query,this._limit,this._limitType))}}function g5(e){return Rv._create("limit",e,"F")}function Kw(e,t,n){if(typeof(n=en(n))=="string"){if(n==="")throw new At(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aA(t)&&n.indexOf("/")!==-1)throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(je.fromString(n));if(!Ot.isDocumentKey(s))throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cw(e,new Ot(s))}if(n instanceof tn)return cw(e,n._key);throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dp(n)}.`)}function $w(e,t){if(!Array.isArray(e)||e.length===0)throw new At(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cR(e,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new At(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class y5{convertValue(t,n="none"){switch(Co(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ro(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Vo(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[up].arrayValue?.values?.map(s=>ln(s.doubleValue));return new Ar(n)}convertGeoPoint(t){return new Sr(ln(t.latitude),ln(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=kp(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mh(t));default:return null}}convertTimestamp(t){const n=Ao(t);return new Ue(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=je.fromString(t);Te(CA(s),9688,{name:t});const o=new Dh(s.get(1),s.get(3)),u=new Ot(s.popFirst(5));return o.isEqual(n)||ga(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class ch{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pl extends uR{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Xp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Pl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pl._jsonSchema={type:yn("string",Pl._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class qd extends Pl{data(t={}){return super.data(t)}}class Uu{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ch(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new qd(this._firestore,this._userDataWriter,s.key,s,new ch(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const y=new qd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ch(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const y=new qd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ch(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:_5(p.type),doc:y,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Y_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(e){e=Es(e,tn);const t=Es(e.firestore,Mo);return e5(_v(t),e._key).then(n=>dR(t,e,n))}Uu._jsonSchemaVersion="firestore/querySnapshot/1.0",Uu._jsonSchema={type:yn("string",Uu._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class fR extends y5{constructor(t){super(),this.firestore=t}convertBytes(t){return new bs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function e_(e,t,n){e=Es(e,tn);const s=Es(e.firestore,Mo),o=hR(e.converter,t,n);return Jp(s,[rR(Kp(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ws.none())])}function qU(e,t,n,...s){e=Es(e,tn);const o=Es(e.firestore,Mo),u=Kp(o);let f;return f=typeof(t=en(t))=="string"||t instanceof Zp?c5(u,"updateDoc",e._key,t,n,s):u5(u,"updateDoc",e._key,t),Jp(o,[f.toMutation(e._key,ws.exists(!0))])}function GU(e){return Jp(Es(e.firestore,Mo),[new ev(e._key,ws.none())])}function WU(e,t){const n=Es(e.firestore,Mo),s=Mr(e),o=hR(e.converter,t);return Jp(n,[rR(Kp(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,ws.exists(!1))]).then(()=>s)}function Al(e,...t){e=en(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Zw(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Zw(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,p;if(e instanceof tn)f=Es(e.firestore,Mo),p=Vp(e._key.path),u={next:y=>{t[s]&&t[s](dR(f,e,y))},error:t[s+1],complete:t[s+2]};else{const y=Es(e,zo);f=Es(y.firestore,Mo),p=y._query;const _=new fR(f);u={next:E=>{t[s]&&t[s](new Uu(f,_,y,E))},error:t[s+1],complete:t[s+2]},p5(e._query)}return function(_,E,A,x){const D=new JA(x),k=new qA(E,D,A);return _.asyncQueue.enqueueAndForget(async()=>FA(await Qy(_),k)),()=>{D.Nu(),_.asyncQueue.enqueueAndForget(async()=>HA(await Qy(_),k))}}(_v(f),p,o,u)}function Jp(e,t){return function(s,o){const u=new bo;return s.asyncQueue.enqueueAndForget(async()=>HV(await t5(s),o,u)),u.promise}(_v(e),t)}function dR(e,t,n){const s=n.docs.get(t._key),o=new fR(e);return new Pl(e,o,t._key,s,new ch(n.hasPendingWrites,n.fromCache),t.converter)}function ZU(){return new Tv("serverTimestamp")}(function(t,n=!0){(function(o){ec=o})(Ju),Dl(new xo("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Mo(new cO(s.getProvider("auth-internal")),new dO(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new At(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(_.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),br(XE,QE,t),br(XE,QE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="type.googleapis.com/google.protobuf.Int64Value",T5="type.googleapis.com/google.protobuf.UInt64Value";function pR(e,t){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}function _p(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>_p(t));if(typeof e=="function"||typeof e=="object")return pR(e,t=>_p(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Zu(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case v5:case T5:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Zu(t)):typeof e=="function"||typeof e=="object"?pR(e,t=>Zu(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ci extends Or{constructor(t,n,s){super(`${Cv}/${t}`,n||""),this.details=s,Object.setPrototypeOf(this,Ci.prototype)}}function b5(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function vp(e,t){let n=b5(e),s=n,o;try{const u=t&&t.error;if(u){const f=u.status;if(typeof f=="string"){if(!Xw[f])return new Ci("internal","internal");n=Xw[f],s=f}const p=u.message;typeof p=="string"&&(s=p),o=u.details,o!==void 0&&(o=Zu(o))}}catch{}return n==="ok"?null:new Ci(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Si(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="us-central1",w5=/^data: (.*?)(?:\n|$)/;function x5(e){let t=null;return{promise:new Promise((n,s)=>{t=setTimeout(()=>{s(new Ci("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class S5{constructor(t,n,s,o,u=n_,f=(...p)=>fetch(...p)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new E5(t,n,s,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=n_}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function A5(e,t,n){const s=Do(t);e.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Ip(e.emulatorOrigin),D_("Functions",!0))}function R5(e,t,n){const s=o=>I5(e,t,o,{});return s.stream=(o,u)=>M5(e,t,o,u),s}async function C5(e,t,n,s){n["Content-Type"]="application/json";let o;try{o=await s(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function mR(e,t){const n={},s=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function I5(e,t,n,s){const o=e._url(t);return P5(e,o,n,s)}async function P5(e,t,n,s){n=_p(n);const o={data:n},u=await mR(e,s),f=s.timeout||7e4,p=x5(f),y=await Promise.race([C5(t,o,u,e.fetchImpl),p.promise,e.cancelAllRequests]);if(p.cancel(),!y)throw new Ci("cancelled","Firebase Functions instance was deleted.");const _=vp(y.status,y.json);if(_)throw _;if(!y.json)throw new Ci("internal","Response is not valid JSON object.");let E=y.json.data;if(typeof E>"u"&&(E=y.json.result),typeof E>"u")throw new Ci("internal","Response is missing data field.");return{data:Zu(E)}}function M5(e,t,n,s){const o=e._url(t);return L5(e,o,n,s||{})}async function L5(e,t,n,s){n=_p(n);const o={data:n},u=await mR(e,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const k=new Ci("cancelled","Request was cancelled.");return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}const D=vp(0,null);return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}let p,y;const _=new Promise((x,D)=>{p=x,y=D});s?.signal?.addEventListener("abort",()=>{const x=new Ci("cancelled","Request was cancelled.");y(x)});const E=f.body.getReader(),A=D5(E,p,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const x=A.getReader();return{async next(){const{value:D,done:k}=await x.read();return{value:D,done:k}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:_}}function D5(e,t,n,s){const o=(f,p)=>{const y=f.match(w5);if(!y)return;const _=y[1];try{const E=JSON.parse(_);if("result"in E){t(Zu(E.result));return}if("message"in E){p.enqueue(Zu(E.message));return}if("error"in E){const A=vp(0,E);p.error(A),n(A);return}}catch(E){if(E instanceof Ci){p.error(E),n(E);return}}},u=new TextDecoder;return new ReadableStream({start(f){let p="";return y();async function y(){if(s?.aborted){const _=new Ci("cancelled","Request was cancelled");return f.error(_),n(_),Promise.resolve()}try{const{value:_,done:E}=await e.read();if(E){p.trim()&&o(p.trim(),f),f.close();return}if(s?.aborted){const x=new Ci("cancelled","Request was cancelled");f.error(x),n(x),await e.cancel();return}p+=u.decode(_,{stream:!0});const A=p.split(`
`);p=A.pop()||"";for(const x of A)x.trim()&&o(x.trim(),f);return y()}catch(_){const E=_ instanceof Ci?_:vp(0,null);f.error(E),n(E)}}},cancel(){return e.cancel()}})}const Qw="@firebase/functions",Jw="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="auth-internal",O5="app-check-internal",k5="messaging-internal";function V5(e){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(N5),f=n.getProvider(k5),p=n.getProvider(O5);return new S5(o,u,f,p,s)};Dl(new xo(Cv,t,"PUBLIC").setMultipleInstances(!0)),br(Qw,Jw,e),br(Qw,Jw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(e=k_(),t=n_){const s=$h(en(e),Cv).getImmediate({identifier:t}),o=ZS("functions");return o&&j5(s,...o),s}function j5(e,t,n){A5(en(e),t,n)}function Rl(e,t,n){return R5(en(e),t)}V5();const yR={apiKey:"AIzaSyBh-nePsQ50f6ZMZ1PaLUUfhD3hExxgRsI",authDomain:"findmyhistory.firebaseapp.com",projectId:"findmyhistory",storageBucket:"findmyhistory.firebasestorage.app",messagingSenderId:"951487481110",appId:"1:951487481110:web:242bd9188bb043df177c37"},cf=QS(yR),Tr=aO(cf),z5=new oa;try{i5(cf,{experimentalForceLongPolling:!0,useFetchStreams:!1})}catch{}const Ri=s5(cf),Iu=gR(cf);yR.apiKey||console.warn("Firebase API key not found in environment variables");const _R=V.createContext();function vR(){return V.useContext(_R)}function U5({children:e}){const[t,n]=V.useState(null),[s,o]=V.useState(!0);V.useEffect(()=>tf(Tr,p=>{n(p),o(!1)}),[]);const u={user:t,loading:s};return T.jsx(_R.Provider,{value:u,children:!s&&e})}function B5({scrollYProgress:e}){const t=Nr(),n=As(),[s,o]=V.useState(0),{user:u}=vR();V.useEffect(()=>{if(n.pathname==="/"){if(e)return e.on("change",y=>{if(y>=.7){const _=Math.min(1,(y-.7)/.1);o(_)}else o(0)})}else o(1)},[e,n.pathname]);const f=async()=>{await KD(Tr),t("/")};return T.jsxs("div",{className:"global-header",style:{opacity:s},children:[T.jsx("h1",{className:"global-header-title clickable",onClick:()=>t("/"),children:"TagLogger"}),T.jsx("div",{className:"header-login-btn",children:u?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"login-btn",onClick:()=>t("/dashboard"),children:"Dashboard"}),T.jsx("button",{className:"login-btn",onClick:f,style:{marginLeft:"0.5rem"},children:"Logout"})]}):T.jsx("button",{className:"login-btn",onClick:()=>t("/login"),children:"Login"})})]})}function TR(){const{user:e}=vR(),[t,n]=V.useState({isEntitled:!1,hasPurchaseHistory:!1,loading:!0,error:null});return V.useEffect(()=>{if(!e){n(u=>({...u,isEntitled:!1,hasPurchaseHistory:!1,loading:!1,error:null}));return}n(u=>({...u,loading:!0,error:null}));const s=Mr(Ri,"users",e.uid),o=Al(s,u=>{try{const f=u.data(),p=f&&(f.lastPurchaseAt||f.stripeCustomerId),y=!!p;console.log(" useEntitlement: Purchase history check",{userId:e.uid,hasPurchaseHistory:p,lastPurchaseAt:f?.lastPurchaseAt,stripeCustomerId:f?.stripeCustomerId,isEntitled:y}),n({isEntitled:y,hasPurchaseHistory:!!p,loading:!1,error:null})}catch(f){console.error(" useEntitlement: User document read failed:",f),n(p=>({...p,loading:!1,error:f.message,isEntitled:!1,hasPurchaseHistory:!1}))}},u=>{console.error(" useEntitlement: User document listener error:",u),n(f=>({...f,loading:!1,error:u.message,isEntitled:!1,hasPurchaseHistory:!1}))});return()=>o()},[e]),t}function Sd({children:e,adminOnly:t=!1,requireEntitlement:n=!0}){const[s,o]=V.useState(null),[u,f]=V.useState(!0),[p,y]=V.useState(!1),[_,E]=V.useState(!1),{isEntitled:A,loading:x}=TR();return V.useEffect(()=>{try{const D=new URLSearchParams(window.location.search),k=D.get("success")==="true"||D.get("purchase")==="success";if(k){console.log(" ProtectedRoute: Activating grace period for checkout success",{hasCheckoutSuccess:k,pathname:window.location.pathname}),E(!0);const G=window.gracePeriodTimer;return G&&clearTimeout(G),window.gracePeriodTimer=setTimeout(()=>{console.log(" ProtectedRoute: Grace period expired"),E(!1),window.gracePeriodTimer=null},6e4),()=>{window.gracePeriodTimer&&(clearTimeout(window.gracePeriodTimer),window.gracePeriodTimer=null)}}}catch(D){console.error(" ProtectedRoute: Error setting up grace period",D)}},[]),V.useEffect(()=>{const D=tf(Tr,async k=>{if(o(k),k)try{const G=Mr(Ri,"users",k.uid),Z=await uf(G);y(Z.exists()&&Z.data().isAdmin===!0)}catch{y(!1)}else y(!1);f(!1)});return()=>D()},[]),u?null:s?t?p?e:T.jsx(Zg,{to:"/dashboard"}):n&&!x&&!A&&!_?(console.log(" ProtectedRoute: Redirecting to purchase - no entitlement and grace period expired"),T.jsx(Zg,{to:"/purchase"})):e:T.jsx(Zg,{to:"/login"})}const bR=V.createContext({});function tm(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Iv=typeof window<"u",Pv=Iv?V.useLayoutEffect:V.useEffect,Mv=V.createContext(null);function Lv(e,t){e.indexOf(t)===-1&&e.push(t)}function Dv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Lr=(e,t,n)=>n>t?t:n<e?e:n;let zh=()=>{};const _a={},ER=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function wR(e){return typeof e=="object"&&e!==null}const xR=e=>/^0[^.\s]+$/u.test(e);function Nv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pi=e=>e,F5=(e,t)=>n=>t(e(n)),hf=(...e)=>e.reduce(F5),Yu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Ov{constructor(){this.subscriptions=[]}add(t){return Lv(this.subscriptions,t),()=>Dv(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rr=e=>e*1e3,Cr=e=>e/1e3;function kv(e,t){return t?e*(1e3/t):0}const SR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,H5=1e-7,q5=12;function G5(e,t,n,s,o){let u,f,p=0;do f=t+(n-t)/2,u=SR(f,s,o)-e,u>0?n=f:t=f;while(Math.abs(u)>H5&&++p<q5);return f}function ff(e,t,n,s){if(e===t&&n===s)return Pi;const o=u=>G5(u,0,1,e,n);return u=>u===0||u===1?u:SR(o(u),t,s)}const AR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,RR=e=>t=>1-e(1-t),CR=ff(.33,1.53,.69,.99),Vv=RR(CR),IR=AR(Vv),PR=e=>(e*=2)<1?.5*Vv(e):.5*(2-Math.pow(2,-10*(e-1))),jv=e=>1-Math.sin(Math.acos(e)),MR=RR(jv),LR=AR(jv),W5=ff(.42,0,1,1),Z5=ff(0,0,.58,1),DR=ff(.42,0,.58,1),Y5=e=>Array.isArray(e)&&typeof e[0]!="number",NR=e=>Array.isArray(e)&&typeof e[0]=="number",K5={linear:Pi,easeIn:W5,easeInOut:DR,easeOut:Z5,circIn:jv,circInOut:LR,circOut:MR,backIn:Vv,backInOut:IR,backOut:CR,anticipate:PR},$5=e=>typeof e=="string",tx=e=>{if(NR(e)){zh(e.length===4);const[t,n,s,o]=e;return ff(t,n,s,o)}else if($5(e))return K5[e];return e},Ad=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function X5(e,t){let n=new Set,s=new Set,o=!1,u=!1;const f=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function y(E){f.has(E)&&(_.schedule(E),e()),E(p)}const _={schedule:(E,A=!1,x=!1)=>{const k=x&&o?n:s;return A&&f.add(E),k.has(E)||k.add(E),E},cancel:E=>{s.delete(E),f.delete(E)},process:E=>{if(p=E,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,_.process(E))}};return _}const Q5=40;function OR(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=Ad.reduce(($,yt)=>($[yt]=X5(u),$),{}),{setup:p,read:y,resolveKeyframes:_,preUpdate:E,update:A,preRender:x,render:D,postRender:k}=f,G=()=>{const $=_a.useManualTiming?o.timestamp:performance.now();n=!1,_a.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,Q5),1)),o.timestamp=$,o.isProcessing=!0,p.process(o),y.process(o),_.process(o),E.process(o),A.process(o),x.process(o),D.process(o),k.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(G))},Z=()=>{n=!0,s=!0,o.isProcessing||e(G)};return{schedule:Ad.reduce(($,yt)=>{const nt=f[yt];return $[yt]=(vt,F=!1,P=!1)=>(n||Z(),nt.schedule(vt,F,P)),$},{}),cancel:$=>{for(let yt=0;yt<Ad.length;yt++)f[Ad[yt]].cancel($)},state:o,steps:f}}const{schedule:Se,cancel:Xs,state:Ln,steps:oy}=OR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pi,!0);let Gd;function J5(){Gd=void 0}const Ii={now:()=>(Gd===void 0&&Ii.set(Ln.isProcessing||_a.useManualTiming?Ln.timestamp:performance.now()),Gd),set:e=>{Gd=e,queueMicrotask(J5)}},kR=e=>t=>typeof t=="string"&&t.startsWith(e),zv=kR("--"),tj=kR("var(--"),Uv=e=>tj(e)?ej.test(e.split("/*")[0].trim()):!1,ej=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ac={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uh={...ac,transform:e=>Lr(0,1,e)},Rd={...ac,default:1},Th=e=>Math.round(e*1e5)/1e5,Bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nj(e){return e==null}const ij=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fv=(e,t)=>n=>!!(typeof n=="string"&&ij.test(n)&&n.startsWith(e)||t&&!nj(n)&&Object.prototype.hasOwnProperty.call(n,t)),VR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,f,p]=s.match(Bv);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(f),alpha:p!==void 0?parseFloat(p):1}},sj=e=>Lr(0,255,e),ly={...ac,transform:e=>Math.round(sj(e))},Cl={test:Fv("rgb","red"),parse:VR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+ly.transform(e)+", "+ly.transform(t)+", "+ly.transform(n)+", "+Th(Uh.transform(s))+")"};function rj(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const i_={test:Fv("#"),parse:rj,transform:Cl.transform},df=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fo=df("deg"),Ir=df("%"),qt=df("px"),aj=df("vh"),oj=df("vw"),ex={...Ir,parse:e=>Ir.parse(e)/100,transform:e=>Ir.transform(e*100)},Pu={test:Fv("hsl","hue"),parse:VR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ir.transform(Th(t))+", "+Ir.transform(Th(n))+", "+Th(Uh.transform(s))+")"},mn={test:e=>Cl.test(e)||i_.test(e)||Pu.test(e),parse:e=>Cl.test(e)?Cl.parse(e):Pu.test(e)?Pu.parse(e):i_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cl.transform(e):Pu.transform(e),getAnimatableNone:e=>{const t=mn.parse(e);return t.alpha=0,mn.transform(t)}},lj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uj(e){return isNaN(e)&&typeof e=="string"&&(e.match(Bv)?.length||0)+(e.match(lj)?.length||0)>0}const jR="number",zR="color",cj="var",hj="var(",nx="${}",fj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const p=t.replace(fj,y=>(mn.test(y)?(s.color.push(u),o.push(zR),n.push(mn.parse(y))):y.startsWith(hj)?(s.var.push(u),o.push(cj),n.push(y)):(s.number.push(u),o.push(jR),n.push(parseFloat(y))),++u,nx)).split(nx);return{values:n,split:p,indexes:s,types:o}}function UR(e){return Bh(e).values}function BR(e){const{split:t,types:n}=Bh(e),s=t.length;return o=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],o[f]!==void 0){const p=n[f];p===jR?u+=Th(o[f]):p===zR?u+=mn.transform(o[f]):u+=o[f]}return u}}const dj=e=>typeof e=="number"?0:mn.test(e)?mn.getAnimatableNone(e):e;function pj(e){const t=UR(e);return BR(e)(t.map(dj))}const Lo={test:uj,parse:UR,createTransformer:BR,getAnimatableNone:pj};function uy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,f=0;if(!t)o=u=f=n;else{const p=n<.5?n*(1+t):n+t-n*t,y=2*n-p;o=uy(y,p,e+1/3),u=uy(y,p,e),f=uy(y,p,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function Tp(e,t){return n=>n>0?t:e}const Ze=(e,t,n)=>e+(t-e)*n,cy=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},gj=[i_,Cl,Pu],yj=e=>gj.find(t=>t.test(e));function ix(e){const t=yj(e);if(!t)return!1;let n=t.parse(e);return t===Pu&&(n=mj(n)),n}const sx=(e,t)=>{const n=ix(e),s=ix(t);if(!n||!s)return Tp(e,t);const o={...n};return u=>(o.red=cy(n.red,s.red,u),o.green=cy(n.green,s.green,u),o.blue=cy(n.blue,s.blue,u),o.alpha=Ze(n.alpha,s.alpha,u),Cl.transform(o))},s_=new Set(["none","hidden"]);function _j(e,t){return s_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vj(e,t){return n=>Ze(e,t,n)}function Hv(e){return typeof e=="number"?vj:typeof e=="string"?Uv(e)?Tp:mn.test(e)?sx:Ej:Array.isArray(e)?FR:typeof e=="object"?mn.test(e)?sx:Tj:Tp}function FR(e,t){const n=[...e],s=n.length,o=e.map((u,f)=>Hv(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=o[f](u);return n}}function Tj(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Hv(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function bj(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=e.indexes[u][s[u]],p=e.values[f]??0;n[o]=p,s[u]++}return n}const Ej=(e,t)=>{const n=Lo.createTransformer(t),s=Bh(e),o=Bh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?s_.has(e)&&!o.values.length||s_.has(t)&&!s.values.length?_j(e,t):hf(FR(bj(s,o),o.values),n):Tp(e,t)};function HR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ze(e,t,n):Hv(e)(e,t)}const wj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Se.update(t,n),stop:()=>Xs(t),now:()=>Ln.isProcessing?Ln.timestamp:Ii.now()}},qR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},bp=2e4;function qv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<bp;)t+=n,s=e.next(t);return t>=bp?1/0:t}function xj(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(qv(s),bp);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Cr(o)}}const Sj=5;function GR(e,t,n){const s=Math.max(t-Sj,0);return kv(n-e(s),t-s)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hy=.001;function Aj({duration:e=Je.duration,bounce:t=Je.bounce,velocity:n=Je.velocity,mass:s=Je.mass}){let o,u,f=1-t;f=Lr(Je.minDamping,Je.maxDamping,f),e=Lr(Je.minDuration,Je.maxDuration,Cr(e)),f<1?(o=_=>{const E=_*f,A=E*e,x=E-n,D=r_(_,f),k=Math.exp(-A);return hy-x/D*k},u=_=>{const A=_*f*e,x=A*n+n,D=Math.pow(f,2)*Math.pow(_,2)*e,k=Math.exp(-A),G=r_(Math.pow(_,2),f);return(-o(_)+hy>0?-1:1)*((x-D)*k)/G}):(o=_=>{const E=Math.exp(-_*e),A=(_-n)*e+1;return-hy+E*A},u=_=>{const E=Math.exp(-_*e),A=(n-_)*(e*e);return E*A});const p=5/e,y=Cj(o,u,p);if(e=Rr(e),isNaN(y))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const _=Math.pow(y,2)*s;return{stiffness:_,damping:f*2*Math.sqrt(s*_),duration:e}}}const Rj=12;function Cj(e,t,n){let s=n;for(let o=1;o<Rj;o++)s=s-e(s)/t(s);return s}function r_(e,t){return e*Math.sqrt(1-t*t)}const Ij=["duration","bounce"],Pj=["stiffness","damping","mass"];function rx(e,t){return t.some(n=>e[n]!==void 0)}function Mj(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!rx(e,Pj)&&rx(e,Ij))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*Lr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Je.mass,stiffness:o,damping:u}}else{const n=Aj(e);t={...t,...n,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Ep(e=Je.visualDuration,t=Je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],p={done:!1,value:u},{stiffness:y,damping:_,mass:E,duration:A,velocity:x,isResolvedFromDuration:D}=Mj({...n,velocity:-Cr(n.velocity||0)}),k=x||0,G=_/(2*Math.sqrt(y*E)),Z=f-u,Y=Cr(Math.sqrt(y/E)),st=Math.abs(Z)<5;s||(s=st?Je.restSpeed.granular:Je.restSpeed.default),o||(o=st?Je.restDelta.granular:Je.restDelta.default);let $;if(G<1){const nt=r_(Y,G);$=vt=>{const F=Math.exp(-G*Y*vt);return f-F*((k+G*Y*Z)/nt*Math.sin(nt*vt)+Z*Math.cos(nt*vt))}}else if(G===1)$=nt=>f-Math.exp(-Y*nt)*(Z+(k+Y*Z)*nt);else{const nt=Y*Math.sqrt(G*G-1);$=vt=>{const F=Math.exp(-G*Y*vt),P=Math.min(nt*vt,300);return f-F*((k+G*Y*Z)*Math.sinh(P)+nt*Z*Math.cosh(P))/nt}}const yt={calculatedDuration:D&&A||null,next:nt=>{const vt=$(nt);if(D)p.done=nt>=A;else{let F=nt===0?k:0;G<1&&(F=nt===0?Rr(k):GR($,nt,vt));const P=Math.abs(F)<=s,N=Math.abs(f-vt)<=o;p.done=P&&N}return p.value=p.done?f:vt,p},toString:()=>{const nt=Math.min(qv(yt),bp),vt=qR(F=>yt.next(nt*F).value,nt,30);return nt+"ms "+vt},toTransition:()=>{}};return yt}Ep.applyToOptions=e=>{const t=xj(e,100,Ep);return e.ease=t.ease,e.duration=Rr(t.duration),e.type="keyframes",e};function a_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:p,max:y,restDelta:_=.5,restSpeed:E}){const A=e[0],x={done:!1,value:A},D=P=>p!==void 0&&P<p||y!==void 0&&P>y,k=P=>p===void 0?y:y===void 0||Math.abs(p-P)<Math.abs(y-P)?p:y;let G=n*t;const Z=A+G,Y=f===void 0?Z:f(Z);Y!==Z&&(G=Y-A);const st=P=>-G*Math.exp(-P/s),$=P=>Y+st(P),yt=P=>{const N=st(P),U=$(P);x.done=Math.abs(N)<=_,x.value=x.done?Y:U};let nt,vt;const F=P=>{D(x.value)&&(nt=P,vt=Ep({keyframes:[x.value,k(x.value)],velocity:GR($,P,x.value),damping:o,stiffness:u,restDelta:_,restSpeed:E}))};return F(0),{calculatedDuration:null,next:P=>{let N=!1;return!vt&&nt===void 0&&(N=!0,yt(P),F(P)),nt!==void 0&&P>=nt?vt.next(P-nt):(!N&&yt(P),x)}}}function Lj(e,t,n){const s=[],o=n||_a.mix||HR,u=e.length-1;for(let f=0;f<u;f++){let p=o(e[f],e[f+1]);if(t){const y=Array.isArray(t)?t[f]||Pi:t;p=hf(y,p)}s.push(p)}return s}function Gv(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(zh(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=Lj(t,s,o),y=p.length,_=E=>{if(f&&E<e[0])return t[0];let A=0;if(y>1)for(;A<e.length-2&&!(E<e[A+1]);A++);const x=Yu(e[A],e[A+1],E);return p[A](x)};return n?E=>_(Lr(e[0],e[u-1],E)):_}function Dj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Yu(0,t,s);e.push(Ze(n,1,o))}}function WR(e){const t=[0];return Dj(t,e.length-1),t}function Nj(e,t){return e.map(n=>n*t)}function Oj(e,t){return e.map(()=>t||DR).splice(0,e.length-1)}function bh({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Y5(s)?s.map(tx):tx(s),u={done:!1,value:t[0]},f=Nj(n&&n.length===t.length?n:WR(t),e),p=Gv(f,t,{ease:Array.isArray(o)?o:Oj(t,o)});return{calculatedDuration:e,next:y=>(u.value=p(y),u.done=y>=e,u)}}const kj=e=>e!==null;function Wv(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(kj),p=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!p||s===void 0?u[p]:s}const Vj={decay:a_,inertia:a_,tween:bh,keyframes:bh,spring:Ep};function ZR(e){typeof e.type=="string"&&(e.type=Vj[e.type])}class Zv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const jj=e=>e/100;class Yv extends Zv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ii.now()&&this.tick(Ii.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ZR(t);const{type:n=bh,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:p}=t;const y=n||bh;y!==bh&&typeof p[0]!="number"&&(this.mixKeyframes=hf(jj,HR(p[0],p[1])),p=[0,100]);const _=y({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...p].reverse(),velocity:-f})),_.calculatedDuration===null&&(_.calculatedDuration=qv(_));const{calculatedDuration:E}=_;this.calculatedDuration=E,this.resolvedDuration=E+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=_}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:p,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:_=0,keyframes:E,repeat:A,repeatType:x,repeatDelay:D,type:k,onUpdate:G,finalKeyframe:Z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-_*(this.playbackSpeed>=0?1:-1),st=this.playbackSpeed>=0?Y<0:Y>o;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,yt=s;if(A){const P=Math.min(this.currentTime,o)/p;let N=Math.floor(P),U=P%1;!U&&P>=1&&(U=1),U===1&&N--,N=Math.min(N,A+1),!!(N%2)&&(x==="reverse"?(U=1-U,D&&(U-=D/p)):x==="mirror"&&(yt=f)),$=Lr(0,1,U)*p}const nt=st?{done:!1,value:E[0]}:yt.next($);u&&(nt.value=u(nt.value));let{done:vt}=nt;!st&&y!==null&&(vt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&vt);return F&&k!==a_&&(nt.value=Wv(E,this.options,Z,this.speed)),G&&G(nt.value),F&&this.finish(),nt}then(t,n){return this.finished.then(t,n)}get duration(){return Cr(this.calculatedDuration)}get time(){return Cr(this.currentTime)}set time(t){t=Rr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ii.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Cr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=wj,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ii.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Il=e=>e*180/Math.PI,o_=e=>{const t=Il(Math.atan2(e[1],e[0]));return l_(t)},Uj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:o_,rotateZ:o_,skewX:e=>Il(Math.atan(e[1])),skewY:e=>Il(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},l_=e=>(e=e%360,e<0&&(e+=360),e),ax=o_,ox=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),lx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Bj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ox,scaleY:lx,scale:e=>(ox(e)+lx(e))/2,rotateX:e=>l_(Il(Math.atan2(e[6],e[5]))),rotateY:e=>l_(Il(Math.atan2(-e[2],e[0]))),rotateZ:ax,rotate:ax,skewX:e=>Il(Math.atan(e[4])),skewY:e=>Il(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function u_(e){return e.includes("scale")?1:0}function c_(e,t){if(!e||e==="none")return u_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=Bj,o=n;else{const p=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Uj,o=p}if(!o)return u_(t);const u=s[t],f=o[1].split(",").map(Hj);return typeof u=="function"?u(f):f[u]}const Fj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return c_(n,t)};function Hj(e){return parseFloat(e.trim())}const oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lc=new Set(oc),ux=e=>e===ac||e===qt,qj=new Set(["x","y","z"]),Gj=oc.filter(e=>!qj.has(e));function Wj(e){const t=[];return Gj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ml={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>c_(t,"x"),y:(e,{transform:t})=>c_(t,"y")};Ml.translateX=Ml.x;Ml.translateY=Ml.y;const Ll=new Set;let h_=!1,f_=!1,d_=!1;function YR(){if(f_){const e=Array.from(Ll).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=Wj(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}f_=!1,h_=!1,Ll.forEach(e=>e.complete(d_)),Ll.clear()}function KR(){Ll.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(f_=!0)})}function Zj(){d_=!0,KR(),YR(),d_=!1}class Kv{constructor(t,n,s,o,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Ll.add(this),h_||(h_=!0,Se.read(KR),Se.resolveKeyframes(YR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const p=s.readValue(n,f);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}zj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ll.delete(this)}cancel(){this.state==="scheduled"&&(Ll.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Yj=e=>e.startsWith("--");function Kj(e,t,n){Yj(t)?e.style.setProperty(t,n):e.style[t]=n}const $R=Nv(()=>window.ScrollTimeline!==void 0),$j={};function Xj(e,t){const n=Nv(e);return()=>$j[t]??n()}const XR=Xj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hh=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,cx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function QR(e,t){if(e)return typeof e=="function"?XR()?qR(e,t):"ease-out":NR(e)?hh(e):Array.isArray(e)?e.map(n=>QR(n,t)||cx.easeOut):cx[e]}function Qj(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:p="easeOut",times:y}={},_=void 0){const E={[t]:n};y&&(E.offset=y);const A=QR(p,o);Array.isArray(A)&&(E.easing=A);const x={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return _&&(x.pseudoElement=_),e.animate(E,x)}function JR(e){return typeof e=="function"&&"applyToOptions"in e}function Jj({type:e,...t}){return JR(e)&&XR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class t4 extends Zv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:p,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,zh(typeof t.type!="string");const _=Jj(t);this.animation=Qj(n,s,o,_,u),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const E=Wv(o,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(E):Kj(n,s,E),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Cr(Number(t))}get time(){return Cr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Rr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$R()?(this.animation.timeline=t,Pi):n(this)}}const tC={anticipate:PR,backInOut:IR,circInOut:LR};function e4(e){return e in tC}function n4(e){typeof e.ease=="string"&&e4(e.ease)&&(e.ease=tC[e.ease])}const hx=10;class i4 extends t4{constructor(t){n4(t),ZR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const p=new Yv({...f,autoplay:!1}),y=Rr(this.finishedTime??this.time);n.setWithVelocity(p.sample(y-hx).value,p.sample(y).value,hx),p.stop()}}const fx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lo.test(e)||e==="0")&&!e.startsWith("url("));function s4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function r4(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=fx(o,t),p=fx(u,t);return!f||!p?!1:s4(e)||(n==="spring"||JR(n))&&s}const a4=new Set(["opacity","clipPath","filter","transform"]),o4=Nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function l4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=t.owner.getProps();return o4()&&n&&a4.has(n)&&(n!=="transform"||!_)&&!y&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}const u4=40;class c4 extends Zv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:p,name:y,motionValue:_,element:E,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ii.now();const x={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:f,name:y,motionValue:_,element:E,...A},D=E?.KeyframeResolver||Kv;this.keyframeResolver=new D(p,(k,G,Z)=>this.onKeyframesResolved(k,G,x,!Z),y,_,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:p,delay:y,isHandoff:_,onUpdate:E}=s;this.resolvedAt=Ii.now(),r4(t,u,f,p)||((_a.instantAnimations||!y)&&E?.(Wv(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>u4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},D=!_&&l4(x)?new i4({...x,element:x.motionValue.owner.current}):new Yv(x);D.finished.then(()=>this.notifyFinished()).catch(Pi),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Zj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const h4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f4(e){const t=h4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function eC(e,t,n=1){const[s,o]=f4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return ER(f)?parseFloat(f):f}return Uv(o)?eC(o,t,n+1):o}function $v(e,t){return e?.[t]??e?.default??e}const nC=new Set(["width","height","top","left","right","bottom",...oc]),d4={test:e=>e==="auto",parse:e=>e},iC=e=>t=>t.test(e),sC=[ac,qt,Ir,fo,oj,aj,d4],dx=e=>sC.find(iC(e));function p4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xR(e):!0}const m4=new Set(["brightness","contrast","saturate","opacity"]);function g4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Bv)||[];if(!s)return e;const o=n.replace(s,"");let u=m4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const y4=/\b([a-z-]*)\(.*?\)/gu,p_={...Lo,getAnimatableNone:e=>{const t=e.match(y4);return t?t.map(g4).join(" "):e}},px={...ac,transform:Math.round},_4={rotate:fo,rotateX:fo,rotateY:fo,rotateZ:fo,scale:Rd,scaleX:Rd,scaleY:Rd,scaleZ:Rd,skew:fo,skewX:fo,skewY:fo,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:Uh,originX:ex,originY:ex,originZ:qt},Xv={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt,..._4,zIndex:px,fillOpacity:Uh,strokeOpacity:Uh,numOctaves:px},v4={...Xv,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:p_,WebkitFilter:p_},rC=e=>v4[e];function aC(e,t){let n=rC(e);return n!==p_&&(n=Lo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const T4=new Set(["auto","none","0"]);function b4(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!T4.has(u)&&Bh(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=aC(n,o)}class E4 extends Kv{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Uv(_))){const E=eC(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!nC.has(s)||t.length!==2)return;const[o,u]=t,f=dx(o),p=dx(u);if(f!==p)if(ux(f)&&ux(p))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Ml[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||p4(t[o]))&&s.push(o);s.length&&b4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ml[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=Ml[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,y])=>{t.getValue(p).set(y)}),this.resolveNoneKeyframes()}}function oC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const lC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function uC(e){return wR(e)&&"offsetHeight"in e}const mx=30,w4=e=>!isNaN(parseFloat(e)),Eh={current:void 0};class x4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=Ii.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ii.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=w4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ov);const s=this.events[t].add(n);return t==="change"?()=>{s(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Eh.current&&Eh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mx);return kv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ys(e,t){return new x4(e,t)}const{schedule:Qv}=OR(queueMicrotask,!1),Ws={x:!1,y:!1};function cC(){return Ws.x||Ws.y}function S4(e){return e==="x"||e==="y"?Ws[e]?null:(Ws[e]=!0,()=>{Ws[e]=!1}):Ws.x||Ws.y?null:(Ws.x=Ws.y=!0,()=>{Ws.x=Ws.y=!1})}function hC(e,t){const n=oC(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function gx(e){return!(e.pointerType==="touch"||cC())}function A4(e,t,n={}){const[s,o,u]=hC(e,n),f=p=>{if(!gx(p))return;const{target:y}=p,_=t(y,p);if(typeof _!="function"||!y)return;const E=A=>{gx(A)&&(_(A),y.removeEventListener("pointerleave",E))};y.addEventListener("pointerleave",E,o)};return s.forEach(p=>{p.addEventListener("pointerenter",f,o)}),u}const fC=(e,t)=>t?e===t?!0:fC(e,t.parentElement):!1,Jv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,R4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C4(e){return R4.has(e.tagName)||e.tabIndex!==-1}const Wd=new WeakSet;function yx(e){return t=>{t.key==="Enter"&&e(t)}}function fy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const I4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=yx(()=>{if(Wd.has(n))return;fy(n,"down");const o=yx(()=>{fy(n,"up")}),u=()=>fy(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function _x(e){return Jv(e)&&!cC()}function P4(e,t,n={}){const[s,o,u]=hC(e,n),f=p=>{const y=p.currentTarget;if(!_x(p))return;Wd.add(y);const _=t(y,p),E=(D,k)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",x),Wd.has(y)&&Wd.delete(y),_x(D)&&typeof _=="function"&&_(D,{success:k})},A=D=>{E(D,y===window||y===document||n.useGlobalTarget||fC(y,D.target))},x=D=>{E(D,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",x,o)};return s.forEach(p=>{(n.useGlobalTarget?window:p).addEventListener("pointerdown",f,o),uC(p)&&(p.addEventListener("focus",_=>I4(_,o)),!C4(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function t0(e){return wR(e)&&"ownerSVGElement"in e}const Zd=new WeakMap;let Yd;const dC=(e,t,n)=>(s,o)=>o&&o[0]?o[0][e+"Size"]:t0(s)&&"getBBox"in s?s.getBBox()[t]:s[n],M4=dC("inline","width","offsetWidth"),L4=dC("block","height","offsetHeight");function D4({target:e,borderBoxSize:t}){Zd.get(e)?.forEach(n=>{n(e,{get width(){return M4(e,t)},get height(){return L4(e,t)}})})}function N4(e){e.forEach(D4)}function O4(){typeof ResizeObserver>"u"||(Yd=new ResizeObserver(N4))}function k4(e,t){Yd||O4();const n=oC(e);return n.forEach(s=>{let o=Zd.get(s);o||(o=new Set,Zd.set(s,o)),o.add(t),Yd?.observe(s)}),()=>{n.forEach(s=>{const o=Zd.get(s);o?.delete(t),o?.size||Yd?.unobserve(s)})}}const Kd=new Set;let Mu;function V4(){Mu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Kd.forEach(t=>t(e))},window.addEventListener("resize",Mu)}function j4(e){return Kd.add(e),Mu||V4(),()=>{Kd.delete(e),!Kd.size&&typeof Mu=="function"&&(window.removeEventListener("resize",Mu),Mu=void 0)}}function z4(e,t){return typeof e=="function"?j4(e):k4(e,t)}function pC(e,t){let n;const s=()=>{const{currentTime:o}=t,f=(o===null?0:o.value)/100;n!==f&&e(f),n=f};return Se.preUpdate(s,!0),()=>Xs(s)}function U4(e){return t0(e)&&e.tagName==="svg"}function B4(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],u=e[2+n],f=e[3+n],p=Gv(o,u,f);return t?p(s):p}const ii=e=>!!(e&&e.getVelocity),F4=[...sC,mn,Lo],H4=e=>F4.find(iC(e)),e0=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function q4(e=!0){const t=V.useContext(Mv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=V.useId();V.useEffect(()=>{if(e)return o(u)},[e]);const f=V.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const mC=V.createContext({strict:!1}),vx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ku={};for(const e in vx)Ku[e]={isEnabled:t=>vx[e].some(n=>!!t[n])};function G4(e){for(const t in e)Ku[t]={...Ku[t],...e[t]}}const W4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||W4.has(e)}let gC=e=>!wp(e);function Z4(e){typeof e=="function"&&(gC=t=>t.startsWith("on")?!wp(t):e(t))}try{Z4(require("@emotion/is-prop-valid").default)}catch{}function Y4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(gC(o)||n===!0&&wp(o)||!t&&!wp(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const em=V.createContext({});function nm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fh(e){return typeof e=="string"||Array.isArray(e)}const n0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i0=["initial",...n0];function im(e){return nm(e.animate)||i0.some(t=>Fh(e[t]))}function yC(e){return!!(im(e)||e.variants)}function K4(e,t){if(im(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Fh(n)?n:void 0,animate:Fh(s)?s:void 0}}return e.inherit!==!1?t:{}}function $4(e){const{initial:t,animate:n}=K4(e,V.useContext(em));return V.useMemo(()=>({initial:t,animate:n}),[Tx(t),Tx(n)])}function Tx(e){return Array.isArray(e)?e.join(" "):e}const Hh={};function X4(e){for(const t in e)Hh[t]=e[t],zv(t)&&(Hh[t].isCSSVariable=!0)}function _C(e,{layout:t,layoutId:n}){return lc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hh[e]||e==="opacity")}const Q4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J4=oc.length;function t3(e,t,n){let s="",o=!0;for(let u=0;u<J4;u++){const f=oc[u],p=e[f];if(p===void 0)continue;let y=!0;if(typeof p=="number"?y=p===(f.startsWith("scale")?1:0):y=parseFloat(p)===0,!y||n){const _=lC(p,Xv[f]);if(!y){o=!1;const E=Q4[f]||f;s+=`${E}(${_}) `}n&&(t[f]=_)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function s0(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let f=!1,p=!1;for(const y in t){const _=t[y];if(lc.has(y)){f=!0;continue}else if(zv(y)){o[y]=_;continue}else{const E=lC(_,Xv[y]);y.startsWith("origin")?(p=!0,u[y]=E):s[y]=E}}if(t.transform||(f||n?s.transform=t3(t,e.transform,n):s.transform&&(s.transform="none")),p){const{originX:y="50%",originY:_="50%",originZ:E=0}=u;s.transformOrigin=`${y} ${_} ${E}`}}const r0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vC(e,t,n){for(const s in t)!ii(t[s])&&!_C(s,n)&&(e[s]=t[s])}function e3({transformTemplate:e},t){return V.useMemo(()=>{const n=r0();return s0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function n3(e,t){const n=e.style||{},s={};return vC(s,n,e),Object.assign(s,e3(e,t)),s}function i3(e,t){const n={},s=n3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const s3={offset:"stroke-dashoffset",array:"stroke-dasharray"},r3={offset:"strokeDashoffset",array:"strokeDasharray"};function a3(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?s3:r3;e[u.offset]=qt.transform(-s);const f=qt.transform(t),p=qt.transform(n);e[u.array]=`${f} ${p}`}function TC(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...p},y,_,E){if(s0(e,p,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:x}=e;A.transform&&(x.transform=A.transform,delete A.transform),(x.transform||A.transformOrigin)&&(x.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),x.transform&&(x.transformBox=E?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&a3(A,o,u,f,!1)}const bC=()=>({...r0(),attrs:{}}),EC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function o3(e,t,n,s){const o=V.useMemo(()=>{const u=bC();return TC(u,t,EC(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};vC(u,e.style,e),o.style={...u,...o.style}}return o}const l3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a0(e){return typeof e!="string"||e.includes("-")?!1:!!(l3.indexOf(e)>-1||/[A-Z]/u.test(e))}function u3(e,t,n,{latestValues:s},o,u=!1){const p=(a0(e)?o3:i3)(t,s,o,e),y=Y4(t,typeof e=="string",u),_=e!==V.Fragment?{...y,...p,ref:n}:{},{children:E}=t,A=V.useMemo(()=>ii(E)?E.get():E,[E]);return V.createElement(e,{..._,children:A})}function bx(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function o0(e,t,n,s){if(typeof t=="function"){const[o,u]=bx(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=bx(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function $d(e){return ii(e)?e.get():e}function c3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:h3(n,s,o,e),renderState:t()}}function h3(e,t,n,s){const o={},u=s(e,{});for(const x in u)o[x]=$d(u[x]);let{initial:f,animate:p}=e;const y=im(e),_=yC(e);t&&_&&!y&&e.inherit!==!1&&(f===void 0&&(f=t.initial),p===void 0&&(p=t.animate));let E=n?n.initial===!1:!1;E=E||f===!1;const A=E?p:f;if(A&&typeof A!="boolean"&&!nm(A)){const x=Array.isArray(A)?A:[A];for(let D=0;D<x.length;D++){const k=o0(e,x[D]);if(k){const{transitionEnd:G,transition:Z,...Y}=k;for(const st in Y){let $=Y[st];if(Array.isArray($)){const yt=E?$.length-1:0;$=$[yt]}$!==null&&(o[st]=$)}for(const st in G)o[st]=G[st]}}}return o}const wC=e=>(t,n)=>{const s=V.useContext(em),o=V.useContext(Mv),u=()=>c3(e,t,s,o);return n?u():tm(u)};function l0(e,t,n){const{style:s}=e,o={};for(const u in s)(ii(s[u])||t.style&&ii(t.style[u])||_C(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const f3=wC({scrapeMotionValuesFromProps:l0,createRenderState:r0});function xC(e,t,n){const s=l0(e,t,n);for(const o in e)if(ii(e[o])||ii(t[o])){const u=oc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const d3=wC({scrapeMotionValuesFromProps:xC,createRenderState:bC}),p3=Symbol.for("motionComponentSymbol");function Lu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function m3(e,t,n){return V.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Lu(n)&&(n.current=s))},[t])}const u0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g3="framerAppearId",SC="data-"+u0(g3),AC=V.createContext({});function y3(e,t,n,s,o){const{visualElement:u}=V.useContext(em),f=V.useContext(mC),p=V.useContext(Mv),y=V.useContext(e0).reducedMotion,_=V.useRef(null);s=s||f.renderer,!_.current&&s&&(_.current=s(e,{visualState:t,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,A=V.useContext(AC);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&_3(_.current,n,o,A);const x=V.useRef(!1);V.useInsertionEffect(()=>{E&&x.current&&E.update(n,p)});const D=n[SC],k=V.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return Pv(()=>{E&&(x.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),k.current&&E.animationState&&E.animationState.animateChanges())}),V.useEffect(()=>{E&&(!k.current&&E.animationState&&E.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),k.current=!1))}),E}function _3(e,t,n,s){const{layoutId:o,layout:u,drag:f,dragConstraints:p,layoutScroll:y,layoutRoot:_,layoutCrossfade:E}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RC(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||p&&Lu(p),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:E,layoutScroll:y,layoutRoot:_})}function RC(e){if(e)return e.options.allowProjection!==!1?e.projection:RC(e.parent)}function dy(e,{forwardMotionProps:t=!1}={},n,s){n&&G4(n);const o=a0(e)?d3:f3;function u(p,y){let _;const E={...V.useContext(e0),...p,layoutId:v3(p)},{isStatic:A}=E,x=$4(p),D=o(p,A);if(!A&&Iv){T3();const k=b3(E);_=k.MeasureLayout,x.visualElement=y3(e,D,E,s,k.ProjectionNode)}return T.jsxs(em.Provider,{value:x,children:[_&&x.visualElement?T.jsx(_,{visualElement:x.visualElement,...E}):null,u3(e,p,m3(D,x.visualElement,y),D,A,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=V.forwardRef(u);return f[p3]=e,f}function v3({layoutId:e}){const t=V.useContext(bR).id;return t&&e!==void 0?t+"-"+e:e}function T3(e,t){V.useContext(mC).strict}function b3(e){const{drag:t,layout:n}=Ku;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function E3(e,t){if(typeof Proxy>"u")return dy;const n=new Map,s=(u,f)=>dy(u,f,e,t),o=(u,f)=>s(u,f);return new Proxy(o,{get:(u,f)=>f==="create"?s:(n.has(f)||n.set(f,dy(f,void 0,e,t)),n.get(f))})}function CC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function w3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function x3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function py(e){return e===void 0||e===1}function m_({scale:e,scaleX:t,scaleY:n}){return!py(e)||!py(t)||!py(n)}function wl(e){return m_(e)||IC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IC(e){return Ex(e.x)||Ex(e.y)}function Ex(e){return e&&e!=="0%"}function xp(e,t,n){const s=e-n,o=t*s;return n+o}function wx(e,t,n,s,o){return o!==void 0&&(e=xp(e,o,s)),xp(e,n,s)+t}function g_(e,t=0,n=1,s,o){e.min=wx(e.min,t,n,s,o),e.max=wx(e.max,t,n,s,o)}function PC(e,{x:t,y:n}){g_(e.x,t.translate,t.scale,t.originPoint),g_(e.y,n.translate,n.scale,n.originPoint)}const xx=.999999999999,Sx=1.0000000000001;function S3(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,f;for(let p=0;p<o;p++){u=n[p],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Nu(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,PC(e,f)),s&&wl(u.latestValues)&&Nu(e,u.latestValues))}t.x<Sx&&t.x>xx&&(t.x=1),t.y<Sx&&t.y>xx&&(t.y=1)}function Du(e,t){e.min=e.min+t,e.max=e.max+t}function Ax(e,t,n,s,o=.5){const u=Ze(e.min,e.max,o);g_(e,t,n,u,s)}function Nu(e,t){Ax(e.x,t.x,t.scaleX,t.scale,t.originX),Ax(e.y,t.y,t.scaleY,t.scale,t.originY)}function MC(e,t){return CC(x3(e.getBoundingClientRect(),t))}function A3(e,t,n){const s=MC(e,n),{scroll:o}=t;return o&&(Du(s.x,o.offset.x),Du(s.y,o.offset.y)),s}const Rx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ou=()=>({x:Rx(),y:Rx()}),Cx=()=>({min:0,max:0}),on=()=>({x:Cx(),y:Cx()}),y_={current:null},LC={current:!1};function R3(){if(LC.current=!0,!!Iv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>y_.current=e.matches;e.addEventListener("change",t),t()}else y_.current=!1}const C3=new WeakMap;function I3(e,t,n){for(const s in t){const o=t[s],u=n[s];if(ii(o))e.addValue(s,o);else if(ii(u))e.addValue(s,Ys(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=e.getStaticValue(s);e.addValue(s,Ys(f!==void 0?f:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ix=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ii.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Se.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=im(n),this.isVariantNode=yC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in A){const D=A[x];y[x]!==void 0&&ii(D)&&D.set(y[x],!1)}}mount(t){this.current=t,C3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),LC.current||R3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=lc.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Se.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ku){const n=Ku[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ix.length;s++){const o=Ix[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=I3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ys(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(ER(s)||xR(s))?s=parseFloat(s):!H4(s)&&Lo.test(n)&&(s=aC(t,n)),this.setBaseTarget(t,ii(s)?s.get():s)),ii(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=o0(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ii(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ov),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Qv.render(this.render)}}class DC extends P3{constructor(){super(...arguments),this.KeyframeResolver=E4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ii(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NC(e,{style:t,vars:n},s,o){const u=e.style;let f;for(f in t)u[f]=t[f];o?.applyProjectionStyles(u,s);for(f in n)u.setProperty(f,n[f])}function M3(e){return window.getComputedStyle(e)}class L3 extends DC{constructor(){super(...arguments),this.type="html",this.renderInstance=NC}readValueFromInstance(t,n){if(lc.has(n))return this.projection?.isProjecting?u_(n):Fj(t,n);{const s=M3(t),o=(zv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return MC(t,n)}build(t,n,s){s0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return l0(t,n,s)}}const OC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D3(e,t,n,s){NC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(OC.has(o)?o:u0(o),t.attrs[o])}class N3 extends DC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(lc.has(n)){const s=rC(n);return s&&s.default||0}return n=OC.has(n)?n:u0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return xC(t,n,s)}build(t,n,s){TC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){D3(t,n,s,o)}mount(t){this.isSVGTag=EC(t.tagName),super.mount(t)}}const O3=(e,t)=>a0(e)?new N3(t):new L3(t,{allowProjection:e!==V.Fragment});function qh(e,t,n){const s=e.getProps();return o0(s,t,n!==void 0?n:s.custom,e)}const __=e=>Array.isArray(e);function k3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ys(n))}function V3(e){return __(e)?e[e.length-1]||0:e}function j3(e,t){const n=qh(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const f in u){const p=V3(u[f]);k3(e,f,p)}}function z3(e){return!!(ii(e)&&e.add)}function v_(e,t){const n=e.getValue("willChange");if(z3(n))return n.add(t);if(!n&&_a.WillChange){const s=new _a.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function kC(e){return e.props[SC]}const U3=e=>e!==null;function B3(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(U3),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const F3={type:"spring",stiffness:500,damping:25,restSpeed:10},H3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),q3={type:"keyframes",duration:.8},G3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W3=(e,{keyframes:t})=>t.length>2?q3:lc.has(e)?e.startsWith("scale")?H3(t[1]):F3:G3;function Z3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:p,from:y,elapsed:_,...E}){return!!Object.keys(E).length}const c0=(e,t,n,s={},o,u)=>f=>{const p=$v(s,e)||{},y=p.delay||s.delay||0;let{elapsed:_=0}=s;_=_-Rr(y);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-_,onUpdate:x=>{t.set(x),p.onUpdate&&p.onUpdate(x)},onComplete:()=>{f(),p.onComplete&&p.onComplete()},name:e,motionValue:t,element:u?void 0:o};Z3(p)||Object.assign(E,W3(e,E)),E.duration&&(E.duration=Rr(E.duration)),E.repeatDelay&&(E.repeatDelay=Rr(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(A=!0)),(_a.instantAnimations||_a.skipAnimations)&&(A=!0,E.duration=0,E.delay=0),E.allowFlatten=!p.type&&!p.ease,A&&!u&&t.get()!==void 0){const x=B3(E.keyframes,p);if(x!==void 0){Se.update(()=>{E.onUpdate(x),E.onComplete()});return}}return p.isSync?new Yv(E):new c4(E)};function Y3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function VC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:f,...p}=t;s&&(u=s);const y=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const E in p){const A=e.getValue(E,e.latestValues[E]??null),x=p[E];if(x===void 0||_&&Y3(_,E))continue;const D={delay:n,...$v(u||{},E)},k=A.get();if(k!==void 0&&!A.isAnimating&&!Array.isArray(x)&&x===k&&!D.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const Y=kC(e);if(Y){const st=window.MotionHandoffAnimation(Y,E,Se);st!==null&&(D.startTime=st,G=!0)}}v_(e,E),A.start(c0(E,A,x,e.shouldReduceMotion&&nC.has(E)?{type:!1}:D,e,G));const Z=A.animation;Z&&y.push(Z)}return f&&Promise.all(y).then(()=>{Se.update(()=>{f&&j3(e,f)})}),y}function T_(e,t,n={}){const s=qh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(VC(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:E,staggerDirection:A}=o;return K3(e,t,y,_,E,A,n)}:()=>Promise.resolve(),{when:p}=o;if(p){const[y,_]=p==="beforeChildren"?[u,f]:[f,u];return y().then(()=>_())}else return Promise.all([u(),f(n.delay)])}function K3(e,t,n=0,s=0,o=0,u=1,f){const p=[],y=e.variantChildren.size,_=(y-1)*o,E=typeof s=="function",A=E?x=>s(x,y):u===1?(x=0)=>x*o:(x=0)=>_-x*o;return Array.from(e.variantChildren).sort($3).forEach((x,D)=>{x.notify("AnimationStart",t),p.push(T_(x,t,{...f,delay:n+(E?0:s)+A(D)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(p)}function $3(e,t){return e.sortNodePosition(t)}function X3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>T_(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=T_(e,t,n);else{const o=typeof t=="function"?qh(e,t,n.custom):t;s=Promise.all(VC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function jC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Q3=i0.length;function zC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Q3;n++){const s=i0[n],o=e.props[s];(Fh(o)||o===!1)&&(t[s]=o)}return t}const J3=[...n0].reverse(),t6=n0.length;function e6(e){return t=>Promise.all(t.map(({animation:n,options:s})=>X3(e,n,s)))}function n6(e){let t=e6(e),n=Px(),s=!0;const o=y=>(_,E)=>{const A=qh(e,E,y==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:x,transitionEnd:D,...k}=A;_={..._,...k,...D}}return _};function u(y){t=y(e)}function f(y){const{props:_}=e,E=zC(e.parent)||{},A=[],x=new Set;let D={},k=1/0;for(let Z=0;Z<t6;Z++){const Y=J3[Z],st=n[Y],$=_[Y]!==void 0?_[Y]:E[Y],yt=Fh($),nt=Y===y?st.isActive:null;nt===!1&&(k=Z);let vt=$===E[Y]&&$!==_[Y]&&yt;if(vt&&s&&e.manuallyAnimateOnMount&&(vt=!1),st.protectedKeys={...D},!st.isActive&&nt===null||!$&&!st.prevProp||nm($)||typeof $=="boolean")continue;const F=i6(st.prevProp,$);let P=F||Y===y&&st.isActive&&!vt&&yt||Z>k&&yt,N=!1;const U=Array.isArray($)?$:[$];let B=U.reduce(o(Y),{});nt===!1&&(B={});const{prevResolvedValues:W={}}=st,z={...W,...B},Ft=pt=>{P=!0,x.has(pt)&&(N=!0,x.delete(pt)),st.needsAnimating[pt]=!0;const dt=e.getValue(pt);dt&&(dt.liveStyle=!1)};for(const pt in z){const dt=B[pt],Zt=W[pt];if(D.hasOwnProperty(pt))continue;let j=!1;__(dt)&&__(Zt)?j=!jC(dt,Zt):j=dt!==Zt,j?dt!=null?Ft(pt):x.add(pt):dt!==void 0&&x.has(pt)?Ft(pt):st.protectedKeys[pt]=!0}st.prevProp=$,st.prevResolvedValues=B,st.isActive&&(D={...D,...B}),s&&e.blockInitialAnimation&&(P=!1),P&&(!(vt&&F)||N)&&A.push(...U.map(pt=>({animation:pt,options:{type:Y}})))}if(x.size){const Z={};if(typeof _.initial!="boolean"){const Y=qh(e,Array.isArray(_.initial)?_.initial[0]:_.initial);Y&&Y.transition&&(Z.transition=Y.transition)}x.forEach(Y=>{const st=e.getBaseTarget(Y),$=e.getValue(Y);$&&($.liveStyle=!0),Z[Y]=st??null}),A.push({animation:Z})}let G=!!A.length;return s&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(G=!1),s=!1,G?t(A):Promise.resolve()}function p(y,_){if(n[y].isActive===_)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(y,_)),n[y].isActive=_;const E=f(y);for(const A in n)n[A].protectedKeys={};return E}return{animateChanges:f,setActive:p,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Px(),s=!0}}}function i6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jC(t,e):!1}function Tl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Px(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}class Uo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class s6 extends Uo{constructor(t){super(t),t.animationState||(t.animationState=n6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let r6=0;class a6 extends Uo{constructor(){super(...arguments),this.id=r6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const o6={animation:{Feature:s6},exit:{Feature:a6}};function Gh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function pf(e){return{point:{x:e.pageX,y:e.pageY}}}const l6=e=>t=>Jv(t)&&e(t,pf(t));function wh(e,t,n,s){return Gh(e,t,l6(n),s)}const UC=1e-4,u6=1-UC,c6=1+UC,BC=.01,h6=0-BC,f6=0+BC;function pi(e){return e.max-e.min}function d6(e,t,n){return Math.abs(e-t)<=n}function Mx(e,t,n,s=.5){e.origin=s,e.originPoint=Ze(t.min,t.max,e.origin),e.scale=pi(n)/pi(t),e.translate=Ze(n.min,n.max,e.origin)-e.originPoint,(e.scale>=u6&&e.scale<=c6||isNaN(e.scale))&&(e.scale=1),(e.translate>=h6&&e.translate<=f6||isNaN(e.translate))&&(e.translate=0)}function xh(e,t,n,s){Mx(e.x,t.x,n.x,s?s.originX:void 0),Mx(e.y,t.y,n.y,s?s.originY:void 0)}function Lx(e,t,n){e.min=n.min+t.min,e.max=e.min+pi(t)}function p6(e,t,n){Lx(e.x,t.x,n.x),Lx(e.y,t.y,n.y)}function Dx(e,t,n){e.min=t.min-n.min,e.max=e.min+pi(t)}function Sh(e,t,n){Dx(e.x,t.x,n.x),Dx(e.y,t.y,n.y)}function Ts(e){return[e("x"),e("y")]}const FC=({current:e})=>e?e.ownerDocument.defaultView:null,Nx=(e,t)=>Math.abs(e-t);function m6(e,t){const n=Nx(e.x,t.x),s=Nx(e.y,t.y);return Math.sqrt(n**2+s**2)}class HC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gy(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,k=m6(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!k)return;const{point:G}=x,{timestamp:Z}=Ln;this.history.push({...G,timestamp:Z});const{onStart:Y,onMove:st}=this.handlers;D||(Y&&Y(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),st&&st(this.lastMoveEvent,x)},this.handlePointerMove=(x,D)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=my(D,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(x,D)=>{this.end();const{onEnd:k,onSessionEnd:G,resumeAnimation:Z}=this.handlers;if(this.dragSnapToOrigin&&Z&&Z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=gy(x.type==="pointercancel"?this.lastMoveEventInfo:my(D,this.transformPagePoint),this.history);this.startEvent&&k&&k(x,Y),G&&G(x,Y)},!Jv(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=o||window;const p=pf(t),y=my(p,this.transformPagePoint),{point:_}=y,{timestamp:E}=Ln;this.history=[{..._,timestamp:E}];const{onSessionStart:A}=n;A&&A(t,gy(y,this.history)),this.removeListeners=hf(wh(this.contextWindow,"pointermove",this.handlePointerMove),wh(this.contextWindow,"pointerup",this.handlePointerUp),wh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function my(e,t){return t?{point:t(e.point)}:e}function Ox(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gy({point:e},t){return{point:e,delta:Ox(e,qC(t)),offset:Ox(e,g6(t)),velocity:y6(t,.1)}}function g6(e){return e[0]}function qC(e){return e[e.length-1]}function y6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=qC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Rr(t)));)n--;if(!s)return{x:0,y:0};const u=Cr(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function _6(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Ze(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Ze(n,e,s.max):Math.min(e,n)),e}function kx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function v6(e,{top:t,left:n,bottom:s,right:o}){return{x:kx(e.x,n,o),y:kx(e.y,t,s)}}function Vx(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function T6(e,t){return{x:Vx(e.x,t.x),y:Vx(e.y,t.y)}}function b6(e,t){let n=.5;const s=pi(e),o=pi(t);return o>s?n=Yu(t.min,t.max-s,e.min):s>o&&(n=Yu(e.min,e.max-o,t.min)),Lr(0,1,n)}function E6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const b_=.35;function w6(e=b_){return e===!1?e=0:e===!0&&(e=b_),{x:jx(e,"left","right"),y:jx(e,"top","bottom")}}function jx(e,t,n){return{min:zx(e,t),max:zx(e,n)}}function zx(e,t){return typeof e=="number"?e:e[t]||0}const x6=new WeakMap;class S6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=A=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pf(A).point)},f=(A,x)=>{const{drag:D,dragPropagation:k,onDragStart:G}=this.getProps();if(D&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S4(D),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ts(Y=>{let st=this.getAxisMotionValue(Y).get()||0;if(Ir.test(st)){const{projection:$}=this.visualElement;if($&&$.layout){const yt=$.layout.layoutBox[Y];yt&&(st=pi(yt)*(parseFloat(st)/100))}}this.originPoint[Y]=st}),G&&Se.postRender(()=>G(A,x)),v_(this.visualElement,"transform");const{animationState:Z}=this.visualElement;Z&&Z.setActive("whileDrag",!0)},p=(A,x)=>{this.latestPointerEvent=A,this.latestPanInfo=x;const{dragPropagation:D,dragDirectionLock:k,onDirectionLock:G,onDrag:Z}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:Y}=x;if(k&&this.currentDirection===null){this.currentDirection=A6(Y),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",x.point,Y),this.updateAxis("y",x.point,Y),this.visualElement.render(),Z&&Z(A,x)},y=(A,x)=>{this.latestPointerEvent=A,this.latestPanInfo=x,this.stop(A,x),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>Ts(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:E}=this.getProps();this.panSession=new HC(t,{onSessionStart:u,onStart:f,onMove:p,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:s,contextWindow:FC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:f}=o;this.startAnimation(f);const{onDragEnd:p}=this.getProps();p&&Se.postRender(()=>p(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Cd(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=_6(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Lu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=v6(s.layoutBox,t):this.constraints=!1,this.elastic=w6(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ts(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=E6(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Lu(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=A3(s,o.root,this.visualElement.getTransformPagePoint());let f=T6(o.layout.layoutBox,u);if(n){const p=n(w3(f));this.hasMutatedConstraints=!!p,p&&(f=CC(p))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:p}=this.getProps(),y=this.constraints||{},_=Ts(E=>{if(!Cd(E,n,this.currentDirection))return;let A=y&&y[E]||{};f&&(A={min:0,max:0});const x=o?200:1e6,D=o?40:1e7,k={type:"inertia",velocity:s?t[E]:0,bounceStiffness:x,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(E,k)});return Promise.all(_).then(p)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return v_(this.visualElement,t),s.start(c0(t,s,0,n,this.visualElement,!1))}stopAnimation(){Ts(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ts(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ts(n=>{const{drag:s}=this.getProps();if(!Cd(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:p}=o.layout.layoutBox[n];u.set(t[n]-Ze(f,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Lu(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ts(f=>{const p=this.getAxisMotionValue(f);if(p&&this.constraints!==!1){const y=p.get();o[f]=b6({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ts(f=>{if(!Cd(f,t,null))return;const p=this.getAxisMotionValue(f),{min:y,max:_}=this.constraints[f];p.set(Ze(y,_,o[f]))})}addListeners(){if(!this.visualElement.current)return;x6.set(this.visualElement,this);const t=this.visualElement.current,n=wh(t,"pointerdown",y=>{const{drag:_,dragListener:E=!0}=this.getProps();_&&E&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Lu(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Se.read(s);const f=Gh(window,"resize",()=>this.scalePositionWithinConstraints()),p=o.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(Ts(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=y[E].translate,A.set(A.get()+y[E].translate))}),this.visualElement.render())});return()=>{f(),n(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=b_,dragMomentum:p=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:p}}}function Cd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function A6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class R6 extends Uo{constructor(t){super(t),this.removeGroupControls=Pi,this.removeListeners=Pi,this.controls=new S6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ux=e=>(t,n)=>{e&&Se.postRender(()=>e(t,n))};class C6 extends Uo{constructor(){super(...arguments),this.removePointerDownListener=Pi}onPointerDown(t){this.session=new HC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ux(t),onStart:Ux(n),onMove:s,onEnd:(u,f)=>{delete this.session,o&&Se.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=wh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const eh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qt.test(e))e=parseFloat(e);else return e;const n=Bx(e,t.target.x),s=Bx(e,t.target.y);return`${n}% ${s}%`}},I6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Lo.parse(e);if(o.length>5)return s;const u=Lo.createTransformer(e),f=typeof o[0]!="number"?1:0,p=n.x.scale*t.x,y=n.y.scale*t.y;o[0+f]/=p,o[1+f]/=y;const _=Ze(p,y,.5);return typeof o[2+f]=="number"&&(o[2+f]/=_),typeof o[3+f]=="number"&&(o[3+f]/=_),u(o)}};let Fx=!1;class P6 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;X4(M6),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),Fx&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,Fx=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||Se.postRender(()=>{const p=f.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Qv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GC(e){const[t,n]=q4(),s=V.useContext(bR);return T.jsx(P6,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(AC),isPresent:t,safeToRemove:n})}const M6={borderRadius:{...eh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eh,borderTopRightRadius:eh,borderBottomLeftRadius:eh,borderBottomRightRadius:eh,boxShadow:I6};function L6(e,t,n){const s=ii(e)?e:Ys(e);return s.start(c0("",s,t,n)),s.animation}const D6=(e,t)=>e.depth-t.depth;class N6{constructor(){this.children=[],this.isDirty=!1}add(t){Lv(this.children,t),this.isDirty=!0}remove(t){Dv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(D6),this.isDirty=!1,this.children.forEach(t)}}function O6(e,t){const n=Ii.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(Xs(s),e(u-t))};return Se.setup(s,!0),()=>Xs(s)}const WC=["TopLeft","TopRight","BottomLeft","BottomRight"],k6=WC.length,Hx=e=>typeof e=="string"?parseFloat(e):e,qx=e=>typeof e=="number"||qt.test(e);function V6(e,t,n,s,o,u){o?(e.opacity=Ze(0,n.opacity??1,j6(s)),e.opacityExit=Ze(t.opacity??1,0,z6(s))):u&&(e.opacity=Ze(t.opacity??1,n.opacity??1,s));for(let f=0;f<k6;f++){const p=`border${WC[f]}Radius`;let y=Gx(t,p),_=Gx(n,p);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||qx(y)===qx(_)?(e[p]=Math.max(Ze(Hx(y),Hx(_),s),0),(Ir.test(_)||Ir.test(y))&&(e[p]+="%")):e[p]=_}(t.rotate||n.rotate)&&(e.rotate=Ze(t.rotate||0,n.rotate||0,s))}function Gx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const j6=ZC(0,.5,MR),z6=ZC(.5,.95,Pi);function ZC(e,t,n){return s=>s<e?0:s>t?1:n(Yu(e,t,s))}function Wx(e,t){e.min=t.min,e.max=t.max}function _s(e,t){Wx(e.x,t.x),Wx(e.y,t.y)}function Zx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Yx(e,t,n,s,o){return e-=t,e=xp(e,1/n,s),o!==void 0&&(e=xp(e,1/o,s)),e}function U6(e,t=0,n=1,s=.5,o,u=e,f=e){if(Ir.test(t)&&(t=parseFloat(t),t=Ze(f.min,f.max,t/100)-f.min),typeof t!="number")return;let p=Ze(u.min,u.max,s);e===u&&(p-=t),e.min=Yx(e.min,t,n,p,o),e.max=Yx(e.max,t,n,p,o)}function Kx(e,t,[n,s,o],u,f){U6(e,t[n],t[s],t[o],t.scale,u,f)}const B6=["x","scaleX","originX"],F6=["y","scaleY","originY"];function $x(e,t,n,s){Kx(e.x,t,B6,n?n.x:void 0,s?s.x:void 0),Kx(e.y,t,F6,n?n.y:void 0,s?s.y:void 0)}function Xx(e){return e.translate===0&&e.scale===1}function YC(e){return Xx(e.x)&&Xx(e.y)}function Qx(e,t){return e.min===t.min&&e.max===t.max}function H6(e,t){return Qx(e.x,t.x)&&Qx(e.y,t.y)}function Jx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function KC(e,t){return Jx(e.x,t.x)&&Jx(e.y,t.y)}function tS(e){return pi(e.x)/pi(e.y)}function eS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class q6{constructor(){this.members=[]}add(t){Lv(this.members,t),t.scheduleRender()}remove(t){if(Dv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G6(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((o||u||f)&&(s=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:_,rotate:E,rotateX:A,rotateY:x,skewX:D,skewY:k}=n;_&&(s=`perspective(${_}px) ${s}`),E&&(s+=`rotate(${E}deg) `),A&&(s+=`rotateX(${A}deg) `),x&&(s+=`rotateY(${x}deg) `),D&&(s+=`skewX(${D}deg) `),k&&(s+=`skewY(${k}deg) `)}const p=e.x.scale*t.x,y=e.y.scale*t.y;return(p!==1||y!==1)&&(s+=`scale(${p}, ${y})`),s||"none"}const yy=["","X","Y","Z"],W6=1e3;let Z6=0;function _y(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function $C(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&$C(s)}function XC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},p=t?.()){this.id=Z6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($6),this.nodes.forEach(tz),this.nodes.forEach(ez),this.nodes.forEach(X6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new N6)}addEventListener(f,p){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Ov),this.eventHandlers.get(f).add(p)}notifyListeners(f,...p){const y=this.eventHandlers.get(f);y&&y.notify(...p)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=t0(f)&&!U4(f),this.instance=f;const{layoutId:p,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||p)&&(this.isLayoutDirty=!0),e){let E,A=0;const x=()=>this.root.updateBlockedByResize=!1;Se.read(()=>{A=window.innerWidth}),e(f,()=>{const D=window.innerWidth;D!==A&&(A=D,this.root.updateBlockedByResize=!0,E&&E(),E=O6(x,250),Xd.hasAnimatedSinceResize&&(Xd.hasAnimatedSinceResize=!1,this.nodes.forEach(sS)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&_&&(p||y)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:A,hasRelativeLayoutChanged:x,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||_.getDefaultTransition()||az,{onLayoutAnimationStart:G,onLayoutAnimationComplete:Z}=_.getProps(),Y=!this.targetLayout||!KC(this.targetLayout,D),st=!A&&x;if(this.options.layoutRoot||this.resumeFrom||st||A&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...$v(k,"layout"),onPlay:G,onComplete:Z};(_.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(E,st)}else A||sS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nz),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$C(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:p,layout:y}=this.options;if(p===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(J6),this.nodes.forEach(Y6),this.nodes.forEach(K6)):this.nodes.forEach(iS),this.clearAllSnapshots();const p=Ii.now();Ln.delta=Lr(0,1e3/60,p-Ln.timestamp),Ln.timestamp=p,Ln.isProcessing=!0,oy.update.process(Ln),oy.preRender.process(Ln),oy.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q6),this.sharedNodes.forEach(iz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pi(this.snapshot.measuredBox.x)&&!pi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(p=!1),p&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!YC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,E=_!==this.prevTransformTemplateValue;f&&this.instance&&(p||wl(this.latestValues)||E)&&(o(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const p=this.measurePageBox();let y=this.removeElementScroll(p);return f&&(y=this.removeTransform(y)),oz(y),{animationId:this.root.animationId,measuredBox:p,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return on();const p=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lz))){const{scroll:_}=this.root;_&&(Du(p.x,_.offset.x),Du(p.y,_.offset.y))}return p}removeElementScroll(f){const p=on();if(_s(p,f),this.scroll?.wasRoot)return p;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:E,options:A}=_;_!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&_s(p,f),Du(p.x,E.offset.x),Du(p.y,E.offset.y))}return p}applyTransform(f,p=!1){const y=on();_s(y,f);for(let _=0;_<this.path.length;_++){const E=this.path[_];!p&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Nu(y,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),wl(E.latestValues)&&Nu(y,E.latestValues)}return wl(this.latestValues)&&Nu(y,this.latestValues),y}removeTransform(f){const p=on();_s(p,f);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!wl(_.latestValues))continue;m_(_.latestValues)&&_.updateSnapshot();const E=on(),A=_.measurePageBox();_s(E,A),$x(p,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,E)}return wl(this.latestValues)&&$x(p,this.latestValues),p}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==p;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!(!this.layout||!(E||A))){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Sh(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),PC(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Sh(this.relativeTargetOrigin,this.target,x.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||m_(this.parent.latestValues)||IC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),p=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(y=!1),y)return;const{layout:_,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||E))return;_s(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,x=this.treeScale.y;S3(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=on());const{target:D}=f;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zx(this.prevProjectionDelta.x,this.projectionDelta.x),Zx(this.prevProjectionDelta.y,this.projectionDelta.y)),xh(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==x||!eS(this.projectionDelta.x,this.prevProjectionDelta.x)||!eS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ou(),this.projectionDelta=Ou(),this.projectionDeltaWithTransform=Ou()}setAnimationOrigin(f,p=!1){const y=this.snapshot,_=y?y.latestValues:{},E={...this.latestValues},A=Ou();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const x=on(),D=y?y.source:void 0,k=this.layout?this.layout.source:void 0,G=D!==k,Z=this.getStack(),Y=!Z||Z.members.length<=1,st=!!(G&&!Y&&this.options.crossfade===!0&&!this.path.some(rz));this.animationProgress=0;let $;this.mixTargetDelta=yt=>{const nt=yt/1e3;rS(A.x,f.x,nt),rS(A.y,f.y,nt),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,x,nt),$&&H6(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=on()),_s($,this.relativeTarget)),G&&(this.animationValues=E,V6(E,_,this.latestValues,nt,st,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{Xd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ys(0)),this.currentAnimation=L6(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),f.onUpdate&&f.onUpdate(p)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(W6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:p,target:y,layout:_,latestValues:E}=f;if(!(!p||!y||!_)){if(this!==f&&this.layout&&_&&QC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||on();const A=pi(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+A;const x=pi(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+x}_s(p,y),Nu(p,E),xh(this.projectionDeltaWithTransform,this.layoutCorrected,p,E)}}registerSharedNode(f,p){this.sharedNodes.has(f)||this.sharedNodes.set(f,new q6),this.sharedNodes.get(f).add(p);const _=p.options.initialPromotionConfig;p.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(p):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:p,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let p=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(p=!0),!p)return;const _={};y.z&&_y("z",f,_,this.animationValues);for(let E=0;E<yy.length;E++)_y(`rotate${yy[E]}`,f,_,this.animationValues),_y(`skew${yy[E]}`,f,_,this.animationValues);f.render();for(const E in _)f.setStaticValue(E,_[E]),this.animationValues&&(this.animationValues[E]=_[E]);f.scheduleRender()}applyProjectionStyles(f,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=$d(p?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=$d(p?.pointerEvents)||""),this.hasProjected&&!wl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const E=_.animationValues||_.latestValues;this.applyTransformsToTarget();let A=G6(this.projectionDeltaWithTransform,this.treeScale,E);y&&(A=y(E,A)),f.transform=A;const{x,y:D}=this.projectionDelta;f.transformOrigin=`${x.origin*100}% ${D.origin*100}% 0`,_.animationValues?f.opacity=_===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:f.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const k in Hh){if(E[k]===void 0)continue;const{correct:G,applyTo:Z,isCSSVariable:Y}=Hh[k],st=A==="none"?E[k]:G(E[k],_);if(Z){const $=Z.length;for(let yt=0;yt<$;yt++)f[Z[yt]]=st}else Y?this.options.visualElement.renderState.vars[k]=st:f[k]=st}this.options.layoutId&&(f.pointerEvents=_===this?$d(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(nS),this.root.sharedNodes.clear()}}}function Y6(e){e.updateLayout()}function K6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Ts(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],x=pi(A);A.min=n[E].min,A.max=A.min+x}):QC(o,t.layoutBox,n)&&Ts(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],x=pi(n[E]);A.max=A.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+x)});const f=Ou();xh(f,n,t.layoutBox);const p=Ou();u?xh(p,e.applyTransform(s,!0),t.measuredBox):xh(p,n,t.layoutBox);const y=!YC(f);let _=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:x}=E;if(A&&x){const D=on();Sh(D,t.layoutBox,A.layoutBox);const k=on();Sh(k,n,x.layoutBox),KC(D,k)||(_=!0),E.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=D,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function X6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q6(e){e.clearSnapshot()}function nS(e){e.clearMeasurements()}function iS(e){e.isLayoutDirty=!1}function J6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tz(e){e.resolveTargetDelta()}function ez(e){e.calcProjection()}function nz(e){e.resetSkewAndRotation()}function iz(e){e.removeLeadSnapshot()}function rS(e,t,n){e.translate=Ze(t.translate,0,n),e.scale=Ze(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function aS(e,t,n,s){e.min=Ze(t.min,n.min,s),e.max=Ze(t.max,n.max,s)}function sz(e,t,n,s){aS(e.x,t.x,n.x,s),aS(e.y,t.y,n.y,s)}function rz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const az={duration:.45,ease:[.4,0,.1,1]},oS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lS=oS("applewebkit/")&&!oS("chrome/")?Math.round:Pi;function uS(e){e.min=lS(e.min),e.max=lS(e.max)}function oz(e){uS(e.x),uS(e.y)}function QC(e,t,n){return e==="position"||e==="preserve-aspect"&&!d6(tS(t),tS(n),.2)}function lz(e){return e!==e.root&&e.scroll?.wasRoot}const uz=XC({attachResizeListener:(e,t)=>Gh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},JC=XC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vy.current){const e=new uz({});e.mount(window),e.setOptions({layoutScroll:!0}),vy.current=e}return vy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cz={pan:{Feature:C6},drag:{Feature:R6,ProjectionNode:JC,MeasureLayout:GC}};function cS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&Se.postRender(()=>u(t,pf(t)))}class hz extends Uo{mount(){const{current:t}=this.node;t&&(this.unmount=A4(t,(n,s)=>(cS(this.node,s,"Start"),o=>cS(this.node,o,"End"))))}unmount(){}}class fz extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hf(Gh(this.node.current,"focus",()=>this.onFocus()),Gh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&Se.postRender(()=>u(t,pf(t)))}class dz extends Uo{mount(){const{current:t}=this.node;t&&(this.unmount=P4(t,(n,s)=>(hS(this.node,s,"Start"),(o,{success:u})=>hS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E_=new WeakMap,Ty=new WeakMap,pz=e=>{const t=E_.get(e.target);t&&t(e)},mz=e=>{e.forEach(pz)};function gz({root:e,...t}){const n=e||document;Ty.has(n)||Ty.set(n,{});const s=Ty.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(mz,{root:e,...t})),s[o]}function yz(e,t,n){const s=gz(t);return E_.set(e,n),s.observe(e),()=>{E_.delete(e),s.unobserve(e)}}const _z={some:0,all:1};class vz extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:_z[o]},p=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,u&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),x=_?E:A;x&&x(y)};return yz(this.node.current,f,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Tz(t,n))&&this.startObserver()}unmount(){}}function Tz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bz={inView:{Feature:vz},tap:{Feature:dz},focus:{Feature:fz},hover:{Feature:hz}},Ez={layout:{ProjectionNode:JC,MeasureLayout:GC}},wz={...o6,...bz,...cz,...Ez},nh=E3(wz,O3),xz=50,fS=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Sz=()=>({time:0,x:fS(),y:fS()}),Az={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function dS(e,t,n,s){const o=n[t],{length:u,position:f}=Az[t],p=o.current,y=n.time;o.current=e[`scroll${f}`],o.scrollLength=e[`scroll${u}`]-e[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Yu(0,o.scrollLength,o.current);const _=s-y;o.velocity=_>xz?0:kv(o.current-p,_)}function Rz(e,t,n){dS(e,"x",t,n),dS(e,"y",t,n),t.time=n}function Cz(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(uC(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const u=s.getBoundingClientRect();n.x+=o.left-u.left,n.y+=o.top-u.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:u}=s.getBBox();n.x+=o,n.y+=u;let f=null,p=s.parentNode;for(;!f;)p.tagName==="svg"&&(f=p),p=s.parentNode;s=f}else break;return n}const w_={start:0,center:.5,end:1};function pS(e,t,n=0){let s=0;if(e in w_&&(e=w_[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(s=t*e),n+s}const Iz=[0,0];function Pz(e,t,n,s){let o=Array.isArray(e)?e:Iz,u=0,f=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,w_[e]?e:"0"]),u=pS(o[0],n,s),f=pS(o[1],t),u-f}const Mz={All:[[0,0],[1,1]]},Lz={x:0,y:0};function Dz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Nz(e,t,n){const{offset:s=Mz.All}=n,{target:o=e,axis:u="y"}=n,f=u==="y"?"height":"width",p=o!==e?Cz(o,e):Lz,y=o===e?{width:e.scrollWidth,height:e.scrollHeight}:Dz(o),_={width:e.clientWidth,height:e.clientHeight};t[u].offset.length=0;let E=!t[u].interpolate;const A=s.length;for(let x=0;x<A;x++){const D=Pz(s[x],_[f],y[f],p[u]);!E&&D!==t[u].interpolatorOffsets[x]&&(E=!0),t[u].offset[x]=D}E&&(t[u].interpolate=Gv(t[u].offset,WR(s),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=Lr(0,1,t[u].interpolate(t[u].current))}function Oz(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function kz(e,t,n,s={}){return{measure:o=>{Oz(e,s.target,n),Rz(e,n,o),(s.offset||s.target)&&Nz(e,n,s)},notify:()=>t(n)}}const ih=new WeakMap,mS=new WeakMap,by=new WeakMap,gS=e=>e===document.scrollingElement?window:e;function tI(e,{container:t=document.scrollingElement,...n}={}){if(!t)return Pi;let s=by.get(t);s||(s=new Set,by.set(t,s));const o=Sz(),u=kz(t,e,o,n);if(s.add(u),!ih.has(t)){const p=()=>{for(const A of s)A.measure(Ln.timestamp);Se.preUpdate(y)},y=()=>{for(const A of s)A.notify()},_=()=>Se.read(p);ih.set(t,_);const E=gS(t);window.addEventListener("resize",_,{passive:!0}),t!==document.documentElement&&mS.set(t,z4(t,_)),E.addEventListener("scroll",_,{passive:!0}),_()}const f=ih.get(t);return Se.read(f,!1,!0),()=>{Xs(f);const p=by.get(t);if(!p||(p.delete(u),p.size))return;const y=ih.get(t);ih.delete(t),y&&(gS(t).removeEventListener("scroll",y),mS.get(t)?.(),window.removeEventListener("resize",y))}}const yS=new Map;function Vz(e){const t={value:0},n=tI(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function eI({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const o=yS.get(t)??new Map;yS.set(t,o);const u=n.target??"self",f=o.get(u)??{},p=s+(n.offset??[]).join(",");return f[p]||(f[p]=!n.target&&$R()?new ScrollTimeline({source:t,axis:s}):Vz({container:t,...n})),f[p]}function jz(e,t){const n=eI(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),pC(o=>{s.time=s.duration*o},n))})}function zz(e){return e.length===2}function Uz(e,t){return zz(e)?tI(n=>{e(n[t.axis].progress,n)},t):pC(e,eI(t))}function Bz(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return Pi;const o={axis:t,container:n,...s};return typeof e=="function"?Uz(e,o):jz(e,o)}const Fz=()=>({scrollX:Ys(0),scrollY:Ys(0),scrollXProgress:Ys(0),scrollYProgress:Ys(0)}),Id=e=>e?!e.current:!1;function Hz({container:e,target:t,...n}={}){const s=tm(Fz),o=V.useRef(null),u=V.useRef(!1),f=V.useCallback(()=>(o.current=Bz((p,{x:y,y:_})=>{s.scrollX.set(y.current),s.scrollXProgress.set(y.progress),s.scrollY.set(_.current),s.scrollYProgress.set(_.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{o.current?.()}),[e,t,JSON.stringify(n.offset)]);return Pv(()=>{if(u.current=!1,Id(e)||Id(t)){u.current=!0;return}else return f()},[f]),V.useEffect(()=>{if(u.current)return zh(!Id(e)),zh(!Id(t)),f()},[f]),s}function qz(e){const t=tm(()=>Ys(e)),{isStatic:n}=V.useContext(e0);if(n){const[,s]=V.useState(e);V.useEffect(()=>t.on("change",s),[])}return t}function nI(e,t){const n=qz(t()),s=()=>n.set(t());return s(),Pv(()=>{const o=()=>Se.preRender(s,!1,!0),u=e.map(f=>f.on("change",o));return()=>{u.forEach(f=>f()),Xs(s)}}),n}function Gz(e){Eh.current=[],e();const t=nI(Eh.current,e);return Eh.current=void 0,t}function bl(e,t,n,s){if(typeof e=="function")return Gz(e);const o=typeof t=="function"?t:B4(t,n,s);return Array.isArray(e)?_S(e,o):_S([e],([u])=>o(u))}function _S(e,t){const n=tm(()=>[]);return nI(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Wz(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function Zz(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const Yz=1;function Kz(e){return Object.freeze({__version:Yz,map:e})}function h0(e,t){return Object.freeze({...e,...t})}const f0=V.createContext(null);function d0(){const e=V.use(f0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function iI(e){function t(n,s){const{instance:o,context:u}=e(n).current;V.useImperativeHandle(s,()=>o);const{children:f}=n;return f==null?null:Qd.createElement(f0,{value:u},f)}return V.forwardRef(t)}function $z(e){function t(n,s){const{instance:o}=e(n).current;return V.useImperativeHandle(s,()=>o),null}return V.forwardRef(t)}function sI(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function p0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var fh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Xz=fh.exports,vS;function Qz(){return vS||(vS=1,function(e,t){(function(n,s){s(t)})(Xz,function(n){var s="1.9.4";function o(a){var c,m,b,S;for(m=1,b=arguments.length;m<b;m++){S=arguments[m];for(c in S)a[c]=S[c]}return a}var u=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function f(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(m.call(arguments)):arguments)}}var p=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++p),a._leaflet_id}function _(a,c,m){var b,S,I,H;return H=function(){b=!1,S&&(I.apply(m,S),S=!1)},I=function(){b?S=arguments:(a.apply(m,arguments),setTimeout(H,c),b=!0)},I}function E(a,c,m){var b=c[1],S=c[0],I=b-S;return a===b&&m?a:((a-S)%I+I)%I+S}function A(){return!1}function x(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function D(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return D(a).split(/\s+/)}function G(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function Z(a,c,m){var b=[];for(var S in a)b.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function st(a,c){return a.replace(Y,function(m,b){var S=c[b];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(c)),S})}var $=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function yt(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function vt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var F=0;function P(a){var c=+new Date,m=Math.max(0,16-(c-F));return F=c+m,window.setTimeout(a,m)}var N=window.requestAnimationFrame||vt("RequestAnimationFrame")||P,U=window.cancelAnimationFrame||vt("CancelAnimationFrame")||vt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function B(a,c,m){if(m&&N===P)a.call(c);else return N.call(window,f(a,c))}function W(a){a&&U.call(window,a)}var z={__proto__:null,extend:o,create:u,bind:f,get lastId(){return p},stamp:y,throttle:_,wrapNum:E,falseFn:A,formatNum:x,trim:D,splitWords:k,setOptions:G,getParamString:Z,template:st,isArray:$,indexOf:yt,emptyImageUrl:nt,requestFn:N,cancelFn:U,requestAnimFrame:B,cancelAnimFrame:W};function Ft(){}Ft.extend=function(a){var c=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,b=u(m);b.constructor=c,c.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return a.statics&&o(c,a.statics),a.includes&&(Kt(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?u(m.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,H=b._initHooks.length;I<H;I++)b._initHooks[I].call(this)}},c},Ft.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Ft.mergeOptions=function(a){return o(this.prototype.options,a),this},Ft.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Kt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=$(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=k(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=k(a);for(var S=arguments.length===1,I=0,H=a.length;I<H;I++)S?this._off(a[I]):this._off(a[I],c,m)}return this},_on:function(a,c,m,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var S={fn:c,ctx:m};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,c,m){var b,S,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,I=b.length;S<I;S++)b[S].fn=A;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var H=this._listens(a,c,m);if(H!==!1){var J=b[H];this._firingCount&&(J.fn=A,this._events[a]=b=b.slice()),b.splice(H,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var I=0,H=S.length;I<H;I++){var J=S[I],ot=J.fn;J.once&&this.off(a,ot,J.ctx),ot.call(J.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,c,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(b=!!c,S=void 0,m=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,S,m)!==!1)return!0;if(b){for(var H in this._eventParents)if(this._eventParents[H].listens(a,c,m,b))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;m===this&&(m=void 0);for(var S=0,I=b.length;S<I;S++)if(b[S].fn===c&&b[S].ctx===m)return S;return!1},once:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=k(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var pt=Ft.extend(rt);function dt(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var Zt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(a){return this.clone()._add(j(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(j(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new dt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new dt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Zt(this.x),this.y=Zt(this.y),this},distanceTo:function(a){a=j(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=j(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=j(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function j(a,c,m){return a instanceof dt?a:$(a)?new dt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new dt(a.x,a.y):new dt(a,c,m)}function ut(a,c){if(a)for(var m=c?[a,c]:a,b=0,S=m.length;b<S;b++)this.extend(m[b])}ut.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof dt||typeof a[0]=="number"||"x"in a)c=m=j(a);else if(a=Et(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof dt?a=j(a):a=Et(a),a instanceof ut?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=Et(a);var c=this.min,m=this.max,b=a.min,S=a.max,I=S.x>=c.x&&b.x<=m.x,H=S.y>=c.y&&b.y<=m.y;return I&&H},overlaps:function(a){a=Et(a);var c=this.min,m=this.max,b=a.min,S=a.max,I=S.x>c.x&&b.x<m.x,H=S.y>c.y&&b.y<m.y;return I&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,b=Math.abs(c.x-m.x)*a,S=Math.abs(c.y-m.y)*a;return Et(j(c.x-b,c.y-S),j(m.x+b,m.y+S))},equals:function(a){return a?(a=Et(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Et(a,c){return!a||a instanceof ut?a:new ut(a,c)}function Tt(a,c){if(a)for(var m=c?[a,c]:a,b=0,S=m.length;b<S;b++)this.extend(m[b])}Tt.prototype={extend:function(a){var c=this._southWest,m=this._northEast,b,S;if(a instanceof wt)b=a,S=a;else if(a instanceof Tt){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(bt(a)||St(a)):this;return!c&&!m?(this._southWest=new wt(b.lat,b.lng),this._northEast=new wt(S.lat,S.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,b=Math.abs(c.lat-m.lat)*a,S=Math.abs(c.lng-m.lng)*a;return new Tt(new wt(c.lat-b,c.lng-S),new wt(m.lat+b,m.lng+S))},getCenter:function(){return new wt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new wt(this.getNorth(),this.getWest())},getSouthEast:function(){return new wt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof wt||"lat"in a?a=bt(a):a=St(a);var c=this._southWest,m=this._northEast,b,S;return a instanceof Tt?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=c.lat&&S.lat<=m.lat&&b.lng>=c.lng&&S.lng<=m.lng},intersects:function(a){a=St(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>=c.lat&&b.lat<=m.lat,H=S.lng>=c.lng&&b.lng<=m.lng;return I&&H},overlaps:function(a){a=St(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>c.lat&&b.lat<m.lat,H=S.lng>c.lng&&b.lng<m.lng;return I&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=St(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function St(a,c){return a instanceof Tt?a:new Tt(a,c)}function wt(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}wt.prototype={equals:function(a,c){if(!a)return!1;a=bt(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return te.distance(this,bt(a))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return St([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new wt(this.lat,this.lng,this.alt)}};function bt(a,c,m){return a instanceof wt?a:$(a)&&typeof a[0]!="object"?a.length===3?new wt(a[0],a[1],a[2]):a.length===2?new wt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new wt(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new wt(a,c,m)}var pe={latLngToPoint:function(a,c){var m=this.projection.project(a),b=this.scale(c);return this.transformation._transform(m,b)},pointToLatLng:function(a,c){var m=this.scale(c),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(c.min,m),S=this.transformation.transform(c.max,m);return new ut(b,S)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new wt(m,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),b=c.lat-m.lat,S=c.lng-m.lng;if(b===0&&S===0)return a;var I=a.getSouthWest(),H=a.getNorthEast(),J=new wt(I.lat-b,I.lng-S),ot=new wt(H.lat-b,H.lng-S);return new Tt(J,ot)}},te=o({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,b=a.lat*m,S=c.lat*m,I=Math.sin((c.lat-a.lat)*m/2),H=Math.sin((c.lng-a.lng)*m/2),J=I*I+Math.cos(b)*Math.cos(S)*H*H,ot=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*ot}}),ri=6378137,ai={R:ri,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),S=Math.sin(b*c);return new dt(this.R*a.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var c=180/Math.PI;return new wt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=ri*Math.PI;return new ut([-a,-a],[a,a])}()};function Nn(a,c,m,b){if($(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=b}Nn.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new dt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Gn(a,c,m,b){return new Nn(a,c,m,b)}var mi=o({},te,{code:"EPSG:3857",projection:ai,transformation:function(){var a=.5/(Math.PI*ai.R);return Gn(a,.5,-a,.5)}()}),Rs=o({},mi,{code:"EPSG:900913"});function Xi(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Cs(a,c){var m="",b,S,I,H,J,ot;for(b=0,I=a.length;b<I;b++){for(J=a[b],S=0,H=J.length;S<H;S++)ot=J[S],m+=(S?"L":"M")+ot.x+" "+ot.y;m+=c?Dt.svg?"z":"x":""}return m||"M0 0"}var Ke=document.documentElement.style,Qi="ActiveXObject"in window,kr=Qi&&!document.addEventListener,$t="msLaunchUri"in navigator&&!("documentMode"in document),It=Zn("webkit"),Le=Zn("android"),un=Zn("android 2")||Zn("android 3"),On=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Js=Le&&Zn("Google")&&On<537&&!("AudioNode"in window),be=!!window.opera,me=!$t&&Zn("chrome"),Wn=Zn("gecko")&&!It&&!be&&!Qi,wn=!me&&Zn("safari"),Bo=Zn("phantom"),Ul="OTransition"in Ke,Vr=navigator.platform.indexOf("Win")===0,tr=Qi&&"transition"in Ke,Is="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!un,gi="MozPerspective"in Ke,va=!window.L_DISABLE_3D&&(tr||Is||gi)&&!Ul&&!Bo,Mi=typeof orientation<"u"||Zn("mobile"),Fo=Mi&&It,Ho=Mi&&Is,Ta=!window.PointerEvent&&window.MSPointerEvent,Ji=!!(window.PointerEvent||Ta),ts="ontouchstart"in window||!!window.TouchEvent,qo=!window.L_NO_TOUCH&&(ts||Ji),es=Mi&&be,Go=Mi&&Wn,er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ba=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return a}(),nr=function(){return!!document.createElement("canvas").getContext}(),Ea=!!(document.createElementNS&&Xi("svg").createSVGRect),De=!!Ea&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),nn=!Ea&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),$e=navigator.platform.indexOf("Mac")===0,yi=navigator.platform.indexOf("Linux")===0;function Zn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Dt={ie:Qi,ielt9:kr,edge:$t,webkit:It,android:Le,android23:un,androidStock:Js,opera:be,chrome:me,gecko:Wn,safari:wn,phantom:Bo,opera12:Ul,win:Vr,ie3d:tr,webkit3d:Is,gecko3d:gi,any3d:va,mobile:Mi,mobileWebkit:Fo,mobileWebkit3d:Ho,msPointer:Ta,pointer:Ji,touch:qo,touchNative:ts,mobileOpera:es,mobileGecko:Go,retina:er,passiveEvents:ba,canvas:nr,svg:Ea,vml:nn,inlineSvg:De,mac:$e,linux:yi},Ps=Dt.msPointer?"MSPointerDown":"pointerdown",Wo=Dt.msPointer?"MSPointerMove":"pointermove",ir=Dt.msPointer?"MSPointerUp":"pointerup",Ms=Dt.msPointer?"MSPointerCancel":"pointercancel",Li={touchstart:Ps,touchmove:Wo,touchend:ir,touchcancel:Ms},Di={touchstart:zr,touchmove:jr,touchend:jr,touchcancel:jr},kn={},xn=!1;function qe(a,c,m){return c==="touchstart"&&Bl(),Di[c]?(m=Di[c].bind(this,m),a.addEventListener(Li[c],m,!1),m):(console.warn("wrong event specified:",c),A)}function Zo(a,c,m){if(!Li[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Li[c],m,!1)}function wa(a){kn[a.pointerId]=a}function Ni(a){kn[a.pointerId]&&(kn[a.pointerId]=a)}function ns(a){delete kn[a.pointerId]}function Bl(){xn||(document.addEventListener(Ps,wa,!0),document.addEventListener(Wo,Ni,!0),document.addEventListener(ir,ns,!0),document.addEventListener(Ms,ns,!0),xn=!0)}function jr(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in kn)c.touches.push(kn[m]);c.changedTouches=[c],a(c)}}function zr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Ae(c),jr(a,c)}function Fl(a){var c={},m,b;for(b in a)m=a[b],c[b]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var sr=200;function is(a,c){a.addEventListener("dblclick",c);var m=0,b;function S(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var H=Aa(I);if(!(H.some(function(ot){return ot instanceof HTMLLabelElement&&ot.attributes.for})&&!H.some(function(ot){return ot instanceof HTMLInputElement||ot instanceof HTMLSelectElement}))){var J=Date.now();J-m<=sr?(b++,b===2&&c(Fl(I))):b=1,m=J}}}return a.addEventListener("click",S),{dblclick:c,simDblclick:S}}function _n(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ls=Oi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rr=Oi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ss=rr==="webkitTransition"||rr==="OTransition"?rr+"End":"transitionend";function Ur(a){return typeof a=="string"?document.getElementById(a):a}function rs(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[c]:null}return m==="auto"?null:m}function ne(a,c,m){var b=document.createElement(a);return b.className=c||"",m&&m.appendChild(b),b}function _e(a){var c=a.parentNode;c&&c.removeChild(a)}function cn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function as(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function ar(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function or(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=ze(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Wt(a,c){if(a.classList!==void 0)for(var m=k(c),b=0,S=m.length;b<S;b++)a.classList.add(m[b]);else if(!or(a,c)){var I=ze(a);Yo(a,(I?I+" ":"")+c)}}function Ee(a,c){a.classList!==void 0?a.classList.remove(c):Yo(a,D((" "+ze(a)+" ").replace(" "+c+" "," ")))}function Yo(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function ze(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ne(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Br(a,c)}function Br(a,c){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function Oi(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function Vn(a,c,m){var b=c||new dt(0,0);a.style[Ls]=(Dt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function zt(a,c){a._leaflet_pos=c,Dt.any3d?Vn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function oi(a){return a._leaflet_pos||new dt(0,0)}var Sn,ki,xa;if("onselectstart"in document)Sn=function(){kt(window,"selectstart",Ae)},ki=function(){he(window,"selectstart",Ae)};else{var Ds=Oi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sn=function(){if(Ds){var a=document.documentElement.style;xa=a[Ds],a[Ds]="none"}},ki=function(){Ds&&(document.documentElement.style[Ds]=xa,xa=void 0)}}function Fr(){kt(window,"dragstart",Ae)}function Ko(){he(window,"dragstart",Ae)}var Sa,lr;function Vi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(jn(),Sa=a,lr=a.style.outlineStyle,a.style.outlineStyle="none",kt(window,"keydown",jn))}function jn(){Sa&&(Sa.style.outlineStyle=lr,Sa=void 0,lr=void 0,he(window,"keydown",jn))}function os(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function ji(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var $o={__proto__:null,TRANSFORM:Ls,TRANSITION:rr,TRANSITION_END:ss,get:Ur,getStyle:rs,create:ne,remove:_e,empty:cn,toFront:as,toBack:ar,hasClass:or,addClass:Wt,removeClass:Ee,setClass:Yo,getClass:ze,setOpacity:Ne,testProp:Oi,setTransform:Vn,setPosition:zt,getPosition:oi,get disableTextSelection(){return Sn},get enableTextSelection(){return ki},disableImageDrag:Fr,enableImageDrag:Ko,preventOutline:Vi,restoreOutline:jn,getSizedParentNode:os,getScale:ji};function kt(a,c,m,b){if(c&&typeof c=="object")for(var S in c)Ns(a,S,c[S],m);else{c=k(c);for(var I=0,H=c.length;I<H;I++)Ns(a,c[I],m,b)}return this}var li="_leaflet_events";function he(a,c,m,b){if(arguments.length===1)_i(a),delete a[li];else if(c&&typeof c=="object")for(var S in c)vi(a,S,c[S],m);else if(c=k(c),arguments.length===2)_i(a,function(J){return yt(c,J)!==-1});else for(var I=0,H=c.length;I<H;I++)vi(a,c[I],m,b);return this}function _i(a,c){for(var m in a[li]){var b=m.split(/\d/)[0];(!c||c(b))&&vi(a,b,null,null,m)}}var Yn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ns(a,c,m,b){var S=c+y(m)+(b?"_"+y(b):"");if(a[li]&&a[li][S])return this;var I=function(J){return m.call(b||a,J||window.event)},H=I;!Dt.touchNative&&Dt.pointer&&c.indexOf("touch")===0?I=qe(a,c,I):Dt.touch&&c==="dblclick"?I=is(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Yn[c]||c,I,Dt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(J){J=J||window.event,ks(a,J)&&H(J)},a.addEventListener(Yn[c],I,!1)):a.addEventListener(c,H,!1):a.attachEvent("on"+c,I),a[li]=a[li]||{},a[li][S]=I}function vi(a,c,m,b,S){S=S||c+y(m)+(b?"_"+y(b):"");var I=a[li]&&a[li][S];if(!I)return this;!Dt.touchNative&&Dt.pointer&&c.indexOf("touch")===0?Zo(a,c,I):Dt.touch&&c==="dblclick"?_n(a,I):"removeEventListener"in a?a.removeEventListener(Yn[c]||c,I,!1):a.detachEvent("on"+c,I),a[li][S]=null}function Kn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function zi(a){return Ns(a,"wheel",Kn),this}function Os(a){return kt(a,"mousedown touchstart dblclick contextmenu",Kn),a._leaflet_disable_click=!0,this}function Ae(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function An(a){return Ae(a),Kn(a),this}function Aa(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function sn(a,c){if(!c)return new dt(a.clientX,a.clientY);var m=ji(c),b=m.boundingClientRect;return new dt((a.clientX-b.left)/m.x-c.clientLeft,(a.clientY-b.top)/m.y-c.clientTop)}var ge=Dt.linux&&Dt.chrome?window.devicePixelRatio:Dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hr(a){return Dt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ge:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ks(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Hl={__proto__:null,on:kt,off:he,stopPropagation:Kn,disableScrollPropagation:zi,disableClickPropagation:Os,preventDefault:Ae,stop:An,getPropagationPath:Aa,getMousePosition:sn,getWheelDelta:Hr,isExternalTarget:ks,addListener:kt,removeListener:he},qr=pt.extend({run:function(a,c,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=oi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),zt(this._el,m),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Qt=pt.extend({options:{crs:mi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=G(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(bt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rr&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,ss,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(bt(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var b=this.getZoomScale(c),S=this.getSize().divideBy(2),I=a instanceof dt?a:this.latLngToContainerPoint(a),H=I.subtract(S).multiplyBy(1-1/b),J=this.containerPointToLatLng(S.add(H));return this.setView(J,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():St(a);var m=j(c.paddingTopLeft||c.padding||[0,0]),b=j(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(a,!1,m.add(b));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var I=b.subtract(m).divideBy(2),H=this.project(a.getSouthWest(),S),J=this.project(a.getNorthEast(),S),ot=this.unproject(H.add(J).divideBy(2).add(I),S);return{center:ot,zoom:S}},fitBounds:function(a,c){if(a=St(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=j(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Dt.any3d)return this.setView(a,c,m);this._stop();var b=this.project(this.getCenter()),S=this.project(a),I=this.getSize(),H=this._zoom;a=bt(a),c=c===void 0?H:c;var J=Math.max(I.x,I.y),ot=J*this.getZoomScale(H,c),_t=S.distanceTo(b)||1,Rt=1.42,Pt=Rt*Rt;function Lt(Be){var ps=Be?-1:1,Fs=Be?ot:J,pr=ot*ot-J*J+ps*Pt*Pt*_t*_t,Hs=2*Fs*Pt*_t,hl=pr/Hs,nu=Math.sqrt(hl*hl+1)-hl,fl=nu<1e-9?-18:Math.log(nu);return fl}function Gt(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function ke(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function Ge(Be){return Gt(Be)/ke(Be)}var Cn=Lt(0);function Ti(Be){return J*(ke(Cn)/ke(Cn+Rt*Be))}function Ef(Be){return J*(ke(Cn)*Ge(Cn+Rt*Be)-Gt(Cn))/Pt}function wf(Be){return 1-Math.pow(1-Be,1.5)}var cl=Date.now(),Ha=(Lt(1)-Cn)/Rt,xf=m.duration?1e3*m.duration:1e3*Ha*.8;function qa(){var Be=(Date.now()-cl)/xf,ps=wf(Be)*Ha;Be<=1?(this._flyToFrame=B(qa,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(Ef(ps)/_t)),H),this.getScaleZoom(J/Ti(ps),H),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),qa.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=St(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,St(a));return m.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=j(c.paddingTopLeft||c.padding||[0,0]),b=j(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),I=this.project(a),H=this.getPixelBounds(),J=Et([H.min.add(m),H.max.subtract(b)]),ot=J.getSize();if(!J.contains(I)){this._enforcingBounds=!0;var _t=I.subtract(J.getCenter()),Rt=J.extend(I).getSize().subtract(ot);S.x+=_t.x<0?-Rt.x:Rt.x,S.y+=_t.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=c.divideBy(2).round(),S=m.divideBy(2).round(),I=b.subtract(S);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,b=new wt(c,m),S=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var H=this.getBoundsZoom(S);this.setView(b,I.maxZoom?Math.min(H,I.maxZoom):H)}var J={latlng:b,bounds:S,timestamp:a.timestamp};for(var ot in a.coords)typeof a.coords[ot]=="number"&&(J[ot]=a.coords[ot]);this.fire("locationfound",J)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)_e(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=ne("div",m,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new Tt(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=St(a),m=j(m||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),I=this.getMaxZoom(),H=a.getNorthWest(),J=a.getSouthEast(),ot=this.getSize().subtract(m),_t=Et(this.project(J,b),this.project(H,b)).getSize(),Rt=Dt.any3d?this.options.zoomSnap:1,Pt=ot.x/_t.x,Lt=ot.y/_t.y,Gt=c?Math.max(Pt,Lt):Math.min(Pt,Lt);return b=this.getScaleZoom(Gt,b),Rt&&(b=Math.round(b/(Rt/100))*(Rt/100),b=c?Math.ceil(b/Rt)*Rt:Math.floor(b/Rt)*Rt),Math.max(S,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new ut(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var b=m.zoom(a*m.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(bt(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(j(a),c)},layerPointToLatLng:function(a){var c=j(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(bt(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(bt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(St(a))},distance:function(a,c){return this.options.crs.distance(bt(a),bt(c))},containerPointToLayerPoint:function(a){return j(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return j(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(j(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(a)))},mouseEventToContainerPoint:function(a){return sn(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Ur(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,Wt(a,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=rs(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zt(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(a.markerPane,"leaflet-zoom-hide"),Wt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){zt(this._mapPane,new dt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,m)._move(a,c)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,b){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){zt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?he:kt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],b,S=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,H=!1;I;){if(b=this._targets[y(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){H=!0;break}if(b&&b.listens(c,!0)&&(S&&!ks(I,a)||(m.push(b),S))||I===this._container)break;I=I.parentNode}return!m.length&&!H&&!S&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&Vi(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var S=this._findEventTargets(a,c);if(m){for(var I=[],H=0;H<m.length;H++)m[H].listens(c,!0)&&I.push(m[H]);S=I.concat(S)}if(S.length){c==="contextmenu"&&Ae(a);var J=S[0],ot={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var _t=J.getLatLng&&(!J._radius||J._radius<=10);ot.containerPoint=_t?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),ot.layerPoint=this.containerPointToLayerPoint(ot.containerPoint),ot.latlng=_t?J.getLatLng():this.layerPointToLatLng(ot.layerPoint)}for(H=0;H<S.length;H++)if(S[H].fire(c,ot,!0),ot.originalEvent._stopped||S[H].options.bubblingMouseEvents===!1&&yt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return oi(this._mapPane)||new dt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return Et([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var b=this.project(a,c),S=this.getSize().divideBy(2),I=new ut(b.subtract(S),b.add(S)),H=this._getBoundsOffset(I,m,c);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?a:this.unproject(b.add(H),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),b=new ut(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,m){var b=Et(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),S=b.min.subtract(a.min),I=b.max.subtract(a.max),H=this._rebound(S.x,-I.x),J=this._rebound(S.y,-I.y);return new dt(H,J)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),b=Dt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=Ls,b=this._proxy.style[m];Vn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Vn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),S=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(S)?!1:(B(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ls(a,c){return new Qt(a,c)}var vn=Ft.extend({options:{position:"topright"},initialize:function(a){G(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return Wt(c,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Rn=function(a){return new vn(a)};Qt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=ne("div",c+"control-container",this._container);function b(S,I){var H=c+S+" "+c+I;a[S+I]=ne("div",H,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)_e(this._controlCorners[a]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xo=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,c,m){G(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return vn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=ne("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Os(c),zi(c);var b=this._section=ne("section",a+"-list");m&&(this._map.on("click",this.collapse,this),kt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ne("a",a+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),kt(S,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Ae(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ne("div",a+"-base",b),this._separator=ne("div",a+"-separator",b),this._overlaysList=ne("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cn(this._baseLayersList),cn(this._overlaysList),this._layerControlInputs=[];var a,c,m,b,S=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+y(this),m),this._layerControlInputs.push(b),b.layerId=y(a.layer),kt(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(S);var H=a.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,b=[],S=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],m=this._getLayer(c.layerId).layer,c.checked?b.push(m):c.checked||S.push(m);for(I=0;I<S.length;I++)this._map.hasLayer(S[I])&&this._map.removeLayer(S[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,b=this._map.getZoom(),S=a.length-1;S>=0;S--)c=a[S],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,kt(a,"click",Ae),this.expand();var c=this;setTimeout(function(){he(a,"click",Ae),c._preventClick=!1})}}),cc=function(a,c,m){return new Xo(a,c,m)},Vs=vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=ne("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,b,S){var I=ne("a",m,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),Os(I),kt(I,"click",An),kt(I,"click",S,this),kt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Ee(this._zoomInButton,c),Ee(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Wt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Wt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vs,this.addControl(this.zoomControl))});var Ra=function(a){return new Vs(a)},Ca=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=ne("div",c),b=this.options;return this._addScales(b,c+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=ne("div",c,m)),a.imperial&&(this._iScale=ne("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,b,S;c>5280?(m=c/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),Ia=function(a){return new Ca(a)},ql='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ur=vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?ql+" ":"")+"Leaflet</a>"},initialize:function(a){G(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ne("div","leaflet-control-attribution"),Os(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new ur().addTo(this)});var hc=function(a){return new ur(a)};vn.Layers=Xo,vn.Zoom=Vs,vn.Scale=Ca,vn.Attribution=ur,Rn.layers=cc,Rn.zoom=Ra,Rn.scale=Ia,Rn.attribution=hc;var $n=Ft.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$n.addTo=function(a,c){return a.addHandler(c,this),this};var Gr={Events:rt},Qo=Dt.touch?"touchstart mousedown":"mousedown",Ui=pt.extend({options:{clickTolerance:3},initialize:function(a,c,m,b){G(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(kt(this._dragStartTarget,Qo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ui._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Qo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!or(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ui._dragging===this&&this.finishDrag();return}if(!(Ui._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ui._dragging=this,this._preventOutline&&Vi(this._element),Fr(),Sn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=os(this._element);this._startPoint=new dt(c.clientX,c.clientY),this._startPos=oi(this._element),this._parentScale=ji(m);var b=a.type==="mousedown";kt(document,b?"mousemove":"touchmove",this._onMove,this),kt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new dt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ae(a),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),zt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Ko(),ki();var c=this._moved&&this._moving;this._moving=!1,Ui._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Pa(a,c,m){var b,S=[1,4,2,8],I,H,J,ot,_t,Rt,Pt,Lt;for(I=0,Rt=a.length;I<Rt;I++)a[I]._code=us(a[I],c);for(J=0;J<4;J++){for(Pt=S[J],b=[],I=0,Rt=a.length,H=Rt-1;I<Rt;H=I++)ot=a[I],_t=a[H],ot._code&Pt?_t._code&Pt||(Lt=hn(_t,ot,Pt,c,m),Lt._code=us(Lt,c),b.push(Lt)):(_t._code&Pt&&(Lt=hn(_t,ot,Pt,c,m),Lt._code=us(Lt,c),b.push(Lt)),b.push(ot));a=b}return a}function cr(a,c){var m,b,S,I,H,J,ot,_t,Rt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pt=bt([0,0]),Lt=St(a),Gt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Gt<1700&&(Pt=Ma(a));var ke=a.length,Ge=[];for(m=0;m<ke;m++){var Cn=bt(a[m]);Ge.push(c.project(bt([Cn.lat-Pt.lat,Cn.lng-Pt.lng])))}for(J=ot=_t=0,m=0,b=ke-1;m<ke;b=m++)S=Ge[m],I=Ge[b],H=S.y*I.x-I.y*S.x,ot+=(S.x+I.x)*H,_t+=(S.y+I.y)*H,J+=H*3;J===0?Rt=Ge[0]:Rt=[ot/J,_t/J];var Ti=c.unproject(j(Rt));return bt([Ti.lat+Pt.lat,Ti.lng+Pt.lng])}function Ma(a){for(var c=0,m=0,b=0,S=0;S<a.length;S++){var I=bt(a[S]);c+=I.lat,m+=I.lng,b++}return bt([c/b,m/b])}var La={__proto__:null,clipPolygon:Pa,polygonCenter:cr,centroid:Ma};function Jo(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=Wl(a,m),a=Gl(a,m),a}function Da(a,c,m){return Math.sqrt(Xn(a,c,m,!0))}function js(a,c,m){return Xn(a,c,m)}function Gl(a,c){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(m);S[0]=S[m-1]=1,Na(a,S,c,0,m-1);var I,H=[];for(I=0;I<m;I++)S[I]&&H.push(a[I]);return H}function Na(a,c,m,b,S){var I=0,H,J,ot;for(J=b+1;J<=S-1;J++)ot=Xn(a[J],a[b],a[S],!0),ot>I&&(H=J,I=ot);I>m&&(c[H]=1,Na(a,c,m,b,H),Na(a,c,m,H,S))}function Wl(a,c){for(var m=[a[0]],b=1,S=0,I=a.length;b<I;b++)Zl(a[b],a[S])>c&&(m.push(a[b]),S=b);return S<I-1&&m.push(a[I-1]),m}var tl;function Wr(a,c,m,b,S){var I=b?tl:us(a,m),H=us(c,m),J,ot,_t;for(tl=H;;){if(!(I|H))return[a,c];if(I&H)return!1;J=I||H,ot=hn(a,c,J,m,S),_t=us(ot,m),J===I?(a=ot,I=_t):(c=ot,H=_t)}}function hn(a,c,m,b,S){var I=c.x-a.x,H=c.y-a.y,J=b.min,ot=b.max,_t,Rt;return m&8?(_t=a.x+I*(ot.y-a.y)/H,Rt=ot.y):m&4?(_t=a.x+I*(J.y-a.y)/H,Rt=J.y):m&2?(_t=ot.x,Rt=a.y+H*(ot.x-a.x)/I):m&1&&(_t=J.x,Rt=a.y+H*(J.x-a.x)/I),new dt(_t,Rt,S)}function us(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function Zl(a,c){var m=c.x-a.x,b=c.y-a.y;return m*m+b*b}function Xn(a,c,m,b){var S=c.x,I=c.y,H=m.x-S,J=m.y-I,ot=H*H+J*J,_t;return ot>0&&(_t=((a.x-S)*H+(a.y-I)*J)/ot,_t>1?(S=m.x,I=m.y):_t>0&&(S+=H*_t,I+=J*_t)),H=a.x-S,J=a.y-I,b?H*H+J*J:new dt(S,I)}function d(a){return!$(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function w(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function R(a,c){var m,b,S,I,H,J,ot,_t;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Rt=bt([0,0]),Pt=St(a),Lt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Lt<1700&&(Rt=Ma(a));var Gt=a.length,ke=[];for(m=0;m<Gt;m++){var Ge=bt(a[m]);ke.push(c.project(bt([Ge.lat-Rt.lat,Ge.lng-Rt.lng])))}for(m=0,b=0;m<Gt-1;m++)b+=ke[m].distanceTo(ke[m+1])/2;if(b===0)_t=ke[0];else for(m=0,I=0;m<Gt-1;m++)if(H=ke[m],J=ke[m+1],S=H.distanceTo(J),I+=S,I>b){ot=(I-b)/S,_t=[J.x-ot*(J.x-H.x),J.y-ot*(J.y-H.y)];break}var Cn=c.unproject(j(_t));return bt([Cn.lat+Rt.lat,Cn.lng+Rt.lng])}var O={__proto__:null,simplify:Jo,pointToSegmentDistance:Da,closestPointOnSegment:js,clipSegment:Wr,_getEdgeIntersection:hn,_getBitCode:us,_sqClosestPointOnSegment:Xn,isFlat:d,_flat:w,polylineCenter:R},Q={project:function(a){return new dt(a.lng,a.lat)},unproject:function(a){return new wt(a.y,a.x)},bounds:new ut([-180,-90],[180,90])},lt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ut([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,b=a.lat*c,S=this.R_MINOR/m,I=Math.sqrt(1-S*S),H=I*Math.sin(b),J=Math.tan(Math.PI/4-b/2)/Math.pow((1-H)/(1+H),I/2);return b=-m*Math.log(Math.max(J,1e-10)),new dt(a.lng*c*m,b)},unproject:function(a){for(var c=180/Math.PI,m=this.R,b=this.R_MINOR/m,S=Math.sqrt(1-b*b),I=Math.exp(-a.y/m),H=Math.PI/2-2*Math.atan(I),J=0,ot=.1,_t;J<15&&Math.abs(ot)>1e-7;J++)_t=S*Math.sin(H),_t=Math.pow((1-_t)/(1+_t),S/2),ot=Math.PI/2-2*Math.atan(I*_t)-H,H+=ot;return new wt(H*c,a.x*c/m)}},xt={__proto__:null,LonLat:Q,Mercator:lt,SphericalMercator:ai},ae=o({},te,{code:"EPSG:3395",projection:lt,transformation:function(){var a=.5/(Math.PI*lt.R);return Gn(a,.5,-a,.5)}()}),Xe=o({},te,{code:"EPSG:4326",projection:Q,transformation:Gn(1/180,1,-1/180,.5)}),oe=o({},pe,{projection:Q,transformation:Gn(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});pe.Earth=te,pe.EPSG3395=ae,pe.EPSG3857=mi,pe.EPSG900913=Rs,pe.EPSG4326=Xe,pe.Simple=oe;var ve=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?$(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Oe=ve.extend({initialize:function(a,c){G(this,c),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),zs=function(a,c){return new Oe(a,c)},Pe=Oe.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Oe.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Oe.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Tt;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),cs=function(a,c){return new Pe(a,c)},hs=Ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){G(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var m=this.options,b=m[c+"Size"];typeof b=="number"&&(b=[b,b]);var S=j(b),I=j(c==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Dt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Yl(a){return new hs(a)}var Oa=hs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Oa.imagePath!="string"&&(Oa.imagePath=this._detectIconPath()),(this.options.imagePath||Oa.imagePath)+hs.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,b,S){var I=b.exec(m);return I&&I[S]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ne("div","leaflet-default-icon-path",document.body),c=rs(a,"background-image")||rs(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),fc=$n.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ui(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,I=oi(c._icon),H=m.getPixelBounds(),J=m.getPixelOrigin(),ot=Et(H.min._subtract(J).add(S),H.max._subtract(J).subtract(S));if(!ot.contains(I)){var _t=j((Math.max(ot.max.x,I.x)-ot.max.x)/(H.max.x-ot.max.x)-(Math.min(ot.min.x,I.x)-ot.min.x)/(H.min.x-ot.min.x),(Math.max(ot.max.y,I.y)-ot.max.y)/(H.max.y-ot.max.y)-(Math.min(ot.min.y,I.y)-ot.min.y)/(H.min.y-ot.min.y)).multiplyBy(b);m.panBy(_t,{animate:!1}),this._draggable._newPos._add(_t),this._draggable._startPos._add(_t),zt(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=B(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,b=oi(c._icon),S=c._map.layerPointToLatLng(b);m&&zt(m,b),c._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ka=ve.extend({options:{icon:new Oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){G(this,c),this._latlng=bt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=bt(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Wt(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(m,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),I=!1;S!==this._shadow&&(this._removeShadow(),I=!0),S&&(Wt(S,c),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&zt(this._icon,a),this._shadow&&zt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ne(this._icon,a),this._shadow&&Ne(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?j(c.iconSize):j(0,0),b=c.iconAnchor?j(c.iconAnchor):j(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dc(a,c){return new ka(a,c)}var Us=ve.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return G(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),el=Us.extend({options:{fill:!0,radius:10},initialize:function(a,c){G(this,c),this._latlng=bt(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=bt(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Us.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),b=[a+m,c+m];this._pxBounds=new ut(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gf(a,c){return new el(a,c)}var pc=el.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=o({},m,{radius:c})),G(this,c),this._latlng=bt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Tt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Us.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===te.distance){var S=Math.PI/180,I=this._mRadius/te.R/S,H=m.project([c+I,a]),J=m.project([c-I,a]),ot=H.add(J).divideBy(2),_t=m.unproject(ot).lat,Rt=Math.acos((Math.cos(I*S)-Math.sin(c*S)*Math.sin(_t*S))/(Math.cos(c*S)*Math.cos(_t*S)))/S;(isNaN(Rt)||Rt===0)&&(Rt=I/Math.cos(Math.PI/180*c)),this._point=ot.subtract(m.getPixelOrigin()),this._radius=isNaN(Rt)?0:ot.x-m.project([_t,a-Rt]).x,this._radiusY=ot.y-H.y}else{var Pt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Pt).x}this._updateBounds()}});function cm(a,c,m){return new pc(a,c,m)}var Bs=Us.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){G(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,b=Xn,S,I,H=0,J=this._parts.length;H<J;H++)for(var ot=this._parts[H],_t=1,Rt=ot.length;_t<Rt;_t++){S=ot[_t-1],I=ot[_t];var Pt=b(a,S,I,!0);Pt<c&&(c=Pt,m=b(a,S,I))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return R(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=bt(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Tt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=d(a),b=0,S=a.length;b<S;b++)m?(c[b]=bt(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new ut;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new dt(a,a);this._rawPxBounds&&(this._pxBounds=new ut([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var b=a[0]instanceof wt,S=a.length,I,H;if(b){for(H=[],I=0;I<S;I++)H[I]=this._map.latLngToLayerPoint(a[I]),m.extend(H[I]);c.push(H)}else for(I=0;I<S;I++)this._projectLatlngs(a[I],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,b,S,I,H,J,ot;for(m=0,S=0,I=this._rings.length;m<I;m++)for(ot=this._rings[m],b=0,H=ot.length;b<H-1;b++)J=Wr(ot[b],ot[b+1],a,b,!0),J&&(c[S]=c[S]||[],c[S].push(J[0]),(J[1]!==ot[b+1]||b===H-2)&&(c[S].push(J[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=Jo(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,b,S,I,H,J,ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,I=this._parts.length;m<I;m++)for(J=this._parts[m],b=0,H=J.length,S=H-1;b<H;S=b++)if(!(!c&&b===0)&&Da(a,J[S],J[b])<=ot)return!0;return!1}});function hm(a,c){return new Bs(a,c)}Bs._flat=w;var Va=Bs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Bs.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof wt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){Bs.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new dt(c,c);if(a=new ut(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,I;b<S;b++)I=Pa(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,b,S,I,H,J,ot,_t;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,ot=this._parts.length;I<ot;I++)for(m=this._parts[I],H=0,_t=m.length,J=_t-1;H<_t;J=H++)b=m[H],S=m[J],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(c=!c);return c||Bs.prototype._containsPoint.call(this,a,!0)}});function ui(a,c){return new Va(a,c)}var ci=Pe.extend({initialize:function(a,c){G(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=$(a)?a:a.features,m,b,S;if(c){for(m=0,b=c.length;m<b;m++)S=c[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var H=nl(a,I);return H?(H.feature=ja(a),H.defaultOptions=H.options,this.resetStyle(H),I.onEachFeature&&I.onEachFeature(a,H),this.addLayer(H)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function nl(a,c){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,S=[],I=c&&c.pointToLayer,H=c&&c.coordsToLatLng||Kl,J,ot,_t,Rt;if(!b&&!m)return null;switch(m.type){case"Point":return J=H(b),mc(I,a,J,c);case"MultiPoint":for(_t=0,Rt=b.length;_t<Rt;_t++)J=H(b[_t]),S.push(mc(I,a,J,c));return new Pe(S);case"LineString":case"MultiLineString":return ot=il(b,m.type==="LineString"?0:1,H),new Bs(ot,c);case"Polygon":case"MultiPolygon":return ot=il(b,m.type==="Polygon"?1:2,H),new Va(ot,c);case"GeometryCollection":for(_t=0,Rt=m.geometries.length;_t<Rt;_t++){var Pt=nl({geometry:m.geometries[_t],type:"Feature",properties:a.properties},c);Pt&&S.push(Pt)}return new Pe(S);case"FeatureCollection":for(_t=0,Rt=m.features.length;_t<Rt;_t++){var Lt=nl(m.features[_t],c);Lt&&S.push(Lt)}return new Pe(S);default:throw new Error("Invalid GeoJSON object.")}}function mc(a,c,m,b){return a?a(c,m):new ka(m,b&&b.markersInheritOptions&&b)}function Kl(a){return new wt(a[1],a[0],a[2])}function il(a,c,m){for(var b=[],S=0,I=a.length,H;S<I;S++)H=c?il(a[S],c-1,m):(m||Kl)(a[S]),b.push(H);return b}function sl(a,c){return a=bt(a),a.alt!==void 0?[x(a.lng,c),x(a.lat,c),x(a.alt,c)]:[x(a.lng,c),x(a.lat,c)]}function $l(a,c,m,b){for(var S=[],I=0,H=a.length;I<H;I++)S.push(c?$l(a[I],d(a[I])?0:c-1,m,b):sl(a[I],b));return!c&&m&&S.length>0&&S.push(S[0].slice()),S}function Bi(a,c){return a.feature?o({},a.feature,{geometry:c}):ja(c)}function ja(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Zr={toGeoJSON:function(a){return Bi(this,{type:"Point",coordinates:sl(this.getLatLng(),a)})}};ka.include(Zr),pc.include(Zr),el.include(Zr),Bs.include({toGeoJSON:function(a){var c=!d(this._latlngs),m=$l(this._latlngs,c?1:0,!1,a);return Bi(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Va.include({toGeoJSON:function(a){var c=!d(this._latlngs),m=c&&!d(this._latlngs[0]),b=$l(this._latlngs,m?2:c?1:0,!0,a);return c||(b=[b]),Bi(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),Oe.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),Bi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var I=S.toGeoJSON(a);if(m)b.push(I.geometry);else{var H=ja(I);H.type==="FeatureCollection"?b.push.apply(b,H.features):b.push(H)}}}),m?Bi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Xl(a,c){return new ci(a,c)}var yf=Xl,fs=ve.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=St(c),G(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&as(this._image),this},bringToBack:function(){return this._map&&ar(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=St(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:ne("img");if(Wt(c,"leaflet-image-layer"),this._zoomAnimated&&Wt(c,"leaflet-zoom-animated"),this.options.className&&Wt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Vn(this._image,m,c)},_reset:function(){var a=this._image,c=new ut(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();zt(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),za=function(a,c,m){return new fs(a,c,m)},Ql=fs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:ne("video");if(Wt(c,"leaflet-image-layer"),this._zoomAnimated&&Wt(c,"leaflet-zoom-animated"),this.options.className&&Wt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=f(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),b=[],S=0;S<m.length;S++)b.push(m[S].src);this._url=m.length>0?b:[c.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var H=ne("source");H.src=this._url[I],c.appendChild(H)}}});function _f(a,c,m){return new Ql(a,c,m)}var hr=fs.extend({_initImage:function(){var a=this._image=this._url;Wt(a,"leaflet-image-layer"),this._zoomAnimated&&Wt(a,"leaflet-zoom-animated"),this.options.className&&Wt(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function vf(a,c,m){return new hr(a,c,m)}var Fi=ve.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof wt||$(a))?(this._latlng=bt(a),G(this,c)):(G(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ne(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ne(this._container,0),this._removeTimeout=setTimeout(f(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=bt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&as(this._container),this},bringToBack:function(){return this._map&&ar(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Pe){c=null;var m=this._source._layers;for(var b in m)if(m[b]._map){c=m[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=j(this.options.offset),m=this._getAnchor();this._zoomAnimated?zt(this._container,a.add(m)):c=c.add(a).add(m);var b=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(a,c,m,b){var S=c;return S instanceof a||(S=new a(b).setContent(c)),m&&S.setLatLng(m),S}}),ve.include({_initOverlay:function(a,c,m,b){var S=m;return S instanceof a?(G(S,b),S._source=this):(S=c&&!b?c:new a(b,this),S.setContent(m)),S}});var rl=Fi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Fi.prototype.openOn.call(this,a)},onAdd:function(a){Fi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Us||this._source.on("preclick",Kn))},onRemove:function(a){Fi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Us||this._source.off("preclick",Kn))},getEvents:function(){var a=Fi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=ne("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ne("div",a+"-content-wrapper",c);if(this._contentNode=ne("div",a+"-content",m),Os(c),zi(this._contentNode),kt(c,"contextmenu",Kn),this._tipContainer=ne("div",a+"-tip-container",c),this._tip=ne("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ne("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',kt(b,"click",function(S){Ae(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,S=this.options.maxHeight,I="leaflet-popup-scrolled";S&&b>S?(c.height=S+"px",Wt(a,I)):Ee(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();zt(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(rs(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,b=this._containerWidth,S=new dt(this._containerLeft,-m-this._containerBottom);S._add(oi(this._container));var I=a.layerPointToContainerPoint(S),H=j(this.options.autoPanPadding),J=j(this.options.autoPanPaddingTopLeft||H),ot=j(this.options.autoPanPaddingBottomRight||H),_t=a.getSize(),Rt=0,Pt=0;I.x+b+ot.x>_t.x&&(Rt=I.x+b-_t.x+ot.x),I.x-Rt-J.x<0&&(Rt=I.x-J.x),I.y+m+ot.y>_t.y&&(Pt=I.y+m-_t.y+ot.y),I.y-Pt-J.y<0&&(Pt=I.y-J.y),(Rt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Rt,Pt]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fm=function(a,c){return new rl(a,c)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(a,c,m){return this._initOverlay(rl,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ve.include({bindPopup:function(a,c){return this._popup=this._initOverlay(rl,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Pe||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){An(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Us)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Jl=Fi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Fi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Fi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Fi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ne("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,b=this._map,S=this._container,I=b.latLngToContainerPoint(b.getCenter()),H=b.layerPointToContainerPoint(a),J=this.options.direction,ot=S.offsetWidth,_t=S.offsetHeight,Rt=j(this.options.offset),Pt=this._getAnchor();J==="top"?(c=ot/2,m=_t):J==="bottom"?(c=ot/2,m=0):J==="center"?(c=ot/2,m=_t/2):J==="right"?(c=0,m=_t/2):J==="left"?(c=ot,m=_t/2):H.x<I.x?(J="right",c=0,m=_t/2):(J="left",c=ot+(Rt.x+Pt.x)*2,m=_t/2),a=a.subtract(j(c,m,!0)).add(Rt).add(Pt),Ee(S,"leaflet-tooltip-right"),Ee(S,"leaflet-tooltip-left"),Ee(S,"leaflet-tooltip-top"),Ee(S,"leaflet-tooltip-bottom"),Wt(S,"leaflet-tooltip-"+J),zt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ne(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dm=function(a,c){return new Jl(a,c)};Qt.include({openTooltip:function(a,c,m){return this._initOverlay(Jl,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ve.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jl,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Pe||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(kt(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),kt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var gc=hs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(cn(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=j(m.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Tf(a){return new gc(a)}hs.Default=Oa;var Yr=ve.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){G(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),_e(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof dt?a:new dt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),b=0,S=c.length,I;b<S;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(m=a(m,+I));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){Ne(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var I=Math.min(1,(a-S.loaded)/200);Ne(S.el,I),I<1?c=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(W(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(_e(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),A(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)_e(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,b){var S=Math.floor(a/2),I=Math.floor(c/2),H=m-1,J=new dt(+S,+I);J.z=+H;var ot=this._tileCoordsToKey(J),_t=this._tiles[ot];return _t&&_t.active?(_t.retain=!0,!0):(_t&&_t.loaded&&(_t.retain=!0),H>b?this._retainParent(S,I,H,b):!1)},_retainChildren:function(a,c,m,b){for(var S=2*a;S<2*a+2;S++)for(var I=2*c;I<2*c+2;I++){var H=new dt(S,I);H.z=m+1;var J=this._tileCoordsToKey(H),ot=this._tiles[J];if(ot&&ot.active){ot.retain=!0;continue}else ot&&ot.loaded&&(ot.retain=!0);m+1<b&&this._retainChildren(S,I,m+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,b){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var I=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||I)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var b=this._map.getZoomScale(m,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,m)).round();Dt.any3d?Vn(a.el,S,b):zt(a.el,S)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(m,this._tileZoom),S=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new ut(S.subtract(I),S.add(I))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),I=S.getCenter(),H=[],J=this.options.keepBuffer,ot=new ut(S.getBottomLeft().subtract([J,-J]),S.getTopRight().add([J,-J]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _t in this._tiles){var Rt=this._tiles[_t].coords;(Rt.z!==this._tileZoom||!ot.contains(new dt(Rt.x,Rt.y)))&&(this._tiles[_t].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Pt=S.min.y;Pt<=S.max.y;Pt++)for(var Lt=S.min.x;Lt<=S.max.x;Lt++){var Gt=new dt(Lt,Pt);if(Gt.z=this._tileZoom,!!this._isValidTile(Gt)){var ke=this._tiles[this._tileCoordsToKey(Gt)];ke?ke.current=!0:H.push(Gt)}}if(H.sort(function(Cn,Ti){return Cn.distanceTo(I)-Ti.distanceTo(I)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ge=document.createDocumentFragment();for(Lt=0;Lt<H.length;Lt++)this._addTile(H[Lt],Ge);this._level.el.appendChild(Ge)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return St(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),b=a.scaleBy(m),S=b.add(m),I=c.unproject(b,a.z),H=c.unproject(S,a.z);return[I,H]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new Tt(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new dt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(_e(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Wt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=A,a.onmousemove=A,Dt.ielt9&&this.options.opacity<1&&Ne(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&B(f(this._tileReady,this,a,null,S)),zt(S,m),this._tiles[b]={el:S,coords:a,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Ne(m.el,0),W(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Wt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new dt(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new ut(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Hi(a){return new Yr(a)}var Kr=Yr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=G(this,c),c.detectRetina&&Dt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return kt(m,"load",f(this._tileOnLoad,this,c,m)),kt(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Dt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return st(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Dt.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=A,c.onerror=A,!c.complete)){c.src=nt;var m=this._tiles[a].coords;_e(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",nt),Yr.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===nt))return Yr.prototype._tileReady.call(this,a,c,m)}});function hi(a,c){return new Kr(a,c)}var fi=Kr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=o({},this.defaultWmsParams);for(var b in c)b in this.options||(m[b]=c[b]);c=G(this,c);var S=c.detectRetina&&Dt.retina?2:1,I=this.getTileSize();m.width=I.x*S,m.height=I.y*S,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Kr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,b=Et(m.project(c[0]),m.project(c[1])),S=b.min,I=b.max,H=(this._wmsVersion>=1.3&&this._crs===Xe?[S.y,S.x,I.y,I.x]:[S.x,S.y,I.x,I.y]).join(","),J=Kr.prototype.getTileUrl.call(this,a);return J+Z(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Ua(a,c){return new fi(a,c)}Kr.WMS=fi,hi.wms=Ua;var qi=ve.extend({options:{padding:.1},initialize:function(a){G(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),I=b.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(a,c));Dt.any3d?Vn(this._container,I,m):zt(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new ut(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),al=qi.extend({options:{tolerance:0},getEvents:function(){var a=qi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");kt(a,"mousemove",this._onMouseMove,this),kt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,_e(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qi.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),b=Dt.retina?2:1;zt(c,a.min),c.width=b*m.x,c.height=b*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){qi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,b=c.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],b,S;for(S=0;S<c.length;S++){if(b=Number(c[S]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ut,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,b,S,I,H=a._parts,J=H.length,ot=this._ctx;if(J){for(ot.beginPath(),m=0;m<J;m++){for(b=0,S=H[m].length;b<S;b++)I=H[m][b],ot[b?"lineTo":"moveTo"](I.x,I.y);c&&ot.closePath()}this._fillStroke(ot,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(c.x,c.y/S,b,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function ol(a){return Dt.canvas?new al(a):null}var $r=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ba={_initContainer:function(){this._container=ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=$r("shape");Wt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=$r("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;_e(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(c||(c=a._stroke=$r("stroke")),S.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=$(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(S.removeChild(c),a._stroke=null),b.fill?(m||(m=a._fill=$r("fill")),S.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(S.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){as(a._container)},_bringToBack:function(a){ar(a._container)}},ll=Dt.vml?$r:Xi,fr=qi.extend({_initContainer:function(){this._container=ll("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ll("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qi.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),zt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=ll("path");a.options.className&&Wt(c,a.options.className),a.options.interactive&&Wt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){_e(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Cs(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,S="a"+m+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){as(a._path)},_bringToBack:function(a){ar(a._path)}});Dt.vml&&fr.include(Ba);function Xr(a){return Dt.svg||Dt.vml?new fr(a):null}Qt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&ol(a)||Xr(a)}});var bf=Va.extend({initialize:function(a,c){Va.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=St(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function di(a,c){return new bf(a,c)}fr.create=ll,fr.pointsToPath=Cs,ci.geometryToLayer=nl,ci.coordsToLatLng=Kl,ci.coordsToLatLngs=il,ci.latLngToCoords=sl,ci.latLngsToCoords=$l,ci.getFeature=Bi,ci.asFeature=ja,Qt.mergeOptions({boxZoom:!0});var tu=$n.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sn(),Fr(),this._startPoint=this._map.mouseEventToContainerPoint(a),kt(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ne("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new ut(this._point,this._startPoint),m=c.getSize();zt(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(_e(this._box),Ee(this._container,"leaflet-crosshair")),ki(),Ko(),he(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new Tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",tu),Qt.mergeOptions({doubleClickZoom:!0});var ds=$n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),b=c.options.zoomDelta,S=a.originalEvent.shiftKey?m-b:m+b;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(a.containerPoint,S)}});Qt.addInitHook("addHandler","doubleClickZoom",ds),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yc=$n.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ui(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=St(this._map.options.maxBounds);this._offsetLimit=Et(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-c+m)%a+c-m,I=(b+c+m)%a-c-m,H=Math.abs(S+m)<Math.abs(I+m)?S:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(a){var c=this._map,m=c.options,b=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,H=m.easeLinearity,J=S.multiplyBy(H/I),ot=J.distanceTo([0,0]),_t=Math.min(m.inertiaMaxSpeed,ot),Rt=J.multiplyBy(_t/ot),Pt=_t/(m.inertiaDeceleration*H),Lt=Rt.multiplyBy(-Pt/2).round();!Lt.x&&!Lt.y?c.fire("moveend"):(Lt=c._limitOffset(Lt,c.options.maxBounds),B(function(){c.panBy(Lt,{duration:Pt,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",yc),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ul=$n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),kt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,b,S;for(b=0,S=m.left.length;b<S;b++)c[m.left[b]]=[-1*a,0];for(b=0,S=m.right.length;b<S;b++)c[m.right[b]]=[a,0];for(b=0,S=m.down.length;b<S;b++)c[m.down[b]]=[0,a];for(b=0,S=m.up.length;b<S;b++)c[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,b,S;for(b=0,S=m.zoomIn.length;b<S;b++)c[m.zoomIn[b]]=a;for(b=0,S=m.zoomOut.length;b<S;b++)c[m.zoomOut[b]]=-a},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,b;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=j(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(j(b),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(S)}else m.panBy(b)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;An(a)}}});Qt.addInitHook("addHandler","keyboard",ul),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dr=$n.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Hr(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),An(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=m?Math.ceil(S/m)*m:S,H=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,H&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+H):a.setZoomAround(this._lastMousePos,c+H))}});Qt.addInitHook("addHandler","scrollWheelZoom",dr);var _c=600;Qt.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var eu=$n.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new dt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",Ae),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),_c),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){he(document,"touchend",Ae),he(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new dt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Qt.addInitHook("addHandler","tapHold",eu),Qt.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var Qr=$n.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),Ae(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),S=m.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var I=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var H=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(H,this,!0),Ae(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",Qr),Qt.BoxZoom=tu,Qt.DoubleClickZoom=ds,Qt.Drag=yc,Qt.Keyboard=ul,Qt.ScrollWheelZoom=dr,Qt.TapHold=eu,Qt.TouchZoom=Qr,n.Bounds=ut,n.Browser=Dt,n.CRS=pe,n.Canvas=al,n.Circle=pc,n.CircleMarker=el,n.Class=Ft,n.Control=vn,n.DivIcon=gc,n.DivOverlay=Fi,n.DomEvent=Hl,n.DomUtil=$o,n.Draggable=Ui,n.Evented=pt,n.FeatureGroup=Pe,n.GeoJSON=ci,n.GridLayer=Yr,n.Handler=$n,n.Icon=hs,n.ImageOverlay=fs,n.LatLng=wt,n.LatLngBounds=Tt,n.Layer=ve,n.LayerGroup=Oe,n.LineUtil=O,n.Map=Qt,n.Marker=ka,n.Mixin=Gr,n.Path=Us,n.Point=dt,n.PolyUtil=La,n.Polygon=Va,n.Polyline=Bs,n.Popup=rl,n.PosAnimation=qr,n.Projection=xt,n.Rectangle=bf,n.Renderer=qi,n.SVG=fr,n.SVGOverlay=hr,n.TileLayer=Kr,n.Tooltip=Jl,n.Transformation=Nn,n.Util=z,n.VideoOverlay=Ql,n.bind=f,n.bounds=Et,n.canvas=ol,n.circle=cm,n.circleMarker=gf,n.control=Rn,n.divIcon=Tf,n.extend=o,n.featureGroup=cs,n.geoJSON=Xl,n.geoJson=yf,n.gridLayer=Hi,n.icon=Yl,n.imageOverlay=za,n.latLng=bt,n.latLngBounds=St,n.layerGroup=zs,n.map=ls,n.marker=dc,n.point=j,n.polygon=ui,n.polyline=hm,n.popup=fm,n.rectangle=di,n.setOptions=G,n.stamp=y,n.svg=Xr,n.svgOverlay=vf,n.tileLayer=hi,n.tooltip=dm,n.transformation=Gn,n.version=s,n.videoOverlay=_f;var Fa=window.L;n.noConflict=function(){return window.L=Fa,this},window.L=n})}(fh,fh.exports)),fh.exports}var uc=Qz();const sm=RS(uc);function rm(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function m0(e,t){return t==null?function(s,o){const u=V.useRef(void 0);return u.current||(u.current=e(s,o)),u}:function(s,o){const u=V.useRef(void 0);u.current||(u.current=e(s,o));const f=V.useRef(s),{instance:p}=u.current;return V.useEffect(function(){f.current!==s&&(t(p,s,f.current),f.current=s)},[p,s,t]),u}}function rI(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function aI(e){return function(n){const s=d0(),o=e(p0(n,s),s);return Wz(s.map,n.attribution),sI(o.current,n.eventHandlers),rI(o.current,s),o}}function Jz(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function tU(e){return function(n){const s=d0(),o=e(p0(n,s),s);return sI(o.current,n.eventHandlers),rI(o.current,s),Jz(o.current,n),o}}function eU(e,t){const n=m0(e,t),s=aI(n);return iI(s)}function oI(e,t){const n=m0(e,t),s=tU(n);return iI(s)}function nU(e,t){const n=m0(e,t),s=aI(n);return $z(s)}function iU(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function sU(){return d0().map}const lI=oI(function({center:t,children:n,...s},o){const u=new uc.Circle(t,s);return rm(u,h0(o,{overlayContainer:u}))},Zz);function rU({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:u,placeholder:f,style:p,whenReady:y,zoom:_,...E},A){const[x]=V.useState({className:o,id:u,style:p}),[D,k]=V.useState(null),G=V.useRef(void 0);V.useImperativeHandle(A,()=>D?.map??null,[D]);const Z=V.useCallback(st=>{if(st!==null&&!G.current){const $=new uc.Map(st,E);G.current=$,n!=null&&_!=null?$.setView(n,_):e!=null&&$.fitBounds(e,t),y!=null&&$.whenReady(y),k(Kz($))}},[]);V.useEffect(()=>()=>{D?.map.remove()},[D]);const Y=D?Qd.createElement(f0,{value:D},s):f??null;return Qd.createElement("div",{...x,ref:Z},Y)}const am=V.forwardRef(rU),om=eU(function({position:t,...n},s){const o=new uc.Marker(t,n);return rm(o,h0(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),uI=oI(function({positions:t,...n},s){const o=new uc.Polyline(t,n);return rm(o,h0(s,{overlayContainer:o}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),lm=nU(function({url:t,...n},s){const o=new uc.TileLayer(t,p0(n,s));return rm(o,s)},function(t,n,s){iU(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)}),Ey="/assets/Apple_AirTag-DXsKpCuU.svg",x_="/assets/tag-CZQAlck_.webp",wy=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194]];function aU({scrollYProgress:e,path:t,setBreadcrumbPath:n,setVisitedPoints:s}){const o=sU();return V.useEffect(()=>{const u=e.on("change",f=>{const p=(f-.3)/.39999999999999997;if(p<0||p>1){const D=p>1?t[t.length-1]:t[0],k=p>1?12.75:15;o.setView(D,k),n(p>1?t:[t[0]]),s(p>1?t:[t[0]]);return}const y=p*(t.length-1),_=Math.floor(y),E=y-_;let A;if(_>=t.length-1)A=t[t.length-1];else{const[D,k]=t[_],[G,Z]=t[_+1];A=[D+(G-D)*E,k+(Z-k)*E]}const x=15-p*(15-12.75);o.setView(A,x),n([...t.slice(0,_+1),A]),s(t.slice(0,_+1))});return()=>u()},[o,e,t,n,s]),null}function oU({onScrollProgress:e}){const t=V.useRef(null),{scrollYProgress:n}=Hz({target:t,offset:["start start","end end"]});V.useEffect(()=>{e&&e(n)},[n,e]);const s=bl(n,[.2,.5],[1,.2]),o=bl(n,[.7,1],[1,0]),u=bl(n,[.05,.15],[0,360]),[f,p]=V.useState(Ey);V.useEffect(()=>{const Y=n.on("change",st=>{st>=.1&&f!==x_?p(x_):st<.1&&f!==Ey&&p(Ey)});return()=>Y()},[n,f]);const y=bl(n,[.1,.3,.8,1],[0,1,1,0]),_=bl(n,[.7,.8],[1,0]),[E,A]=V.useState([wy[0]]),[x,D]=V.useState([]),k=sm.divIcon({className:"trail-point",iconSize:[8,8],iconAnchor:[4,4],html:"<div></div>"}),G=bl(n,[.7,.8],[1,0]),Z=bl(n,[.8,1],[0,1]);return T.jsxs("div",{ref:t,id:"hero",className:"landing-root",role:"banner","aria-labelledby":"hero-title",children:[T.jsx(nh.div,{className:"header-background-container",style:{opacity:Z}}),T.jsx(nh.div,{className:"hero-title-container",style:{opacity:G},children:T.jsx("h1",{id:"hero-title",className:"hero-title",children:"TagLogger"})}),T.jsxs(nh.p,{className:"subtitle",style:{opacity:_},children:[T.jsx("strong",{children:"Unlock the location history and more."}),T.jsx("br",{}),T.jsx("span",{style:{fontSize:"0.5em",display:"block",marginTop:"15px"},children:"An independent service, not affiliated with Apple Inc."})]}),T.jsx(nh.img,{src:f,alt:"Location tracking device",className:"airtag-img",style:{scale:s,opacity:o,rotate:u,zIndex:10,translateX:"-50%",translateY:"-50%"},draggable:!1}),T.jsx(nh.div,{className:"map-fade",style:{opacity:y,zIndex:1},children:T.jsxs(am,{center:wy[0],zoom:15,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100vh",width:"100vw",background:"black"},children:[T.jsx(lm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),T.jsx(aU,{scrollYProgress:n,path:wy,setBreadcrumbPath:A,setVisitedPoints:D}),T.jsx(uI,{positions:E,color:"#00eaff",weight:6,opacity:.7}),x.map((Y,st)=>T.jsx(om,{position:Y,icon:k,zIndexOffset:1e3},st))]},"main-app-map")})]})}const lU=[{feature:"Size",taglogger:"31x31 mm",apple:"",gps:"4060mm+, bulky"},{feature:"Tech",taglogger:"AirTag",apple:"",gps:"GPS, SIM"},{feature:"Device Support",taglogger:"Android, iOS, Web",apple:"Apple only",gps:"Often agnostic"},{feature:"Battery Life",taglogger:"~1 yr",apple:"",gps:"Daysweeks"},{feature:"Cost",taglogger:"Low",apple:"",gps:"High"},{feature:"History/Export",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Alerts/Geofencing",taglogger:"Yes",apple:"Limited",gps:"Extra fees"},{feature:"Inventory Mgmt",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Scalability",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Max Tags",taglogger:"Unlimited",apple:"32 items",gps:"Many"}];function uU(){return T.jsx("section",{id:"feature-comparison",className:"feature-comparison-section",role:"region","aria-labelledby":"feature-comparison-title",children:T.jsxs("div",{className:"feature-comparison-content",children:[T.jsx("h2",{id:"feature-comparison-title",className:"feature-comparison-title",children:"How We Compare"}),T.jsx("div",{style:{maxWidth:700,margin:"0 auto"},children:T.jsx("p",{className:"feature-description",style:{marginBottom:32},children:"See how our solution compares to other tracking options on the market. We deliver the best mix of size, battery life, and coverage. If youve tried AirTags, youll know nothing else is quite like it."})}),T.jsx("div",{className:"feature-comparison-table-wrapper",style:{overflowX:"auto",maxWidth:800,margin:"0 auto"},children:T.jsxs("table",{className:"feature-comparison-table",style:{width:"100%",borderCollapse:"collapse",minWidth:580,tableLayout:"fixed"},children:[T.jsxs("colgroup",{children:[T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%",background:"rgba(0,234,255,0.10)"}}),T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%"}})]}),T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(0,234,255,0.08)"},children:[T.jsx("th",{style:{padding:"10px 6px",color:"#00eaff",fontWeight:700,fontSize:14,textAlign:"left",borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Feature"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"TagLogger"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Apple Find My"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14},children:"GPS Trackers"})]})}),T.jsx("tbody",{children:lU.map((e,t)=>e.feature==="Tech"&&!e.apple||e.feature==="Size"&&!e.apple||e.feature==="Battery Life"&&!e.apple||e.feature==="Cost"&&!e.apple?T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{colSpan:2,style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,textAlign:"center",background:"rgba(0,234,255,0.10)",borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t):T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)",background:"rgba(0,234,255,0.10)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.apple}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t))})]})})]})})}function cU(){const[e,t]=V.useState("business"),n=[{icon:"",title:"Track Luggage Travels",description:"Monitor your luggage with an AirTag during vacations and business trips"},{icon:"",title:"Monitor Pet Adventures",description:"See where your furry friends wander and explore"},{icon:"",title:"Family Safety Tracking",description:"Track your elderly parents or young kids for safety reasons"},{icon:"",title:"Shared Item Locations",description:"Remember locations when lending valuable possessions"},{icon:"",title:"Package Delivery Verification",description:"Verify delivered packages with complete travel history"},{icon:"",title:"Vehicle Journey Documentation",description:"Document vehicle journeys for expense reports or records"}],s=[{icon:"",title:"Shipment Monitoring",description:"Track shipments to reduce losses and ensure timely deliveries"},{icon:"",title:"Delivery Verification",description:"Verify deliveries using historical location data for accuracy and dispute resolution"},{icon:"",title:"Equipment Location",description:"Locate equipment across industries like healthcare, manufacturing, film, construction, and IT to boost operational efficiency"},{icon:"",title:"Historical Equipment Usage",description:"Record equipment movements over time for maintenance, accountability, and compliance"},{icon:"",title:"Vehicle Journey Documentation",description:"Document vehicle travels for expense reimbursement, travel logging, and compliance"},{icon:"",title:"Rental and Event Equipment Management",description:"Manage rental and event equipment with historical tracking to ensure proper usage and timely returns"}];return T.jsx("section",{id:"use-cases",className:"use-cases-section",role:"region","aria-labelledby":"use-cases-title",children:T.jsxs("div",{className:"use-cases-content",children:[T.jsx("h2",{id:"use-cases-title",className:"use-cases-title",children:"Built for Business and Personal Use Cases"}),T.jsxs("div",{className:"use-cases-toggle",children:[T.jsx("button",{className:`toggle-btn ${e==="business"?"active":""}`,onClick:()=>t("business"),children:"Business Use"}),T.jsx("button",{className:`toggle-btn ${e==="personal"?"active":""}`,onClick:()=>t("personal"),children:"Personal Use"})]}),T.jsx("div",{className:"use-cases-category",children:T.jsx("div",{className:"use-cases-grid",children:(e==="personal"?n:s).map((o,u)=>T.jsxs("div",{className:"use-case-card",children:[T.jsx("div",{className:"use-case-icon","aria-hidden":"true",children:o.icon}),T.jsx("h3",{className:"use-case-title",children:o.title}),T.jsx("p",{className:"use-case-description",children:o.description})]},u))})})]})})}const xu=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194],[37.7549,-122.4194],[37.7499,-122.4194]];function hU(){const[e,t]=V.useState([]),[n,s]=V.useState(xu[0]);V.useEffect(()=>{let u=0;const f=setInterval(()=>{u<xu.length?(t(xu.slice(0,u+1)),s(xu[u]),u++):(u=0,t([]),s(xu[0]))},300);return()=>clearInterval(f)},[]);const o=sm.divIcon({className:"demo-marker",iconSize:[20,20],iconAnchor:[10,10],html:'<div class="marker-dot"></div>'});return T.jsx("div",{className:"platform-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/dashboard"})]}),T.jsx("div",{className:"browser-content",children:T.jsxs(am,{center:xu[0],zoom:13,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(lm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),e.length>0&&T.jsx(uI,{positions:e,color:"#00eaff",weight:4,opacity:.8}),n&&T.jsx(om,{position:n,icon:o})]},"platform-demo-map")})]})})}const Pd=[37.7749,-122.4194],TS=500,Md=[[37.7749,-122.4194],[37.7749,-122.415],[37.7749,-122.41],[37.7749,-122.405],[37.7749,-122.41],[37.7749,-122.415],[37.7749,-122.4194]];function fU(){const[e,t]=V.useState(Md[0]),[n,s]=V.useState(!0),[o,u]=V.useState(!1),[f,p]=V.useState(""),y=(A,x,D,k)=>{const Z=A*Math.PI/180,Y=D*Math.PI/180,st=(D-A)*Math.PI/180,$=(k-x)*Math.PI/180,yt=Math.sin(st/2)*Math.sin(st/2)+Math.cos(Z)*Math.cos(Y)*Math.sin($/2)*Math.sin($/2);return 6371e3*(2*Math.atan2(Math.sqrt(yt),Math.sqrt(1-yt)))},_=A=>y(A[0],A[1],Pd[0],Pd[1])<=TS;V.useEffect(()=>{let A=0;const x=setInterval(()=>{if(A<Md.length){const D=Md[A];t(D);const k=n,G=_(D);k!==G&&(s(G),p(G?" AirTag entered geofence zone!":" AirTag left geofence zone!"),u(!0),setTimeout(()=>u(!1),2e3)),A++}else A=0,t(Md[0]),s(!0)},670);return()=>clearInterval(x)},[n]);const E=sm.divIcon({className:"geofence-marker",iconSize:[24,24],iconAnchor:[12,12],html:`<div class="marker-dot ${n?"inside":"outside"}"></div>`});return T.jsx("div",{className:"geofence-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/geofencing"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs(am,{center:Pd,zoom:14,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(lm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),T.jsx(lI,{center:Pd,radius:TS,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:2,opacity:.8}}),e&&T.jsx(om,{position:e,icon:E})]},"geofence-demo-map"),o&&T.jsx("div",{className:"geofence-alert",children:T.jsxs("div",{className:`alert-content${n?" blue":""}`,children:[T.jsx("span",{className:"alert-icon",children:""}),T.jsx("span",{className:"alert-text",children:f})]})}),T.jsx("div",{className:"geofence-status",children:T.jsx("div",{className:`status-indicator ${n?"inside":"outside"}`,children:n?" Inside Geofence":" Outside Geofence"})})]})]})})}const Ld={yard:[37.7749,-122.4194],"site-a":[37.7849,-122.4094],"site-b":[37.7649,-122.4294],"site-c":[37.7949,-122.3994]},dU=[{id:1,name:"Excavator #EX-001",type:"excavator",status:"checked-out",location:"site-a",user:"Mike Rodriguez",lastUpdate:"2 hours ago"},{id:2,name:"Bulldozer #BD-045",type:"bulldozer",status:"checked-in",location:"yard",user:null,lastUpdate:"1 day ago"},{id:3,name:"Crane #CR-012",type:"crane",status:"checked-out",location:"site-b",user:"Sarah Johnson",lastUpdate:"30 min ago"},{id:4,name:"Loader #LD-023",type:"loader",status:"checked-out",location:"site-c",user:"Tom Wilson",lastUpdate:"5 hours ago"}];function pU(){const[e,t]=V.useState(dU),[n,s]=V.useState(null),[o,u]=V.useState(new Date);V.useEffect(()=>{const x=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(x)},[]);const f=x=>Ld[x]||Ld.warehouse,p=x=>x==="checked-in"?"":"",y=x=>({excavator:"",bulldozer:"",crane:"",loader:""})[x]||"",_=x=>{s(n?.id===x.id?null:x)},E=x=>{t(D=>D.map(k=>{if(k.id===x){const G=k.status==="checked-in"?"checked-out":"checked-in";return{...k,status:G,user:G==="checked-out"?"Current User":null,lastUpdate:"Just now"}}return k}))},A=(x,D)=>sm.divIcon({className:"inventory-marker",iconSize:[30,30],iconAnchor:[15,15],html:`<div class="marker-content ${D}">
               <div class="marker-icon">${y(x)}</div>
               <div class="marker-status">${p(D)}</div>
             </div>`});return T.jsx("div",{className:"inventory-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/equipment"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs("div",{className:"inventory-layout",children:[T.jsxs("div",{className:"inventory-sidebar",children:[T.jsxs("div",{className:"sidebar-header",children:[T.jsx("h3",{children:"Equipment Inventory"}),T.jsx("div",{className:"time-display",children:o.toLocaleTimeString()})]}),T.jsx("div",{className:"asset-list",children:e.map(x=>T.jsxs("div",{className:`asset-item ${n?.id===x.id?"selected":""} ${x.status}`,onClick:()=>_(x),children:[T.jsx("div",{className:"asset-icon",children:y(x.type)}),T.jsxs("div",{className:"asset-info",children:[T.jsx("div",{className:"asset-name",children:x.name}),T.jsxs("div",{className:"asset-details",children:[T.jsxs("span",{className:`status-badge ${x.status}`,children:[p(x.status)," ",x.status]}),T.jsxs("span",{className:"asset-location",children:[" ",x.location]})]}),x.user&&T.jsxs("div",{className:"asset-user",children:[" ",x.user]})]}),T.jsx("button",{className:`check-btn ${x.status}`,onClick:D=>{D.stopPropagation(),E(x.id)},children:x.status==="checked-in"?"Check Out":"Check In"})]},x.id))})]}),T.jsx("div",{className:"inventory-map",children:T.jsxs(am,{center:Ld.yard,zoom:12,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(lm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),Object.entries(Ld).map(([x,D])=>T.jsx(lI,{center:D,radius:200,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:1,opacity:.5}},x)),e.map(x=>{const D=f(x.location);return D?T.jsx(om,{position:D,icon:A(x.type,x.status)},x.id):null})]},"inventory-demo-map")})]}),n&&T.jsxs("div",{className:"asset-details-panel",children:[T.jsxs("div",{className:"details-header",children:[T.jsx("h4",{children:n.name}),T.jsx("button",{className:"close-btn",onClick:()=>s(null),children:""})]}),T.jsxs("div",{className:"details-content",children:[T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Type:"}),T.jsx("span",{className:"detail-value",children:n.type})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Status:"}),T.jsxs("span",{className:`detail-value status-${n.status}`,children:[p(n.status)," ",n.status]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Location:"}),T.jsxs("span",{className:"detail-value",children:[" ",n.location]})]}),n.user&&T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Assigned to:"}),T.jsxs("span",{className:"detail-value",children:[" ",n.user]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Last updated:"}),T.jsx("span",{className:"detail-value",children:n.lastUpdate})]})]})]})]})]})})}function mU(){const[e,t]=V.useState(0),n=[{title:"Complete Location History",description:"Interactive timeline with 30-90+ day history. Analyze movement patterns and travel routes with timeline playback.",demo:T.jsx(hU,{})},{title:"Geofencing",description:"Virtual boundaries with automated alerts. Custom radius 100m-5km with email/SMS notifications.",demo:T.jsx(fU,{})},{title:"Inventory Check-In/Out",description:"Automate asset management with location-based status updates and inventory system integration.",demo:T.jsx(pU,{})}];return T.jsx("section",{id:"platform-features",className:"platform-features-section",role:"region","aria-labelledby":"platform-features-title",children:T.jsxs("div",{className:"platform-features-content",children:[T.jsx("h2",{id:"platform-features-title",className:"platform-features-title",children:"Platform Features"}),T.jsxs("div",{className:"platform-features-layout",children:[T.jsx("div",{className:"features-selector",children:n.map((s,o)=>T.jsx("button",{className:`feature-selector-btn ${e===o?"selected":""}`,onClick:()=>t(o),children:s.title},o))}),T.jsxs("div",{className:"demo-section",children:[T.jsx("p",{className:"feature-description",children:n[e].description}),T.jsx("div",{className:"demo-placeholder",children:n[e].demo})]})]})]})})}function gU(){const e=[{icon:"",title:"Order",subtitle:"Get pre-configured tags",description:"For your security and seamless integration, tags must be pre-configured and onboarded to our platform before shipping. This ensures they are ready to track without needing access to your iCloud account."},{icon:"",title:"Activate",subtitle:"Link in seconds",description:"Once your pre-configured tags arrive, simply link them to your account on our platform. The tracking functionality will activate, ready for use."},{icon:"",title:"Track",subtitle:"Anywhere",description:"Access powerful platform features, including location history, geofencing, and inventory check-in/out capabilities."}];return T.jsx("section",{id:"how-it-works",className:"how-it-works-section",role:"region","aria-labelledby":"how-it-works-title",children:T.jsxs("div",{className:"how-it-works-content",children:[T.jsx("h2",{id:"how-it-works-title",className:"how-it-works-title",children:"How It Works"}),T.jsx("div",{className:"how-it-works-steps modern",children:e.map((t,n)=>T.jsxs(Qd.Fragment,{children:[T.jsxs("div",{className:"how-it-works-step modern",children:[T.jsx("div",{className:"how-it-works-icon modern",children:t.icon}),T.jsx("div",{className:"how-it-works-step-title modern",children:t.title}),T.jsx("div",{className:"how-it-works-step-subtitle",children:t.subtitle}),T.jsx("p",{className:"how-it-works-step-description",children:t.description})]}),n<e.length-1&&T.jsx("div",{className:"how-it-works-chevron",children:""})]},n))})]})})}const ca={SETUP_FEE_PER_TAG:15,BASE_MONTHLY_PRICE:12.99,DISCOUNTS:{"2-3":.25,"4-10":.3,"10+":.4}},bS={initial:{MIN_TAGS:10,MAX_TAGS:100},tags_only:{MIN_TAGS:10,MAX_TAGS:100}},cI=(e="initial")=>e==="tags_only"?bS.tags_only:bS.initial,Sp=e=>{const t=ca.BASE_MONTHLY_PRICE;return e===1?t:e<=3?Number((t*(1-ca.DISCOUNTS["2-3"])).toFixed(2)):e<=10?Number((t*(1-ca.DISCOUNTS["4-10"])).toFixed(2)):Number((t*(1-ca.DISCOUNTS["10+"])).toFixed(2))},mf=(e,t={})=>{typeof gtag<"u"?(gtag("event",e,t),console.log("GA4 Event tracked:",e,t)):console.warn("GA4 not loaded - event would be:",e,t)},yU=()=>{mf("sign_up",{method:"google"})},_U=()=>{mf("login",{method:"google"})},um=(e=1)=>{const t=Math.max(1,Number(e)||1),n=ca.SETUP_FEE_PER_TAG,s=Sp(t),o=Number((n*t).toFixed(2)),u=Number((s*t).toFixed(2));return{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}},hI=(e,t,n)=>[{item_id:"setup_fee",item_name:"AirTag Setup & Activation",category:"setup",quantity:e,price:t},{item_id:"monthly_subscription",item_name:"AirTag Monthly Service Subscription",category:"subscription",quantity:e,price:n}],vU=(e=1)=>{const{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}=um(e);mf("begin_checkout",{currency:"USD",value:o,setup_value:o,subscription_value:u,items:hI(t,n,s)})},TU=(e=1,t)=>{const{normalizedCount:n,setupFeePerTag:s,subscriptionPerTag:o,setupValue:u,subscriptionValue:f}=um(e);mf("purchase",{transaction_id:t,currency:"USD",value:u,setup_value:u,subscription_value:f,items:hI(n,s,o)})},bU=(e,t)=>{mf("cta_click",{cta_location:e,cta_text:t})},g0=(e,t={})=>{if(typeof fbq<"u"){const n=`${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate event",e,t);return}fbq("track",e,t),console.log("Meta Pixel Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - event would be:",e,t)},fI=(e,t={})=>{if(typeof fbq<"u"){const n=`custom_${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate custom event",e,t);return}fbq("trackCustom",e,t),console.log("Meta Pixel Custom Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - custom event would be:",e,t)},ES=()=>{yU(),g0("CompleteRegistration",{content_name:"User Registration",content_category:"signup"})},wS=()=>{_U(),fI("UserLogin",{content_name:"User Login",content_category:"authentication"})},EU=(e=1)=>{vU(e);const{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}=um(e);g0("InitiateCheckout",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:o,currency:"USD",num_items:t,setup_value:o,subscription_value:u,contents:[{id:"setup_fee",quantity:t,item_price:n,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:t,item_price:s,item_name:"AirTag Monthly Service Subscription"}]})},wU=(e=1,t)=>{TU(e,t);const{normalizedCount:n,setupFeePerTag:s,subscriptionPerTag:o,setupValue:u,subscriptionValue:f}=um(e);g0("Purchase",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:u,currency:"USD",num_items:n,transaction_id:t,setup_value:u,subscription_value:f,contents:[{id:"setup_fee",quantity:n,item_price:s,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:n,item_price:o,item_name:"AirTag Monthly Service Subscription"}]})},xU=(e,t)=>{bU(e,t),fI("CTAClick",{content_name:t,content_category:"cta",cta_location:e})};function SU(){const{MIN_TAGS:e,MAX_TAGS:t}=cI("initial"),[n,s]=V.useState(e),o=Nr(),u=ca.SETUP_FEE_PER_TAG,f=k=>Sp(k)*k,p=k=>u*k,y=f(n),_=p(n),E=Sp(n).toFixed(2),A=ca.BASE_MONTHLY_PRICE*n,x=n>1,D=x?Math.round((1-y/A)*100):0;return T.jsx("section",{id:"pricing",className:"pricing-section",role:"region","aria-labelledby":"pricing-title",children:T.jsxs("div",{className:"pricing-content",children:[T.jsx("h2",{id:"pricing-title",className:"pricing-title",children:"Simple, Transparent Pricing"}),T.jsx("p",{className:"pricing-subtitle",children:"One-time setup cost for each tag + monthly subscription. Volume discounts apply to newly purchased tags."}),T.jsx("div",{className:"pricing-calculator",children:T.jsxs("div",{className:"calculator-card",children:[T.jsxs("div",{className:"amount-section",children:[T.jsx("p",{className:"amount-label",children:"How many tags?"}),T.jsxs("div",{className:"tag-counter",children:[T.jsx("button",{className:"counter-btn",onClick:()=>s(Math.max(e,n-1)),disabled:n<=e,children:"-"}),T.jsxs("div",{className:"tag-display",children:[T.jsx("span",{className:"tag-count",children:n}),T.jsxs("span",{className:"tag-label",children:["Tag",n>1?"s":""]})]}),T.jsx("button",{className:"counter-btn",onClick:()=>s(Math.min(t,n+1)),children:"+"})]})]}),T.jsxs("div",{className:"pricing-split",children:[T.jsxs("div",{className:"pricing-left",children:[T.jsx("h4",{className:"pricing-section-title",children:"Pre-configured Tags"}),T.jsxs("span",{className:"setup-amount",children:["$",_.toFixed(2)]}),T.jsx("img",{src:x_,className:"tag-image",alt:"Tracking tag",style:{width:"48px",marginBottom:"10px"}}),T.jsxs("div",{className:"setup-fee",children:[T.jsxs("span",{className:"setup-per-tag",children:["$",u.toFixed(2)," per tag"]}),T.jsx("br",{}),T.jsxs("span",{className:"setup-shipping-note",children:["free shipping",T.jsx("br",{}),T.jsx("span",{className:"shipping-region",children:"(continental US)"})]}),T.jsx("br",{})]})]}),T.jsx("div",{className:"pricing-divider"}),T.jsxs("div",{className:"pricing-right",children:[T.jsx("h4",{className:"pricing-section-title",children:"Monthly Subscription"}),T.jsxs("div",{className:"subscription-fee",children:[x?T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[T.jsxs("span",{className:"subscription-amount",children:["$",y.toFixed(2)]}),T.jsxs("span",{style:{fontSize:"11px",color:"#10b981",fontWeight:"bold",background:"rgba(16, 185, 129, 0.15)",padding:"3px 8px",borderRadius:"6px",border:"1px solid rgba(16, 185, 129, 0.4)",boxShadow:"0 1px 3px rgba(16, 185, 129, 0.1)",alignSelf:"center"},children:["Save ",D,"%"]}),T.jsxs("div",{style:{fontSize:"16px",color:"#999",textDecoration:"line-through",fontWeight:"normal"},children:["$",A.toFixed(2)]})]}):T.jsxs("span",{className:"subscription-amount",children:["$",y.toFixed(2)]}),T.jsx("span",{className:"subscription-label",children:"Monthly Fee"}),T.jsxs("span",{className:"subscription-per-tag",children:["$",E," per tag"]})]}),T.jsx("span",{className:"purchase-note",children:"Your subscription starts with a 7-day free trial after your tags ship."}),T.jsxs("div",{className:"volume-discounts",children:[T.jsx("h5",{className:"discounts-title",children:"Volume Discounts"}),T.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",marginBottom:"8px"},children:"Discounts apply to newly purchased tags. Existing tags keep their original pricing."}),T.jsxs("table",{className:"discount-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Tags"}),T.jsx("th",{children:"Discount"})]})}),T.jsxs("tbody",{children:[T.jsxs("tr",{children:[T.jsx("td",{children:"1"}),T.jsx("td",{children:"No discount"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"2-3"}),T.jsx("td",{children:"25% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"4-10"}),T.jsx("td",{children:"30% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"10+"}),T.jsx("td",{children:"40% off"})]})]})]})]})]})]}),T.jsxs("div",{className:"pricing-display-card compact",children:[T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"One-time setup fee: "}),T.jsxs("span",{className:"pricing-value",children:["$",_.toFixed(2)]})]}),T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"Subscription: "}),T.jsxs("span",{className:"pricing-value",children:["$",y.toFixed(2)," /month"]})]})]}),T.jsx("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",padding:"12px",marginTop:"16px",marginBottom:"16px",textAlign:"center",fontSize:"14px"},children:T.jsxs("strong",{style:{color:"#ffc107"},children:[" Minimum order: ",e," tags"]})}),T.jsxs("button",{className:"pricing-cta",onClick:()=>{xU("pricing_section",`Start Tracking ${n} Tag${n>1?"s":""}`);const k=Math.max(e,Math.min(t,n));o(`/login?tagCount=${k}&mode=register`)},children:["Start Tracking ",n," Tag",n>1?"s":""]})]})})]})})}function AU(){const e=[{q:"Does your platform allow me as an Android user to use AirTags?",a:"Yes, since we set up the AirTags for you and provide a web app, you can use them as an Android user."},{q:"What devices are compatible with your platform?",a:"Our web app works on any modern browser, including Chrome, Safari, Firefox, and Edge, on both desktop and mobile devices."},{q:"What is the battery lifetime?",a:"Around 1 to 1.5 years. You can replace the battery yourself with a standard CR2032 coin cell."},{q:"Can I use my own tag?",a:"For your security, we never request access to your iCloud account. Tags must be onboarded to our platform before shipping. Once received, they are yours to keep and can be factory reset for regular use at any time."},{q:"Is my location data private and secure?",a:"Yes, we use industry-standard encryption and never share your data with third parties. Only you have access to your location history."},{q:"Can I export my location data?",a:"Yes, you can export your location history in CSV or JSON format for your records or analysis."},{q:"Can I reset the tags?",a:"Yes, you can factory reset your tags at any time and use them as you wish."},{q:"How many tags can I track simultaneously?",a:"There's no limit. If you plan to deploy more than 10 tags, please contact us for tailored support."},{q:"Shipping fee",a:"Shipping is free within the continental US. For other locations, see pricing at checkout."},{q:"Can I configure location-specific email alerts?",a:"Yes, you can set up location-based email alerts directly in the platform."},{q:"How far back does the location history go?",a:"There's no practical limityour location history is available as far back as you need."},{q:"How do I access the application?",a:"You can access the platform via a web app that works seamlessly on both mobile and desktop browsers."},{q:"Can I pause or cancel my subscription?",a:"Yes, you can pause or cancel your subscription at any time from your account dashboard."}],[t,n]=V.useState(null),s=o=>n(t===o?null:o);return T.jsx("section",{id:"faq",className:"faq-section",role:"region","aria-labelledby":"faq-title",children:T.jsxs("div",{className:"faq-content",children:[T.jsx("h2",{id:"faq-title",className:"faq-title",children:"FAQ"}),T.jsx("div",{className:"faq-list",children:e.map((o,u)=>T.jsxs("div",{className:`faq-item${t===u?" open":""}`,children:[T.jsxs("button",{className:"faq-question",onClick:()=>s(u),"aria-expanded":t===u,"aria-controls":`faq-answer-${u}`,children:[T.jsx("span",{children:o.q}),T.jsx("span",{className:`faq-chevron${t===u?" open":""}`,"aria-hidden":"true",children:""})]}),t===u&&T.jsx("div",{id:`faq-answer-${u}`,className:"faq-answer",role:"region","aria-labelledby":`faq-question-${u}`,children:o.a})]},u))})]})})}function RU(){const[e,t]=V.useState("hero"),[n,s]=V.useState(!1),o=[{id:"hero",label:"Home"},{id:"platform-features",label:"Platform"},{id:"feature-comparison",label:"How We Compare"},{id:"use-cases",label:"Use Cases"},{id:"how-it-works",label:"How It Works"},{id:"pricing",label:"Pricing"},{id:"faq",label:"FAQ"}],u=f=>{const p=document.getElementById(f);if(p){const _=f==="feature-comparison"?104:80,E=p.offsetTop-_;window.scrollTo({top:E,behavior:"smooth"}),window.history.pushState(null,null,`#${f}`)}};return V.useEffect(()=>{const f=()=>{const p=window.location.hash.slice(1);p&&o.find(y=>y.id===p)&&(t(p),u(p))};return window.location.hash&&f(),window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),V.useEffect(()=>{const f={rootMargin:"-20% 0px -80% 0px",threshold:0},p=new IntersectionObserver(y=>{y.forEach(_=>{_.isIntersecting&&t(_.target.id)})},f);return o.forEach(({id:y})=>{const _=document.getElementById(y);_&&p.observe(_)}),()=>p.disconnect()},[]),V.useEffect(()=>{const f=()=>{const y=window.scrollY,_=document.getElementById("hero");if(_){const E=_.offsetHeight;s(y>E*.8)}else s(y>500)},p=setTimeout(()=>{f()},100);return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f),clearTimeout(p)}},[]),T.jsx("nav",{className:`section-navigation ${n?"visible":""}`,role:"navigation","aria-label":"Page sections",children:T.jsx("div",{className:"nav-container",children:T.jsx("ul",{className:"nav-list",children:o.map(({id:f,label:p})=>T.jsx("li",{className:"nav-item",children:T.jsx("button",{className:`nav-link ${e===f?"active":""}`,onClick:()=>u(f),"aria-current":e===f?"true":"false","aria-label":`Go to ${p} section`,children:p})},f))})})})}function xS({onScrollProgress:e}){const[t,n]=V.useState(null);return V.useEffect(()=>{e&&e(t)},[t,e]),T.jsxs("main",{id:"main-content",role:"main",tabIndex:"-1",children:[T.jsx(RU,{}),T.jsx(oU,{onScrollProgress:n}),T.jsx(mU,{}),T.jsx(uU,{}),T.jsx(cU,{}),T.jsx(gU,{}),T.jsx(SU,{}),T.jsx(AU,{})]})}function CU(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?e.state.tagCount:t.has("tagCount")?t.get("tagCount"):""}function SS(e){return new URLSearchParams(e.search).get("mode")==="register"?"register":"login"}function IU(){const e=As(),t=Nr(),[n,s]=V.useState(SS(e)),[o,u]=V.useState(""),[f,p]=V.useState(""),[y,_]=V.useState(""),[E,A]=V.useState(""),[x,D]=V.useState(!1),k=CU(e),{isEntitled:G,loading:Z}=TR();V.useEffect(()=>{s(SS(e))},[e]),V.useEffect(()=>{Tr.currentUser&&!Z&&(G?(console.log(" LoginPage: User entitled, navigating to dashboard"),t("/dashboard")):(console.log(" LoginPage: User not entitled, navigating to purchase"),t("/purchase")))},[G,Z,t]);const Y=async $=>{$.preventDefault(),A(""),D(!0);try{if(n==="register"){if(f!==y){A("Passwords do not match."),D(!1);return}const yt=await GD(Tr,o,f);ES(),await e_(Mr(Ri,"users",yt.user.uid),{email:yt.user.email}),console.log("User document written to Firestore:",yt.user.uid),t(k?`/purchase?tagCount=${k}`:"/purchase")}else await WD(Tr,o,f),wS()}catch(yt){console.error("Registration error:",yt),A(yt.message.replace("Firebase: ",""))}finally{D(!1)}},st=async()=>{A(""),D(!0);try{const $=await mN(Tr,z5),yt=Mr(Ri,"users",$.user.uid);(await uf(yt)).exists()?wS():(ES(),await e_(yt,{email:$.user.email,displayName:$.user.displayName||null,createdAt:$.user.metadata.creationTime}),console.log("New user document created in Firestore for Google sign-in:",$.user.uid),t(k?`/purchase?tagCount=${k}`:"/purchase"))}catch($){A($.message.replace("Firebase: ",""))}finally{D(!1)}};return T.jsx("div",{className:"login-page-root",children:T.jsxs("div",{className:"login-card",children:[T.jsxs("div",{className:"login-toggle",children:[T.jsx("button",{className:n==="login"?"active":"",onClick:()=>s("login"),children:"Login"}),T.jsx("button",{className:n==="register"?"active":"",onClick:()=>s("register"),children:"Register"})]}),T.jsx("h2",{className:"login-title",children:n==="login"?"Login to your account":"Create an account"}),k&&T.jsx("div",{className:"login-tagcount-info",children:n==="register"?`Registering for ${k} tag${k>1?"s":""}`:""}),T.jsxs("form",{className:"login-form",onSubmit:Y,children:[T.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:$=>u($.target.value),required:!0,disabled:x}),T.jsx("input",{type:"password",placeholder:"Password",value:f,onChange:$=>p($.target.value),required:!0,disabled:x}),n==="register"&&T.jsx("input",{type:"password",placeholder:"Confirm Password",value:y,onChange:$=>_($.target.value),required:!0,disabled:x}),E&&T.jsx("div",{className:"login-error",children:E}),T.jsx("button",{type:"submit",className:"login-submit-btn",disabled:x,children:x?n==="login"?"Logging in...":"Registering...":n==="login"?"Login":"Register"}),n==="register"&&T.jsxs("p",{className:"terms-acknowledgement",children:["By registering, you acknowledge you have read and agree to our ",T.jsx("a",{href:"/terms",target:"_blank",children:"Terms of Service"})," and ",T.jsx("a",{href:"/privacy",target:"_blank",children:"Privacy Policy"}),"."]})]}),T.jsx("div",{className:"login-divider",children:"or"}),T.jsxs("button",{className:"google-auth-btn",type:"button",onClick:st,disabled:x,children:[T.jsx("span",{className:"google-icon",children:"G"})," Sign in with Google"]})]})})}function PU({user:e}){const t=Nr(),[n,s]=V.useState([]),[o,u]=V.useState([]),[f,p]=V.useState(0),[y,_]=V.useState(new Set),[E,A]=V.useState(null),[x,D]=V.useState(""),[k,G]=V.useState("#00eaff"),[Z,Y]=V.useState(!0);V.useEffect(()=>{e&&st(e.uid)},[e]);const st=async P=>{try{Y(!0);const N=Mr(Ri,"users",P),U=Al(N,z=>{if(z.exists()){const Ft=z.data();p(Ft.subscriptionQuantity||0)}}),B=uh(Ri,"users",P,"tags"),W=Al(t_(B),z=>{const Ft=z.docs.map(pt=>({id:pt.id,...pt.data()})),Kt=Ft.filter((pt,dt,Zt)=>Zt.findIndex(j=>j.id===pt.id)===dt);Kt.length!==Ft.length&&console.warn("Removed duplicate tags:",Ft.length-Kt.length),s(Kt);const rt=Kt.filter(pt=>pt.isActive).map(pt=>pt.id);console.log(" onSnapshot: activeTagIds from Firestore:",rt),u(rt),Y(!1)});return()=>{U(),W()}}catch(N){console.error("Error loading data:",N),Y(!1)}},$=async P=>{if(console.log(" handleTagToggle called with tagId:",P),!e){console.error("No user logged in");return}const N=n.find(W=>W.id===P);if(!N){console.warn("Tag not found in current user tags:",P);return}if(N.status==="pending_hardware"){console.warn("Cannot toggle tag pending hardware assignment:",P);return}const U=o.includes(P),B=!U;if(console.log("Current state - isSelected:",U,"newIsActive:",B),B&&o.length>=f){console.warn("Cannot activate - would exceed subscription limit");return}_(W=>new Set([...W,P]));try{console.log("Calling setTagActivation for:",`users/${e.uid}/tags/${P}`),console.log("New isActive value:",B),await Rl(Iu,"setTagActivation")({tagId:P,isActive:B}),console.log(" setTagActivation completed successfully")}catch(W){console.error("Error updating tag status:",W);const z=W?.message||"Failed to update tag status. Please try again.";alert(z)}finally{_(W=>{const z=new Set(W);return z.delete(P),z})}},yt=P=>{A(P.id),D(P.customName||""),G(P.color||"#00eaff")},nt=async P=>{if(!(!e||!E)){_(N=>new Set([...N,P]));try{const N=Mr(Ri,"users",e.uid,"tags",P);await e_(N,{customName:x.trim()||null,color:k,updatedAt:new Date},{merge:!0}),console.log(" Tag customization saved successfully"),A(null)}catch(N){console.error("Error saving tag customization:",N),alert("Failed to save tag customization. Please try again.")}finally{_(N=>{const U=new Set(N);return U.delete(P),U})}}},vt=()=>{A(null),D(""),G("#00eaff")},F=["#00eaff","#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#f0932b","#eb4d4b","#6c5ce7","#a29bfe","#fd79a8","#00b894","#00cec9","#74b9ff","#0984e3","#fdcb6e"];return Z?T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:T.jsx("div",{style:{color:"rgba(255,255,255,0.7)"},children:"Loading tag information..."})}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h3",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Manage Tags & Subscriptions"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Activate/deactivate tags, customize names and colors, and manage your subscription slots"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px",marginBottom:"40px"},children:n.length===0?T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:[T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"20px"},children:"No tags purchased yet. Purchase your first tags to get started."}),T.jsx("button",{onClick:()=>t("/purchase"),style:{background:"#00eaff",color:"#000",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Purchase Tags"})]}):T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px"},children:[T.jsxs("div",{style:{marginBottom:"20px"},children:[T.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,marginBottom:"8px"},children:["Active Subscriptions: ",o.length," of ",f," available slots"]}),T.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)"},children:"Select which tags should be actively monitored and billed"})]}),T.jsx("div",{style:{display:"grid",gap:"12px",marginBottom:"24px"},children:n.map(P=>T.jsx("div",{style:{padding:"16px",background:o.includes(P.id)?"rgba(0, 234, 255, 0.1)":"rgba(255,255,255,0.02)",border:o.includes(P.id)?"1px solid rgba(0, 234, 255, 0.3)":"1px solid rgba(255,255,255,0.05)",borderRadius:"12px"},children:E===P.id?T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:k,border:"2px solid rgba(255,255,255,0.2)",cursor:"pointer",flexShrink:0},title:"Click to change color"}),T.jsx("input",{type:"text",value:x,onChange:N=>D(N.target.value),placeholder:"Tag name (e.g., Car Keys)",style:{flex:1,padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"6px",color:"#fff",fontSize:"0.9rem"},maxLength:50})]}),T.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:F.map(N=>T.jsx("div",{onClick:()=>G(N),style:{width:"24px",height:"24px",borderRadius:"50%",background:N,border:k===N?"2px solid #fff":"1px solid rgba(255,255,255,0.2)",cursor:"pointer",transform:k===N?"scale(1.1)":"scale(1)",transition:"all 0.2s ease"},title:N},N))}),T.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[T.jsx("button",{onClick:vt,style:{padding:"6px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",background:"transparent",color:"#fff",fontSize:"0.8rem",cursor:"pointer"},children:"Cancel"}),T.jsx("button",{onClick:()=>nt(P.id),disabled:y.has(P.id),style:{padding:"6px 12px",border:"none",borderRadius:"6px",background:"#00d4aa",color:"white",fontSize:"0.8rem",fontWeight:600,cursor:y.has(P.id)?"not-allowed":"pointer",opacity:y.has(P.id)?.7:1},children:y.has(P.id)?"Saving...":"Save"})]})]}):T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:P.color||"#00eaff",marginRight:"12px",flexShrink:0}}),T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{style:{fontWeight:600,marginBottom:"2px"},children:P.customName||`Tag ${P.id.slice(-4)}`}),T.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)"},children:P.status==="pending_hardware"?" Waiting for hardware assignment":P.status==="linked"?` ${o.includes(P.id)?"Active - Monthly billing":"Inactive - No charges"}`:o.includes(P.id)?"Active - Monthly billing":"Inactive - No charges"})]}),T.jsx("button",{onClick:()=>yt(P),style:{padding:"6px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",background:"transparent",color:"#fff",fontSize:"0.8rem",cursor:"pointer",marginRight:"8px"},children:" Edit"}),T.jsx("div",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:600,background:o.includes(P.id)?"rgba(0, 255, 170, 0.2)":"rgba(255,255,255,0.1)",color:o.includes(P.id)?"#00ffaa":"rgba(255,255,255,0.6)",marginRight:"12px"},children:o.includes(P.id)?"ACTIVE":"INACTIVE"}),T.jsx("button",{onClick:()=>$(P.id),disabled:P.status==="pending_hardware"||y.has(P.id)||(o.includes(P.id)?!1:o.length>=f),style:{padding:"8px 16px",border:"none",borderRadius:"6px",background:P.status==="pending_hardware"?"#666":y.has(P.id)?"#888":o.includes(P.id)?"#ff4444":"#00d4aa",color:"white",fontSize:"0.9rem",fontWeight:600,cursor:P.status==="pending_hardware"||y.has(P.id)?"not-allowed":o.includes(P.id)?"pointer":o.length>=f?"not-allowed":"pointer",opacity:P.status==="pending_hardware"||y.has(P.id)?.7:o.includes(P.id)?1:o.length>=f?.5:1},children:P.status==="pending_hardware"?"Pending Hardware":y.has(P.id)?"Updating...":o.includes(P.id)?"Deactivate":"Activate"})]})},P.id))})]})})," "]})}function MU(){const e=Nr(),[t,n]=V.useState(!1),[s,o]=V.useState(""),u=async()=>{if(!t){n(!0),o("");try{const y=(await Rl(Iu,"createCustomerPortalSession")({origin:window.location.origin})).data?.url;if(!y||typeof y!="string")throw new Error("No billing portal URL was returned.");window.location.assign(y)}catch(f){console.error("Failed to open billing portal:",f);const p=f?.message||"Unable to open billing portal right now. Please try again.";o(String(p).replace("Firebase: ","")),n(!1)}}};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h3",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Subscription & Billing"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Manage your subscription, purchase additional tags, and access billing information"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px",marginBottom:"40px"},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:[T.jsxs("div",{className:"subscription-buttons-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px",justifyItems:"center",maxWidth:"600px",margin:"0 auto"},children:[T.jsx("button",{onClick:()=>e("/purchase?purchaseType=tags_only"),disabled:t,style:{background:"#00d4aa",color:"black",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px"},children:"Purchase More Tags"}),T.jsx("button",{onClick:u,disabled:t,style:{background:"#ffaa00",color:"#000",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:t?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px",opacity:t?.7:1},children:t?"Opening":"Change Subscription"}),T.jsx("button",{onClick:u,disabled:t,style:{background:"#00eaff",color:"#000",border:"none",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:t?"not-allowed":"pointer",width:"100%",maxWidth:"160px",opacity:t?.7:1},children:t?"Opening":"Billing Portal"})]}),s&&T.jsx("p",{style:{color:"#ff7d7d",fontSize:"0.9rem",marginTop:"12px",marginBottom:0},children:s}),T.jsx("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.9rem",marginTop:"16px"},children:"Use the Billing Portal to view invoices and update payment methods. Use Change Subscription to modify your plan quantity."})]})})]})}function AS(){const[e,t]=V.useState(null),[n,s]=V.useState(!0),[o,u]=V.useState(!1),[f,p]=V.useState(()=>window.location.pathname==="/settings"?"settings":"status"),[y,_]=V.useState({geofences:[],outsideTags:[],recentEvents:[],loading:!0,error:null}),[E,A]=V.useState(null),[x,D]=V.useState(!1),k=Nr(),[G,Z]=tM(),Y=V.useRef(!1),st=V.useRef(null);V.useEffect(()=>{const nt=tf(Tr,async vt=>{vt?t(vt):k("/login"),s(!1)});return()=>nt()},[k]),V.useEffect(()=>{if(!e){st.current=null,Y.current=!1,A(null);return}Y.current=!1,A(null),_(wt=>({...wt,loading:!0,error:null}));let nt=!1,vt=null,F=!1,P=!1,N=!1,U=[];const B={geofences:null,states:null,tags:null,events:null},W=()=>{U.forEach(wt=>wt()),U=[]},z=()=>!!B.geofences&&!!B.states&&!!B.tags&&!!B.events,Ft=async({forceLoading:wt=!1}={})=>{if(nt){W();return}if(!z()){wt&&_(bt=>({...bt,loading:!0,error:null})),W();return}if(F){P=!0,N=N||wt;return}F=!0,(wt||!Y.current)&&_(bt=>({...bt,loading:!0,error:null}));try{const bt=B.geofences,pe=B.states,te=B.tags,ri=B.events,ai=new Map;bt.docs.forEach($t=>{ai.set($t.id,{id:$t.id,...$t.data()})});const Nn=new Map;te.docs.forEach($t=>{Nn.set($t.id,{id:$t.id,...$t.data()})});const Gn=[],mi=new Map;te.docs.forEach($t=>{const It=$t.data();It.hardwareId&&(mi.set(It.hardwareId,$t.id),Gn.push(uf(Mr(Ri,"airtags",It.hardwareId))))});const Rs=await Promise.all(Gn),Xi=new Map;Rs.forEach($t=>{if($t.exists()){const It=$t.data(),Le=mi.get($t.id);It.lastLocationTs&&Le&&Xi.set(Le,new Date(It.lastLocationTs))}});const Cs=[],Ke=new Map;bt.docs.forEach($t=>{const It={id:$t.id,...$t.data()};It.active&&Cs.push({id:It.id,name:It.name,color:It.color||"#00eaff",tags:[]})}),pe.docs.forEach($t=>{const It={id:$t.id,...$t.data()},Le=Nn.get(It.tagId);if(Le){const un=It.lastChecked?.toDate?It.lastChecked.toDate():new Date(It.lastChecked),On={tagId:It.tagId,tagName:Le.customName||`Tag ${Le.id.slice(-4)}`,tagColor:Le.color||"#00eaff",currentState:It.currentState,lastChecked:un,location:It.lastLocation,geofenceId:It.geofenceId};Ke.has(It.tagId)||Ke.set(It.tagId,[]),Ke.get(It.tagId).push(On)}}),Cs.forEach($t=>{Ke.forEach((It,Le)=>{const un=It.find(On=>On.geofenceId===$t.id);un&&un.currentState==="inside"&&$t.tags.push({tagId:un.tagId,tagName:un.tagName,tagColor:un.tagColor,lastChecked:un.lastChecked,lastSeen:Xi.get(Le)||null,location:un.location})}),$t.tags.sort((It,Le)=>!It.lastSeen&&!Le.lastSeen?Le.lastChecked-It.lastChecked:It.lastSeen?Le.lastSeen?Le.lastSeen-It.lastSeen:-1:1)});const Qi=[];te.docs.forEach($t=>{const It={id:$t.id,...$t.data()},Le=Ke.get(It.id);if(!(Le&&Le.some(On=>On.currentState==="inside"))){const On=Le?Le.reduce((Js,be)=>!Js||be.lastChecked>Js.lastChecked?be:Js,null):null;Qi.push({tagId:It.id,tagName:It.customName||`Tag ${It.id.slice(-4)}`,tagColor:It.color||"#00eaff",lastChecked:On?.lastChecked||null,lastSeen:Xi.get(It.id)||null,location:On?.location||null,status:On?"Outside all geofences":"Never checked"})}}),Qi.sort(($t,It)=>!$t.lastChecked&&!It.lastChecked?0:$t.lastChecked?It.lastChecked?It.lastChecked-$t.lastChecked:-1:1);const kr=ri.docs.map($t=>{const It={id:$t.id,...$t.data()};return{id:It.id,tagId:It.tagId,geofenceId:It.geofenceId,eventType:It.eventType,timestamp:It.timestamp?.toDate?It.timestamp.toDate():new Date(It.timestamp?.seconds*1e3),location:It.location,geofenceName:ai.get(It.geofenceId)?.name||"Unknown",tagName:Nn.get(It.tagId)?.customName||`Tag ${It.tagId.slice(-4)}`}});nt||(_({geofences:Cs,outsideTags:Qi,recentEvents:kr,loading:!1,error:null}),A(new Date),Y.current=!0)}catch(bt){nt||(console.error("Error building live dashboard data:",bt),_(pe=>({...pe,loading:!1,error:bt.message||"Unable to refresh geofence status"})))}finally{if(F=!1,W(),P&&!nt){const bt=N;P=!1,N=!1,Ft({forceLoading:bt})}}},Kt=({forceLoading:wt=!1}={})=>{if(!nt){if(wt){vt&&(clearTimeout(vt),vt=null),Ft({forceLoading:!0});return}vt&&clearTimeout(vt),vt=setTimeout(()=>{vt=null,Ft()},120)}},rt=wt=>{nt||(console.error("Live dashboard listener error:",wt),_(bt=>({...bt,loading:!1,error:wt.message||"Live updates disconnected. Please refresh."})),W())};st.current=({forceLoading:wt=!1}={})=>new Promise(bt=>{U.push(bt),Kt({forceLoading:wt})});const pt=uh(Ri,"users",e.uid,"geofences"),dt=uh(Ri,"users",e.uid,"geofenceStates"),Zt=t_(uh(Ri,"users",e.uid,"tags"),Yw("status","==","linked"),Yw("isActive","==",!0)),j=t_(uh(Ri,"users",e.uid,"geofenceEvents"),m5("timestamp","desc"),g5(30)),ut=Al(pt,wt=>{B.geofences=wt,Kt()},rt),Et=Al(dt,wt=>{B.states=wt,Kt()},rt),Tt=Al(Zt,wt=>{B.tags=wt,Kt()},rt),St=Al(j,wt=>{B.events=wt,Kt()},rt);return()=>{nt=!0,vt&&clearTimeout(vt),W(),st.current=null,ut(),Et(),Tt(),St()}},[e]);const $=async()=>{if(!(!st.current||x)){D(!0);try{await st.current({forceLoading:!0})}catch(nt){console.error("Manual dashboard refresh failed:",nt)}finally{D(!1)}}},yt=nt=>{if(!nt)return"Never checked";const F=new Date-nt,P=Math.floor(F/(1e3*60)),N=Math.floor(F/(1e3*60*60)),U=Math.floor(F/(1e3*60*60*24));return P<1?"Just now":P<60?`${P}m ago`:N<24?`${N}h ago`:`${U}d ago`};return V.useEffect(()=>{if(G.get("success")==="true"||G.get("purchase")==="success"){u(!0);const vt=G.get("tag_count")||"1",F=G.get("session_id");wU(parseInt(vt),F);const P=new URLSearchParams(G);P.delete("success"),P.delete("purchase"),P.delete("tag_count"),P.delete("session_id"),Z(P);const N=setTimeout(()=>{u(!1)},5e3);return()=>clearTimeout(N)}if(G.get("subscription")==="success"){const vt=new URLSearchParams(G);vt.delete("subscription"),vt.delete("tag_count"),Z(vt)}},[G,Z]),n?T.jsx("div",{className:"loading",children:"Loading..."}):T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Dashboard"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:""}),T.jsxs("span",{children:["Welcome, ",e?.email]})]})]}),o&&T.jsx("div",{style:{background:"linear-gradient(135deg, #00eaff, #0099cc)",color:"#fff",padding:"16px 24px",margin:"0 auto 24px auto",maxWidth:"600px",borderRadius:"12px",textAlign:"center",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 20px rgba(0, 234, 255, 0.3)",animation:"slideIn 0.3s ease-out"},children:" Payment successful! Your tags are being prepared and you'll be notified once they're shipped."}),T.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px",padding:"0 20px"},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"4px",display:"flex",gap:"4px",maxWidth:"400px",width:"100%"},children:[T.jsx("button",{onClick:()=>p("status"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="status"?"#00eaff":"transparent",color:f==="status"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Status"}),T.jsx("button",{onClick:()=>p("map"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="map"?"#00eaff":"transparent",color:f==="map"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Map"}),T.jsx("button",{onClick:()=>p("settings"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="settings"?"#00eaff":"transparent",color:f==="settings"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Settings"})]})}),T.jsxs("main",{className:"dashboard-content",children:[f==="status"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",flexWrap:"wrap",marginBottom:"12px"},children:[T.jsxs("div",{style:{color:"rgba(255,255,255,0.75)",fontSize:"13px"},children:["Last updated: ",E?E.toLocaleString():"Waiting for live data..."]}),T.jsx("button",{onClick:$,disabled:x,style:{border:"1px solid rgba(255,255,255,0.2)",background:x?"rgba(255,255,255,0.08)":"rgba(0,234,255,0.14)",color:x?"rgba(255,255,255,0.7)":"#00eaff",borderRadius:"8px",padding:"8px 14px",fontSize:"13px",fontWeight:"600",cursor:x?"not-allowed":"pointer"},children:x?"Refreshing...":"Refresh now"})]}),y.error&&T.jsxs("div",{style:{background:"#ff6b6b",color:"#fff",padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",textAlign:"center"},children:["Error loading geofence data: ",y.error]}),y.loading?T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"24px",textAlign:"center",color:"#aaa"},children:"Loading geofence status..."}):T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h2",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Geofence Status"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Current location status of all your tags across active geofences"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px"},children:T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[y.geofences.map(nt=>T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:`linear-gradient(90deg, ${nt.color}, ${nt.color}dd)`,color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[nt.name," (",nt.tags.length,")"]}),nt.tags.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"No tags currently inside this geofence"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Last Seen"})]})}),T.jsx("tbody",{children:nt.tags.map((vt,F)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:F%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"12px",height:"12px",background:vt.tagColor,borderRadius:"2px"}}),T.jsx("span",{style:{color:"#fff"},children:vt.tagName})]}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:vt.lastSeen?yt(vt.lastSeen):"Unknown"})]},vt.tagId))})]})})]},nt.id)),T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:"linear-gradient(90deg, #f59e0b, #d97706)",color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[" Outside All Geofences (",y.outsideTags.length,")"]}),y.outsideTags.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"All tags are inside geofences"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Last Seen"})]})}),T.jsx("tbody",{children:y.outsideTags.map((nt,vt)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:vt%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"12px",height:"12px",background:nt.tagColor,borderRadius:"2px"}}),T.jsx("span",{style:{color:"#fff"},children:nt.tagName})]}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:nt.lastSeen?yt(nt.lastSeen):"Unknown"})]},nt.tagId))})]})})]})]})})})," "]})]})}),T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139,92,246,0.1), rgba(124,58,237,0.05))",border:"1px solid rgba(139,92,246,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h2",{style:{color:"#8b5cf6",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:" Recent Activity"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Latest geofence entry and exit events from your tags"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px"},children:T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:T.jsx("div",{style:{width:"100%",maxWidth:1e3},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:"linear-gradient(90deg, #8b5cf6, #7c3aed)",color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[" Recent Events (",y.recentEvents.length,")"]}),y.recentEvents.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"No recent geofence activity"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Event"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Geofence"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Time"})]})}),T.jsx("tbody",{children:y.recentEvents.map((nt,vt)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:vt%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsx("td",{style:{padding:"12px 16px"},children:T.jsx("span",{style:{background:nt.eventType==="entry"?"#10b981":"#ef4444",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:nt.eventType==="entry"?"Entered":"Exited"})}),T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#00eaff",flexShrink:0}}),T.jsx("span",{style:{color:"#fff"},children:nt.tagName})]}),T.jsx("td",{style:{padding:"12px 16px"},children:T.jsx("span",{style:{color:"#fff"},children:nt.geofenceName})}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:yt(nt.timestamp)})]},nt.id))})]})})]})})})})," "]}),f==="map"&&T.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1200,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"24px",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),T.jsx("h3",{style:{color:"#00eaff",margin:"0 0 8px 0"},children:"Interactive Map View"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",margin:"0 0 24px 0"},children:"View your tags, draw geofences, and manage assets on an interactive map."}),T.jsx("button",{className:"dashboard-btn",onClick:()=>k("/map"),style:{padding:"12px 24px",fontSize:"16px"},children:"Open Full Map"})]})}),f==="settings"&&T.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[T.jsx(PU,{user:e}),T.jsx(MU,{})]})})]})]})}function LU(){const[e,t]=V.useState(!0),[n,s]=V.useState(null),[o,u]=V.useState(!1),[f,p]=V.useState(!1),[y,_]=V.useState(!1),[E,A]=V.useState(null),[x,D]=V.useState(!0),[k,G]=V.useState(!1),[Z,Y]=V.useState(""),[st,$]=V.useState(""),[yt,nt]=V.useState("2");V.useEffect(()=>{const N=tf(Tr,async U=>{if(!U){t(!1),s(null),u(!1);return}s(U);const B=await uf(Mr(Ri,"users",U.uid)),W=B.exists()&&B.data().isAdmin===!0;u(W),t(!1),W&&vt()});return()=>N()},[]);const vt=async()=>{try{D(!0);const U=await Rl(Iu,"adminGetGeofenceSchedulerStatus")({});A(U.data.config)}catch(N){Y(String(N?.message||N))}finally{D(!1)}},F=async N=>{try{G(!0),Y(""),$("");const B=await Rl(Iu,"adminUpdateGeofenceScheduler")(N);$(B.data.message),await vt()}catch(U){Y(String(U?.message||U))}finally{G(!1)}},P=N=>{if(!N)return"Never";try{let U;if(N.toDate&&typeof N.toDate=="function")U=N.toDate();else if(N.seconds)U=new Date(N.seconds*1e3);else if(typeof N=="string"||typeof N=="number")U=new Date(N);else return"Unknown";const W=new Date-U;if(isNaN(W))return"Invalid date";const z=Math.floor(W/(1e3*60));if(z<1)return"Just now";if(z<60)return`${z}m ago`;const Ft=Math.floor(W/(1e3*60*60));return Ft<24?`${Ft}h ago`:`${Math.floor(W/(1e3*60*60*24))}d ago`}catch(U){return console.error("Error formatting lastRun:",U,N),"Error"}};return e?T.jsx("div",{style:{padding:24},children:"Loading"}):n?o?T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Admin Page"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:""}),T.jsxs("span",{children:["Welcome, ",n?.email]})]})]}),T.jsx("main",{className:"dashboard-content",children:T.jsxs("div",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[Z&&T.jsx("div",{style:{marginBottom:12,color:"#ff7d7d"},children:Z}),st&&T.jsx("div",{style:{marginBottom:12,color:"#4ade80"},children:st}),T.jsxs("div",{style:{display:"grid",gap:20},children:[T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Manual Geofence Check"}),T.jsx("button",{disabled:f,onClick:async()=>{try{p(!0),Y(""),$("");const U=await Rl(Iu,"adminTriggerGeofenceMonitor")({});$(` Geofence check complete! Checked: ${U.data?.checked||0}, Events: ${U.data?.events||0}`),await vt()}catch(N){Y(String(N?.message||N))}finally{p(!1)}},style:{padding:"12px 20px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:700,cursor:f?"not-allowed":"pointer",opacity:f?.7:1,fontSize:"14px"},children:f?" Checking...":" Run Check Now"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb"},children:"Manually trigger an immediate geofence check for all active geofences and tags"})]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Geofence Scheduler"})}),x?T.jsx("div",{style:{color:"#aaa",textAlign:"center",padding:"20px 0"},children:"Loading scheduler status..."}):T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px"},children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Status"}),T.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:E?.enabled?"#4ade80":"#f87171",color:E?.enabled?"#000":"#fff",fontSize:"14px",fontWeight:"600"},children:[T.jsx("span",{children:E?.enabled?"":""}),E?.enabled?"Running":"Stopped"]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Schedule"}),T.jsx("div",{style:{color:"#fff",fontWeight:"600"},children:E?.displaySchedule||"Every 15 minutes"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Last Run"}),T.jsx("div",{style:{color:"#fff"},children:P(E?.lastRun)})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Total Runs"}),T.jsx("div",{style:{color:"#fff",fontWeight:"600"},children:E?.totalRuns||0})]})]})}),T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[T.jsx("button",{disabled:k,onClick:()=>{F({enabled:!E?.enabled})},style:{padding:"12px 20px",borderRadius:6,border:"1px solid "+(E?.enabled?"#f87171":"#4ade80"),background:E?.enabled?"#f87171":"#4ade80",color:"#fff",fontWeight:"700",cursor:k?"not-allowed":"pointer",opacity:k?.7:1,fontSize:"14px",flex:"1 1 auto"},children:k?"Updating...":E?.enabled?" Stop Scheduler":" Start Scheduler"}),T.jsx("button",{disabled:k,onClick:vt,style:{padding:"12px 20px",borderRadius:6,border:"1px solid #6b7280",background:"rgba(255,255,255,0.05)",color:"#fff",fontWeight:"700",cursor:"pointer",fontSize:"14px"},children:" Refresh Status"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"8px",fontWeight:"600"},children:"Quick Presets:"}),T.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[T.jsx("button",{disabled:k,onClick:()=>{F({schedule:"*/2 * * * *",displaySchedule:"Every 2 minutes (Optimized)"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"#fff",fontWeight:"700",cursor:k?"not-allowed":"pointer",opacity:k?.7:1,fontSize:"13px"},children:" Optimized (2min)"}),T.jsx("button",{disabled:k,onClick:()=>{F({schedule:"*/5 * * * *",displaySchedule:"Every 5 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:"700",cursor:k?"not-allowed":"pointer",opacity:k?.7:1,fontSize:"13px"},children:" Fast (5min)"}),T.jsx("button",{disabled:k,onClick:()=>{F({schedule:"*/10 * * * *",displaySchedule:"Every 10 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #3b82f6",background:"#3b82f6",color:"#fff",fontWeight:"700",cursor:k?"not-allowed":"pointer",opacity:k?.7:1,fontSize:"13px"},children:" Normal (10min)"}),T.jsx("button",{disabled:k,onClick:()=>{F({schedule:"*/15 * * * *",displaySchedule:"Every 15 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #f59e0b",background:"#f59e0b",color:"#fff",fontWeight:"700",cursor:k?"not-allowed":"pointer",opacity:k?.7:1,fontSize:"13px"},children:" Battery Saver (15min)"}),T.jsx("button",{disabled:k,onClick:()=>{F({schedule:"0 * * * *",displaySchedule:"Every 60 min (approx)"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #6b7280",background:"#6b7280",color:"#fff",fontWeight:"700",cursor:k?"not-allowed":"pointer",opacity:k?.7:1,fontSize:"13px"},children:" 60min (approx)"})]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"8px",fontWeight:"600"},children:"Custom Interval (minutes):"}),T.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[T.jsx("input",{type:"number",min:"1",max:"1440",value:yt,onChange:N=>nt(N.target.value),placeholder:"2",style:{padding:"10px 12px",borderRadius:6,border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:"14px",width:"100px"}}),T.jsx("button",{disabled:k||!yt||yt<1,onClick:()=>{const N=parseInt(yt);N&&N>0&&F({schedule:`*/${N} * * * *`,displaySchedule:`Every ${N} minute${N>1?"s":""} (Custom)`})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:"700",cursor:k||!yt||yt<1?"not-allowed":"pointer",opacity:k||!yt||yt<1?.5:1,fontSize:"14px"},children:" Apply Custom"}),T.jsx("span",{style:{fontSize:"12px",color:"#888"},children:"(1-1440 min)"})]})]})]}),T.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"#bbb"},children:[T.jsxs("div",{style:{marginBottom:"6px"},children:[" ",T.jsx("strong",{children:"Stats:"})," Created ",E?.totalEventsCreated||0," geofence events"]}),T.jsxs("div",{style:{marginBottom:"6px"},children:[" ",T.jsx("strong",{children:"Checks Performed:"})," ",E?.checked||0," tag/geofence combinations"]}),T.jsxs("div",{children:[" ",T.jsx("strong",{children:"Last Modified:"})," ",E?.lastModified?.toDate?new Date(E.lastModified.toDate()).toLocaleString():"Unknown"]})]}),T.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"#aaa"},children:[T.jsx("div",{style:{fontWeight:"600",color:"#10b981",marginBottom:"6px"},children:" Optimization Active"}),T.jsxs("div",{children:["The geofence monitor uses smart filtering to only check tags with location updates in the last 2 minutes, dramatically reducing database operations and costs. For best results, use the ",T.jsx("strong",{children:"2-minute optimized schedule"}),"."]})]})]})]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Tag Auto-Assignment"}),T.jsx("button",{disabled:y,onClick:async()=>{try{_(!0),await Rl(Iu,"adminTriggerTagAssignment")({})}catch(N){Y(String(N?.message||N))}finally{_(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"#fff",fontWeight:700,cursor:y?"not-allowed":"pointer",opacity:y?.7:1},children:y?"Assigning...":"Run Tag Assignment"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb",marginBottom:16},children:"Manually trigger automatic AirTag-to-user assignment based on naming convention"}),T.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Matches AirTags named with Firebase user IDs to user accounts"})]}),T.jsxs("div",{style:{padding:20,background:"rgba(255,255,255,0.03)",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("h2",{style:{fontWeight:700,marginBottom:16,color:"#fff",fontSize:18},children:" Email Monitoring"}),T.jsxs("div",{style:{padding:20,textAlign:"center",color:"#888",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:8},children:[T.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:8,color:"#8b5cf6"},children:" Use Firebase Console for Email Monitoring"}),T.jsx("div",{style:{fontSize:14,marginBottom:16},children:"Email monitoring functions have been removed from the Admin UI due to CORS configuration issues."}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,alignItems:"center"},children:[T.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_emailErrors",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#8b5cf6",color:"#fff",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:" View Email Errors in Firestore"}),T.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_admin~2FemailStats",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#10b981",color:"#fff",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:" View Email Stats in Firestore"})]})]})]})]})]})})]}):T.jsx("div",{style:{padding:24},children:"Not authorized."}):T.jsx("div",{style:{padding:24},children:"Please sign in."})}function DU(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?Number(e.state.tagCount):t.has("tagCount")?Number(t.get("tagCount")):1}function NU(e){const t=new URLSearchParams(e.search),n=e.state&&e.state.purchaseType||t.get("purchaseType");return n==="initial"||n==="tags_only"?n:null}function OU(){const e=As(),t=Nr(),n=NU(e),[s,o]=V.useState(!1),u=s?"tags_only":n||"initial",{MIN_TAGS:f,MAX_TAGS:p}=cI(u),y=V.useCallback(z=>Math.max(f,Math.min(p,Number(z)||f)),[f,p]),[_,E]=V.useState(null),[A,x]=V.useState(()=>y(DU(e))),[D,k]=V.useState(!1),[G,Z]=V.useState(""),[Y,st]=V.useState(!0),$=y(A),yt=$,nt=u==="initial",vt=nt?$:0,F=ca.SETUP_FEE_PER_TAG,P=nt?Sp(vt):0,N=F*yt,U=P*vt,B=nt&&$>1?Math.round((1-P/ca.BASE_MONTHLY_PRICE)*100):0;V.useEffect(()=>{const z=tf(Tr,async Ft=>{if(E(Ft),Ft)try{const Kt=Mr(Ri,"users",Ft.uid),rt=await uf(Kt),pt=rt.exists()?Math.max(0,Number(rt.data()?.subscriptionQuantity||0)):0;o(pt>0);const Zt=new URLSearchParams(e.search).get("tagCount");Zt&&x(y(Zt))}catch(Kt){console.error("Error loading purchase page:",Kt),o(!1)}else o(!1),t("/login",{replace:!0});st(!1)});return()=>z()},[e,t,y]);const W=async()=>{if(!_){Z("You must be logged in to make a purchase");return}k(!0),Z(""),EU($);try{const z=gR(cf),Kt=await Rl(z,"createCheckoutSession")({tagCount:$,purchaseType:u});if(Kt.data?.url)window.location.href=Kt.data.url;else throw new Error("No checkout URL returned")}catch(z){console.error("Purchase error:",z),Z("Error: "+(z.message||"Unknown error")),k(!1)}};return Y?T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:"Checking your account..."})}):T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsxs("div",{className:"calculator-card",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:20,padding:"50px 40px",textAlign:"center",backdropFilter:"blur(10px)",maxWidth:400,width:"100%"},children:[T.jsx("h2",{style:{color:"white",fontSize:"2.2rem",fontWeight:600,margin:"0 0 18px 0",letterSpacing:"-0.01em"},children:nt?"Purchase Tags":"Purchase Additional Tags"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"1.1rem",fontWeight:400,margin:"0 0 32px 0"},children:nt?"Select the number of tags you want to purchase and proceed to secure checkout.":"Purchase additional AirTags with setup fees. Subscriptions can be managed separately."}),T.jsxs("div",{style:{marginBottom:32},children:[T.jsx("label",{style:{color:"rgba(255,255,255,0.8)",fontWeight:500,fontSize:16,marginBottom:10,display:"block"},children:"Number of tags:"}),T.jsx("input",{type:"number",min:f,max:p,value:A,onChange:z=>x(y(z.target.value)),disabled:D,style:{width:90,fontSize:18,padding:8,borderRadius:8,border:"1px solid #fff",textAlign:"center",fontWeight:600,background:"rgba(255,255,255,0.08)",color:"white",outline:"none",marginTop:4}}),A<f&&T.jsxs("div",{style:{color:"#ffc107",fontSize:13,marginTop:8,fontWeight:500},children:[" Minimum order is ",f," tags"]})]}),T.jsxs("div",{style:{background:"rgba(0, 234, 255, 0.08)",border:"1px solid rgba(0, 234, 255, 0.25)",borderRadius:16,padding:"20px 18px",color:"#fff",textAlign:"left",marginBottom:28},children:[N>0&&T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:nt?12:0},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Due today"}),T.jsx("div",{style:{fontSize:13,color:"rgba(255,255,255,0.7)"},children:"One-time setup & activation"})]}),T.jsxs("div",{style:{fontSize:20,fontWeight:700},children:["$",N.toFixed(2)]})]}),nt&&T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Monthly billing (starts in 7 days)"}),T.jsxs("div",{style:{fontSize:13,color:"rgba(255,255,255,0.7)"},children:[`$${P.toFixed(2)} per tag`,B>0&&`  ${B}% volume discount`]})]}),T.jsxs("div",{style:{fontSize:20,fontWeight:700},children:["$",U.toFixed(2)]})]}),T.jsx("p",{style:{fontSize:13,color:"rgba(255,255,255,0.65)",marginTop:16,lineHeight:1.5},children:nt?"Setup fees are charged today. Subscription charges begin in 7 days to allow time for shipping and setup.":"Setup fees are charged today. You can activate subscriptions for these tags through your account settings."})]}),T.jsx("button",{className:"pricing-cta",onClick:W,disabled:D||$<f,style:{background:$<f?"#555":"#00eaff",color:$<f?"#999":"#000",border:"none",borderRadius:12,padding:"16px 0",fontSize:20,fontWeight:700,cursor:D||$<f?"not-allowed":"pointer",width:"100%",marginBottom:10,boxShadow:"0 2px 8px rgba(0,234,255,0.08)",transition:"background 0.2s",letterSpacing:"-0.01em"},onMouseOver:z=>{$>=f&&!D&&(z.currentTarget.style.background="#00bcd4")},onMouseOut:z=>{$>=f&&!D&&(z.currentTarget.style.background="#00eaff")},children:D?"Redirecting...":`Proceed with ${$} Tag${$>1?"s":""}`}),G&&T.jsx("div",{style:{color:"#ff4d4f",marginTop:18,fontWeight:500},children:G})]})})}function kU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Terms and Conditions"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Last updated: October 8, 2025"})}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"1. Acceptance of Terms"}),T.jsx("p",{children:"By registering for or using TagLoggers platform (Service), you agree to be bound by these Terms and our Privacy Policy. If you do not agree, do not use the Service."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"2. Service Description"}),T.jsx("p",{children:"TagLogger provides a webbased platform to track Apple AirTag devices, offering realtime location, historical playback, geofencing, data export, and customizable alerts. We are an independent service and are not affiliated with Apple Inc."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"3. Eligibility & Account Registration"}),T.jsxs("ul",{children:[T.jsx("li",{children:"You must be at least 18 years old and able to form a binding contract."}),T.jsx("li",{children:"You agree to provide accurate, current, and complete information during registration and to keep your account credentials secure."}),T.jsx("li",{children:"You are responsible for all activity under your account."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"4. Fees & Payment"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Tag Purchase"}),": Onetime fee per AirTag, at prices shown in your dashboard (free continental U.S. shipping)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Subscription"}),": Recurring monthly fee per tag, billed automatically. Volume discounts apply to newly purchased tags only (see Pricing Page)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Payment Methods"}),": Major credit/debit cards and PayPal."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"NonRefundable"}),": All fees are nonrefundable except as required by law."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Late or Failed Payments"}),": We may suspend your Service until payment is received."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"5. Use Restrictions"}),T.jsxs("p",{children:[T.jsx("strong",{children:"5.1 Lawful and Authorized Use Only."})," You may use the Service only to track assets, equipment, or property that you own, lease, or are otherwise authorized to track. You must not use the Service to track or monitor any person, vehicle, or property without the knowledge and affirmative consent of the individual(s) involved or the lawful owner. You are solely responsible for obtaining and maintaining all necessary permissions and consents under applicable privacy, dataprotection, and antistalking laws."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"5.2 Prohibited Conduct."})," You agree not to use the Service in any manner that:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"(a) violates or circumvents any law or regulation related to electronic surveillance, stalking, or harassment;"}),T.jsx("li",{children:"(b) invades another persons privacy or misuses location data; or"}),T.jsx("li",{children:"(c) interferes with the rights or safety of others."})]}),T.jsx("p",{children:"TagLogger reserves the right to suspend or terminate your account and cooperate with law enforcement if we reasonably believe the Service is being used unlawfully or without consent."}),T.jsx("p",{children:"You must not disable, modify, or attempt to circumvent antistalking or unwantedtracking safeguards (including altering tag speakers, firmware, or alerts), or aid others to do so."}),T.jsx("p",{children:"You must not use the Service to evade or defeat safety features or unwantedtracking alerts."}),T.jsx("p",{children:"If you use the Service to track assets involving employees or contractors, you represent you have provided required notices and obtained all consents under applicable labor, privacy, and surveillance laws."}),T.jsx("p",{children:T.jsx("strong",{children:"Additionally, you agree not to:"})}),T.jsxs("ul",{children:[T.jsx("li",{children:"Reverse engineer, decompile, or otherwise attempt to derive source code."}),T.jsx("li",{children:"Scrape, harvest, or extract data from the Service."}),T.jsx("li",{children:"Interfere with the operation or security of the Service."}),T.jsx("li",{children:"Use the Service for any unlawful purpose or without obtaining all required consents."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"6. Ownership & License"}),T.jsxs("ul",{children:[T.jsx("li",{children:"TagLogger and its licensors retain all rights in the Service, including software, trademarks, and content."}),T.jsx("li",{children:"You own your location and account data (Customer Data) but grant us a worldwide, royaltyfree license to host, process, and display it as necessary to provide the Service."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"7. Privacy & Data Security"}),T.jsx("p",{children:"Our Privacy Policy explains how we collect, use, share, and protect Customer Data. You are responsible for ensuring your use of the Service complies with all applicable privacy and surveillance laws."}),T.jsx("p",{children:"TagLogger provides tools for lawful location tracking. We do not monitor how you use the Service, but you are solely responsible for ensuring your use and collection of location data comply with privacy and surveillance laws in all jurisdictions where tracking occurs."}),T.jsx("p",{children:"You represent and warrant that you will obtain and maintain all required consents from tracked individuals and provide any legally required notices."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"8. Disclaimers"}),T.jsx("p",{children:"The Service is provided ASIS and ASAVAILABLE, with all faults. TAGLOGGER AND ITS AFFILIATES, LICENSORS, AND SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Any warranty of merchantability or fitness for a particular purpose;"}),T.jsx("li",{children:"Any warranty of uninterrupted, errorfree, secure, or virusfree operation;"}),T.jsx("li",{children:"Any warranty as to the accuracy, completeness, or timeliness of location data or other information;"}),T.jsx("li",{children:"Any warranty that the Service complies with applicable laws or regulations."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"No Emergency Use."})," The Service is not a lifesafety or emergency service and must not be relied upon for emergency response."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"9. Limitation of Liability"}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.1 EXCLUSION OF DAMAGES."})," TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL TAGLOGGER OR ITS AFFILIATES, LICENSORS, OR SUPPLIERS BE LIABLE FOR ANY:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR GOODWILL), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES;"}),T.jsx("li",{children:"DAMAGES ARISING FROM THIRDPARTY CLAIMS OR ACTIONS."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.2 DAMAGE CAP."})," TAGLOGGERS AGGREGATE LIABILITY FOR ALL CLAIMS ARISING OUT OF OR RELATING TO THE SERVICE, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, SHALL NOT EXCEED THE GREATER OF:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"(A) THE TOTAL SUBSCRIPTION FEES YOU PAID IN THE THREE (3) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM; OR"}),T.jsx("li",{children:"(B) ONE HUNDRED DOLLARS (US$100)."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.3 FORCE MAJEURE."})," TAGLOGGER SHALL NOT BE LIABLE FOR FAILURE OR DELAY IN PERFORMANCE DUE TO CAUSES BEYOND ITS REASONABLE CONTROL, INCLUDING NATURAL DISASTERS, WAR, TERRORISM, RIOTS, EMBARGOES, GOVERNMENT ACTIONS, LABOR DISPUTES, OR INTERNET/NETWORK FAILURES."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.4 ALLOCATION OF RISK."})," THESE LIMITATIONS ARE AN ESSENTIAL PART OF THE BARGAIN BETWEEN YOU AND TAGLOGGER. YOU ACKNOWLEDGE THAT WITHOUT THEM, THE SUBSCRIPTION FEES WOULD BE SUBSTANTIALLY HIGHER."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"10. Indemnification"}),T.jsx("p",{children:"You agree to indemnify, defend, and hold harmless TagLogger and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys fees) arising out of:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Your use of the Service;"}),T.jsx("li",{children:"Your violation of these Terms; or"}),T.jsx("li",{children:"Any thirdparty claim alleging infringement of intellectual property or privacy rights."})]}),T.jsx("p",{children:"In addition to the above, you specifically agree to indemnify, defend, and hold harmless TagLogger from any claims, investigations, or legal actions arising out of or related to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Your failure to obtain consent before tracking any individual or property; or"}),T.jsx("li",{children:"Your unlawful or unauthorized use of location data collected through the Service."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"11. Termination"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"By You:"})," You may cancel your subscription at any time via the dashboard; cancellation is effective at the end of your current billing cycle."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"By Us:"})," We may suspend or terminate your account for nonpayment, breach of these Terms, compliance with legal or regulatory requirements, or if we detect or receive credible reports of unlawful tracking activity or use without required consent, and we may cooperate with law enforcement."]}),T.jsx("li",{children:"Upon termination, your right to access the Service ends immediately, and we may delete your Customer Data."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"12. Changes to Service or Terms"}),T.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue the Service or any part thereof at any time. We may update these Terms by posting the revised version with a new Last updated date. Your continued use after changes constitutes acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"13. Governing Law & Dispute Resolution"}),T.jsx("p",{children:"These Terms are governed by California law (excluding conflictoflaw rules). Any dispute arising under these Terms will be resolved by binding arbitration in Los Angeles County under the American Arbitration Associations rules. You and TagLogger each waive the right to a jury trial and to participate in any classaction lawsuit."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"14. Legal Compliance"}),T.jsx("p",{children:"TagLoggers Service is intended for lawful assettracking purposes. TagLogger does not condone or facilitate the use of its technology for stalking, harassment, or unauthorized surveillance. Users are solely responsible for ensuring their use complies with all applicable laws."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Export Control & Sanctions."})," You represent you are not located in, under control of, or a national/resident of any embargoed country or prohibited party list, and you will comply with U.S./EU export control and sanctions laws."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"15. Severability & Waiver"}),T.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, the remaining provisions remain in full force. Our failure to enforce any right or provision will not constitute a waiver of future enforcement."}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",textAlign:"center"},children:T.jsx("em",{children:"End of Terms and Conditions"})})]})})}function VU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Privacy Policy"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Effective Date: October 8, 2025"})}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Version: 1.0"})}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Introduction"}),T.jsx("p",{children:"At TagLogger, we are committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our services. By using TagLogger, you agree to the practices described in this policy."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Data Controller:"})," TagLogger is the data controller responsible for your personal information. For any questions or concerns about this policy or your data, please contact us via the in-app support form or through our Contact Us page."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Information We Collect"}),T.jsx("p",{children:"We collect the following types of information to provide and improve our services:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Location Data:"})," Latitude, longitude, and timestamps associated with your AirTags for location history and tracking features."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"User Identification:"})," Account details like your email address or username to link location data to your account."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Used to authenticate users, remember preferences, and analyze website usage."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Use Your Information"}),T.jsx("p",{children:"We use your information to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Provide the TagLogger service, including location history, geofencing, inventory management, and interactive timelines."}),T.jsx("li",{children:"Improve our services, troubleshoot issues, and develop new features."}),T.jsx("li",{children:"Communicate with you about your account, updates, or support matters."})]}),T.jsx("p",{children:"TagLogger processes location data solely on behalf of the account holder and for the purpose of providing the tracking features you request."}),T.jsx("p",{children:"You are responsible for ensuring that any collection or sharing of location data with respect to other individuals complies with applicable privacy and surveillance laws, including obtaining consent where required."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Share Your Information"}),T.jsx("p",{children:"We do not share your location data with third parties, except as follows:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Trusted Service Providers:"})," We may share data with trusted vendors (e.g., for hosting, analytics, or payment processing) who are bound by confidentiality obligations and use your data only to perform services for us."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Legal Requirements:"})," When required by law, such as a subpoena or court order."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Protection of Rights:"})," To protect TagLogger, our users, or others."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"With Your Consent:"})," If you explicitly agree to share your data."]})]}),T.jsx("p",{children:"We may suspend or terminate access to the Service or cooperate with law enforcement if we detect or receive credible reports of unlawful tracking activity."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Your Choices and Rights"}),T.jsx("p",{children:"You can:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Access:"})," View your data through your account dashboard."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Correct:"})," Update inaccuracies in your account settings."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Delete:"})," Request data deletion, subject to legal retention obligations."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Object:"})," Opt out of certain data processing where permitted by law."]})]}),T.jsx("p",{children:"To exercise these rights, use the in-app support form or visit our Contact Us page."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Security"}),T.jsx("p",{children:"We use industry-standard encryption, access controls, and secure servers to protect your data. However, no system is fully immune to risks."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"International Data Transfers"}),T.jsx("p",{children:"Your data may be processed in other countries, with safeguards to comply with applicable laws."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Childrens Privacy"}),T.jsx("p",{children:"Our services are not intended for anyone under 18. We do not knowingly collect data from individuals under 18, and we will delete such data if discovered."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Business Use"}),T.jsx("p",{children:"If you use TagLogger for business (e.g., tracking shipments), you must comply with privacy laws and obtain necessary consents."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Data Retention"}),T.jsx("p",{children:"We keep your data while your account is active or as needed for the service. Upon deletion requests, we remove it unless legally required to retain it."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Cookies and Tracking Technologies"}),T.jsx("p",{children:"Cookies help with authentication, preferences, and analytics. Manage them via your browser settings, though this may limit functionality."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Changes to This Policy"}),T.jsx("p",{children:"We may update this policy and will notify you of significant changes via our website. Continued use after updates implies acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Contact Us"}),T.jsx("p",{children:"For questions or requests, reach us via the in-app support form or Contact Us."})]})})}function jU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"Contact"}),T.jsxs("p",{children:["Have questions or need support? Reach out to us at ",T.jsx("a",{href:"mailto:max@taglogger.com",style:{color:"#00eaff",textDecoration:"underline"},children:"max@taglogger.com"}),"."]}),T.jsx("p",{children:"We aim to respond within 1-2 business days."})]})})}function zU(){return T.jsx("footer",{className:"global-footer",role:"contentinfo",children:T.jsxs("div",{className:"footer-content",children:[T.jsx("div",{className:"footer-brand",children:"TagLogger"}),T.jsxs("nav",{className:"footer-nav","aria-label":"Footer",children:[T.jsx(dh,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),T.jsx(dh,{to:"/privacy",className:"footer-link",children:"Data Privacy"}),T.jsx(dh,{to:"/contact",className:"footer-link",children:"Contact"})]}),T.jsxs("div",{className:"footer-copy",children:[" ",new Date().getFullYear()," TagLogger. All rights reserved."]}),T.jsx("div",{className:"footer-disclaimer",style:{fontSize:"0.6rem",color:"#aaa",marginTop:"0px"},children:"An independent service, not affiliated with Apple Inc."})]})})}const UU=V.lazy(()=>lM(()=>import("./MapPage-uVx1Bme4.js"),__vite__mapDeps([0,1])));function BU(){const[e,t]=V.useState(null);return T.jsxs(T.Fragment,{children:[T.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),T.jsx(B5,{scrollYProgress:e}),T.jsxs(S2,{children:[T.jsx(vs,{path:"/",element:T.jsx(xS,{onScrollProgress:t})}),T.jsx(vs,{path:"/login",element:T.jsx(IU,{})}),T.jsx(vs,{path:"/purchase",element:T.jsx(OU,{})}),T.jsx(vs,{path:"/map",element:T.jsx(Sd,{children:T.jsx(V.Suspense,{fallback:null,children:T.jsx(UU,{})})})}),T.jsx(vs,{path:"/dashboard",element:T.jsx(Sd,{children:T.jsx(AS,{})})}),T.jsx(vs,{path:"/settings",element:T.jsx(Sd,{children:T.jsx(AS,{})})}),T.jsx(vs,{path:"/admin",element:T.jsx(Sd,{adminOnly:!0,requireEntitlement:!1,children:T.jsx(LU,{})})}),T.jsx(vs,{path:"/terms",element:T.jsx(kU,{})}),T.jsx(vs,{path:"/privacy",element:T.jsx(VU,{})}),T.jsx(vs,{path:"/contact",element:T.jsx(jU,{})}),T.jsx(vs,{path:"*",element:T.jsx(xS,{onScrollProgress:t})})]}),T.jsx(zU,{})]})}OP.createRoot(document.getElementById("root")).render(T.jsx(V.StrictMode,{children:T.jsx(K2,{children:T.jsx(U5,{children:T.jsx(BU,{})})})}));export{am as M,lm as T,uh as a,Al as b,FU as c,Ri as d,Tr as e,tf as f,Mr as g,GU as h,sU as i,T as j,WU as k,uc as l,m5 as o,t_ as q,V as r,ZU as s,qU as u,Yw as w};
