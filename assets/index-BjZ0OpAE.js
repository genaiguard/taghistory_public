const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapPage-CuWYqlGJ.js","assets/MapPage-TjnJ7GMF.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var i6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wg={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function PP(){if(cE)return Jc;cE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Jc.Fragment=t,Jc.jsx=n,Jc.jsxs=n,Jc}var hE;function LP(){return hE||(hE=1,Wg.exports=PP()),Wg.exports}var T=LP(),Zg={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function MP(){if(fE)return ne;fE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,F={};function q(j,ut,bt){this.props=j,this.context=ut,this.refs=F,this.updater=bt||M}q.prototype.isReactComponent={},q.prototype.setState=function(j,ut){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ut,"setState")},q.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function W(){}W.prototype=q.prototype;function et(j,ut,bt){this.props=j,this.context=ut,this.refs=F,this.updater=bt||M}var $=et.prototype=new W;$.constructor=et,k($,q.prototype),$.isPureReactComponent=!0;var Tt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},At=Object.prototype.hasOwnProperty;function Z(j,ut,bt,vt,wt,Pt){return bt=Pt.ref,{$$typeof:e,type:j,key:ut,ref:bt!==void 0?bt:null,props:Pt}}function O(j,ut){return Z(j.type,ut,void 0,void 0,void 0,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function G(j){var ut={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(bt){return ut[bt]})}var K=/\/+/g;function H(j,ut){return typeof j=="object"&&j!==null&&j.key!=null?G(""+j.key):ut.toString(36)}function V(){}function Ot(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(V,V):(j.status="pending",j.then(function(ut){j.status==="pending"&&(j.status="fulfilled",j.value=ut)},function(ut){j.status==="pending"&&(j.status="rejected",j.reason=ut)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Qt(j,ut,bt,vt,wt){var Pt=typeof j;(Pt==="undefined"||Pt==="boolean")&&(j=null);var St=!1;if(j===null)St=!0;else switch(Pt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(j.$$typeof){case e:case t:St=!0;break;case E:return St=j._init,Qt(St(j._payload),ut,bt,vt,wt)}}if(St)return wt=wt(j),St=vt===""?"."+H(j,0):vt,Tt(wt)?(bt="",St!=null&&(bt=St.replace(K,"$&/")+"/"),Qt(wt,ut,bt,"",function(Dn){return Dn})):wt!=null&&(U(wt)&&(wt=O(wt,bt+(wt.key==null||j&&j.key===wt.key?"":(""+wt.key).replace(K,"$&/")+"/")+St)),ut.push(wt)),1;St=0;var we=vt===""?".":vt+":";if(Tt(j))for(var ie=0;ie<j.length;ie++)vt=j[ie],Pt=we+H(vt,ie),St+=Qt(vt,ut,bt,Pt,wt);else if(ie=S(j),typeof ie=="function")for(j=ie.call(j),ie=0;!(vt=j.next()).done;)vt=vt.value,Pt=we+H(vt,ie++),St+=Qt(vt,ut,bt,Pt,wt);else if(Pt==="object"){if(typeof j.then=="function")return Qt(Ot(j),ut,bt,vt,wt);throw ut=String(j),Error("Objects are not valid as a React child (found: "+(ut==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ut)+"). If you meant to render a collection of children, use an array instead.")}return St}function it(j,ut,bt){if(j==null)return j;var vt=[],wt=0;return Qt(j,vt,"","",function(Pt){return ut.call(bt,Pt,wt++)}),vt}function mt(j){if(j._status===-1){var ut=j._result;ut=ut(),ut.then(function(bt){(j._status===0||j._status===-1)&&(j._status=1,j._result=bt)},function(bt){(j._status===0||j._status===-1)&&(j._status=2,j._result=bt)}),j._status===-1&&(j._status=0,j._result=ut)}if(j._status===1)return j._result.default;throw j._result}var ct=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ut=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ut))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Yt(){}return ne.Children={map:it,forEach:function(j,ut,bt){it(j,function(){ut.apply(this,arguments)},bt)},count:function(j){var ut=0;return it(j,function(){ut++}),ut},toArray:function(j){return it(j,function(ut){return ut})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ne.Component=q,ne.Fragment=n,ne.Profiler=o,ne.PureComponent=et,ne.StrictMode=s,ne.Suspense=y,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,ne.__COMPILER_RUNTIME={__proto__:null,c:function(j){return dt.H.useMemoCache(j)}},ne.cache=function(j){return function(){return j.apply(null,arguments)}},ne.cloneElement=function(j,ut,bt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var vt=k({},j.props),wt=j.key,Pt=void 0;if(ut!=null)for(St in ut.ref!==void 0&&(Pt=void 0),ut.key!==void 0&&(wt=""+ut.key),ut)!At.call(ut,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&ut.ref===void 0||(vt[St]=ut[St]);var St=arguments.length-2;if(St===1)vt.children=bt;else if(1<St){for(var we=Array(St),ie=0;ie<St;ie++)we[ie]=arguments[ie+2];vt.children=we}return Z(j.type,wt,void 0,void 0,Pt,vt)},ne.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},ne.createElement=function(j,ut,bt){var vt,wt={},Pt=null;if(ut!=null)for(vt in ut.key!==void 0&&(Pt=""+ut.key),ut)At.call(ut,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(wt[vt]=ut[vt]);var St=arguments.length-2;if(St===1)wt.children=bt;else if(1<St){for(var we=Array(St),ie=0;ie<St;ie++)we[ie]=arguments[ie+2];wt.children=we}if(j&&j.defaultProps)for(vt in St=j.defaultProps,St)wt[vt]===void 0&&(wt[vt]=St[vt]);return Z(j,Pt,void 0,void 0,null,wt)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(j){return{$$typeof:m,render:j}},ne.isValidElement=U,ne.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:mt}},ne.memo=function(j,ut){return{$$typeof:_,type:j,compare:ut===void 0?null:ut}},ne.startTransition=function(j){var ut=dt.T,bt={};dt.T=bt;try{var vt=j(),wt=dt.S;wt!==null&&wt(bt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(Yt,ct)}catch(Pt){ct(Pt)}finally{dt.T=ut}},ne.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},ne.use=function(j){return dt.H.use(j)},ne.useActionState=function(j,ut,bt){return dt.H.useActionState(j,ut,bt)},ne.useCallback=function(j,ut){return dt.H.useCallback(j,ut)},ne.useContext=function(j){return dt.H.useContext(j)},ne.useDebugValue=function(){},ne.useDeferredValue=function(j,ut){return dt.H.useDeferredValue(j,ut)},ne.useEffect=function(j,ut,bt){var vt=dt.H;if(typeof bt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return vt.useEffect(j,ut)},ne.useId=function(){return dt.H.useId()},ne.useImperativeHandle=function(j,ut,bt){return dt.H.useImperativeHandle(j,ut,bt)},ne.useInsertionEffect=function(j,ut){return dt.H.useInsertionEffect(j,ut)},ne.useLayoutEffect=function(j,ut){return dt.H.useLayoutEffect(j,ut)},ne.useMemo=function(j,ut){return dt.H.useMemo(j,ut)},ne.useOptimistic=function(j,ut){return dt.H.useOptimistic(j,ut)},ne.useReducer=function(j,ut,bt){return dt.H.useReducer(j,ut,bt)},ne.useRef=function(j){return dt.H.useRef(j)},ne.useState=function(j){return dt.H.useState(j)},ne.useSyncExternalStore=function(j,ut,bt){return dt.H.useSyncExternalStore(j,ut,bt)},ne.useTransition=function(){return dt.H.useTransition()},ne.version="19.1.0",ne}var dE;function R_(){return dE||(dE=1,Zg.exports=MP()),Zg.exports}var N=R_();const em=Lx(N);var Kg={exports:{}},th={},Yg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function DP(){return mE||(mE=1,function(e){function t(it,mt){var ct=it.length;it.push(mt);t:for(;0<ct;){var Yt=ct-1>>>1,j=it[Yt];if(0<o(j,mt))it[Yt]=mt,it[ct]=j,ct=Yt;else break t}}function n(it){return it.length===0?null:it[0]}function s(it){if(it.length===0)return null;var mt=it[0],ct=it.pop();if(ct!==mt){it[0]=ct;t:for(var Yt=0,j=it.length,ut=j>>>1;Yt<ut;){var bt=2*(Yt+1)-1,vt=it[bt],wt=bt+1,Pt=it[wt];if(0>o(vt,ct))wt<j&&0>o(Pt,vt)?(it[Yt]=Pt,it[wt]=ct,Yt=wt):(it[Yt]=vt,it[bt]=ct,Yt=bt);else if(wt<j&&0>o(Pt,ct))it[Yt]=Pt,it[wt]=ct,Yt=wt;else break t}}return mt}function o(it,mt){var ct=it.sortIndex-mt.sortIndex;return ct!==0?ct:it.id-mt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var y=[],_=[],E=1,A=null,S=3,M=!1,k=!1,F=!1,q=!1,W=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Tt(it){for(var mt=n(_);mt!==null;){if(mt.callback===null)s(_);else if(mt.startTime<=it)s(_),mt.sortIndex=mt.expirationTime,t(y,mt);else break;mt=n(_)}}function dt(it){if(F=!1,Tt(it),!k)if(n(y)!==null)k=!0,At||(At=!0,H());else{var mt=n(_);mt!==null&&Qt(dt,mt.startTime-it)}}var At=!1,Z=-1,O=5,U=-1;function G(){return q?!0:!(e.unstable_now()-U<O)}function K(){if(q=!1,At){var it=e.unstable_now();U=it;var mt=!0;try{t:{k=!1,F&&(F=!1,et(Z),Z=-1),M=!0;var ct=S;try{e:{for(Tt(it),A=n(y);A!==null&&!(A.expirationTime>it&&G());){var Yt=A.callback;if(typeof Yt=="function"){A.callback=null,S=A.priorityLevel;var j=Yt(A.expirationTime<=it);if(it=e.unstable_now(),typeof j=="function"){A.callback=j,Tt(it),mt=!0;break e}A===n(y)&&s(y),Tt(it)}else s(y);A=n(y)}if(A!==null)mt=!0;else{var ut=n(_);ut!==null&&Qt(dt,ut.startTime-it),mt=!1}}break t}finally{A=null,S=ct,M=!1}mt=void 0}}finally{mt?H():At=!1}}}var H;if(typeof $=="function")H=function(){$(K)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ot=V.port2;V.port1.onmessage=K,H=function(){Ot.postMessage(null)}}else H=function(){W(K,0)};function Qt(it,mt){Z=W(function(){it(e.unstable_now())},mt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(it){it.callback=null},e.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<it?Math.floor(1e3/it):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(it){switch(S){case 1:case 2:case 3:var mt=3;break;default:mt=S}var ct=S;S=mt;try{return it()}finally{S=ct}},e.unstable_requestPaint=function(){q=!0},e.unstable_runWithPriority=function(it,mt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var ct=S;S=it;try{return mt()}finally{S=ct}},e.unstable_scheduleCallback=function(it,mt,ct){var Yt=e.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Yt+ct:Yt):ct=Yt,it){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ct+j,it={id:E++,callback:mt,priorityLevel:it,startTime:ct,expirationTime:j,sortIndex:-1},ct>Yt?(it.sortIndex=ct,t(_,it),n(y)===null&&it===n(_)&&(F?(et(Z),Z=-1):F=!0,Qt(dt,ct-Yt))):(it.sortIndex=j,t(y,it),k||M||(k=!0,At||(At=!0,H()))),it},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(it){var mt=S;return function(){var ct=S;S=mt;try{return it.apply(this,arguments)}finally{S=ct}}}}($g)),$g}var pE;function NP(){return pE||(pE=1,Yg.exports=DP()),Yg.exports}var Xg={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function OP(){if(gE)return ci;gE=1;var e=R_();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ci.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,E)},ci.flushSync=function(y){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=E,s.d.f()}},ci.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},ci.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ci.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,M=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:M}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:S,fetchPriority:M,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ci.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},ci.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ci.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=m(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},ci.requestFormReset=function(y){s.d.r(y)},ci.unstable_batchedUpdates=function(y,_){return y(_)},ci.useFormState=function(y,_,E){return f.H.useFormState(y,_,E)},ci.useFormStatus=function(){return f.H.useHostTransitionStatus()},ci.version="19.1.0",ci}var yE;function Mx(){if(yE)return Xg.exports;yE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xg.exports=OP(),Xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function kP(){if(_E)return th;_E=1;var e=NP(),t=R_(),n=Mx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return m(g),i;if(v===h)return m(g),r;v=v.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=v;else{for(var C=!1,P=g.child;P;){if(P===l){C=!0,l=g,h=v;break}if(P===h){C=!0,h=g,l=v;break}P=P.sibling}if(!C){for(P=v.child;P;){if(P===l){C=!0,l=v,h=g;break}if(P===h){C=!0,h=v,l=g;break}P=P.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Ot(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case dt:return"Suspense";case At:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case $:return(i.displayName||"Context")+".Provider";case et:return(i._context.displayName||"Context")+".Consumer";case Tt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return r=i.displayName||null,r!==null?r:Ot(i.type)||"Memo";case O:r=i._payload,i=i._init;try{return Ot(i(r))}catch{}}return null}var Qt=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Yt=[],j=-1;function ut(i){return{current:i}}function bt(i){0>j||(i.current=Yt[j],Yt[j]=null,j--)}function vt(i,r){j++,Yt[j]=i.current,i.current=r}var wt=ut(null),Pt=ut(null),St=ut(null),we=ut(null);function ie(i,r){switch(vt(St,r),vt(Pt,i),vt(wt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?jb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=jb(r),i=Ub(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}bt(wt),vt(wt,i)}function Dn(){bt(wt),bt(Pt),bt(St)}function sn(i){i.memoizedState!==null&&vt(we,i);var r=wt.current,l=Ub(r,i.type);r!==l&&(vt(Pt,i),vt(wt,l))}function ei(i){Pt.current===i&&(bt(wt),bt(Pt)),we.current===i&&(bt(we),Kc._currentValue=ct)}var ye=Object.prototype.hasOwnProperty,ni=e.unstable_scheduleCallback,Nn=e.unstable_cancelCallback,gs=e.unstable_shouldYield,Gr=e.unstable_requestPaint,xn=e.unstable_now,be=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,Ge=e.unstable_UserBlockingPriority,gi=e.unstable_NormalPriority,Ci=e.unstable_LowPriority,Ki=e.unstable_IdlePriority,On=e.log,Yi=e.unstable_setDisableYieldValue,Ee=null,oe=null;function An(i){if(typeof On=="function"&&Yi(i),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(Ee,i)}catch{}}var Ke=Math.clz32?Math.clz32:Xi,ys=Math.log,$i=Math.LN2;function Xi(i){return i>>>=0,i===0?32:31-(ys(i)/$i|0)|0}var Ii=256,yi=4194304;function pn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _s(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var P=h&134217727;return P!==0?(h=P&~v,h!==0?g=pn(h):(C&=P,C!==0?g=pn(C):l||(l=P&~i,l!==0&&(g=pn(l))))):(P=h&~v,P!==0?g=pn(P):C!==0?g=pn(C):l||(l=h&~i,l!==0&&(g=pn(l)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:g}function _i(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Pi(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var i=Ii;return Ii<<=1,(Ii&4194048)===0&&(Ii=256),i}function pr(){var i=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),i}function Li(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Mi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wr(i,r,l,h,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,B=i.expirationTimes,nt=i.hiddenUpdates;for(l=C&~l;0<l;){var ht=31-Ke(l),gt=1<<ht;P[ht]=0,B[ht]=-1;var rt=nt[ht];if(rt!==null)for(nt[ht]=null,ht=0;ht<rt.length;ht++){var at=rt[ht];at!==null&&(at.lane&=-536870913)}l&=~gt}h!==0&&Di(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function Di(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Ke(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Zr(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Ke(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function vs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function st(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function It(){var i=mt.p;return i!==0?i:(i=window.event,i===void 0?32:sE(i.type))}function Ut(i,r){var l=mt.p;try{return mt.p=i,r()}finally{mt.p=l}}var Mt=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Mt,le="__reactProps$"+Mt,ge="__reactContainer$"+Mt,Ue="__reactEvents$"+Mt,Ct="__reactListeners$"+Mt,Ni="__reactHandles$"+Mt,Ts="__reactResources$"+Mt,ii="__reactMarker$"+Mt;function bs(i){delete i[Jt],delete i[le],delete i[Ue],delete i[Ct],delete i[Ni]}function si(i){var r=i[Jt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[ge]||l[Jt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Hb(i);i!==null;){if(l=i[Jt])return l;i=Hb(i)}return r}i=l,l=i.parentNode}return null}function Qi(i){if(i=i[Jt]||i[ge]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Wn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function kn(i){var r=i[Ts];return r||(r=i[Ts]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qe(i){i[ii]=!0}var $o=new Set,Ma={};function Ji(i,r){Es(i,r),Es(i+"Capture",r)}function Es(i,r){for(Ma[i]=r,i=0;i<r.length;i++)$o.add(r[i])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kr={},Yr={};function Fl(i){return ye.call(Yr,i)?!0:ye.call(Kr,i)?!1:Bl.test(i)?Yr[i]=!0:(Kr[i]=!0,!1)}function gr(i,r,l){if(Fl(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function ws(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Rn(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var Gs,yr;function Ss(i){if(Gs===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Gs=r&&r[1]||"",yr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+i+yr}var $r=!1;function xs(i,r){if(!i||$r)return"";$r=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(at){var rt=at}Reflect.construct(i,[],gt)}else{try{gt.call()}catch(at){rt=at}i.call(gt.prototype)}}else{try{throw Error()}catch(at){rt=at}(gt=i())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(at){if(at&&rt&&typeof at.stack=="string")return[at.stack,rt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],P=v[1];if(C&&P){var B=C.split(`
`),nt=P.split(`
`);for(g=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;g<nt.length&&!nt[g].includes("DetermineComponentFrameRoot");)g++;if(h===B.length||g===nt.length)for(h=B.length-1,g=nt.length-1;1<=h&&0<=g&&B[h]!==nt[g];)g--;for(;1<=h&&0<=g;h--,g--)if(B[h]!==nt[g]){if(h!==1||g!==1)do if(h--,g--,0>g||B[h]!==nt[g]){var ht=`
`+B[h].replace(" at new "," at ");return i.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",i.displayName)),ht}while(1<=h&&0<=g);break}}}finally{$r=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ss(l):""}function re(i){switch(i.tag){case 26:case 27:case 5:return Ss(i.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 15:return xs(i.type,!1);case 11:return xs(i.type.render,!1);case 1:return xs(i.type,!0);case 31:return Ss("Activity");default:return""}}function Ae(i){try{var r="";do r+=re(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function As(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _r(i){var r=As(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function vr(i){i._valueTracker||(i._valueTracker=_r(i))}function $t(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=As(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ie(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xo=/[\n"\\]/g;function We(i){return i.replace(Xo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ze(i,r,l,h,g,v,C,P){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+gn(r)):i.value!==""+gn(r)&&(i.value=""+gn(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?ts(i,C,gn(r)):l!=null?ts(i,C,gn(l)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+gn(P):i.removeAttribute("name")}function Xr(i,r,l,h,g,v,C,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+gn(l):"",r=r!=null?""+gn(r):l,P||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=P?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function ts(i,r,l){r==="number"&&Ie(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Zn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Ht(i,r,l){if(r!=null&&(r=""+gn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+gn(l):""}function vi(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Qt(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=gn(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Vn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Da(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||es.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Ws(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&Da(i,g,h)}else for(var v in r)r.hasOwnProperty(v)&&Da(i,v,r[v])}function Qr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(i){return Na.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ns=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rs=null,is=null;function Jo(i){var r=Qi(i);if(r&&(i=r.stateNode)){var l=i[le]||null;t:switch(i=r.stateNode,r.type){case"input":if(ze(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+We(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[le]||null;if(!g)throw Error(s(90));ze(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&$t(h)}break t;case"textarea":Ht(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Zn(i,!!l.multiple,r,!1)}}}var zt=!1;function Ti(i,r,l){if(zt)return i(r,l);zt=!0;try{var h=i(r);return h}finally{if(zt=!1,(Rs!==null||is!==null)&&(Qf(),Rs&&(r=Rs,i=is,is=Rs=null,Jo(r),i)))for(r=0;r<i.length;r++)Jo(i[r])}}function _e(i,r){var l=i.stateNode;if(l===null)return null;var h=l[le]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(Oi)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{ri=!1}var ki=null,ai=null,ss=null;function Ks(){if(ss)return ss;var i,r=ai,l=r.length,h,g="value"in ki?ki.value:ki.textContent,v=g.length;for(i=0;i<l&&r[i]===g[i];i++);var C=l-i;for(h=1;h<=C&&r[l-h]===g[v-h];h++);return ss=g.slice(i,1<h?1-h:void 0)}function De(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function jn(){return!0}function Oa(){return!1}function cn(i){function r(l,h,g,v,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?jn:Oa,this.isPropagationStopped=Oa,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),r}var Se={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=cn(Se),Ys=E({},Se,{view:0,detail:0}),Hl=cn(Ys),ta,ee,Cs,Cn=E({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Cs&&(Cs&&i.type==="mousemove"?(ta=i.screenX-Cs.screenX,ee=i.screenY-Cs.screenY):ee=ta=0,Cs=i),ta)},movementY:function(i){return"movementY"in i?i.movementY:ee}}),Un=cn(Cn),tl=E({},Cn,{dataTransfer:0}),hc=cn(tl),$s=E({},Ys,{relatedTarget:0}),ka=cn($s),Va=E({},Se,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=cn(Va),ql=E({},Se,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),br=cn(ql),fc=E({},Se,{data:0}),oi=cn(fc),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},el={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=rs[i])?!!r[i]:!1}function Er(){return Ua}var za=E({},Ys,{key:function(i){if(i.key){var r=ea[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=De(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?el[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(i){return i.type==="keypress"?De(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?De(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=cn(za),nl=E({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fa=cn(nl),Xs=E({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),Gl=cn(Xs),Ha=E({},Se,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wl=cn(Ha),il=E({},Cn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),na=cn(il),yn=E({},Se,{newState:0,oldState:0}),Is=cn(yn),Zl=[9,13,27,32],li=Oi&&"CompositionEvent"in window,d=null;Oi&&"documentMode"in document&&(d=document.documentMode);var w=Oi&&"TextEvent"in window&&!d,R=Oi&&(!li||d&&8<d&&11>=d),D=" ",Q=!1;function lt(i,r){switch(i){case"keyup":return Zl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var he=!1;function rn(i,r){switch(i){case"compositionend":return Et(r);case"keypress":return r.which!==32?null:(Q=!0,D);case"textInput":return i=r.data,i===D&&Q?null:i;default:return null}}function fe(i,r){if(he)return i==="compositionend"||!li&&lt(i,r)?(i=Ks(),ss=ai=ki=null,he=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R&&r.locale!=="ko"?null:r.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Re[i.type]:r==="textarea"}function Qs(i,r,l,h){Rs?is?is.push(h):is=[h]:Rs=h,r=sd(r,"onChange"),0<r.length&&(l=new Jr("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Ve=null,Ps=null;function Ls(i){Db(i,0)}function Kl(i){var r=Wn(i);if($t(r))return i}function qa(i,r){if(i==="change")return r}var dc=!1;if(Oi){var Ga;if(Oi){var mc="oninput"in document;if(!mc){var Js=document.createElement("div");Js.setAttribute("oninput","return;"),mc=typeof Js.oninput=="function"}Ga=mc}else Ga=!1;dc=Ga&&(!document.documentMode||9<document.documentMode)}function sl(){Ve&&(Ve.detachEvent("onpropertychange",yf),Ps=Ve=null)}function yf(i){if(i.propertyName==="value"&&Kl(Ps)){var r=[];Qs(r,Ps,i,Kn(i)),Ti(Ls,r)}}function pc(i,r,l){i==="focusin"?(sl(),Ve=r,Ps=l,Ve.attachEvent("onpropertychange",yf)):i==="focusout"&&sl()}function gp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kl(Ps)}function tr(i,r){if(i==="click")return Kl(r)}function yp(i,r){if(i==="input"||i==="change")return Kl(r)}function Wa(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var bi=typeof Object.is=="function"?Object.is:Wa;function Ei(i,r){if(bi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!ye.call(r,g)||!bi(i[g],r[g]))return!1}return!0}function rl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gc(i,r){var l=rl(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=rl(l)}}function Yl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Yl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function al(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ie(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ie(i.document)}return r}function ol(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var $l=Oi&&"documentMode"in document&&11>=document.documentMode,as=null,Za=null,ia=null,Xl=!1;function _f(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xl||as==null||as!==Ie(h)||(h=as,"selectionStart"in h&&ol(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ia&&Ei(ia,h)||(ia=h,h=sd(Za,"onSelect"),0<h.length&&(r=new Jr("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=as)))}function Ms(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Ka={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Ql={},vf={};Oi&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function wr(i){if(Ql[i])return Ql[i];if(!Ka[i])return i;var r=Ka[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in vf)return Ql[i]=r[l];return i}var Tf=wr("animationend"),os=wr("animationiteration"),ll=wr("animationstart"),_p=wr("transitionrun"),Jl=wr("transitionstart"),vp=wr("transitioncancel"),yc=wr("transitionend"),bf=new Map,sa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sa.push("scrollEnd");function ls(i,r){bf.set(i,r),Ji(r,[i])}var ra=new WeakMap;function wi(i,r){if(typeof i=="object"&&i!==null){var l=ra.get(i);return l!==void 0?l:(r={value:i,source:r,stack:Ae(r)},ra.set(i,r),r)}return{value:i,source:r,stack:Ae(r)}}var Si=[],Ya=0,us=0;function ul(){for(var i=Ya,r=us=Ya=0;r<i;){var l=Si[r];Si[r++]=null;var h=Si[r];Si[r++]=null;var g=Si[r];Si[r++]=null;var v=Si[r];if(Si[r++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}v!==0&&hl(l,g,v)}}function cl(i,r,l,h){Si[Ya++]=i,Si[Ya++]=r,Si[Ya++]=l,Si[Ya++]=h,us|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function aa(i,r,l,h){return cl(i,r,l,h),Sr(i)}function $a(i,r){return cl(i,null,null,r),Sr(i)}function hl(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-Ke(l),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),v):null}function Sr(i){if(50<zc)throw zc=0,gg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var oa={};function Ef(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(i,r,l,h){return new Ef(i,r,l,h)}function tu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ds(i,r){var l=i.alternate;return l===null?(l=xi(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function _c(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function fl(i,r,l,h,g,v){var C=0;if(h=i,typeof i=="function")tu(i)&&(C=1);else if(typeof i=="string")C=yP(i,l,wt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case U:return i=xi(31,l,r,g),i.elementType=U,i.lanes=v,i;case k:return xr(l.children,g,v,r);case F:C=8,g|=24;break;case q:return i=xi(12,l,r,g|2),i.elementType=q,i.lanes=v,i;case dt:return i=xi(13,l,r,g),i.elementType=dt,i.lanes=v,i;case At:return i=xi(19,l,r,g),i.elementType=At,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:case $:C=10;break t;case et:C=9;break t;case Tt:C=11;break t;case Z:C=14;break t;case O:C=16,h=null;break t}C=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=xi(C,l,r,g),r.elementType=i,r.type=h,r.lanes=v,r}function xr(i,r,l,h){return i=xi(7,i,h,r),i.lanes=l,i}function vc(i,r,l){return i=xi(6,i,null,r),i.lanes=l,i}function eu(i,r,l){return r=xi(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var la=[],Xa=0,a=null,c=0,p=[],b=0,x=null,I=1,z="";function J(i,r){la[Xa++]=c,la[Xa++]=a,a=i,c=r}function ot(i,r,l){p[b++]=I,p[b++]=z,p[b++]=x,x=i;var h=I;i=z;var g=32-Ke(h)-1;h&=~(1<<g),l+=1;var v=32-Ke(r)+g;if(30<v){var C=g-g%5;v=(h&(1<<C)-1).toString(32),h>>=C,g-=C,I=1<<32-Ke(r)+g|l<<g|h,z=v+i}else I=1<<v|l<<g|h,z=i}function _t(i){i.return!==null&&(J(i,1),ot(i,1,0))}function Rt(i){for(;i===a;)a=la[--Xa],la[Xa]=null,c=la[--Xa],la[Xa]=null;for(;i===x;)x=p[--b],p[b]=null,z=p[--b],p[b]=null,I=p[--b],p[b]=null}var Dt=null,kt=null,Kt=!1,Fe=null,Je=!1,zn=Error(s(519));function Vi(i){var r=Error(s(418,""));throw Ja(wi(r,i)),zn}function wf(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Jt]=i,r[le]=h,l){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(l=0;l<Fc.length;l++)ce(Fc[l],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":ce("invalid",r),Xr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),vr(r);break;case"select":ce("invalid",r);break;case"textarea":ce("invalid",r),vi(r,h.value,h.defaultValue,h.children),vr(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||Vb(r.textContent,l)?(h.popover!=null&&(ce("beforetoggle",r),ce("toggle",r)),h.onScroll!=null&&ce("scroll",r),h.onScrollEnd!=null&&ce("scrollend",r),h.onClick!=null&&(r.onclick=rd),r=!0):r=!1,r||Vi(i)}function Sf(i){for(Dt=i.return;Dt;)switch(Dt.tag){case 5:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:Dt=Dt.return}}function dl(i){if(i!==Dt)return!1;if(!Kt)return Sf(i),Kt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Mg(i.type,i.memoizedProps)),l=!l),l&&kt&&Vi(i),Sf(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){kt=sr(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}kt=null}}else r===27?(r=kt,po(i.type)?(i=kg,kg=null,kt=i):kt=r):kt=Dt?sr(i.stateNode.nextSibling):null;return!0}function Qa(){kt=Dt=null,Kt=!1}function xf(){var i=Fe;return i!==null&&(zi===null?zi=i:zi.push.apply(zi,i),Fe=null),i}function Ja(i){Fe===null?Fe=[i]:Fe.push(i)}var Ye=ut(null),Ns=null,er=null;function Ar(i,r,l){vt(Ye,r._currentValue),r._currentValue=l}function nr(i){i._currentValue=Ye.current,bt(Ye)}function ml(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function nu(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var P=v;v=g;for(var B=0;B<r.length;B++)if(P.context===r[B]){v.lanes|=l,P=v.alternate,P!==null&&(P.lanes|=l),ml(v.return,l,i),h||(C=null);break t}v=P.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(s(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),ml(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function pl(i,r,l,h){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var P=g.type;bi(g.pendingProps.value,C.value)||(i!==null?i.push(P):i=[P])}}else if(g===we.current){if(C=g.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Kc):i=[Kc])}g=g.return}i!==null&&nu(r,i,l,h),r.flags|=262144}function Af(i){for(i=i.firstContext;i!==null;){if(!bi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function gl(i){Ns=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ui(i){return w0(Ns,i)}function Rf(i,r){return Ns===null&&gl(i),w0(i,r)}function w0(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},er===null){if(i===null)throw Error(s(308));er=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else er=er.next=r;return l}var gI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},yI=e.unstable_scheduleCallback,_I=e.unstable_NormalPriority,In={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tp(){return{controller:new gI,data:new Map,refCount:0}}function Tc(i){i.refCount--,i.refCount===0&&yI(_I,function(){i.controller.abort()})}var bc=null,bp=0,iu=0,su=null;function vI(i,r){if(bc===null){var l=bc=[];bp=0,iu=wg(),su={status:"pending",value:void 0,then:function(h){l.push(h)}}}return bp++,r.then(S0,S0),r}function S0(){if(--bp===0&&bc!==null){su!==null&&(su.status="fulfilled");var i=bc;bc=null,iu=0,su=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function TI(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var x0=it.S;it.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&vI(i,r),x0!==null&&x0(i,r)};var yl=ut(null);function Ep(){var i=yl.current;return i!==null?i:He.pooledCache}function Cf(i,r){r===null?vt(yl,yl.current):vt(yl,r.pool)}function A0(){var i=Ep();return i===null?null:{parent:In._currentValue,pool:i}}var Ec=Error(s(460)),R0=Error(s(474)),If=Error(s(542)),wp={then:function(){}};function C0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pf(){}function I0(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Pf,Pf),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,L0(i),i;default:if(typeof r.status=="string")r.then(Pf,Pf);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,L0(i),i}throw wc=r,Ec}}var wc=null;function P0(){if(wc===null)throw Error(s(459));var i=wc;return wc=null,i}function L0(i){if(i===Ec||i===If)throw Error(s(483))}var to=!1;function Sp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function no(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Pe&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=Sr(i),hl(i,null,l),r}return cl(i,h,r,l),Sr(i)}function Sc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Zr(i,l)}}function Ap(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=r:v=v.next=r}else g=v=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Rp=!1;function xc(){if(Rp){var i=su;if(i!==null)throw i}}function Ac(i,r,l,h){Rp=!1;var g=i.updateQueue;to=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var B=P,nt=B.next;B.next=null,C===null?v=nt:C.next=nt,C=B;var ht=i.alternate;ht!==null&&(ht=ht.updateQueue,P=ht.lastBaseUpdate,P!==C&&(P===null?ht.firstBaseUpdate=nt:P.next=nt,ht.lastBaseUpdate=B))}if(v!==null){var gt=g.baseState;C=0,ht=nt=B=null,P=v;do{var rt=P.lane&-536870913,at=rt!==P.lane;if(at?(ve&rt)===rt:(h&rt)===rt){rt!==0&&rt===iu&&(Rp=!0),ht!==null&&(ht=ht.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Wt=i,Bt=P;rt=r;var ke=l;switch(Bt.tag){case 1:if(Wt=Bt.payload,typeof Wt=="function"){gt=Wt.call(ke,gt,rt);break t}gt=Wt;break t;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=Bt.payload,rt=typeof Wt=="function"?Wt.call(ke,gt,rt):Wt,rt==null)break t;gt=E({},gt,rt);break t;case 2:to=!0}}rt=P.callback,rt!==null&&(i.flags|=64,at&&(i.flags|=8192),at=g.callbacks,at===null?g.callbacks=[rt]:at.push(rt))}else at={lane:rt,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ht===null?(nt=ht=at,B=gt):ht=ht.next=at,C|=rt;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;at=P,P=at.next,at.next=null,g.lastBaseUpdate=at,g.shared.pending=null}}while(!0);ht===null&&(B=gt),g.baseState=B,g.firstBaseUpdate=nt,g.lastBaseUpdate=ht,v===null&&(g.shared.lanes=0),co|=C,i.lanes=C,i.memoizedState=gt}}function M0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function D0(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)M0(l[i],r)}var ru=ut(null),Lf=ut(0);function N0(i,r){i=pa,vt(Lf,i),vt(ru,r),pa=i|r.baseLanes}function Cp(){vt(Lf,pa),vt(ru,ru.current)}function Ip(){pa=Lf.current,bt(ru),bt(Lf)}var io=0,se=null,Ne=null,_n=null,Mf=!1,au=!1,_l=!1,Df=0,Rc=0,ou=null,bI=0;function hn(){throw Error(s(321))}function Pp(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!bi(i[l],r[l]))return!1;return!0}function Lp(i,r,l,h,g,v){return io=v,se=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,it.H=i===null||i.memoizedState===null?yT:_T,_l=!1,v=l(h,g),_l=!1,au&&(v=k0(r,l,h,g)),O0(i),v}function O0(i){it.H=Uf;var r=Ne!==null&&Ne.next!==null;if(io=0,_n=Ne=se=null,Mf=!1,Rc=0,ou=null,r)throw Error(s(300));i===null||Bn||(i=i.dependencies,i!==null&&Af(i)&&(Bn=!0))}function k0(i,r,l,h){se=i;var g=0;do{if(au&&(ou=null),Rc=0,au=!1,25<=g)throw Error(s(301));if(g+=1,_n=Ne=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}it.H=CI,v=r(l,h)}while(au);return v}function EI(){var i=it.H,r=i.useState()[0];return r=typeof r.then=="function"?Cc(r):r,i=i.useState()[0],(Ne!==null?Ne.memoizedState:null)!==i&&(se.flags|=1024),r}function Mp(){var i=Df!==0;return Df=0,i}function Dp(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Np(i){if(Mf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Mf=!1}io=0,_n=Ne=se=null,au=!1,Rc=Df=0,ou=null}function ji(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?se.memoizedState=_n=i:_n=_n.next=i,_n}function vn(){if(Ne===null){var i=se.alternate;i=i!==null?i.memoizedState:null}else i=Ne.next;var r=_n===null?se.memoizedState:_n.next;if(r!==null)_n=r,Ne=i;else{if(i===null)throw se.alternate===null?Error(s(467)):Error(s(310));Ne=i,i={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},_n===null?se.memoizedState=_n=i:_n=_n.next=i}return _n}function Op(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(i){var r=Rc;return Rc+=1,ou===null&&(ou=[]),i=I0(ou,i,r),r=se,(_n===null?r.memoizedState:_n.next)===null&&(r=r.alternate,it.H=r===null||r.memoizedState===null?yT:_T),i}function Nf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cc(i);if(i.$$typeof===$)return ui(i)}throw Error(s(438,String(i)))}function kp(i){var r=null,l=se.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=se.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Op(),se.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=G;return r.index++,l}function ua(i,r){return typeof r=="function"?r(i):r}function Of(i){var r=vn();return Vp(r,Ne,i)}function Vp(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}r.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var P=C=null,B=null,nt=r,ht=!1;do{var gt=nt.lane&-536870913;if(gt!==nt.lane?(ve&gt)===gt:(io&gt)===gt){var rt=nt.revertLane;if(rt===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),gt===iu&&(ht=!0);else if((io&rt)===rt){nt=nt.next,rt===iu&&(ht=!0);continue}else gt={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},B===null?(P=B=gt,C=v):B=B.next=gt,se.lanes|=rt,co|=rt;gt=nt.action,_l&&l(v,gt),v=nt.hasEagerState?nt.eagerState:l(v,gt)}else rt={lane:gt,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},B===null?(P=B=rt,C=v):B=B.next=rt,se.lanes|=gt,co|=gt;nt=nt.next}while(nt!==null&&nt!==r);if(B===null?C=v:B.next=P,!bi(v,i.memoizedState)&&(Bn=!0,ht&&(l=su,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=B,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function jp(i){var r=vn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,v=r.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);bi(v,r.memoizedState)||(Bn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,h]}function V0(i,r,l){var h=se,g=vn(),v=Kt;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var C=!bi((Ne||g).memoizedState,l);C&&(g.memoizedState=l,Bn=!0),g=g.queue;var P=z0.bind(null,h,g,i);if(Ic(2048,8,P,[i]),g.getSnapshot!==r||C||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,lu(9,kf(),U0.bind(null,h,g,l,r),null),He===null)throw Error(s(349));v||(io&124)!==0||j0(h,r,l)}return l}function j0(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=se.updateQueue,r===null?(r=Op(),se.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function U0(i,r,l,h){r.value=l,r.getSnapshot=h,B0(r)&&F0(i)}function z0(i,r,l){return l(function(){B0(r)&&F0(i)})}function B0(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!bi(i,l)}catch{return!0}}function F0(i){var r=$a(i,2);r!==null&&ms(r,i,2)}function Up(i){var r=ji();if(typeof i=="function"){var l=i;if(i=l(),_l){An(!0);try{l()}finally{An(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:i},r}function H0(i,r,l,h){return i.baseState=l,Vp(i,Ne,typeof h=="function"?h:ua)}function wI(i,r,l,h,g){if(jf(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};it.T!==null?l(!0):v.isTransition=!1,h(v),l=r.pending,l===null?(v.next=r.pending=v,q0(r,v)):(v.next=l.next,r.pending=l.next=v)}}function q0(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var v=it.T,C={};it.T=C;try{var P=l(g,h),B=it.S;B!==null&&B(C,P),G0(i,r,P)}catch(nt){zp(i,r,nt)}finally{it.T=v}}else try{v=l(g,h),G0(i,r,v)}catch(nt){zp(i,r,nt)}}function G0(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){W0(i,r,h)},function(h){return zp(i,r,h)}):W0(i,r,l)}function W0(i,r,l){r.status="fulfilled",r.value=l,Z0(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,q0(i,l)))}function zp(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,Z0(r),r=r.next;while(r!==h)}i.action=null}function Z0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function K0(i,r){return r}function Y0(i,r){if(Kt){var l=He.formState;if(l!==null){t:{var h=se;if(Kt){if(kt){e:{for(var g=kt,v=Je;g.nodeType!==8;){if(!v){g=null;break e}if(g=sr(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){kt=sr(g.nextSibling),h=g.data==="F!";break t}}Vi(h)}h=!1}h&&(r=l[0])}}return l=ji(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K0,lastRenderedState:r},l.queue=h,l=mT.bind(null,se,h),h.dispatch=l,h=Up(!1),v=Gp.bind(null,se,!1,h.queue),h=ji(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=wI.bind(null,se,g,v,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function $0(i){var r=vn();return X0(r,Ne,i)}function X0(i,r,l){if(r=Vp(i,r,K0)[0],i=Of(ua)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Cc(r)}catch(C){throw C===Ec?If:C}else h=r;r=vn();var g=r.queue,v=g.dispatch;return l!==r.memoizedState&&(se.flags|=2048,lu(9,kf(),SI.bind(null,g,l),null)),[h,v,i]}function SI(i,r){i.action=r}function Q0(i){var r=vn(),l=Ne;if(l!==null)return X0(r,l,i);vn(),r=r.memoizedState,l=vn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function lu(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=se.updateQueue,r===null&&(r=Op(),se.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function kf(){return{destroy:void 0,resource:void 0}}function J0(){return vn().memoizedState}function Vf(i,r,l,h){var g=ji();h=h===void 0?null:h,se.flags|=i,g.memoizedState=lu(1|r,kf(),l,h)}function Ic(i,r,l,h){var g=vn();h=h===void 0?null:h;var v=g.memoizedState.inst;Ne!==null&&h!==null&&Pp(h,Ne.memoizedState.deps)?g.memoizedState=lu(r,v,l,h):(se.flags|=i,g.memoizedState=lu(1|r,v,l,h))}function tT(i,r){Vf(8390656,8,i,r)}function eT(i,r){Ic(2048,8,i,r)}function nT(i,r){return Ic(4,2,i,r)}function iT(i,r){return Ic(4,4,i,r)}function sT(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function rT(i,r,l){l=l!=null?l.concat([i]):null,Ic(4,4,sT.bind(null,r,i),l)}function Bp(){}function aT(i,r){var l=vn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Pp(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function oT(i,r){var l=vn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Pp(r,h[1]))return h[0];if(h=i(),_l){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[h,r],h}function Fp(i,r,l){return l===void 0||(io&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=cb(),se.lanes|=i,co|=i,l)}function lT(i,r,l,h){return bi(l,r)?l:ru.current!==null?(i=Fp(i,l,h),bi(i,r)||(Bn=!0),i):(io&42)===0?(Bn=!0,i.memoizedState=l):(i=cb(),se.lanes|=i,co|=i,r)}function uT(i,r,l,h,g){var v=mt.p;mt.p=v!==0&&8>v?v:8;var C=it.T,P={};it.T=P,Gp(i,!1,r,l);try{var B=g(),nt=it.S;if(nt!==null&&nt(P,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ht=TI(B,h);Pc(i,r,ht,ds(i))}else Pc(i,r,h,ds(i))}catch(gt){Pc(i,r,{then:function(){},status:"rejected",reason:gt},ds())}finally{mt.p=v,it.T=C}}function xI(){}function Hp(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=cT(i).queue;uT(i,g,r,ct,l===null?xI:function(){return hT(i),l(h)})}function cT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ct},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function hT(i){var r=cT(i).next.queue;Pc(i,r,{},ds())}function qp(){return ui(Kc)}function fT(){return vn().memoizedState}function dT(){return vn().memoizedState}function AI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ds();i=eo(l);var h=no(r,i,l);h!==null&&(ms(h,r,l),Sc(h,r,l)),r={cache:Tp()},i.payload=r;return}r=r.return}}function RI(i,r,l){var h=ds();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jf(i)?pT(r,l):(l=aa(i,r,l,h),l!==null&&(ms(l,i,h),gT(l,r,h)))}function mT(i,r,l){var h=ds();Pc(i,r,l,h)}function Pc(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jf(i))pT(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,P=v(C,l);if(g.hasEagerState=!0,g.eagerState=P,bi(P,C))return cl(i,r,g,0),He===null&&ul(),!1}catch{}finally{}if(l=aa(i,r,g,h),l!==null)return ms(l,i,h),gT(l,r,h),!0}return!1}function Gp(i,r,l,h){if(h={lane:2,revertLane:wg(),action:h,hasEagerState:!1,eagerState:null,next:null},jf(i)){if(r)throw Error(s(479))}else r=aa(i,l,h,2),r!==null&&ms(r,i,2)}function jf(i){var r=i.alternate;return i===se||r!==null&&r===se}function pT(i,r){au=Mf=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function gT(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Zr(i,l)}}var Uf={readContext:ui,use:Nf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},yT={readContext:ui,use:Nf,useCallback:function(i,r){return ji().memoizedState=[i,r===void 0?null:r],i},useContext:ui,useEffect:tT,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Vf(4194308,4,sT.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Vf(4194308,4,i,r)},useInsertionEffect:function(i,r){Vf(4,2,i,r)},useMemo:function(i,r){var l=ji();r=r===void 0?null:r;var h=i();if(_l){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=ji();if(l!==void 0){var g=l(r);if(_l){An(!0);try{l(r)}finally{An(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=RI.bind(null,se,i),[h.memoizedState,i]},useRef:function(i){var r=ji();return i={current:i},r.memoizedState=i},useState:function(i){i=Up(i);var r=i.queue,l=mT.bind(null,se,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Bp,useDeferredValue:function(i,r){var l=ji();return Fp(l,i,r)},useTransition:function(){var i=Up(!1);return i=uT.bind(null,se,i.queue,!0,!1),ji().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=se,g=ji();if(Kt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),He===null)throw Error(s(349));(ve&124)!==0||j0(h,r,l)}g.memoizedState=l;var v={value:l,getSnapshot:r};return g.queue=v,tT(z0.bind(null,h,v,i),[i]),h.flags|=2048,lu(9,kf(),U0.bind(null,h,v,l,r),null),l},useId:function(){var i=ji(),r=He.identifierPrefix;if(Kt){var l=z,h=I;l=(h&~(1<<32-Ke(h)-1)).toString(32)+l,r="«"+r+"R"+l,l=Df++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=bI++,r="«"+r+"r"+l.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:qp,useFormState:Y0,useActionState:Y0,useOptimistic:function(i){var r=ji();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Gp.bind(null,se,!0,l),l.dispatch=r,[i,r]},useMemoCache:kp,useCacheRefresh:function(){return ji().memoizedState=AI.bind(null,se)}},_T={readContext:ui,use:Nf,useCallback:aT,useContext:ui,useEffect:eT,useImperativeHandle:rT,useInsertionEffect:nT,useLayoutEffect:iT,useMemo:oT,useReducer:Of,useRef:J0,useState:function(){return Of(ua)},useDebugValue:Bp,useDeferredValue:function(i,r){var l=vn();return lT(l,Ne.memoizedState,i,r)},useTransition:function(){var i=Of(ua)[0],r=vn().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:V0,useId:fT,useHostTransitionStatus:qp,useFormState:$0,useActionState:$0,useOptimistic:function(i,r){var l=vn();return H0(l,Ne,i,r)},useMemoCache:kp,useCacheRefresh:dT},CI={readContext:ui,use:Nf,useCallback:aT,useContext:ui,useEffect:eT,useImperativeHandle:rT,useInsertionEffect:nT,useLayoutEffect:iT,useMemo:oT,useReducer:jp,useRef:J0,useState:function(){return jp(ua)},useDebugValue:Bp,useDeferredValue:function(i,r){var l=vn();return Ne===null?Fp(l,i,r):lT(l,Ne.memoizedState,i,r)},useTransition:function(){var i=jp(ua)[0],r=vn().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:V0,useId:fT,useHostTransitionStatus:qp,useFormState:Q0,useActionState:Q0,useOptimistic:function(i,r){var l=vn();return Ne!==null?H0(l,Ne,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:kp,useCacheRefresh:dT},uu=null,Lc=0;function zf(i){var r=Lc;return Lc+=1,uu===null&&(uu=[]),I0(uu,i,r)}function Mc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Bf(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function vT(i){var r=i._init;return r(i._payload)}function TT(i){function r(X,Y){if(i){var tt=X.deletions;tt===null?(X.deletions=[Y],X.flags|=16):tt.push(Y)}}function l(X,Y){if(!i)return null;for(;Y!==null;)r(X,Y),Y=Y.sibling;return null}function h(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function g(X,Y){return X=Ds(X,Y),X.index=0,X.sibling=null,X}function v(X,Y,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<Y?(X.flags|=67108866,Y):tt):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function C(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function P(X,Y,tt,pt){return Y===null||Y.tag!==6?(Y=vc(tt,X.mode,pt),Y.return=X,Y):(Y=g(Y,tt),Y.return=X,Y)}function B(X,Y,tt,pt){var Nt=tt.type;return Nt===k?ht(X,Y,tt.props.children,pt,tt.key):Y!==null&&(Y.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===O&&vT(Nt)===Y.type)?(Y=g(Y,tt.props),Mc(Y,tt),Y.return=X,Y):(Y=fl(tt.type,tt.key,tt.props,null,X.mode,pt),Mc(Y,tt),Y.return=X,Y)}function nt(X,Y,tt,pt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==tt.containerInfo||Y.stateNode.implementation!==tt.implementation?(Y=eu(tt,X.mode,pt),Y.return=X,Y):(Y=g(Y,tt.children||[]),Y.return=X,Y)}function ht(X,Y,tt,pt,Nt){return Y===null||Y.tag!==7?(Y=xr(tt,X.mode,pt,Nt),Y.return=X,Y):(Y=g(Y,tt),Y.return=X,Y)}function gt(X,Y,tt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=vc(""+Y,X.mode,tt),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return tt=fl(Y.type,Y.key,Y.props,null,X.mode,tt),Mc(tt,Y),tt.return=X,tt;case M:return Y=eu(Y,X.mode,tt),Y.return=X,Y;case O:var pt=Y._init;return Y=pt(Y._payload),gt(X,Y,tt)}if(Qt(Y)||H(Y))return Y=xr(Y,X.mode,tt,null),Y.return=X,Y;if(typeof Y.then=="function")return gt(X,zf(Y),tt);if(Y.$$typeof===$)return gt(X,Rf(X,Y),tt);Bf(X,Y)}return null}function rt(X,Y,tt,pt){var Nt=Y!==null?Y.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Nt!==null?null:P(X,Y,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return tt.key===Nt?B(X,Y,tt,pt):null;case M:return tt.key===Nt?nt(X,Y,tt,pt):null;case O:return Nt=tt._init,tt=Nt(tt._payload),rt(X,Y,tt,pt)}if(Qt(tt)||H(tt))return Nt!==null?null:ht(X,Y,tt,pt,null);if(typeof tt.then=="function")return rt(X,Y,zf(tt),pt);if(tt.$$typeof===$)return rt(X,Y,Rf(X,tt),pt);Bf(X,tt)}return null}function at(X,Y,tt,pt,Nt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return X=X.get(tt)||null,P(Y,X,""+pt,Nt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case S:return X=X.get(pt.key===null?tt:pt.key)||null,B(Y,X,pt,Nt);case M:return X=X.get(pt.key===null?tt:pt.key)||null,nt(Y,X,pt,Nt);case O:var ae=pt._init;return pt=ae(pt._payload),at(X,Y,tt,pt,Nt)}if(Qt(pt)||H(pt))return X=X.get(tt)||null,ht(Y,X,pt,Nt,null);if(typeof pt.then=="function")return at(X,Y,tt,zf(pt),Nt);if(pt.$$typeof===$)return at(X,Y,tt,Rf(Y,pt),Nt);Bf(Y,pt)}return null}function Wt(X,Y,tt,pt){for(var Nt=null,ae=null,Vt=Y,Ft=Y=0,Hn=null;Vt!==null&&Ft<tt.length;Ft++){Vt.index>Ft?(Hn=Vt,Vt=null):Hn=Vt.sibling;var xe=rt(X,Vt,tt[Ft],pt);if(xe===null){Vt===null&&(Vt=Hn);break}i&&Vt&&xe.alternate===null&&r(X,Vt),Y=v(xe,Y,Ft),ae===null?Nt=xe:ae.sibling=xe,ae=xe,Vt=Hn}if(Ft===tt.length)return l(X,Vt),Kt&&J(X,Ft),Nt;if(Vt===null){for(;Ft<tt.length;Ft++)Vt=gt(X,tt[Ft],pt),Vt!==null&&(Y=v(Vt,Y,Ft),ae===null?Nt=Vt:ae.sibling=Vt,ae=Vt);return Kt&&J(X,Ft),Nt}for(Vt=h(Vt);Ft<tt.length;Ft++)Hn=at(Vt,X,Ft,tt[Ft],pt),Hn!==null&&(i&&Hn.alternate!==null&&Vt.delete(Hn.key===null?Ft:Hn.key),Y=v(Hn,Y,Ft),ae===null?Nt=Hn:ae.sibling=Hn,ae=Hn);return i&&Vt.forEach(function(To){return r(X,To)}),Kt&&J(X,Ft),Nt}function Bt(X,Y,tt,pt){if(tt==null)throw Error(s(151));for(var Nt=null,ae=null,Vt=Y,Ft=Y=0,Hn=null,xe=tt.next();Vt!==null&&!xe.done;Ft++,xe=tt.next()){Vt.index>Ft?(Hn=Vt,Vt=null):Hn=Vt.sibling;var To=rt(X,Vt,xe.value,pt);if(To===null){Vt===null&&(Vt=Hn);break}i&&Vt&&To.alternate===null&&r(X,Vt),Y=v(To,Y,Ft),ae===null?Nt=To:ae.sibling=To,ae=To,Vt=Hn}if(xe.done)return l(X,Vt),Kt&&J(X,Ft),Nt;if(Vt===null){for(;!xe.done;Ft++,xe=tt.next())xe=gt(X,xe.value,pt),xe!==null&&(Y=v(xe,Y,Ft),ae===null?Nt=xe:ae.sibling=xe,ae=xe);return Kt&&J(X,Ft),Nt}for(Vt=h(Vt);!xe.done;Ft++,xe=tt.next())xe=at(Vt,X,Ft,xe.value,pt),xe!==null&&(i&&xe.alternate!==null&&Vt.delete(xe.key===null?Ft:xe.key),Y=v(xe,Y,Ft),ae===null?Nt=xe:ae.sibling=xe,ae=xe);return i&&Vt.forEach(function(IP){return r(X,IP)}),Kt&&J(X,Ft),Nt}function ke(X,Y,tt,pt){if(typeof tt=="object"&&tt!==null&&tt.type===k&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:t:{for(var Nt=tt.key;Y!==null;){if(Y.key===Nt){if(Nt=tt.type,Nt===k){if(Y.tag===7){l(X,Y.sibling),pt=g(Y,tt.props.children),pt.return=X,X=pt;break t}}else if(Y.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===O&&vT(Nt)===Y.type){l(X,Y.sibling),pt=g(Y,tt.props),Mc(pt,tt),pt.return=X,X=pt;break t}l(X,Y);break}else r(X,Y);Y=Y.sibling}tt.type===k?(pt=xr(tt.props.children,X.mode,pt,tt.key),pt.return=X,X=pt):(pt=fl(tt.type,tt.key,tt.props,null,X.mode,pt),Mc(pt,tt),pt.return=X,X=pt)}return C(X);case M:t:{for(Nt=tt.key;Y!==null;){if(Y.key===Nt)if(Y.tag===4&&Y.stateNode.containerInfo===tt.containerInfo&&Y.stateNode.implementation===tt.implementation){l(X,Y.sibling),pt=g(Y,tt.children||[]),pt.return=X,X=pt;break t}else{l(X,Y);break}else r(X,Y);Y=Y.sibling}pt=eu(tt,X.mode,pt),pt.return=X,X=pt}return C(X);case O:return Nt=tt._init,tt=Nt(tt._payload),ke(X,Y,tt,pt)}if(Qt(tt))return Wt(X,Y,tt,pt);if(H(tt)){if(Nt=H(tt),typeof Nt!="function")throw Error(s(150));return tt=Nt.call(tt),Bt(X,Y,tt,pt)}if(typeof tt.then=="function")return ke(X,Y,zf(tt),pt);if(tt.$$typeof===$)return ke(X,Y,Rf(X,tt),pt);Bf(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Y!==null&&Y.tag===6?(l(X,Y.sibling),pt=g(Y,tt),pt.return=X,X=pt):(l(X,Y),pt=vc(tt,X.mode,pt),pt.return=X,X=pt),C(X)):l(X,Y)}return function(X,Y,tt,pt){try{Lc=0;var Nt=ke(X,Y,tt,pt);return uu=null,Nt}catch(Vt){if(Vt===Ec||Vt===If)throw Vt;var ae=xi(29,Vt,null,X.mode);return ae.lanes=pt,ae.return=X,ae}finally{}}}var cu=TT(!0),bT=TT(!1),Os=ut(null),Rr=null;function so(i){var r=i.alternate;vt(Pn,Pn.current&1),vt(Os,i),Rr===null&&(r===null||ru.current!==null||r.memoizedState!==null)&&(Rr=i)}function ET(i){if(i.tag===22){if(vt(Pn,Pn.current),vt(Os,i),Rr===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Rr=i)}}else ro()}function ro(){vt(Pn,Pn.current),vt(Os,Os.current)}function ca(i){bt(Os),Rr===i&&(Rr=null),bt(Pn)}var Pn=ut(0);function Ff(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Og(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Wp(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Zp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=ds(),g=eo(h);g.payload=r,l!=null&&(g.callback=l),r=no(i,g,h),r!==null&&(ms(r,i,h),Sc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=ds(),g=eo(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=no(i,g,h),r!==null&&(ms(r,i,h),Sc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ds(),h=eo(l);h.tag=2,r!=null&&(h.callback=r),r=no(i,h,l),r!==null&&(ms(r,i,l),Sc(r,i,l))}};function wT(i,r,l,h,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):r.prototype&&r.prototype.isPureReactComponent?!Ei(l,h)||!Ei(g,v):!0}function ST(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Zp.enqueueReplaceState(r,r.state,null)}function vl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Hf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function xT(i){Hf(i)}function AT(i){console.error(i)}function RT(i){Hf(i)}function qf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function CT(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Kp(i,r,l){return l=eo(l),l.tag=3,l.payload={element:null},l.callback=function(){qf(i,r)},l}function IT(i){return i=eo(i),i.tag=3,i}function PT(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){CT(r,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){CT(r,l,h),typeof g!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function II(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&pl(r,l,g,!0),l=Os.current,l!==null){switch(l.tag){case 13:return Rr===null?_g():l.alternate===null&&an===0&&(an=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===wp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),Tg(i,h,g)),!1;case 22:return l.flags|=65536,h===wp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),Tg(i,h,g)),!1}throw Error(s(435,l.tag))}return Tg(i,h,g),_g(),!1}if(Kt)return r=Os.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==zn&&(i=Error(s(422),{cause:h}),Ja(wi(i,l)))):(h!==zn&&(r=Error(s(423),{cause:h}),Ja(wi(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=wi(h,l),g=Kp(i.stateNode,h,g),Ap(i,g),an!==4&&(an=2)),!1;var v=Error(s(520),{cause:h});if(v=wi(v,l),Uc===null?Uc=[v]:Uc.push(v),an!==4&&(an=2),r===null)return!0;h=wi(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Kp(l.stateNode,h,i),Ap(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ho===null||!ho.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=IT(g),PT(g,i,l,h),Ap(l,g),!1}l=l.return}while(l!==null);return!1}var LT=Error(s(461)),Bn=!1;function Yn(i,r,l,h){r.child=i===null?bT(r,null,l,h):cu(r,i.child,l,h)}function MT(i,r,l,h,g){l=l.render;var v=r.ref;if("ref"in h){var C={};for(var P in h)P!=="ref"&&(C[P]=h[P])}else C=h;return gl(r),h=Lp(i,r,l,C,v,g),P=Mp(),i!==null&&!Bn?(Dp(i,r,g),ha(i,r,g)):(Kt&&P&&_t(r),r.flags|=1,Yn(i,r,h,g),r.child)}function DT(i,r,l,h,g){if(i===null){var v=l.type;return typeof v=="function"&&!tu(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,NT(i,r,v,h,g)):(i=fl(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!ng(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ei,l(C,h)&&i.ref===r.ref)return ha(i,r,g)}return r.flags|=1,i=Ds(v,h),i.ref=r.ref,i.return=r,r.child=i}function NT(i,r,l,h,g){if(i!==null){var v=i.memoizedProps;if(Ei(v,h)&&i.ref===r.ref)if(Bn=!1,r.pendingProps=h=v,ng(i,g))(i.flags&131072)!==0&&(Bn=!0);else return r.lanes=i.lanes,ha(i,r,g)}return Yp(i,r,l,h,g)}function OT(i,r,l){var h=r.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|l:l,i!==null){for(g=r.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return kT(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Cf(r,v!==null?v.cachePool:null),v!==null?N0(r,v):Cp(),ET(r);else return r.lanes=r.childLanes=536870912,kT(i,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(Cf(r,v.cachePool),N0(r,v),ro(),r.memoizedState=null):(i!==null&&Cf(r,null),Cp(),ro());return Yn(i,r,g,l),r.child}function kT(i,r,l,h){var g=Ep();return g=g===null?null:{parent:In._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&Cf(r,null),Cp(),ET(r),i!==null&&pl(i,r,h,!0),null}function Gf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Yp(i,r,l,h,g){return gl(r),l=Lp(i,r,l,h,void 0,g),h=Mp(),i!==null&&!Bn?(Dp(i,r,g),ha(i,r,g)):(Kt&&h&&_t(r),r.flags|=1,Yn(i,r,l,g),r.child)}function VT(i,r,l,h,g,v){return gl(r),r.updateQueue=null,l=k0(r,h,l,g),O0(i),h=Mp(),i!==null&&!Bn?(Dp(i,r,v),ha(i,r,v)):(Kt&&h&&_t(r),r.flags|=1,Yn(i,r,l,v),r.child)}function jT(i,r,l,h,g){if(gl(r),r.stateNode===null){var v=oa,C=l.contextType;typeof C=="object"&&C!==null&&(v=ui(C)),v=new l(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Zp,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},Sp(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?ui(C):oa,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Wp(r,l,C,h),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Zp.enqueueReplaceState(v,v.state,null),Ac(r,h,v,g),xc(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){v=r.stateNode;var P=r.memoizedProps,B=vl(l,P);v.props=B;var nt=v.context,ht=l.contextType;C=oa,typeof ht=="object"&&ht!==null&&(C=ui(ht));var gt=l.getDerivedStateFromProps;ht=typeof gt=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,ht||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||nt!==C)&&ST(r,v,h,C),to=!1;var rt=r.memoizedState;v.state=rt,Ac(r,h,v,g),xc(),nt=r.memoizedState,P||rt!==nt||to?(typeof gt=="function"&&(Wp(r,l,gt,h),nt=r.memoizedState),(B=to||wT(r,l,B,h,rt,nt,C))?(ht||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=nt),v.props=h,v.state=nt,v.context=C,h=B):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,xp(i,r),C=r.memoizedProps,ht=vl(l,C),v.props=ht,gt=r.pendingProps,rt=v.context,nt=l.contextType,B=oa,typeof nt=="object"&&nt!==null&&(B=ui(nt)),P=l.getDerivedStateFromProps,(nt=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==gt||rt!==B)&&ST(r,v,h,B),to=!1,rt=r.memoizedState,v.state=rt,Ac(r,h,v,g),xc();var at=r.memoizedState;C!==gt||rt!==at||to||i!==null&&i.dependencies!==null&&Af(i.dependencies)?(typeof P=="function"&&(Wp(r,l,P,h),at=r.memoizedState),(ht=to||wT(r,l,ht,h,rt,at,B)||i!==null&&i.dependencies!==null&&Af(i.dependencies))?(nt||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,at,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,at,B)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&rt===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&rt===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=at),v.props=h,v.state=at,v.context=B,h=ht):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&rt===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&rt===i.memoizedState||(r.flags|=1024),h=!1)}return v=h,Gf(i,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&h?(r.child=cu(r,i.child,null,g),r.child=cu(r,null,l,g)):Yn(i,r,l,g),r.memoizedState=v.state,i=r.child):i=ha(i,r,g),i}function UT(i,r,l,h){return Qa(),r.flags|=256,Yn(i,r,l,h),r.child}var $p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xp(i){return{baseLanes:i,cachePool:A0()}}function Qp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=ks),i}function zT(i,r,l){var h=r.pendingProps,g=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(Pn.current&2)!==0),C&&(g=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Kt){if(g?so(r):ro(),Kt){var P=kt,B;if(B=P){t:{for(B=P,P=Je;B.nodeType!==8;){if(!P){P=null;break t}if(B=sr(B.nextSibling),B===null){P=null;break t}}P=B}P!==null?(r.memoizedState={dehydrated:P,treeContext:x!==null?{id:I,overflow:z}:null,retryLane:536870912,hydrationErrors:null},B=xi(18,null,null,0),B.stateNode=P,B.return=r,r.child=B,Dt=r,kt=null,B=!0):B=!1}B||Vi(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Og(P)?r.lanes=32:r.lanes=536870912,null;ca(r)}return P=h.children,h=h.fallback,g?(ro(),g=r.mode,P=Wf({mode:"hidden",children:P},g),h=xr(h,g,l,null),P.return=r,h.return=r,P.sibling=h,r.child=P,g=r.child,g.memoizedState=Xp(l),g.childLanes=Qp(i,C,l),r.memoizedState=$p,h):(so(r),Jp(r,P))}if(B=i.memoizedState,B!==null&&(P=B.dehydrated,P!==null)){if(v)r.flags&256?(so(r),r.flags&=-257,r=tg(i,r,l)):r.memoizedState!==null?(ro(),r.child=i.child,r.flags|=128,r=null):(ro(),g=h.fallback,P=r.mode,h=Wf({mode:"visible",children:h.children},P),g=xr(g,P,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,cu(r,i.child,null,l),h=r.child,h.memoizedState=Xp(l),h.childLanes=Qp(i,C,l),r.memoizedState=$p,r=g);else if(so(r),Og(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var nt=C.dgst;C=nt,h=Error(s(419)),h.stack="",h.digest=C,Ja({value:h,source:null,stack:null}),r=tg(i,r,l)}else if(Bn||pl(i,r,l,!1),C=(l&i.childLanes)!==0,Bn||C){if(C=He,C!==null&&(h=l&-l,h=(h&42)!==0?1:vs(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==B.retryLane))throw B.retryLane=h,$a(i,h),ms(C,i,h),LT;P.data==="$?"||_g(),r=tg(i,r,l)}else P.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=B.treeContext,kt=sr(P.nextSibling),Dt=r,Kt=!0,Fe=null,Je=!1,i!==null&&(p[b++]=I,p[b++]=z,p[b++]=x,I=i.id,z=i.overflow,x=r),r=Jp(r,h.children),r.flags|=4096);return r}return g?(ro(),g=h.fallback,P=r.mode,B=i.child,nt=B.sibling,h=Ds(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,nt!==null?g=Ds(nt,g):(g=xr(g,P,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,P=i.child.memoizedState,P===null?P=Xp(l):(B=P.cachePool,B!==null?(nt=In._currentValue,B=B.parent!==nt?{parent:nt,pool:nt}:B):B=A0(),P={baseLanes:P.baseLanes|l,cachePool:B}),g.memoizedState=P,g.childLanes=Qp(i,C,l),r.memoizedState=$p,h):(so(r),l=i.child,i=l.sibling,l=Ds(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=l,r.memoizedState=null,l)}function Jp(i,r){return r=Wf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Wf(i,r){return i=xi(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function tg(i,r,l){return cu(r,i.child,null,l),i=Jp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function BT(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),ml(i.return,r,l)}function eg(i,r,l,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function FT(i,r,l){var h=r.pendingProps,g=h.revealOrder,v=h.tail;if(Yn(i,r,h.children,l),h=Pn.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&BT(i,l,r);else if(i.tag===19)BT(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(vt(Pn,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&Ff(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),eg(r,!1,g,l,v);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&Ff(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}eg(r,!0,l,null,v);break;case"together":eg(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ha(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),co|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(pl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ds(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ds(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function ng(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Af(i)))}function PI(i,r,l){switch(r.tag){case 3:ie(r,r.stateNode.containerInfo),Ar(r,In,i.memoizedState.cache),Qa();break;case 27:case 5:sn(r);break;case 4:ie(r,r.stateNode.containerInfo);break;case 10:Ar(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(so(r),r.flags|=128,null):(l&r.child.childLanes)!==0?zT(i,r,l):(so(r),i=ha(i,r,l),i!==null?i.sibling:null);so(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(pl(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return FT(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),vt(Pn,Pn.current),h)break;return null;case 22:case 23:return r.lanes=0,OT(i,r,l);case 24:Ar(r,In,i.memoizedState.cache)}return ha(i,r,l)}function HT(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)Bn=!0;else{if(!ng(i,l)&&(r.flags&128)===0)return Bn=!1,PI(i,r,l);Bn=(i.flags&131072)!==0}else Bn=!1,Kt&&(r.flags&1048576)!==0&&ot(r,c,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")tu(h)?(i=vl(h,i),r.tag=1,r=jT(null,r,h,i,l)):(r.tag=0,r=Yp(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===Tt){r.tag=11,r=MT(null,r,h,i,l);break t}else if(g===Z){r.tag=14,r=DT(null,r,h,i,l);break t}}throw r=Ot(h)||h,Error(s(306,r,""))}}return r;case 0:return Yp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=vl(h,r.pendingProps),jT(i,r,h,g,l);case 3:t:{if(ie(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var v=r.memoizedState;g=v.element,xp(i,r),Ac(r,h,null,l);var C=r.memoizedState;if(h=C.cache,Ar(r,In,h),h!==v.cache&&nu(r,[In],l,!0),xc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=UT(i,r,h,l);break t}else if(h!==g){g=wi(Error(s(424)),r),Ja(g),r=UT(i,r,h,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=sr(i.firstChild),Dt=r,Kt=!0,Fe=null,Je=!0,l=bT(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Qa(),h===g){r=ha(i,r,l);break t}Yn(i,r,h,l)}r=r.child}return r;case 26:return Gf(i,r),i===null?(l=Zb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Kt||(l=r.type,i=r.pendingProps,h=ad(St.current).createElement(l),h[Jt]=r,h[le]=i,Xn(h,l,i),Qe(h),r.stateNode=h):r.memoizedState=Zb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return sn(r),i===null&&Kt&&(h=r.stateNode=qb(r.type,r.pendingProps,St.current),Dt=r,Je=!0,g=kt,po(r.type)?(kg=g,kt=sr(h.firstChild)):kt=g),Yn(i,r,r.pendingProps.children,l),Gf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Kt&&((g=h=kt)&&(h=sP(h,r.type,r.pendingProps,Je),h!==null?(r.stateNode=h,Dt=r,kt=sr(h.firstChild),Je=!1,g=!0):g=!1),g||Vi(r)),sn(r),g=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,Mg(g,v)?h=null:C!==null&&Mg(g,C)&&(r.flags|=32),r.memoizedState!==null&&(g=Lp(i,r,EI,null,null,l),Kc._currentValue=g),Gf(i,r),Yn(i,r,h,l),r.child;case 6:return i===null&&Kt&&((i=l=kt)&&(l=rP(l,r.pendingProps,Je),l!==null?(r.stateNode=l,Dt=r,kt=null,i=!0):i=!1),i||Vi(r)),null;case 13:return zT(i,r,l);case 4:return ie(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=cu(r,null,h,l):Yn(i,r,h,l),r.child;case 11:return MT(i,r,r.type,r.pendingProps,l);case 7:return Yn(i,r,r.pendingProps,l),r.child;case 8:return Yn(i,r,r.pendingProps.children,l),r.child;case 12:return Yn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Ar(r,r.type,h.value),Yn(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,gl(r),g=ui(g),h=h(g),r.flags|=1,Yn(i,r,h,l),r.child;case 14:return DT(i,r,r.type,r.pendingProps,l);case 15:return NT(i,r,r.type,r.pendingProps,l);case 19:return FT(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=Wf(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=Ds(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return OT(i,r,l);case 24:return gl(r),h=ui(In),i===null?(g=Ep(),g===null&&(g=He,v=Tp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),r.memoizedState={parent:h,cache:g},Sp(r),Ar(r,In,g)):((i.lanes&l)!==0&&(xp(i,r),Ac(r,null,null,l),xc()),g=i.memoizedState,v=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ar(r,In,h)):(h=v.cache,Ar(r,In,h),h!==g.cache&&nu(r,[In],l,!0))),Yn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fa(i){i.flags|=4}function qT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qb(r)){if(r=Os.current,r!==null&&((ve&4194048)===ve?Rr!==null:(ve&62914560)!==ve&&(ve&536870912)===0||r!==Rr))throw wc=wp,R0;i.flags|=8192}}function Zf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?pr():536870912,i.lanes|=r,mu|=r)}function Dc(i,r){if(!Kt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function tn(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function LI(i,r,l){var h=r.pendingProps;switch(Rt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(r),null;case 1:return tn(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),nr(In),Dn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(dl(r)?fa(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xf())),tn(r),null;case 26:return l=r.memoizedState,i===null?(fa(r),l!==null?(tn(r),qT(r,l)):(tn(r),r.flags&=-16777217)):l?l!==i.memoizedState?(fa(r),tn(r),qT(r,l)):(tn(r),r.flags&=-16777217):(i.memoizedProps!==h&&fa(r),tn(r),r.flags&=-16777217),null;case 27:ei(r),l=St.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&fa(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return tn(r),null}i=wt.current,dl(r)?wf(r):(i=qb(g,h,l),r.stateNode=i,fa(r))}return tn(r),null;case 5:if(ei(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&fa(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return tn(r),null}if(i=wt.current,dl(r))wf(r);else{switch(g=ad(St.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[Jt]=r,i[le]=h;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Xn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&fa(r)}}return tn(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&fa(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,dl(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=Dt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Jt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Vb(i.nodeValue,l)),i||Vi(r)}else i=ad(i).createTextNode(h),i[Jt]=r,r.stateNode=i}return tn(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=dl(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Jt]=r}else Qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tn(r),g=!1}else g=xf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ca(r),r):(ca(r),null)}if(ca(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Zf(r,r.updateQueue),tn(r),null;case 4:return Dn(),i===null&&Rg(r.stateNode.containerInfo),tn(r),null;case 10:return nr(r.type),tn(r),null;case 19:if(bt(Pn),g=r.memoizedState,g===null)return tn(r),null;if(h=(r.flags&128)!==0,v=g.rendering,v===null)if(h)Dc(g,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Ff(i),v!==null){for(r.flags|=128,Dc(g,!1),i=v.updateQueue,r.updateQueue=i,Zf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)_c(l,i),l=l.sibling;return vt(Pn,Pn.current&1|2),r.child}i=i.sibling}g.tail!==null&&xn()>$f&&(r.flags|=128,h=!0,Dc(g,!1),r.lanes=4194304)}else{if(!h)if(i=Ff(v),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Zf(r,i),Dc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Kt)return tn(r),null}else 2*xn()-g.renderingStartTime>$f&&l!==536870912&&(r.flags|=128,h=!0,Dc(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(i=g.last,i!==null?i.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=xn(),r.sibling=null,i=Pn.current,vt(Pn,h?i&1|2:i&1),r):(tn(r),null);case 22:case 23:return ca(r),Ip(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(tn(r),r.subtreeFlags&6&&(r.flags|=8192)):tn(r),l=r.updateQueue,l!==null&&Zf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&bt(yl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),nr(In),tn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function MI(i,r){switch(Rt(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return nr(In),Dn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ei(r),null;case 13:if(ca(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return bt(Pn),null;case 4:return Dn(),null;case 10:return nr(r.type),null;case 22:case 23:return ca(r),Ip(),i!==null&&bt(yl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return nr(In),null;case 25:return null;default:return null}}function GT(i,r){switch(Rt(r),r.tag){case 3:nr(In),Dn();break;case 26:case 27:case 5:ei(r);break;case 4:Dn();break;case 13:ca(r);break;case 19:bt(Pn);break;case 10:nr(r.type);break;case 22:case 23:ca(r),Ip(),i!==null&&bt(yl);break;case 24:nr(In)}}function Nc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var v=l.create,C=l.inst;h=v(),C.destroy=h}l=l.next}while(l!==g)}}catch(P){je(r,r.return,P)}}function ao(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var C=h.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,g=r;var B=l,nt=P;try{nt()}catch(ht){je(g,B,ht)}}}h=h.next}while(h!==v)}}catch(ht){je(r,r.return,ht)}}function WT(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{D0(r,l)}catch(h){je(i,i.return,h)}}}function ZT(i,r,l){l.props=vl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){je(i,r,h)}}function Oc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){je(i,r,g)}}function Cr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){je(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){je(i,r,g)}else l.current=null}function KT(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){je(i,i.return,g)}}function ig(i,r,l){try{var h=i.stateNode;JI(h,i.type,l,r),h[le]=r}catch(g){je(i,i.return,g)}}function YT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&po(i.type)||i.tag===4}function sg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||YT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&po(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rg(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=rd));else if(h!==4&&(h===27&&po(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(rg(i,r,l),i=i.sibling;i!==null;)rg(i,r,l),i=i.sibling}function Kf(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&po(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Kf(i,r,l),i=i.sibling;i!==null;)Kf(i,r,l),i=i.sibling}function $T(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Xn(r,h,l),r[Jt]=i,r[le]=l}catch(v){je(i,i.return,v)}}var da=!1,fn=!1,ag=!1,XT=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function DI(i,r){if(i=i.containerInfo,Pg=fd,i=al(i),ol(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,P=-1,B=-1,nt=0,ht=0,gt=i,rt=null;e:for(;;){for(var at;gt!==l||g!==0&&gt.nodeType!==3||(P=C+g),gt!==v||h!==0&&gt.nodeType!==3||(B=C+h),gt.nodeType===3&&(C+=gt.nodeValue.length),(at=gt.firstChild)!==null;)rt=gt,gt=at;for(;;){if(gt===i)break e;if(rt===l&&++nt===g&&(P=C),rt===v&&++ht===h&&(B=C),(at=gt.nextSibling)!==null)break;gt=rt,rt=gt.parentNode}gt=at}l=P===-1||B===-1?null:{start:P,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lg={focusedElem:i,selectionRange:l},fd=!1,Fn=r;Fn!==null;)if(r=Fn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Fn=i;else for(;Fn!==null;){switch(r=Fn,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,g=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var Wt=vl(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Wt,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(Bt){je(l,l.return,Bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Ng(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ng(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Fn=i;break}Fn=r.return}}function QT(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:oo(i,l),h&4&&Nc(5,l);break;case 1:if(oo(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(C){je(l,l.return,C)}else{var g=vl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){je(l,l.return,C)}}h&64&&WT(l),h&512&&Oc(l,l.return);break;case 3:if(oo(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{D0(i,r)}catch(C){je(l,l.return,C)}}break;case 27:r===null&&h&4&&$T(l);case 26:case 5:oo(i,l),r===null&&h&4&&KT(l),h&512&&Oc(l,l.return);break;case 12:oo(i,l);break;case 13:oo(i,l),h&4&&eb(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=FI.bind(null,l),aP(i,l))));break;case 22:if(h=l.memoizedState!==null||da,!h){r=r!==null&&r.memoizedState!==null||fn,g=da;var v=fn;da=h,(fn=r)&&!v?lo(i,l,(l.subtreeFlags&8772)!==0):oo(i,l),da=g,fn=v}break;case 30:break;default:oo(i,l)}}function JT(i){var r=i.alternate;r!==null&&(i.alternate=null,JT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&bs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,Ui=!1;function ma(i,r,l){for(l=l.child;l!==null;)tb(i,r,l),l=l.sibling}function tb(i,r,l){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(Ee,l)}catch{}switch(l.tag){case 26:fn||Cr(l,r),ma(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:fn||Cr(l,r);var h=$e,g=Ui;po(l.type)&&($e=l.stateNode,Ui=!1),ma(i,r,l),qc(l.stateNode),$e=h,Ui=g;break;case 5:fn||Cr(l,r);case 6:if(h=$e,g=Ui,$e=null,ma(i,r,l),$e=h,Ui=g,$e!==null)if(Ui)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(v){je(l,r,v)}else try{$e.removeChild(l.stateNode)}catch(v){je(l,r,v)}break;case 18:$e!==null&&(Ui?(i=$e,Fb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Qc(i)):Fb($e,l.stateNode));break;case 4:h=$e,g=Ui,$e=l.stateNode.containerInfo,Ui=!0,ma(i,r,l),$e=h,Ui=g;break;case 0:case 11:case 14:case 15:fn||ao(2,l,r),fn||ao(4,l,r),ma(i,r,l);break;case 1:fn||(Cr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&ZT(l,r,h)),ma(i,r,l);break;case 21:ma(i,r,l);break;case 22:fn=(h=fn)||l.memoizedState!==null,ma(i,r,l),fn=h;break;default:ma(i,r,l)}}function eb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qc(i)}catch(l){je(r,r.return,l)}}function NI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new XT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new XT),r;default:throw Error(s(435,i.tag))}}function og(i,r){var l=NI(i);r.forEach(function(h){var g=HI.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function cs(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],v=i,C=r,P=C;t:for(;P!==null;){switch(P.tag){case 27:if(po(P.type)){$e=P.stateNode,Ui=!1;break t}break;case 5:$e=P.stateNode,Ui=!1;break t;case 3:case 4:$e=P.stateNode.containerInfo,Ui=!0;break t}P=P.return}if($e===null)throw Error(s(160));tb(v,C,g),$e=null,Ui=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)nb(r,i),r=r.sibling}var ir=null;function nb(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cs(r,i),hs(i),h&4&&(ao(3,i,i.return),Nc(3,i),ao(5,i,i.return));break;case 1:cs(r,i),hs(i),h&512&&(fn||l===null||Cr(l,l.return)),h&64&&da&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=ir;if(cs(r,i),hs(i),h&512&&(fn||l===null||Cr(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ii]||v[Jt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Xn(v,h,l),v[Jt]=i,Qe(v),h=v;break t;case"link":var C=$b("link","href",g).get(h+(l.href||""));if(C){for(var P=0;P<C.length;P++)if(v=C[P],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(P,1);break e}}v=g.createElement(h),Xn(v,h,l),g.head.appendChild(v);break;case"meta":if(C=$b("meta","content",g).get(h+(l.content||""))){for(P=0;P<C.length;P++)if(v=C[P],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(P,1);break e}}v=g.createElement(h),Xn(v,h,l),g.head.appendChild(v);break;default:throw Error(s(468,h))}v[Jt]=i,Qe(v),h=v}i.stateNode=h}else Xb(g,i.type,i.stateNode);else i.stateNode=Yb(g,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?Xb(g,i.type,i.stateNode):Yb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&ig(i,i.memoizedProps,l.memoizedProps)}break;case 27:cs(r,i),hs(i),h&512&&(fn||l===null||Cr(l,l.return)),l!==null&&h&4&&ig(i,i.memoizedProps,l.memoizedProps);break;case 5:if(cs(r,i),hs(i),h&512&&(fn||l===null||Cr(l,l.return)),i.flags&32){g=i.stateNode;try{Vn(g,"")}catch(at){je(i,i.return,at)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,ig(i,g,l!==null?l.memoizedProps:g)),h&1024&&(ag=!0);break;case 6:if(cs(r,i),hs(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(at){je(i,i.return,at)}}break;case 3:if(ud=null,g=ir,ir=od(r.containerInfo),cs(r,i),ir=g,hs(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Qc(r.containerInfo)}catch(at){je(i,i.return,at)}ag&&(ag=!1,ib(i));break;case 4:h=ir,ir=od(i.stateNode.containerInfo),cs(r,i),hs(i),ir=h;break;case 12:cs(r,i),hs(i);break;case 13:cs(r,i),hs(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(dg=xn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,og(i,h)));break;case 22:g=i.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,nt=da,ht=fn;if(da=nt||g,fn=ht||B,cs(r,i),fn=ht,da=nt,hs(i),h&8192)t:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||B||da||fn||Tl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){B=l=r;try{if(v=B.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=B.stateNode;var gt=B.memoizedProps.style,rt=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;P.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(at){je(B,B.return,at)}}}else if(r.tag===6){if(l===null){B=r;try{B.stateNode.nodeValue=g?"":B.memoizedProps}catch(at){je(B,B.return,at)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,og(i,l))));break;case 19:cs(r,i),hs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,og(i,h)));break;case 30:break;case 21:break;default:cs(r,i),hs(i)}}function hs(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(YT(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,v=sg(i);Kf(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(Vn(C,""),l.flags&=-33);var P=sg(i);Kf(i,P,C);break;case 3:case 4:var B=l.stateNode.containerInfo,nt=sg(i);rg(i,nt,B);break;default:throw Error(s(161))}}catch(ht){je(i,i.return,ht)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function ib(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;ib(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function oo(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)QT(i,r.alternate,r),r=r.sibling}function Tl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ao(4,r,r.return),Tl(r);break;case 1:Cr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&ZT(r,r.return,l),Tl(r);break;case 27:qc(r.stateNode);case 26:case 5:Cr(r,r.return),Tl(r);break;case 22:r.memoizedState===null&&Tl(r);break;case 30:Tl(r);break;default:Tl(r)}i=i.sibling}}function lo(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:lo(g,v,l),Nc(4,v);break;case 1:if(lo(g,v,l),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(nt){je(h,h.return,nt)}if(h=v,g=h.updateQueue,g!==null){var P=h.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)M0(B[g],P)}catch(nt){je(h,h.return,nt)}}l&&C&64&&WT(v),Oc(v,v.return);break;case 27:$T(v);case 26:case 5:lo(g,v,l),l&&h===null&&C&4&&KT(v),Oc(v,v.return);break;case 12:lo(g,v,l);break;case 13:lo(g,v,l),l&&C&4&&eb(g,v);break;case 22:v.memoizedState===null&&lo(g,v,l),Oc(v,v.return);break;case 30:break;default:lo(g,v,l)}r=r.sibling}}function lg(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Tc(l))}function ug(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tc(i))}function Ir(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sb(i,r,l,h),r=r.sibling}function sb(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ir(i,r,l,h),g&2048&&Nc(9,r);break;case 1:Ir(i,r,l,h);break;case 3:Ir(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tc(i)));break;case 12:if(g&2048){Ir(i,r,l,h),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,P=v.onPostCommit;typeof P=="function"&&P(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){je(r,r.return,B)}}else Ir(i,r,l,h);break;case 13:Ir(i,r,l,h);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?Ir(i,r,l,h):kc(i,r):v._visibility&2?Ir(i,r,l,h):(v._visibility|=2,hu(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&lg(C,r);break;case 24:Ir(i,r,l,h),g&2048&&ug(r.alternate,r);break;default:Ir(i,r,l,h)}}function hu(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,C=r,P=l,B=h,nt=C.flags;switch(C.tag){case 0:case 11:case 15:hu(v,C,P,B,g),Nc(8,C);break;case 23:break;case 22:var ht=C.stateNode;C.memoizedState!==null?ht._visibility&2?hu(v,C,P,B,g):kc(v,C):(ht._visibility|=2,hu(v,C,P,B,g)),g&&nt&2048&&lg(C.alternate,C);break;case 24:hu(v,C,P,B,g),g&&nt&2048&&ug(C.alternate,C);break;default:hu(v,C,P,B,g)}r=r.sibling}}function kc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:kc(l,h),g&2048&&lg(h.alternate,h);break;case 24:kc(l,h),g&2048&&ug(h.alternate,h);break;default:kc(l,h)}r=r.sibling}}var Vc=8192;function fu(i){if(i.subtreeFlags&Vc)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 26:fu(i),i.flags&Vc&&i.memoizedState!==null&&vP(ir,i.memoizedState,i.memoizedProps);break;case 5:fu(i);break;case 3:case 4:var r=ir;ir=od(i.stateNode.containerInfo),fu(i),ir=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Vc,Vc=16777216,fu(i),Vc=r):fu(i));break;default:fu(i)}}function ab(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function jc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Fn=h,lb(h,i)}ab(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ob(i),i=i.sibling}function ob(i){switch(i.tag){case 0:case 11:case 15:jc(i),i.flags&2048&&ao(9,i,i.return);break;case 3:jc(i);break;case 12:jc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Yf(i)):jc(i);break;default:jc(i)}}function Yf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Fn=h,lb(h,i)}ab(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ao(8,r,r.return),Yf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Yf(r));break;default:Yf(r)}i=i.sibling}}function lb(i,r){for(;Fn!==null;){var l=Fn;switch(l.tag){case 0:case 11:case 15:ao(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Tc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Fn=h;else t:for(l=i;Fn!==null;){h=Fn;var g=h.sibling,v=h.return;if(JT(h),h===l){Fn=null;break t}if(g!==null){g.return=v,Fn=g;break t}Fn=v}}}var OI={getCacheForType:function(i){var r=ui(In),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},kI=typeof WeakMap=="function"?WeakMap:Map,Pe=0,He=null,ue=null,ve=0,Le=0,fs=null,uo=!1,du=!1,cg=!1,pa=0,an=0,co=0,bl=0,hg=0,ks=0,mu=0,Uc=null,zi=null,fg=!1,dg=0,$f=1/0,Xf=null,ho=null,$n=0,fo=null,pu=null,gu=0,mg=0,pg=null,ub=null,zc=0,gg=null;function ds(){if((Pe&2)!==0&&ve!==0)return ve&-ve;if(it.T!==null){var i=iu;return i!==0?i:wg()}return It()}function cb(){ks===0&&(ks=(ve&536870912)===0||Kt?mr():536870912);var i=Os.current;return i!==null&&(i.flags|=32),ks}function ms(i,r,l){(i===He&&(Le===2||Le===9)||i.cancelPendingCommit!==null)&&(yu(i,0),mo(i,ve,ks,!1)),Mi(i,l),((Pe&2)===0||i!==He)&&(i===He&&((Pe&2)===0&&(bl|=l),an===4&&mo(i,ve,ks,!1)),Pr(i))}function hb(i,r,l){if((Pe&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||_i(i,r),g=h?UI(i,r):vg(i,r,!0),v=h;do{if(g===0){du&&!h&&mo(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!VI(l)){g=vg(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var P=i;g=Uc;var B=P.current.memoizedState.isDehydrated;if(B&&(yu(P,C).flags|=256),C=vg(P,C,!1),C!==2){if(cg&&!B){P.errorRecoveryDisabledLanes|=v,bl|=v,g=4;break t}v=zi,zi=g,v!==null&&(zi===null?zi=v:zi.push.apply(zi,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){yu(i,0),mo(i,r,0,!0);break}t:{switch(h=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mo(h,r,ks,!uo);break t;case 2:zi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=dg+300-xn(),10<g)){if(mo(h,r,ks,!uo),_s(h,0,!0)!==0)break t;h.timeoutHandle=zb(fb.bind(null,h,l,zi,Xf,fg,r,ks,bl,mu,uo,v,2,-0,0),g);break t}fb(h,l,zi,Xf,fg,r,ks,bl,mu,uo,v,0,-0,0)}}break}while(!0);Pr(i)}function fb(i,r,l,h,g,v,C,P,B,nt,ht,gt,rt,at){if(i.timeoutHandle=-1,gt=r.subtreeFlags,(gt&8192||(gt&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:_P},rb(r),gt=TP(),gt!==null)){i.cancelPendingCommit=gt(vb.bind(null,i,r,v,l,h,g,C,P,B,ht,1,rt,at)),mo(i,v,C,!nt);return}vb(i,r,v,l,h,g,C,P,B)}function VI(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!bi(v(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mo(i,r,l,h){r&=~hg,r&=~bl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var v=31-Ke(g),C=1<<v;h[v]=-1,g&=~C}l!==0&&Di(i,l,r)}function Qf(){return(Pe&6)===0?(Bc(0),!1):!0}function yg(){if(ue!==null){if(Le===0)var i=ue.return;else i=ue,er=Ns=null,Np(i),uu=null,Lc=0,i=ue;for(;i!==null;)GT(i.alternate,i),i=i.return;ue=null}}function yu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,eP(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),yg(),He=i,ue=l=Ds(i.current,null),ve=r,Le=0,fs=null,uo=!1,du=_i(i,r),cg=!1,mu=ks=hg=bl=co=an=0,zi=Uc=null,fg=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-Ke(h),v=1<<g;r|=i[g],h&=~v}return pa=r,ul(),l}function db(i,r){se=null,it.H=Uf,r===Ec||r===If?(r=P0(),Le=3):r===R0?(r=P0(),Le=4):Le=r===LT?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,fs=r,ue===null&&(an=1,qf(i,wi(r,i.current)))}function mb(){var i=it.H;return it.H=Uf,i===null?Uf:i}function pb(){var i=it.A;return it.A=OI,i}function _g(){an=4,uo||(ve&4194048)!==ve&&Os.current!==null||(du=!0),(co&134217727)===0&&(bl&134217727)===0||He===null||mo(He,ve,ks,!1)}function vg(i,r,l){var h=Pe;Pe|=2;var g=mb(),v=pb();(He!==i||ve!==r)&&(Xf=null,yu(i,r)),r=!1;var C=an;t:do try{if(Le!==0&&ue!==null){var P=ue,B=fs;switch(Le){case 8:yg(),C=6;break t;case 3:case 2:case 9:case 6:Os.current===null&&(r=!0);var nt=Le;if(Le=0,fs=null,_u(i,P,B,nt),l&&du){C=0;break t}break;default:nt=Le,Le=0,fs=null,_u(i,P,B,nt)}}jI(),C=an;break}catch(ht){db(i,ht)}while(!0);return r&&i.shellSuspendCounter++,er=Ns=null,Pe=h,it.H=g,it.A=v,ue===null&&(He=null,ve=0,ul()),C}function jI(){for(;ue!==null;)gb(ue)}function UI(i,r){var l=Pe;Pe|=2;var h=mb(),g=pb();He!==i||ve!==r?(Xf=null,$f=xn()+500,yu(i,r)):du=_i(i,r);t:do try{if(Le!==0&&ue!==null){r=ue;var v=fs;e:switch(Le){case 1:Le=0,fs=null,_u(i,r,v,1);break;case 2:case 9:if(C0(v)){Le=0,fs=null,yb(r);break}r=function(){Le!==2&&Le!==9||He!==i||(Le=7),Pr(i)},v.then(r,r);break t;case 3:Le=7;break t;case 4:Le=5;break t;case 7:C0(v)?(Le=0,fs=null,yb(r)):(Le=0,fs=null,_u(i,r,v,7));break;case 5:var C=null;switch(ue.tag){case 26:C=ue.memoizedState;case 5:case 27:var P=ue;if(!C||Qb(C)){Le=0,fs=null;var B=P.sibling;if(B!==null)ue=B;else{var nt=P.return;nt!==null?(ue=nt,Jf(nt)):ue=null}break e}}Le=0,fs=null,_u(i,r,v,5);break;case 6:Le=0,fs=null,_u(i,r,v,6);break;case 8:yg(),an=6;break t;default:throw Error(s(462))}}zI();break}catch(ht){db(i,ht)}while(!0);return er=Ns=null,it.H=h,it.A=g,Pe=l,ue!==null?0:(He=null,ve=0,ul(),an)}function zI(){for(;ue!==null&&!gs();)gb(ue)}function gb(i){var r=HT(i.alternate,i,pa);i.memoizedProps=i.pendingProps,r===null?Jf(i):ue=r}function yb(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=VT(l,r,r.pendingProps,r.type,void 0,ve);break;case 11:r=VT(l,r,r.pendingProps,r.type.render,r.ref,ve);break;case 5:Np(r);default:GT(l,r),r=ue=_c(r,pa),r=HT(l,r,pa)}i.memoizedProps=i.pendingProps,r===null?Jf(i):ue=r}function _u(i,r,l,h){er=Ns=null,Np(r),uu=null,Lc=0;var g=r.return;try{if(II(i,g,r,l,ve)){an=1,qf(i,wi(l,i.current)),ue=null;return}}catch(v){if(g!==null)throw ue=g,v;an=1,qf(i,wi(l,i.current)),ue=null;return}r.flags&32768?(Kt||h===1?i=!0:du||(ve&536870912)!==0?i=!1:(uo=i=!0,(h===2||h===9||h===3||h===6)&&(h=Os.current,h!==null&&h.tag===13&&(h.flags|=16384))),_b(r,i)):Jf(r)}function Jf(i){var r=i;do{if((r.flags&32768)!==0){_b(r,uo);return}i=r.return;var l=LI(r.alternate,r,pa);if(l!==null){ue=l;return}if(r=r.sibling,r!==null){ue=r;return}ue=r=i}while(r!==null);an===0&&(an=5)}function _b(i,r){do{var l=MI(i.alternate,i);if(l!==null){l.flags&=32767,ue=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){ue=i;return}ue=i=l}while(i!==null);an=6,ue=null}function vb(i,r,l,h,g,v,C,P,B){i.cancelPendingCommit=null;do td();while($n!==0);if((Pe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=us,Wr(i,l,v,C,P,B),i===He&&(ue=He=null,ve=0),pu=r,fo=i,gu=l,mg=v,pg=g,ub=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qI(gi,function(){return Sb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=it.T,it.T=null,g=mt.p,mt.p=2,C=Pe,Pe|=4;try{DI(i,r,l)}finally{Pe=C,mt.p=g,it.T=h}}$n=1,Tb(),bb(),Eb()}}function Tb(){if($n===1){$n=0;var i=fo,r=pu,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=it.T,it.T=null;var h=mt.p;mt.p=2;var g=Pe;Pe|=4;try{nb(r,i);var v=Lg,C=al(i.containerInfo),P=v.focusedElem,B=v.selectionRange;if(C!==P&&P&&P.ownerDocument&&Yl(P.ownerDocument.documentElement,P)){if(B!==null&&ol(P)){var nt=B.start,ht=B.end;if(ht===void 0&&(ht=nt),"selectionStart"in P)P.selectionStart=nt,P.selectionEnd=Math.min(ht,P.value.length);else{var gt=P.ownerDocument||document,rt=gt&&gt.defaultView||window;if(rt.getSelection){var at=rt.getSelection(),Wt=P.textContent.length,Bt=Math.min(B.start,Wt),ke=B.end===void 0?Bt:Math.min(B.end,Wt);!at.extend&&Bt>ke&&(C=ke,ke=Bt,Bt=C);var X=gc(P,Bt),Y=gc(P,ke);if(X&&Y&&(at.rangeCount!==1||at.anchorNode!==X.node||at.anchorOffset!==X.offset||at.focusNode!==Y.node||at.focusOffset!==Y.offset)){var tt=gt.createRange();tt.setStart(X.node,X.offset),at.removeAllRanges(),Bt>ke?(at.addRange(tt),at.extend(Y.node,Y.offset)):(tt.setEnd(Y.node,Y.offset),at.addRange(tt))}}}}for(gt=[],at=P;at=at.parentNode;)at.nodeType===1&&gt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<gt.length;P++){var pt=gt[P];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}fd=!!Pg,Lg=Pg=null}finally{Pe=g,mt.p=h,it.T=l}}i.current=r,$n=2}}function bb(){if($n===2){$n=0;var i=fo,r=pu,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=it.T,it.T=null;var h=mt.p;mt.p=2;var g=Pe;Pe|=4;try{QT(i,r.alternate,r)}finally{Pe=g,mt.p=h,it.T=l}}$n=3}}function Eb(){if($n===4||$n===3){$n=0,Gr();var i=fo,r=pu,l=gu,h=ub;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$n=5:($n=0,pu=fo=null,wb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ho=null),st(l),r=r.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(Ee,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=it.T,g=mt.p,mt.p=2,it.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var P=h[C];v(P.value,{componentStack:P.stack})}}finally{it.T=r,mt.p=g}}(gu&3)!==0&&td(),Pr(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===gg?zc++:(zc=0,gg=i):zc=0,Bc(0)}}function wb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Tc(r)))}function td(i){return Tb(),bb(),Eb(),Sb()}function Sb(){if($n!==5)return!1;var i=fo,r=mg;mg=0;var l=st(gu),h=it.T,g=mt.p;try{mt.p=32>l?32:l,it.T=null,l=pg,pg=null;var v=fo,C=gu;if($n=0,pu=fo=null,gu=0,(Pe&6)!==0)throw Error(s(331));var P=Pe;if(Pe|=4,ob(v.current),sb(v,v.current,C,l),Pe=P,Bc(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(Ee,v)}catch{}return!0}finally{mt.p=g,it.T=h,wb(i,r)}}function xb(i,r,l){r=wi(l,r),r=Kp(i.stateNode,r,2),i=no(i,r,2),i!==null&&(Mi(i,2),Pr(i))}function je(i,r,l){if(i.tag===3)xb(i,i,l);else for(;r!==null;){if(r.tag===3){xb(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ho===null||!ho.has(h))){i=wi(l,i),l=IT(2),h=no(r,l,2),h!==null&&(PT(l,h,r,i),Mi(h,2),Pr(h));break}}r=r.return}}function Tg(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new kI;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(cg=!0,g.add(l),i=BI.bind(null,i,r,l),r.then(i,i))}function BI(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,He===i&&(ve&l)===l&&(an===4||an===3&&(ve&62914560)===ve&&300>xn()-dg?(Pe&2)===0&&yu(i,0):hg|=l,mu===ve&&(mu=0)),Pr(i)}function Ab(i,r){r===0&&(r=pr()),i=$a(i,r),i!==null&&(Mi(i,r),Pr(i))}function FI(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Ab(i,l)}function HI(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),Ab(i,l)}function qI(i,r){return ni(i,r)}var ed=null,vu=null,bg=!1,nd=!1,Eg=!1,El=0;function Pr(i){i!==vu&&i.next===null&&(vu===null?ed=vu=i:vu=vu.next=i),nd=!0,bg||(bg=!0,WI())}function Bc(i,r){if(!Eg&&nd){Eg=!0;do for(var l=!1,h=ed;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var C=h.suspendedLanes,P=h.pingedLanes;v=(1<<31-Ke(42|i)+1)-1,v&=g&~(C&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Pb(h,v))}else v=ve,v=_s(h,h===He?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||_i(h,v)||(l=!0,Pb(h,v));h=h.next}while(l);Eg=!1}}function GI(){Rb()}function Rb(){nd=bg=!1;var i=0;El!==0&&(tP()&&(i=El),El=0);for(var r=xn(),l=null,h=ed;h!==null;){var g=h.next,v=Cb(h,r);v===0?(h.next=null,l===null?ed=g:l.next=g,g===null&&(vu=l)):(l=h,(i!==0||(v&3)!==0)&&(nd=!0)),h=g}Bc(i)}function Cb(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-Ke(v),P=1<<C,B=g[C];B===-1?((P&l)===0||(P&h)!==0)&&(g[C]=Pi(P,r)):B<=r&&(i.expiredLanes|=P),v&=~P}if(r=He,l=ve,l=_s(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Le===2||Le===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Nn(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_i(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Nn(h),st(l)){case 2:case 8:l=Ge;break;case 32:l=gi;break;case 268435456:l=Ki;break;default:l=gi}return h=Ib.bind(null,i),l=ni(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Nn(h),i.callbackPriority=2,i.callbackNode=null,2}function Ib(i,r){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(td()&&i.callbackNode!==l)return null;var h=ve;return h=_s(i,i===He?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(hb(i,h,r),Cb(i,xn()),i.callbackNode!=null&&i.callbackNode===l?Ib.bind(null,i):null)}function Pb(i,r){if(td())return null;hb(i,r,!0)}function WI(){nP(function(){(Pe&6)!==0?ni(dr,GI):Rb()})}function wg(){return El===0&&(El=mr()),El}function Lb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Tr(""+i)}function Mb(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function ZI(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var v=Lb((g[le]||null).action),C=h.submitter;C&&(r=(r=C[le]||null)?Lb(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var P=new Jr("action","action",null,h,g);i.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(El!==0){var B=C?Mb(g,C):new FormData(g);Hp(l,{pending:!0,data:B,method:g.method,action:v},null,B)}}else typeof v=="function"&&(P.preventDefault(),B=C?Mb(g,C):new FormData(g),Hp(l,{pending:!0,data:B,method:g.method,action:v},v,B))},currentTarget:g}]})}}for(var Sg=0;Sg<sa.length;Sg++){var xg=sa[Sg],KI=xg.toLowerCase(),YI=xg[0].toUpperCase()+xg.slice(1);ls(KI,"on"+YI)}ls(Tf,"onAnimationEnd"),ls(os,"onAnimationIteration"),ls(ll,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(_p,"onTransitionRun"),ls(Jl,"onTransitionStart"),ls(vp,"onTransitionCancel"),ls(yc,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$I=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function Db(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var C=h.length-1;0<=C;C--){var P=h[C],B=P.instance,nt=P.currentTarget;if(P=P.listener,B!==v&&g.isPropagationStopped())break t;v=P,g.currentTarget=nt;try{v(g)}catch(ht){Hf(ht)}g.currentTarget=null,v=B}else for(C=0;C<h.length;C++){if(P=h[C],B=P.instance,nt=P.currentTarget,P=P.listener,B!==v&&g.isPropagationStopped())break t;v=P,g.currentTarget=nt;try{v(g)}catch(ht){Hf(ht)}g.currentTarget=null,v=B}}}}function ce(i,r){var l=r[Ue];l===void 0&&(l=r[Ue]=new Set);var h=i+"__bubble";l.has(h)||(Nb(r,i,2,!1),l.add(h))}function Ag(i,r,l){var h=0;r&&(h|=4),Nb(l,i,h,r)}var id="_reactListening"+Math.random().toString(36).slice(2);function Rg(i){if(!i[id]){i[id]=!0,$o.forEach(function(l){l!=="selectionchange"&&($I.has(l)||Ag(l,!1,i),Ag(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[id]||(r[id]=!0,Ag("selectionchange",!1,r))}}function Nb(i,r,l,h){switch(sE(r)){case 2:var g=wP;break;case 8:g=SP;break;default:g=Bg}l=g.bind(null,r,l,i),g=void 0,!ri||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Cg(i,r,l,h,g){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var P=h.stateNode.containerInfo;if(P===g)break;if(C===4)for(C=h.return;C!==null;){var B=C.tag;if((B===3||B===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;P!==null;){if(C=si(P),C===null)return;if(B=C.tag,B===5||B===6||B===26||B===27){h=v=C;continue t}P=P.parentNode}}h=h.return}Ti(function(){var nt=v,ht=Kn(l),gt=[];t:{var rt=bf.get(i);if(rt!==void 0){var at=Jr,Wt=i;switch(i){case"keypress":if(De(l)===0)break t;case"keydown":case"keyup":at=Ba;break;case"focusin":Wt="focus",at=ka;break;case"focusout":Wt="blur",at=ka;break;case"beforeblur":case"afterblur":at=ka;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Gl;break;case Tf:case os:case ll:at=ja;break;case yc:at=Wl;break;case"scroll":case"scrollend":at=Hl;break;case"wheel":at=na;break;case"copy":case"cut":case"paste":at=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Fa;break;case"toggle":case"beforetoggle":at=Is}var Bt=(r&4)!==0,ke=!Bt&&(i==="scroll"||i==="scrollend"),X=Bt?rt!==null?rt+"Capture":null:rt;Bt=[];for(var Y=nt,tt;Y!==null;){var pt=Y;if(tt=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||tt===null||X===null||(pt=_e(Y,X),pt!=null&&Bt.push(Hc(Y,pt,tt))),ke)break;Y=Y.return}0<Bt.length&&(rt=new at(rt,Wt,null,l,ht),gt.push({event:rt,listeners:Bt}))}}if((r&7)===0){t:{if(rt=i==="mouseover"||i==="pointerover",at=i==="mouseout"||i==="pointerout",rt&&l!==ns&&(Wt=l.relatedTarget||l.fromElement)&&(si(Wt)||Wt[ge]))break t;if((at||rt)&&(rt=ht.window===ht?ht:(rt=ht.ownerDocument)?rt.defaultView||rt.parentWindow:window,at?(Wt=l.relatedTarget||l.toElement,at=nt,Wt=Wt?si(Wt):null,Wt!==null&&(ke=u(Wt),Bt=Wt.tag,Wt!==ke||Bt!==5&&Bt!==27&&Bt!==6)&&(Wt=null)):(at=null,Wt=nt),at!==Wt)){if(Bt=Un,pt="onMouseLeave",X="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Bt=Fa,pt="onPointerLeave",X="onPointerEnter",Y="pointer"),ke=at==null?rt:Wn(at),tt=Wt==null?rt:Wn(Wt),rt=new Bt(pt,Y+"leave",at,l,ht),rt.target=ke,rt.relatedTarget=tt,pt=null,si(ht)===nt&&(Bt=new Bt(X,Y+"enter",Wt,l,ht),Bt.target=tt,Bt.relatedTarget=ke,pt=Bt),ke=pt,at&&Wt)e:{for(Bt=at,X=Wt,Y=0,tt=Bt;tt;tt=Tu(tt))Y++;for(tt=0,pt=X;pt;pt=Tu(pt))tt++;for(;0<Y-tt;)Bt=Tu(Bt),Y--;for(;0<tt-Y;)X=Tu(X),tt--;for(;Y--;){if(Bt===X||X!==null&&Bt===X.alternate)break e;Bt=Tu(Bt),X=Tu(X)}Bt=null}else Bt=null;at!==null&&Ob(gt,rt,at,Bt,!1),Wt!==null&&ke!==null&&Ob(gt,ke,Wt,Bt,!0)}}t:{if(rt=nt?Wn(nt):window,at=rt.nodeName&&rt.nodeName.toLowerCase(),at==="select"||at==="input"&&rt.type==="file")var Nt=qa;else if(Be(rt))if(dc)Nt=yp;else{Nt=gp;var ae=pc}else at=rt.nodeName,!at||at.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?nt&&Qr(nt.elementType)&&(Nt=qa):Nt=tr;if(Nt&&(Nt=Nt(i,nt))){Qs(gt,Nt,l,ht);break t}ae&&ae(i,rt,nt),i==="focusout"&&nt&&rt.type==="number"&&nt.memoizedProps.value!=null&&ts(rt,"number",rt.value)}switch(ae=nt?Wn(nt):window,i){case"focusin":(Be(ae)||ae.contentEditable==="true")&&(as=ae,Za=nt,ia=null);break;case"focusout":ia=Za=as=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,_f(gt,l,ht);break;case"selectionchange":if($l)break;case"keydown":case"keyup":_f(gt,l,ht)}var Vt;if(li)t:{switch(i){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else he?lt(i,l)&&(Ft="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ft="onCompositionStart");Ft&&(R&&l.locale!=="ko"&&(he||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&he&&(Vt=Ks()):(ki=ht,ai="value"in ki?ki.value:ki.textContent,he=!0)),ae=sd(nt,Ft),0<ae.length&&(Ft=new oi(Ft,i,null,l,ht),gt.push({event:Ft,listeners:ae}),Vt?Ft.data=Vt:(Vt=Et(l),Vt!==null&&(Ft.data=Vt)))),(Vt=w?rn(i,l):fe(i,l))&&(Ft=sd(nt,"onBeforeInput"),0<Ft.length&&(ae=new oi("onBeforeInput","beforeinput",null,l,ht),gt.push({event:ae,listeners:Ft}),ae.data=Vt)),ZI(gt,i,nt,l,ht)}Db(gt,r)})}function Hc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function sd(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=_e(i,l),g!=null&&h.unshift(Hc(i,g,v)),g=_e(i,r),g!=null&&h.push(Hc(i,g,v))),i.tag===3)return h;i=i.return}return[]}function Tu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ob(i,r,l,h,g){for(var v=r._reactName,C=[];l!==null&&l!==h;){var P=l,B=P.alternate,nt=P.stateNode;if(P=P.tag,B!==null&&B===h)break;P!==5&&P!==26&&P!==27||nt===null||(B=nt,g?(nt=_e(l,v),nt!=null&&C.unshift(Hc(l,nt,B))):g||(nt=_e(l,v),nt!=null&&C.push(Hc(l,nt,B)))),l=l.return}C.length!==0&&i.push({event:r,listeners:C})}var XI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function kb(i){return(typeof i=="string"?i:""+i).replace(XI,`
`).replace(QI,"")}function Vb(i,r){return r=kb(r),kb(i)===r}function rd(){}function Oe(i,r,l,h,g,v){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Vn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Vn(i,""+h);break;case"className":ws(i,"class",h);break;case"tabIndex":ws(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(i,l,h);break;case"style":Ws(i,h,v);break;case"data":if(r!=="object"){ws(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Tr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Oe(i,r,"name",g.name,g,null),Oe(i,r,"formEncType",g.formEncType,g,null),Oe(i,r,"formMethod",g.formMethod,g,null),Oe(i,r,"formTarget",g.formTarget,g,null)):(Oe(i,r,"encType",g.encType,g,null),Oe(i,r,"method",g.method,g,null),Oe(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Tr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=rd);break;case"onScroll":h!=null&&ce("scroll",i);break;case"onScrollEnd":h!=null&&ce("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Tr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ce("beforetoggle",i),ce("toggle",i),gr(i,"popover",h);break;case"xlinkActuate":Rn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Rn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Rn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Rn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Rn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Rn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Rn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Rn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Rn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":gr(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qo.get(l)||l,gr(i,l,h))}}function Ig(i,r,l,h,g,v){switch(l){case"style":Ws(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Vn(i,h):(typeof h=="number"||typeof h=="bigint")&&Vn(i,""+h);break;case"onScroll":h!=null&&ce("scroll",i);break;case"onScrollEnd":h!=null&&ce("scrollend",i);break;case"onClick":h!=null&&(i.onclick=rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),v=i[le]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):gr(i,l,h)}}}function Xn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",i),ce("load",i);var h=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Oe(i,r,v,C,l,null)}}g&&Oe(i,r,"srcSet",l.srcSet,l,null),h&&Oe(i,r,"src",l.src,l,null);return;case"input":ce("invalid",i);var P=v=C=g=null,B=null,nt=null;for(h in l)if(l.hasOwnProperty(h)){var ht=l[h];if(ht!=null)switch(h){case"name":g=ht;break;case"type":C=ht;break;case"checked":B=ht;break;case"defaultChecked":nt=ht;break;case"value":v=ht;break;case"defaultValue":P=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,r));break;default:Oe(i,r,h,ht,l,null)}}Xr(i,v,P,B,nt,C,g,!1),vr(i);return;case"select":ce("invalid",i),h=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(P=l[g],P!=null))switch(g){case"value":v=P;break;case"defaultValue":C=P;break;case"multiple":h=P;default:Oe(i,r,g,P,l,null)}r=v,l=C,i.multiple=!!h,r!=null?Zn(i,!!h,r,!1):l!=null&&Zn(i,!!h,l,!0);return;case"textarea":ce("invalid",i),v=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(P=l[C],P!=null))switch(C){case"value":h=P;break;case"defaultValue":g=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:Oe(i,r,C,P,l,null)}vi(i,h,g,v),vr(i);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(h=l[B],h!=null))switch(B){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Oe(i,r,B,h,l,null)}return;case"dialog":ce("beforetoggle",i),ce("toggle",i),ce("cancel",i),ce("close",i);break;case"iframe":case"object":ce("load",i);break;case"video":case"audio":for(h=0;h<Fc.length;h++)ce(Fc[h],i);break;case"image":ce("error",i),ce("load",i);break;case"details":ce("toggle",i);break;case"embed":case"source":case"link":ce("error",i),ce("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in l)if(l.hasOwnProperty(nt)&&(h=l[nt],h!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Oe(i,r,nt,h,l,null)}return;default:if(Qr(r)){for(ht in l)l.hasOwnProperty(ht)&&(h=l[ht],h!==void 0&&Ig(i,r,ht,h,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(h=l[P],h!=null&&Oe(i,r,P,h,l,null))}function JI(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,P=null,B=null,nt=null,ht=null;for(at in l){var gt=l[at];if(l.hasOwnProperty(at)&&gt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":B=gt;default:h.hasOwnProperty(at)||Oe(i,r,at,null,h,gt)}}for(var rt in h){var at=h[rt];if(gt=l[rt],h.hasOwnProperty(rt)&&(at!=null||gt!=null))switch(rt){case"type":v=at;break;case"name":g=at;break;case"checked":nt=at;break;case"defaultChecked":ht=at;break;case"value":C=at;break;case"defaultValue":P=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,r));break;default:at!==gt&&Oe(i,r,rt,at,h,gt)}}ze(i,C,P,B,nt,ht,v,g);return;case"select":at=C=P=rt=null;for(v in l)if(B=l[v],l.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":at=B;default:h.hasOwnProperty(v)||Oe(i,r,v,null,h,B)}for(g in h)if(v=h[g],B=l[g],h.hasOwnProperty(g)&&(v!=null||B!=null))switch(g){case"value":rt=v;break;case"defaultValue":P=v;break;case"multiple":C=v;default:v!==B&&Oe(i,r,g,v,h,B)}r=P,l=C,h=at,rt!=null?Zn(i,!!l,rt,!1):!!h!=!!l&&(r!=null?Zn(i,!!l,r,!0):Zn(i,!!l,l?[]:"",!1));return;case"textarea":at=rt=null;for(P in l)if(g=l[P],l.hasOwnProperty(P)&&g!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Oe(i,r,P,null,h,g)}for(C in h)if(g=h[C],v=l[C],h.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":rt=g;break;case"defaultValue":at=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&Oe(i,r,C,g,h,v)}Ht(i,rt,at);return;case"option":for(var Wt in l)if(rt=l[Wt],l.hasOwnProperty(Wt)&&rt!=null&&!h.hasOwnProperty(Wt))switch(Wt){case"selected":i.selected=!1;break;default:Oe(i,r,Wt,null,h,rt)}for(B in h)if(rt=h[B],at=l[B],h.hasOwnProperty(B)&&rt!==at&&(rt!=null||at!=null))switch(B){case"selected":i.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:Oe(i,r,B,rt,h,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in l)rt=l[Bt],l.hasOwnProperty(Bt)&&rt!=null&&!h.hasOwnProperty(Bt)&&Oe(i,r,Bt,null,h,rt);for(nt in h)if(rt=h[nt],at=l[nt],h.hasOwnProperty(nt)&&rt!==at&&(rt!=null||at!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,r));break;default:Oe(i,r,nt,rt,h,at)}return;default:if(Qr(r)){for(var ke in l)rt=l[ke],l.hasOwnProperty(ke)&&rt!==void 0&&!h.hasOwnProperty(ke)&&Ig(i,r,ke,void 0,h,rt);for(ht in h)rt=h[ht],at=l[ht],!h.hasOwnProperty(ht)||rt===at||rt===void 0&&at===void 0||Ig(i,r,ht,rt,h,at);return}}for(var X in l)rt=l[X],l.hasOwnProperty(X)&&rt!=null&&!h.hasOwnProperty(X)&&Oe(i,r,X,null,h,rt);for(gt in h)rt=h[gt],at=l[gt],!h.hasOwnProperty(gt)||rt===at||rt==null&&at==null||Oe(i,r,gt,rt,h,at)}var Pg=null,Lg=null;function ad(i){return i.nodeType===9?i:i.ownerDocument}function jb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ub(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Mg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dg=null;function tP(){var i=window.event;return i&&i.type==="popstate"?i===Dg?!1:(Dg=i,!0):(Dg=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,eP=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,nP=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(i){return Bb.resolve(null).then(i).catch(iP)}:zb;function iP(i){setTimeout(function(){throw i})}function po(i){return i==="head"}function Fb(i,r){var l=r,h=0,g=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&qc(C.documentElement),l&2&&qc(C.body),l&4)for(l=C.head,qc(l),C=l.firstChild;C;){var P=C.nextSibling,B=C.nodeName;C[ii]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=P}}if(g===0){i.removeChild(v),Qc(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=v}while(l);Qc(r)}function Ng(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ng(l),bs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function sP(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ii])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=sr(i.nextSibling),i===null)break}return null}function rP(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=sr(i.nextSibling),i===null))return null;return i}function Og(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function aP(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function sr(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var kg=null;function Hb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function qb(i,r,l){switch(r=ad(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function qc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);bs(i)}var Vs=new Map,Gb=new Set;function od(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ga=mt.d;mt.d={f:oP,r:lP,D:uP,C:cP,L:hP,m:fP,X:mP,S:dP,M:pP};function oP(){var i=ga.f(),r=Qf();return i||r}function lP(i){var r=Qi(i);r!==null&&r.tag===5&&r.type==="form"?hT(r):ga.r(i)}var bu=typeof document>"u"?null:document;function Wb(i,r,l){var h=bu;if(h&&typeof r=="string"&&r){var g=We(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Gb.has(g)||(Gb.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Xn(r,"link",i),Qe(r),h.head.appendChild(r)))}}function uP(i){ga.D(i),Wb("dns-prefetch",i,null)}function cP(i,r){ga.C(i,r),Wb("preconnect",i,r)}function hP(i,r,l){ga.L(i,r,l);var h=bu;if(h&&i&&r){var g='link[rel="preload"][as="'+We(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+We(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+We(l.imageSizes)+'"]')):g+='[href="'+We(i)+'"]';var v=g;switch(r){case"style":v=Eu(i);break;case"script":v=wu(i)}Vs.has(v)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Vs.set(v,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Gc(v))||r==="script"&&h.querySelector(Wc(v))||(r=h.createElement("link"),Xn(r,"link",i),Qe(r),h.head.appendChild(r)))}}function fP(i,r){ga.m(i,r);var l=bu;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+We(h)+'"][href="'+We(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=wu(i)}if(!Vs.has(v)&&(i=E({rel:"modulepreload",href:i},r),Vs.set(v,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wc(v)))return}h=l.createElement("link"),Xn(h,"link",i),Qe(h),l.head.appendChild(h)}}}function dP(i,r,l){ga.S(i,r,l);var h=bu;if(h&&i){var g=kn(h).hoistableStyles,v=Eu(i);r=r||"default";var C=g.get(v);if(!C){var P={loading:0,preload:null};if(C=h.querySelector(Gc(v)))P.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Vs.get(v))&&Vg(i,l);var B=C=h.createElement("link");Qe(B),Xn(B,"link",i),B._p=new Promise(function(nt,ht){B.onload=nt,B.onerror=ht}),B.addEventListener("load",function(){P.loading|=1}),B.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ld(C,r,h)}C={type:"stylesheet",instance:C,count:1,state:P},g.set(v,C)}}}function mP(i,r){ga.X(i,r);var l=bu;if(l&&i){var h=kn(l).hoistableScripts,g=wu(i),v=h.get(g);v||(v=l.querySelector(Wc(g)),v||(i=E({src:i,async:!0},r),(r=Vs.get(g))&&jg(i,r),v=l.createElement("script"),Qe(v),Xn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function pP(i,r){ga.M(i,r);var l=bu;if(l&&i){var h=kn(l).hoistableScripts,g=wu(i),v=h.get(g);v||(v=l.querySelector(Wc(g)),v||(i=E({src:i,async:!0,type:"module"},r),(r=Vs.get(g))&&jg(i,r),v=l.createElement("script"),Qe(v),Xn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function Zb(i,r,l,h){var g=(g=St.current)?od(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Eu(l.href),l=kn(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Eu(l.href);var v=kn(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(Gc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),Vs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Vs.set(i,l),v||gP(g,i,l,C.state))),r&&h===null)throw Error(s(528,""));return C}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wu(l),l=kn(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Eu(i){return'href="'+We(i)+'"'}function Gc(i){return'link[rel="stylesheet"]['+i+"]"}function Kb(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function gP(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Xn(r,"link",l),Qe(r),i.head.appendChild(r))}function wu(i){return'[src="'+We(i)+'"]'}function Wc(i){return"script[async]"+i}function Yb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+We(l.href)+'"]');if(h)return r.instance=h,Qe(h),h;var g=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Qe(h),Xn(h,"style",g),ld(h,l.precedence,i),r.instance=h;case"stylesheet":g=Eu(l.href);var v=i.querySelector(Gc(g));if(v)return r.state.loading|=4,r.instance=v,Qe(v),v;h=Kb(l),(g=Vs.get(g))&&Vg(h,g),v=(i.ownerDocument||i).createElement("link"),Qe(v);var C=v;return C._p=new Promise(function(P,B){C.onload=P,C.onerror=B}),Xn(v,"link",h),r.state.loading|=4,ld(v,l.precedence,i),r.instance=v;case"script":return v=wu(l.src),(g=i.querySelector(Wc(v)))?(r.instance=g,Qe(g),g):(h=l,(g=Vs.get(v))&&(h=E({},l),jg(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Qe(g),Xn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,ld(h,l.precedence,i));return r.instance}function ld(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,C=0;C<h.length;C++){var P=h[C];if(P.dataset.precedence===r)v=P;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Vg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function jg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ud=null;function $b(i,r,l){if(ud===null){var h=new Map,g=ud=new Map;g.set(l,h)}else g=ud,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[ii]||v[Jt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var P=h.get(C);P?P.push(v):h.set(C,[v])}}return h}function Xb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function yP(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Zc=null;function _P(){}function vP(i,r,l){if(Zc===null)throw Error(s(475));var h=Zc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Eu(l.href),v=i.querySelector(Gc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=cd.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=v,Qe(v);return}v=i.ownerDocument||i,l=Kb(l),(g=Vs.get(g))&&Vg(l,g),v=v.createElement("link"),Qe(v);var C=v;C._p=new Promise(function(P,B){C.onload=P,C.onerror=B}),Xn(v,"link",l),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=cd.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function TP(){if(Zc===null)throw Error(s(475));var i=Zc;return i.stylesheets&&i.count===0&&Ug(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&Ug(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hd=null;function Ug(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hd=new Map,r.forEach(bP,i),hd=null,cd.call(i))}function bP(i,r){if(!(r.state.loading&4)){var l=hd.get(i);if(l)var h=l.get(null);else{l=new Map,hd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=r.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||h,v===h&&l.set(null,g),l.set(C,g),this.count++,h=cd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Kc={$$typeof:$,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function EP(i,r,l,h,g,v,C,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Jb(i,r,l,h,g,v,C,P,B,nt,ht,gt){return i=new EP(i,r,l,C,P,B,nt,gt),r=1,v===!0&&(r|=24),v=xi(3,null,null,r),i.current=v,v.stateNode=i,r=Tp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:r},Sp(v),i}function tE(i){return i?(i=oa,i):oa}function eE(i,r,l,h,g,v){g=tE(g),h.context===null?h.context=g:h.pendingContext=g,h=eo(r),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=no(i,h,r),l!==null&&(ms(l,i,r),Sc(l,i,r))}function nE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function zg(i,r){nE(i,r),(i=i.alternate)&&nE(i,r)}function iE(i){if(i.tag===13){var r=$a(i,67108864);r!==null&&ms(r,i,67108864),zg(i,67108864)}}var fd=!0;function wP(i,r,l,h){var g=it.T;it.T=null;var v=mt.p;try{mt.p=2,Bg(i,r,l,h)}finally{mt.p=v,it.T=g}}function SP(i,r,l,h){var g=it.T;it.T=null;var v=mt.p;try{mt.p=8,Bg(i,r,l,h)}finally{mt.p=v,it.T=g}}function Bg(i,r,l,h){if(fd){var g=Fg(h);if(g===null)Cg(i,r,h,dd,l),rE(i,h);else if(AP(g,i,r,l,h))h.stopPropagation();else if(rE(i,h),r&4&&-1<xP.indexOf(i)){for(;g!==null;){var v=Qi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=pn(v.pendingLanes);if(C!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var B=1<<31-Ke(C);P.entanglements[1]|=B,C&=~B}Pr(v),(Pe&6)===0&&($f=xn()+500,Bc(0))}}break;case 13:P=$a(v,2),P!==null&&ms(P,v,2),Qf(),zg(v,2)}if(v=Fg(h),v===null&&Cg(i,r,h,dd,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Cg(i,r,h,null,l)}}function Fg(i){return i=Kn(i),Hg(i)}var dd=null;function Hg(i){if(dd=null,i=si(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return dd=i,null}function sE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case dr:return 2;case Ge:return 8;case gi:case Ci:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var qg=!1,go=null,yo=null,_o=null,Yc=new Map,$c=new Map,vo=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rE(i,r){switch(i){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Yc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(r.pointerId)}}function Xc(i,r,l,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},r!==null&&(r=Qi(r),r!==null&&iE(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function AP(i,r,l,h,g){switch(r){case"focusin":return go=Xc(go,i,r,l,h,g),!0;case"dragenter":return yo=Xc(yo,i,r,l,h,g),!0;case"mouseover":return _o=Xc(_o,i,r,l,h,g),!0;case"pointerover":var v=g.pointerId;return Yc.set(v,Xc(Yc.get(v)||null,i,r,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,$c.set(v,Xc($c.get(v)||null,i,r,l,h,g)),!0}return!1}function aE(i){var r=si(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,Ut(i.priority,function(){if(l.tag===13){var h=ds();h=vs(h);var g=$a(l,h);g!==null&&ms(g,l,h),zg(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function md(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Fg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ns=h,l.target.dispatchEvent(h),ns=null}else return r=Qi(l),r!==null&&iE(r),i.blockedOn=l,!1;r.shift()}return!0}function oE(i,r,l){md(i)&&l.delete(r)}function RP(){qg=!1,go!==null&&md(go)&&(go=null),yo!==null&&md(yo)&&(yo=null),_o!==null&&md(_o)&&(_o=null),Yc.forEach(oE),$c.forEach(oE)}function pd(i,r){i.blockedOn===r&&(i.blockedOn=null,qg||(qg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RP)))}var gd=null;function lE(i){gd!==i&&(gd=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gd===i&&(gd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(Hg(h||l)===null)continue;break}var v=Qi(l);v!==null&&(i.splice(r,3),r-=3,Hp(v,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Qc(i){function r(B){return pd(B,i)}go!==null&&pd(go,i),yo!==null&&pd(yo,i),_o!==null&&pd(_o,i),Yc.forEach(r),$c.forEach(r);for(var l=0;l<vo.length;l++){var h=vo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<vo.length&&(l=vo[0],l.blockedOn===null);)aE(l),l.blockedOn===null&&vo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],v=l[h+1],C=g[le]||null;if(typeof v=="function")C||lE(l);else if(C){var P=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[le]||null)P=C.formAction;else if(Hg(g)!==null)continue}else P=C.action;typeof P=="function"?l[h+1]=P:(l.splice(h,3),h-=3),lE(l)}}}function Gg(i){this._internalRoot=i}yd.prototype.render=Gg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=ds();eE(l,h,i,r,null,null)},yd.prototype.unmount=Gg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;eE(i.current,2,null,i,null,null),Qf(),r[ge]=null}};function yd(i){this._internalRoot=i}yd.prototype.unstable_scheduleHydration=function(i){if(i){var r=It();i={blockedOn:null,target:i,priority:r};for(var l=0;l<vo.length&&r!==0&&r<vo[l].priority;l++);vo.splice(l,0,i),l===0&&aE(i)}};var uE=t.version;if(uE!=="19.1.0")throw Error(s(527,uE,"19.1.0"));mt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var CP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{Ee=_d.inject(CP),oe=_d}catch{}}return th.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=xT,v=AT,C=RT,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=Jb(i,1,!1,null,null,l,h,g,v,C,P,null),i[ge]=r.current,Rg(i),new Gg(r)},th.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",v=xT,C=AT,P=RT,B=null,nt=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(nt=l.formState)),r=Jb(i,1,!0,r,l??null,h,g,v,C,P,B,nt),r.context=tE(null),l=r.current,h=ds(),h=vs(h),g=eo(h),g.callback=null,no(l,g,h),l=h,r.current.lanes=l,Mi(r,l),Pr(r),i[ge]=r.current,Rg(i),new yd(r)},th.version="19.1.0",th}var vE;function VP(){if(vE)return Kg.exports;vE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kg.exports=kP(),Kg.exports}var jP=VP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function UP(e={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Py("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ch(o)}return BP(t,n,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zP(){return Math.random().toString(36).substring(2,10)}function bE(e,t){return{usr:e.state,key:e.key,idx:t}}function Py(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xu(t):t,state:n,key:t&&t.key||s||zP()}}function Ch({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function BP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,_=E();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=E(),W=q==null?null:q-_;_=q,y&&y({action:m,location:F.location,delta:W})}function S(q,W){m="PUSH";let et=Py(F.location,q,W);_=E()+1;let $=bE(et,_),Tt=F.createHref(et);try{f.pushState($,"",Tt)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;o.location.assign(Tt)}u&&y&&y({action:m,location:F.location,delta:1})}function M(q,W){m="REPLACE";let et=Py(F.location,q,W);_=E();let $=bE(et,_),Tt=F.createHref(et);f.replaceState($,"",Tt),u&&y&&y({action:m,location:F.location,delta:0})}function k(q){return FP(q)}let F={get action(){return m},get location(){return e(o,f)},listen(q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(TE,A),y=q,()=>{o.removeEventListener(TE,A),y=null}},createHref(q){return t(o,q)},createURL:k,encodeLocation(q){let W=k(q);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:M,go(q){return f.go(q)}};return F}function FP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ch(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Dx(e,t,n="/"){return HP(e,t,n,!1)}function HP(e,t,n,s){let o=typeof t=="string"?Xu(t):t,u=Sa(o.pathname||"/",n);if(u==null)return null;let f=Nx(e);qP(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=e2(u);m=JP(f[y],_,s)}return m}function Nx(e,t=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(Xe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=Ta([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Nx(u.children,t,E,_)),!(u.path==null&&!u.index)&&t.push({path:_,score:XP(_,u.index),routesMeta:E})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of Ox(u.path))o(u,f,m)}),t}function Ox(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Ox(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function qP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var GP=/^:[\w-]+$/,WP=3,ZP=2,KP=1,YP=10,$P=-2,EE=e=>e==="*";function XP(e,t){let n=e.split("/"),s=n.length;return n.some(EE)&&(s+=$P),t&&(s+=ZP),n.filter(o=>!EE(o)).reduce((o,u)=>o+(GP.test(u)?WP:u===""?KP:YP),s)}function QP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function JP(e,t,n=!1){let{routesMeta:s}=e,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=nm({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},E),S=y.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=nm({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Ta([u,A.pathname]),pathnameBase:r2(Ta([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Ta([u,A.pathnameBase]))}return f}function nm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=t2(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:A},S)=>{if(E==="*"){let k=m[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const M=m[S];return A&&!M?_[E]=void 0:_[E]=(M||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:e}}function t2(e,t=!1,n=!0){Fs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function e2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function n2(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Xu(e):e;return{pathname:n?n.startsWith("/")?n:i2(n,t):t,search:a2(s),hash:o2(o)}}function i2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function C_(e){let t=s2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function I_(e,t,n,s=!1){let o;typeof e=="string"?o=Xu(e):(o={...e},Xe(!o.pathname||!o.pathname.includes("?"),Qg("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Qg("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Qg("#","search","hash",o)));let u=e===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?t[A]:"/"}let y=n2(o,m),_=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||E)&&(y.pathname+="/"),y}var Ta=e=>e.join("/").replace(/\/\/+/g,"/"),r2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var kx=["POST","PUT","PATCH","DELETE"];new Set(kx);var u2=["GET",...kx];new Set(u2);var Qu=N.createContext(null);Qu.displayName="DataRouter";var Lm=N.createContext(null);Lm.displayName="DataRouterState";N.createContext(!1);var Vx=N.createContext({isTransitioning:!1});Vx.displayName="ViewTransition";var c2=N.createContext(new Map);c2.displayName="Fetchers";var h2=N.createContext(null);h2.displayName="Await";var fr=N.createContext(null);fr.displayName="Navigation";var Kh=N.createContext(null);Kh.displayName="Location";var Hr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var P_=N.createContext(null);P_.displayName="RouteError";function f2(e,{relative:t}={}){Xe(Ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(fr),{hash:o,pathname:u,search:f}=Yh(e,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ta([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ju(){return N.useContext(Kh)!=null}function qs(){return Xe(Ju(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Kh).location}var jx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ux(e){N.useContext(fr).static||N.useLayoutEffect(e)}function Fo(){let{isDataRoute:e}=N.useContext(Hr);return e?x2():d2()}function d2(){Xe(Ju(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Qu),{basename:t,navigator:n}=N.useContext(fr),{matches:s}=N.useContext(Hr),{pathname:o}=qs(),u=JSON.stringify(C_(s)),f=N.useRef(!1);return Ux(()=>{f.current=!0}),N.useCallback((y,_={})=>{if(Fs(f.current,jx),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=I_(y,JSON.parse(u),o,_.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ta([t,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[t,n,u,o,e])}N.createContext(null);function Yh(e,{relative:t}={}){let{matches:n}=N.useContext(Hr),{pathname:s}=qs(),o=JSON.stringify(C_(n));return N.useMemo(()=>I_(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function m2(e,t){return zx(e,t)}function zx(e,t,n,s){Xe(Ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(fr),{matches:u}=N.useContext(Hr),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let W=E&&E.path||"";Bx(y,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=qs(),S;if(t){let W=typeof t=="string"?Xu(t):t;Xe(_==="/"||W.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),S=W}else S=A;let M=S.pathname||"/",k=M;if(_!=="/"){let W=_.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(W.length).join("/")}let F=Dx(e,{pathname:k});Fs(E||F!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Fs(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=v2(F&&F.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:Ta([_,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:Ta([_,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s);return t&&q?N.createElement(Kh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},q):q}function p2(){let e=S2(),t=l2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:o},n):null,f)}var g2=N.createElement(p2,null),y2=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Hr.Provider,{value:this.props.routeContext},N.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _2({routeContext:e,match:t,children:n}){let s=N.useContext(Qu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Hr.Provider,{value:e},n)}function v2(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Xe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:A}=n,S=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,_,E)=>{let A,S=!1,M=null,k=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||g2,f&&(m<0&&E===0?(Bx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===E&&(S=!0,k=_.route.hydrateFallbackElement||null)));let F=t.concat(o.slice(0,E+1)),q=()=>{let W;return A?W=M:S?W=k:_.route.Component?W=N.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=y,N.createElement(_2,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:W})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?N.createElement(y2,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):q()},null)}function L_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T2(e){let t=N.useContext(Qu);return Xe(t,L_(e)),t}function b2(e){let t=N.useContext(Lm);return Xe(t,L_(e)),t}function E2(e){let t=N.useContext(Hr);return Xe(t,L_(e)),t}function M_(e){let t=E2(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function w2(){return M_("useRouteId")}function S2(){let e=N.useContext(P_),t=b2("useRouteError"),n=M_("useRouteError");return e!==void 0?e:t.errors?.[n]}function x2(){let{router:e}=T2("useNavigate"),t=M_("useNavigate"),n=N.useRef(!1);return Ux(()=>{n.current=!0}),N.useCallback(async(o,u={})=>{Fs(n.current,jx),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var wE={};function Bx(e,t,n){!t&&!wE[e]&&(wE[e]=!0,Fs(!1,n))}N.memo(A2);function A2({routes:e,future:t,state:n}){return zx(e,void 0,n,t)}function Jg({to:e,replace:t,state:n,relative:s}){Xe(Ju(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(fr);Fs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Hr),{pathname:f}=qs(),m=Fo(),y=I_(e,C_(u),f,s==="path"),_=JSON.stringify(y);return N.useEffect(()=>{m(JSON.parse(_),{replace:t,state:n,relative:s})},[m,_,s,t,n]),null}function rr(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Xe(!Ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Xu(n));let{pathname:y="/",search:_="",hash:E="",state:A=null,key:S="default"}=n,M=N.useMemo(()=>{let k=Sa(y,f);return k==null?null:{location:{pathname:k,search:_,hash:E,state:A,key:S},navigationType:s}},[f,y,_,E,A,S,s]);return Fs(M!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:N.createElement(fr.Provider,{value:m},N.createElement(Kh.Provider,{children:t,value:M}))}function C2({children:e,location:t}){return m2(Ly(e),t)}function Ly(e,t=[]){let n=[];return N.Children.forEach(e,(s,o)=>{if(!N.isValidElement(s))return;let u=[...t,o];if(s.type===N.Fragment){n.push.apply(n,Ly(s.props.children,u));return}Xe(s.type===rr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ly(s.props.children,u)),n.push(f)}),n}var Od="get",kd="application/x-www-form-urlencoded";function Mm(e){return e!=null&&typeof e.tagName=="string"}function I2(e){return Mm(e)&&e.tagName.toLowerCase()==="button"}function P2(e){return Mm(e)&&e.tagName.toLowerCase()==="form"}function L2(e){return Mm(e)&&e.tagName.toLowerCase()==="input"}function M2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D2(e,t){return e.button===0&&(!t||t==="_self")&&!M2(e)}function My(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function N2(e,t){let n=My(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var vd=null;function O2(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var k2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ty(e){return e!=null&&!k2.has(e)?(Fs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):e}function V2(e,t){let n,s,o,u,f;if(P2(e)){let m=e.getAttribute("action");s=m?Sa(m,t):null,n=e.getAttribute("method")||Od,o=ty(e.getAttribute("enctype"))||kd,u=new FormData(e)}else if(I2(e)||L2(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(s=y?Sa(y,t):null,n=e.getAttribute("formmethod")||m.getAttribute("method")||Od,o=ty(e.getAttribute("formenctype"))||ty(m.getAttribute("enctype"))||kd,u=new FormData(m,e),!O2()){let{name:_,type:E,value:A}=e;if(E==="image"){let S=_?`${_}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else _&&u.append(_,A)}}else{if(Mm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Od,s=null,o=kd,f=e}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function j2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Sa(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function U2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function B2(e,t,n){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await U2(u,n);return f.links?f.links():[]}return[]}));return G2(s.flat(1).filter(z2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function SE(e,t,n,s,o,u){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,m=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,_)=>f(y,_)||m(y,_)):u==="data"?t.filter((y,_)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,_)||m(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function F2(e,t,{includeHydrateFallback:n}={}){return H2(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function H2(e){return[...new Set(e)]}function q2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function G2(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(q2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Fx(){let e=N.useContext(Qu);return D_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function W2(){let e=N.useContext(Lm);return D_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var N_=N.createContext(void 0);N_.displayName="FrameworkContext";function Hx(){let e=N.useContext(N_);return D_(e,"You must render this element inside a <HydratedRouter> element"),e}function Z2(e,t){let n=N.useContext(N_),[s,o]=N.useState(!1),[u,f]=N.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:_,onMouseLeave:E,onTouchStart:A}=t,S=N.useRef(null);N.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let F=W=>{W.forEach(et=>{f(et.isIntersecting)})},q=new IntersectionObserver(F,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[e]),N.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let M=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?e!=="intent"?[u,S,{}]:[u,S,{onFocus:eh(m,M),onBlur:eh(y,k),onMouseEnter:eh(_,M),onMouseLeave:eh(E,k),onTouchStart:eh(A,M)}]:[!1,S,{}]}function eh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function K2({page:e,...t}){let{router:n}=Fx(),s=N.useMemo(()=>Dx(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?N.createElement($2,{page:e,matches:s,...t}):null}function Y2(e){let{manifest:t,routeModules:n}=Hx(),[s,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return B2(e,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[e,t,n]),s}function $2({page:e,matches:t,...n}){let s=qs(),{manifest:o,routeModules:u}=Hx(),{basename:f}=Fx(),{loaderData:m,matches:y}=W2(),_=N.useMemo(()=>SE(e,t,y,o,s,"data"),[e,t,y,o,s]),E=N.useMemo(()=>SE(e,t,y,o,s,"assets"),[e,t,y,o,s]),A=N.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,F=!1;if(t.forEach(W=>{let et=o.routes[W.route.id];!et||!et.hasLoader||(!_.some($=>$.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||et.hasClientLoader?F=!0:k.add(W.route.id))}),k.size===0)return[];let q=j2(e,f,"data");return F&&k.size>0&&q.searchParams.set("_routes",t.filter(W=>k.has(W.route.id)).map(W=>W.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,t,e,u]),S=N.useMemo(()=>F2(E,o),[E,o]),M=Y2(E);return N.createElement(N.Fragment,null,A.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),M.map(({key:k,link:F})=>N.createElement("link",{key:k,...F})))}function X2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qx&&(window.__reactRouterVersion="7.7.0")}catch{}function Q2({basename:e,children:t,window:n}){let s=N.useRef();s.current==null&&(s.current=UP({window:n,v5Compat:!0}));let o=s.current,[u,f]=N.useState({action:o.action,location:o.location}),m=N.useCallback(y=>{N.startTransition(()=>f(y))},[f]);return N.useLayoutEffect(()=>o.listen(m),[o,m]),N.createElement(R2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var Gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ph=N.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:_,preventScrollReset:E,viewTransition:A,...S},M){let{basename:k}=N.useContext(fr),F=typeof _=="string"&&Gx.test(_),q,W=!1;if(typeof _=="string"&&F&&(q=_,qx))try{let U=new URL(window.location.href),G=_.startsWith("//")?new URL(U.protocol+_):new URL(_),K=Sa(G.pathname,k);G.origin===U.origin&&K!=null?_=K+G.search+G.hash:W=!0}catch{Fs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=f2(_,{relative:o}),[$,Tt,dt]=Z2(s,S),At=nL(_,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A});function Z(U){t&&t(U),U.defaultPrevented||At(U)}let O=N.createElement("a",{...S,...dt,href:q||et,onClick:W||u?t:Z,ref:X2(M,Tt),target:y,"data-discover":!F&&n==="render"?"true":void 0});return $&&!F?N.createElement(N.Fragment,null,O,N.createElement(K2,{page:et})):O});ph.displayName="Link";var J2=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,..._},E){let A=Yh(f,{relative:_.relative}),S=qs(),M=N.useContext(Lm),{navigator:k,basename:F}=N.useContext(fr),q=M!=null&&lL(A)&&m===!0,W=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,et=S.pathname,$=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(et=et.toLowerCase(),$=$?$.toLowerCase():null,W=W.toLowerCase()),$&&F&&($=Sa($,F)||$);const Tt=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let dt=et===W||!o&&et.startsWith(W)&&et.charAt(Tt)==="/",At=$!=null&&($===W||!o&&$.startsWith(W)&&$.charAt(W.length)==="/"),Z={isActive:dt,isPending:At,isTransitioning:q},O=dt?t:void 0,U;typeof s=="function"?U=s(Z):U=[s,dt?"active":null,At?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let G=typeof u=="function"?u(Z):u;return N.createElement(ph,{..._,"aria-current":O,className:U,ref:E,style:G,to:f,viewTransition:m},typeof y=="function"?y(Z):y)});J2.displayName="NavLink";var tL=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Od,action:m,onSubmit:y,relative:_,preventScrollReset:E,viewTransition:A,...S},M)=>{let k=aL(),F=oL(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&Gx.test(m),et=$=>{if(y&&y($),$.defaultPrevented)return;$.preventDefault();let Tt=$.nativeEvent.submitter,dt=Tt?.getAttribute("formmethod")||f;k(Tt||$.currentTarget,{fetcherKey:t,method:dt,navigate:n,replace:o,state:u,relative:_,preventScrollReset:E,viewTransition:A})};return N.createElement("form",{ref:M,method:q,action:F,onSubmit:s?y:et,...S,"data-discover":!W&&e==="render"?"true":void 0})});tL.displayName="Form";function eL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wx(e){let t=N.useContext(Qu);return Xe(t,eL(e)),t}function nL(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Fo(),y=qs(),_=Yh(e,{relative:u});return N.useCallback(E=>{if(D2(E,t)){E.preventDefault();let A=n!==void 0?n:Ch(y)===Ch(_);m(e,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,_,n,s,t,e,o,u,f])}function iL(e){Fs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(My(e)),n=N.useRef(!1),s=qs(),o=N.useMemo(()=>N2(s.search,n.current?null:t.current),[s.search]),u=Fo(),f=N.useCallback((m,y)=>{const _=My(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+_,y)},[u,o]);return[o,f]}var sL=0,rL=()=>`__${String(++sL)}__`;function aL(){let{router:e}=Wx("useSubmit"),{basename:t}=N.useContext(fr),n=w2();return N.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:_}=V2(s,t);if(o.navigate===!1){let E=o.fetcherKey||rL();await e.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function oL(e,{relative:t}={}){let{basename:n}=N.useContext(fr),s=N.useContext(Hr);Xe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Yh(e||".",{relative:t})},f=qs();if(e==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ta([n,u.pathname])),Ch(u)}function lL(e,t={}){let n=N.useContext(Vx);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Wx("useViewTransitionState"),o=Yh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Sa(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Sa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nm(o.pathname,f)!=null||nm(o.pathname,u)!=null}Mx();const uL="modulepreload",cL=function(e){return"/"+e},xE={},hL=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(_){return Promise.all(_.map(E=>Promise.resolve(E).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=y(n.map(_=>{if(_=cL(_),_ in xE)return;xE[_]=!0;const E=_.endsWith(".css"),A=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${A}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":uL,E||(S.as="script"),S.crossOrigin="",S.href=_,m&&S.setAttribute("nonce",m),document.head.appendChild(S),E)return new Promise((M,k)=>{S.addEventListener("load",M),S.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},fL=()=>{};var AE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},dL=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],f=e[n++],m=e[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,m=f?e[o+1]:0,y=o+2<e.length,_=y?e[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|_>>6,M=_&63;y||(M=64,f||(S=64)),s.push(n[E],n[A],n[S],n[M])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const _=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||_==null||A==null)throw new mL;const S=u<<2|m>>4;if(s.push(S),_!==64){const M=m<<4&240|_>>2;if(s.push(M),A!==64){const k=_<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pL=function(e){const t=Zx(e);return Kx.encodeByteArray(t,!0)},im=function(e){return pL(e).replace(/\./g,"")},Yx=function(e){try{return Kx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=()=>gL().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof AE>"u")return;const e=AE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Yx(e[1]);return t&&JSON.parse(t)},Dm=()=>{try{return fL()||yL()||_L()||vL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$x=e=>Dm()?.emulatorHosts?.[e],Xx=e=>{const t=$x(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Qx=()=>Dm()?.config,Jx=e=>Dm()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nm(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[im(JSON.stringify(n)),im(JSON.stringify(f)),""].join(".")}const gh={};function EL(){const e={prod:[],emulator:[]};for(const t of Object.keys(gh))gh[t]?e.emulator.push(t):e.prod.push(t);return e}function wL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let RE=!1;function O_(e,t){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||gh[e]===t||gh[e]||RE)return;gh[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=EL().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{RE=!0,f()},S}function E(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=wL(s),M=n("text"),k=document.getElementById(M)||document.createElement("span"),F=n("learnmore"),q=document.getElementById(F)||document.createElement("a"),W=n("preprendIcon"),et=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;m($),E(q,F);const Tt=_();y(et,W),$.append(et,k,q,Tt),document.body.appendChild($)}u?(k.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())}function xL(){const e=Dm()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function CL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IL(){const e=pi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function PL(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LL(){try{return typeof indexedDB=="object"}catch{return!1}}function ML(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="FirebaseError";class qr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=DL,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?NL(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new qr(o,m,s)}}function NL(e,t){return e.replace(OL,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const OL=/\{\$([^}]+)}/g;function kL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Do(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],f=t[o];if(CE(u)&&CE(f)){if(!Do(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function oh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function lh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function VL(e,t){const n=new jL(e,t);return n.subscribe.bind(n)}class jL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");UL(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=ey),o.error===void 0&&(o.error=ey),o.complete===void 0&&(o.complete=ey);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ey(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){return e&&e._delegate?e._delegate:e}class No{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new TL;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FL(t))try{this.getOrInitializeService({instanceIdentifier:Sl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Sl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sl){return this.instances.has(t)}getOptions(t=Sl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BL(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Sl){return this.component?this.component.multipleInstances?t:Sl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BL(e){return e===Sl?void 0:e}function FL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zL(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(de||(de={}));const qL={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},GL=de.INFO,WL={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},ZL=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=WL[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class k_{constructor(t){this.name=t,this._logLevel=GL,this._logHandler=ZL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}const KL=(e,t)=>t.some(n=>e instanceof n);let IE,PE;function YL(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $L(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tA=new WeakMap,Dy=new WeakMap,eA=new WeakMap,ny=new WeakMap,V_=new WeakMap;function XL(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(Co(e.result)),o()},f=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&tA.set(n,e)}).catch(()=>{}),V_.set(t,e),t}function QL(e){if(Dy.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});Dy.set(e,t)}let Ny={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Dy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function JL(e){Ny=e(Ny)}function tM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(iy(this),t,...n);return eA.set(s,t.sort?t.sort():[t]),Co(s)}:$L().includes(e)?function(...t){return e.apply(iy(this),t),Co(tA.get(this))}:function(...t){return Co(e.apply(iy(this),t))}}function eM(e){return typeof e=="function"?tM(e):(e instanceof IDBTransaction&&QL(e),KL(e,YL())?new Proxy(e,Ny):e)}function Co(e){if(e instanceof IDBRequest)return XL(e);if(ny.has(e))return ny.get(e);const t=eM(e);return t!==e&&(ny.set(e,t),V_.set(t,e)),t}const iy=e=>V_.get(e);function nM(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),m=Co(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Co(f.result),y.oldVersion,y.newVersion,Co(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const iM=["get","getKey","getAll","getAllKeys","count"],sM=["put","add","delete","clear"],sy=new Map;function LE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sy.get(t))return sy.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=sM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iM.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&y.done]))[0]};return sy.set(t,u),u}JL(e=>({...e,get:(t,n,s)=>LE(t,n)||e.get(t,n,s),has:(t,n)=>!!LE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aM(e){return e.getComponent()?.type==="VERSION"}const Oy="@firebase/app",ME="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new k_("@firebase/app"),oM="@firebase/app-compat",lM="@firebase/analytics-compat",uM="@firebase/analytics",cM="@firebase/app-check-compat",hM="@firebase/app-check",fM="@firebase/auth",dM="@firebase/auth-compat",mM="@firebase/database",pM="@firebase/data-connect",gM="@firebase/database-compat",yM="@firebase/functions",_M="@firebase/functions-compat",vM="@firebase/installations",TM="@firebase/installations-compat",bM="@firebase/messaging",EM="@firebase/messaging-compat",wM="@firebase/performance",SM="@firebase/performance-compat",xM="@firebase/remote-config",AM="@firebase/remote-config-compat",RM="@firebase/storage",CM="@firebase/storage-compat",IM="@firebase/firestore",PM="@firebase/ai",LM="@firebase/firestore-compat",MM="firebase",DM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="[DEFAULT]",NM={[Oy]:"fire-core",[oM]:"fire-core-compat",[uM]:"fire-analytics",[lM]:"fire-analytics-compat",[hM]:"fire-app-check",[cM]:"fire-app-check-compat",[fM]:"fire-auth",[dM]:"fire-auth-compat",[mM]:"fire-rtdb",[pM]:"fire-data-connect",[gM]:"fire-rtdb-compat",[yM]:"fire-fn",[_M]:"fire-fn-compat",[vM]:"fire-iid",[TM]:"fire-iid-compat",[bM]:"fire-fcm",[EM]:"fire-fcm-compat",[wM]:"fire-perf",[SM]:"fire-perf-compat",[xM]:"fire-rc",[AM]:"fire-rc-compat",[RM]:"fire-gcs",[CM]:"fire-gcs-compat",[IM]:"fire-fst",[LM]:"fire-fst-compat",[PM]:"fire-vertex","fire-js":"fire-js",[MM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map,OM=new Map,Vy=new Map;function DE(e,t){try{e.container.addComponent(t)}catch(n){xa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Nl(e){const t=e.name;if(Vy.has(t))return xa.debug(`There were multiple attempts to register component ${t}.`),!1;Vy.set(t,e);for(const n of sm.values())DE(n,e);for(const n of OM.values())DE(n,e);return!0}function Qh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new $h("app","Firebase",kM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=DM;function nA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:ky,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Io.create("bad-app-name",{appName:String(o)});if(n||(n=Qx()),!n)throw Io.create("no-options");const u=sm.get(o);if(u){if(Do(n,u.options)&&Do(s,u.config))return u;throw Io.create("duplicate-app",{appName:o})}const f=new HL(o);for(const y of Vy.values())f.addComponent(y);const m=new VM(n,s,f);return sm.set(o,m),m}function j_(e=ky){const t=sm.get(e);if(!t&&e===ky&&Qx())return nA();if(!t)throw Io.create("no-app",{appName:e});return t}function Mr(e,t,n){let s=NM[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xa.warn(f.join(" "));return}Nl(new No(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="firebase-heartbeat-database",UM=1,Ih="firebase-heartbeat-store";let ry=null;function iA(){return ry||(ry=nM(jM,UM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ih)}catch(n){console.warn(n)}}}}).catch(e=>{throw Io.create("idb-open",{originalErrorMessage:e.message})})),ry}async function zM(e){try{const n=(await iA()).transaction(Ih),s=await n.objectStore(Ih).get(sA(e));return await n.done,s}catch(t){if(t instanceof qr)xa.warn(t.message);else{const n=Io.create("idb-get",{originalErrorMessage:t?.message});xa.warn(n.message)}}}async function NE(e,t){try{const s=(await iA()).transaction(Ih,"readwrite");await s.objectStore(Ih).put(t,sA(e)),await s.done}catch(n){if(n instanceof qr)xa.warn(n.message);else{const s=Io.create("idb-set",{originalErrorMessage:n?.message});xa.warn(s.message)}}}function sA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=1024,FM=30;class HM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>FM){const o=WM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){xa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OE(),{heartbeatsToSend:n,unsentEntries:s}=qM(this._heartbeatsCache.heartbeats),o=im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return xa.warn(t),""}}}function OE(){return new Date().toISOString().substring(0,10)}function qM(e,t=BM){const n=[];let s=e.slice();for(const o of e){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LL()?ML().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return NE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return NE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function kE(e){return im(JSON.stringify({version:2,heartbeats:e})).length}function WM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(e){Nl(new No("platform-logger",t=>new rM(t),"PRIVATE")),Nl(new No("heartbeat",t=>new HM(t),"PRIVATE")),Mr(Oy,ME,e),Mr(Oy,ME,"esm2020"),Mr("fire-js","")}ZM("");var KM="firebase",YM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(KM,YM,"app");function rA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $M=rA,aA=new $h("auth","Firebase",rA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new k_("@firebase/auth");function XM(e,...t){rm.logLevel<=de.WARN&&rm.warn(`Auth (${tc}): ${e}`,...t)}function Vd(e,...t){rm.logLevel<=de.ERROR&&rm.error(`Auth (${tc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(e,...t){throw z_(e,...t)}function ur(e,...t){return z_(e,...t)}function U_(e,t,n){const s={...$M(),[t]:n};return new $h("auth","Firebase",s).create(t,{appName:e.name})}function ba(e){return U_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QM(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Hs(e,"argument-error"),U_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z_(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return aA.create(e,...t)}function qt(e,t,...n){if(!e)throw z_(t,...n)}function _a(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vd(t),new Error(t)}function Aa(e,t){e||_a(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(){return typeof self<"u"&&self.location?.href||""}function JM(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JM()||RL()||"connection"in navigator)?navigator.onLine:!0}function eD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n){this.shortDelay=t,this.longDelay=n,Aa(n>t,"Short delay should be less than long delay!"),this.isMobile=SL()||CL()}get(){return tD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e,t){Aa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sD=new Jh(3e4,6e4);function qo(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Go(e,t,n,s,o={}){return lA(e,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Xh({key:e.config.apiKey,...f}).slice(1),y=await e._getAdditionalHeaders();y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode);const _={method:t,headers:y,...u};return AL()||(_.referrerPolicy="no-referrer"),e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(_.credentials="include"),oA.fetch()(await uA(e,e.config.apiHost,n,m),_)})}async function lA(e,t,n){e._canInitEmulator=!1;const s={...nD,...t};try{const o=new aD(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Td(e,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(e,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Td(e,"email-already-in-use",f);if(y==="USER_DISABLED")throw Td(e,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw U_(e,E,_);Hs(e,E)}}catch(o){if(o instanceof qr)throw o;Hs(e,"network-request-failed",{message:String(o)})}}async function tf(e,t,n,s,o={}){const u=await Go(e,t,n,s,o);return"mfaPendingCredential"in u&&Hs(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function uA(e,t,n,s){const o=`${t}${n}?${s}`,u=e,f=u.config.emulator?B_(e.config,o):`${e.config.apiScheme}://${o}`;return iD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function rD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),sD.get())})}}function Td(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ur(e,t,s);return o.customData._tokenResponse=n,o}function jE(e){return e!==void 0&&e.enterprise!==void 0}class oD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return rD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lD(e,t){return Go(e,"GET","/v2/recaptchaConfig",qo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(e,t){return Go(e,"POST","/v1/accounts:delete",t)}async function am(e,t){return Go(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cD(e,t=!1){const n=un(e),s=await n.getIdToken(t),o=F_(s);qt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:yh(ay(o.auth_time)),issuedAtTime:yh(ay(o.iat)),expirationTime:yh(ay(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ay(e){return Number(e)*1e3}function F_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yx(n);return o?JSON.parse(o):(Vd("Failed to decode base64 JWT payload"),null)}catch(o){return Vd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function UE(e){const t=F_(e);return qt(t,"internal-error"),qt(typeof t.exp<"u","internal-error"),qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof qr&&hD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function hD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yh(this.lastLoginAt),this.creationTime=yh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(e){const t=e.auth,n=await e.getIdToken(),s=await Ph(e,am(t,{idToken:n}));qt(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?cA(o.providerUserInfo):[],f=mD(e.providerData,u),m=e.isAnonymous,y=!(e.email&&o.passwordHash)&&!f?.length,_=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Uy(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(e,E)}async function dD(e){const t=un(e);await om(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function cA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(e,t){const n=await lA(e,{},async()=>{const s=Xh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,f=await uA(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(y.credentials="include"),oA.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gD(e,t){return Go(e,"POST","/v2/accounts:revokeToken",qo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(typeof t.idToken<"u","internal-error"),qt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):UE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){qt(t.length!==0,"internal-error");const n=UE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ku;return s&&(qt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(qt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(qt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ku,this.toJSON())}_performRefresh(){return _a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(e,t){qt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class or{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ph(this,this.stsTokenManager.getToken(this.auth,t));return qt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cD(this,t)}reload(){return dD(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new or({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await om(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fi(this.auth.app))return Promise.reject(ba(this.auth));const t=await this.getIdToken();return await Ph(this,uD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:M,providerData:k,stsTokenManager:F}=n;qt(A&&F,t,"internal-error");const q=ku.fromJSON(this.name,F);qt(typeof A=="string",t,"internal-error"),bo(s,t.name),bo(o,t.name),qt(typeof S=="boolean",t,"internal-error"),qt(typeof M=="boolean",t,"internal-error"),bo(u,t.name),bo(f,t.name),bo(m,t.name),bo(y,t.name),bo(_,t.name),bo(E,t.name);const W=new or({uid:A,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:_,lastLoginAt:E});return k&&Array.isArray(k)&&(W.providerData=k.map(et=>({...et}))),y&&(W._redirectEventId=y),W}static async _fromIdTokenResponse(t,n,s=!1){const o=new ku;o.updateFromServerResponse(n);const u=new or({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await om(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];qt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ku;m.updateFromIdToken(s);const y=new or({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Uy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function va(e){Aa(e instanceof Function,"Expected a class definition");let t=zE.get(e);return t?(Aa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hA.type="NONE";const BE=hA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(e,t,n){return`firebase:${e}:${t}:${n}`}class Vu{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=jd(this.userKey,o.apiKey,u),this.fullPersistenceKey=jd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await am(this.auth,{idToken:t}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,t):null}return or._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Vu(va(BE),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||va(BE);const f=jd(s,t.config.apiKey,t.name);let m=null;for(const _ of n)try{const E=await _._get(f);if(E){let A;if(typeof E=="string"){const S=await am(t,{idToken:E}).catch(()=>{});if(!S)break;A=await or._fromGetAccountInfoResponse(t,S,E)}else A=or._fromJSON(t,E);_!==u&&(m=A),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Vu(u,t,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Vu(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yA(t))return"Blackberry";if(_A(t))return"Webos";if(dA(t))return"Safari";if((t.includes("chrome/")||mA(t))&&!t.includes("edge/"))return"Chrome";if(gA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function fA(e=pi()){return/firefox\//i.test(e)}function dA(e=pi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mA(e=pi()){return/crios\//i.test(e)}function pA(e=pi()){return/iemobile/i.test(e)}function gA(e=pi()){return/android/i.test(e)}function yA(e=pi()){return/blackberry/i.test(e)}function _A(e=pi()){return/webos/i.test(e)}function H_(e=pi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yD(e=pi()){return H_(e)&&!!window.navigator?.standalone}function _D(){return IL()&&document.documentMode===10}function vA(e=pi()){return H_(e)||gA(e)||_A(e)||yA(e)||/windows phone/i.test(e)||pA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(e,t=[]){let n;switch(e){case"Browser":n=FE(pi());break;case"Worker":n=`${FE(pi())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${tc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(e,t={}){return Go(e,"GET","/v2/passwordPolicy",qo(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=6;class ED{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new vD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=va(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await am(this,{idToken:t}),s=await or._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Fi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await om(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fi(this.app))return Promise.reject(ba(this));const n=t?un(t):null;return n&&qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fi(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fi(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(va(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TD(this),n=new ED(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $h("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&va(t)||this._popupRedirectResolver;qt(n,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[va(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&XM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Wo(e){return un(e)}class HE{constructor(t){this.auth=t,this.observer=null,this.addObserver=VL(n=>this.observer=n)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SD(e){Om=e}function bA(e){return Om.loadJS(e)}function xD(){return Om.recaptchaEnterpriseScript}function AD(){return Om.gapiScript}function RD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class CD{constructor(){this.enterprise=new ID}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class ID{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const PD="recaptcha-enterprise",EA="NO_RECAPTCHA";class LD{constructor(t){this.type=PD,this.auth=Wo(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{lD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new oD(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;jE(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(EA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&jE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=xD();y.length!==0&&(y+=m),bA(y).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function qE(e,t,n,s=!1,o=!1){const u=new LD(e);let f;if(o)f=EA;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function zy(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qE(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await qE(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(e,t){const n=Qh(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Do(u,t??{}))return o;Hs(o,"already-initialized")}return n.initialize({options:t})}function DD(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(va);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function ND(e,t,n){const s=Wo(e);qt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=wA(t),{host:f,port:m}=OD(t),y=m===null?"":`:${m}`,_={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){qt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qt(Do(_,s.config.emulator)&&Do(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ho(f)?(Nm(`${u}//${f}${y}`),O_("Auth",!0)):kD()}function wA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function OD(e){const t=wA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:GE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:GE(f)}}}function GE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function kD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _a("not implemented")}_getIdTokenResponse(t){return _a("not implemented")}_linkToIdToken(t,n){return _a("not implemented")}_getReauthenticationResolver(t){return _a("not implemented")}}async function VD(e,t){return Go(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(e,t){return tf(e,"POST","/v1/accounts:signInWithPassword",qo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",qo(e,t))}async function zD(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",qo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends q_{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Lh(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Lh(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(t,n,"signInWithPassword",jD);case"emailLink":return UD(t,{email:this._email,oobCode:this._password});default:Hs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(t,s,"signUpPassword",VD);case"emailLink":return zD(t,{idToken:n,email:this._email,oobCode:this._password});default:Hs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(e,t){return tf(e,"POST","/v1/accounts:signInWithIdp",qo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="http://localhost";class Ol extends q_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ol(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ol(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ju(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ju(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ju(t,n)}buildRequest(){const t={requestUri:BD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HD(e){const t=oh(lh(e)).link,n=t?oh(lh(t)).deep_link_id:null,s=oh(lh(e)).deep_link_id;return(s?oh(lh(s)).link:null)||s||n||t||e}class G_{constructor(t){const n=oh(lh(t)),s=n.apiKey??null,o=n.oobCode??null,u=FD(n.mode??null);qt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=HD(t);try{return new G_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.providerId=ec.PROVIDER_ID}static credential(t,n){return Lh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=G_.parseLink(n);return qt(s,"argument-error"),Lh._fromEmailAndCode(t,s.code,s.tenantId)}}ec.PROVIDER_ID="password";ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends W_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends ef{constructor(){super("facebook.com")}static credential(t){return Ol._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wo.credentialFromTaggedObject(t)}static credentialFromError(t){return wo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wo.credential(t.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ol._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ya.credentialFromTaggedObject(t)}static credentialFromError(t){return ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ya.credential(n,s)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends ef{constructor(){super("github.com")}static credential(t){return Ol._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return So.credentialFromTaggedObject(t)}static credentialFromError(t){return So.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return So.credential(t.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends ef{constructor(){super("twitter.com")}static credential(t,n){return Ol._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return xo.credentialFromTaggedObject(t)}static credentialFromError(t){return xo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return xo.credential(n,s)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(e,t){return tf(e,"POST","/v1/accounts:signUp",qo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await or._fromIdTokenResponse(t,s,o),f=WE(s);return new kl({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=WE(s);return new kl({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function WE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends qr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,lm.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new lm(t,n,s,o)}}function SA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(e,u,t,s):u})}async function GD(e,t,n=!1){const s=await Ph(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return kl._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(e,t,n=!1){const{auth:s}=e;if(Fi(s.app))return Promise.reject(ba(s));const o="reauthenticate";try{const u=await Ph(e,SA(s,o,t,e),n);qt(u.idToken,s,"internal-error");const f=F_(u.idToken);qt(f,s,"internal-error");const{sub:m}=f;return qt(e.uid===m,s,"user-mismatch"),kl._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Hs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(e,t,n=!1){if(Fi(e.app))return Promise.reject(ba(e));const s="signIn",o=await SA(e,s,t),u=await kl._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function ZD(e,t){return xA(Wo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(e){const t=Wo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function KD(e,t,n){if(Fi(e.app))return Promise.reject(ba(e));const s=Wo(e),f=await zy(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&AA(e),y}),m=await kl._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function YD(e,t,n){return Fi(e.app)?Promise.reject(ba(e)):ZD(un(e),ec.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AA(e),s})}function $D(e,t,n,s){return un(e).onIdTokenChanged(t,n,s)}function XD(e,t,n){return un(e).beforeAuthStateChanged(t,n)}function nf(e,t,n,s){return un(e).onAuthStateChanged(t,n,s)}function QD(e){return un(e).signOut()}const um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1e3,tN=10;class CA extends RA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_D()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,tN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}CA.type="LOCAL";const eN=CA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends RA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}IA.type="SESSION";const PA=IA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new km(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),y=await nN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const _=Z_("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function sN(e){Dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function rN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aN(){return navigator?.serviceWorker?.controller||null}function oN(){return LA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebaseLocalStorageDb",lN=1,cm="firebaseLocalStorage",DA="fbase_key";class sf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vm(e,t){return e.transaction([cm],t?"readwrite":"readonly").objectStore(cm)}function uN(){const e=indexedDB.deleteDatabase(MA);return new sf(e).toPromise()}function By(){const e=indexedDB.open(MA,lN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(cm,{keyPath:DA})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(cm)?t(s):(s.close(),await uN(),t(await By()))})})}async function ZE(e,t,n){const s=Vm(e,!0).put({[DA]:t,value:n});return new sf(s).toPromise()}async function cN(e,t){const n=Vm(e,!1).get(t),s=await new sf(n).toPromise();return s===void 0?null:s.value}function KE(e,t){const n=Vm(e,!0).delete(t);return new sf(n).toPromise()}const hN=800,fN=3;class NA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await By(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>fN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=km._getInstance(oN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rN(),!this.activeServiceWorker)return;this.sender=new iN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await By();return await ZE(t,um,"1"),await KE(t,um),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ZE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>cN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>KE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Vm(o,!1).getAll();return new sf(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NA.type="LOCAL";const dN=NA;new Jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e,t){return t?va(t):(qt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends q_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ju(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ju(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ju(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function mN(e){return xA(e.auth,new K_(e),e.bypassAuthState)}function pN(e){const{auth:t,user:n}=e;return qt(n,t,"internal-error"),WD(n,new K_(e),e.bypassAuthState)}async function gN(e){const{auth:t,user:n}=e;return qt(n,t,"internal-error"),GD(n,new K_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:Hs(this.auth,"internal-error")}}resolve(t){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Jh(2e3,1e4);async function _N(e,t,n){if(Fi(e.app))return Promise.reject(ur(e,"operation-not-supported-in-this-environment"));const s=Wo(e);QM(e,t,W_);const o=OA(s,n);return new Al(s,"signInViaPopup",t,o).executeNotNull()}class Al extends kA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const t=Z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yN.get())};t()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="pendingRedirect",Ud=new Map;class TN extends kA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ud.get(this.auth._key());if(!t){try{const s=await bN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ud.set(this.auth._key(),t)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bN(e,t){const n=SN(t),s=wN(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EN(e,t){Ud.set(e._key(),t)}function wN(e){return va(e._redirectPersistence)}function SN(e){return jd(vN,e.config.apiKey,e.name)}async function xN(e,t,n=!1){if(Fi(e.app))return Promise.reject(ba(e));const s=Wo(e),o=OA(s,t),f=await new TN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=600*1e3;class RN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!VA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AN&&this.cachedEventUids.clear(),this.cachedEventUids.has(YE(t))}saveEventToCache(t){this.cachedEventUids.add(YE(t)),this.lastProcessedEventTime=Date.now()}}function YE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function VA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function CN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(e,t={}){return Go(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;async function MN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await IN(e);for(const n of t)try{if(DN(n))return}catch{}Hs(e,"unauthorized-domain")}function DN(e){const t=jy(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const f=new URL(e);return f.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!LN.test(n))return!1;if(PN.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Jh(3e4,6e4);function $E(){const e=Dr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ON(e){return new Promise((t,n)=>{function s(){$E(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(ur(e,"network-request-failed"))},timeout:NN.get()})}if(Dr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Dr().gapi?.load)s();else{const o=RD("iframefcb");return Dr()[o]=()=>{gapi.load?s():n(ur(e,"network-request-failed"))},bA(`${AD()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw zd=null,t})}let zd=null;function kN(e){return zd=zd||ON(e),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Jh(5e3,15e3),jN="__/auth/iframe",UN="emulator/auth/iframe",zN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FN(e){const t=e.config;qt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?B_(t,UN):`https://${e.config.authDomain}/${jN}`,s={apiKey:t.apiKey,appName:e.name,v:tc},o=BN.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Xh(s).slice(1)}`}async function HN(e){const t=await kN(e),n=Dr().gapi;return qt(n,e,"internal-error"),t.open({where:document.body,url:FN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ur(e,"network-request-failed"),m=Dr().setTimeout(()=>{u(f)},VN.get());function y(){Dr().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GN=500,WN=600,ZN="_blank",KN="http://localhost";class XE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(e,t,n,s=GN,o=WN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...qN,width:s.toString(),height:o.toString(),top:u,left:f},_=pi().toLowerCase();n&&(m=mA(_)?ZN:n),fA(_)&&(t=t||KN,y.scrollbars="yes");const E=Object.entries(y).reduce((S,[M,k])=>`${S}${M}=${k},`,"");if(yD(_)&&m!=="_self")return $N(t||"",m),new XE(null);const A=window.open(t||"",m,E);qt(A,e,"popup-blocked");try{A.focus()}catch{}return new XE(A)}function $N(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",QN="emulator/auth/handler",JN=encodeURIComponent("fac");async function QE(e,t,n,s,o,u){qt(e.config.authDomain,e,"auth-domain-config-required"),qt(e.config.apiKey,e,"invalid-api-key");const f={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:tc,eventId:o};if(t instanceof W_){t.setDefaultLanguage(e.languageCode),f.providerId=t.providerId||"",kL(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof ef){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}e.tenantId&&(f.tid=e.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await e._getAppCheckToken(),_=y?`#${JN}=${encodeURIComponent(y)}`:"";return`${tO(e)}?${Xh(m).slice(1)}${_}`}function tO({config:e}){return e.emulator?B_(e,QN):`https://${e.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PA,this._completeRedirectFn=xN,this._overrideRedirectResult=EN}async _openPopup(t,n,s,o){Aa(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await QE(t,n,s,jy(),o);return YN(t,u,Z_())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await QE(t,n,s,jy(),o);return sN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Aa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await HN(t),s=new RN(t);return n.register("authEvent",o=>(qt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(oy,{type:oy},o=>{const u=o?.[0]?.[oy];u!==void 0&&n(!!u),Hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return vA()||dA()||H_()}}const nO=eO;var JE="@firebase/auth",tw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rO(e){Nl(new No("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;qt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TA(e)},_=new wD(s,o,u,y);return DD(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Nl(new No("auth-internal",t=>{const n=Wo(t.getProvider("auth").getImmediate());return(s=>new iO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(JE,tw,sO(e)),Mr(JE,tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=300,oO=Jx("authIdTokenMaxAge")||aO;let ew=null;const lO=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oO)return;const o=n?.token;ew!==o&&(ew=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uO(e=j_()){const t=Qh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=MD(e,{popupRedirectResolver:nO,persistence:[dN,eN,PA]}),s=Jx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=lO(u.toString());XD(n,f,()=>f(n.currentUser)),$D(n,m=>f(m))}}const o=$x("auth");return o&&ND(n,`http://${o}`),n}function cO(){return document.getElementsByTagName("head")?.[0]??document}SD({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=ur("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rO("Browser");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,jA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(Z,O){function U(){}U.prototype=O.prototype,Z.D=O.prototype,Z.prototype=new U,Z.prototype.constructor=Z,Z.C=function(G,K,H){for(var V=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)V[Ot-2]=arguments[Ot];return O.prototype[K].apply(G,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(Z,O,U){U||(U=0);var G=Array(16);if(typeof O=="string")for(var K=0;16>K;++K)G[K]=O.charCodeAt(U++)|O.charCodeAt(U++)<<8|O.charCodeAt(U++)<<16|O.charCodeAt(U++)<<24;else for(K=0;16>K;++K)G[K]=O[U++]|O[U++]<<8|O[U++]<<16|O[U++]<<24;O=Z.g[0],U=Z.g[1],K=Z.g[2];var H=Z.g[3],V=O+(H^U&(K^H))+G[0]+3614090360&4294967295;O=U+(V<<7&4294967295|V>>>25),V=H+(K^O&(U^K))+G[1]+3905402710&4294967295,H=O+(V<<12&4294967295|V>>>20),V=K+(U^H&(O^U))+G[2]+606105819&4294967295,K=H+(V<<17&4294967295|V>>>15),V=U+(O^K&(H^O))+G[3]+3250441966&4294967295,U=K+(V<<22&4294967295|V>>>10),V=O+(H^U&(K^H))+G[4]+4118548399&4294967295,O=U+(V<<7&4294967295|V>>>25),V=H+(K^O&(U^K))+G[5]+1200080426&4294967295,H=O+(V<<12&4294967295|V>>>20),V=K+(U^H&(O^U))+G[6]+2821735955&4294967295,K=H+(V<<17&4294967295|V>>>15),V=U+(O^K&(H^O))+G[7]+4249261313&4294967295,U=K+(V<<22&4294967295|V>>>10),V=O+(H^U&(K^H))+G[8]+1770035416&4294967295,O=U+(V<<7&4294967295|V>>>25),V=H+(K^O&(U^K))+G[9]+2336552879&4294967295,H=O+(V<<12&4294967295|V>>>20),V=K+(U^H&(O^U))+G[10]+4294925233&4294967295,K=H+(V<<17&4294967295|V>>>15),V=U+(O^K&(H^O))+G[11]+2304563134&4294967295,U=K+(V<<22&4294967295|V>>>10),V=O+(H^U&(K^H))+G[12]+1804603682&4294967295,O=U+(V<<7&4294967295|V>>>25),V=H+(K^O&(U^K))+G[13]+4254626195&4294967295,H=O+(V<<12&4294967295|V>>>20),V=K+(U^H&(O^U))+G[14]+2792965006&4294967295,K=H+(V<<17&4294967295|V>>>15),V=U+(O^K&(H^O))+G[15]+1236535329&4294967295,U=K+(V<<22&4294967295|V>>>10),V=O+(K^H&(U^K))+G[1]+4129170786&4294967295,O=U+(V<<5&4294967295|V>>>27),V=H+(U^K&(O^U))+G[6]+3225465664&4294967295,H=O+(V<<9&4294967295|V>>>23),V=K+(O^U&(H^O))+G[11]+643717713&4294967295,K=H+(V<<14&4294967295|V>>>18),V=U+(H^O&(K^H))+G[0]+3921069994&4294967295,U=K+(V<<20&4294967295|V>>>12),V=O+(K^H&(U^K))+G[5]+3593408605&4294967295,O=U+(V<<5&4294967295|V>>>27),V=H+(U^K&(O^U))+G[10]+38016083&4294967295,H=O+(V<<9&4294967295|V>>>23),V=K+(O^U&(H^O))+G[15]+3634488961&4294967295,K=H+(V<<14&4294967295|V>>>18),V=U+(H^O&(K^H))+G[4]+3889429448&4294967295,U=K+(V<<20&4294967295|V>>>12),V=O+(K^H&(U^K))+G[9]+568446438&4294967295,O=U+(V<<5&4294967295|V>>>27),V=H+(U^K&(O^U))+G[14]+3275163606&4294967295,H=O+(V<<9&4294967295|V>>>23),V=K+(O^U&(H^O))+G[3]+4107603335&4294967295,K=H+(V<<14&4294967295|V>>>18),V=U+(H^O&(K^H))+G[8]+1163531501&4294967295,U=K+(V<<20&4294967295|V>>>12),V=O+(K^H&(U^K))+G[13]+2850285829&4294967295,O=U+(V<<5&4294967295|V>>>27),V=H+(U^K&(O^U))+G[2]+4243563512&4294967295,H=O+(V<<9&4294967295|V>>>23),V=K+(O^U&(H^O))+G[7]+1735328473&4294967295,K=H+(V<<14&4294967295|V>>>18),V=U+(H^O&(K^H))+G[12]+2368359562&4294967295,U=K+(V<<20&4294967295|V>>>12),V=O+(U^K^H)+G[5]+4294588738&4294967295,O=U+(V<<4&4294967295|V>>>28),V=H+(O^U^K)+G[8]+2272392833&4294967295,H=O+(V<<11&4294967295|V>>>21),V=K+(H^O^U)+G[11]+1839030562&4294967295,K=H+(V<<16&4294967295|V>>>16),V=U+(K^H^O)+G[14]+4259657740&4294967295,U=K+(V<<23&4294967295|V>>>9),V=O+(U^K^H)+G[1]+2763975236&4294967295,O=U+(V<<4&4294967295|V>>>28),V=H+(O^U^K)+G[4]+1272893353&4294967295,H=O+(V<<11&4294967295|V>>>21),V=K+(H^O^U)+G[7]+4139469664&4294967295,K=H+(V<<16&4294967295|V>>>16),V=U+(K^H^O)+G[10]+3200236656&4294967295,U=K+(V<<23&4294967295|V>>>9),V=O+(U^K^H)+G[13]+681279174&4294967295,O=U+(V<<4&4294967295|V>>>28),V=H+(O^U^K)+G[0]+3936430074&4294967295,H=O+(V<<11&4294967295|V>>>21),V=K+(H^O^U)+G[3]+3572445317&4294967295,K=H+(V<<16&4294967295|V>>>16),V=U+(K^H^O)+G[6]+76029189&4294967295,U=K+(V<<23&4294967295|V>>>9),V=O+(U^K^H)+G[9]+3654602809&4294967295,O=U+(V<<4&4294967295|V>>>28),V=H+(O^U^K)+G[12]+3873151461&4294967295,H=O+(V<<11&4294967295|V>>>21),V=K+(H^O^U)+G[15]+530742520&4294967295,K=H+(V<<16&4294967295|V>>>16),V=U+(K^H^O)+G[2]+3299628645&4294967295,U=K+(V<<23&4294967295|V>>>9),V=O+(K^(U|~H))+G[0]+4096336452&4294967295,O=U+(V<<6&4294967295|V>>>26),V=H+(U^(O|~K))+G[7]+1126891415&4294967295,H=O+(V<<10&4294967295|V>>>22),V=K+(O^(H|~U))+G[14]+2878612391&4294967295,K=H+(V<<15&4294967295|V>>>17),V=U+(H^(K|~O))+G[5]+4237533241&4294967295,U=K+(V<<21&4294967295|V>>>11),V=O+(K^(U|~H))+G[12]+1700485571&4294967295,O=U+(V<<6&4294967295|V>>>26),V=H+(U^(O|~K))+G[3]+2399980690&4294967295,H=O+(V<<10&4294967295|V>>>22),V=K+(O^(H|~U))+G[10]+4293915773&4294967295,K=H+(V<<15&4294967295|V>>>17),V=U+(H^(K|~O))+G[1]+2240044497&4294967295,U=K+(V<<21&4294967295|V>>>11),V=O+(K^(U|~H))+G[8]+1873313359&4294967295,O=U+(V<<6&4294967295|V>>>26),V=H+(U^(O|~K))+G[15]+4264355552&4294967295,H=O+(V<<10&4294967295|V>>>22),V=K+(O^(H|~U))+G[6]+2734768916&4294967295,K=H+(V<<15&4294967295|V>>>17),V=U+(H^(K|~O))+G[13]+1309151649&4294967295,U=K+(V<<21&4294967295|V>>>11),V=O+(K^(U|~H))+G[4]+4149444226&4294967295,O=U+(V<<6&4294967295|V>>>26),V=H+(U^(O|~K))+G[11]+3174756917&4294967295,H=O+(V<<10&4294967295|V>>>22),V=K+(O^(H|~U))+G[2]+718787259&4294967295,K=H+(V<<15&4294967295|V>>>17),V=U+(H^(K|~O))+G[9]+3951481745&4294967295,Z.g[0]=Z.g[0]+O&4294967295,Z.g[1]=Z.g[1]+(K+(V<<21&4294967295|V>>>11))&4294967295,Z.g[2]=Z.g[2]+K&4294967295,Z.g[3]=Z.g[3]+H&4294967295}s.prototype.u=function(Z,O){O===void 0&&(O=Z.length);for(var U=O-this.blockSize,G=this.B,K=this.h,H=0;H<O;){if(K==0)for(;H<=U;)o(this,Z,H),H+=this.blockSize;if(typeof Z=="string"){for(;H<O;)if(G[K++]=Z.charCodeAt(H++),K==this.blockSize){o(this,G),K=0;break}}else for(;H<O;)if(G[K++]=Z[H++],K==this.blockSize){o(this,G),K=0;break}}this.h=K,this.o+=O},s.prototype.v=function(){var Z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Z[0]=128;for(var O=1;O<Z.length-8;++O)Z[O]=0;var U=8*this.o;for(O=Z.length-8;O<Z.length;++O)Z[O]=U&255,U/=256;for(this.u(Z),Z=Array(16),O=U=0;4>O;++O)for(var G=0;32>G;G+=8)Z[U++]=this.g[O]>>>G&255;return Z};function u(Z,O){var U=m;return Object.prototype.hasOwnProperty.call(U,Z)?U[Z]:U[Z]=O(Z)}function f(Z,O){this.h=O;for(var U=[],G=!0,K=Z.length-1;0<=K;K--){var H=Z[K]|0;G&&H==O||(U[K]=H,G=!1)}this.g=U}var m={};function y(Z){return-128<=Z&&128>Z?u(Z,function(O){return new f([O|0],0>O?-1:0)}):new f([Z|0],0>Z?-1:0)}function _(Z){if(isNaN(Z)||!isFinite(Z))return A;if(0>Z)return q(_(-Z));for(var O=[],U=1,G=0;Z>=U;G++)O[G]=Z/U|0,U*=4294967296;return new f(O,0)}function E(Z,O){if(Z.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z.charAt(0)=="-")return q(E(Z.substring(1),O));if(0<=Z.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=_(Math.pow(O,8)),G=A,K=0;K<Z.length;K+=8){var H=Math.min(8,Z.length-K),V=parseInt(Z.substring(K,K+H),O);8>H?(H=_(Math.pow(O,H)),G=G.j(H).add(_(V))):(G=G.j(U),G=G.add(_(V)))}return G}var A=y(0),S=y(1),M=y(16777216);e=f.prototype,e.m=function(){if(F(this))return-q(this).m();for(var Z=0,O=1,U=0;U<this.g.length;U++){var G=this.i(U);Z+=(0<=G?G:4294967296+G)*O,O*=4294967296}return Z},e.toString=function(Z){if(Z=Z||10,2>Z||36<Z)throw Error("radix out of range: "+Z);if(k(this))return"0";if(F(this))return"-"+q(this).toString(Z);for(var O=_(Math.pow(Z,6)),U=this,G="";;){var K=Tt(U,O).g;U=W(U,K.j(O));var H=((0<U.g.length?U.g[0]:U.h)>>>0).toString(Z);if(U=K,k(U))return H+G;for(;6>H.length;)H="0"+H;G=H+G}},e.i=function(Z){return 0>Z?0:Z<this.g.length?this.g[Z]:this.h};function k(Z){if(Z.h!=0)return!1;for(var O=0;O<Z.g.length;O++)if(Z.g[O]!=0)return!1;return!0}function F(Z){return Z.h==-1}e.l=function(Z){return Z=W(this,Z),F(Z)?-1:k(Z)?0:1};function q(Z){for(var O=Z.g.length,U=[],G=0;G<O;G++)U[G]=~Z.g[G];return new f(U,~Z.h).add(S)}e.abs=function(){return F(this)?q(this):this},e.add=function(Z){for(var O=Math.max(this.g.length,Z.g.length),U=[],G=0,K=0;K<=O;K++){var H=G+(this.i(K)&65535)+(Z.i(K)&65535),V=(H>>>16)+(this.i(K)>>>16)+(Z.i(K)>>>16);G=V>>>16,H&=65535,V&=65535,U[K]=V<<16|H}return new f(U,U[U.length-1]&-2147483648?-1:0)};function W(Z,O){return Z.add(q(O))}e.j=function(Z){if(k(this)||k(Z))return A;if(F(this))return F(Z)?q(this).j(q(Z)):q(q(this).j(Z));if(F(Z))return q(this.j(q(Z)));if(0>this.l(M)&&0>Z.l(M))return _(this.m()*Z.m());for(var O=this.g.length+Z.g.length,U=[],G=0;G<2*O;G++)U[G]=0;for(G=0;G<this.g.length;G++)for(var K=0;K<Z.g.length;K++){var H=this.i(G)>>>16,V=this.i(G)&65535,Ot=Z.i(K)>>>16,Qt=Z.i(K)&65535;U[2*G+2*K]+=V*Qt,et(U,2*G+2*K),U[2*G+2*K+1]+=H*Qt,et(U,2*G+2*K+1),U[2*G+2*K+1]+=V*Ot,et(U,2*G+2*K+1),U[2*G+2*K+2]+=H*Ot,et(U,2*G+2*K+2)}for(G=0;G<O;G++)U[G]=U[2*G+1]<<16|U[2*G];for(G=O;G<2*O;G++)U[G]=0;return new f(U,0)};function et(Z,O){for(;(Z[O]&65535)!=Z[O];)Z[O+1]+=Z[O]>>>16,Z[O]&=65535,O++}function $(Z,O){this.g=Z,this.h=O}function Tt(Z,O){if(k(O))throw Error("division by zero");if(k(Z))return new $(A,A);if(F(Z))return O=Tt(q(Z),O),new $(q(O.g),q(O.h));if(F(O))return O=Tt(Z,q(O)),new $(q(O.g),O.h);if(30<Z.g.length){if(F(Z)||F(O))throw Error("slowDivide_ only works with positive integers.");for(var U=S,G=O;0>=G.l(Z);)U=dt(U),G=dt(G);var K=At(U,1),H=At(G,1);for(G=At(G,2),U=At(U,2);!k(G);){var V=H.add(G);0>=V.l(Z)&&(K=K.add(U),H=V),G=At(G,1),U=At(U,1)}return O=W(Z,K.j(O)),new $(K,O)}for(K=A;0<=Z.l(O);){for(U=Math.max(1,Math.floor(Z.m()/O.m())),G=Math.ceil(Math.log(U)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),H=_(U),V=H.j(O);F(V)||0<V.l(Z);)U-=G,H=_(U),V=H.j(O);k(H)&&(H=S),K=K.add(H),Z=W(Z,V)}return new $(K,Z)}e.A=function(Z){return Tt(this,Z).h},e.and=function(Z){for(var O=Math.max(this.g.length,Z.g.length),U=[],G=0;G<O;G++)U[G]=this.i(G)&Z.i(G);return new f(U,this.h&Z.h)},e.or=function(Z){for(var O=Math.max(this.g.length,Z.g.length),U=[],G=0;G<O;G++)U[G]=this.i(G)|Z.i(G);return new f(U,this.h|Z.h)},e.xor=function(Z){for(var O=Math.max(this.g.length,Z.g.length),U=[],G=0;G<O;G++)U[G]=this.i(G)^Z.i(G);return new f(U,this.h^Z.h)};function dt(Z){for(var O=Z.g.length+1,U=[],G=0;G<O;G++)U[G]=Z.i(G)<<1|Z.i(G-1)>>>31;return new f(U,Z.h)}function At(Z,O){var U=O>>5;O%=32;for(var G=Z.g.length-U,K=[],H=0;H<G;H++)K[H]=0<O?Z.i(H+U)>>>O|Z.i(H+U+1)<<32-O:Z.i(H+U);return new f(K,Z.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,jA=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,Po=f}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UA,uh,zA,Bd,Fy,BA,FA,HA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,R){return d==Array.prototype||d==Object.prototype||(d[w]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var w=0;w<d.length;++w){var R=d[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function o(d,w){if(w)t:{var R=s;d=d.split(".");for(var D=0;D<d.length-1;D++){var Q=d[D];if(!(Q in R))break t;R=R[Q]}d=d[d.length-1],D=R[d],w=w(D),w!=D&&w!=null&&t(R,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var R=0,D=!1,Q={next:function(){if(!D&&R<d.length){var lt=R++;return{value:w(lt,d[lt]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(d){return d||function(){return u(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function _(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function E(d,w,R){return d.call.apply(d.bind,arguments)}function A(d,w,R){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),d.apply(w,Q)}}return function(){return d.apply(w,arguments)}}function S(d,w,R){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function M(d,w){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function k(d,w){function R(){}R.prototype=w.prototype,d.aa=w.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(D,Q,lt){for(var Et=Array(arguments.length-2),he=2;he<arguments.length;he++)Et[he-2]=arguments[he];return w.prototype[Q].apply(D,Et)}}function F(d){const w=d.length;if(0<w){const R=Array(w);for(let D=0;D<w;D++)R[D]=d[D];return R}return[]}function q(d,w){for(let R=1;R<arguments.length;R++){const D=arguments[R];if(y(D)){const Q=d.length||0,lt=D.length||0;d.length=Q+lt;for(let Et=0;Et<lt;Et++)d[Q+Et]=D[Et]}else d.push(D)}}class W{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function et(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function Tt(d){return Tt[" "](d),d}Tt[" "]=function(){};var dt=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function At(d,w,R){for(const D in d)w.call(R,d[D],D,d)}function Z(d,w){for(const R in d)w.call(void 0,d[R],R,d)}function O(d){const w={};for(const R in d)w[R]=d[R];return w}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(d,w){let R,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(R in D)d[R]=D[R];for(let lt=0;lt<U.length;lt++)R=U[lt],Object.prototype.hasOwnProperty.call(D,R)&&(d[R]=D[R])}}function K(d){var w=1;d=d.split(":");const R=[];for(;0<w&&d.length;)R.push(d.shift()),w--;return d.length&&R.push(d.join(":")),R}function H(d){m.setTimeout(()=>{throw d},0)}function V(){var d=Yt;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Ot{constructor(){this.h=this.g=null}add(w,R){const D=Qt.get();D.set(w,R),this.h?this.h.next=D:this.g=D,this.h=D}}var Qt=new W(()=>new it,d=>d.reset());class it{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ct=!1,Yt=new Ot,j=()=>{const d=m.Promise.resolve(void 0);mt=()=>{d.then(ut)}};var ut=()=>{for(var d;d=V();){try{d.h.call(d.g)}catch(R){H(R)}var w=Qt;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}ct=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,w),m.removeEventListener("test",R,w)}catch{}return d}();function Pt(d,w){if(vt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(dt){t:{try{Tt(w.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(w=null)}}else R=="mouseover"?w=d.fromElement:R=="mouseout"&&(w=d.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:St[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pt.aa.h.call(this)}}k(Pt,vt);var St={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ie=0;function Dn(d,w,R,D,Q){this.listener=d,this.proxy=null,this.src=w,this.type=R,this.capture=!!D,this.ha=Q,this.key=++ie,this.da=this.fa=!1}function sn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ei(d){this.src=d,this.g={},this.h=0}ei.prototype.add=function(d,w,R,D,Q){var lt=d.toString();d=this.g[lt],d||(d=this.g[lt]=[],this.h++);var Et=ni(d,w,D,Q);return-1<Et?(w=d[Et],R||(w.fa=!1)):(w=new Dn(w,this.src,lt,!!D,Q),w.fa=R,d.push(w)),w};function ye(d,w){var R=w.type;if(R in d.g){var D=d.g[R],Q=Array.prototype.indexOf.call(D,w,void 0),lt;(lt=0<=Q)&&Array.prototype.splice.call(D,Q,1),lt&&(sn(w),d.g[R].length==0&&(delete d.g[R],d.h--))}}function ni(d,w,R,D){for(var Q=0;Q<d.length;++Q){var lt=d[Q];if(!lt.da&&lt.listener==w&&lt.capture==!!R&&lt.ha==D)return Q}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),gs={};function Gr(d,w,R,D,Q){if(Array.isArray(w)){for(var lt=0;lt<w.length;lt++)Gr(d,w[lt],R,D,Q);return null}return R=Yi(R),d&&d[we]?d.K(w,R,_(D)?!!D.capture:!1,Q):xn(d,w,R,!1,D,Q)}function xn(d,w,R,D,Q,lt){if(!w)throw Error("Invalid event type");var Et=_(Q)?!!Q.capture:!!Q,he=Ki(d);if(he||(d[Nn]=he=new ei(d)),R=he.add(w,R,D,Et,lt),R.proxy)return R;if(D=be(),R.proxy=D,D.src=d,D.listener=R,d.addEventListener)wt||(Q=Et),Q===void 0&&(Q=!1),d.addEventListener(w.toString(),D,Q);else if(d.attachEvent)d.attachEvent(gi(w.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function be(){function d(R){return w.call(d.src,d.listener,R)}const w=Ci;return d}function dr(d,w,R,D,Q){if(Array.isArray(w))for(var lt=0;lt<w.length;lt++)dr(d,w[lt],R,D,Q);else D=_(D)?!!D.capture:!!D,R=Yi(R),d&&d[we]?(d=d.i,w=String(w).toString(),w in d.g&&(lt=d.g[w],R=ni(lt,R,D,Q),-1<R&&(sn(lt[R]),Array.prototype.splice.call(lt,R,1),lt.length==0&&(delete d.g[w],d.h--)))):d&&(d=Ki(d))&&(w=d.g[w.toString()],d=-1,w&&(d=ni(w,R,D,Q)),(R=-1<d?w[d]:null)&&Ge(R))}function Ge(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[we])ye(w.i,d);else{var R=d.type,D=d.proxy;w.removeEventListener?w.removeEventListener(R,D,d.capture):w.detachEvent?w.detachEvent(gi(R),D):w.addListener&&w.removeListener&&w.removeListener(D),(R=Ki(w))?(ye(R,d),R.h==0&&(R.src=null,w[Nn]=null)):sn(d)}}}function gi(d){return d in gs?gs[d]:gs[d]="on"+d}function Ci(d,w){if(d.da)d=!0;else{w=new Pt(w,this);var R=d.listener,D=d.ha||d.src;d.fa&&Ge(d),d=R.call(D,w)}return d}function Ki(d){return d=d[Nn],d instanceof ei?d:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yi(d){return typeof d=="function"?d:(d[On]||(d[On]=function(w){return d.handleEvent(w)}),d[On])}function Ee(){bt.call(this),this.i=new ei(this),this.M=this,this.F=null}k(Ee,bt),Ee.prototype[we]=!0,Ee.prototype.removeEventListener=function(d,w,R,D){dr(this,d,w,R,D)};function oe(d,w){var R,D=d.F;if(D)for(R=[];D;D=D.F)R.push(D);if(d=d.M,D=w.type||w,typeof w=="string")w=new vt(w,d);else if(w instanceof vt)w.target=w.target||d;else{var Q=w;w=new vt(D,d),G(w,Q)}if(Q=!0,R)for(var lt=R.length-1;0<=lt;lt--){var Et=w.g=R[lt];Q=An(Et,D,!0,w)&&Q}if(Et=w.g=d,Q=An(Et,D,!0,w)&&Q,Q=An(Et,D,!1,w)&&Q,R)for(lt=0;lt<R.length;lt++)Et=w.g=R[lt],Q=An(Et,D,!1,w)&&Q}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var R=d.g[w],D=0;D<R.length;D++)sn(R[D]);delete d.g[w],d.h--}}this.F=null},Ee.prototype.K=function(d,w,R,D){return this.i.add(String(d),w,!1,R,D)},Ee.prototype.L=function(d,w,R,D){return this.i.add(String(d),w,!0,R,D)};function An(d,w,R,D){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,lt=0;lt<w.length;++lt){var Et=w[lt];if(Et&&!Et.da&&Et.capture==R){var he=Et.listener,rn=Et.ha||Et.src;Et.fa&&ye(d.i,Et),Q=he.call(rn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Ke(d,w,R){if(typeof d=="function")R&&(d=S(d,R));else if(d&&typeof d.handleEvent=="function")d=S(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:m.setTimeout(d,w||0)}function ys(d){d.g=Ke(()=>{d.g=null,d.i&&(d.i=!1,ys(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class $i extends bt{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ys(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(d){bt.call(this),this.h=d,this.g={}}k(Xi,bt);var Ii=[];function yi(d){At(d.g,function(w,R){this.g.hasOwnProperty(R)&&Ge(w)},d),d.g={}}Xi.prototype.N=function(){Xi.aa.N.call(this),yi(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=m.JSON.stringify,_s=m.JSON.parse,_i=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Pi(){}Pi.prototype.h=null;function mr(d){return d.h||(d.h=d.i())}function pr(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){vt.call(this,"d")}k(Mi,vt);function Wr(){vt.call(this,"c")}k(Wr,vt);var Di={},Zr=null;function vs(){return Zr=Zr||new Ee}Di.La="serverreachability";function st(d){vt.call(this,Di.La,d)}k(st,vt);function It(d){const w=vs();oe(w,new st(w))}Di.STAT_EVENT="statevent";function Ut(d,w){vt.call(this,Di.STAT_EVENT,d),this.stat=w}k(Ut,vt);function Mt(d){const w=vs();oe(w,new Ut(w,d))}Di.Ma="timingevent";function Jt(d,w){vt.call(this,Di.Ma,d),this.size=w}k(Jt,vt);function le(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},w)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function Ue(d,w,R,D,Q,lt){d.info(function(){if(d.g)if(lt)for(var Et="",he=lt.split("&"),rn=0;rn<he.length;rn++){var fe=he[rn].split("=");if(1<fe.length){var Re=fe[0];fe=fe[1];var Be=Re.split("_");Et=2<=Be.length&&Be[1]=="type"?Et+(Re+"="+fe+"&"):Et+(Re+"=redacted&")}}else Et=null;else Et=lt;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+w+`
`+R+`
`+Et})}function Ct(d,w,R,D,Q,lt,Et){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+w+`
`+R+`
`+lt+" "+Et})}function Ni(d,w,R,D){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+ii(d,R)+(D?" "+D:"")})}function Ts(d,w){d.info(function(){return"TIMEOUT: "+w})}ge.prototype.info=function(){};function ii(d,w){if(!d.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var D=R[d];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var lt=Q[0];if(lt!="noop"&&lt!="stop"&&lt!="close")for(var Et=1;Et<Q.length;Et++)Q[Et]=""}}}}return pn(R)}catch{return w}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qi;function Wn(){}k(Wn,Pi),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Qi=new Wn;function kn(d,w,R,D){this.j=d,this.i=w,this.l=R,this.R=D||1,this.U=new Xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var $o={},Ma={};function Ji(d,w,R){d.L=1,d.v=vi(ze(w)),d.m=R,d.P=!0,Es(d,null)}function Es(d,w){d.F=Date.now(),Yr(d),d.A=ze(d.v);var R=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Jo(R.i,"t",D),d.C=0,R=d.j.J,d.h=new Qe,d.g=Wl(d.j,R?w:null,!d.m),0<d.O&&(d.M=new $i(S(d.Y,d,d.g),d.O)),w=d.U,R=d.g,D=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ii[0]=Q.toString()),Q=Ii);for(var lt=0;lt<Q.length;lt++){var Et=Gr(R,Q[lt],D||w.handleEvent,!1,w.h||w);if(!Et)break;w.g[Et.key]=Et}w=d.H?O(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),It(),Ue(d.i,d.u,d.A,d.l,d.R,d.m)}kn.prototype.ca=function(d){d=d.target;const w=this.M;w&&Un(d)==3?w.j():this.Y(d)},kn.prototype.Y=function(d){try{if(d==this.g)t:{const Be=Un(this.g);var w=this.g.Ba();const Qs=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Be!=4||w==7||(w==8||0>=Qs?It(3):It(2)),gr(this);var R=this.g.Z();this.X=R;e:if(Bl(this)){var D=tl(this.g);d="";var Q=D.length,lt=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),ws(this);var Et="";break e}this.h.i=new m.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,d+=this.h.i.decode(D[w],{stream:!(lt&&w==Q-1)});D.length=0,this.h.g+=d,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=R==200,Ct(this.i,this.u,this.A,this.l,this.R,Be,R),this.o){if(this.T&&!this.K){e:{if(this.g){var he,rn=this.g;if((he=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(he)){var fe=he;break e}}fe=null}if(R=fe)Ni(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gs(this,R);else{this.o=!1,this.s=3,Mt(12),Rn(this),ws(this);break t}}if(this.P){R=!0;let Ve;for(;!this.J&&this.C<Et.length;)if(Ve=Kr(this,Et),Ve==Ma){Be==4&&(this.s=4,Mt(14),R=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==$o){this.s=4,Mt(15),Ni(this.i,this.l,Et,"[Invalid Chunk]"),R=!1;break}else Ni(this.i,this.l,Ve,null),Gs(this,Ve);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||Et.length!=0||this.h.h||(this.s=1,Mt(16),R=!1),this.o=this.o&&R,!R)Ni(this.i,this.l,Et,"[Invalid Chunked Response]"),Rn(this),ws(this);else if(0<Et.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),Er(Re),Re.M=!0,Mt(11))}}else Ni(this.i,this.l,Et,null),Gs(this,Et);Be==4&&Rn(this),this.o&&!this.J&&(Be==4?nl(this.j,this):(this.o=!1,Yr(this)))}else hc(this.g),R==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Rn(this),ws(this)}}}catch{}finally{}};function Bl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Kr(d,w){var R=d.C,D=w.indexOf(`
`,R);return D==-1?Ma:(R=Number(w.substring(R,D)),isNaN(R)?$o:(D+=1,D+R>w.length?Ma:(w=w.slice(D,D+R),d.C=D+R,w)))}kn.prototype.cancel=function(){this.J=!0,Rn(this)};function Yr(d){d.S=Date.now()+d.I,Fl(d,d.I)}function Fl(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=le(S(d.ba,d),w)}function gr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}kn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ts(this.i,this.A),this.L!=2&&(It(),Mt(17)),Rn(this),this.s=2,ws(this)):Fl(this,this.S-d)};function ws(d){d.j.G==0||d.J||nl(d.j,d)}function Rn(d){gr(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,yi(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Gs(d,w){try{var R=d.j;if(R.G!=0&&(R.g==d||re(R.h,d))){if(!d.K&&re(R.h,d)&&R.G==3){try{var D=R.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Ba(R),ja(R);else break t;Ua(R),Mt(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=le(S(R.Za,R),6e3));if(1>=xs(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Xs(R,11)}else if((d.K||R.g==d)&&Ba(R),!et(w))for(Q=R.Da.g.parse(w),w=0;w<Q.length;w++){let fe=Q[w];if(R.T=fe[0],fe=fe[1],R.G==2)if(fe[0]=="c"){R.K=fe[1],R.ia=fe[2];const Re=fe[3];Re!=null&&(R.la=Re,R.j.info("VER="+R.la));const Be=fe[4];Be!=null&&(R.Aa=Be,R.j.info("SVER="+R.Aa));const Qs=fe[5];Qs!=null&&typeof Qs=="number"&&0<Qs&&(D=1.5*Qs,R.L=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const Ve=d.g;if(Ve){const Ps=Ve.g?Ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var lt=D.h;lt.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(lt.j=lt.l,lt.g=new Set,lt.h&&(Ae(lt,lt.h),lt.h=null))}if(D.D){const Ls=Ve.g?Ve.g.getResponseHeader("X-HTTP-Session-Id"):null;Ls&&(D.ya=Ls,Ht(D.I,D.D,Ls))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),D=R;var Et=d;if(D.qa=Ha(D,D.J?D.ia:null,D.W),Et.K){gn(D.h,Et);var he=Et,rn=D.L;rn&&(he.I=rn),he.B&&(gr(he),Yr(he)),D.g=Et}else rs(D);0<R.i.length&&br(R)}else fe[0]!="stop"&&fe[0]!="close"||Xs(R,7);else R.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Xs(R,7):Va(R):fe[0]!="noop"&&R.l&&R.l.ta(fe),R.v=0)}}It(4)}catch{}}var yr=class{constructor(d,w){this.g=d,this.map=w}};function Ss(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $r(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xs(d){return d.h?1:d.g?d.g.size:0}function re(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Ae(d,w){d.g?d.g.add(w):d.h=w}function gn(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Ss.prototype.cancel=function(){if(this.i=As(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function As(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const R of d.g.values())w=w.concat(R.D);return w}return F(d.i)}function _r(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var w=[],R=d.length,D=0;D<R;D++)w.push(d[D]);return w}w=[],R=0;for(D in d)w[R++]=d[D];return w}function vr(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var w=[];d=d.length;for(var R=0;R<d;R++)w.push(R);return w}w=[],R=0;for(const D in d)w[R++]=D;return w}}}function $t(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var R=vr(d),D=_r(d),Q=D.length,lt=0;lt<Q;lt++)w.call(void 0,D[lt],R&&R[lt],d)}var Ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(d,w){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var D=d[R].indexOf("="),Q=null;if(0<=D){var lt=d[R].substring(0,D);Q=d[R].substring(D+1)}else lt=d[R];w(lt,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function We(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof We){this.h=d.h,Xr(this,d.j),this.o=d.o,this.g=d.g,ts(this,d.s),this.l=d.l;var w=d.i,R=new ns;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),Zn(this,R),this.m=d.m}else d&&(w=String(d).match(Ie))?(this.h=!1,Xr(this,w[1]||"",!0),this.o=Vn(w[2]||""),this.g=Vn(w[3]||"",!0),ts(this,w[4]),this.l=Vn(w[5]||"",!0),Zn(this,w[6]||"",!0),this.m=Vn(w[7]||"")):(this.h=!1,this.i=new ns(null,this.h))}We.prototype.toString=function(){var d=[],w=this.j;w&&d.push(es(w,Ws,!0),":");var R=this.g;return(R||w=="file")&&(d.push("//"),(w=this.o)&&d.push(es(w,Ws,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(es(R,R.charAt(0)=="/"?Qo:Qr,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",es(R,Tr)),d.join("")};function ze(d){return new We(d)}function Xr(d,w,R){d.j=R?Vn(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function ts(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Zn(d,w,R){w instanceof ns?(d.i=w,Ti(d.i,d.h)):(R||(w=es(w,Na)),d.i=new ns(w,d.h))}function Ht(d,w,R){d.i.set(w,R)}function vi(d){return Ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Vn(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function es(d,w,R){return typeof d=="string"?(d=encodeURI(d).replace(w,Da),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Da(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ws=/[#\/\?@]/g,Qr=/[#\?:]/g,Qo=/[#\?]/g,Na=/[#\?@]/g,Tr=/#/g;function ns(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Kn(d){d.g||(d.g=new Map,d.h=0,d.i&&Xo(d.i,function(w,R){d.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}e=ns.prototype,e.add=function(d,w){Kn(this),this.i=null,d=zt(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(w),this.h+=1,this};function Rs(d,w){Kn(d),w=zt(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function is(d,w){return Kn(d),w=zt(d,w),d.g.has(w)}e.forEach=function(d,w){Kn(this),this.g.forEach(function(R,D){R.forEach(function(Q){d.call(w,Q,D,this)},this)},this)},e.na=function(){Kn(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let D=0;D<w.length;D++){const Q=d[D];for(let lt=0;lt<Q.length;lt++)R.push(w[D])}return R},e.V=function(d){Kn(this);let w=[];if(typeof d=="string")is(this,d)&&(w=w.concat(this.g.get(zt(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)w=w.concat(d[R])}return w},e.set=function(d,w){return Kn(this),this.i=null,d=zt(this,d),is(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},e.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Jo(d,w,R){Rs(d,w),0<R.length&&(d.i=null,d.g.set(zt(d,w),F(R)),d.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var D=w[R];const lt=encodeURIComponent(String(D)),Et=this.V(D);for(D=0;D<Et.length;D++){var Q=lt;Et[D]!==""&&(Q+="="+encodeURIComponent(String(Et[D]))),d.push(Q)}}return this.i=d.join("&")};function zt(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Ti(d,w){w&&!d.j&&(Kn(d),d.i=null,d.g.forEach(function(R,D){var Q=D.toLowerCase();D!=Q&&(Rs(this,D),Jo(this,Q,R))},d)),d.j=w}function _e(d,w){const R=new ge;if(m.Image){const D=new Image;D.onload=M(ri,R,"TestLoadImage: loaded",!0,w,D),D.onerror=M(ri,R,"TestLoadImage: error",!1,w,D),D.onabort=M(ri,R,"TestLoadImage: abort",!1,w,D),D.ontimeout=M(ri,R,"TestLoadImage: timeout",!1,w,D),m.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else w(!1)}function Oi(d,w){const R=new ge,D=new AbortController,Q=setTimeout(()=>{D.abort(),ri(R,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:D.signal}).then(lt=>{clearTimeout(Q),lt.ok?ri(R,"TestPingServer: ok",!0,w):ri(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),ri(R,"TestPingServer: error",!1,w)})}function ri(d,w,R,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(R)}catch{}}function Zs(){this.g=new _i}function ki(d,w,R){const D=R||"";try{$t(d,function(Q,lt){let Et=Q;_(Q)&&(Et=pn(Q)),w.push(D+lt+"="+encodeURIComponent(Et))})}catch(Q){throw w.push(D+"type="+encodeURIComponent("_badmap")),Q}}function ai(d){this.l=d.Ub||null,this.j=d.eb||!1}k(ai,Pi),ai.prototype.g=function(){return new ss(this.l,this.j)},ai.prototype.i=function(d){return function(){return d}}({});function ss(d,w){Ee.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ss,Ee),e=ss.prototype,e.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,jn(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||m).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,De(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ks(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ks(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?De(this):jn(this),this.readyState==3&&Ks(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,De(this))},e.Qa=function(d){this.g&&(this.response=d,De(this))},e.ga=function(){this.g&&De(this)};function De(d){d.readyState=4,d.l=null,d.j=null,d.v=null,jn(d)}e.setRequestHeader=function(d,w){this.u.append(d,w)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=w.next();return d.join(`\r
`)};function jn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Oa(d){let w="";return At(d,function(R,D){w+=D,w+=":",w+=R,w+=`\r
`}),w}function cn(d,w,R){t:{for(D in R){var D=!1;break t}D=!0}D||(R=Oa(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):Ht(d,w,R))}function Se(d){Ee.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Se,Ee);var Jr=/^https?$/i,Ys=["POST","PUT"];e=Se.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,w,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qi.g(),this.v=this.o?mr(this.o):mr(Qi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(lt){Hl(this,lt);return}if(d=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)R.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const lt of D.keys())R.set(lt,D.get(lt));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(lt=>lt.toLowerCase()=="content-type"),Q=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ys,w,void 0))||D||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[lt,Et]of R)this.g.setRequestHeader(lt,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cn(this),this.u=!0,this.g.send(d),this.u=!1}catch(lt){Hl(this,lt)}};function Hl(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,ta(d),Cs(d)}function ta(d){d.A||(d.A=!0,oe(d,"complete"),oe(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,oe(this,"complete"),oe(this,"abort"),Cs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),Se.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ee(this):this.bb())},e.bb=function(){ee(this)};function ee(d){if(d.h&&typeof f<"u"&&(!d.v[1]||Un(d)!=4||d.Z()!=2)){if(d.u&&Un(d)==4)Ke(d.Ea,0,d);else if(oe(d,"readystatechange"),Un(d)==4){d.h=!1;try{const Et=d.Z();t:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var D;if(D=Et===0){var Q=String(d.D).match(Ie)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),D=!Jr.test(Q?Q.toLowerCase():"")}R=D}if(R)oe(d,"complete"),oe(d,"success");else{d.m=6;try{var lt=2<Un(d)?d.g.statusText:""}catch{lt=""}d.l=lt+" ["+d.Z()+"]",ta(d)}}finally{Cs(d)}}}}function Cs(d,w){if(d.g){Cn(d);const R=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||oe(d,"ready");try{R.onreadystatechange=D}catch{}}}function Cn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function Un(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),_s(w)}};function tl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function hc(d){const w={};d=(d.g&&2<=Un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(et(d[D]))continue;var R=K(d[D]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const lt=w[Q]||[];w[Q]=lt,lt.push(R)}Z(w,function(D){return D.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(d,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||w}function ka(d){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,d),this.cb=$s("retryDelaySeedMs",1e4,d),this.Wa=$s("forwardChannelMaxRetries",2,d),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ss(d&&d.concurrentRequestLimit),this.Da=new Zs,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ka.prototype,e.la=8,e.G=1,e.connect=function(d,w,R,D){Mt(0),this.W=d,this.H=w||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.I=Ha(this,null,this.W),br(this)};function Va(d){if(ql(d),d.G==3){var w=d.U++,R=ze(d.I);if(Ht(R,"SID",d.K),Ht(R,"RID",w),Ht(R,"TYPE","terminate"),ea(d,R),w=new kn(d,d.j,w),w.L=2,w.v=vi(ze(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=w.v,R=!0),R||(w.g=Wl(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Yr(w)}Gl(d)}function ja(d){d.g&&(Er(d),d.g.cancel(),d.g=null)}function ql(d){ja(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ba(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function br(d){if(!$r(d.h)&&!d.s){d.s=!0;var w=d.Ga;mt||j(),ct||(mt(),ct=!0),Yt.add(w,d),d.B=0}}function fc(d,w){return xs(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=le(S(d.Ga,d,w),Fa(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new kn(this,this.j,d);let lt=this.o;if(this.S&&(lt?(lt=O(lt),G(lt,this.S)):lt=this.S),this.m!==null||this.O||(Q.H=lt,lt=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=el(this,Q,w),R=ze(this.I),Ht(R,"RID",d),Ht(R,"CVER",22),this.D&&Ht(R,"X-HTTP-Session-Id",this.D),ea(this,R),lt&&(this.O?w="headers="+encodeURIComponent(String(Oa(lt)))+"&"+w:this.m&&cn(R,this.m,lt)),Ae(this.h,Q),this.Ua&&Ht(R,"TYPE","init"),this.P?(Ht(R,"$req",w),Ht(R,"SID","null"),Q.T=!0,Ji(Q,R,null)):Ji(Q,R,w),this.G=2}}else this.G==3&&(d?oi(this,d):this.i.length==0||$r(this.h)||oi(this))};function oi(d,w){var R;w?R=w.l:R=d.U++;const D=ze(d.I);Ht(D,"SID",d.K),Ht(D,"RID",R),Ht(D,"AID",d.T),ea(d,D),d.m&&d.o&&cn(D,d.m,d.o),R=new kn(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),w&&(d.i=w.D.concat(d.i)),w=el(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ae(d.h,R),Ji(R,D,w)}function ea(d,w){d.H&&At(d.H,function(R,D){Ht(w,D,R)}),d.l&&$t({},function(R,D){Ht(w,D,R)})}function el(d,w,R){R=Math.min(d.i.length,R);var D=d.l?S(d.l.Na,d.l,d):null;t:{var Q=d.i;let lt=-1;for(;;){const Et=["count="+R];lt==-1?0<R?(lt=Q[0].g,Et.push("ofs="+lt)):lt=0:Et.push("ofs="+lt);let he=!0;for(let rn=0;rn<R;rn++){let fe=Q[rn].g;const Re=Q[rn].map;if(fe-=lt,0>fe)lt=Math.max(0,Q[rn].g-100),he=!1;else try{ki(Re,Et,"req"+fe+"_")}catch{D&&D(Re)}}if(he){D=Et.join("&");break t}}}return d=d.i.splice(0,R),w.D=d,D}function rs(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;mt||j(),ct||(mt(),ct=!0),Yt.add(w,d),d.v=0}}function Ua(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=le(S(d.Fa,d),Fa(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,za(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=le(S(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),ja(this),za(this))};function Er(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function za(d){d.g=new kn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=ze(d.qa);Ht(w,"RID","rpc"),Ht(w,"SID",d.K),Ht(w,"AID",d.T),Ht(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ht(w,"TO",d.ja),Ht(w,"TYPE","xmlhttp"),ea(d,w),d.m&&d.o&&cn(w,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=vi(ze(w)),R.m=null,R.P=!0,Es(R,d)}e.Za=function(){this.C!=null&&(this.C=null,ja(this),Ua(this),Mt(19))};function Ba(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function nl(d,w){var R=null;if(d.g==w){Ba(d),Er(d),d.g=null;var D=2}else if(re(d.h,w))R=w.D,gn(d.h,w),D=1;else return;if(d.G!=0){if(w.o)if(D==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var Q=d.B;D=vs(),oe(D,new Jt(D,R)),br(d)}else rs(d);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(D==1&&fc(d,w)||D==2&&Ua(d)))switch(R&&0<R.length&&(w=d.h,w.i=w.i.concat(R)),Q){case 1:Xs(d,5);break;case 4:Xs(d,10);break;case 3:Xs(d,6);break;default:Xs(d,2)}}}function Fa(d,w){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*w}function Xs(d,w){if(d.j.info("Error code "+w),w==2){var R=S(d.fb,d),D=d.Xa;const Q=!D;D=new We(D||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Xr(D,"https"),vi(D),Q?_e(D.toString(),R):Oi(D.toString(),R)}else Mt(2);d.G=0,d.l&&d.l.sa(w),Gl(d),ql(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Gl(d){if(d.G=0,d.ka=[],d.l){const w=As(d.h);(w.length!=0||d.i.length!=0)&&(q(d.ka,w),q(d.ka,d.i),d.h.i.length=0,F(d.i),d.i.length=0),d.l.ra()}}function Ha(d,w,R){var D=R instanceof We?ze(R):new We(R);if(D.g!="")w&&(D.g=w+"."+D.g),ts(D,D.s);else{var Q=m.location;D=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var lt=new We(null);D&&Xr(lt,D),w&&(lt.g=w),Q&&ts(lt,Q),R&&(lt.l=R),D=lt}return R=d.D,w=d.ya,R&&w&&Ht(D,R,w),Ht(D,"VER",d.la),ea(d,D),D}function Wl(d,w,R){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new Se(new ai({eb:R})):new Se(d.pa),w.Ha(d.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}e=il.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function na(){}na.prototype.g=function(d,w){return new yn(d,w)};function yn(d,w){Ee.call(this),this.g=new ka(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!et(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!et(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new li(this)}k(yn,Ee),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Va(this.g)},yn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=pn(d),d=R);w.i.push(new yr(w.Ya++,d)),w.G==3&&br(w)},yn.prototype.N=function(){this.g.l=null,delete this.j,Va(this.g),delete this.g,yn.aa.N.call(this)};function Is(d){Mi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const R in w){d=R;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}k(Is,Mi);function Zl(){Wr.call(this),this.status=1}k(Zl,Wr);function li(d){this.g=d}k(li,il),li.prototype.ua=function(){oe(this.g,"a")},li.prototype.ta=function(d){oe(this.g,new Is(d))},li.prototype.sa=function(d){oe(this.g,new Zl)},li.prototype.ra=function(){oe(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,HA=function(){return new na},FA=function(){return vs()},BA=Di,Fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,Bd=bs,si.COMPLETE="complete",zA=si,pr.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,uh=pr,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,UA=Se}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const iw="@firebase/firestore",sw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new k_("@firebase/firestore");function Au(){return Vl.logLevel}function Lt(e,...t){if(Vl.logLevel<=de.DEBUG){const n=t.map(Y_);Vl.debug(`Firestore (${nc}): ${e}`,...n)}}function Ra(e,...t){if(Vl.logLevel<=de.ERROR){const n=t.map(Y_);Vl.error(`Firestore (${nc}): ${e}`,...n)}}function Bu(e,...t){if(Vl.logLevel<=de.WARN){const n=t.map(Y_);Vl.warn(`Firestore (${nc}): ${e}`,...n)}}function Y_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,qA(e,s,n)}function qA(e,t,n){let s=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ra(s),new Error(s)}function Ce(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||qA(t,o,s)}function te(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends qr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(fi.UNAUTHENTICATED))}shutdown(){}}class fO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dO{constructor(t){this.t=t,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ce(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ea,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ea)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ce(typeof s.accessToken=="string",31837,{l:s}),new GA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string",2055,{h:t}),new fi(t)}}class mO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new mO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ce(this.o===void 0,3512);const s=u=>{u.error!=null&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function me(e,t){return e<t?-1:e>t?1:0}function Hy(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return ly(o)===ly(u)?me(o,u):ly(o)?1:-1}return me(e.length,t.length)}const _O=55296,vO=57343;function ly(e){const t=e.charCodeAt(0);return t>=_O&&t<=vO}function Fu(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__name__";class Lr{constructor(t,n,s){n===void 0?n=0:n>t.length&&Gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Lr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Lr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return me(t.length,n.length)}static compareSegments(t,n){const s=Lr.isNumericId(t),o=Lr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Lr.extractNumericId(t).compare(Lr.extractNumericId(n)):Hy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Po.fromString(t.substring(4,t.length-2))}}class qe extends Lr{construct(t,n,s){return new qe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new xt(ft.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const TO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Lr{construct(t,n,s){return new Jn(t,n,s)}static isValidIdentifier(t){return TO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aw}static keyField(){return new Jn([aw])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new xt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new xt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new xt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.path=t}static fromPath(t){return new jt(qe.fromString(t))}static fromName(t){return new jt(qe.fromString(t).popFirst(5))}static empty(){return new jt(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new jt(new qe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e,t,n){if(!n)throw new xt(ft.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function bO(e,t,n,s){if(t===!0&&s===!0)throw new xt(ft.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ow(e){if(!jt.isDocumentKey(e))throw new xt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lw(e){if(jt.isDocumentKey(e))throw new xt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ZA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function jm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Gt(12329,{type:typeof e})}function Wi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(e);throw new xt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function EO(e,t){if(t<=0)throw new xt(ft.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(e,t){const n={typeString:e};return t&&(n.value=t),n}function rf(e,t){if(!ZA(e))throw new xt(ft.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const f=e[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new xt(ft.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=-62135596800,cw=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(t){return Ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cw);return new Ze(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uw)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cw}_compareTo(t){return this.seconds===t.seconds?me(this.nanoseconds,t.nanoseconds):me(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rf(t,Ze._jsonSchema))return new Ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Sn("string",Ze._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{static fromTimestamp(t){return new Xt(t)}static min(){return new Xt(new Ze(0,0))}static max(){return new Xt(new Ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function wO(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=Xt.fromTimestamp(s===1e9?new Ze(n+1,0):new Ze(n,s));return new Oo(o,jt.empty(),t)}function SO(e){return new Oo(e.readTime,e.key,Mh)}class Oo{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Oo(Xt.min(),jt.empty(),Mh)}static max(){return new Oo(Xt.max(),jt.empty(),Mh)}}function xO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=jt.comparator(e.documentKey,t.documentKey),n!==0?n:me(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(e){if(e.code!==ft.FAILED_PRECONDITION||e.message!==AO)throw e;Lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new yt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof yt?n:yt.resolve(n)}catch(n){return yt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):yt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):yt.reject(n)}static resolve(t){return new yt((n,s)=>{n(t)})}static reject(t){return new yt((n,s)=>{s(t)})}static waitFor(t){return new yt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(t){let n=yt.resolve(!1);for(const s of t)n=n.next(o=>o?yt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new yt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next(E=>{f[_]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new yt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function CO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Um.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-1;function zm(e){return e==null}function hm(e){return e===0&&1/e==-1/0}function IO(e){return typeof e=="number"&&Number.isInteger(e)&&!hm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="";function PO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hw(t)),t=LO(e.get(n),t);return hw(t)}function LO(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case KA:n+="";break;default:n+=u}}return n}function hw(e){return e+KA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function YA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n){this.comparator=t,this.root=n||Qn.EMPTY}insert(t,n){return new nn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(t){return new nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ed(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ed(this.root,t,this.comparator,!0)}}class Ed{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Qn.RED,this.left=o??Qn.EMPTY,this.right=u??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Qn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Gt(27949);return t+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Qn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.comparator=t,this.data=new nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dw(this.data.getIterator())}getIteratorFrom(t){return new dw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Mn(this.comparator);return n.data=t,n}}class dw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.fields=t,t.sort(Jn.comparator)}static empty(){return new ps([])}unionWith(t){let n=new Mn(Jn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ps(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fu(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $A("Invalid base64 string: "+u):u}}(t);return new ti(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new ti(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return me(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const MO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(e){if(Ce(!!e,39018),typeof e=="string"){let t=0;const n=MO.exec(e);if(Ce(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:mn(e.seconds),nanos:mn(e.nanos)}}function mn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Vo(e){return typeof e=="string"?ti.fromBase64String(e):ti.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="server_timestamp",QA="__type__",JA="__previous_value__",t1="__local_write_time__";function Q_(e){return(e?.mapValue?.fields||{})[QA]?.stringValue===XA}function Bm(e){const t=e.mapValue.fields[JA];return Q_(t)?Bm(t):t}function Dh(e){const t=ko(e.mapValue.fields[t1].timestampValue);return new Ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t,n,s,o,u,f,m,y,_,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Nh="(default)";class Oh{constructor(t,n){this.projectId=t,this.database=n||Nh}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(t){return t instanceof Oh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__type__",NO="__max__",wd={mapValue:{}},n1="__vector__",fm="value";function jo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Q_(e)?4:kO(e)?9007199254740991:OO(e)?10:11:Gt(28295,{value:e})}function Br(e,t){if(e===t)return!0;const n=jo(e);if(n!==jo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dh(e).isEqual(Dh(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ko(o.timestampValue),m=ko(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return Vo(o.bytesValue).isEqual(Vo(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return mn(o.geoPointValue.latitude)===mn(u.geoPointValue.latitude)&&mn(o.geoPointValue.longitude)===mn(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mn(o.integerValue)===mn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mn(o.doubleValue),m=mn(u.doubleValue);return f===m?hm(f)===hm(m):isNaN(f)&&isNaN(m)}return!1}(e,t);case 9:return Fu(e.arrayValue.values||[],t.arrayValue.values||[],Br);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fw(f)!==fw(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Br(f[y],m[y])))return!1;return!0}(e,t);default:return Gt(52216,{left:e})}}function kh(e,t){return(e.values||[]).find(n=>Br(n,t))!==void 0}function Hu(e,t){if(e===t)return 0;const n=jo(e),s=jo(t);if(n!==s)return me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(e.booleanValue,t.booleanValue);case 2:return function(u,f){const m=mn(u.integerValue||u.doubleValue),y=mn(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(e,t);case 3:return mw(e.timestampValue,t.timestampValue);case 4:return mw(Dh(e),Dh(t));case 5:return Hy(e.stringValue,t.stringValue);case 6:return function(u,f){const m=Vo(u),y=Vo(f);return m.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const E=me(m[_],y[_]);if(E!==0)return E}return me(m.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const m=me(mn(u.latitude),mn(f.latitude));return m!==0?m:me(mn(u.longitude),mn(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return pw(e.arrayValue,t.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},_=m[fm]?.arrayValue,E=y[fm]?.arrayValue,A=me(_?.values?.length||0,E?.values?.length||0);return A!==0?A:pw(_,E)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===wd.mapValue&&f===wd.mapValue)return 0;if(u===wd.mapValue)return 1;if(f===wd.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=f.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const S=Hy(y[A],E[A]);if(S!==0)return S;const M=Hu(m[y[A]],_[E[A]]);if(M!==0)return M}return me(y.length,E.length)}(e.mapValue,t.mapValue);default:throw Gt(23264,{he:n})}}function mw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return me(e,t);const n=ko(e),s=ko(t),o=me(n.seconds,s.seconds);return o!==0?o:me(n.nanos,s.nanos)}function pw(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Hu(n[o],s[o]);if(u)return u}return me(n.length,s.length)}function qu(e){return qy(e)}function qy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=ko(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Vo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return jt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qy(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${qy(n.fields[f])}`;return o+"}"}(e.mapValue):Gt(61005,{value:e})}function Fd(e){switch(jo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bm(e);return t?16+Fd(t):16;case 5:return 2*e.stringValue.length;case 6:return Vo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Fd(u),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return Zo(s.fields,(u,f)=>{o+=u.length+Fd(f)}),o}(e.mapValue);default:throw Gt(13486,{value:e})}}function gw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Gy(e){return!!e&&"integerValue"in e}function J_(e){return!!e&&"arrayValue"in e}function yw(e){return!!e&&"nullValue"in e}function _w(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hd(e){return!!e&&"mapValue"in e}function OO(e){return(e?.mapValue?.fields||{})[e1]?.stringValue===n1}function _h(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Zo(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=_h(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_h(e.arrayValue.values[n]);return t}return{...e}}function kO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===NO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.value=t}static empty(){return new Hi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Hd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_h(n)}setAll(t){let n=Jn.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=_h(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Br(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Hd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Zo(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Hi(_h(this.value))}}function i1(e){const t=[];return Zo(e.fields,(n,s)=>{const o=new Jn([n]);if(Hd(s)){const u=i1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new ps(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new di(t,0,Xt.min(),Xt.min(),Xt.min(),Hi.empty(),0)}static newFoundDocument(t,n,s,o){return new di(t,1,n,Xt.min(),s,o,0)}static newNoDocument(t,n){return new di(t,2,n,Xt.min(),Xt.min(),Hi.empty(),0)}static newUnknownDocument(t,n){return new di(t,3,n,Xt.min(),Xt.min(),Hi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,n){this.position=t,this.inclusive=n}}function vw(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?s=jt.comparator(jt.fromName(f.referenceValue),n.key):s=Hu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Br(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n="asc"){this.field=t,this.dir=n}}function VO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{}class wn extends s1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new UO(t,n,s):n==="array-contains"?new FO(t,s):n==="in"?new HO(t,s):n==="not-in"?new qO(t,s):n==="array-contains-any"?new GO(t,s):new wn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new zO(t,s):new BO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hu(n,this.value)):n!==null&&jo(this.value)===jo(n)&&this.matchesComparison(Hu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends s1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new cr(t,n)}matches(t){return r1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r1(e){return e.op==="and"}function a1(e){return jO(e)&&r1(e)}function jO(e){for(const t of e.filters)if(t instanceof cr)return!1;return!0}function Wy(e){if(e instanceof wn)return e.field.canonicalString()+e.op.toString()+qu(e.value);if(a1(e))return e.filters.map(t=>Wy(t)).join(",");{const t=e.filters.map(n=>Wy(n)).join(",");return`${e.op}(${t})`}}function o1(e,t){return e instanceof wn?function(s,o){return o instanceof wn&&s.op===o.op&&s.field.isEqual(o.field)&&Br(s.value,o.value)}(e,t):e instanceof cr?function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&o1(f,o.filters[m]),!0):!1}(e,t):void Gt(19439)}function l1(e){return e instanceof wn?function(n){return`${n.field.canonicalString()} ${n.op} ${qu(n.value)}`}(e):e instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(l1).join(" ,")+"}"}(e):"Filter"}class UO extends wn{constructor(t,n,s){super(t,n,s),this.key=jt.fromName(s.referenceValue)}matches(t){const n=jt.comparator(t.key,this.key);return this.matchesComparison(n)}}class zO extends wn{constructor(t,n){super(t,"in",n),this.keys=u1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class BO extends wn{constructor(t,n){super(t,"not-in",n),this.keys=u1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function u1(e,t){return(t.arrayValue?.values||[]).map(n=>jt.fromName(n.referenceValue))}class FO extends wn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return J_(n)&&kh(n.arrayValue,this.value)}}class HO extends wn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kh(this.value.arrayValue,n)}}class qO extends wn{constructor(t,n){super(t,"not-in",n)}matches(t){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kh(this.value.arrayValue,n)}}class GO extends wn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!J_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>kh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function bw(e,t=null,n=[],s=[],o=null,u=null,f=null){return new WO(e,t,n,s,o,u,f)}function tv(e){const t=te(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Wy(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>qu(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>qu(s)).join(",")),t.Te=n}return t.Te}function ev(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!VO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!o1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tw(e.startAt,t.startAt)&&Tw(e.endAt,t.endAt)}function Zy(e){return jt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZO(e,t,n,s,o,u,f,m){return new rc(e,t,n,s,o,u,f,m)}function Fm(e){return new rc(e)}function Ew(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function c1(e){return e.collectionGroup!==null}function vh(e){const t=te(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mn(Jn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Vh(u,s))}),n.has(Jn.keyField().canonicalString())||t.Ie.push(new Vh(Jn.keyField(),s))}return t.Ie}function Nr(e){const t=te(e);return t.Ee||(t.Ee=KO(t,vh(e))),t.Ee}function KO(e,t){if(e.limitType==="F")return bw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)});const n=e.endAt?new dm(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new dm(e.startAt.position,e.startAt.inclusive):null;return bw(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Ky(e,t){const n=e.filters.concat([t]);return new rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function mm(e,t,n){return new rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hm(e,t){return ev(Nr(e),Nr(t))&&e.limitType===t.limitType}function h1(e){return`${tv(Nr(e))}|lt:${e.limitType}`}function Ru(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>l1(o)).join(", ")}]`),zm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>qu(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>qu(o)).join(",")),`Target(${s})`}(Nr(e))}; limitType=${e.limitType})`}function qm(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):jt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of vh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(f,m,y){const _=vw(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,vh(s),o)||s.endAt&&!function(f,m,y){const _=vw(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,vh(s),o))}(e,t)}function YO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function f1(e){return(t,n)=>{let s=!1;for(const o of vh(e)){const u=$O(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $O(e,t,n){const s=e.field.isKeyField()?jt.comparator(t.key,n.key):function(u,f,m){const y=f.data.field(u),_=m.data.field(u);return y!==null&&_!==null?Hu(y,_):Gt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Gt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zo(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return YA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new nn(jt.comparator);function Ca(){return XO}const d1=new nn(jt.comparator);function ch(...e){let t=d1;for(const n of e)t=t.insert(n.key,n);return t}function m1(e){let t=d1;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Rl(){return Th()}function p1(){return Th()}function Th(){return new Ul(e=>e.toString(),(e,t)=>e.isEqual(t))}const QO=new nn(jt.comparator),JO=new Mn(jt.comparator);function pe(...e){let t=JO;for(const n of e)t=t.add(n);return t}const tk=new Mn(me);function ek(){return tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(t)?"-0":t}}function g1(e){return{integerValue:""+e}}function nk(e,t){return IO(t)?g1(t):nv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this._=void 0}}function ik(e,t,n){return e instanceof jh?function(o,u){const f={fields:{[QA]:{stringValue:XA},[t1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Q_(u)&&(u=Bm(u)),u&&(f.fields[JA]=u),{mapValue:f}}(n,t):e instanceof Uh?_1(e,t):e instanceof zh?v1(e,t):function(o,u){const f=y1(o,u),m=ww(f)+ww(o.Ae);return Gy(f)&&Gy(o.Ae)?g1(m):nv(o.serializer,m)}(e,t)}function sk(e,t,n){return e instanceof Uh?_1(e,t):e instanceof zh?v1(e,t):n}function y1(e,t){return e instanceof pm?function(s){return Gy(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class jh extends Gm{}class Uh extends Gm{constructor(t){super(),this.elements=t}}function _1(e,t){const n=T1(t);for(const s of e.elements)n.some(o=>Br(o,s))||n.push(s);return{arrayValue:{values:n}}}class zh extends Gm{constructor(t){super(),this.elements=t}}function v1(e,t){let n=T1(t);for(const s of e.elements)n=n.filter(o=>!Br(o,s));return{arrayValue:{values:n}}}class pm extends Gm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function ww(e){return mn(e.integerValue||e.doubleValue)}function T1(e){return J_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(t,n){this.field=t,this.transform=n}}function ak(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Uh&&o instanceof Uh||s instanceof zh&&o instanceof zh?Fu(s.elements,o.elements,Br):s instanceof pm&&o instanceof pm?Br(s.Ae,o.Ae):s instanceof jh&&o instanceof jh}(e.transform,t.transform)}class ok{constructor(t,n){this.version=t,this.transformResults=n}}class Bs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bs}static exists(t){return new Bs(void 0,t)}static updateTime(t){return new Bs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wm{}function b1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new iv(e.key,Bs.none()):new af(e.key,e.data,Bs.none());{const n=e.data,s=Hi.empty();let o=new Mn(Jn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ko(e.key,s,new ps(o.toArray()),Bs.none())}}function lk(e,t,n){e instanceof af?function(o,u,f){const m=o.value.clone(),y=xw(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(e,t,n):e instanceof Ko?function(o,u,f){if(!qd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=xw(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(E1(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(e,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function bh(e,t,n,s){return e instanceof af?function(u,f,m,y){if(!qd(u.precondition,f))return m;const _=u.value.clone(),E=Aw(u.fieldTransforms,y,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(e,t,n,s):e instanceof Ko?function(u,f,m,y){if(!qd(u.precondition,f))return m;const _=Aw(u.fieldTransforms,y,f),E=f.data;return E.setAll(E1(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(e,t,n,s):function(u,f,m){return qd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(e,t,n)}function uk(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=y1(s.transform,o||null);u!=null&&(n===null&&(n=Hi.empty()),n.set(s.field,u))}return n||null}function Sw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fu(s,o,(u,f)=>ak(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class af extends Wm{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ko extends Wm{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function E1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function xw(e,t,n){const s=new Map;Ce(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,sk(f,m,n[o]))}return s}function Aw(e,t,n){const s=new Map;for(const o of e){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ik(u,f,t))}return s}class iv extends Wm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends Wm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&lk(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=bh(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=bh(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=p1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=b1(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Xt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pe())}isEqual(t){return this.batchId===t.batchId&&Fu(this.mutations,t.mutations,(n,s)=>Sw(n,s))&&Fu(this.baseMutations,t.baseMutations,(n,s)=>Sw(n,s))}}class sv{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ce(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return QO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new sv(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,Te;function mk(e){switch(e){case ft.OK:return Gt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Gt(15467,{code:e})}}function w1(e){if(e===void 0)return Ra("GRPC error has no .code"),ft.UNKNOWN;switch(e){case Tn.OK:return ft.OK;case Tn.CANCELLED:return ft.CANCELLED;case Tn.UNKNOWN:return ft.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ft.INTERNAL;case Tn.UNAVAILABLE:return ft.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ft.NOT_FOUND;case Tn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Tn.ABORTED:return ft.ABORTED;case Tn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Tn.DATA_LOSS:return ft.DATA_LOSS;default:return Gt(39323,{code:e})}}(Te=Tn||(Tn={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Po([4294967295,4294967295],0);function Rw(e){const t=pk().encode(e),n=new jA;return n.update(t),new Uint8Array(n.digest())}function Cw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Po([n,s],0),new Po([o,u],0)]}class rv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hh(`Invalid padding: ${n}`);if(s<0)throw new hh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new hh(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new hh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Po.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Po.fromNumber(s)));return o.compare(gk)===1&&(o=new Po([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Rw(t),[s,o]=Cw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new rv(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.ge===0)return;const n=Rw(t),[s,o]=Cw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,of.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Zm(Xt.min(),o,new nn(me),Ca(),pe())}}class of{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new of(s,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class S1{constructor(t,n){this.targetId=t,this.Ce=n}}class x1{constructor(t,n,s=ti.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Iw{constructor(){this.ve=0,this.Fe=Pw(),this.Me=ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=pe(),n=pe(),s=pe();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Gt(38017,{changeType:u})}}),new of(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Pw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ca(),this.Je=Sd(),this.He=Sd(),this.Ye=new nn(me)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Gt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zy(u))if(s===0){const f=new jt(u.path);this.et(n,f,di.newNoDocument(f,Xt.min()))}else Ce(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Vo(s).toUint8Array()}catch(y){if(y instanceof $A)return Bu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new rv(f,o,u)}catch(y){return Bu(y instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Zy(m.target)){const y=new jt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,di.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=pe();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Zm(t,n,this.Ye,this.je,s);return this.je=Ca(),this.Je=Sd(),this.He=Sd(),this.Ye=new nn(me),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Iw,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Mn(me),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Mn(me),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iw),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Sd(){return new nn(jt.comparator)}function Pw(){return new nn(jt.comparator)}const _k={asc:"ASCENDING",desc:"DESCENDING"},vk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tk={and:"AND",or:"OR"};class bk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Yy(e,t){return e.useProto3Json||zm(t)?t:{value:t}}function gm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function A1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ek(e,t){return gm(e,t.toTimestamp())}function Or(e){return Ce(!!e,49232),Xt.fromTimestamp(function(n){const s=ko(n);return new Ze(s.seconds,s.nanos)}(e))}function av(e,t){return $y(e,t).canonicalString()}function $y(e,t){const n=function(o){return new qe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function R1(e){const t=qe.fromString(e);return Ce(M1(t),10190,{key:t.toString()}),t}function Xy(e,t){return av(e.databaseId,t.path)}function uy(e,t){const n=R1(t);if(n.get(1)!==e.databaseId.projectId)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jt(I1(n))}function C1(e,t){return av(e.databaseId,t)}function wk(e){const t=R1(e);return t.length===4?qe.emptyPath():I1(t)}function Qy(e){return new qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function I1(e){return Ce(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Lw(e,t,n){return{name:Xy(e,t),fields:n.value.mapValue.fields}}function Sk(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Gt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(Ce(E===void 0||typeof E=="string",58123),ti.fromBase64String(E||"")):(Ce(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ti.fromUint8Array(E||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(_){const E=_.code===void 0?ft.UNKNOWN:w1(_.code);return new xt(E,_.message||"")}(f);n=new x1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=uy(e,s.document.name),u=Or(s.document.updateTime),f=s.document.createTime?Or(s.document.createTime):Xt.min(),m=new Hi({mapValue:{fields:s.document.fields}}),y=di.newFoundDocument(o,u,f,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new Gd(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=uy(e,s.document),u=s.readTime?Or(s.readTime):Xt.min(),f=di.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Gd([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=uy(e,s.document),u=s.removedTargetIds||[];n=new Gd([],u,o,null)}else{if(!("filter"in t))return Gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new dk(o,u),m=s.targetId;n=new S1(m,f)}}return n}function xk(e,t){let n;if(t instanceof af)n={update:Lw(e,t.key,t.value)};else if(t instanceof iv)n={delete:Xy(e,t.key)};else if(t instanceof Ko)n={update:Lw(e,t.key,t.data),updateMask:Nk(t.fieldMask)};else{if(!(t instanceof ck))return Gt(16599,{Vt:t.type});n={verify:Xy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof jh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pm)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Gt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Ek(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Gt(27497)}(e,t.precondition)),n}function Ak(e,t){return e&&e.length>0?(Ce(t!==void 0,14353),e.map(n=>function(o,u){let f=o.updateTime?Or(o.updateTime):Or(u);return f.isEqual(Xt.min())&&(f=Or(u)),new ok(f,o.transformResults||[])}(n,t))):[]}function Rk(e,t){return{documents:[C1(e,t.path)]}}function Ck(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=C1(e,o);const u=function(_){if(_.length!==0)return L1(cr.create(_,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(S){return{field:Cu(S.field),direction:Lk(S.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Yy(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:o}}function Ik(e){let t=wk(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ce(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=P1(A);return S instanceof cr&&a1(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(k){return new Vh(Iu(k.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,zm(S)?null:S}(n.limit));let y=null;n.startAt&&(y=function(A){const S=!!A.before,M=A.values||[];return new dm(M,S)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const S=!A.before,M=A.values||[];return new dm(M,S)}(n.endAt)),ZO(t,o,f,u,m,"F",y,_)}function Pk(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function P1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Iu(n.unaryFilter.field);return wn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Iu(n.unaryFilter.field);return wn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Iu(n.unaryFilter.field);return wn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Iu(n.unaryFilter.field);return wn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gt(61313);default:return Gt(60726)}}(e):e.fieldFilter!==void 0?function(n){return wn.create(Iu(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gt(58110);default:return Gt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(s=>P1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Gt(1026)}}(n.compositeFilter.op))}(e):Gt(30097,{filter:e})}function Lk(e){return _k[e]}function Mk(e){return vk[e]}function Dk(e){return Tk[e]}function Cu(e){return{fieldPath:e.canonicalString()}}function Iu(e){return Jn.fromServerFormat(e.fieldPath)}function L1(e){return e instanceof wn?function(n){if(n.op==="=="){if(_w(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NAN"}};if(yw(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_w(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NAN"}};if(yw(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(n.field),op:Mk(n.op),value:n.value}}}(e):e instanceof cr?function(n){const s=n.getFilters().map(o=>L1(o));return s.length===1?s[0]:{compositeFilter:{op:Dk(n.op),filters:s}}}(e):Gt(54877,{filter:e})}function Nk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function M1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,n,s,o,u=Xt.min(),f=Xt.min(),m=ti.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Ro(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t){this.yt=t}}function kk(e){const t=Ik({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Cn=new jk}addToCollectionParentIndex(t,n){return this.Cn.add(n),yt.resolve()}getCollectionParents(t,n){return yt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return yt.resolve()}deleteFieldIndex(t,n){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,n){return yt.resolve()}getDocumentsMatchingTarget(t,n){return yt.resolve(null)}getIndexType(t,n){return yt.resolve(0)}getFieldIndexes(t,n){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,n){return yt.resolve(Oo.min())}getMinOffsetFromCollectionGroup(t,n){return yt.resolve(Oo.min())}updateCollectionGroup(t,n,s){return yt.resolve()}updateIndexEntries(t,n){return yt.resolve()}}class jk{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Mn(qe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Mn(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D1=41943040;class Bi{static withCacheSize(t){return new Bi(t,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(D1,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Gu(0)}static cr(){return new Gu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="LruGarbageCollector",N1=1048576;function Nw([e,t],[n,s]){const o=me(e,n);return o===0?me(t,s):o}class Uk{constructor(t){this.Ir=t,this.buffer=new Mn(Nw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Nw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zk{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Lt(Dw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sc(n)?Lt(Dw,"Ignoring IndexedDB error during garbage collection: ",n):await ic(n)}await this.Vr(3e5)})}}class Bk{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return yt.resolve(Um.ce);const s=new Uk(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(Mw)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(_=Date.now(),Au()<=de.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Fk(e,t){return new Bk(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.changes=new Ul(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,di.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?yt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&bh(s.mutation,o,ps.empty(),Ze.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,pe()).next(()=>s))}getLocalViewOfDocuments(t,n,s=pe()){const o=Rl();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=ch();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Rl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,pe()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Ca();const f=Th(),m=function(){return Th()}();return n.forEach((y,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Ko)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),bh(E.mutation,_,E.mutation.getFieldMask(),Ze.now())):f.set(_.key,ps.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>m.set(_,new qk(E,f.get(_)??null))),m))}recalculateAndSaveOverlays(t,n){const s=Th();let o=new nn((f,m)=>f-m),u=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let E=s.get(y)||ps.empty();E=m.applyToLocalView(_,E),s.set(y,E);const A=(o.get(m.batchId)||pe()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,E=y.value,A=p1();E.forEach(S=>{if(!u.has(S)){const M=b1(n.get(S),s.get(S));M!==null&&A.set(S,M),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,A))}return yt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return jt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):c1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):yt.resolve(Rl());let m=Mh,y=u;return f.next(_=>yt.forEach(_,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?yt.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{y=y.insert(E,S)}))).next(()=>this.populateOverlays(t,_,u)).next(()=>this.computeViews(t,y,_,pe())).next(E=>({batchId:m,changes:m1(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new jt(n)).next(s=>{let o=ch();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=ch();return this.indexManager.getCollectionParents(t,u).next(m=>yt.forEach(m,y=>{const _=function(A,S){return new rc(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((y,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,di.newInvalidDocument(E)))});let m=ch();return f.forEach((y,_)=>{const E=u.get(y);E!==void 0&&bh(E.mutation,_,ps.empty(),Ze.now()),qm(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return yt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(n)),yt.resolve()}getNamedQuery(t,n){return yt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:kk(o.bundledQuery),readTime:Or(o.readTime)}}(n)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new nn(jt.comparator),this.qr=new Map}getOverlay(t,n){return yt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Rl();return yt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),yt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),yt.resolve()}getOverlaysForCollection(t,n,s){const o=Rl(),u=n.length+1,f=new jt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return yt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new nn((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Rl(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=Rl(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return yt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new fk(n,s));let u=this.qr.get(n);u===void 0&&(u=pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Qr=new Mn(Gn.$r),this.Ur=new Mn(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Gn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Gn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new jt(new qe([])),s=new Gn(n,t),o=new Gn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new jt(new qe([])),s=new Gn(n,t),o=new Gn(n,t+1);let u=pe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Gn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Gn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return jt.comparator(t.key,n.key)||me(t.Yr,n.Yr)}static Kr(t,n){return me(t.Yr,n.Yr)||jt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Gn.$r)}checkEmpty(t){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hk(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Gn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return yt.resolve(f)}lookupMutationBatch(t,n){return yt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return yt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?X_:this.tr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Gn(n,0),o=new Gn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),yt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Mn(me);return n.forEach(o=>{const u=new Gn(o,0),f=new Gn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),yt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;jt.isDocumentKey(u)||(u=u.child(""));const f=new Gn(new jt(u),0);let m=new Mn(me);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Yr)),!0)},f),yt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return yt.forEach(n.mutations,o=>{const u=new Gn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Gn(n,0),o=this.Zr.firstAfterOrEqual(s);return yt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,yt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){this.ri=t,this.docs=function(){return new nn(jt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return yt.resolve(s?s.document.mutableCopy():di.newInvalidDocument(n))}getEntries(t,n){let s=Ca();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():di.newInvalidDocument(o))}),yt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ca();const f=n.path,m=new jt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||xO(SO(E),s)<=0||(o.has(E.key)||qm(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return yt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Gt(9500)}ii(t,n){return yt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Xk(this)}getSize(t){return yt.resolve(this.size)}}class Xk extends Hk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),yt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t){this.persistence=t,this.si=new Ul(n=>tv(n),ev),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.oi=0,this._i=new ov,this.targetCount=0,this.ai=Gu.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),yt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Gu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,yt.resolve()}updateTargetData(t,n){return this.Pr(n),yt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),yt.waitFor(u).next(()=>o)}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return yt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),yt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),yt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),yt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return yt.resolve(s)}containsKey(t,n){return yt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,n){this.ui={},this.overlays={},this.ci=new Um(0),this.li=!1,this.li=!0,this.hi=new Kk,this.referenceDelegate=t(this),this.Pi=new Qk(this),this.indexManager=new Vk,this.remoteDocumentCache=function(o){return new $k(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Ok(n),this.Ii=new Wk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Zk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Yk(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Lt("MemoryPersistence","Starting transaction:",t);const o=new Jk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return yt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class Jk extends RO{constructor(t){super(),this.currentSequenceNumber=t}}class lv{constructor(t){this.persistence=t,this.Ri=new ov,this.Vi=null}static mi(t){return new lv(t)}get fi(){if(this.Vi)return this.Vi;throw Gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),yt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),yt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),yt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.fi,s=>{const o=jt.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Xt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return yt.or([()=>yt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class ym{constructor(t,n){this.persistence=t,this.pi=new Ul(s=>PO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Fk(this,n)}static mi(t,n){return new ym(t,n)}Ei(){}di(t){return yt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return yt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?yt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Xt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),yt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),yt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),yt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),yt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fd(t.data.value)),n}br(t,n,s){return yt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return yt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=pe(),o=pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new uv(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return PL()?8:CO(pi())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new tV;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(Au()<=de.DEBUG&&Lt("QueryEngine","SDK will not create cache indexes for query:",Ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yt.resolve()):(Au()<=de.DEBUG&&Lt("QueryEngine","Query:",Ru(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Au()<=de.DEBUG&&Lt("QueryEngine","The SDK decides to create cache indexes for query:",Ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nr(n))):yt.resolve())}ys(t,n){if(Ew(n))return yt.resolve(null);let s=Nr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=mm(n,null,"F"),s=Nr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=pe(...u);return this.ps.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const _=this.Ds(n,m);return this.Cs(n,_,f,y.readTime)?this.ys(t,mm(n,null,"F")):this.vs(t,_,n,y)}))})))}ws(t,n,s,o){return Ew(n)||o.isEqual(Xt.min())?yt.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?yt.resolve(null):(Au()<=de.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ru(n)),this.vs(t,f,n,wO(o,Mh)).next(m=>m))})}Ds(t,n){let s=new Mn(f1(t));return n.forEach((o,u)=>{qm(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Au()<=de.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",Ru(n)),this.ps.getDocumentsMatchingQuery(t,n,Oo.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LocalStore",nV=3e8;class iV{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new nn(me),this.xs=new Ul(u=>tv(u),ev),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Gk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function sV(e,t,n,s){return new iV(e,t,n,s)}async function k1(e,t){const n=te(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=pe();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:f,addedBatchIds:m}))})})}function rV(e,t){const n=te(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,_,E){const A=_.batch,S=A.keys();let M=yt.resolve();return S.forEach(k=>{M=M.next(()=>E.getEntry(y,k)).next(F=>{const q=_.docVersions.get(k);Ce(q!==null,48541),F.version.compareTo(q)<0&&(A.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),E.addEntry(F)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=pe();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function V1(e){const t=te(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function aV(e,t){const n=te(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let M=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?M=M.withResumeToken(ti.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(A,M),function(F,q,W){return F.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=nV?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(S,M,E)&&m.push(n.Pi.updateTargetData(u,M))});let y=Ca(),_=pe();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(oV(u,f,t.documentUpdates).next(E=>{y=E.ks,_=E.qs})),!s.isEqual(Xt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return yt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(n.Ms=o,u))}function oV(e,t,n){let s=pe(),o=pe();return n.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let f=Ca();return n.forEach((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Xt.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):Lt(cv,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{ks:f,qs:o}})}function lV(e,t){const n=te(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=X_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function uV(e,t){const n=te(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,yt.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Ro(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Jy(e,t,n){const s=te(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!sc(f))throw f;Lt(cv,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Ow(e,t,n){const s=te(e);let o=Xt.min(),u=pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,E){const A=te(y),S=A.xs.get(E);return S!==void 0?yt.resolve(A.Ms.get(S)):A.Pi.getTargetData(_,E)}(s,f,Nr(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Xt.min(),n?u:pe())).next(m=>(cV(s,YO(t),m),{documents:m,Qs:u})))}function cV(e,t,n){let s=e.Os.get(t)||Xt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Os.set(t,s)}class kw{constructor(){this.activeTargetIds=ek()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hV{constructor(){this.Mo=new kw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="ConnectivityMonitor";class jw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Lt(Vw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Lt(Vw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function t_(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="RestConnection",dV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=t_(),m=this.zo(t,n.toUriEncodedString());Lt(cy,`Sending RPC '${t}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(m),E=Ho(_);return this.Jo(t,m,y,s,E).then(A=>(Lt(cy,`Received RPC '${t}' ${f}: `,A),A),A=>{throw Bu(cy,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=dV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class gV extends mV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=t_();return new Promise((m,y)=>{const _=new UA;_.setWithCredentials(!0),_.listenOnce(zA.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Bd.NO_ERROR:const A=_.getResponseJson();Lt(hi,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Bd.TIMEOUT:Lt(hi,`RPC '${t}' ${f} timed out`),y(new xt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const S=_.getStatus();if(Lt(hi,`RPC '${t}' ${f} failed with status:`,S,"response text:",_.getResponseText()),S>0){let M=_.getResponseJson();Array.isArray(M)&&(M=M[0]);const k=M?.error;if(k&&k.status&&k.message){const F=function(W){const et=W.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(et)>=0?et:ft.UNKNOWN}(k.status);y(new xt(F,k.message))}else y(new xt(ft.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new xt(ft.UNAVAILABLE,"Connection failed."));break;default:Gt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Lt(hi,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);Lt(hi,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",E,s,15)})}T_(t,n,s){const o=t_(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=HA(),m=FA(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");Lt(hi,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let S=!1,M=!1;const k=new pV({Yo:q=>{M?Lt(hi,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(S||(Lt(hi,`Opening RPC '${t}' stream ${o} transport.`),A.open(),S=!0),Lt(hi,`RPC '${t}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),F=(q,W,et)=>{q.listen(W,$=>{try{et($)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return F(A,uh.EventType.OPEN,()=>{M||(Lt(hi,`RPC '${t}' stream ${o} transport opened.`),k.o_())}),F(A,uh.EventType.CLOSE,()=>{M||(M=!0,Lt(hi,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(A))}),F(A,uh.EventType.ERROR,q=>{M||(M=!0,Bu(hi,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),k.a_(new xt(ft.UNAVAILABLE,"The operation could not be completed")))}),F(A,uh.EventType.MESSAGE,q=>{if(!M){const W=q.data[0];Ce(!!W,16349);const et=W,$=et?.error||et[0]?.error;if($){Lt(hi,`RPC '${t}' stream ${o} received error:`,$);const Tt=$.status;let dt=function(O){const U=Tn[O];if(U!==void 0)return w1(U)}(Tt),At=$.message;dt===void 0&&(dt=ft.INTERNAL,At="Unknown error status: "+Tt+" with message "+$.message),M=!0,k.a_(new xt(dt,At)),A.close()}else Lt(hi,`RPC '${t}' stream ${o} received:`,W),k.u_(W)}}),F(m,BA.STAT_EVENT,q=>{q.stat===Fy.PROXY?Lt(hi,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Fy.NOPROXY&&Lt(hi,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(e){return new bk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="PersistentStream";class U1{constructor(t,n,s,o,u,f,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(Ra(n.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new xt(ft.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Lt(Uw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Lt(Uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yV extends U1{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Sk(this.serializer,t),s=function(u){if(!("targetChange"in u))return Xt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Xt.min():f.readTime?Or(f.readTime):Xt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Qy(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=Zy(y)?{documents:Rk(u,y)}:{query:Ck(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=A1(u,f.resumeToken);const _=Yy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Xt.min())>0){m.readTime=gm(u,f.snapshotVersion.toTimestamp());const _=Yy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,t);const s=Pk(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Qy(this.serializer),n.removeTarget=t,this.q_(n)}}class _V extends U1{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Ak(t.writeResults,t.commitTime),s=Or(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Qy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>xk(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{}class TV extends vV{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,$y(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(ft.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(t,$y(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new xt(ft.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class bV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ra(n),this.aa=!1):Lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="RemoteStore";class EV{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{zl(this)&&(Lt(jl,"Restarting streams for network reachability change."),await async function(y){const _=te(y);_.Ea.add(4),await lf(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ym(_)}(this))})}),this.Ra=new bV(s,o)}}async function Ym(e){if(zl(e))for(const t of e.da)await t(!0)}async function lf(e){for(const t of e.da)await t(!1)}function z1(e,t){const n=te(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mv(n)?dv(n):ac(n).O_()&&fv(n,t))}function hv(e,t){const n=te(e),s=ac(n);n.Ia.delete(t),s.O_()&&B1(n,t),n.Ia.size===0&&(s.O_()?s.L_():zl(n)&&n.Ra.set("Unknown"))}function fv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ac(e).Y_(t)}function B1(e,t){e.Va.Ue(t),ac(e).Z_(t)}function dv(e){e.Va=new yk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ac(e).start(),e.Ra.ua()}function mv(e){return zl(e)&&!ac(e).x_()&&e.Ia.size>0}function zl(e){return te(e).Ea.size===0}function F1(e){e.Va=void 0}async function wV(e){e.Ra.set("Online")}async function SV(e){e.Ia.forEach((t,n)=>{fv(e,t)})}async function xV(e,t){F1(e),mv(e)?(e.Ra.ha(t),dv(e)):e.Ra.set("Unknown")}async function AV(e,t,n){if(e.Ra.set("Online"),t instanceof x1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(e,t)}catch(s){Lt(jl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await _m(e,s)}else if(t instanceof Gd?e.Va.Ze(t):t instanceof S1?e.Va.st(t):e.Va.tt(t),!n.isEqual(Xt.min()))try{const s=await V1(e.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(ti.EMPTY_BYTE_STRING,E.snapshotVersion)),B1(u,y);const A=new Ro(E.target,y,_,E.sequenceNumber);fv(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Lt(jl,"Failed to raise snapshot:",s),await _m(e,s)}}async function _m(e,t,n){if(!sc(t))throw t;e.Ea.add(1),await lf(e),e.Ra.set("Offline"),n||(n=()=>V1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Lt(jl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ym(e)})}function H1(e,t){return t().catch(n=>_m(e,n,t))}async function $m(e){const t=te(e),n=Uo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:X_;for(;RV(t);)try{const o=await lV(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,CV(t,o)}catch(o){await _m(t,o)}q1(t)&&G1(t)}function RV(e){return zl(e)&&e.Ta.length<10}function CV(e,t){e.Ta.push(t);const n=Uo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function q1(e){return zl(e)&&!Uo(e).x_()&&e.Ta.length>0}function G1(e){Uo(e).start()}async function IV(e){Uo(e).ra()}async function PV(e){const t=Uo(e);for(const n of e.Ta)t.ea(n.mutations)}async function LV(e,t,n){const s=e.Ta.shift(),o=sv.from(s,t,n);await H1(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await $m(e)}async function MV(e,t){t&&Uo(e).X_&&await async function(s,o){if(function(f){return mk(f)&&f!==ft.ABORTED}(o.code)){const u=s.Ta.shift();Uo(s).B_(),await H1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $m(s)}}(e,t),q1(e)&&G1(e)}async function zw(e,t){const n=te(e);n.asyncQueue.verifyOperationInProgress(),Lt(jl,"RemoteStore received new credentials");const s=zl(n);n.Ea.add(3),await lf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ym(n)}async function DV(e,t){const n=te(e);t?(n.Ea.delete(2),await Ym(n)):t||(n.Ea.add(2),await lf(n),n.Ra.set("Unknown"))}function ac(e){return e.ma||(e.ma=function(n,s,o){const u=te(n);return u.sa(),new yV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:wV.bind(null,e),t_:SV.bind(null,e),r_:xV.bind(null,e),H_:AV.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),mv(e)?dv(e):e.Ra.set("Unknown")):(await e.ma.stop(),F1(e))})),e.ma}function Uo(e){return e.fa||(e.fa=function(n,s,o){const u=te(n);return u.sa(),new _V(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:IV.bind(null,e),r_:MV.bind(null,e),ta:PV.bind(null,e),na:LV.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await $m(e)):(await e.fa.stop(),e.Ta.length>0&&(Lt(jl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new pv(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(e,t){if(Ra("AsyncQueue",`${t}: ${e}`),sc(e))return new xt(ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{static emptySet(t){return new Uu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||jt.comparator(n.key,s.key):(n,s)=>jt.comparator(n.key,s.key),this.keyedMap=ch(),this.sortedSet=new nn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Uu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Uu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.ga=new nn(jt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Wu{constructor(t,n,s,o,u,f,m,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Wu(t,n,Uu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class OV{constructor(){this.queries=Fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=te(n),u=o.queries;o.queries=Fw(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new xt(ft.ABORTED,"Firestore shutting down"))}}function Fw(){return new Ul(e=>h1(e),Hm)}async function yv(e,t){const n=te(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new NV,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gv(f,`Initialization of query '${Ru(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&vv(n)}async function _v(e,t){const n=te(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kV(e,t){const n=te(e);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&vv(n)}function VV(e,t,n){const s=te(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function vv(e){e.Ca.forEach(t=>{t.next()})}var e_,Hw;(Hw=e_||(e_={})).Ma="default",Hw.Cache="cache";class Tv{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Wu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Wu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==e_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.key=t}}class Z1{constructor(t){this.key=t}}class jV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=f1(t),this.tu=new Uu(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Bw,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const S=o.get(E),M=qm(this.query,A)?A:null,k=!!S&&this.mutatedKeys.has(S.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;S&&M?S.data.isEqual(M.data)?k!==F&&(s.track({type:3,doc:M}),q=!0):this.su(S,M)||(s.track({type:2,doc:M}),q=!0,(y&&this.eu(M,y)>0||_&&this.eu(M,_)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),q=!0):S&&!M&&(s.track({type:1,doc:S}),q=!0,(y||_)&&(m=!0)),q&&(M?(f=f.add(M),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,A)=>function(M,k){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt(20277,{Rt:q})}};return F(M)-F(k)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new Wu(this.query,t.tu,u,f,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new Z1(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new W1(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=pe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bv="SyncEngine";class UV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class zV{constructor(t){this.key=t,this.hu=!1}}class BV{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ul(m=>h1(m),Hm),this.Iu=new Map,this.Eu=new Set,this.du=new nn(jt.comparator),this.Au=new Map,this.Ru=new ov,this.Vu={},this.mu=new Map,this.fu=Gu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FV(e,t,n=!0){const s=J1(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await K1(s,t,n,!0),o}async function HV(e,t){const n=J1(e);await K1(n,t,!0,!1)}async function K1(e,t,n,s){const o=await uV(e.localStore,Nr(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await qV(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&n&&z1(e.remoteStore,o),m}async function qV(e,t,n,s,o){e.pu=(A,S,M)=>async function(F,q,W,et){let $=q.view.ru(W);$.Cs&&($=await Ow(F.localStore,q.query,!1).then(({documents:Z})=>q.view.ru(Z,$)));const Tt=et&&et.targetChanges.get(q.targetId),dt=et&&et.targetMismatches.get(q.targetId)!=null,At=q.view.applyChanges($,F.isPrimaryClient,Tt,dt);return Gw(F,q.targetId,At.au),At.snapshot}(e,A,S,M);const u=await Ow(e.localStore,t,!0),f=new jV(t,u.Qs),m=f.ru(u.documents),y=of.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),_=f.applyChanges(m,e.isPrimaryClient,y);Gw(e,n,_.au);const E=new UV(t,n,f);return e.Tu.set(t,E),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),_.snapshot}async function GV(e,t,n){const s=te(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Hm(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jy(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hv(s.remoteStore,o.targetId),n_(s,o.targetId)}).catch(ic)):(n_(s,o.targetId),await Jy(s.localStore,o.targetId,!0))}async function WV(e,t){const n=te(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hv(n.remoteStore,s.targetId))}async function ZV(e,t,n){const s=tj(e);try{const o=await function(f,m){const y=te(f),_=Ze.now(),E=m.reduce((M,k)=>M.add(k.key),pe());let A,S;return y.persistence.runTransaction("Locally write mutations","readwrite",M=>{let k=Ca(),F=pe();return y.Ns.getEntries(M,E).next(q=>{k=q,k.forEach((W,et)=>{et.isValidDocument()||(F=F.add(W))})}).next(()=>y.localDocuments.getOverlayedDocuments(M,k)).next(q=>{A=q;const W=[];for(const et of m){const $=uk(et,A.get(et.key).overlayedDocument);$!=null&&W.push(new Ko(et.key,$,i1($.value.mapValue),Bs.exists(!0)))}return y.mutationQueue.addMutationBatch(M,_,W,m)}).next(q=>{S=q;const W=q.applyToLocalDocumentSet(A,F);return y.documentOverlayCache.saveOverlays(M,q.batchId,W)})}).then(()=>({batchId:S.batchId,changes:m1(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new nn(me)),_=_.insert(m,y),f.Vu[f.currentUser.toKey()]=_}(s,o.batchId,n),await uf(s,o.changes),await $m(s.remoteStore)}catch(o){const u=gv(o,"Failed to persist write");n.reject(u)}}async function Y1(e,t){const n=te(e);try{const s=await aV(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ce(f.hu,14607):o.removedDocuments.size>0&&(Ce(f.hu,42227),f.hu=!1))}),await uf(n,s,t)}catch(s){await ic(s)}}function qw(e,t,n){const s=te(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=te(f);y.onlineState=m;let _=!1;y.queries.forEach((E,A)=>{for(const S of A.Sa)S.va(m)&&(_=!0)}),_&&vv(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function KV(e,t,n){const s=te(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new nn(jt.comparator);f=f.insert(u,di.newNoDocument(u,Xt.min()));const m=pe().add(u),y=new Zm(Xt.min(),new Map,new nn(me),f,m);await Y1(s,y),s.du=s.du.remove(u),s.Au.delete(t),Ev(s)}else await Jy(s.localStore,t,!1).then(()=>n_(s,t,n)).catch(ic)}async function YV(e,t){const n=te(e),s=t.batch.batchId;try{const o=await rV(n.localStore,t);X1(n,s,null),$1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uf(n,o)}catch(o){await ic(o)}}async function $V(e,t,n){const s=te(e);try{const o=await function(f,m){const y=te(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return y.mutationQueue.lookupMutationBatch(_,m).next(A=>(Ce(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>y.localDocuments.getDocuments(_,E))})}(s.localStore,t);X1(s,t,n),$1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await uf(s,o)}catch(o){await ic(o)}}function $1(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function X1(e,t,n){const s=te(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function n_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||Q1(e,s)})}function Q1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(hv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ev(e))}function Gw(e,t,n){for(const s of n)s instanceof W1?(e.Ru.addReference(s.key,t),XV(e,s)):s instanceof Z1?(Lt(bv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||Q1(e,s.key)):Gt(19791,{wu:s})}function XV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Lt(bv,"New document in limbo: "+n),e.Eu.add(s),Ev(e))}function Ev(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new jt(qe.fromString(t)),s=e.fu.next();e.Au.set(s,new zV(n)),e.du=e.du.insert(n,s),z1(e.remoteStore,new Ro(Nr(Fm(n.path)),s,"TargetPurposeLimboResolution",Um.ce))}}async function uf(e,t,n){const s=te(e),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,t,n).then(_=>{if((_||n)&&s.isPrimaryClient){const E=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=uv.As(y.targetId,_);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,_){const E=te(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>yt.forEach(_,S=>yt.forEach(S.Es,M=>E.persistence.referenceDelegate.addReference(A,S.targetId,M)).next(()=>yt.forEach(S.ds,M=>E.persistence.referenceDelegate.removeReference(A,S.targetId,M)))))}catch(A){if(!sc(A))throw A;Lt(cv,"Failed to update sequence numbers: "+A)}for(const A of _){const S=A.targetId;if(!A.fromCache){const M=E.Ms.get(S),k=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(k);E.Ms=E.Ms.insert(S,F)}}}(s.localStore,u))}async function QV(e,t){const n=te(e);if(!n.currentUser.isEqual(t)){Lt(bv,"User change. New user:",t.toKey());const s=await k1(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new xt(ft.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await uf(n,s.Ls)}}function JV(e,t){const n=te(e),s=n.Au.get(t);if(s&&s.hu)return pe().add(s.key);{let o=pe();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function J1(e){const t=te(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KV.bind(null,t),t.Pu.H_=kV.bind(null,t.eventManager),t.Pu.yu=VV.bind(null,t.eventManager),t}function tj(e){const t=te(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$V.bind(null,t),t}class vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Km(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return sV(this.persistence,new eV,t.initialUser,this.serializer)}Cu(t){return new O1(lv.mi,this.serializer)}Du(t){return new hV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vm.provider={build:()=>new vm};class ej extends vm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ce(this.persistence.referenceDelegate instanceof ym,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zk(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Bi.withCacheSize(this.cacheSizeBytes):Bi.DEFAULT;return new O1(s=>ym.mi(s,n),this.serializer)}}class i_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QV.bind(null,this.syncEngine),await DV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new OV}()}createDatastore(t){const n=Km(t.databaseInfo.databaseId),s=function(u){return new gV(u)}(t.databaseInfo);return function(u,f,m,y){return new TV(u,f,m,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new EV(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>qw(this.syncEngine,n,0),function(){return jw.v()?new jw:new fV}())}createSyncEngine(t,n){return function(o,u,f,m,y,_,E){const A=new BV(o,u,f,m,y,_);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=te(n);Lt(jl,"RemoteStore shutting down."),s.Ea.add(5),await lf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}i_.provider={build:()=>new i_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ra("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class nj{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=fi.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{Lt(zo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(Lt(zo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=gv(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function fy(e,t){e.asyncQueue.verifyOperationInProgress(),Lt(zo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await k1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ww(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ij(e);Lt(zo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>zw(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>zw(t.remoteStore,o)),e._onlineComponents=t}async function ij(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Lt(zo,"Using user provided OfflineComponentProvider");try{await fy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Bu("Error using user provided cache. Falling back to memory cache: "+n),await fy(e,new vm)}}else Lt(zo,"Using default OfflineComponentProvider"),await fy(e,new ej(void 0));return e._offlineComponents}async function tR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Lt(zo,"Using user provided OnlineComponentProvider"),await Ww(e,e._uninitializedComponentsProvider._online)):(Lt(zo,"Using default OnlineComponentProvider"),await Ww(e,new i_))),e._onlineComponents}function sj(e){return tR(e).then(t=>t.syncEngine)}async function Tm(e){const t=await tR(e),n=t.eventManager;return n.onListen=FV.bind(null,t.syncEngine),n.onUnlisten=GV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=WV.bind(null,t.syncEngine),n}function rj(e,t,n={}){const s=new Ea;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new wv({next:S=>{E.Nu(),f.enqueueAndForget(()=>_v(u,A));const M=S.docs.has(m);!M&&S.fromCache?_.reject(new xt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&y&&y.source==="server"?_.reject(new xt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new Tv(Fm(m.path),E,{includeMetadataChanges:!0,qa:!0});return yv(u,A)}(await Tm(e),e.asyncQueue,t,n,s)),s.promise}function aj(e,t,n={}){const s=new Ea;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new wv({next:S=>{E.Nu(),f.enqueueAndForget(()=>_v(u,A)),S.fromCache&&y.source==="server"?_.reject(new xt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),A=new Tv(m,E,{includeMetadataChanges:!0,qa:!0});return yv(u,A)}(await Tm(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firestore.googleapis.com",Kw=!0;class Yw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new xt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nR,this.ssl=Kw}else this.host=t.host,this.ssl=t.ssl??Kw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=D1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<N1)throw new xt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eR(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xm{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new hO;switch(s.type){case"firstParty":return new pO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Zw.get(n);s&&(Lt("ComponentProvider","Removing Datastore"),Zw.delete(n),s.terminate())}(this),Promise.resolve()}}function oj(e,t,n,s={}){e=Wi(e,Xm);const o=Ho(t),u=e._getSettings(),f={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(Nm(`https://${m}`),O_("Firestore",!0)),u.host!==nR&&u.host!==m&&Bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!Do(y,f)&&(e._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=fi.MOCK_USER;else{_=bL(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new xt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new fi(A)}e._authCredentials=new fO(new GA(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new La(this.firestore,t,this._query)}}class ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(rf(n,ln._jsonSchema))return new ln(t,s||null,new jt(qe.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Sn("string",ln._jsonSchemaVersion),referencePath:Sn("string")};class Lo extends La{constructor(t,n,s){super(t,n,Fm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new jt(t))}withConverter(t){return new Lo(this.firestore,t,this._path)}}function Ao(e,t,...n){if(e=un(e),WA("collection","path",t),e instanceof Xm){const s=qe.fromString(t,...n);return lw(s),new Lo(e,null,s)}{if(!(e instanceof ln||e instanceof Lo))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(qe.fromString(t,...n));return lw(s),new Lo(e.firestore,null,s)}}function Mo(e,t,...n){if(e=un(e),arguments.length===1&&(t=$_.newId()),WA("doc","path",t),e instanceof Xm){const s=qe.fromString(t,...n);return ow(s),new ln(e,null,new jt(s))}{if(!(e instanceof ln||e instanceof Lo))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(qe.fromString(t,...n));return ow(s),new ln(e.firestore,e instanceof Lo?e.converter:null,new jt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="AsyncQueue";class Xw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j1(this,"async_queue_retry"),this._c=()=>{const s=hy();s&&Lt($w,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ea;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!sc(t))throw t;Lt($w,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,Ra("INTERNAL UNHANDLED ERROR: ",Qw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pv.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Gt(47125,{Pc:Qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Qw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class Ia extends Xm{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Xw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Xw(t),this._firestoreClient=void 0,await t}}}function lj(e,t,n){n||(n=Nh);const s=Qh(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),u=s.getOptions(n);if(Do(u,t))return o;throw new xt(ft.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new xt(ft.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<N1)throw new xt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Ho(t.host)&&Nm(t.host),s.initialize({options:t,instanceIdentifier:n})}function uj(e,t){const n=typeof e=="object"?e:j_(),s=typeof e=="string"?e:Nh,o=Qh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Xx("firestore");u&&oj(o,...u)}return o}function Qm(e){if(e._terminated)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cj(e),e._firestoreClient}function cj(e){const t=e._freezeSettings(),n=function(o,u,f,m){return new DO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,eR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new nj(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zs(ti.fromBase64String(t))}catch(n){throw new xt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zs(ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rf(t,zs._jsonSchema))return zs.fromBase64String(t.bytes)}}zs._jsonSchemaVersion="firestore/bytes/1.0",zs._jsonSchema={type:Sn("string",zs._jsonSchemaVersion),bytes:Sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new xt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new xt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return me(this._lat,t._lat)||me(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(t){if(rf(t,kr._jsonSchema))return new kr(t.latitude,t.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Sn("string",kr._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rf(t,Vr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Vr(t.vectorValues);throw new xt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Sn("string",Vr._jsonSchemaVersion),vectorValues:Sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=/^__.*__$/;class fj{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ko(t,this.data,this.fieldMask,n,this.fieldTransforms):new af(t,this.data,n,this.fieldTransforms)}}class iR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ko(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function sR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt(40011,{Ac:e})}}class Sv{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(sR(this.Ac)&&hj.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dj{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Km(t)}Cc(t,n,s,o=!1){return new Sv({Ac:t,methodName:n,Dc:s,path:Jn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(e){const t=e._freezeSettings(),n=Km(e._databaseId);return new dj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rR(e,t,n,s,o,u={}){const f=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);Av("Data must be an object, but it was:",f,s);const m=aR(s,f);let y,_;if(u.merge)y=new ps(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=s_(t,A,n);if(!f.contains(S))throw new xt(ft.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lR(E,S)||E.push(S)}y=new ps(E),_=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,_=f.fieldTransforms;return new fj(new Hi(m),y,_)}class np extends tp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof np}}class xv extends tp{_toFieldTransform(t){return new rk(t.path,new jh)}isEqual(t){return t instanceof xv}}function mj(e,t,n,s){const o=e.Cc(1,t,n);Av("Data must be an object, but it was:",o,s);const u=[],f=Hi.empty();Zo(s,(y,_)=>{const E=Rv(t,y,n);_=un(_);const A=o.yc(E);if(_ instanceof np)u.push(E);else{const S=cf(_,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new ps(u);return new iR(f,m,o.fieldTransforms)}function pj(e,t,n,s,o,u){const f=e.Cc(1,t,n),m=[s_(t,s,n)],y=[o];if(u.length%2!=0)throw new xt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(s_(t,u[S])),y.push(u[S+1]);const _=[],E=Hi.empty();for(let S=m.length-1;S>=0;--S)if(!lR(_,m[S])){const M=m[S];let k=y[S];k=un(k);const F=f.yc(M);if(k instanceof np)_.push(M);else{const q=cf(k,F);q!=null&&(_.push(M),E.set(M,q))}}const A=new ps(_);return new iR(E,A,f.fieldTransforms)}function gj(e,t,n,s=!1){return cf(n,e.Cc(s?4:3,t))}function cf(e,t){if(oR(e=un(e)))return Av("Unsupported field value:",t,e),aR(e,t);if(e instanceof tp)return function(s,o){if(!sR(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=cf(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nk(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ze.fromDate(s);return{timestampValue:gm(o.serializer,u)}}if(s instanceof Ze){const u=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gm(o.serializer,u)}}if(s instanceof kr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zs)return{bytesValue:A1(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:av(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vr)return function(f,m){return{mapValue:{fields:{[e1]:{stringValue:n1},[fm]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return nv(m.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${jm(s)}`)}(e,t)}function aR(e,t){const n={};return YA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zo(e,(s,o)=>{const u=cf(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function oR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ze||e instanceof kr||e instanceof zs||e instanceof ln||e instanceof tp||e instanceof Vr)}function Av(e,t,n){if(!oR(n)||!ZA(n)){const s=jm(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function s_(e,t,n){if((t=un(t))instanceof Jm)return t._internalPath;if(typeof t=="string")return Rv(e,t);throw bm("Field path arguments must be of type string or ",e,!1,void 0,n)}const yj=new RegExp("[~\\*/\\[\\]]");function Rv(e,t,n){if(t.search(yj)>=0)throw bm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jm(...t.split("."))._internalPath}catch{throw bm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bm(e,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new xt(ft.INVALID_ARGUMENT,m+e+y)}function lR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ip("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _j extends uR{data(){return super.data()}}function ip(e,t){return typeof t=="string"?Rv(e,t):t instanceof Jm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new xt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cv{}class Iv extends Cv{}function zu(e,t,...n){let s=[];t instanceof Cv&&s.push(t),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof Pv).length,m=u.filter(y=>y instanceof sp).length;if(f>1||f>0&&m>0)throw new xt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class sp extends Iv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new sp(t,n,s)}_apply(t){const n=this._parse(t);return dR(t._query,n),new La(t.firestore,t.converter,Ky(t._query,n))}_parse(t){const n=ep(t.firestore);return function(u,f,m,y,_,E,A){let S;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new xt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eS(A,E);const k=[];for(const F of A)k.push(tS(y,u,F));S={arrayValue:{values:k}}}else S=tS(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eS(A,E),S=gj(m,f,A,E==="in"||E==="not-in");return wn.create(_,E,S)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Zu(e,t,n){const s=t,o=ip("where",e);return sp._create(o,s,n)}class Pv extends Cv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Pv(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)dR(f,y),f=Ky(f,y)}(t._query,n),new La(t.firestore,t.converter,Ky(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lv extends Iv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Lv(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new xt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new xt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vh(u,f)}(t._query,this._field,this._direction);return new La(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new rc(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function hR(e,t="asc"){const n=t,s=ip("orderBy",e);return Lv._create(s,n)}class Mv extends Iv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Mv(t,n,s)}_apply(t){return new La(t.firestore,t.converter,mm(t._query,this._limit,this._limitType))}}function fR(e){return EO("limit",e),Mv._create("limit",e,"F")}function tS(e,t,n){if(typeof(n=un(n))=="string"){if(n==="")throw new xt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c1(t)&&n.indexOf("/")!==-1)throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(qe.fromString(n));if(!jt.isDocumentKey(s))throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gw(e,new jt(s))}if(n instanceof ln)return gw(e,n._key);throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(n)}.`)}function eS(e,t){if(!Array.isArray(e)||e.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dR(e,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new xt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vj{convertValue(t,n="none"){switch(jo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Zo(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[fm].arrayValue?.values?.map(s=>mn(s.doubleValue));return new Vr(n)}convertGeoPoint(t){return new kr(mn(t.latitude),mn(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Bm(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Dh(t));default:return null}}convertTimestamp(t){const n=ko(t);return new Ze(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=qe.fromString(t);Ce(M1(s),9688,{name:t});const o=new Oh(s.get(1),s.get(3)),u=new jt(s.popFirst(5));return o.isEqual(n)||Ra(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class fh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pl extends uR{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ip("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Pl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pl._jsonSchema={type:Sn("string",Pl._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class Wd extends Pl{data(t={}){return super.data(t)}}class Ll{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new fh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Wd(this._firestore,this._userDataWriter,s.key,s,new fh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new Wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new Wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Tj(m.type),doc:y,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ll._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Tj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(e){e=Wi(e,ln);const t=Wi(e.firestore,Ia);return rj(Qm(t),e._key).then(n=>pR(t,e,n))}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:Sn("string",Ll._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class Dv extends vj{constructor(t){super(),this.firestore=t}convertBytes(t){return new zs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Em(e){e=Wi(e,La);const t=Wi(e.firestore,Ia),n=Qm(t),s=new Dv(t);return cR(e._query),aj(n,e._query).then(o=>new Ll(t,s,e,o))}function wm(e,t,n){e=Wi(e,ln);const s=Wi(e.firestore,Ia),o=mR(e.converter,t,n);return ap(s,[rR(ep(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Bs.none())])}function r6(e,t,n,...s){e=Wi(e,ln);const o=Wi(e.firestore,Ia),u=ep(o);let f;return f=typeof(t=un(t))=="string"||t instanceof Jm?pj(u,"updateDoc",e._key,t,n,s):mj(u,"updateDoc",e._key,t),ap(o,[f.toMutation(e._key,Bs.exists(!0))])}function a6(e){return ap(Wi(e.firestore,Ia),[new iv(e._key,Bs.none())])}function o6(e,t){const n=Wi(e.firestore,Ia),s=Mo(e),o=mR(e.converter,t);return ap(n,[rR(ep(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,Bs.exists(!1))]).then(()=>s)}function Zd(e,...t){e=un(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Jw(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Jw(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(e instanceof ln)f=Wi(e.firestore,Ia),m=Fm(e._key.path),u={next:y=>{t[s]&&t[s](pR(f,e,y))},error:t[s+1],complete:t[s+2]};else{const y=Wi(e,La);f=Wi(y.firestore,Ia),m=y._query;const _=new Dv(f);u={next:E=>{t[s]&&t[s](new Ll(f,_,y,E))},error:t[s+1],complete:t[s+2]},cR(e._query)}return function(_,E,A,S){const M=new wv(S),k=new Tv(E,M,A);return _.asyncQueue.enqueueAndForget(async()=>yv(await Tm(_),k)),()=>{M.Nu(),_.asyncQueue.enqueueAndForget(async()=>_v(await Tm(_),k))}}(Qm(f),m,o,u)}function ap(e,t){return function(s,o){const u=new Ea;return s.asyncQueue.enqueueAndForget(async()=>ZV(await sj(s),o,u)),u.promise}(Qm(e),t)}function pR(e,t,n){const s=n.docs.get(t._key),o=new Dv(e);return new Pl(e,o,t._key,s,new fh(n.hasPendingWrites,n.fromCache),t.converter)}function l6(){return new xv("serverTimestamp")}(function(t,n=!0){(function(o){nc=o})(tc),Nl(new No("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ia(new dO(s.getProvider("auth-internal")),new gO(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new xt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(_.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Mr(iw,sw,t),Mr(iw,sw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="type.googleapis.com/google.protobuf.Int64Value",Ej="type.googleapis.com/google.protobuf.UInt64Value";function gR(e,t){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}function Sm(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Sm(t));if(typeof e=="function"||typeof e=="object")return gR(e,t=>Sm(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Ku(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case bj:case Ej:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Ku(t)):typeof e=="function"||typeof e=="object"?gR(e,t=>Ku(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qi extends qr{constructor(t,n,s){super(`${Nv}/${t}`,n||""),this.details=s,Object.setPrototypeOf(this,qi.prototype)}}function wj(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function xm(e,t){let n=wj(e),s=n,o;try{const u=t&&t.error;if(u){const f=u.status;if(typeof f=="string"){if(!nS[f])return new qi("internal","internal");n=nS[f],s=f}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=Ku(o))}}catch{}return n==="ok"?null:new qi(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Fi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="us-central1",xj=/^data: (.*?)(?:\n|$)/;function Aj(e){let t=null;return{promise:new Promise((n,s)=>{t=setTimeout(()=>{s(new qi("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Rj{constructor(t,n,s,o,u=r_,f=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new Sj(t,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=r_}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Cj(e,t,n){const s=Ho(t);e.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Nm(e.emulatorOrigin),O_("Functions",!0))}function Ij(e,t,n){const s=o=>Lj(e,t,o,{});return s.stream=(o,u)=>Dj(e,t,o,u),s}async function Pj(e,t,n,s){n["Content-Type"]="application/json";let o;try{o=await s(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function yR(e,t){const n={},s=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function Lj(e,t,n,s){const o=e._url(t);return Mj(e,o,n,s)}async function Mj(e,t,n,s){n=Sm(n);const o={data:n},u=await yR(e,s),f=s.timeout||7e4,m=Aj(f),y=await Promise.race([Pj(t,o,u,e.fetchImpl),m.promise,e.cancelAllRequests]);if(m.cancel(),!y)throw new qi("cancelled","Firebase Functions instance was deleted.");const _=xm(y.status,y.json);if(_)throw _;if(!y.json)throw new qi("internal","Response is not valid JSON object.");let E=y.json.data;if(typeof E>"u"&&(E=y.json.result),typeof E>"u")throw new qi("internal","Response is missing data field.");return{data:Ku(E)}}function Dj(e,t,n,s){const o=e._url(t);return Nj(e,o,n,s||{})}async function Nj(e,t,n,s){n=Sm(n);const o={data:n},u=await yR(e,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const k=new qi("cancelled","Request was cancelled.");return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}const M=xm(0,null);return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}let m,y;const _=new Promise((S,M)=>{m=S,y=M});s?.signal?.addEventListener("abort",()=>{const S=new qi("cancelled","Request was cancelled.");y(S)});const E=f.body.getReader(),A=Oj(E,m,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const S=A.getReader();return{async next(){const{value:M,done:k}=await S.read();return{value:M,done:k}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:_}}function Oj(e,t,n,s){const o=(f,m)=>{const y=f.match(xj);if(!y)return;const _=y[1];try{const E=JSON.parse(_);if("result"in E){t(Ku(E.result));return}if("message"in E){m.enqueue(Ku(E.message));return}if("error"in E){const A=xm(0,E);m.error(A),n(A);return}}catch(E){if(E instanceof qi){m.error(E),n(E);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return y();async function y(){if(s?.aborted){const _=new qi("cancelled","Request was cancelled");return f.error(_),n(_),Promise.resolve()}try{const{value:_,done:E}=await e.read();if(E){m.trim()&&o(m.trim(),f),f.close();return}if(s?.aborted){const S=new qi("cancelled","Request was cancelled");f.error(S),n(S),await e.cancel();return}m+=u.decode(_,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const S of A)S.trim()&&o(S.trim(),f);return y()}catch(_){const E=_ instanceof qi?_:xm(0,null);f.error(E),n(E)}}},cancel(){return e.cancel()}})}const iS="@firebase/functions",sS="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="auth-internal",Vj="app-check-internal",jj="messaging-internal";function Uj(e){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(kj),f=n.getProvider(jj),m=n.getProvider(Vj);return new Rj(o,u,f,m,s)};Nl(new No(Nv,t,"PUBLIC").setMultipleInstances(!0)),Mr(iS,sS,e),Mr(iS,sS,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(e=j_(),t=r_){const s=Qh(un(e),Nv).getImmediate({identifier:t}),o=Xx("functions");return o&&zj(s,...o),s}function zj(e,t,n){Cj(un(e),t,n)}function bn(e,t,n){return Ij(un(e),t)}Uj();const vR={apiKey:"AIzaSyBh-nePsQ50f6ZMZ1PaLUUfhD3hExxgRsI",authDomain:"findmyhistory.firebaseapp.com",projectId:"findmyhistory",storageBucket:"findmyhistory.firebasestorage.app",messagingSenderId:"951487481110",appId:"1:951487481110:web:242bd9188bb043df177c37"},hf=nA(vR),wa=uO(hf),Bj=new ya;try{lj(hf,{experimentalForceLongPolling:!0,useFetchStreams:!1})}catch{}const Ai=uj(hf),Ln=_R(hf);vR.apiKey||console.warn("Firebase API key not found in environment variables");const TR=N.createContext();function Fj(){return N.useContext(TR)}function Hj({children:e}){const[t,n]=N.useState(null),[s,o]=N.useState(!0);N.useEffect(()=>nf(wa,m=>{n(m),o(!1)}),[]);const u={user:t,loading:s};return T.jsx(TR.Provider,{value:u,children:!s&&e})}function qj({scrollYProgress:e}){const t=Fo(),n=qs(),[s,o]=N.useState(0),{user:u}=Fj();N.useEffect(()=>{if(n.pathname==="/"){if(e)return e.on("change",y=>{if(y>=.7){const _=Math.min(1,(y-.7)/.1);o(_)}else o(0)})}else o(1)},[e,n.pathname]);const f=async()=>{await QD(wa),t("/")};return T.jsxs("div",{className:"global-header",style:{opacity:s},children:[T.jsx("h1",{className:"global-header-title clickable",onClick:()=>t("/"),children:"TagLogger"}),T.jsx("div",{className:"header-login-btn",children:u?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"login-btn",onClick:()=>t("/dashboard"),children:"Dashboard"}),T.jsx("button",{className:"login-btn",onClick:f,style:{marginLeft:"0.5rem"},children:"Logout"})]}):T.jsx("button",{className:"login-btn",onClick:()=>t("/login"),children:"Login"})})]})}function dy({children:e,adminOnly:t=!1,requireEntitlement:n=!0}){const[s,o]=N.useState(null),[u,f]=N.useState(!0),[m,y]=N.useState(!1),[_,E]=N.useState(!1),[A,S]=N.useState(!1);return N.useEffect(()=>{try{if(new URLSearchParams(window.location.search).get("tag_purchase")==="success"){S(!0);const k=setTimeout(()=>S(!1),1e4);return()=>clearTimeout(k)}}catch{}},[]),N.useEffect(()=>{const M=nf(wa,async k=>{if(o(k),k){try{const F=Mo(Ai,"users",k.uid),q=await rp(F);E(q.exists()&&q.data().isAdmin===!0)}catch{E(!1)}try{const F=Ao(Ai,"purchases"),q=zu(F,Zu("userId","==",k.uid),Zu("status","==","paid")),et=(await Em(q)).docs.reduce(($,Tt)=>$+(Tt.data().tagCount||0),0);y(et>0)}catch{y(!1)}}else y(!1),E(!1);f(!1)});return()=>M()},[]),u?null:s?t?_?e:T.jsx(Jg,{to:"/dashboard"}):n&&!m&&!A?T.jsx(Jg,{to:"/purchase"}):e:T.jsx(Jg,{to:"/login"})}const bR=N.createContext({});function op(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ov=typeof window<"u",kv=Ov?N.useLayoutEffect:N.useEffect,Vv=N.createContext(null);function jv(e,t){e.indexOf(t)===-1&&e.push(t)}function Uv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Fr=(e,t,n)=>n>t?t:n<e?e:n;let Bh=()=>{};const Pa={},ER=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function wR(e){return typeof e=="object"&&e!==null}const SR=e=>/^0[^.\s]+$/u.test(e);function zv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zi=e=>e,Gj=(e,t)=>n=>t(e(n)),ff=(...e)=>e.reduce(Gj),Yu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Bv{constructor(){this.subscriptions=[]}add(t){return jv(this.subscriptions,t),()=>Uv(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jr=e=>e*1e3,Ur=e=>e/1e3;function Fv(e,t){return t?e*(1e3/t):0}const xR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Wj=1e-7,Zj=12;function Kj(e,t,n,s,o){let u,f,m=0;do f=t+(n-t)/2,u=xR(f,s,o)-e,u>0?n=f:t=f;while(Math.abs(u)>Wj&&++m<Zj);return f}function df(e,t,n,s){if(e===t&&n===s)return Zi;const o=u=>Kj(u,0,1,e,n);return u=>u===0||u===1?u:xR(o(u),t,s)}const AR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,RR=e=>t=>1-e(1-t),CR=df(.33,1.53,.69,.99),Hv=RR(CR),IR=AR(Hv),PR=e=>(e*=2)<1?.5*Hv(e):.5*(2-Math.pow(2,-10*(e-1))),qv=e=>1-Math.sin(Math.acos(e)),LR=RR(qv),MR=AR(qv),Yj=df(.42,0,1,1),$j=df(0,0,.58,1),DR=df(.42,0,.58,1),Xj=e=>Array.isArray(e)&&typeof e[0]!="number",NR=e=>Array.isArray(e)&&typeof e[0]=="number",Qj={linear:Zi,easeIn:Yj,easeInOut:DR,easeOut:$j,circIn:qv,circInOut:MR,circOut:LR,backIn:Hv,backInOut:IR,backOut:CR,anticipate:PR},Jj=e=>typeof e=="string",rS=e=>{if(NR(e)){Bh(e.length===4);const[t,n,s,o]=e;return df(t,n,s,o)}else if(Jj(e))return Qj[e];return e},Ad=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t5(e,t){let n=new Set,s=new Set,o=!1,u=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(E){f.has(E)&&(_.schedule(E),e()),E(m)}const _={schedule:(E,A=!1,S=!1)=>{const k=S&&o?n:s;return A&&f.add(E),k.has(E)||k.add(E),E},cancel:E=>{s.delete(E),f.delete(E)},process:E=>{if(m=E,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,_.process(E))}};return _}const e5=40;function OR(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=Ad.reduce(($,Tt)=>($[Tt]=t5(u),$),{}),{setup:m,read:y,resolveKeyframes:_,preUpdate:E,update:A,preRender:S,render:M,postRender:k}=f,F=()=>{const $=Pa.useManualTiming?o.timestamp:performance.now();n=!1,Pa.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,e5),1)),o.timestamp=$,o.isProcessing=!0,m.process(o),y.process(o),_.process(o),E.process(o),A.process(o),S.process(o),M.process(o),k.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(F))},q=()=>{n=!0,s=!0,o.isProcessing||e(F)};return{schedule:Ad.reduce(($,Tt)=>{const dt=f[Tt];return $[Tt]=(At,Z=!1,O=!1)=>(n||q(),dt.schedule(At,Z,O)),$},{}),cancel:$=>{for(let Tt=0;Tt<Ad.length;Tt++)f[Ad[Tt]].cancel($)},state:o,steps:f}}const{schedule:Me,cancel:hr,state:qn,steps:my}=OR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zi,!0);let Kd;function n5(){Kd=void 0}const Gi={now:()=>(Kd===void 0&&Gi.set(qn.isProcessing||Pa.useManualTiming?qn.timestamp:performance.now()),Kd),set:e=>{Kd=e,queueMicrotask(n5)}},kR=e=>t=>typeof t=="string"&&t.startsWith(e),Gv=kR("--"),i5=kR("var(--"),Wv=e=>i5(e)?s5.test(e.split("/*")[0].trim()):!1,s5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fh={...oc,transform:e=>Fr(0,1,e)},Rd={...oc,default:1},Eh=e=>Math.round(e*1e5)/1e5,Zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r5(e){return e==null}const a5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kv=(e,t)=>n=>!!(typeof n=="string"&&a5.test(n)&&n.startsWith(e)||t&&!r5(n)&&Object.prototype.hasOwnProperty.call(n,t)),VR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,f,m]=s.match(Zv);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},o5=e=>Fr(0,255,e),py={...oc,transform:e=>Math.round(o5(e))},Cl={test:Kv("rgb","red"),parse:VR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+py.transform(e)+", "+py.transform(t)+", "+py.transform(n)+", "+Eh(Fh.transform(s))+")"};function l5(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const a_={test:Kv("#"),parse:l5,transform:Cl.transform},mf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Eo=mf("deg"),zr=mf("%"),Zt=mf("px"),u5=mf("vh"),c5=mf("vw"),aS={...zr,parse:e=>zr.parse(e)/100,transform:e=>zr.transform(e*100)},Pu={test:Kv("hsl","hue"),parse:VR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+zr.transform(Eh(t))+", "+zr.transform(Eh(n))+", "+Eh(Fh.transform(s))+")"},En={test:e=>Cl.test(e)||a_.test(e)||Pu.test(e),parse:e=>Cl.test(e)?Cl.parse(e):Pu.test(e)?Pu.parse(e):a_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cl.transform(e):Pu.transform(e),getAnimatableNone:e=>{const t=En.parse(e);return t.alpha=0,En.transform(t)}},h5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f5(e){return isNaN(e)&&typeof e=="string"&&(e.match(Zv)?.length||0)+(e.match(h5)?.length||0)>0}const jR="number",UR="color",d5="var",m5="var(",oS="${}",p5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(p5,y=>(En.test(y)?(s.color.push(u),o.push(UR),n.push(En.parse(y))):y.startsWith(m5)?(s.var.push(u),o.push(d5),n.push(y)):(s.number.push(u),o.push(jR),n.push(parseFloat(y))),++u,oS)).split(oS);return{values:n,split:m,indexes:s,types:o}}function zR(e){return Hh(e).values}function BR(e){const{split:t,types:n}=Hh(e),s=t.length;return o=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],o[f]!==void 0){const m=n[f];m===jR?u+=Eh(o[f]):m===UR?u+=En.transform(o[f]):u+=o[f]}return u}}const g5=e=>typeof e=="number"?0:En.test(e)?En.getAnimatableNone(e):e;function y5(e){const t=zR(e);return BR(e)(t.map(g5))}const Bo={test:f5,parse:zR,createTransformer:BR,getAnimatableNone:y5};function gy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _5({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,f=0;if(!t)o=u=f=n;else{const m=n<.5?n*(1+t):n+t-n*t,y=2*n-m;o=gy(y,m,e+1/3),u=gy(y,m,e),f=gy(y,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function Am(e,t){return n=>n>0?t:e}const en=(e,t,n)=>e+(t-e)*n,yy=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},v5=[a_,Cl,Pu],T5=e=>v5.find(t=>t.test(e));function lS(e){const t=T5(e);if(!t)return!1;let n=t.parse(e);return t===Pu&&(n=_5(n)),n}const uS=(e,t)=>{const n=lS(e),s=lS(t);if(!n||!s)return Am(e,t);const o={...n};return u=>(o.red=yy(n.red,s.red,u),o.green=yy(n.green,s.green,u),o.blue=yy(n.blue,s.blue,u),o.alpha=en(n.alpha,s.alpha,u),Cl.transform(o))},o_=new Set(["none","hidden"]);function b5(e,t){return o_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function E5(e,t){return n=>en(e,t,n)}function Yv(e){return typeof e=="number"?E5:typeof e=="string"?Wv(e)?Am:En.test(e)?uS:x5:Array.isArray(e)?FR:typeof e=="object"?En.test(e)?uS:w5:Am}function FR(e,t){const n=[...e],s=n.length,o=e.map((u,f)=>Yv(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=o[f](u);return n}}function w5(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Yv(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function S5(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=e.indexes[u][s[u]],m=e.values[f]??0;n[o]=m,s[u]++}return n}const x5=(e,t)=>{const n=Bo.createTransformer(t),s=Hh(e),o=Hh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?o_.has(e)&&!o.values.length||o_.has(t)&&!s.values.length?b5(e,t):ff(FR(S5(s,o),o.values),n):Am(e,t)};function HR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?en(e,t,n):Yv(e)(e,t)}const A5=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Me.update(t,n),stop:()=>hr(t),now:()=>qn.isProcessing?qn.timestamp:Gi.now()}},qR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Rm=2e4;function $v(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Rm;)t+=n,s=e.next(t);return t>=Rm?1/0:t}function R5(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min($v(s),Rm);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Ur(o)}}const C5=5;function GR(e,t,n){const s=Math.max(t-C5,0);return Fv(n-e(s),t-s)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_y=.001;function I5({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:s=on.mass}){let o,u,f=1-t;f=Fr(on.minDamping,on.maxDamping,f),e=Fr(on.minDuration,on.maxDuration,Ur(e)),f<1?(o=_=>{const E=_*f,A=E*e,S=E-n,M=l_(_,f),k=Math.exp(-A);return _y-S/M*k},u=_=>{const A=_*f*e,S=A*n+n,M=Math.pow(f,2)*Math.pow(_,2)*e,k=Math.exp(-A),F=l_(Math.pow(_,2),f);return(-o(_)+_y>0?-1:1)*((S-M)*k)/F}):(o=_=>{const E=Math.exp(-_*e),A=(_-n)*e+1;return-_y+E*A},u=_=>{const E=Math.exp(-_*e),A=(n-_)*(e*e);return E*A});const m=5/e,y=L5(o,u,m);if(e=jr(e),isNaN(y))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const _=Math.pow(y,2)*s;return{stiffness:_,damping:f*2*Math.sqrt(s*_),duration:e}}}const P5=12;function L5(e,t,n){let s=n;for(let o=1;o<P5;o++)s=s-e(s)/t(s);return s}function l_(e,t){return e*Math.sqrt(1-t*t)}const M5=["duration","bounce"],D5=["stiffness","damping","mass"];function cS(e,t){return t.some(n=>e[n]!==void 0)}function N5(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!cS(e,D5)&&cS(e,M5))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*Fr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:on.mass,stiffness:o,damping:u}}else{const n=I5(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function Cm(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:_,mass:E,duration:A,velocity:S,isResolvedFromDuration:M}=N5({...n,velocity:-Ur(n.velocity||0)}),k=S||0,F=_/(2*Math.sqrt(y*E)),q=f-u,W=Ur(Math.sqrt(y/E)),et=Math.abs(q)<5;s||(s=et?on.restSpeed.granular:on.restSpeed.default),o||(o=et?on.restDelta.granular:on.restDelta.default);let $;if(F<1){const dt=l_(W,F);$=At=>{const Z=Math.exp(-F*W*At);return f-Z*((k+F*W*q)/dt*Math.sin(dt*At)+q*Math.cos(dt*At))}}else if(F===1)$=dt=>f-Math.exp(-W*dt)*(q+(k+W*q)*dt);else{const dt=W*Math.sqrt(F*F-1);$=At=>{const Z=Math.exp(-F*W*At),O=Math.min(dt*At,300);return f-Z*((k+F*W*q)*Math.sinh(O)+dt*q*Math.cosh(O))/dt}}const Tt={calculatedDuration:M&&A||null,next:dt=>{const At=$(dt);if(M)m.done=dt>=A;else{let Z=dt===0?k:0;F<1&&(Z=dt===0?jr(k):GR($,dt,At));const O=Math.abs(Z)<=s,U=Math.abs(f-At)<=o;m.done=O&&U}return m.value=m.done?f:At,m},toString:()=>{const dt=Math.min($v(Tt),Rm),At=qR(Z=>Tt.next(dt*Z).value,dt,30);return dt+"ms "+At},toTransition:()=>{}};return Tt}Cm.applyToOptions=e=>{const t=R5(e,100,Cm);return e.ease=t.ease,e.duration=jr(t.duration),e.type="keyframes",e};function u_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:m,max:y,restDelta:_=.5,restSpeed:E}){const A=e[0],S={done:!1,value:A},M=O=>m!==void 0&&O<m||y!==void 0&&O>y,k=O=>m===void 0?y:y===void 0||Math.abs(m-O)<Math.abs(y-O)?m:y;let F=n*t;const q=A+F,W=f===void 0?q:f(q);W!==q&&(F=W-A);const et=O=>-F*Math.exp(-O/s),$=O=>W+et(O),Tt=O=>{const U=et(O),G=$(O);S.done=Math.abs(U)<=_,S.value=S.done?W:G};let dt,At;const Z=O=>{M(S.value)&&(dt=O,At=Cm({keyframes:[S.value,k(S.value)],velocity:GR($,O,S.value),damping:o,stiffness:u,restDelta:_,restSpeed:E}))};return Z(0),{calculatedDuration:null,next:O=>{let U=!1;return!At&&dt===void 0&&(U=!0,Tt(O),Z(O)),dt!==void 0&&O>=dt?At.next(O-dt):(!U&&Tt(O),S)}}}function O5(e,t,n){const s=[],o=n||Pa.mix||HR,u=e.length-1;for(let f=0;f<u;f++){let m=o(e[f],e[f+1]);if(t){const y=Array.isArray(t)?t[f]||Zi:t;m=ff(y,m)}s.push(m)}return s}function Xv(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Bh(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=O5(t,s,o),y=m.length,_=E=>{if(f&&E<e[0])return t[0];let A=0;if(y>1)for(;A<e.length-2&&!(E<e[A+1]);A++);const S=Yu(e[A],e[A+1],E);return m[A](S)};return n?E=>_(Fr(e[0],e[u-1],E)):_}function k5(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Yu(0,t,s);e.push(en(n,1,o))}}function WR(e){const t=[0];return k5(t,e.length-1),t}function V5(e,t){return e.map(n=>n*t)}function j5(e,t){return e.map(()=>t||DR).splice(0,e.length-1)}function wh({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Xj(s)?s.map(rS):rS(s),u={done:!1,value:t[0]},f=V5(n&&n.length===t.length?n:WR(t),e),m=Xv(f,t,{ease:Array.isArray(o)?o:j5(t,o)});return{calculatedDuration:e,next:y=>(u.value=m(y),u.done=y>=e,u)}}const U5=e=>e!==null;function Qv(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(U5),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const z5={decay:u_,inertia:u_,tween:wh,keyframes:wh,spring:Cm};function ZR(e){typeof e.type=="string"&&(e.type=z5[e.type])}class Jv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const B5=e=>e/100;class t0 extends Jv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gi.now()&&this.tick(Gi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ZR(t);const{type:n=wh,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:m}=t;const y=n||wh;y!==wh&&typeof m[0]!="number"&&(this.mixKeyframes=ff(B5,HR(m[0],m[1])),m=[0,100]);const _=y({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-f})),_.calculatedDuration===null&&(_.calculatedDuration=$v(_));const{calculatedDuration:E}=_;this.calculatedDuration=E,this.resolvedDuration=E+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=_}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:_=0,keyframes:E,repeat:A,repeatType:S,repeatDelay:M,type:k,onUpdate:F,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const W=this.currentTime-_*(this.playbackSpeed>=0?1:-1),et=this.playbackSpeed>=0?W<0:W>o;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,Tt=s;if(A){const O=Math.min(this.currentTime,o)/m;let U=Math.floor(O),G=O%1;!G&&O>=1&&(G=1),G===1&&U--,U=Math.min(U,A+1),!!(U%2)&&(S==="reverse"?(G=1-G,M&&(G-=M/m)):S==="mirror"&&(Tt=f)),$=Fr(0,1,G)*m}const dt=et?{done:!1,value:E[0]}:Tt.next($);u&&(dt.value=u(dt.value));let{done:At}=dt;!et&&y!==null&&(At=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&At);return Z&&k!==u_&&(dt.value=Qv(E,this.options,q,this.speed)),F&&F(dt.value),Z&&this.finish(),dt}then(t,n){return this.finished.then(t,n)}get duration(){return Ur(this.calculatedDuration)}get time(){return Ur(this.currentTime)}set time(t){t=jr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ur(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=A5,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function F5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Il=e=>e*180/Math.PI,c_=e=>{const t=Il(Math.atan2(e[1],e[0]));return h_(t)},H5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:c_,rotateZ:c_,skewX:e=>Il(Math.atan(e[1])),skewY:e=>Il(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},h_=e=>(e=e%360,e<0&&(e+=360),e),hS=c_,fS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),q5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fS,scaleY:dS,scale:e=>(fS(e)+dS(e))/2,rotateX:e=>h_(Il(Math.atan2(e[6],e[5]))),rotateY:e=>h_(Il(Math.atan2(-e[2],e[0]))),rotateZ:hS,rotate:hS,skewX:e=>Il(Math.atan(e[4])),skewY:e=>Il(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function f_(e){return e.includes("scale")?1:0}function d_(e,t){if(!e||e==="none")return f_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=q5,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=H5,o=m}if(!o)return f_(t);const u=s[t],f=o[1].split(",").map(W5);return typeof u=="function"?u(f):f[u]}const G5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return d_(n,t)};function W5(e){return parseFloat(e.trim())}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uc=new Set(lc),mS=e=>e===oc||e===Zt,Z5=new Set(["x","y","z"]),K5=lc.filter(e=>!Z5.has(e));function Y5(e){const t=[];return K5.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ml={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>d_(t,"x"),y:(e,{transform:t})=>d_(t,"y")};Ml.translateX=Ml.x;Ml.translateY=Ml.y;const Dl=new Set;let m_=!1,p_=!1,g_=!1;function KR(){if(p_){const e=Array.from(Dl).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=Y5(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}p_=!1,m_=!1,Dl.forEach(e=>e.complete(g_)),Dl.clear()}function YR(){Dl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(p_=!0)})}function $5(){g_=!0,YR(),KR(),g_=!1}class e0{constructor(t,n,s,o,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Dl.add(this),m_||(m_=!0,Me.read(YR),Me.resolveKeyframes(KR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const m=s.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}F5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Dl.delete(this)}cancel(){this.state==="scheduled"&&(Dl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X5=e=>e.startsWith("--");function Q5(e,t,n){X5(t)?e.style.setProperty(t,n):e.style[t]=n}const $R=zv(()=>window.ScrollTimeline!==void 0),J5={};function t4(e,t){const n=zv(e);return()=>J5[t]??n()}const XR=t4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dh=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,pS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dh([0,.65,.55,1]),circOut:dh([.55,0,1,.45]),backIn:dh([.31,.01,.66,-.59]),backOut:dh([.33,1.53,.69,.99])};function QR(e,t){if(e)return typeof e=="function"?XR()?qR(e,t):"ease-out":NR(e)?dh(e):Array.isArray(e)?e.map(n=>QR(n,t)||pS.easeOut):pS[e]}function e4(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:m="easeOut",times:y}={},_=void 0){const E={[t]:n};y&&(E.offset=y);const A=QR(m,o);Array.isArray(A)&&(E.easing=A);const S={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return _&&(S.pseudoElement=_),e.animate(E,S)}function JR(e){return typeof e=="function"&&"applyToOptions"in e}function n4({type:e,...t}){return JR(e)&&XR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class i4 extends Jv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Bh(typeof t.type!="string");const _=n4(t);this.animation=e4(n,s,o,_,u),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const E=Qv(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(E):Q5(n,s,E),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ur(Number(t))}get time(){return Ur(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=jr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$R()?(this.animation.timeline=t,Zi):n(this)}}const tC={anticipate:PR,backInOut:IR,circInOut:MR};function s4(e){return e in tC}function r4(e){typeof e.ease=="string"&&s4(e.ease)&&(e.ease=tC[e.ease])}const gS=10;class a4 extends i4{constructor(t){r4(t),ZR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new t0({...f,autoplay:!1}),y=jr(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-gS).value,m.sample(y).value,gS),m.stop()}}const yS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bo.test(e)||e==="0")&&!e.startsWith("url("));function o4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function l4(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=yS(o,t),m=yS(u,t);return!f||!m?!1:o4(e)||(n==="spring"||JR(n))&&s}const u4=new Set(["opacity","clipPath","filter","transform"]),c4=zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=t.owner.getProps();return c4()&&n&&u4.has(n)&&(n!=="transform"||!_)&&!y&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}const f4=40;class d4 extends Jv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:m,name:y,motionValue:_,element:E,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gi.now();const S={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:f,name:y,motionValue:_,element:E,...A},M=E?.KeyframeResolver||e0;this.keyframeResolver=new M(m,(k,F,q)=>this.onKeyframesResolved(k,F,S,!q),y,_,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:m,delay:y,isHandoff:_,onUpdate:E}=s;this.resolvedAt=Gi.now(),l4(t,u,f,m)||((Pa.instantAnimations||!y)&&E?.(Qv(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>f4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},M=!_&&h4(S)?new a4({...S,element:S.motionValue.owner.current}):new t0(S);M.finished.then(()=>this.notifyFinished()).catch(Zi),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const m4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p4(e){const t=m4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function eC(e,t,n=1){const[s,o]=p4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return ER(f)?parseFloat(f):f}return Wv(o)?eC(o,t,n+1):o}function n0(e,t){return e?.[t]??e?.default??e}const nC=new Set(["width","height","top","left","right","bottom",...lc]),g4={test:e=>e==="auto",parse:e=>e},iC=e=>t=>t.test(e),sC=[oc,Zt,zr,Eo,c5,u5,g4],_S=e=>sC.find(iC(e));function y4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||SR(e):!0}const _4=new Set(["brightness","contrast","saturate","opacity"]);function v4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Zv)||[];if(!s)return e;const o=n.replace(s,"");let u=_4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const T4=/\b([a-z-]*)\(.*?\)/gu,y_={...Bo,getAnimatableNone:e=>{const t=e.match(T4);return t?t.map(v4).join(" "):e}},vS={...oc,transform:Math.round},b4={rotate:Eo,rotateX:Eo,rotateY:Eo,rotateZ:Eo,scale:Rd,scaleX:Rd,scaleY:Rd,scaleZ:Rd,skew:Eo,skewX:Eo,skewY:Eo,distance:Zt,translateX:Zt,translateY:Zt,translateZ:Zt,x:Zt,y:Zt,z:Zt,perspective:Zt,transformPerspective:Zt,opacity:Fh,originX:aS,originY:aS,originZ:Zt},i0={borderWidth:Zt,borderTopWidth:Zt,borderRightWidth:Zt,borderBottomWidth:Zt,borderLeftWidth:Zt,borderRadius:Zt,radius:Zt,borderTopLeftRadius:Zt,borderTopRightRadius:Zt,borderBottomRightRadius:Zt,borderBottomLeftRadius:Zt,width:Zt,maxWidth:Zt,height:Zt,maxHeight:Zt,top:Zt,right:Zt,bottom:Zt,left:Zt,padding:Zt,paddingTop:Zt,paddingRight:Zt,paddingBottom:Zt,paddingLeft:Zt,margin:Zt,marginTop:Zt,marginRight:Zt,marginBottom:Zt,marginLeft:Zt,backgroundPositionX:Zt,backgroundPositionY:Zt,...b4,zIndex:vS,fillOpacity:Fh,strokeOpacity:Fh,numOctaves:vS},E4={...i0,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:y_,WebkitFilter:y_},rC=e=>E4[e];function aC(e,t){let n=rC(e);return n!==y_&&(n=Bo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const w4=new Set(["auto","none","0"]);function S4(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!w4.has(u)&&Hh(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=aC(n,o)}class x4 extends e0{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Wv(_))){const E=eC(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!nC.has(s)||t.length!==2)return;const[o,u]=t,f=_S(o),m=_S(u);if(f!==m)if(mS(f)&&mS(m))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Ml[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||y4(t[o]))&&s.push(o);s.length&&S4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ml[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=Ml[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function oC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const lC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function uC(e){return wR(e)&&"offsetHeight"in e}const TS=30,A4=e=>!isNaN(parseFloat(e)),Sh={current:void 0};class R4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=Gi.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Gi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=A4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Bv);const s=this.events[t].add(n);return t==="change"?()=>{s(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Sh.current&&Sh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>TS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TS);return Fv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lr(e,t){return new R4(e,t)}const{schedule:s0}=OR(queueMicrotask,!1),ar={x:!1,y:!1};function cC(){return ar.x||ar.y}function C4(e){return e==="x"||e==="y"?ar[e]?null:(ar[e]=!0,()=>{ar[e]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}function hC(e,t){const n=oC(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function bS(e){return!(e.pointerType==="touch"||cC())}function I4(e,t,n={}){const[s,o,u]=hC(e,n),f=m=>{if(!bS(m))return;const{target:y}=m,_=t(y,m);if(typeof _!="function"||!y)return;const E=A=>{bS(A)&&(_(A),y.removeEventListener("pointerleave",E))};y.addEventListener("pointerleave",E,o)};return s.forEach(m=>{m.addEventListener("pointerenter",f,o)}),u}const fC=(e,t)=>t?e===t?!0:fC(e,t.parentElement):!1,r0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,P4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L4(e){return P4.has(e.tagName)||e.tabIndex!==-1}const Yd=new WeakSet;function ES(e){return t=>{t.key==="Enter"&&e(t)}}function vy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const M4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ES(()=>{if(Yd.has(n))return;vy(n,"down");const o=ES(()=>{vy(n,"up")}),u=()=>vy(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function wS(e){return r0(e)&&!cC()}function D4(e,t,n={}){const[s,o,u]=hC(e,n),f=m=>{const y=m.currentTarget;if(!wS(m))return;Yd.add(y);const _=t(y,m),E=(M,k)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",S),Yd.has(y)&&Yd.delete(y),wS(M)&&typeof _=="function"&&_(M,{success:k})},A=M=>{E(M,y===window||y===document||n.useGlobalTarget||fC(y,M.target))},S=M=>{E(M,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",S,o)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",f,o),uC(m)&&(m.addEventListener("focus",_=>M4(_,o)),!L4(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function a0(e){return wR(e)&&"ownerSVGElement"in e}const $d=new WeakMap;let Xd;const dC=(e,t,n)=>(s,o)=>o&&o[0]?o[0][e+"Size"]:a0(s)&&"getBBox"in s?s.getBBox()[t]:s[n],N4=dC("inline","width","offsetWidth"),O4=dC("block","height","offsetHeight");function k4({target:e,borderBoxSize:t}){$d.get(e)?.forEach(n=>{n(e,{get width(){return N4(e,t)},get height(){return O4(e,t)}})})}function V4(e){e.forEach(k4)}function j4(){typeof ResizeObserver>"u"||(Xd=new ResizeObserver(V4))}function U4(e,t){Xd||j4();const n=oC(e);return n.forEach(s=>{let o=$d.get(s);o||(o=new Set,$d.set(s,o)),o.add(t),Xd?.observe(s)}),()=>{n.forEach(s=>{const o=$d.get(s);o?.delete(t),o?.size||Xd?.unobserve(s)})}}const Qd=new Set;let Lu;function z4(){Lu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Qd.forEach(t=>t(e))},window.addEventListener("resize",Lu)}function B4(e){return Qd.add(e),Lu||z4(),()=>{Qd.delete(e),!Qd.size&&typeof Lu=="function"&&(window.removeEventListener("resize",Lu),Lu=void 0)}}function F4(e,t){return typeof e=="function"?B4(e):U4(e,t)}function mC(e,t){let n;const s=()=>{const{currentTime:o}=t,f=(o===null?0:o.value)/100;n!==f&&e(f),n=f};return Me.preUpdate(s,!0),()=>hr(s)}function H4(e){return a0(e)&&e.tagName==="svg"}function q4(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],u=e[2+n],f=e[3+n],m=Xv(o,u,f);return t?m(s):m}const mi=e=>!!(e&&e.getVelocity),G4=[...sC,En,Bo],W4=e=>G4.find(iC(e)),o0=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Z4(e=!0){const t=N.useContext(Vv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=N.useId();N.useEffect(()=>{if(e)return o(u)},[e]);const f=N.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const pC=N.createContext({strict:!1}),SS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$u={};for(const e in SS)$u[e]={isEnabled:t=>SS[e].some(n=>!!t[n])};function K4(e){for(const t in e)$u[t]={...$u[t],...e[t]}}const Y4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Im(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y4.has(e)}let gC=e=>!Im(e);function $4(e){typeof e=="function"&&(gC=t=>t.startsWith("on")?!Im(t):e(t))}try{$4(require("@emotion/is-prop-valid").default)}catch{}function X4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(gC(o)||n===!0&&Im(o)||!t&&!Im(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const lp=N.createContext({});function up(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qh(e){return typeof e=="string"||Array.isArray(e)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u0=["initial",...l0];function cp(e){return up(e.animate)||u0.some(t=>qh(e[t]))}function yC(e){return!!(cp(e)||e.variants)}function Q4(e,t){if(cp(e)){const{initial:n,animate:s}=e;return{initial:n===!1||qh(n)?n:void 0,animate:qh(s)?s:void 0}}return e.inherit!==!1?t:{}}function J4(e){const{initial:t,animate:n}=Q4(e,N.useContext(lp));return N.useMemo(()=>({initial:t,animate:n}),[xS(t),xS(n)])}function xS(e){return Array.isArray(e)?e.join(" "):e}const Gh={};function tU(e){for(const t in e)Gh[t]=e[t],Gv(t)&&(Gh[t].isCSSVariable=!0)}function _C(e,{layout:t,layoutId:n}){return uc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gh[e]||e==="opacity")}const eU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nU=lc.length;function iU(e,t,n){let s="",o=!0;for(let u=0;u<nU;u++){const f=lc[u],m=e[f];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(f.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const _=lC(m,i0[f]);if(!y){o=!1;const E=eU[f]||f;s+=`${E}(${_}) `}n&&(t[f]=_)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function c0(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let f=!1,m=!1;for(const y in t){const _=t[y];if(uc.has(y)){f=!0;continue}else if(Gv(y)){o[y]=_;continue}else{const E=lC(_,i0[y]);y.startsWith("origin")?(m=!0,u[y]=E):s[y]=E}}if(t.transform||(f||n?s.transform=iU(t,e.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:_="50%",originZ:E=0}=u;s.transformOrigin=`${y} ${_} ${E}`}}const h0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vC(e,t,n){for(const s in t)!mi(t[s])&&!_C(s,n)&&(e[s]=t[s])}function sU({transformTemplate:e},t){return N.useMemo(()=>{const n=h0();return c0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rU(e,t){const n=e.style||{},s={};return vC(s,n,e),Object.assign(s,sU(e,t)),s}function aU(e,t){const n={},s=rU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const oU={offset:"stroke-dashoffset",array:"stroke-dasharray"},lU={offset:"strokeDashoffset",array:"strokeDasharray"};function uU(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?oU:lU;e[u.offset]=Zt.transform(-s);const f=Zt.transform(t),m=Zt.transform(n);e[u.array]=`${f} ${m}`}function TC(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...m},y,_,E){if(c0(e,m,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:S}=e;A.transform&&(S.transform=A.transform,delete A.transform),(S.transform||A.transformOrigin)&&(S.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),S.transform&&(S.transformBox=E?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&uU(A,o,u,f,!1)}const bC=()=>({...h0(),attrs:{}}),EC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cU(e,t,n,s){const o=N.useMemo(()=>{const u=bC();return TC(u,t,EC(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};vC(u,e.style,e),o.style={...u,...o.style}}return o}const hU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(e){return typeof e!="string"||e.includes("-")?!1:!!(hU.indexOf(e)>-1||/[A-Z]/u.test(e))}function fU(e,t,n,{latestValues:s},o,u=!1){const m=(f0(e)?cU:aU)(t,s,o,e),y=X4(t,typeof e=="string",u),_=e!==N.Fragment?{...y,...m,ref:n}:{},{children:E}=t,A=N.useMemo(()=>mi(E)?E.get():E,[E]);return N.createElement(e,{..._,children:A})}function AS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function d0(e,t,n,s){if(typeof t=="function"){const[o,u]=AS(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=AS(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function Jd(e){return mi(e)?e.get():e}function dU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:mU(n,s,o,e),renderState:t()}}function mU(e,t,n,s){const o={},u=s(e,{});for(const S in u)o[S]=Jd(u[S]);let{initial:f,animate:m}=e;const y=cp(e),_=yC(e);t&&_&&!y&&e.inherit!==!1&&(f===void 0&&(f=t.initial),m===void 0&&(m=t.animate));let E=n?n.initial===!1:!1;E=E||f===!1;const A=E?m:f;if(A&&typeof A!="boolean"&&!up(A)){const S=Array.isArray(A)?A:[A];for(let M=0;M<S.length;M++){const k=d0(e,S[M]);if(k){const{transitionEnd:F,transition:q,...W}=k;for(const et in W){let $=W[et];if(Array.isArray($)){const Tt=E?$.length-1:0;$=$[Tt]}$!==null&&(o[et]=$)}for(const et in F)o[et]=F[et]}}}return o}const wC=e=>(t,n)=>{const s=N.useContext(lp),o=N.useContext(Vv),u=()=>dU(e,t,s,o);return n?u():op(u)};function m0(e,t,n){const{style:s}=e,o={};for(const u in s)(mi(s[u])||t.style&&mi(t.style[u])||_C(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const pU=wC({scrapeMotionValuesFromProps:m0,createRenderState:h0});function SC(e,t,n){const s=m0(e,t,n);for(const o in e)if(mi(e[o])||mi(t[o])){const u=lc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const gU=wC({scrapeMotionValuesFromProps:SC,createRenderState:bC}),yU=Symbol.for("motionComponentSymbol");function Mu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _U(e,t,n){return N.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Mu(n)&&(n.current=s))},[t])}const p0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vU="framerAppearId",xC="data-"+p0(vU),AC=N.createContext({});function TU(e,t,n,s,o){const{visualElement:u}=N.useContext(lp),f=N.useContext(pC),m=N.useContext(Vv),y=N.useContext(o0).reducedMotion,_=N.useRef(null);s=s||f.renderer,!_.current&&s&&(_.current=s(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,A=N.useContext(AC);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&bU(_.current,n,o,A);const S=N.useRef(!1);N.useInsertionEffect(()=>{E&&S.current&&E.update(n,m)});const M=n[xC],k=N.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return kv(()=>{E&&(S.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),k.current&&E.animationState&&E.animationState.animateChanges())}),N.useEffect(()=>{E&&(!k.current&&E.animationState&&E.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),k.current=!1))}),E}function bU(e,t,n,s){const{layoutId:o,layout:u,drag:f,dragConstraints:m,layoutScroll:y,layoutRoot:_,layoutCrossfade:E}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RC(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||m&&Mu(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:E,layoutScroll:y,layoutRoot:_})}function RC(e){if(e)return e.options.allowProjection!==!1?e.projection:RC(e.parent)}function Ty(e,{forwardMotionProps:t=!1}={},n,s){n&&K4(n);const o=f0(e)?gU:pU;function u(m,y){let _;const E={...N.useContext(o0),...m,layoutId:EU(m)},{isStatic:A}=E,S=J4(m),M=o(m,A);if(!A&&Ov){wU();const k=SU(E);_=k.MeasureLayout,S.visualElement=TU(e,M,E,s,k.ProjectionNode)}return T.jsxs(lp.Provider,{value:S,children:[_&&S.visualElement?T.jsx(_,{visualElement:S.visualElement,...E}):null,fU(e,m,_U(M,S.visualElement,y),M,A,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=N.forwardRef(u);return f[yU]=e,f}function EU({layoutId:e}){const t=N.useContext(bR).id;return t&&e!==void 0?t+"-"+e:e}function wU(e,t){N.useContext(pC).strict}function SU(e){const{drag:t,layout:n}=$u;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function xU(e,t){if(typeof Proxy>"u")return Ty;const n=new Map,s=(u,f)=>Ty(u,f,e,t),o=(u,f)=>s(u,f);return new Proxy(o,{get:(u,f)=>f==="create"?s:(n.has(f)||n.set(f,Ty(f,void 0,e,t)),n.get(f))})}function CC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function AU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function RU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function by(e){return e===void 0||e===1}function __({scale:e,scaleX:t,scaleY:n}){return!by(e)||!by(t)||!by(n)}function xl(e){return __(e)||IC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IC(e){return RS(e.x)||RS(e.y)}function RS(e){return e&&e!=="0%"}function Pm(e,t,n){const s=e-n,o=t*s;return n+o}function CS(e,t,n,s,o){return o!==void 0&&(e=Pm(e,o,s)),Pm(e,n,s)+t}function v_(e,t=0,n=1,s,o){e.min=CS(e.min,t,n,s,o),e.max=CS(e.max,t,n,s,o)}function PC(e,{x:t,y:n}){v_(e.x,t.translate,t.scale,t.originPoint),v_(e.y,n.translate,n.scale,n.originPoint)}const IS=.999999999999,PS=1.0000000000001;function CU(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,f;for(let m=0;m<o;m++){u=n[m],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Nu(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,PC(e,f)),s&&xl(u.latestValues)&&Nu(e,u.latestValues))}t.x<PS&&t.x>IS&&(t.x=1),t.y<PS&&t.y>IS&&(t.y=1)}function Du(e,t){e.min=e.min+t,e.max=e.max+t}function LS(e,t,n,s,o=.5){const u=en(e.min,e.max,o);v_(e,t,n,u,s)}function Nu(e,t){LS(e.x,t.x,t.scaleX,t.scale,t.originX),LS(e.y,t.y,t.scaleY,t.scale,t.originY)}function LC(e,t){return CC(RU(e.getBoundingClientRect(),t))}function IU(e,t,n){const s=LC(e,n),{scroll:o}=t;return o&&(Du(s.x,o.offset.x),Du(s.y,o.offset.y)),s}const MS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ou=()=>({x:MS(),y:MS()}),DS=()=>({min:0,max:0}),dn=()=>({x:DS(),y:DS()}),T_={current:null},MC={current:!1};function PU(){if(MC.current=!0,!!Ov)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>T_.current=e.matches;e.addEventListener("change",t),t()}else T_.current=!1}const LU=new WeakMap;function MU(e,t,n){for(const s in t){const o=t[s],u=n[s];if(mi(o))e.addValue(s,o);else if(mi(u))e.addValue(s,lr(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=e.getStaticValue(s);e.addValue(s,lr(f!==void 0?f:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const NS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DU{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Gi.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Me.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=cp(n),this.isVariantNode=yC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in A){const M=A[S];y[S]!==void 0&&mi(M)&&M.set(y[S],!1)}}mount(t){this.current=t,LU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),MC.current||PU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=uc.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&Me.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $u){const n=$u[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<NS.length;s++){const o=NS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=MU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=lr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(ER(s)||SR(s))?s=parseFloat(s):!W4(s)&&Bo.test(n)&&(s=aC(t,n)),this.setBaseTarget(t,mi(s)?s.get():s)),mi(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=d0(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!mi(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Bv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){s0.render(this.render)}}class DC extends DU{constructor(){super(...arguments),this.KeyframeResolver=x4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NC(e,{style:t,vars:n},s,o){const u=e.style;let f;for(f in t)u[f]=t[f];o?.applyProjectionStyles(u,s);for(f in n)u.setProperty(f,n[f])}function NU(e){return window.getComputedStyle(e)}class OU extends DC{constructor(){super(...arguments),this.type="html",this.renderInstance=NC}readValueFromInstance(t,n){if(uc.has(n))return this.projection?.isProjecting?f_(n):G5(t,n);{const s=NU(t),o=(Gv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LC(t,n)}build(t,n,s){c0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return m0(t,n,s)}}const OC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kU(e,t,n,s){NC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(OC.has(o)?o:p0(o),t.attrs[o])}class VU extends DC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(uc.has(n)){const s=rC(n);return s&&s.default||0}return n=OC.has(n)?n:p0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return SC(t,n,s)}build(t,n,s){TC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){kU(t,n,s,o)}mount(t){this.isSVGTag=EC(t.tagName),super.mount(t)}}const jU=(e,t)=>f0(e)?new VU(t):new OU(t,{allowProjection:e!==N.Fragment});function Wh(e,t,n){const s=e.getProps();return d0(s,t,n!==void 0?n:s.custom,e)}const b_=e=>Array.isArray(e);function UU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,lr(n))}function zU(e){return b_(e)?e[e.length-1]||0:e}function BU(e,t){const n=Wh(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const f in u){const m=zU(u[f]);UU(e,f,m)}}function FU(e){return!!(mi(e)&&e.add)}function E_(e,t){const n=e.getValue("willChange");if(FU(n))return n.add(t);if(!n&&Pa.WillChange){const s=new Pa.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function kC(e){return e.props[xC]}const HU=e=>e!==null;function qU(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(HU),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const GU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZU={type:"keyframes",duration:.8},KU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YU=(e,{keyframes:t})=>t.length>2?ZU:uc.has(e)?e.startsWith("scale")?WU(t[1]):GU:KU;function $U({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:m,from:y,elapsed:_,...E}){return!!Object.keys(E).length}const g0=(e,t,n,s={},o,u)=>f=>{const m=n0(s,e)||{},y=m.delay||s.delay||0;let{elapsed:_=0}=s;_=_-jr(y);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-_,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};$U(m)||Object.assign(E,YU(e,E)),E.duration&&(E.duration=jr(E.duration)),E.repeatDelay&&(E.repeatDelay=jr(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(A=!0)),(Pa.instantAnimations||Pa.skipAnimations)&&(A=!0,E.duration=0,E.delay=0),E.allowFlatten=!m.type&&!m.ease,A&&!u&&t.get()!==void 0){const S=qU(E.keyframes,m);if(S!==void 0){Me.update(()=>{E.onUpdate(S),E.onComplete()});return}}return m.isSync?new t0(E):new d4(E)};function XU({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function VC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:f,...m}=t;s&&(u=s);const y=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const E in m){const A=e.getValue(E,e.latestValues[E]??null),S=m[E];if(S===void 0||_&&XU(_,E))continue;const M={delay:n,...n0(u||{},E)},k=A.get();if(k!==void 0&&!A.isAnimating&&!Array.isArray(S)&&S===k&&!M.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const W=kC(e);if(W){const et=window.MotionHandoffAnimation(W,E,Me);et!==null&&(M.startTime=et,F=!0)}}E_(e,E),A.start(g0(E,A,S,e.shouldReduceMotion&&nC.has(E)?{type:!1}:M,e,F));const q=A.animation;q&&y.push(q)}return f&&Promise.all(y).then(()=>{Me.update(()=>{f&&BU(e,f)})}),y}function w_(e,t,n={}){const s=Wh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(VC(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:E,staggerDirection:A}=o;return QU(e,t,y,_,E,A,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,_]=m==="beforeChildren"?[u,f]:[f,u];return y().then(()=>_())}else return Promise.all([u(),f(n.delay)])}function QU(e,t,n=0,s=0,o=0,u=1,f){const m=[],y=e.variantChildren.size,_=(y-1)*o,E=typeof s=="function",A=E?S=>s(S,y):u===1?(S=0)=>S*o:(S=0)=>_-S*o;return Array.from(e.variantChildren).sort(JU).forEach((S,M)=>{S.notify("AnimationStart",t),m.push(w_(S,t,{...f,delay:n+(E?0:s)+A(M)}).then(()=>S.notify("AnimationComplete",t)))}),Promise.all(m)}function JU(e,t){return e.sortNodePosition(t)}function t3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>w_(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=w_(e,t,n);else{const o=typeof t=="function"?Wh(e,t,n.custom):t;s=Promise.all(VC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function jC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const e3=u0.length;function UC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?UC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<e3;n++){const s=u0[n],o=e.props[s];(qh(o)||o===!1)&&(t[s]=o)}return t}const n3=[...l0].reverse(),i3=l0.length;function s3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>t3(e,n,s)))}function r3(e){let t=s3(e),n=OS(),s=!0;const o=y=>(_,E)=>{const A=Wh(e,E,y==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:S,transitionEnd:M,...k}=A;_={..._,...k,...M}}return _};function u(y){t=y(e)}function f(y){const{props:_}=e,E=UC(e.parent)||{},A=[],S=new Set;let M={},k=1/0;for(let q=0;q<i3;q++){const W=n3[q],et=n[W],$=_[W]!==void 0?_[W]:E[W],Tt=qh($),dt=W===y?et.isActive:null;dt===!1&&(k=q);let At=$===E[W]&&$!==_[W]&&Tt;if(At&&s&&e.manuallyAnimateOnMount&&(At=!1),et.protectedKeys={...M},!et.isActive&&dt===null||!$&&!et.prevProp||up($)||typeof $=="boolean")continue;const Z=a3(et.prevProp,$);let O=Z||W===y&&et.isActive&&!At&&Tt||q>k&&Tt,U=!1;const G=Array.isArray($)?$:[$];let K=G.reduce(o(W),{});dt===!1&&(K={});const{prevResolvedValues:H={}}=et,V={...H,...K},Ot=mt=>{O=!0,S.has(mt)&&(U=!0,S.delete(mt)),et.needsAnimating[mt]=!0;const ct=e.getValue(mt);ct&&(ct.liveStyle=!1)};for(const mt in V){const ct=K[mt],Yt=H[mt];if(M.hasOwnProperty(mt))continue;let j=!1;b_(ct)&&b_(Yt)?j=!jC(ct,Yt):j=ct!==Yt,j?ct!=null?Ot(mt):S.add(mt):ct!==void 0&&S.has(mt)?Ot(mt):et.protectedKeys[mt]=!0}et.prevProp=$,et.prevResolvedValues=K,et.isActive&&(M={...M,...K}),s&&e.blockInitialAnimation&&(O=!1),O&&(!(At&&Z)||U)&&A.push(...G.map(mt=>({animation:mt,options:{type:W}})))}if(S.size){const q={};if(typeof _.initial!="boolean"){const W=Wh(e,Array.isArray(_.initial)?_.initial[0]:_.initial);W&&W.transition&&(q.transition=W.transition)}S.forEach(W=>{const et=e.getBaseTarget(W),$=e.getValue(W);$&&($.liveStyle=!0),q[W]=et??null}),A.push({animation:q})}let F=!!A.length;return s&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(F=!1),s=!1,F?t(A):Promise.resolve()}function m(y,_){if(n[y].isActive===_)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(y,_)),n[y].isActive=_;const E=f(y);for(const A in n)n[A].protectedKeys={};return E}return{animateChanges:f,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=OS(),s=!0}}}function a3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jC(t,e):!1}function wl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OS(){return{animate:wl(!0),whileInView:wl(),whileHover:wl(),whileTap:wl(),whileDrag:wl(),whileFocus:wl(),exit:wl()}}class Yo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class o3 extends Yo{constructor(t){super(t),t.animationState||(t.animationState=r3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();up(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let l3=0;class u3 extends Yo{constructor(){super(...arguments),this.id=l3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const c3={animation:{Feature:o3},exit:{Feature:u3}};function Zh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function pf(e){return{point:{x:e.pageX,y:e.pageY}}}const h3=e=>t=>r0(t)&&e(t,pf(t));function xh(e,t,n,s){return Zh(e,t,h3(n),s)}const zC=1e-4,f3=1-zC,d3=1+zC,BC=.01,m3=0-BC,p3=0+BC;function Ri(e){return e.max-e.min}function g3(e,t,n){return Math.abs(e-t)<=n}function kS(e,t,n,s=.5){e.origin=s,e.originPoint=en(t.min,t.max,e.origin),e.scale=Ri(n)/Ri(t),e.translate=en(n.min,n.max,e.origin)-e.originPoint,(e.scale>=f3&&e.scale<=d3||isNaN(e.scale))&&(e.scale=1),(e.translate>=m3&&e.translate<=p3||isNaN(e.translate))&&(e.translate=0)}function Ah(e,t,n,s){kS(e.x,t.x,n.x,s?s.originX:void 0),kS(e.y,t.y,n.y,s?s.originY:void 0)}function VS(e,t,n){e.min=n.min+t.min,e.max=e.min+Ri(t)}function y3(e,t,n){VS(e.x,t.x,n.x),VS(e.y,t.y,n.y)}function jS(e,t,n){e.min=t.min-n.min,e.max=e.min+Ri(t)}function Rh(e,t,n){jS(e.x,t.x,n.x),jS(e.y,t.y,n.y)}function Us(e){return[e("x"),e("y")]}const FC=({current:e})=>e?e.ownerDocument.defaultView:null,US=(e,t)=>Math.abs(e-t);function _3(e,t){const n=US(e.x,t.x),s=US(e.y,t.y);return Math.sqrt(n**2+s**2)}class HC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=wy(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,k=_3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!k)return;const{point:F}=S,{timestamp:q}=qn;this.history.push({...F,timestamp:q});const{onStart:W,onMove:et}=this.handlers;M||(W&&W(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),et&&et(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ey(M,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:k,onSessionEnd:F,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=wy(S.type==="pointercancel"?this.lastMoveEventInfo:Ey(M,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,W),F&&F(S,W)},!r0(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=o||window;const m=pf(t),y=Ey(m,this.transformPagePoint),{point:_}=y,{timestamp:E}=qn;this.history=[{..._,timestamp:E}];const{onSessionStart:A}=n;A&&A(t,wy(y,this.history)),this.removeListeners=ff(xh(this.contextWindow,"pointermove",this.handlePointerMove),xh(this.contextWindow,"pointerup",this.handlePointerUp),xh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function Ey(e,t){return t?{point:t(e.point)}:e}function zS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wy({point:e},t){return{point:e,delta:zS(e,qC(t)),offset:zS(e,v3(t)),velocity:T3(t,.1)}}function v3(e){return e[0]}function qC(e){return e[e.length-1]}function T3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=qC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>jr(t)));)n--;if(!s)return{x:0,y:0};const u=Ur(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function b3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?en(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?en(n,e,s.max):Math.min(e,n)),e}function BS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function E3(e,{top:t,left:n,bottom:s,right:o}){return{x:BS(e.x,n,o),y:BS(e.y,t,s)}}function FS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function w3(e,t){return{x:FS(e.x,t.x),y:FS(e.y,t.y)}}function S3(e,t){let n=.5;const s=Ri(e),o=Ri(t);return o>s?n=Yu(t.min,t.max-s,e.min):s>o&&(n=Yu(e.min,e.max-o,t.min)),Fr(0,1,n)}function x3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const S_=.35;function A3(e=S_){return e===!1?e=0:e===!0&&(e=S_),{x:HS(e,"left","right"),y:HS(e,"top","bottom")}}function HS(e,t,n){return{min:qS(e,t),max:qS(e,n)}}function qS(e,t){return typeof e=="number"?e:e[t]||0}const R3=new WeakMap;class C3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=A=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pf(A).point)},f=(A,S)=>{const{drag:M,dragPropagation:k,onDragStart:F}=this.getProps();if(M&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C4(M),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Us(W=>{let et=this.getAxisMotionValue(W).get()||0;if(zr.test(et)){const{projection:$}=this.visualElement;if($&&$.layout){const Tt=$.layout.layoutBox[W];Tt&&(et=Ri(Tt)*(parseFloat(et)/100))}}this.originPoint[W]=et}),F&&Me.postRender(()=>F(A,S)),E_(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},m=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S;const{dragPropagation:M,dragDirectionLock:k,onDirectionLock:F,onDrag:q}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:W}=S;if(k&&this.currentDirection===null){this.currentDirection=I3(W),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",S.point,W),this.updateAxis("y",S.point,W),this.visualElement.render(),q&&q(A,S)},y=(A,S)=>{this.latestPointerEvent=A,this.latestPanInfo=S,this.stop(A,S),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>Us(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:E}=this.getProps();this.panSession=new HC(t,{onSessionStart:u,onStart:f,onMove:m,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:s,contextWindow:FC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:f}=o;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&Me.postRender(()=>m(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Cd(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=b3(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Mu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=E3(s.layoutBox,t):this.constraints=!1,this.elastic=A3(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Us(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=x3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mu(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=IU(s,o.root,this.visualElement.getTransformPagePoint());let f=w3(o.layout.layoutBox,u);if(n){const m=n(AU(f));this.hasMutatedConstraints=!!m,m&&(f=CC(m))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},_=Us(E=>{if(!Cd(E,n,this.currentDirection))return;let A=y&&y[E]||{};f&&(A={min:0,max:0});const S=o?200:1e6,M=o?40:1e7,k={type:"inertia",velocity:s?t[E]:0,bounceStiffness:S,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(E,k)});return Promise.all(_).then(m)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return E_(this.visualElement,t),s.start(g0(t,s,0,n,this.visualElement,!1))}stopAnimation(){Us(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Us(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Us(n=>{const{drag:s}=this.getProps();if(!Cd(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:m}=o.layout.layoutBox[n];u.set(t[n]-en(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Mu(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Us(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const y=m.get();o[f]=S3({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Us(f=>{if(!Cd(f,t,null))return;const m=this.getAxisMotionValue(f),{min:y,max:_}=this.constraints[f];m.set(en(y,_,o[f]))})}addListeners(){if(!this.visualElement.current)return;R3.set(this.visualElement,this);const t=this.visualElement.current,n=xh(t,"pointerdown",y=>{const{drag:_,dragListener:E=!0}=this.getProps();_&&E&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Mu(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Me.read(s);const f=Zh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(Us(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=y[E].translate,A.set(A.get()+y[E].translate))}),this.visualElement.render())});return()=>{f(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=S_,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:m}}}function Cd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function I3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class P3 extends Yo{constructor(t){super(t),this.removeGroupControls=Zi,this.removeListeners=Zi,this.controls=new C3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zi}unmount(){this.removeGroupControls(),this.removeListeners()}}const GS=e=>(t,n)=>{e&&Me.postRender(()=>e(t,n))};class L3 extends Yo{constructor(){super(...arguments),this.removePointerDownListener=Zi}onPointerDown(t){this.session=new HC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:GS(t),onStart:GS(n),onMove:s,onEnd:(u,f)=>{delete this.session,o&&Me.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=xh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Zt.test(e))e=parseFloat(e);else return e;const n=WS(e,t.target.x),s=WS(e,t.target.y);return`${n}% ${s}%`}},M3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Bo.parse(e);if(o.length>5)return s;const u=Bo.createTransformer(e),f=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,y=n.y.scale*t.y;o[0+f]/=m,o[1+f]/=y;const _=en(m,y,.5);return typeof o[2+f]=="number"&&(o[2+f]/=_),typeof o[3+f]=="number"&&(o[3+f]/=_),u(o)}};let ZS=!1;class D3 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;tU(N3),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),ZS&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,ZS=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||Me.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),s0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GC(e){const[t,n]=Z4(),s=N.useContext(bR);return T.jsx(D3,{...e,layoutGroup:s,switchLayoutGroup:N.useContext(AC),isPresent:t,safeToRemove:n})}const N3={borderRadius:{...nh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nh,borderTopRightRadius:nh,borderBottomLeftRadius:nh,borderBottomRightRadius:nh,boxShadow:M3};function O3(e,t,n){const s=mi(e)?e:lr(e);return s.start(g0("",s,t,n)),s.animation}const k3=(e,t)=>e.depth-t.depth;class V3{constructor(){this.children=[],this.isDirty=!1}add(t){jv(this.children,t),this.isDirty=!0}remove(t){Uv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(k3),this.isDirty=!1,this.children.forEach(t)}}function j3(e,t){const n=Gi.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(hr(s),e(u-t))};return Me.setup(s,!0),()=>hr(s)}const WC=["TopLeft","TopRight","BottomLeft","BottomRight"],U3=WC.length,KS=e=>typeof e=="string"?parseFloat(e):e,YS=e=>typeof e=="number"||Zt.test(e);function z3(e,t,n,s,o,u){o?(e.opacity=en(0,n.opacity??1,B3(s)),e.opacityExit=en(t.opacity??1,0,F3(s))):u&&(e.opacity=en(t.opacity??1,n.opacity??1,s));for(let f=0;f<U3;f++){const m=`border${WC[f]}Radius`;let y=$S(t,m),_=$S(n,m);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||YS(y)===YS(_)?(e[m]=Math.max(en(KS(y),KS(_),s),0),(zr.test(_)||zr.test(y))&&(e[m]+="%")):e[m]=_}(t.rotate||n.rotate)&&(e.rotate=en(t.rotate||0,n.rotate||0,s))}function $S(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const B3=ZC(0,.5,LR),F3=ZC(.5,.95,Zi);function ZC(e,t,n){return s=>s<e?0:s>t?1:n(Yu(e,t,s))}function XS(e,t){e.min=t.min,e.max=t.max}function js(e,t){XS(e.x,t.x),XS(e.y,t.y)}function QS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function JS(e,t,n,s,o){return e-=t,e=Pm(e,1/n,s),o!==void 0&&(e=Pm(e,1/o,s)),e}function H3(e,t=0,n=1,s=.5,o,u=e,f=e){if(zr.test(t)&&(t=parseFloat(t),t=en(f.min,f.max,t/100)-f.min),typeof t!="number")return;let m=en(u.min,u.max,s);e===u&&(m-=t),e.min=JS(e.min,t,n,m,o),e.max=JS(e.max,t,n,m,o)}function tx(e,t,[n,s,o],u,f){H3(e,t[n],t[s],t[o],t.scale,u,f)}const q3=["x","scaleX","originX"],G3=["y","scaleY","originY"];function ex(e,t,n,s){tx(e.x,t,q3,n?n.x:void 0,s?s.x:void 0),tx(e.y,t,G3,n?n.y:void 0,s?s.y:void 0)}function nx(e){return e.translate===0&&e.scale===1}function KC(e){return nx(e.x)&&nx(e.y)}function ix(e,t){return e.min===t.min&&e.max===t.max}function W3(e,t){return ix(e.x,t.x)&&ix(e.y,t.y)}function sx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function YC(e,t){return sx(e.x,t.x)&&sx(e.y,t.y)}function rx(e){return Ri(e.x)/Ri(e.y)}function ax(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Z3{constructor(){this.members=[]}add(t){jv(this.members,t),t.scheduleRender()}remove(t){if(Uv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K3(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((o||u||f)&&(s=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:_,rotate:E,rotateX:A,rotateY:S,skewX:M,skewY:k}=n;_&&(s=`perspective(${_}px) ${s}`),E&&(s+=`rotate(${E}deg) `),A&&(s+=`rotateX(${A}deg) `),S&&(s+=`rotateY(${S}deg) `),M&&(s+=`skewX(${M}deg) `),k&&(s+=`skewY(${k}deg) `)}const m=e.x.scale*t.x,y=e.y.scale*t.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const Sy=["","X","Y","Z"],Y3=1e3;let $3=0;function xy(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function $C(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&$C(s)}function XC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},m=t?.()){this.id=$3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J3),this.nodes.forEach(iz),this.nodes.forEach(sz),this.nodes.forEach(tz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new V3)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Bv),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const y=this.eventHandlers.get(f);y&&y.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=a0(f)&&!H4(f),this.instance=f;const{layoutId:m,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),e){let E,A=0;const S=()=>this.root.updateBlockedByResize=!1;Me.read(()=>{A=window.innerWidth}),e(f,()=>{const M=window.innerWidth;M!==A&&(A=M,this.root.updateBlockedByResize=!0,E&&E(),E=j3(S,250),tm.hasAnimatedSinceResize&&(tm.hasAnimatedSinceResize=!1,this.nodes.forEach(ux)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||y)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:A,hasRelativeLayoutChanged:S,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||_.getDefaultTransition()||uz,{onLayoutAnimationStart:F,onLayoutAnimationComplete:q}=_.getProps(),W=!this.targetLayout||!YC(this.targetLayout,M),et=!A&&S;if(this.options.layoutRoot||this.resumeFrom||et||A&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...n0(k,"layout"),onPlay:F,onComplete:q};(_.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(E,et)}else A||ux(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rz),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$C(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ox);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nz),this.nodes.forEach(X3),this.nodes.forEach(Q3)):this.nodes.forEach(lx),this.clearAllSnapshots();const m=Gi.now();qn.delta=Fr(0,1e3/60,m-qn.timestamp),qn.timestamp=m,qn.isProcessing=!0,my.update.process(qn),my.preRender.process(qn),my.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ez),this.sharedNodes.forEach(az)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ri(this.snapshot.measuredBox.x)&&!Ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!KC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,E=_!==this.prevTransformTemplateValue;f&&this.instance&&(m||xl(this.latestValues)||E)&&(o(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return f&&(y=this.removeTransform(y)),cz(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return dn();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hz))){const{scroll:_}=this.root;_&&(Du(m.x,_.offset.x),Du(m.y,_.offset.y))}return m}removeElementScroll(f){const m=dn();if(js(m,f),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:E,options:A}=_;_!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&js(m,f),Du(m.x,E.offset.x),Du(m.y,E.offset.y))}return m}applyTransform(f,m=!1){const y=dn();js(y,f);for(let _=0;_<this.path.length;_++){const E=this.path[_];!m&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Nu(y,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),xl(E.latestValues)&&Nu(y,E.latestValues)}return xl(this.latestValues)&&Nu(y,this.latestValues),y}removeTransform(f){const m=dn();js(m,f);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!xl(_.latestValues))continue;__(_.latestValues)&&_.updateSnapshot();const E=dn(),A=_.measurePageBox();js(E,A),ex(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,E)}return xl(this.latestValues)&&ex(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!(!this.layout||!(E||A))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Rh(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),PC(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Rh(this.relativeTargetOrigin,this.target,S.target),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||__(this.parent.latestValues)||IC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(y=!1),y)return;const{layout:_,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||E))return;js(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,S=this.treeScale.y;CU(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=dn());const{target:M}=f;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QS(this.prevProjectionDelta.x,this.projectionDelta.x),QS(this.prevProjectionDelta.y,this.projectionDelta.y)),Ah(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==S||!ax(this.projectionDelta.x,this.prevProjectionDelta.x)||!ax(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ou(),this.projectionDelta=Ou(),this.projectionDeltaWithTransform=Ou()}setAnimationOrigin(f,m=!1){const y=this.snapshot,_=y?y.latestValues:{},E={...this.latestValues},A=Ou();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=dn(),M=y?y.source:void 0,k=this.layout?this.layout.source:void 0,F=M!==k,q=this.getStack(),W=!q||q.members.length<=1,et=!!(F&&!W&&this.options.crossfade===!0&&!this.path.some(lz));this.animationProgress=0;let $;this.mixTargetDelta=Tt=>{const dt=Tt/1e3;cx(A.x,f.x,dt),cx(A.y,f.y,dt),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rh(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oz(this.relativeTarget,this.relativeTargetOrigin,S,dt),$&&W3(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=dn()),js($,this.relativeTarget)),F&&(this.animationValues=E,z3(E,_,this.latestValues,dt,et,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=dt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{tm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lr(0)),this.currentAnimation=O3(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:y,layout:_,latestValues:E}=f;if(!(!m||!y||!_)){if(this!==f&&this.layout&&_&&QC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||dn();const A=Ri(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+A;const S=Ri(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+S}js(m,y),Nu(m,E),Ah(this.projectionDeltaWithTransform,this.layoutCorrected,m,E)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new Z3),this.sharedNodes.get(f).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const _={};y.z&&xy("z",f,_,this.animationValues);for(let E=0;E<Sy.length;E++)xy(`rotate${Sy[E]}`,f,_,this.animationValues),xy(`skew${Sy[E]}`,f,_,this.animationValues);f.render();for(const E in _)f.setStaticValue(E,_[E]),this.animationValues&&(this.animationValues[E]=_[E]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Jd(m?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Jd(m?.pointerEvents)||""),this.hasProjected&&!xl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const E=_.animationValues||_.latestValues;this.applyTransformsToTarget();let A=K3(this.projectionDeltaWithTransform,this.treeScale,E);y&&(A=y(E,A)),f.transform=A;const{x:S,y:M}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${M.origin*100}% 0`,_.animationValues?f.opacity=_===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:f.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const k in Gh){if(E[k]===void 0)continue;const{correct:F,applyTo:q,isCSSVariable:W}=Gh[k],et=A==="none"?E[k]:F(E[k],_);if(q){const $=q.length;for(let Tt=0;Tt<$;Tt++)f[q[Tt]]=et}else W?this.options.visualElement.renderState.vars[k]=et:f[k]=et}this.options.layoutId&&(f.pointerEvents=_===this?Jd(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(ox),this.root.sharedNodes.clear()}}}function X3(e){e.updateLayout()}function Q3(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Us(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],S=Ri(A);A.min=n[E].min,A.max=A.min+S}):QC(o,t.layoutBox,n)&&Us(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],S=Ri(n[E]);A.max=A.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+S)});const f=Ou();Ah(f,n,t.layoutBox);const m=Ou();u?Ah(m,e.applyTransform(s,!0),t.measuredBox):Ah(m,n,t.layoutBox);const y=!KC(f);let _=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:S}=E;if(A&&S){const M=dn();Rh(M,t.layoutBox,A.layoutBox);const k=dn();Rh(k,n,S.layoutBox),YC(M,k)||(_=!0),E.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=M,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function J3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ez(e){e.clearSnapshot()}function ox(e){e.clearMeasurements()}function lx(e){e.isLayoutDirty=!1}function nz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ux(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iz(e){e.resolveTargetDelta()}function sz(e){e.calcProjection()}function rz(e){e.resetSkewAndRotation()}function az(e){e.removeLeadSnapshot()}function cx(e,t,n){e.translate=en(t.translate,0,n),e.scale=en(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hx(e,t,n,s){e.min=en(t.min,n.min,s),e.max=en(t.max,n.max,s)}function oz(e,t,n,s){hx(e.x,t.x,n.x,s),hx(e.y,t.y,n.y,s)}function lz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uz={duration:.45,ease:[.4,0,.1,1]},fx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dx=fx("applewebkit/")&&!fx("chrome/")?Math.round:Zi;function mx(e){e.min=dx(e.min),e.max=dx(e.max)}function cz(e){mx(e.x),mx(e.y)}function QC(e,t,n){return e==="position"||e==="preserve-aspect"&&!g3(rx(t),rx(n),.2)}function hz(e){return e!==e.root&&e.scroll?.wasRoot}const fz=XC({attachResizeListener:(e,t)=>Zh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ay={current:void 0},JC=XC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ay.current){const e=new fz({});e.mount(window),e.setOptions({layoutScroll:!0}),Ay.current=e}return Ay.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dz={pan:{Feature:L3},drag:{Feature:P3,ProjectionNode:JC,MeasureLayout:GC}};function px(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&Me.postRender(()=>u(t,pf(t)))}class mz extends Yo{mount(){const{current:t}=this.node;t&&(this.unmount=I4(t,(n,s)=>(px(this.node,s,"Start"),o=>px(this.node,o,"End"))))}unmount(){}}class pz extends Yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ff(Zh(this.node.current,"focus",()=>this.onFocus()),Zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gx(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&Me.postRender(()=>u(t,pf(t)))}class gz extends Yo{mount(){const{current:t}=this.node;t&&(this.unmount=D4(t,(n,s)=>(gx(this.node,s,"Start"),(o,{success:u})=>gx(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x_=new WeakMap,Ry=new WeakMap,yz=e=>{const t=x_.get(e.target);t&&t(e)},_z=e=>{e.forEach(yz)};function vz({root:e,...t}){const n=e||document;Ry.has(n)||Ry.set(n,{});const s=Ry.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(_z,{root:e,...t})),s[o]}function Tz(e,t,n){const s=vz(t);return x_.set(e,n),s.observe(e),()=>{x_.delete(e),s.unobserve(e)}}const bz={some:0,all:1};class Ez extends Yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:bz[o]},m=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,u&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),S=_?E:A;S&&S(y)};return Tz(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wz(t,n))&&this.startObserver()}unmount(){}}function wz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Sz={inView:{Feature:Ez},tap:{Feature:gz},focus:{Feature:pz},hover:{Feature:mz}},xz={layout:{ProjectionNode:JC,MeasureLayout:GC}},Az={...c3,...Sz,...dz,...xz},ih=xU(Az,jU),Rz=50,yx=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Cz=()=>({time:0,x:yx(),y:yx()}),Iz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function _x(e,t,n,s){const o=n[t],{length:u,position:f}=Iz[t],m=o.current,y=n.time;o.current=e[`scroll${f}`],o.scrollLength=e[`scroll${u}`]-e[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Yu(0,o.scrollLength,o.current);const _=s-y;o.velocity=_>Rz?0:Fv(o.current-m,_)}function Pz(e,t,n){_x(e,"x",t,n),_x(e,"y",t,n),t.time=n}function Lz(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(uC(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const u=s.getBoundingClientRect();n.x+=o.left-u.left,n.y+=o.top-u.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:u}=s.getBBox();n.x+=o,n.y+=u;let f=null,m=s.parentNode;for(;!f;)m.tagName==="svg"&&(f=m),m=s.parentNode;s=f}else break;return n}const A_={start:0,center:.5,end:1};function vx(e,t,n=0){let s=0;if(e in A_&&(e=A_[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(s=t*e),n+s}const Mz=[0,0];function Dz(e,t,n,s){let o=Array.isArray(e)?e:Mz,u=0,f=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,A_[e]?e:"0"]),u=vx(o[0],n,s),f=vx(o[1],t),u-f}const Nz={All:[[0,0],[1,1]]},Oz={x:0,y:0};function kz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Vz(e,t,n){const{offset:s=Nz.All}=n,{target:o=e,axis:u="y"}=n,f=u==="y"?"height":"width",m=o!==e?Lz(o,e):Oz,y=o===e?{width:e.scrollWidth,height:e.scrollHeight}:kz(o),_={width:e.clientWidth,height:e.clientHeight};t[u].offset.length=0;let E=!t[u].interpolate;const A=s.length;for(let S=0;S<A;S++){const M=Dz(s[S],_[f],y[f],m[u]);!E&&M!==t[u].interpolatorOffsets[S]&&(E=!0),t[u].offset[S]=M}E&&(t[u].interpolate=Xv(t[u].offset,WR(s),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=Fr(0,1,t[u].interpolate(t[u].current))}function jz(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function Uz(e,t,n,s={}){return{measure:o=>{jz(e,s.target,n),Pz(e,n,o),(s.offset||s.target)&&Vz(e,n,s)},notify:()=>t(n)}}const sh=new WeakMap,Tx=new WeakMap,Cy=new WeakMap,bx=e=>e===document.scrollingElement?window:e;function tI(e,{container:t=document.scrollingElement,...n}={}){if(!t)return Zi;let s=Cy.get(t);s||(s=new Set,Cy.set(t,s));const o=Cz(),u=Uz(t,e,o,n);if(s.add(u),!sh.has(t)){const m=()=>{for(const A of s)A.measure(qn.timestamp);Me.preUpdate(y)},y=()=>{for(const A of s)A.notify()},_=()=>Me.read(m);sh.set(t,_);const E=bx(t);window.addEventListener("resize",_,{passive:!0}),t!==document.documentElement&&Tx.set(t,F4(t,_)),E.addEventListener("scroll",_,{passive:!0}),_()}const f=sh.get(t);return Me.read(f,!1,!0),()=>{hr(f);const m=Cy.get(t);if(!m||(m.delete(u),m.size))return;const y=sh.get(t);sh.delete(t),y&&(bx(t).removeEventListener("scroll",y),Tx.get(t)?.(),window.removeEventListener("resize",y))}}const Ex=new Map;function zz(e){const t={value:0},n=tI(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function eI({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const o=Ex.get(t)??new Map;Ex.set(t,o);const u=n.target??"self",f=o.get(u)??{},m=s+(n.offset??[]).join(",");return f[m]||(f[m]=!n.target&&$R()?new ScrollTimeline({source:t,axis:s}):zz({container:t,...n})),f[m]}function Bz(e,t){const n=eI(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),mC(o=>{s.time=s.duration*o},n))})}function Fz(e){return e.length===2}function Hz(e,t){return Fz(e)?tI(n=>{e(n[t.axis].progress,n)},t):mC(e,eI(t))}function qz(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return Zi;const o={axis:t,container:n,...s};return typeof e=="function"?Hz(e,o):Bz(e,o)}const Gz=()=>({scrollX:lr(0),scrollY:lr(0),scrollXProgress:lr(0),scrollYProgress:lr(0)}),Id=e=>e?!e.current:!1;function Wz({container:e,target:t,...n}={}){const s=op(Gz),o=N.useRef(null),u=N.useRef(!1),f=N.useCallback(()=>(o.current=qz((m,{x:y,y:_})=>{s.scrollX.set(y.current),s.scrollXProgress.set(y.progress),s.scrollY.set(_.current),s.scrollYProgress.set(_.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{o.current?.()}),[e,t,JSON.stringify(n.offset)]);return kv(()=>{if(u.current=!1,Id(e)||Id(t)){u.current=!0;return}else return f()},[f]),N.useEffect(()=>{if(u.current)return Bh(!Id(e)),Bh(!Id(t)),f()},[f]),s}function Zz(e){const t=op(()=>lr(e)),{isStatic:n}=N.useContext(o0);if(n){const[,s]=N.useState(e);N.useEffect(()=>t.on("change",s),[])}return t}function nI(e,t){const n=Zz(t()),s=()=>n.set(t());return s(),kv(()=>{const o=()=>Me.preRender(s,!1,!0),u=e.map(f=>f.on("change",o));return()=>{u.forEach(f=>f()),hr(s)}}),n}function Kz(e){Sh.current=[],e();const t=nI(Sh.current,e);return Sh.current=void 0,t}function Su(e,t,n,s){if(typeof e=="function")return Kz(e);const o=typeof t=="function"?t:q4(t,n,s);return Array.isArray(e)?wx(e,o):wx([e],([u])=>o(u))}function wx(e,t){const n=op(()=>[]);return nI(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Yz(e,t){const n=N.useRef(t);N.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function $z(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const Xz=1;function Qz(e){return Object.freeze({__version:Xz,map:e})}function y0(e,t){return Object.freeze({...e,...t})}const _0=N.createContext(null);function v0(){const e=N.use(_0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function iI(e){function t(n,s){const{instance:o,context:u}=e(n).current;N.useImperativeHandle(s,()=>o);const{children:f}=n;return f==null?null:em.createElement(_0,{value:u},f)}return N.forwardRef(t)}function Jz(e){function t(n,s){const{instance:o}=e(n).current;return N.useImperativeHandle(s,()=>o),null}return N.forwardRef(t)}function sI(e,t){const n=N.useRef(void 0);N.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function T0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var mh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var tB=mh.exports,Sx;function eB(){return Sx||(Sx=1,function(e,t){(function(n,s){s(t)})(tB,function(n){var s="1.9.4";function o(a){var c,p,b,x;for(p=1,b=arguments.length;p<b;p++){x=arguments[p];for(c in x)a[c]=x[c]}return a}var u=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function f(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var b=p.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function _(a,c,p){var b,x,I,z;return z=function(){b=!1,x&&(I.apply(p,x),x=!1)},I=function(){b?x=arguments:(a.apply(p,arguments),setTimeout(z,c),b=!0)},I}function E(a,c,p){var b=c[1],x=c[0],I=b-x;return a===b&&p?a:((a-x)%I+I)%I+x}function A(){return!1}function S(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function M(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return M(a).split(/\s+/)}function F(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function q(a,c,p){var b=[];for(var x in a)b.push(encodeURIComponent(p?x.toUpperCase():x)+"="+encodeURIComponent(a[x]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function et(a,c){return a.replace(W,function(p,b){var x=c[b];if(x===void 0)throw new Error("No value provided for variable "+p);return typeof x=="function"&&(x=x(c)),x})}var $=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Tt(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var dt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function At(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var Z=0;function O(a){var c=+new Date,p=Math.max(0,16-(c-Z));return Z=c+p,window.setTimeout(a,p)}var U=window.requestAnimationFrame||At("RequestAnimationFrame")||O,G=window.cancelAnimationFrame||At("CancelAnimationFrame")||At("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function K(a,c,p){if(p&&U===O)a.call(c);else return U.call(window,f(a,c))}function H(a){a&&G.call(window,a)}var V={__proto__:null,extend:o,create:u,bind:f,get lastId(){return m},stamp:y,throttle:_,wrapNum:E,falseFn:A,formatNum:S,trim:M,splitWords:k,setOptions:F,getParamString:q,template:et,isArray:$,indexOf:Tt,emptyImageUrl:dt,requestFn:U,cancelFn:G,requestAnimFrame:K,cancelAnimFrame:H};function Ot(){}Ot.extend=function(a){var c=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,b=u(p);b.constructor=c,c.prototype=b;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(c[x]=this[x]);return a.statics&&o(c,a.statics),a.includes&&(Qt(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=p.options?u(p.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,z=b._initHooks.length;I<z;I++)b._initHooks[I].call(this)}},c},Ot.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Ot.mergeOptions=function(a){return o(this.prototype.options,a),this},Ot.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Qt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=$(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var it={on:function(a,c,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=k(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=k(a);for(var x=arguments.length===1,I=0,z=a.length;I<z;I++)x?this._off(a[I]):this._off(a[I],c,p)}return this},_on:function(a,c,p,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var x={fn:c,ctx:p};b&&(x.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(x)}},_off:function(a,c,p){var b,x,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(x=0,I=b.length;x<I;x++)b[x].fn=A;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var z=this._listens(a,c,p);if(z!==!1){var J=b[z];this._firingCount&&(J.fn=A,this._events[a]=b=b.slice()),b.splice(z,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var x=this._events[a];if(x){this._firingCount=this._firingCount+1||1;for(var I=0,z=x.length;I<z;I++){var J=x[I],ot=J.fn;J.once&&this.off(a,ot,J.ctx),ot.call(J.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(a,c,p,b){typeof a!="string"&&console.warn('"string" type argument expected');var x=c;typeof c!="function"&&(b=!!c,x=void 0,p=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,x,p)!==!1)return!0;if(b){for(var z in this._eventParents)if(this._eventParents[z].listens(a,c,p,b))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;p===this&&(p=void 0);for(var x=0,I=b.length;x<I;x++)if(b[x].fn===c&&b[x].ctx===p)return x;return!1},once:function(a,c,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=k(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};it.addEventListener=it.on,it.removeEventListener=it.clearAllEventListeners=it.off,it.addOneTimeEventListener=it.once,it.fireEvent=it.fire,it.hasEventListeners=it.listens;var mt=Ot.extend(it);function ct(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var Yt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ct.prototype={clone:function(){return new ct(this.x,this.y)},add:function(a){return this.clone()._add(j(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(j(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ct(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ct(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Yt(this.x),this.y=Yt(this.y),this},distanceTo:function(a){a=j(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=j(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=j(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function j(a,c,p){return a instanceof ct?a:$(a)?new ct(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ct(a.x,a.y):new ct(a,c,p)}function ut(a,c){if(a)for(var p=c?[a,c]:a,b=0,x=p.length;b<x;b++)this.extend(p[b])}ut.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof ct||typeof a[0]=="number"||"x"in a)c=p=j(a);else if(a=bt(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof ct?a=j(a):a=bt(a),a instanceof ut?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=bt(a);var c=this.min,p=this.max,b=a.min,x=a.max,I=x.x>=c.x&&b.x<=p.x,z=x.y>=c.y&&b.y<=p.y;return I&&z},overlaps:function(a){a=bt(a);var c=this.min,p=this.max,b=a.min,x=a.max,I=x.x>c.x&&b.x<p.x,z=x.y>c.y&&b.y<p.y;return I&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,b=Math.abs(c.x-p.x)*a,x=Math.abs(c.y-p.y)*a;return bt(j(c.x-b,c.y-x),j(p.x+b,p.y+x))},equals:function(a){return a?(a=bt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function bt(a,c){return!a||a instanceof ut?a:new ut(a,c)}function vt(a,c){if(a)for(var p=c?[a,c]:a,b=0,x=p.length;b<x;b++)this.extend(p[b])}vt.prototype={extend:function(a){var c=this._southWest,p=this._northEast,b,x;if(a instanceof Pt)b=a,x=a;else if(a instanceof vt){if(b=a._southWest,x=a._northEast,!b||!x)return this}else return a?this.extend(St(a)||wt(a)):this;return!c&&!p?(this._southWest=new Pt(b.lat,b.lng),this._northEast=new Pt(x.lat,x.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),p.lat=Math.max(x.lat,p.lat),p.lng=Math.max(x.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,b=Math.abs(c.lat-p.lat)*a,x=Math.abs(c.lng-p.lng)*a;return new vt(new Pt(c.lat-b,c.lng-x),new Pt(p.lat+b,p.lng+x))},getCenter:function(){return new Pt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Pt||"lat"in a?a=St(a):a=wt(a);var c=this._southWest,p=this._northEast,b,x;return a instanceof vt?(b=a.getSouthWest(),x=a.getNorthEast()):b=x=a,b.lat>=c.lat&&x.lat<=p.lat&&b.lng>=c.lng&&x.lng<=p.lng},intersects:function(a){a=wt(a);var c=this._southWest,p=this._northEast,b=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>=c.lat&&b.lat<=p.lat,z=x.lng>=c.lng&&b.lng<=p.lng;return I&&z},overlaps:function(a){a=wt(a);var c=this._southWest,p=this._northEast,b=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>c.lat&&b.lat<p.lat,z=x.lng>c.lng&&b.lng<p.lng;return I&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=wt(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function wt(a,c){return a instanceof vt?a:new vt(a,c)}function Pt(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Pt.prototype={equals:function(a,c){if(!a)return!1;a=St(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+S(this.lat,a)+", "+S(this.lng,a)+")"},distanceTo:function(a){return ie.distance(this,St(a))},wrap:function(){return ie.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return wt([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Pt(this.lat,this.lng,this.alt)}};function St(a,c,p){return a instanceof Pt?a:$(a)&&typeof a[0]!="object"?a.length===3?new Pt(a[0],a[1],a[2]):a.length===2?new Pt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Pt(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Pt(a,c,p)}var we={latLngToPoint:function(a,c){var p=this.projection.project(a),b=this.scale(c);return this.transformation._transform(p,b)},pointToLatLng:function(a,c){var p=this.scale(c),b=this.transformation.untransform(a,p);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),b=this.transformation.transform(c.min,p),x=this.transformation.transform(c.max,p);return new ut(b,x)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Pt(p,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),b=c.lat-p.lat,x=c.lng-p.lng;if(b===0&&x===0)return a;var I=a.getSouthWest(),z=a.getNorthEast(),J=new Pt(I.lat-b,I.lng-x),ot=new Pt(z.lat-b,z.lng-x);return new vt(J,ot)}},ie=o({},we,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,b=a.lat*p,x=c.lat*p,I=Math.sin((c.lat-a.lat)*p/2),z=Math.sin((c.lng-a.lng)*p/2),J=I*I+Math.cos(b)*Math.cos(x)*z*z,ot=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*ot}}),Dn=6378137,sn={R:Dn,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,a.lat),-p),x=Math.sin(b*c);return new ct(this.R*a.lng*c,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(a){var c=180/Math.PI;return new Pt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=Dn*Math.PI;return new ut([-a,-a],[a,a])}()};function ei(a,c,p,b){if($(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=b}ei.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new ct((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function ye(a,c,p,b){return new ei(a,c,p,b)}var ni=o({},ie,{code:"EPSG:3857",projection:sn,transformation:function(){var a=.5/(Math.PI*sn.R);return ye(a,.5,-a,.5)}()}),Nn=o({},ni,{code:"EPSG:900913"});function gs(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Gr(a,c){var p="",b,x,I,z,J,ot;for(b=0,I=a.length;b<I;b++){for(J=a[b],x=0,z=J.length;x<z;x++)ot=J[x],p+=(x?"L":"M")+ot.x+" "+ot.y;p+=c?Ct.svg?"z":"x":""}return p||"M0 0"}var xn=document.documentElement.style,be="ActiveXObject"in window,dr=be&&!document.addEventListener,Ge="msLaunchUri"in navigator&&!("documentMode"in document),gi=Ue("webkit"),Ci=Ue("android"),Ki=Ue("android 2")||Ue("android 3"),On=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yi=Ci&&Ue("Google")&&On<537&&!("AudioNode"in window),Ee=!!window.opera,oe=!Ge&&Ue("chrome"),An=Ue("gecko")&&!gi&&!Ee&&!be,Ke=!oe&&Ue("safari"),ys=Ue("phantom"),$i="OTransition"in xn,Xi=navigator.platform.indexOf("Win")===0,Ii=be&&"transition"in xn,yi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ki,pn="MozPerspective"in xn,_s=!window.L_DISABLE_3D&&(Ii||yi||pn)&&!$i&&!ys,_i=typeof orientation<"u"||Ue("mobile"),Pi=_i&&gi,mr=_i&&yi,pr=!window.PointerEvent&&window.MSPointerEvent,Li=!!(window.PointerEvent||pr),Mi="ontouchstart"in window||!!window.TouchEvent,Wr=!window.L_NO_TOUCH&&(Mi||Li),Di=_i&&Ee,Zr=_i&&An,vs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,st=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return a}(),It=function(){return!!document.createElement("canvas").getContext}(),Ut=!!(document.createElementNS&&gs("svg").createSVGRect),Mt=!!Ut&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jt=!Ut&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),le=navigator.platform.indexOf("Mac")===0,ge=navigator.platform.indexOf("Linux")===0;function Ue(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ct={ie:be,ielt9:dr,edge:Ge,webkit:gi,android:Ci,android23:Ki,androidStock:Yi,opera:Ee,chrome:oe,gecko:An,safari:Ke,phantom:ys,opera12:$i,win:Xi,ie3d:Ii,webkit3d:yi,gecko3d:pn,any3d:_s,mobile:_i,mobileWebkit:Pi,mobileWebkit3d:mr,msPointer:pr,pointer:Li,touch:Wr,touchNative:Mi,mobileOpera:Di,mobileGecko:Zr,retina:vs,passiveEvents:st,canvas:It,svg:Ut,vml:Jt,inlineSvg:Mt,mac:le,linux:ge},Ni=Ct.msPointer?"MSPointerDown":"pointerdown",Ts=Ct.msPointer?"MSPointerMove":"pointermove",ii=Ct.msPointer?"MSPointerUp":"pointerup",bs=Ct.msPointer?"MSPointerCancel":"pointercancel",si={touchstart:Ni,touchmove:Ts,touchend:ii,touchcancel:bs},Qi={touchstart:Yr,touchmove:Kr,touchend:Kr,touchcancel:Kr},Wn={},kn=!1;function Qe(a,c,p){return c==="touchstart"&&Bl(),Qi[c]?(p=Qi[c].bind(this,p),a.addEventListener(si[c],p,!1),p):(console.warn("wrong event specified:",c),A)}function $o(a,c,p){if(!si[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(si[c],p,!1)}function Ma(a){Wn[a.pointerId]=a}function Ji(a){Wn[a.pointerId]&&(Wn[a.pointerId]=a)}function Es(a){delete Wn[a.pointerId]}function Bl(){kn||(document.addEventListener(Ni,Ma,!0),document.addEventListener(Ts,Ji,!0),document.addEventListener(ii,Es,!0),document.addEventListener(bs,Es,!0),kn=!0)}function Kr(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Wn)c.touches.push(Wn[p]);c.changedTouches=[c],a(c)}}function Yr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&De(c),Kr(a,c)}function Fl(a){var c={},p,b;for(b in a)p=a[b],c[b]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var gr=200;function ws(a,c){a.addEventListener("dblclick",c);var p=0,b;function x(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var z=Oa(I);if(!(z.some(function(ot){return ot instanceof HTMLLabelElement&&ot.attributes.for})&&!z.some(function(ot){return ot instanceof HTMLInputElement||ot instanceof HTMLSelectElement}))){var J=Date.now();J-p<=gr?(b++,b===2&&c(Fl(I))):b=1,p=J}}}return a.addEventListener("click",x),{dblclick:c,simDblclick:x}}function Rn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Gs=ts(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yr=ts(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ss=yr==="webkitTransition"||yr==="OTransition"?yr+"End":"transitionend";function $r(a){return typeof a=="string"?document.getElementById(a):a}function xs(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);p=b?b[c]:null}return p==="auto"?null:p}function re(a,c,p){var b=document.createElement(a);return b.className=c||"",p&&p.appendChild(b),b}function Ae(a){var c=a.parentNode;c&&c.removeChild(a)}function gn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function As(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function _r(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function vr(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=We(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function $t(a,c){if(a.classList!==void 0)for(var p=k(c),b=0,x=p.length;b<x;b++)a.classList.add(p[b]);else if(!vr(a,c)){var I=We(a);Xo(a,(I?I+" ":"")+c)}}function Ie(a,c){a.classList!==void 0?a.classList.remove(c):Xo(a,M((" "+We(a)+" ").replace(" "+c+" "," ")))}function Xo(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function We(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ze(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Xr(a,c)}function Xr(a,c){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function ts(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Zn(a,c,p){var b=c||new ct(0,0);a.style[Gs]=(Ct.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function Ht(a,c){a._leaflet_pos=c,Ct.any3d?Zn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function vi(a){return a._leaflet_pos||new ct(0,0)}var Vn,es,Da;if("onselectstart"in document)Vn=function(){zt(window,"selectstart",De)},es=function(){_e(window,"selectstart",De)};else{var Ws=ts(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vn=function(){if(Ws){var a=document.documentElement.style;Da=a[Ws],a[Ws]="none"}},es=function(){Ws&&(document.documentElement.style[Ws]=Da,Da=void 0)}}function Qr(){zt(window,"dragstart",De)}function Qo(){_e(window,"dragstart",De)}var Na,Tr;function ns(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Kn(),Na=a,Tr=a.style.outlineStyle,a.style.outlineStyle="none",zt(window,"keydown",Kn))}function Kn(){Na&&(Na.style.outlineStyle=Tr,Na=void 0,Tr=void 0,_e(window,"keydown",Kn))}function Rs(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function is(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Jo={__proto__:null,TRANSFORM:Gs,TRANSITION:yr,TRANSITION_END:Ss,get:$r,getStyle:xs,create:re,remove:Ae,empty:gn,toFront:As,toBack:_r,hasClass:vr,addClass:$t,removeClass:Ie,setClass:Xo,getClass:We,setOpacity:ze,testProp:ts,setTransform:Zn,setPosition:Ht,getPosition:vi,get disableTextSelection(){return Vn},get enableTextSelection(){return es},disableImageDrag:Qr,enableImageDrag:Qo,preventOutline:ns,restoreOutline:Kn,getSizedParentNode:Rs,getScale:is};function zt(a,c,p,b){if(c&&typeof c=="object")for(var x in c)Zs(a,x,c[x],p);else{c=k(c);for(var I=0,z=c.length;I<z;I++)Zs(a,c[I],p,b)}return this}var Ti="_leaflet_events";function _e(a,c,p,b){if(arguments.length===1)Oi(a),delete a[Ti];else if(c&&typeof c=="object")for(var x in c)ki(a,x,c[x],p);else if(c=k(c),arguments.length===2)Oi(a,function(J){return Tt(c,J)!==-1});else for(var I=0,z=c.length;I<z;I++)ki(a,c[I],p,b);return this}function Oi(a,c){for(var p in a[Ti]){var b=p.split(/\d/)[0];(!c||c(b))&&ki(a,b,null,null,p)}}var ri={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zs(a,c,p,b){var x=c+y(p)+(b?"_"+y(b):"");if(a[Ti]&&a[Ti][x])return this;var I=function(J){return p.call(b||a,J||window.event)},z=I;!Ct.touchNative&&Ct.pointer&&c.indexOf("touch")===0?I=Qe(a,c,I):Ct.touch&&c==="dblclick"?I=ws(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(ri[c]||c,I,Ct.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(J){J=J||window.event,Ys(a,J)&&z(J)},a.addEventListener(ri[c],I,!1)):a.addEventListener(c,z,!1):a.attachEvent("on"+c,I),a[Ti]=a[Ti]||{},a[Ti][x]=I}function ki(a,c,p,b,x){x=x||c+y(p)+(b?"_"+y(b):"");var I=a[Ti]&&a[Ti][x];if(!I)return this;!Ct.touchNative&&Ct.pointer&&c.indexOf("touch")===0?$o(a,c,I):Ct.touch&&c==="dblclick"?Rn(a,I):"removeEventListener"in a?a.removeEventListener(ri[c]||c,I,!1):a.detachEvent("on"+c,I),a[Ti][x]=null}function ai(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ss(a){return Zs(a,"wheel",ai),this}function Ks(a){return zt(a,"mousedown touchstart dblclick contextmenu",ai),a._leaflet_disable_click=!0,this}function De(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function jn(a){return De(a),ai(a),this}function Oa(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function cn(a,c){if(!c)return new ct(a.clientX,a.clientY);var p=is(c),b=p.boundingClientRect;return new ct((a.clientX-b.left)/p.x-c.clientLeft,(a.clientY-b.top)/p.y-c.clientTop)}var Se=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jr(a){return Ct.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Se:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ys(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Hl={__proto__:null,on:zt,off:_e,stopPropagation:ai,disableScrollPropagation:ss,disableClickPropagation:Ks,preventDefault:De,stop:jn,getPropagationPath:Oa,getMousePosition:cn,getWheelDelta:Jr,isExternalTarget:Ys,addListener:zt,removeListener:_e},ta=mt.extend({run:function(a,c,p,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=vi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ht(this._el,p),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ee=mt.extend({options:{crs:ni,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=F(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(St(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yr&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,Ss,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(St(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var b=this.getZoomScale(c),x=this.getSize().divideBy(2),I=a instanceof ct?a:this.latLngToContainerPoint(a),z=I.subtract(x).multiplyBy(1-1/b),J=this.containerPointToLatLng(x.add(z));return this.setView(J,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():wt(a);var p=j(c.paddingTopLeft||c.padding||[0,0]),b=j(c.paddingBottomRight||c.padding||[0,0]),x=this.getBoundsZoom(a,!1,p.add(b));if(x=typeof c.maxZoom=="number"?Math.min(c.maxZoom,x):x,x===1/0)return{center:a.getCenter(),zoom:x};var I=b.subtract(p).divideBy(2),z=this.project(a.getSouthWest(),x),J=this.project(a.getNorthEast(),x),ot=this.unproject(z.add(J).divideBy(2).add(I),x);return{center:ot,zoom:x}},fitBounds:function(a,c){if(a=wt(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=j(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ta,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){$t(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Ct.any3d)return this.setView(a,c,p);this._stop();var b=this.project(this.getCenter()),x=this.project(a),I=this.getSize(),z=this._zoom;a=St(a),c=c===void 0?z:c;var J=Math.max(I.x,I.y),ot=J*this.getZoomScale(z,c),_t=x.distanceTo(b)||1,Rt=1.42,Dt=Rt*Rt;function kt(Ye){var Ns=Ye?-1:1,er=Ye?ot:J,Ar=ot*ot-J*J+Ns*Dt*Dt*_t*_t,nr=2*er*Dt*_t,ml=Ar/nr,nu=Math.sqrt(ml*ml+1)-ml,pl=nu<1e-9?-18:Math.log(nu);return pl}function Kt(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function Fe(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function Je(Ye){return Kt(Ye)/Fe(Ye)}var zn=kt(0);function Vi(Ye){return J*(Fe(zn)/Fe(zn+Rt*Ye))}function wf(Ye){return J*(Fe(zn)*Je(zn+Rt*Ye)-Kt(zn))/Dt}function Sf(Ye){return 1-Math.pow(1-Ye,1.5)}var dl=Date.now(),Qa=(kt(1)-zn)/Rt,xf=p.duration?1e3*p.duration:1e3*Qa*.8;function Ja(){var Ye=(Date.now()-dl)/xf,Ns=Sf(Ye)*Qa;Ye<=1?(this._flyToFrame=K(Ja,this),this._move(this.unproject(b.add(x.subtract(b).multiplyBy(wf(Ns)/_t)),z),this.getScaleZoom(J/Vi(Ns),z),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Ja.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=wt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,wt(a));return p.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=j(c.paddingTopLeft||c.padding||[0,0]),b=j(c.paddingBottomRight||c.padding||[0,0]),x=this.project(this.getCenter()),I=this.project(a),z=this.getPixelBounds(),J=bt([z.min.add(p),z.max.subtract(b)]),ot=J.getSize();if(!J.contains(I)){this._enforcingBounds=!0;var _t=I.subtract(J.getCenter()),Rt=J.extend(I).getSize().subtract(ot);x.x+=_t.x<0?-Rt.x:Rt.x,x.y+=_t.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(x),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=c.divideBy(2).round(),x=p.divideBy(2).round(),I=b.subtract(x);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,b=new Pt(c,p),x=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var z=this.getBoundsZoom(x);this.setView(b,I.maxZoom?Math.min(z,I.maxZoom):z)}var J={latlng:b,bounds:x,timestamp:a.timestamp};for(var ot in a.coords)typeof a.coords[ot]=="number"&&(J[ot]=a.coords[ot]);this.fire("locationfound",J)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Ae(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=re("div",p,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new vt(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=wt(a),p=j(p||[0,0]);var b=this.getZoom()||0,x=this.getMinZoom(),I=this.getMaxZoom(),z=a.getNorthWest(),J=a.getSouthEast(),ot=this.getSize().subtract(p),_t=bt(this.project(J,b),this.project(z,b)).getSize(),Rt=Ct.any3d?this.options.zoomSnap:1,Dt=ot.x/_t.x,kt=ot.y/_t.y,Kt=c?Math.max(Dt,kt):Math.min(Dt,kt);return b=this.getScaleZoom(Kt,b),Rt&&(b=Math.round(b/(Rt/100))*(Rt/100),b=c?Math.ceil(b/Rt)*Rt:Math.floor(b/Rt)*Rt),Math.max(x,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ct(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new ut(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var b=p.zoom(a*p.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(St(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(j(a),c)},layerPointToLatLng:function(a){var c=j(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(St(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(St(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(wt(a))},distance:function(a,c){return this.options.crs.distance(St(a),St(c))},containerPointToLayerPoint:function(a){return j(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return j(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(j(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(St(a)))},mouseEventToContainerPoint:function(a){return cn(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=$r(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,$t(a,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=xs(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ht(this._mapPane,new ct(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||($t(a.markerPane,"leaflet-zoom-hide"),$t(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ht(this._mapPane,new ct(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var x=this._zoom!==c;this._moveStart(x,p)._move(a,c)._moveEnd(x),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,b){c===void 0&&(c=this._zoom);var x=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?p&&p.pinch&&this.fire("zoom",p):((x||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ht(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?_e:zt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],b,x=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,z=!1;I;){if(b=this._targets[y(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){z=!0;break}if(b&&b.listens(c,!0)&&(x&&!Ys(I,a)||(p.push(b),x))||I===this._container)break;I=I.parentNode}return!p.length&&!z&&!x&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&ns(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var x=this._findEventTargets(a,c);if(p){for(var I=[],z=0;z<p.length;z++)p[z].listens(c,!0)&&I.push(p[z]);x=I.concat(x)}if(x.length){c==="contextmenu"&&De(a);var J=x[0],ot={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var _t=J.getLatLng&&(!J._radius||J._radius<=10);ot.containerPoint=_t?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),ot.layerPoint=this.containerPointToLayerPoint(ot.containerPoint),ot.latlng=_t?J.getLatLng():this.layerPointToLatLng(ot.layerPoint)}for(z=0;z<x.length;z++)if(x[z].fire(c,ot,!0),ot.originalEvent._stopped||x[z].options.bubblingMouseEvents===!1&&Tt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return vi(this._mapPane)||new ct(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var b=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,p){var b=this._getNewPixelOrigin(p,c);return bt([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var b=this.project(a,c),x=this.getSize().divideBy(2),I=new ut(b.subtract(x),b.add(x)),z=this._getBoundsOffset(I,p,c);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?a:this.unproject(b.add(z),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),b=new ut(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,p){var b=bt(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),x=b.min.subtract(a.min),I=b.max.subtract(a.max),z=this._rebound(x.x,-I.x),J=this._rebound(x.y,-I.y);return new ct(z,J)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),b=Ct.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ie(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=Gs,b=this._proxy.style[p];Zn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Zn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),x=this._getCenterOffset(a)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(x)?!1:(K(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,$t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ie(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cs(a,c){return new ee(a,c)}var Cn=Ot.extend({options:{position:"topright"},initialize:function(a){F(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),b=a._controlCorners[p];return $t(c,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Un=function(a){return new Cn(a)};ee.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=re("div",c+"control-container",this._container);function b(x,I){var z=c+x+" "+c+I;a[x+I]=re("div",z,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Ae(this._controlCorners[a]);Ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tl=Cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,b){return p<b?-1:b<p?1:0}},initialize:function(a,c,p){F(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Cn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){$t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?($t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ie(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ie(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=re("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ks(c),ss(c);var b=this._section=re("section",a+"-list");p&&(this._map.on("click",this.collapse,this),zt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=re("a",a+"-toggle",c);x.href="#",x.title="Layers",x.setAttribute("role","button"),zt(x,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){De(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=re("div",a+"-base",b),this._separator=re("div",a+"-separator",b),this._overlaysList=re("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(b,x){return this.options.sortFunction(b.layer,x.layer,b.name,x.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var a,c,p,b,x=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,x+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&x>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(b),b.layerId=y(a.layer),zt(b,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(x);var z=a.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,b=[],x=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],p=this._getLayer(c.layerId).layer,c.checked?b.push(p):c.checked||x.push(p);for(I=0;I<x.length;I++)this._map.hasLayer(x[I])&&this._map.removeLayer(x[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,b=this._map.getZoom(),x=a.length-1;x>=0;x--)c=a[x],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,zt(a,"click",De),this.expand();var c=this;setTimeout(function(){_e(a,"click",De),c._preventClick=!1})}}),hc=function(a,c,p){return new tl(a,c,p)},$s=Cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=re("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,b,x){var I=re("a",p,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),Ks(I),zt(I,"click",jn),zt(I,"click",x,this),zt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Ie(this._zoomInButton,c),Ie(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&($t(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&($t(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ee.mergeOptions({zoomControl:!0}),ee.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $s,this.addControl(this.zoomControl))});var ka=function(a){return new $s(a)},Va=Cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=re("div",c),b=this.options;return this._addScales(b,c+"-line",p),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=re("div",c,p)),a.imperial&&(this._iScale=re("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,b,x;c>5280?(p=c/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(x=this._getRoundNum(c),this._updateScale(this._iScale,x+" ft",x/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),ja=function(a){return new Va(a)},ql='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',br=Cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?ql+" ":"")+"Leaflet</a>"},initialize:function(a){F(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=re("div","leaflet-control-attribution"),Ks(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});ee.mergeOptions({attributionControl:!0}),ee.addInitHook(function(){this.options.attributionControl&&new br().addTo(this)});var fc=function(a){return new br(a)};Cn.Layers=tl,Cn.Zoom=$s,Cn.Scale=Va,Cn.Attribution=br,Un.layers=hc,Un.zoom=ka,Un.scale=ja,Un.attribution=fc;var oi=Ot.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(a,c){return a.addHandler(c,this),this};var ea={Events:it},el=Ct.touch?"touchstart mousedown":"mousedown",rs=mt.extend({options:{clickTolerance:3},initialize:function(a,c,p,b){F(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(zt(this._dragStartTarget,el,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rs._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,el,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!vr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){rs._dragging===this&&this.finishDrag();return}if(!(rs._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(rs._dragging=this,this._preventOutline&&ns(this._element),Qr(),Vn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=Rs(this._element);this._startPoint=new ct(c.clientX,c.clientY),this._startPos=vi(this._element),this._parentScale=is(p);var b=a.type==="mousedown";zt(document,b?"mousemove":"touchmove",this._onMove,this),zt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new ct(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,De(a),this._moved||(this.fire("dragstart"),this._moved=!0,$t(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),$t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ht(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ie(document.body,"leaflet-dragging"),this._lastTarget&&(Ie(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),Qo(),es();var c=this._moved&&this._moving;this._moving=!1,rs._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ua(a,c,p){var b,x=[1,4,2,8],I,z,J,ot,_t,Rt,Dt,kt;for(I=0,Rt=a.length;I<Rt;I++)a[I]._code=Is(a[I],c);for(J=0;J<4;J++){for(Dt=x[J],b=[],I=0,Rt=a.length,z=Rt-1;I<Rt;z=I++)ot=a[I],_t=a[z],ot._code&Dt?_t._code&Dt||(kt=yn(_t,ot,Dt,c,p),kt._code=Is(kt,c),b.push(kt)):(_t._code&Dt&&(kt=yn(_t,ot,Dt,c,p),kt._code=Is(kt,c),b.push(kt)),b.push(ot));a=b}return a}function Er(a,c){var p,b,x,I,z,J,ot,_t,Rt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Dt=St([0,0]),kt=wt(a),Kt=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Kt<1700&&(Dt=za(a));var Fe=a.length,Je=[];for(p=0;p<Fe;p++){var zn=St(a[p]);Je.push(c.project(St([zn.lat-Dt.lat,zn.lng-Dt.lng])))}for(J=ot=_t=0,p=0,b=Fe-1;p<Fe;b=p++)x=Je[p],I=Je[b],z=x.y*I.x-I.y*x.x,ot+=(x.x+I.x)*z,_t+=(x.y+I.y)*z,J+=z*3;J===0?Rt=Je[0]:Rt=[ot/J,_t/J];var Vi=c.unproject(j(Rt));return St([Vi.lat+Dt.lat,Vi.lng+Dt.lng])}function za(a){for(var c=0,p=0,b=0,x=0;x<a.length;x++){var I=St(a[x]);c+=I.lat,p+=I.lng,b++}return St([c/b,p/b])}var Ba={__proto__:null,clipPolygon:Ua,polygonCenter:Er,centroid:za};function nl(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Wl(a,p),a=Gl(a,p),a}function Fa(a,c,p){return Math.sqrt(li(a,c,p,!0))}function Xs(a,c,p){return li(a,c,p)}function Gl(a,c){var p=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,x=new b(p);x[0]=x[p-1]=1,Ha(a,x,c,0,p-1);var I,z=[];for(I=0;I<p;I++)x[I]&&z.push(a[I]);return z}function Ha(a,c,p,b,x){var I=0,z,J,ot;for(J=b+1;J<=x-1;J++)ot=li(a[J],a[b],a[x],!0),ot>I&&(z=J,I=ot);I>p&&(c[z]=1,Ha(a,c,p,b,z),Ha(a,c,p,z,x))}function Wl(a,c){for(var p=[a[0]],b=1,x=0,I=a.length;b<I;b++)Zl(a[b],a[x])>c&&(p.push(a[b]),x=b);return x<I-1&&p.push(a[I-1]),p}var il;function na(a,c,p,b,x){var I=b?il:Is(a,p),z=Is(c,p),J,ot,_t;for(il=z;;){if(!(I|z))return[a,c];if(I&z)return!1;J=I||z,ot=yn(a,c,J,p,x),_t=Is(ot,p),J===I?(a=ot,I=_t):(c=ot,z=_t)}}function yn(a,c,p,b,x){var I=c.x-a.x,z=c.y-a.y,J=b.min,ot=b.max,_t,Rt;return p&8?(_t=a.x+I*(ot.y-a.y)/z,Rt=ot.y):p&4?(_t=a.x+I*(J.y-a.y)/z,Rt=J.y):p&2?(_t=ot.x,Rt=a.y+z*(ot.x-a.x)/I):p&1&&(_t=J.x,Rt=a.y+z*(J.x-a.x)/I),new ct(_t,Rt,x)}function Is(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Zl(a,c){var p=c.x-a.x,b=c.y-a.y;return p*p+b*b}function li(a,c,p,b){var x=c.x,I=c.y,z=p.x-x,J=p.y-I,ot=z*z+J*J,_t;return ot>0&&(_t=((a.x-x)*z+(a.y-I)*J)/ot,_t>1?(x=p.x,I=p.y):_t>0&&(x+=z*_t,I+=J*_t)),z=a.x-x,J=a.y-I,b?z*z+J*J:new ct(x,I)}function d(a){return!$(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function w(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function R(a,c){var p,b,x,I,z,J,ot,_t;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Rt=St([0,0]),Dt=wt(a),kt=Dt.getNorthWest().distanceTo(Dt.getSouthWest())*Dt.getNorthEast().distanceTo(Dt.getNorthWest());kt<1700&&(Rt=za(a));var Kt=a.length,Fe=[];for(p=0;p<Kt;p++){var Je=St(a[p]);Fe.push(c.project(St([Je.lat-Rt.lat,Je.lng-Rt.lng])))}for(p=0,b=0;p<Kt-1;p++)b+=Fe[p].distanceTo(Fe[p+1])/2;if(b===0)_t=Fe[0];else for(p=0,I=0;p<Kt-1;p++)if(z=Fe[p],J=Fe[p+1],x=z.distanceTo(J),I+=x,I>b){ot=(I-b)/x,_t=[J.x-ot*(J.x-z.x),J.y-ot*(J.y-z.y)];break}var zn=c.unproject(j(_t));return St([zn.lat+Rt.lat,zn.lng+Rt.lng])}var D={__proto__:null,simplify:nl,pointToSegmentDistance:Fa,closestPointOnSegment:Xs,clipSegment:na,_getEdgeIntersection:yn,_getBitCode:Is,_sqClosestPointOnSegment:li,isFlat:d,_flat:w,polylineCenter:R},Q={project:function(a){return new ct(a.lng,a.lat)},unproject:function(a){return new Pt(a.y,a.x)},bounds:new ut([-180,-90],[180,90])},lt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ut([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,b=a.lat*c,x=this.R_MINOR/p,I=Math.sqrt(1-x*x),z=I*Math.sin(b),J=Math.tan(Math.PI/4-b/2)/Math.pow((1-z)/(1+z),I/2);return b=-p*Math.log(Math.max(J,1e-10)),new ct(a.lng*c*p,b)},unproject:function(a){for(var c=180/Math.PI,p=this.R,b=this.R_MINOR/p,x=Math.sqrt(1-b*b),I=Math.exp(-a.y/p),z=Math.PI/2-2*Math.atan(I),J=0,ot=.1,_t;J<15&&Math.abs(ot)>1e-7;J++)_t=x*Math.sin(z),_t=Math.pow((1-_t)/(1+_t),x/2),ot=Math.PI/2-2*Math.atan(I*_t)-z,z+=ot;return new Pt(z*c,a.x*c/p)}},Et={__proto__:null,LonLat:Q,Mercator:lt,SphericalMercator:sn},he=o({},ie,{code:"EPSG:3395",projection:lt,transformation:function(){var a=.5/(Math.PI*lt.R);return ye(a,.5,-a,.5)}()}),rn=o({},ie,{code:"EPSG:4326",projection:Q,transformation:ye(1/180,1,-1/180,.5)}),fe=o({},we,{projection:Q,transformation:ye(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(p*p+b*b)},infinite:!0});we.Earth=ie,we.EPSG3395=he,we.EPSG3857=ni,we.EPSG900913=Nn,we.EPSG4326=rn,we.Simple=fe;var Re=mt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ee.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?$(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var x=this._zoomBoundLayers[b].options;a=x.minZoom===void 0?a:Math.min(a,x.minZoom),c=x.maxZoom===void 0?c:Math.max(c,x.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Be=Re.extend({initialize:function(a,c){F(this,c),this._layers={};var p,b;if(a)for(p=0,b=a.length;p<b;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),Qs=function(a,c){return new Be(a,c)},Ve=Be.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Be.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Be.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new vt;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Ps=function(a,c){return new Ve(a,c)},Ls=Ot.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){F(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var p=this.options,b=p[c+"Size"];typeof b=="number"&&(b=[b,b]);var x=j(b),I=j(c==="shadow"&&p.shadowAnchor||p.iconAnchor||x&&x.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),x&&(a.style.width=x.x+"px",a.style.height=x.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ct.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Kl(a){return new Ls(a)}var qa=Ls.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof qa.imagePath!="string"&&(qa.imagePath=this._detectIconPath()),(this.options.imagePath||qa.imagePath)+Ls.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,b,x){var I=b.exec(p);return I&&I[x]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=re("div","leaflet-default-icon-path",document.body),c=xs(a,"background-image")||xs(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),dc=oi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new rs(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),$t(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ie(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,b=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,I=vi(c._icon),z=p.getPixelBounds(),J=p.getPixelOrigin(),ot=bt(z.min._subtract(J).add(x),z.max._subtract(J).subtract(x));if(!ot.contains(I)){var _t=j((Math.max(ot.max.x,I.x)-ot.max.x)/(z.max.x-ot.max.x)-(Math.min(ot.min.x,I.x)-ot.min.x)/(z.min.x-ot.min.x),(Math.max(ot.max.y,I.y)-ot.max.y)/(z.max.y-ot.max.y)-(Math.min(ot.min.y,I.y)-ot.min.y)/(z.min.y-ot.min.y)).multiplyBy(b);p.panBy(_t,{animate:!1}),this._draggable._newPos._add(_t),this._draggable._startPos._add(_t),Ht(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=K(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,b=vi(c._icon),x=c._map.layerPointToLatLng(b);p&&Ht(p,b),c._latlng=x,a.latlng=x,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ga=Re.extend({options:{icon:new qa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){F(this,c),this._latlng=St(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=St(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),$t(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(p,"focus",this._panOnFocus,this);var x=a.icon.createShadow(this._shadow),I=!1;x!==this._shadow&&(this._removeShadow(),I=!0),x&&($t(x,c),x.alt=""),this._shadow=x,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),Ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ae(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ht(this._icon,a),this._shadow&&Ht(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&($t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ze(this._icon,a),this._shadow&&ze(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?j(c.iconSize):j(0,0),b=c.iconAnchor?j(c.iconAnchor):j(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mc(a,c){return new Ga(a,c)}var Js=Re.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return F(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sl=Js.extend({options:{fill:!0,radius:10},initialize:function(a,c){F(this,c),this._latlng=St(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=St(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Js.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),b=[a+p,c+p];this._pxBounds=new ut(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yf(a,c){return new sl(a,c)}var pc=sl.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),F(this,c),this._latlng=St(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Js.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===ie.distance){var x=Math.PI/180,I=this._mRadius/ie.R/x,z=p.project([c+I,a]),J=p.project([c-I,a]),ot=z.add(J).divideBy(2),_t=p.unproject(ot).lat,Rt=Math.acos((Math.cos(I*x)-Math.sin(c*x)*Math.sin(_t*x))/(Math.cos(c*x)*Math.cos(_t*x)))/x;(isNaN(Rt)||Rt===0)&&(Rt=I/Math.cos(Math.PI/180*c)),this._point=ot.subtract(p.getPixelOrigin()),this._radius=isNaN(Rt)?0:ot.x-p.project([_t,a-Rt]).x,this._radiusY=ot.y-z.y}else{var Dt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Dt).x}this._updateBounds()}});function gp(a,c,p){return new pc(a,c,p)}var tr=Js.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){F(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,b=li,x,I,z=0,J=this._parts.length;z<J;z++)for(var ot=this._parts[z],_t=1,Rt=ot.length;_t<Rt;_t++){x=ot[_t-1],I=ot[_t];var Dt=b(a,x,I,!0);Dt<c&&(c=Dt,p=b(a,x,I))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return R(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=St(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new vt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),b=0,x=a.length;b<x;b++)p?(c[b]=St(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new ut;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new ct(a,a);this._rawPxBounds&&(this._pxBounds=new ut([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var b=a[0]instanceof Pt,x=a.length,I,z;if(b){for(z=[],I=0;I<x;I++)z[I]=this._map.latLngToLayerPoint(a[I]),p.extend(z[I]);c.push(z)}else for(I=0;I<x;I++)this._projectLatlngs(a[I],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,b,x,I,z,J,ot;for(p=0,x=0,I=this._rings.length;p<I;p++)for(ot=this._rings[p],b=0,z=ot.length;b<z-1;b++)J=na(ot[b],ot[b+1],a,b,!0),J&&(c[x]=c[x]||[],c[x].push(J[0]),(J[1]!==ot[b+1]||b===z-2)&&(c[x].push(J[1]),x++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,b=a.length;p<b;p++)a[p]=nl(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,b,x,I,z,J,ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,I=this._parts.length;p<I;p++)for(J=this._parts[p],b=0,z=J.length,x=z-1;b<z;x=b++)if(!(!c&&b===0)&&Fa(a,J[x],J[b])<=ot)return!0;return!1}});function yp(a,c){return new tr(a,c)}tr._flat=w;var Wa=tr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Er(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=tr.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Pt&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){tr.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new ct(c,c);if(a=new ut(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,x=this._rings.length,I;b<x;b++)I=Ua(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,b,x,I,z,J,ot,_t;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,ot=this._parts.length;I<ot;I++)for(p=this._parts[I],z=0,_t=p.length,J=_t-1;z<_t;J=z++)b=p[z],x=p[J],b.y>a.y!=x.y>a.y&&a.x<(x.x-b.x)*(a.y-b.y)/(x.y-b.y)+b.x&&(c=!c);return c||tr.prototype._containsPoint.call(this,a,!0)}});function bi(a,c){return new Wa(a,c)}var Ei=Ve.extend({initialize:function(a,c){F(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=$(a)?a:a.features,p,b,x;if(c){for(p=0,b=c.length;p<b;p++)x=c[p],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var z=rl(a,I);return z?(z.feature=Za(a),z.defaultOptions=z.options,this.resetStyle(z),I.onEachFeature&&I.onEachFeature(a,z),this.addLayer(z)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function rl(a,c){var p=a.type==="Feature"?a.geometry:a,b=p?p.coordinates:null,x=[],I=c&&c.pointToLayer,z=c&&c.coordsToLatLng||Yl,J,ot,_t,Rt;if(!b&&!p)return null;switch(p.type){case"Point":return J=z(b),gc(I,a,J,c);case"MultiPoint":for(_t=0,Rt=b.length;_t<Rt;_t++)J=z(b[_t]),x.push(gc(I,a,J,c));return new Ve(x);case"LineString":case"MultiLineString":return ot=al(b,p.type==="LineString"?0:1,z),new tr(ot,c);case"Polygon":case"MultiPolygon":return ot=al(b,p.type==="Polygon"?1:2,z),new Wa(ot,c);case"GeometryCollection":for(_t=0,Rt=p.geometries.length;_t<Rt;_t++){var Dt=rl({geometry:p.geometries[_t],type:"Feature",properties:a.properties},c);Dt&&x.push(Dt)}return new Ve(x);case"FeatureCollection":for(_t=0,Rt=p.features.length;_t<Rt;_t++){var kt=rl(p.features[_t],c);kt&&x.push(kt)}return new Ve(x);default:throw new Error("Invalid GeoJSON object.")}}function gc(a,c,p,b){return a?a(c,p):new Ga(p,b&&b.markersInheritOptions&&b)}function Yl(a){return new Pt(a[1],a[0],a[2])}function al(a,c,p){for(var b=[],x=0,I=a.length,z;x<I;x++)z=c?al(a[x],c-1,p):(p||Yl)(a[x]),b.push(z);return b}function ol(a,c){return a=St(a),a.alt!==void 0?[S(a.lng,c),S(a.lat,c),S(a.alt,c)]:[S(a.lng,c),S(a.lat,c)]}function $l(a,c,p,b){for(var x=[],I=0,z=a.length;I<z;I++)x.push(c?$l(a[I],d(a[I])?0:c-1,p,b):ol(a[I],b));return!c&&p&&x.length>0&&x.push(x[0].slice()),x}function as(a,c){return a.feature?o({},a.feature,{geometry:c}):Za(c)}function Za(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ia={toGeoJSON:function(a){return as(this,{type:"Point",coordinates:ol(this.getLatLng(),a)})}};Ga.include(ia),pc.include(ia),sl.include(ia),tr.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=$l(this._latlngs,c?1:0,!1,a);return as(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Wa.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),b=$l(this._latlngs,p?2:c?1:0,!0,a);return c||(b=[b]),as(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Be.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),as(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",b=[];return this.eachLayer(function(x){if(x.toGeoJSON){var I=x.toGeoJSON(a);if(p)b.push(I.geometry);else{var z=Za(I);z.type==="FeatureCollection"?b.push.apply(b,z.features):b.push(z)}}}),p?as(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Xl(a,c){return new Ei(a,c)}var _f=Xl,Ms=Re.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=wt(c),F(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&($t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&As(this._image),this},bringToBack:function(){return this._map&&_r(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=wt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:re("img");if($t(c,"leaflet-image-layer"),this._zoomAnimated&&$t(c,"leaflet-zoom-animated"),this.options.className&&$t(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Zn(this._image,p,c)},_reset:function(){var a=this._image,c=new ut(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ht(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Ka=function(a,c,p){return new Ms(a,c,p)},Ql=Ms.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:re("video");if($t(c,"leaflet-image-layer"),this._zoomAnimated&&$t(c,"leaflet-zoom-animated"),this.options.className&&$t(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=f(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),b=[],x=0;x<p.length;x++)b.push(p[x].src);this._url=p.length>0?b:[c.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var z=re("source");z.src=this._url[I],c.appendChild(z)}}});function vf(a,c,p){return new Ql(a,c,p)}var wr=Ms.extend({_initImage:function(){var a=this._image=this._url;$t(a,"leaflet-image-layer"),this._zoomAnimated&&$t(a,"leaflet-zoom-animated"),this.options.className&&$t(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function Tf(a,c,p){return new wr(a,c,p)}var os=Re.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Pt||$(a))?(this._latlng=St(a),F(this,c)):(F(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&($t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(f(Ae,void 0,this._container),200)):Ae(this._container),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=St(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&As(this._container),this},bringToBack:function(){return this._map&&_r(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Ve){c=null;var p=this._source._layers;for(var b in p)if(p[b]._map){c=p[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=j(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ht(this._container,a.add(p)):c=c.add(a).add(p);var b=this._containerBottom=-c.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});ee.include({_initOverlay:function(a,c,p,b){var x=c;return x instanceof a||(x=new a(b).setContent(c)),p&&x.setLatLng(p),x}}),Re.include({_initOverlay:function(a,c,p,b){var x=p;return x instanceof a?(F(x,b),x._source=this):(x=c&&!b?c:new a(b,this),x.setContent(p)),x}});var ll=os.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,os.prototype.openOn.call(this,a)},onAdd:function(a){os.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Js||this._source.on("preclick",ai))},onRemove:function(a){os.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Js||this._source.off("preclick",ai))},getEvents:function(){var a=os.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=re("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=re("div",a+"-content-wrapper",c);if(this._contentNode=re("div",a+"-content",p),Ks(c),ss(this._contentNode),zt(c,"contextmenu",ai),this._tipContainer=re("div",a+"-tip-container",c),this._tip=re("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=re("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',zt(b,"click",function(x){De(x),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,x=this.options.maxHeight,I="leaflet-popup-scrolled";x&&b>x?(c.height=x+"px",$t(a,I)):Ie(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ht(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(xs(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,b=this._containerWidth,x=new ct(this._containerLeft,-p-this._containerBottom);x._add(vi(this._container));var I=a.layerPointToContainerPoint(x),z=j(this.options.autoPanPadding),J=j(this.options.autoPanPaddingTopLeft||z),ot=j(this.options.autoPanPaddingBottomRight||z),_t=a.getSize(),Rt=0,Dt=0;I.x+b+ot.x>_t.x&&(Rt=I.x+b-_t.x+ot.x),I.x-Rt-J.x<0&&(Rt=I.x-J.x),I.y+p+ot.y>_t.y&&(Dt=I.y+p-_t.y+ot.y),I.y-Dt-J.y<0&&(Dt=I.y-J.y),(Rt||Dt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Rt,Dt]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_p=function(a,c){return new ll(a,c)};ee.mergeOptions({closePopupOnClick:!0}),ee.include({openPopup:function(a,c,p){return this._initOverlay(ll,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Re.include({bindPopup:function(a,c){return this._popup=this._initOverlay(ll,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Ve||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){jn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Js)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Jl=os.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){os.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){os.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=os.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=re("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,b=this._map,x=this._container,I=b.latLngToContainerPoint(b.getCenter()),z=b.layerPointToContainerPoint(a),J=this.options.direction,ot=x.offsetWidth,_t=x.offsetHeight,Rt=j(this.options.offset),Dt=this._getAnchor();J==="top"?(c=ot/2,p=_t):J==="bottom"?(c=ot/2,p=0):J==="center"?(c=ot/2,p=_t/2):J==="right"?(c=0,p=_t/2):J==="left"?(c=ot,p=_t/2):z.x<I.x?(J="right",c=0,p=_t/2):(J="left",c=ot+(Rt.x+Dt.x)*2,p=_t/2),a=a.subtract(j(c,p,!0)).add(Rt).add(Dt),Ie(x,"leaflet-tooltip-right"),Ie(x,"leaflet-tooltip-left"),Ie(x,"leaflet-tooltip-top"),Ie(x,"leaflet-tooltip-bottom"),$t(x,"leaflet-tooltip-"+J),Ht(x,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ze(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vp=function(a,c){return new Jl(a,c)};ee.include({openTooltip:function(a,c,p){return this._initOverlay(Jl,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Re.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jl,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Ve||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(zt(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),zt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,b;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var yc=Ls.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(gn(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=j(p.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function bf(a){return new yc(a)}Ls.Default=qa;var sa=Re.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){F(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Ae(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(As(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_r(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ct?a:new ct(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),b=0,x=c.length,I;b<x;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(p=a(p,+I));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){ze(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var b in this._tiles){var x=this._tiles[b];if(!(!x.current||!x.loaded)){var I=Math.min(1,(a-x.loaded)/200);ze(x.el,I),I<1?c=!0:(x.active?p=!0:this._onOpaqueTile(x),x.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(H(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(Ae(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[a],x=this._map;return b||(b=this._levels[a]={},b.el=re("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=x.project(x.unproject(x.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,x.getCenter(),x.getZoom()),A(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Ae(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,b){var x=Math.floor(a/2),I=Math.floor(c/2),z=p-1,J=new ct(+x,+I);J.z=+z;var ot=this._tileCoordsToKey(J),_t=this._tiles[ot];return _t&&_t.active?(_t.retain=!0,!0):(_t&&_t.loaded&&(_t.retain=!0),z>b?this._retainParent(x,I,z,b):!1)},_retainChildren:function(a,c,p,b){for(var x=2*a;x<2*a+2;x++)for(var I=2*c;I<2*c+2;I++){var z=new ct(x,I);z.z=p+1;var J=this._tileCoordsToKey(z),ot=this._tiles[J];if(ot&&ot.active){ot.retain=!0;continue}else ot&&ot.loaded&&(ot.retain=!0);p+1<b&&this._retainChildren(x,I,p+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,b){var x=Math.round(c);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var I=this.options.updateWhenZooming&&x!==this._tileZoom;(!b||I)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var b=this._map.getZoomScale(p,a.zoom),x=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,p)).round();Ct.any3d?Zn(a.el,x,b):Ht(a.el,x)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(p,this._tileZoom),x=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new ut(x.subtract(I),x.add(I))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),x=this._pxBoundsToTileRange(b),I=x.getCenter(),z=[],J=this.options.keepBuffer,ot=new ut(x.getBottomLeft().subtract([J,-J]),x.getTopRight().add([J,-J]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _t in this._tiles){var Rt=this._tiles[_t].coords;(Rt.z!==this._tileZoom||!ot.contains(new ct(Rt.x,Rt.y)))&&(this._tiles[_t].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Dt=x.min.y;Dt<=x.max.y;Dt++)for(var kt=x.min.x;kt<=x.max.x;kt++){var Kt=new ct(kt,Dt);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var Fe=this._tiles[this._tileCoordsToKey(Kt)];Fe?Fe.current=!0:z.push(Kt)}}if(z.sort(function(zn,Vi){return zn.distanceTo(I)-Vi.distanceTo(I)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Je=document.createDocumentFragment();for(kt=0;kt<z.length;kt++)this._addTile(z[kt],Je);this._level.el.appendChild(Je)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return wt(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),b=a.scaleBy(p),x=b.add(p),I=c.unproject(b,a.z),z=c.unproject(x,a.z);return[I,z]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new vt(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new ct(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(Ae(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){$t(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=A,a.onmousemove=A,Ct.ielt9&&this.options.opacity<1&&ze(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),b=this._tileCoordsToKey(a),x=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(x),this.createTile.length<2&&K(f(this._tileReady,this,a,null,x)),Ht(x,p),this._tiles[b]={el:x,coords:a,current:!0},c.appendChild(x),this.fire("tileloadstart",{tile:x,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var b=this._tileCoordsToKey(a);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(ze(p.el,0),H(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||($t(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new ct(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new ut(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ls(a){return new sa(a)}var ra=sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=F(this,c),c.detectRetina&&Ct.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return zt(p,"load",f(this._tileOnLoad,this,c,p)),zt(p,"error",f(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Ct.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return et(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Ct.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=A,c.onerror=A,!c.complete)){c.src=dt;var p=this._tiles[a].coords;Ae(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",dt),sa.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===dt))return sa.prototype._tileReady.call(this,a,c,p)}});function wi(a,c){return new ra(a,c)}var Si=ra.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var b in c)b in this.options||(p[b]=c[b]);c=F(this,c);var x=c.detectRetina&&Ct.retina?2:1,I=this.getTileSize();p.width=I.x*x,p.height=I.y*x,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,ra.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,b=bt(p.project(c[0]),p.project(c[1])),x=b.min,I=b.max,z=(this._wmsVersion>=1.3&&this._crs===rn?[x.y,x.x,I.y,I.x]:[x.x,x.y,I.x,I.y]).join(","),J=ra.prototype.getTileUrl.call(this,a);return J+q(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Ya(a,c){return new Si(a,c)}ra.WMS=Si,wi.wms=Ya;var us=Re.extend({options:{padding:.1},initialize:function(a){F(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),$t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,c),I=b.multiplyBy(-p).add(x).subtract(this._map._getNewPixelOrigin(a,c));Ct.any3d?Zn(this._container,I,p):Ht(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new ut(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ul=us.extend({options:{tolerance:0},getEvents:function(){var a=us.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){us.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");zt(a,"mousemove",this._onMouseMove,this),zt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Ae(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){us.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),b=Ct.retina?2:1;Ht(c,a.min),c.width=b*p.x,c.height=b*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){us.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,b=c.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],b,x;for(x=0;x<c.length;x++){if(b=Number(c[x]),isNaN(b))return;p.push(b)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ut,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,b,x,I,z=a._parts,J=z.length,ot=this._ctx;if(J){for(ot.beginPath(),p=0;p<J;p++){for(b=0,x=z[p].length;b<x;b++)I=z[p][b],ot[b?"lineTo":"moveTo"](I.x,I.y);c&&ot.closePath()}this._fillStroke(ot,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,b=Math.max(Math.round(a._radius),1),x=(Math.max(Math.round(a._radiusY),1)||b)/b;x!==1&&(p.save(),p.scale(1,x)),p.beginPath(),p.arc(c.x,c.y/x,b,0,Math.PI*2,!1),x!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,b,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,b,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(c)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&($t(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,b=c.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,b=c.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function cl(a){return Ct.canvas?new ul(a):null}var aa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$a={_initContainer:function(){this._container=re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(us.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=aa("shape");$t(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=aa("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Ae(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,b=a.options,x=a._container;x.stroked=!!b.stroke,x.filled=!!b.fill,b.stroke?(c||(c=a._stroke=aa("stroke")),x.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=$(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(x.removeChild(c),a._stroke=null),b.fill?(p||(p=a._fill=aa("fill")),x.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(x.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),b=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){As(a._container)},_bringToBack:function(a){_r(a._container)}},hl=Ct.vml?aa:gs,Sr=us.extend({_initContainer:function(){this._container=hl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ae(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){us.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ht(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=hl("path");a.options.className&&$t(c,a.options.className),a.options.interactive&&$t(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Ae(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Gr(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||p,x="a"+p+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+x+p*2+",0 "+x+-p*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){As(a._path)},_bringToBack:function(a){_r(a._path)}});Ct.vml&&Sr.include($a);function oa(a){return Ct.svg||Ct.vml?new Sr(a):null}ee.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&cl(a)||oa(a)}});var Ef=Wa.extend({initialize:function(a,c){Wa.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=wt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function xi(a,c){return new Ef(a,c)}Sr.create=hl,Sr.pointsToPath=Gr,Ei.geometryToLayer=rl,Ei.coordsToLatLng=Yl,Ei.coordsToLatLngs=al,Ei.latLngToCoords=ol,Ei.latLngsToCoords=$l,Ei.getFeature=as,Ei.asFeature=Za,ee.mergeOptions({boxZoom:!0});var tu=oi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vn(),Qr(),this._startPoint=this._map.mouseEventToContainerPoint(a),zt(document,{contextmenu:jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=re("div","leaflet-zoom-box",this._container),$t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new ut(this._point,this._startPoint),p=c.getSize();Ht(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Ae(this._box),Ie(this._container,"leaflet-crosshair")),es(),Qo(),_e(document,{contextmenu:jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ee.addInitHook("addHandler","boxZoom",tu),ee.mergeOptions({doubleClickZoom:!0});var Ds=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),b=c.options.zoomDelta,x=a.originalEvent.shiftKey?p-b:p+b;c.options.doubleClickZoom==="center"?c.setZoom(x):c.setZoomAround(a.containerPoint,x)}});ee.addInitHook("addHandler","doubleClickZoom",Ds),ee.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _c=oi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new rs(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}$t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ie(this._map._container,"leaflet-grab"),Ie(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=wt(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,x=(b-c+p)%a+c-p,I=(b+c+p)%a-c-p,z=Math.abs(x+p)<Math.abs(I+p)?x:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(a){var c=this._map,p=c.options,b=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,z=p.easeLinearity,J=x.multiplyBy(z/I),ot=J.distanceTo([0,0]),_t=Math.min(p.inertiaMaxSpeed,ot),Rt=J.multiplyBy(_t/ot),Dt=_t/(p.inertiaDeceleration*z),kt=Rt.multiplyBy(-Dt/2).round();!kt.x&&!kt.y?c.fire("moveend"):(kt=c._limitOffset(kt,c.options.maxBounds),K(function(){c.panBy(kt,{duration:Dt,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});ee.addInitHook("addHandler","dragging",_c),ee.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fl=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),zt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,b,x;for(b=0,x=p.left.length;b<x;b++)c[p.left[b]]=[-1*a,0];for(b=0,x=p.right.length;b<x;b++)c[p.right[b]]=[a,0];for(b=0,x=p.down.length;b<x;b++)c[p.down[b]]=[0,a];for(b=0,x=p.up.length;b<x;b++)c[p.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,b,x;for(b=0,x=p.zoomIn.length;b<x;b++)c[p.zoomIn[b]]=a;for(b=0,x=p.zoomOut.length;b<x;b++)c[p.zoomOut[b]]=-a},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,b;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=j(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(j(b),p.options.maxBounds)),p.options.worldCopyJump){var x=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(x)}else p.panBy(b)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;jn(a)}}});ee.addInitHook("addHandler","keyboard",fl),ee.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xr=oi.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Jr(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),jn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=p?Math.ceil(x/p)*p:x,z=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,z&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+z):a.setZoomAround(this._lastMousePos,c+z))}});ee.addInitHook("addHandler","scrollWheelZoom",xr);var vc=600;ee.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var eu=oi.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new ct(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",De),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),vc),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){_e(document,"touchend",De),_e(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new ct(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});ee.addInitHook("addHandler","tapHold",eu),ee.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var la=oi.extend({addHooks:function(){$t(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),De(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),x=p.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(x,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&x<1||this._zoom>c.getMaxZoom()&&x>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var I=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(x===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var z=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(z,this,!0),De(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ee.addInitHook("addHandler","touchZoom",la),ee.BoxZoom=tu,ee.DoubleClickZoom=Ds,ee.Drag=_c,ee.Keyboard=fl,ee.ScrollWheelZoom=xr,ee.TapHold=eu,ee.TouchZoom=la,n.Bounds=ut,n.Browser=Ct,n.CRS=we,n.Canvas=ul,n.Circle=pc,n.CircleMarker=sl,n.Class=Ot,n.Control=Cn,n.DivIcon=yc,n.DivOverlay=os,n.DomEvent=Hl,n.DomUtil=Jo,n.Draggable=rs,n.Evented=mt,n.FeatureGroup=Ve,n.GeoJSON=Ei,n.GridLayer=sa,n.Handler=oi,n.Icon=Ls,n.ImageOverlay=Ms,n.LatLng=Pt,n.LatLngBounds=vt,n.Layer=Re,n.LayerGroup=Be,n.LineUtil=D,n.Map=ee,n.Marker=Ga,n.Mixin=ea,n.Path=Js,n.Point=ct,n.PolyUtil=Ba,n.Polygon=Wa,n.Polyline=tr,n.Popup=ll,n.PosAnimation=ta,n.Projection=Et,n.Rectangle=Ef,n.Renderer=us,n.SVG=Sr,n.SVGOverlay=wr,n.TileLayer=ra,n.Tooltip=Jl,n.Transformation=ei,n.Util=V,n.VideoOverlay=Ql,n.bind=f,n.bounds=bt,n.canvas=cl,n.circle=gp,n.circleMarker=yf,n.control=Un,n.divIcon=bf,n.extend=o,n.featureGroup=Ps,n.geoJSON=Xl,n.geoJson=_f,n.gridLayer=ls,n.icon=Kl,n.imageOverlay=Ka,n.latLng=St,n.latLngBounds=wt,n.layerGroup=Qs,n.map=Cs,n.marker=mc,n.point=j,n.polygon=bi,n.polyline=yp,n.popup=_p,n.rectangle=xi,n.setOptions=F,n.stamp=y,n.svg=oa,n.svgOverlay=Tf,n.tileLayer=wi,n.tooltip=vp,n.transformation=ye,n.version=s,n.videoOverlay=vf;var Xa=window.L;n.noConflict=function(){return window.L=Xa,this},window.L=n})}(mh,mh.exports)),mh.exports}var cc=eB();const hp=Lx(cc);function fp(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function b0(e,t){return t==null?function(s,o){const u=N.useRef(void 0);return u.current||(u.current=e(s,o)),u}:function(s,o){const u=N.useRef(void 0);u.current||(u.current=e(s,o));const f=N.useRef(s),{instance:m}=u.current;return N.useEffect(function(){f.current!==s&&(t(m,s,f.current),f.current=s)},[m,s,t]),u}}function rI(e,t){N.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function aI(e){return function(n){const s=v0(),o=e(T0(n,s),s);return Yz(s.map,n.attribution),sI(o.current,n.eventHandlers),rI(o.current,s),o}}function nB(e,t){const n=N.useRef(void 0);N.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function iB(e){return function(n){const s=v0(),o=e(T0(n,s),s);return sI(o.current,n.eventHandlers),rI(o.current,s),nB(o.current,n),o}}function sB(e,t){const n=b0(e,t),s=aI(n);return iI(s)}function oI(e,t){const n=b0(e,t),s=iB(n);return iI(s)}function rB(e,t){const n=b0(e,t),s=aI(n);return Jz(s)}function aB(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function oB(){return v0().map}const lI=oI(function({center:t,children:n,...s},o){const u=new cc.Circle(t,s);return fp(u,y0(o,{overlayContainer:u}))},$z);function lB({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:u,placeholder:f,style:m,whenReady:y,zoom:_,...E},A){const[S]=N.useState({className:o,id:u,style:m}),[M,k]=N.useState(null),F=N.useRef(void 0);N.useImperativeHandle(A,()=>M?.map??null,[M]);const q=N.useCallback(et=>{if(et!==null&&!F.current){const $=new cc.Map(et,E);F.current=$,n!=null&&_!=null?$.setView(n,_):e!=null&&$.fitBounds(e,t),y!=null&&$.whenReady(y),k(Qz($))}},[]);N.useEffect(()=>()=>{M?.map.remove()},[M]);const W=M?em.createElement(_0,{value:M},s):f??null;return em.createElement("div",{...S,ref:q},W)}const dp=N.forwardRef(lB),mp=sB(function({position:t,...n},s){const o=new cc.Marker(t,n);return fp(o,y0(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),uI=oI(function({positions:t,...n},s){const o=new cc.Polyline(t,n);return fp(o,y0(s,{overlayContainer:o}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),pp=rB(function({url:t,...n},s){const o=new cc.TileLayer(t,T0(n,s));return fp(o,s)},function(t,n,s){aB(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)}),cI="/assets/Apple_AirTag-DXsKpCuU.svg",Iy=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194]];function uB({scrollYProgress:e,path:t,setBreadcrumbPath:n,setVisitedPoints:s}){const o=oB();return N.useEffect(()=>{const u=e.on("change",f=>{const m=(f-.3)/.39999999999999997;if(m<0||m>1){const M=m>1?t[t.length-1]:t[0],k=m>1?12.75:15;o.setView(M,k),n(m>1?t:[t[0]]),s(m>1?t:[t[0]]);return}const y=m*(t.length-1),_=Math.floor(y),E=y-_;let A;if(_>=t.length-1)A=t[t.length-1];else{const[M,k]=t[_],[F,q]=t[_+1];A=[M+(F-M)*E,k+(q-k)*E]}const S=15-m*(15-12.75);o.setView(A,S),n([...t.slice(0,_+1),A]),s(t.slice(0,_+1))});return()=>u()},[o,e,t,n,s]),null}function cB({onScrollProgress:e}){const t=N.useRef(null),{scrollYProgress:n}=Wz({target:t,offset:["start start","end end"]});N.useEffect(()=>{e&&e(n)},[n,e]);const s=Su(n,[0,.3],[1,.2]),o=Su(n,[.7,1],[1,0]),u=Su(n,[.1,.3,.8,1],[0,1,1,0]),f=Su(n,[.7,.8],[1,0]),[m,y]=N.useState([Iy[0]]),[_,E]=N.useState([]),A=hp.divIcon({className:"trail-point",iconSize:[8,8],iconAnchor:[4,4],html:"<div></div>"}),S=Su(n,[.7,.8],[1,0]),M=Su(n,[.8,1],[0,1]);return T.jsxs("div",{ref:t,id:"hero",className:"landing-root",role:"banner","aria-labelledby":"hero-title",children:[T.jsx(ih.div,{className:"header-background-container",style:{opacity:M}}),T.jsx(ih.div,{className:"hero-title-container",style:{opacity:S},children:T.jsx("h1",{id:"hero-title",className:"hero-title",children:"TagLogger"})}),T.jsxs(ih.p,{className:"subtitle",style:{opacity:f},children:[T.jsx("strong",{children:"Unlock the location history and more."}),T.jsx("br",{}),T.jsx("span",{style:{fontSize:"0.5em",display:"block",marginTop:"15px"},children:"An independent service, not affiliated with Apple Inc."})]}),T.jsx(ih.img,{src:cI,alt:"Apple AirTag - Location tracking device",className:"airtag-img",style:{scale:s,opacity:o,zIndex:10,translateX:"-50%",translateY:"-50%"},draggable:!1}),T.jsx(ih.div,{className:"map-fade",style:{opacity:u,zIndex:1},children:T.jsxs(dp,{center:Iy[0],zoom:15,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100vh",width:"100vw",background:"black"},children:[T.jsx(pp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),T.jsx(uB,{scrollYProgress:n,path:Iy,setBreadcrumbPath:y,setVisitedPoints:E}),T.jsx(uI,{positions:m,color:"#00eaff",weight:6,opacity:.7}),_.map((k,F)=>T.jsx(mp,{position:k,icon:A,zIndexOffset:1e3},F))]},"main-app-map")})]})}const hB=[{feature:"Size",taglogger:"31x31 mm",apple:"",gps:"40–60mm+, bulky"},{feature:"Tech",taglogger:"AirTag",apple:"",gps:"GPS, SIM"},{feature:"Device Support",taglogger:"Android, iOS, Web",apple:"Apple only",gps:"Often agnostic"},{feature:"Battery Life",taglogger:"~1 yr",apple:"",gps:"Days–weeks"},{feature:"Cost",taglogger:"Low",apple:"",gps:"High"},{feature:"History/Export",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Alerts/Geofencing",taglogger:"Yes",apple:"Limited",gps:"Extra fees"},{feature:"Inventory Mgmt",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Scalability",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Max Tags",taglogger:"Unlimited",apple:"32 items",gps:"Many"}];function fB(){return T.jsx("section",{id:"feature-comparison",className:"feature-comparison-section",role:"region","aria-labelledby":"feature-comparison-title",children:T.jsxs("div",{className:"feature-comparison-content",children:[T.jsx("h2",{id:"feature-comparison-title",className:"feature-comparison-title",children:"How We Compare"}),T.jsx("div",{style:{maxWidth:700,margin:"0 auto"},children:T.jsx("p",{className:"feature-description",style:{marginBottom:32},children:"See how our solution compares to other tracking options on the market. We deliver the best mix of size, battery life, and coverage. If you’ve tried AirTags, you’ll know nothing else is quite like it."})}),T.jsx("div",{className:"feature-comparison-table-wrapper",style:{overflowX:"auto",maxWidth:800,margin:"0 auto"},children:T.jsxs("table",{className:"feature-comparison-table",style:{width:"100%",borderCollapse:"collapse",minWidth:580,tableLayout:"fixed"},children:[T.jsxs("colgroup",{children:[T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%",background:"rgba(0,234,255,0.10)"}}),T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%"}})]}),T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(0,234,255,0.08)"},children:[T.jsx("th",{style:{padding:"10px 6px",color:"#00eaff",fontWeight:700,fontSize:14,textAlign:"left",borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Feature"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"TagLogger"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Apple Find My"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14},children:"GPS Trackers"})]})}),T.jsx("tbody",{children:hB.map((e,t)=>e.feature==="Tech"&&!e.apple||e.feature==="Size"&&!e.apple||e.feature==="Battery Life"&&!e.apple||e.feature==="Cost"&&!e.apple?T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{colSpan:2,style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,textAlign:"center",background:"rgba(0,234,255,0.10)",borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t):T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)",background:"rgba(0,234,255,0.10)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.apple}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t))})]})})]})})}function dB(){const[e,t]=N.useState("business"),n=[{icon:"🧳",title:"Track Luggage Travels",description:"Monitor your luggage with an AirTag during vacations and business trips"},{icon:"🐕",title:"Monitor Pet Adventures",description:"See where your furry friends wander and explore"},{icon:"👨‍👩‍👧‍👦",title:"Family Safety Tracking",description:"Track your elderly parents or young kids for safety reasons"},{icon:"🔗",title:"Shared Item Locations",description:"Remember locations when lending valuable possessions"},{icon:"📦",title:"Package Delivery Verification",description:"Verify delivered packages with complete travel history"},{icon:"🚗",title:"Vehicle Journey Documentation",description:"Document vehicle journeys for expense reports or records"}],s=[{icon:"📦",title:"Shipment Monitoring",description:"Track shipments to reduce losses and ensure timely deliveries"},{icon:"✅",title:"Delivery Verification",description:"Verify deliveries using historical location data for accuracy and dispute resolution"},{icon:"🏭",title:"Equipment Location",description:"Locate equipment across industries like healthcare, manufacturing, film, construction, and IT to boost operational efficiency"},{icon:"📊",title:"Historical Equipment Usage",description:"Record equipment movements over time for maintenance, accountability, and compliance"},{icon:"🚛",title:"Vehicle Journey Documentation",description:"Document vehicle travels for expense reimbursement, travel logging, and compliance"},{icon:"🚜",title:"Rental and Event Equipment Management",description:"Manage rental and event equipment with historical tracking to ensure proper usage and timely returns"}];return T.jsx("section",{id:"use-cases",className:"use-cases-section",role:"region","aria-labelledby":"use-cases-title",children:T.jsxs("div",{className:"use-cases-content",children:[T.jsx("h2",{id:"use-cases-title",className:"use-cases-title",children:"Built for Business and Personal Use Cases"}),T.jsxs("div",{className:"use-cases-toggle",children:[T.jsx("button",{className:`toggle-btn ${e==="business"?"active":""}`,onClick:()=>t("business"),children:"Business Use"}),T.jsx("button",{className:`toggle-btn ${e==="personal"?"active":""}`,onClick:()=>t("personal"),children:"Personal Use"})]}),T.jsx("div",{className:"use-cases-category",children:T.jsx("div",{className:"use-cases-grid",children:(e==="personal"?n:s).map((o,u)=>T.jsxs("div",{className:"use-case-card",children:[T.jsx("div",{className:"use-case-icon","aria-hidden":"true",children:o.icon}),T.jsx("h3",{className:"use-case-title",children:o.title}),T.jsx("p",{className:"use-case-description",children:o.description})]},u))})})]})})}const xu=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194],[37.7549,-122.4194],[37.7499,-122.4194]];function mB(){const[e,t]=N.useState([]),[n,s]=N.useState(xu[0]);N.useEffect(()=>{let u=0;const f=setInterval(()=>{u<xu.length?(t(xu.slice(0,u+1)),s(xu[u]),u++):(u=0,t([]),s(xu[0]))},300);return()=>clearInterval(f)},[]);const o=hp.divIcon({className:"demo-marker",iconSize:[20,20],iconAnchor:[10,10],html:'<div class="marker-dot"></div>'});return T.jsx("div",{className:"platform-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/dashboard"})]}),T.jsx("div",{className:"browser-content",children:T.jsxs(dp,{center:xu[0],zoom:13,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(pp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),e.length>0&&T.jsx(uI,{positions:e,color:"#00eaff",weight:4,opacity:.8}),n&&T.jsx(mp,{position:n,icon:o})]},"platform-demo-map")})]})})}const Pd=[37.7749,-122.4194],xx=500,Ld=[[37.7749,-122.4194],[37.7749,-122.415],[37.7749,-122.41],[37.7749,-122.405],[37.7749,-122.41],[37.7749,-122.415],[37.7749,-122.4194]];function pB(){const[e,t]=N.useState(Ld[0]),[n,s]=N.useState(!0),[o,u]=N.useState(!1),[f,m]=N.useState(""),y=(A,S,M,k)=>{const q=A*Math.PI/180,W=M*Math.PI/180,et=(M-A)*Math.PI/180,$=(k-S)*Math.PI/180,Tt=Math.sin(et/2)*Math.sin(et/2)+Math.cos(q)*Math.cos(W)*Math.sin($/2)*Math.sin($/2);return 6371e3*(2*Math.atan2(Math.sqrt(Tt),Math.sqrt(1-Tt)))},_=A=>y(A[0],A[1],Pd[0],Pd[1])<=xx;N.useEffect(()=>{let A=0;const S=setInterval(()=>{if(A<Ld.length){const M=Ld[A];t(M);const k=n,F=_(M);k!==F&&(s(F),m(F?"🚨 AirTag entered geofence zone!":"🚨 AirTag left geofence zone!"),u(!0),setTimeout(()=>u(!1),2e3)),A++}else A=0,t(Ld[0]),s(!0)},670);return()=>clearInterval(S)},[n]);const E=hp.divIcon({className:"geofence-marker",iconSize:[24,24],iconAnchor:[12,12],html:`<div class="marker-dot ${n?"inside":"outside"}"></div>`});return T.jsx("div",{className:"geofence-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/geofencing"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs(dp,{center:Pd,zoom:14,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(pp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),T.jsx(lI,{center:Pd,radius:xx,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:2,opacity:.8}}),e&&T.jsx(mp,{position:e,icon:E})]},"geofence-demo-map"),o&&T.jsx("div",{className:"geofence-alert",children:T.jsxs("div",{className:`alert-content${n?" blue":""}`,children:[T.jsx("span",{className:"alert-icon",children:"🚨"}),T.jsx("span",{className:"alert-text",children:f})]})}),T.jsx("div",{className:"geofence-status",children:T.jsx("div",{className:`status-indicator ${n?"inside":"outside"}`,children:n?"📍 Inside Geofence":"📍 Outside Geofence"})})]})]})})}const Md={yard:[37.7749,-122.4194],"site-a":[37.7849,-122.4094],"site-b":[37.7649,-122.4294],"site-c":[37.7949,-122.3994]},gB=[{id:1,name:"Excavator #EX-001",type:"excavator",status:"checked-out",location:"site-a",user:"Mike Rodriguez",lastUpdate:"2 hours ago"},{id:2,name:"Bulldozer #BD-045",type:"bulldozer",status:"checked-in",location:"yard",user:null,lastUpdate:"1 day ago"},{id:3,name:"Crane #CR-012",type:"crane",status:"checked-out",location:"site-b",user:"Sarah Johnson",lastUpdate:"30 min ago"},{id:4,name:"Loader #LD-023",type:"loader",status:"checked-out",location:"site-c",user:"Tom Wilson",lastUpdate:"5 hours ago"}];function yB(){const[e,t]=N.useState(gB),[n,s]=N.useState(null),[o,u]=N.useState(new Date);N.useEffect(()=>{const S=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(S)},[]);const f=S=>Md[S]||Md.warehouse,m=S=>S==="checked-in"?"📦":"📤",y=S=>({excavator:"🚜",bulldozer:"🚛",crane:"🏗️",loader:"🚚"})[S]||"🏗️",_=S=>{s(n?.id===S.id?null:S)},E=S=>{t(M=>M.map(k=>{if(k.id===S){const F=k.status==="checked-in"?"checked-out":"checked-in";return{...k,status:F,user:F==="checked-out"?"Current User":null,lastUpdate:"Just now"}}return k}))},A=(S,M)=>hp.divIcon({className:"inventory-marker",iconSize:[30,30],iconAnchor:[15,15],html:`<div class="marker-content ${M}">
               <div class="marker-icon">${y(S)}</div>
               <div class="marker-status">${m(M)}</div>
             </div>`});return T.jsx("div",{className:"inventory-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/equipment"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs("div",{className:"inventory-layout",children:[T.jsxs("div",{className:"inventory-sidebar",children:[T.jsxs("div",{className:"sidebar-header",children:[T.jsx("h3",{children:"Equipment Inventory"}),T.jsx("div",{className:"time-display",children:o.toLocaleTimeString()})]}),T.jsx("div",{className:"asset-list",children:e.map(S=>T.jsxs("div",{className:`asset-item ${n?.id===S.id?"selected":""} ${S.status}`,onClick:()=>_(S),children:[T.jsx("div",{className:"asset-icon",children:y(S.type)}),T.jsxs("div",{className:"asset-info",children:[T.jsx("div",{className:"asset-name",children:S.name}),T.jsxs("div",{className:"asset-details",children:[T.jsxs("span",{className:`status-badge ${S.status}`,children:[m(S.status)," ",S.status]}),T.jsxs("span",{className:"asset-location",children:["📍 ",S.location]})]}),S.user&&T.jsxs("div",{className:"asset-user",children:["👤 ",S.user]})]}),T.jsx("button",{className:`check-btn ${S.status}`,onClick:M=>{M.stopPropagation(),E(S.id)},children:S.status==="checked-in"?"Check Out":"Check In"})]},S.id))})]}),T.jsx("div",{className:"inventory-map",children:T.jsxs(dp,{center:Md.yard,zoom:12,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(pp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),Object.entries(Md).map(([S,M])=>T.jsx(lI,{center:M,radius:200,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:1,opacity:.5}},S)),e.map(S=>{const M=f(S.location);return M?T.jsx(mp,{position:M,icon:A(S.type,S.status)},S.id):null})]},"inventory-demo-map")})]}),n&&T.jsxs("div",{className:"asset-details-panel",children:[T.jsxs("div",{className:"details-header",children:[T.jsx("h4",{children:n.name}),T.jsx("button",{className:"close-btn",onClick:()=>s(null),children:"×"})]}),T.jsxs("div",{className:"details-content",children:[T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Type:"}),T.jsx("span",{className:"detail-value",children:n.type})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Status:"}),T.jsxs("span",{className:`detail-value status-${n.status}`,children:[m(n.status)," ",n.status]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Location:"}),T.jsxs("span",{className:"detail-value",children:["📍 ",n.location]})]}),n.user&&T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Assigned to:"}),T.jsxs("span",{className:"detail-value",children:["👤 ",n.user]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Last updated:"}),T.jsx("span",{className:"detail-value",children:n.lastUpdate})]})]})]})]})]})})}function _B(){const[e,t]=N.useState(0),n=[{title:"Complete Location History",description:"Interactive timeline with 30-90+ day history. Analyze movement patterns and travel routes with timeline playback.",demo:T.jsx(mB,{})},{title:"Geofencing",description:"Virtual boundaries with automated alerts. Custom radius 100m-5km with email/SMS notifications.",demo:T.jsx(pB,{})},{title:"Inventory Check-In/Out",description:"Automate asset management with location-based status updates and inventory system integration.",demo:T.jsx(yB,{})}];return T.jsx("section",{id:"platform-features",className:"platform-features-section",role:"region","aria-labelledby":"platform-features-title",children:T.jsxs("div",{className:"platform-features-content",children:[T.jsx("h2",{id:"platform-features-title",className:"platform-features-title",children:"Platform Features"}),T.jsxs("div",{className:"platform-features-layout",children:[T.jsx("div",{className:"features-selector",children:n.map((s,o)=>T.jsx("button",{className:`feature-selector-btn ${e===o?"selected":""}`,onClick:()=>t(o),children:s.title},o))}),T.jsxs("div",{className:"demo-section",children:[T.jsx("p",{className:"feature-description",children:n[e].description}),T.jsx("div",{className:"demo-placeholder",children:n[e].demo})]})]})]})})}function vB(){const e=[{icon:"📦",title:"Order",subtitle:"Get pre-configured tags",description:"For your security and seamless integration, tags must be pre-configured and onboarded to our platform before shipping. This ensures they are ready to track without needing access to your iCloud account."},{icon:"🔗",title:"Activate",subtitle:"Link in seconds",description:"Once your pre-configured tags arrive, simply link them to your account on our platform. The tracking functionality will activate, ready for use."},{icon:"📍",title:"Track",subtitle:"Anywhere",description:"Access powerful platform features, including location history, geofencing, and inventory check-in/out capabilities."}];return T.jsx("section",{id:"how-it-works",className:"how-it-works-section",role:"region","aria-labelledby":"how-it-works-title",children:T.jsxs("div",{className:"how-it-works-content",children:[T.jsx("h2",{id:"how-it-works-title",className:"how-it-works-title",children:"How It Works"}),T.jsx("div",{className:"how-it-works-steps modern",children:e.map((t,n)=>T.jsxs(em.Fragment,{children:[T.jsxs("div",{className:"how-it-works-step modern",children:[T.jsx("div",{className:"how-it-works-icon modern",children:t.icon}),T.jsx("div",{className:"how-it-works-step-title modern",children:t.title}),T.jsx("div",{className:"how-it-works-step-subtitle",children:t.subtitle}),T.jsx("p",{className:"how-it-works-step-description",children:t.description})]}),n<e.length-1&&T.jsx("div",{className:"how-it-works-chevron",children:"→"})]},n))})]})})}const gf=(e,t={})=>{typeof gtag<"u"?(gtag("event",e,t),console.log("GA4 Event tracked:",e,t)):console.warn("GA4 not loaded - event would be:",e,t)},TB=()=>{gf("sign_up",{method:"google"})},bB=()=>{gf("login",{method:"google"})},EB=(e=1)=>{gf("begin_checkout",{currency:"USD",value:e*4.99,items:[{item_id:"airtag_tracking",item_name:"AirTag Tracking Service",category:"subscription",quantity:e,price:4.99}]})},wB=(e=1,t)=>{gf("purchase",{transaction_id:t,currency:"USD",value:e*4.99,items:[{item_id:"airtag_tracking",item_name:"AirTag Tracking Service",category:"subscription",quantity:e,price:4.99}]})},SB=(e,t)=>{gf("cta_click",{cta_location:e,cta_text:t})},E0=(e,t={})=>{if(typeof fbq<"u"){const n=`${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate event",e,t);return}fbq("track",e,t),console.log("Meta Pixel Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - event would be:",e,t)},hI=(e,t={})=>{if(typeof fbq<"u"){const n=`custom_${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate custom event",e,t);return}fbq("trackCustom",e,t),console.log("Meta Pixel Custom Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - custom event would be:",e,t)},Ax=()=>{TB(),E0("CompleteRegistration",{content_name:"User Registration",content_category:"signup"})},Rx=()=>{bB(),hI("UserLogin",{content_name:"User Login",content_category:"authentication"})},xB=(e=1)=>{EB(e),E0("InitiateCheckout",{content_name:"AirTag Tracking Service",content_category:"subscription",content_ids:["airtag_tracking"],content_type:"product",value:e*4.99,currency:"USD",num_items:e})},AB=(e=1,t)=>{wB(e,t),E0("Purchase",{content_name:"AirTag Tracking Service",content_category:"subscription",content_ids:["airtag_tracking"],content_type:"product",value:e*4.99,currency:"USD",num_items:e,transaction_id:t})},RB=(e,t)=>{SB(e,t),hI("CTAClick",{content_name:t,content_category:"cta",cta_location:e})};function CB(){const[e,t]=N.useState(1),n=Fo(),s=29.99,o=E=>E===1?12.99:E<=3?9.74:E<=10?9.09:7.79,u=E=>o(E)*E,f=E=>s*E,m=E=>{if(E===1)return 0;const A=12.99,S=o(E),M=((A-S)/A*100).toFixed(0);return Math.max(0,M)},y=u(e),_=f(e);return o(e).toFixed(2),m(e),T.jsx("section",{id:"pricing",className:"pricing-section",role:"region","aria-labelledby":"pricing-title",children:T.jsxs("div",{className:"pricing-content",children:[T.jsx("h2",{id:"pricing-title",className:"pricing-title",children:"Simple, Transparent Pricing"}),T.jsx("p",{className:"pricing-subtitle",children:"One-time tag purchase + monthly subscription. Save up to 40% with volume discounts."}),T.jsx("div",{className:"pricing-calculator",children:T.jsxs("div",{className:"calculator-card",children:[T.jsxs("div",{className:"amount-section",children:[T.jsx("p",{className:"amount-label",children:"How many Tags?"}),T.jsxs("div",{className:"tag-counter",children:[T.jsx("button",{className:"counter-btn",onClick:()=>t(Math.max(1,e-1)),disabled:e<=1,children:"-"}),T.jsxs("div",{className:"tag-display",children:[T.jsx("span",{className:"tag-count",children:e}),T.jsxs("span",{className:"tag-label",children:["Tag",e>1?"s":""]})]}),T.jsx("button",{className:"counter-btn",onClick:()=>t(Math.min(100,e+1)),children:"+"})]})]}),T.jsxs("div",{className:"pricing-split",children:[T.jsxs("div",{className:"pricing-left",children:[T.jsx("h4",{className:"pricing-section-title",children:"Pre-configured tags"}),T.jsxs("span",{className:"setup-amount",children:["$",(e*29.99).toFixed(2)]}),T.jsx("img",{src:cI,className:"tag-image",alt:"Tag",style:{width:"48px",marginBottom:"10px"}}),T.jsxs("div",{className:"setup-fee",children:[T.jsx("span",{className:"setup-per-tag",children:"$29.99 per tag"}),T.jsx("br",{}),T.jsxs("span",{className:"setup-shipping-note",children:["free shipping",T.jsx("br",{}),T.jsx("span",{className:"shipping-region",children:"(continental US)"})]}),T.jsx("br",{})]})]}),T.jsx("div",{className:"pricing-divider"}),T.jsxs("div",{className:"pricing-right",children:[T.jsx("h4",{className:"pricing-section-title",children:"Monthly Subscription"}),T.jsxs("div",{className:"subscription-fee",children:[T.jsxs("span",{className:"subscription-amount",children:["$",(e*o(e)).toFixed(2)]}),T.jsx("span",{className:"subscription-label",children:"Monthly Fee"}),T.jsxs("span",{className:"subscription-per-tag",children:["$",o(e).toFixed(2)," per Tag"]})]}),T.jsx("span",{className:"purchase-note",children:"Your subscription starts with a 7-day free trial after your tags ship."}),T.jsxs("div",{className:"volume-discounts",children:[T.jsx("h5",{className:"discounts-title",children:"Discounts"}),T.jsxs("table",{className:"discount-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Tags"}),T.jsx("th",{children:"Discount"})]})}),T.jsxs("tbody",{children:[T.jsxs("tr",{children:[T.jsx("td",{children:"1"}),T.jsx("td",{children:"No discount"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"2-3"}),T.jsx("td",{children:"25% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"4-10"}),T.jsx("td",{children:"30% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"10+"}),T.jsx("td",{children:"40% off"})]})]})]})]})]})]}),T.jsxs("div",{className:"pricing-display-card compact",children:[T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"One-time setup fee:"}),T.jsxs("span",{className:"pricing-value",children:["$",_.toFixed(2)]})]}),T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"Subscription:"}),T.jsxs("span",{className:"pricing-value",children:["$",y.toFixed(2)," /month"]})]})]}),T.jsxs("button",{className:"pricing-cta",onClick:()=>{RB("pricing_section",`Start Tracking ${e} Tag${e>1?"s":""}`),n(`/login?tagCount=${e}&mode=register`)},children:["Start Tracking ",e," Tag",e>1?"s":""]})]})})]})})}function IB(){const e=[{q:"Does your platform allow me as an Android user to use AirTags?",a:"Yes, since we set up the AirTags for you and provide a web app, you can use them as an Android user."},{q:"What devices are compatible with your platform?",a:"Our web app works on any modern browser, including Chrome, Safari, Firefox, and Edge, on both desktop and mobile devices."},{q:"What is the battery lifetime?",a:"Around 1 to 1.5 years. You can replace the battery yourself with a standard CR2032 coin cell."},{q:"Can I use my own tag?",a:"For your security, we never request access to your iCloud account. Tags must be onboarded to our platform before shipping. Once received, they are yours to keep and can be factory reset for regular use at any time."},{q:"Is my location data private and secure?",a:"Yes, we use industry-standard encryption and never share your data with third parties. Only you have access to your location history."},{q:"Can I export my location data?",a:"Yes, you can export your location history in CSV or JSON format for your records or analysis."},{q:"Can I reset the tags?",a:"Yes, you can factory reset your tags at any time and use them as you wish."},{q:"How many tags can I track simultaneously?",a:"There's no limit. If you plan to deploy more than 10 tags, please contact us for tailored support."},{q:"Shipping fee",a:"Shipping is free within the continental US. For other locations, see pricing at checkout."},{q:"Can I configure location-specific email alerts?",a:"Yes, you can set up location-based email alerts directly in the platform."},{q:"How far back does the location history go?",a:"There's no practical limit—your location history is available as far back as you need."},{q:"How do I access the application?",a:"You can access the platform via a web app that works seamlessly on both mobile and desktop browsers."},{q:"Can I pause or cancel my subscription?",a:"Yes, you can pause or cancel your subscription at any time from your account dashboard."}],[t,n]=N.useState(null),s=o=>n(t===o?null:o);return T.jsx("section",{id:"faq",className:"faq-section",role:"region","aria-labelledby":"faq-title",children:T.jsxs("div",{className:"faq-content",children:[T.jsx("h2",{id:"faq-title",className:"faq-title",children:"FAQ"}),T.jsx("div",{className:"faq-list",children:e.map((o,u)=>T.jsxs("div",{className:`faq-item${t===u?" open":""}`,children:[T.jsxs("button",{className:"faq-question",onClick:()=>s(u),"aria-expanded":t===u,"aria-controls":`faq-answer-${u}`,children:[T.jsx("span",{children:o.q}),T.jsx("span",{className:`faq-chevron${t===u?" open":""}`,"aria-hidden":"true",children:"▼"})]}),t===u&&T.jsx("div",{id:`faq-answer-${u}`,className:"faq-answer",role:"region","aria-labelledby":`faq-question-${u}`,children:o.a})]},u))})]})})}function PB(){const[e,t]=N.useState("hero"),[n,s]=N.useState(!1),o=[{id:"hero",label:"Home"},{id:"platform-features",label:"Platform"},{id:"feature-comparison",label:"How We Compare"},{id:"use-cases",label:"Use Cases"},{id:"how-it-works",label:"How It Works"},{id:"pricing",label:"Pricing"},{id:"faq",label:"FAQ"}],u=f=>{const m=document.getElementById(f);if(m){const _=f==="feature-comparison"?104:80,E=m.offsetTop-_;window.scrollTo({top:E,behavior:"smooth"}),window.history.pushState(null,null,`#${f}`)}};return N.useEffect(()=>{const f=()=>{const m=window.location.hash.slice(1);m&&o.find(y=>y.id===m)&&(t(m),u(m))};return window.location.hash&&f(),window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),N.useEffect(()=>{const f={rootMargin:"-20% 0px -80% 0px",threshold:0},m=new IntersectionObserver(y=>{y.forEach(_=>{_.isIntersecting&&t(_.target.id)})},f);return o.forEach(({id:y})=>{const _=document.getElementById(y);_&&m.observe(_)}),()=>m.disconnect()},[]),N.useEffect(()=>{const f=()=>{const y=window.scrollY,_=document.getElementById("hero");if(_){const E=_.offsetHeight;s(y>E*.8)}else s(y>500)},m=setTimeout(()=>{f()},100);return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f),clearTimeout(m)}},[]),T.jsx("nav",{className:`section-navigation ${n?"visible":""}`,role:"navigation","aria-label":"Page sections",children:T.jsx("div",{className:"nav-container",children:T.jsx("ul",{className:"nav-list",children:o.map(({id:f,label:m})=>T.jsx("li",{className:"nav-item",children:T.jsx("button",{className:`nav-link ${e===f?"active":""}`,onClick:()=>u(f),"aria-current":e===f?"true":"false","aria-label":`Go to ${m} section`,children:m})},f))})})})}function Cx({onScrollProgress:e}){const[t,n]=N.useState(null);return N.useEffect(()=>{e&&e(t)},[t,e]),T.jsxs("main",{id:"main-content",role:"main",tabIndex:"-1",children:[T.jsx(PB,{}),T.jsx(cB,{onScrollProgress:n}),T.jsx(_B,{}),T.jsx(fB,{}),T.jsx(dB,{}),T.jsx(vB,{}),T.jsx(CB,{}),T.jsx(IB,{})]})}function LB(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?e.state.tagCount:t.has("tagCount")?t.get("tagCount"):""}function Ix(e){return new URLSearchParams(e.search).get("mode")==="register"?"register":"login"}function MB(){const e=qs(),t=Fo(),[n,s]=N.useState(Ix(e)),[o,u]=N.useState(""),[f,m]=N.useState(""),[y,_]=N.useState(""),[E,A]=N.useState(""),[S,M]=N.useState(!1),k=LB(e);N.useEffect(()=>{s(Ix(e))},[e]);const F=async W=>{W.preventDefault(),A(""),M(!0);try{if(n==="register"){if(f!==y){A("Passwords do not match."),M(!1);return}const et=await KD(wa,o,f);Ax(),await wm(Mo(Ai,"users",et.user.uid),{email:et.user.email,selectedTagCount:Number(k),subscribed:!1}),console.log("User document written to Firestore:",et.user.uid),t("/purchase")}else{const et=await YD(wa,o,f);Rx(),t("/purchase")}}catch(et){console.error("Registration error:",et),A(et.message.replace("Firebase: ",""))}finally{M(!1)}},q=async()=>{A(""),M(!0);try{const W=await _N(wa,Bj),et=Mo(Ai,"users",W.user.uid);(await rp(et)).exists()?Rx():(Ax(),await wm(et,{email:W.user.email,displayName:W.user.displayName||null,createdAt:W.user.metadata.creationTime,selectedTagCount:Number(k)||0,subscribed:!1}),console.log("New user document created in Firestore for Google sign-in:",W.user.uid)),t("/purchase")}catch(W){A(W.message.replace("Firebase: ",""))}finally{M(!1)}};return T.jsx("div",{className:"login-page-root",children:T.jsxs("div",{className:"login-card",children:[T.jsxs("div",{className:"login-toggle",children:[T.jsx("button",{className:n==="login"?"active":"",onClick:()=>s("login"),children:"Login"}),T.jsx("button",{className:n==="register"?"active":"",onClick:()=>s("register"),children:"Register"})]}),T.jsx("h2",{className:"login-title",children:n==="login"?"Login to your account":"Create an account"}),k&&T.jsx("div",{className:"login-tagcount-info",children:n==="register"?`Registering for ${k} tag${k>1?"s":""}`:""}),T.jsxs("form",{className:"login-form",onSubmit:F,children:[T.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:W=>u(W.target.value),required:!0,disabled:S}),T.jsx("input",{type:"password",placeholder:"Password",value:f,onChange:W=>m(W.target.value),required:!0,disabled:S}),n==="register"&&T.jsx("input",{type:"password",placeholder:"Confirm Password",value:y,onChange:W=>_(W.target.value),required:!0,disabled:S}),E&&T.jsx("div",{className:"login-error",children:E}),T.jsx("button",{type:"submit",className:"login-submit-btn",disabled:S,children:S?n==="login"?"Logging in...":"Registering...":n==="login"?"Login":"Register"}),n==="register"&&T.jsxs("p",{className:"terms-acknowledgement",children:["By registering, you acknowledge you have read and agree to our ",T.jsx("a",{href:"/terms",target:"_blank",children:"Terms of Service"})," and ",T.jsx("a",{href:"/privacy",target:"_blank",children:"Privacy Policy"}),"."]})]}),T.jsx("div",{className:"login-divider",children:"or"}),T.jsxs("button",{className:"google-auth-btn",type:"button",onClick:q,disabled:S,children:[T.jsx("span",{className:"google-icon",children:"G"})," Sign in with Google"]})]})})}function DB({tag:e,onCommitName:t,onCommitColor:n,showDivider:s}){const[o,u]=N.useState(!1),[f,m]=N.useState(e.name||""),[y,_]=N.useState(!1),[E,A]=N.useState(!1),[S,M]=N.useState(""),k=N.useRef(null);N.useEffect(()=>{m(e.name||"")},[e.name]);const F=()=>{M(""),m(e.name||""),u(!0)},q=()=>{m(e.name||""),u(!1),M("")},W=async()=>{if(y)return;const Tt=(f||"").trim();try{_(!0),M(""),await t(e.id,Tt),u(!1)}catch(dt){M(String(dt?.message||dt))}finally{_(!1)}},et=async Tt=>{if(Tt)try{A(!0),M(""),await n(e.id,Tt)}catch(dt){M(String(dt?.message||dt))}finally{A(!1)}},$=/^#([0-9a-fA-F]{3}){1,2}$/.test(e.color||"")?e.color:"#999999";return T.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:s?"1px solid rgba(255,255,255,0.08)":"none"},children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,minWidth:0},children:[T.jsx("button",{type:"button",onClick:()=>k.current?.click(),"aria-label":"Change tag color",style:{width:28,height:28,flex:"0 0 auto",padding:0,margin:0,borderRadius:"50%",border:"2px solid rgba(255,255,255,0.5)",boxSizing:"border-box",background:$,cursor:"pointer",position:"relative",lineHeight:0,WebkitAppearance:"none",appearance:"none",outline:"none",WebkitTapHighlightColor:"transparent"},title:"Change color",children:E&&T.jsx("span",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,color:"#000",fontWeight:700},children:"…"})}),T.jsx("input",{ref:k,type:"color",value:$,onChange:Tt=>et(Tt.target.value),style:{position:"absolute",opacity:0,width:0,height:0,pointerEvents:"none"},"aria-hidden":!0,tabIndex:-1}),T.jsxs("div",{style:{color:"#fff",minWidth:0},children:[o?T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[T.jsx("input",{type:"text",autoFocus:!0,placeholder:"Name",value:f,onChange:Tt=>m(Tt.target.value),onKeyDown:Tt=>{Tt.key==="Enter"&&W(),Tt.key==="Escape"&&q()},onBlur:W,style:{padding:"6px 8px",borderRadius:6,border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.06)",color:"#fff"}}),T.jsx("button",{type:"button",onClick:W,disabled:y,className:"dashboard-btn",style:{padding:"6px 10px"},children:y?"Saving…":"Save"}),T.jsx("button",{type:"button",onClick:q,style:{background:"transparent",color:"#bbb",border:"1px solid rgba(255,255,255,0.2)",borderRadius:6,padding:"6px 10px",cursor:"pointer"},children:"Cancel"})]}):T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[T.jsx("div",{style:{fontWeight:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:260},children:e.name||`AirTag ${e.id.slice(0,8)}`}),T.jsx("button",{type:"button",onClick:F,style:{background:"transparent",color:"#bbb",border:"1px solid rgba(255,255,255,0.2)",borderRadius:6,padding:"4px 8px",cursor:"pointer"},title:"Rename tag",children:"Edit"})]}),T.jsxs("div",{style:{opacity:.7,fontSize:12},children:["id: ",e.id]}),S&&T.jsx("div",{style:{color:"#ff7d7d",fontSize:12,marginTop:4},children:S})]})]})})}function NB(){const[e,t]=N.useState(null),[n,s]=N.useState(!0),[o,u]=N.useState(0),[f,m]=N.useState([]),[y,_]=N.useState([]),[E,A]=N.useState([]),[S,M]=N.useState([]),[k,F]=N.useState([]),[q,W]=N.useState(!1),et=Fo(),[$,Tt]=iL(),[dt,At]=N.useState(!1),[Z,O]=N.useState(!1);N.useEffect(()=>{const H=nf(wa,async V=>{if(V){t(V);const Ot=Ao(Ai,"purchases"),Qt=zu(Ot,Zu("userId","==",V.uid),Zu("status","==","paid")),it=await Em(Qt);m(it.docs.map(mt=>mt.data())),u(it.docs.reduce((mt,ct)=>mt+(ct.data().tagCount||0),0));try{const mt=await Em(zu(Ao(Ai,`users/${V.uid}/accessories`)));_(mt.docs.map(ct=>({id:ct.id,...ct.data()})))}catch{}}else et("/login");s(!1)});return()=>H()},[et]),N.useEffect(()=>e?.uid?Zd(Ao(Ai,"users",e.uid,"geofences"),V=>A(V.docs.map(Ot=>({id:Ot.id,...Ot.data()}))),V=>{V.code!=="permission-denied"&&console.error("Geofences subscription error:",V)}):void 0,[e?.uid]),N.useEffect(()=>e?.uid?Zd(Ao(Ai,"users",e.uid,"geofenceStates"),V=>M(V.docs.map(Ot=>({id:Ot.id,...Ot.data()}))),V=>{V.code!=="permission-denied"&&console.error("Geofence states subscription error:",V)}):void 0,[e?.uid]),N.useEffect(()=>e?.uid?Zd(zu(Ao(Ai,"users",e.uid,"geofenceEvents"),hR("timestamp","desc"),fR(10)),V=>F(V.docs.map(Ot=>Ot.data())),V=>{V.code!=="permission-denied"&&console.error("Geofence events subscription error:",V)}):void 0,[e?.uid]),N.useEffect(()=>{if($.get("tag_purchase")==="success"){W(!0);const H=$.get("tag_count")||"1",V=$.get("session_id");AB(parseInt(H),V);const Ot=new URLSearchParams($);Ot.delete("tag_purchase"),Ot.delete("tag_count"),Ot.delete("session_id"),Tt(Ot);const Qt=setTimeout(()=>{W(!1)},5e3);return()=>clearTimeout(Qt)}if($.get("subscription")==="success"){const H=new URLSearchParams($);H.delete("subscription"),H.delete("tag_count"),Tt(H)}},[$,Tt]);const U=(H,V,Ot)=>{const Qt={};return V.forEach(it=>{Qt[it.name]||(Qt[it.name]={geofence:it,tags:[]})}),Qt["Not in any geofence"]={geofence:null,tags:[]},H.forEach(it=>{const mt=G(it.id,Ot,V),ct=mt?mt.name:"Not in any geofence";Qt[ct]?Qt[ct].tags.push(it):Qt[ct]={geofence:mt,tags:[it]}}),Qt},G=(H,V,Ot)=>{const Qt=V.find(it=>it.tagId===H&&it.currentState==="inside");return Qt?Ot.find(it=>it.id===Qt.geofenceId):null},K=U(y,E,S);return n?T.jsx("div",{className:"loading",children:"Loading..."}):T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Dashboard"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:"👤"}),T.jsxs("span",{children:["Welcome, ",e?.email]})]})]}),q&&T.jsx("div",{style:{background:"linear-gradient(135deg, #00eaff, #0099cc)",color:"#fff",padding:"16px 24px",margin:"0 auto 24px auto",maxWidth:"600px",borderRadius:"12px",textAlign:"center",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 20px rgba(0, 234, 255, 0.3)",animation:"slideIn 0.3s ease-out"},children:"🎉 Payment successful! Your AirTags are being prepared and you'll be notified once they're shipped."}),T.jsxs("main",{className:"dashboard-content",children:[T.jsxs("div",{style:{margin:"0 auto 24px auto",textAlign:"center",maxWidth:640,padding:0},children:[T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.2)",borderRadius:12,padding:"16px 18px",background:"rgba(255,255,255,0.04)",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:0,minHeight:72},children:[T.jsxs("div",{style:{padding:"12px 0",borderRight:"1px solid rgba(255,255,255,0.12)"},children:[T.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:4},children:"Tags Purchased"}),T.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:o})]}),T.jsxs("div",{style:{padding:"12px 0",borderRight:"1px solid rgba(255,255,255,0.12)"},children:[T.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:4},children:"Tags Activated"}),T.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:"0"})]}),T.jsxs("div",{style:{padding:"12px 0"},children:[T.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:4},children:"Active Subscriptions"}),T.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:"0"})]})]}),0<o&&T.jsx("div",{style:{color:"#fff",background:"rgba(0,234,255,0.08)",borderRadius:8,padding:"14px 18px",margin:"14px 0 0 0",fontSize:15,fontWeight:400,lineHeight:1.5},children:"Thank you for your purchase! We are preparing your tags and will notify you once they are sent out. If you have any questions, please contact support."})]}),T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"12px 0 24px 0"},children:T.jsxs("div",{role:"button",onClick:()=>et("/map"),onKeyDown:H=>{H.key==="Enter"&&et("/map")},tabIndex:0,style:{width:"100%",maxWidth:820,borderRadius:16,border:"1px solid rgba(255,255,255,0.15)",background:"linear-gradient(180deg, rgba(0,234,255,0.08), rgba(255,255,255,0.03))",cursor:"pointer",overflow:"hidden",boxShadow:"0 12px 30px rgba(0,0,0,0.35)"},children:[T.jsxs("div",{style:{position:"relative",height:200,background:"radial-gradient(1200px 200px at 30% 40%, rgba(0,234,255,0.25), transparent), #0b0b0b"},children:[T.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),T.jsx("div",{style:{position:"absolute",left:20,top:16,color:"#fff",fontWeight:700,letterSpacing:"-0.01em"},children:"TagLogger Map"}),T.jsx("div",{style:{position:"absolute",right:20,top:16,color:"#00eaff",fontWeight:700},children:"Open Map →"}),T.jsxs("svg",{viewBox:"0 0 800 200",preserveAspectRatio:"none",style:{position:"absolute",inset:0},children:[T.jsx("polyline",{points:"40,150 160,120 300,130 420,80 560,90 700,60",fill:"none",stroke:"#00eaff",strokeWidth:"4",opacity:"0.85"}),T.jsx("circle",{cx:"700",cy:"60",r:"8",fill:"#00eaff",stroke:"#fff",strokeWidth:"2"})]})]}),T.jsxs("div",{style:{padding:"14px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsx("div",{style:{color:"#ddd"},children:"View history, draw geofences, and manage assets on an interactive map."}),T.jsx("button",{className:"dashboard-btn",children:"Open Map"})]})]})}),T.jsxs("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:[T.jsx("button",{className:"dashboard-btn",onClick:()=>et("/purchase?additional=true"),children:"Purchase More Tags"}),o>0&&T.jsx("button",{className:"dashboard-btn",style:{marginLeft:12},disabled:dt,onClick:async()=>{try{At(!0);const Ot=(await bn(Ln,"createAllTagsSubscriptionCheckout")({origin:window.location.origin})).data.url;Ot?window.location.href=Ot:console.error("Missing checkout URL")}catch(H){console.error(H)}finally{At(!1)}},children:"Activate Data Stream for All Purchased Tags"}),o>0&&T.jsx("button",{className:"dashboard-btn",style:{marginLeft:12},disabled:Z,onClick:async()=>{try{O(!0);const Ot=(await bn(Ln,"createCustomerPortalSession")({origin:window.location.origin})).data?.url;Ot?window.location.href=Ot:console.error("Missing portal URL")}catch(H){console.error(H)}finally{O(!1)}},children:"Manage Subscription"})]}),y.length>0&&T.jsxs("div",{style:{margin:"28px auto 0 auto",maxWidth:640},children:[T.jsx("h3",{style:{color:"#fff",fontSize:18,fontWeight:700,marginBottom:10},children:"Your Tag(s)"}),T.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:12,padding:12},children:Object.entries(K).map(([H,{geofence:V,tags:Ot}])=>T.jsxs("div",{style:{marginBottom:Ot.length>0?"16px":"0"},children:[T.jsxs("h4",{style:{color:"#fff",marginBottom:"8px",fontSize:16,fontWeight:600},children:["📍 ",H]}),Ot.length===0?T.jsx("div",{style:{color:"#666",fontSize:14,padding:"8px",fontStyle:"italic"},children:"No items here"}):Ot.map((Qt,it)=>T.jsx(DB,{tag:Qt,showDivider:it<Ot.length-1,onCommitName:async(mt,ct)=>{try{await bn(Ln,"userUpdateTagMeta")({tagId:mt,name:ct}),_(j=>j.map(ut=>ut.id===mt?{...ut,name:ct}:ut))}catch(Yt){throw Yt}},onCommitColor:async(mt,ct)=>{try{await bn(Ln,"userUpdateTagMeta")({tagId:mt,color:ct}),_(j=>j.map(ut=>ut.id===mt?{...ut,color:ct}:ut))}catch(Yt){throw Yt}}},Qt.id))]},H))})]}),k.length>0&&T.jsxs("div",{style:{margin:"28px auto 0 auto",maxWidth:640},children:[T.jsx("h3",{style:{color:"#fff",fontSize:18,fontWeight:700,marginBottom:10},children:"Recent Activity"}),T.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:12,padding:12},children:k.map((H,V)=>T.jsxs("div",{style:{color:"#fff",padding:"8px 0",borderBottom:V<k.length-1?"1px solid rgba(255,255,255,0.08)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{children:[T.jsx("span",{style:{fontWeight:600},children:H.tagId?`Tag ${H.tagId.slice(0,6)}`:"Unknown tag"}),T.jsx("span",{style:{color:"#bbb",margin:"0 8px"},children:H.eventType==="entry"?"entered":"exited"}),T.jsx("span",{style:{fontWeight:600,color:"#00eaff"},children:H.geofenceName||"Unknown location"})]}),T.jsx("div",{style:{color:"#bbb",fontSize:12},children:H.timestamp?.seconds?new Date(H.timestamp.seconds*1e3).toLocaleTimeString():"recently"})]},H.id||V))})]}),f.length>0&&T.jsxs("div",{style:{margin:"44px auto 0 auto",maxWidth:440,padding:"0",textAlign:"center"},children:[T.jsx("h3",{style:{fontSize:18,fontWeight:700,margin:"0 0 14px 0",color:"#fff",letterSpacing:"-0.01em"},children:"Purchase History"}),T.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:f.map((H,V)=>T.jsxs("li",{style:{marginBottom:12,color:"#fff",fontSize:16,borderRadius:7,padding:"10px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"none",border:"1px solid rgba(255,255,255,0.08)"},children:[T.jsxs("span",{style:{fontWeight:600},children:[H.tagCount," Tag",H.tagCount!==1?"s":""]}),T.jsxs("span",{style:{color:"#00eaff",fontWeight:700,fontSize:15},children:["$",(H.amount/100).toFixed(2)]}),T.jsx("span",{style:{color:"#bbb",fontSize:14,fontWeight:400},children:H.createdAt?.toDate?H.createdAt.toDate().toLocaleString():"recently"})]},V))})]})]})]})}function OB(){const[e,t]=N.useState(!0),[n,s]=N.useState(null),[o,u]=N.useState(!1),[f,m]=N.useState([]),[y,_]=N.useState("all"),[E,A]=N.useState(""),[S,M]=N.useState(!1),[k,F]=N.useState(!1),[q,W]=N.useState(!1),[et,$]=N.useState(""),[Tt,dt]=N.useState(!1),[At,Z]=N.useState(""),[O,U]=N.useState(""),[G,K]=N.useState([]),[H,V]=N.useState([]),[Ot,Qt]=N.useState("all"),[it,mt]=N.useState(null),[ct,Yt]=N.useState(null),[j,ut]=N.useState(null),[bt,vt]=N.useState([]),[wt,Pt]=N.useState("*/15 * * * *"),[St,we]=N.useState(!1),[ie,Dn]=N.useState([]),[sn,ei]=N.useState(null),[ye,ni]=N.useState(!1),[Nn,gs]=N.useState("assign"),[Gr,xn]=N.useState(!1),[be,dr]=N.useState(null),[Ge,gi]=N.useState(null),[Ci,Ki]=N.useState([]),[On,Yi]=N.useState([]),[Ee,oe]=N.useState(!1),[An,Ke]=N.useState(""),[ys,$i]=N.useState({total:0,done:0,failed:0});N.useEffect(()=>{const st=nf(wa,async It=>{if(!It){t(!1),s(null),u(!1);return}s(It);const Ut=await rp(Mo(Ai,"users",It.uid)),Mt=Ut.exists()&&Ut.data().isAdmin===!0;if(u(Mt),t(!1),Mt)try{const ge=(await bn(Ln,"adminListTags")({})).data.items||[];m(ge);try{const Ts=await bn(Ln,"adminListAccounts")({});V(Ts.data.items||[])}catch{}const Ct=await bn(Ln,"adminListUsers")({pageSize:50});K(Ct.data.items||[]),mt(Ct.data.nextPageToken||null)}catch(Jt){$(String(Jt?.message||Jt))}});return()=>st()},[]),N.useEffect(()=>{if(!o){Dn([]);return}try{const st=Ao(Ai,"ingestRuns"),It=zu(st,hR("processedAt","desc"),fR(5)),Ut=Zd(It,Mt=>{const Jt=Mt.docs.map(le=>({id:le.id,...le.data()}));Dn(Jt)},Mt=>{console.error("Error fetching ingest runs:",Mt),Dn([])});return()=>Ut()}catch(st){console.error("Error setting up ingest runs listener:",st),Dn([])}},[o]),N.useEffect(()=>{o&&Nn==="backend"&&yi()},[o,Nn]);const Xi=N.useMemo(()=>y==="unassigned"?f.filter(st=>!st.userId):y==="assigned"?f.filter(st=>!!st.userId):f,[f,y]),Ii=async()=>{try{M(!0);const Ut=(await bn(Ln,"adminListPurchases")({pageSize:500})).data?.items||[];vt(Ut)}catch(st){$(String(st?.message||st))}finally{M(!1)}},yi=async()=>{try{ni(!0);const It=await bn(Ln,"adminManageScheduler")({action:"status"});ei(It.data)}catch(st){console.error("Failed to check scheduler status:",st),ei({exists:!1,error:String(st?.message||st)})}finally{ni(!1)}},pn=async(st,It=null)=>{try{ni(!0);const Ut=bn(Ln,"adminManageScheduler"),Mt={action:st};It&&(Mt.schedule=It),(await Ut(Mt)).data.success&&($(`Scheduler ${st} successful!`),await yi(),st==="create"||st==="update"?(Pt(It),we(!0)):st==="pause"||st==="delete"?we(!1):st==="resume"&&we(!0))}catch(Ut){$(`Failed to ${st} scheduler: ${Ut?.message||Ut}`)}finally{ni(!1)}},_s=[{value:"*/1 * * * *",label:"1 minute"},{value:"*/5 * * * *",label:"5 minutes"},{value:"*/10 * * * *",label:"10 minutes"},{value:"*/15 * * * *",label:"15 minutes"},{value:"*/30 * * * *",label:"30 minutes"},{value:"0 * * * *",label:"1 hour"},{value:"0 */2 * * *",label:"2 hours"},{value:"0 */8 * * *",label:"8 hours"},{value:"0 */12 * * *",label:"12 hours"},{value:"0 0 * * *",label:"24 hours"}],_i=st=>{const It=_s.find(Ut=>Ut.value===st);return It?It.label:"Custom schedule"},Pi=st=>st?_s.some(It=>It.value===st):!1,mr=st=>{try{if(!st)return"";if(typeof st?.toDate=="function")return st.toDate().toLocaleString();if(typeof st=="object"&&typeof st._seconds=="number")return new Date(st._seconds*1e3).toLocaleString();if(typeof st=="string"||typeof st=="number"){const It=new Date(st);if(!isNaN(It.getTime()))return It.toLocaleString()}}catch{}return""},pr=async st=>{xn(!0),dr(st),gi(null),Ki([]),Yi([]),Ke(""),$i({total:0,done:0,failed:0});try{oe(!0);let It=null;const Ut=st?.email||"";if(Ut)try{const si=(await bn(Ln,"adminListUsers")({emailFilter:Ut})).data?.items||[];It=si.length?si[0]:null}catch{}gi(It);const le=(await bn(Ln,"adminListTags")({})).data?.items||[];Ki(le);const ge=Math.max(0,Number(st.tagCount)||0),Ue=It?le.filter(ii=>ii.userId===It.uid):[],Ct=Math.max(0,ge-Ue.length),Ts=le.filter(ii=>!ii.userId).slice(0,Ct);Yi(Ts),$i({total:Ts.length,done:0,failed:0}),st._calculatedAssigned=Ue.length,st._calculatedRemaining=Ct}catch(It){Ke(String(It?.message||It))}finally{oe(!1)}},Li=()=>{xn(!1),dr(null),gi(null),Ki([]),Yi([]),Ke(""),$i({total:0,done:0,failed:0})},Mi=st=>{Yi(It=>{if(It.find(Jt=>Jt.id===st.id&&Jt.accountId===st.accountId))return It.filter(Jt=>!(Jt.id===st.id&&Jt.accountId===st.accountId));const Mt=be?._calculatedRemaining||0;return Mt&&It.length>=Mt?It:[...It,st]})},Wr=async()=>{if(!Ge||!On.length)return;oe(!0),Ke(""),$i({total:On.length,done:0,failed:0});let st=0,It=0;try{for(const Ut of On){try{await bn(Ln,"adminAssignAccessory")({action:"assign",accountId:Ut.accountId,accessoryId:Ut.id,userId:Ge.uid}),st+=1}catch{It+=1}$i({total:On.length,done:st,failed:It})}try{const Mt=await bn(Ln,"adminListTags")({});m(Mt.data.items||[])}catch{}try{await Ii()}catch{}try{be?.id&&st>=(be?.tagCount||0)?await wm(Mo(Ai,"purchases",be.id),{fulfilled:!0,assignedCount:st},{merge:!0}):be?.id&&await wm(Mo(Ai,"purchases",be.id),{assignedCount:st},{merge:!0})}catch{}}catch(Ut){Ke(String(Ut?.message||Ut))}finally{oe(!1)}},Di=()=>{const st=["createdAt","email","phone","tagCount","amount","currency","status","shippingName","line1","line2","city","state","postal_code","country"],It=(bt||[]).map(ge=>{const Ue=ge.createdAt?.toDate?ge.createdAt.toDate().toISOString():"",Ct=ge.shippingAddress||{};return[Ue,ge.email||"",ge.phone||"",String(ge.tagCount||""),typeof ge.amount=="number"?(ge.amount/100).toFixed(2):"",ge.currency||"usd",ge.status||"",ge.shippingName||"",Ct.line1||"",Ct.line2||"",Ct.city||"",Ct.state||"",Ct.postal_code||"",Ct.country||""]}),Ut=[st,...It].map(ge=>ge.map(Ue=>String(Ue).replaceAll('"','""')).map(Ue=>`"${Ue}"`).join(",")).join(`
`),Mt=new Blob([Ut],{type:"text/csv;charset=utf-8;"}),Jt=URL.createObjectURL(Mt),le=document.createElement("a");le.href=Jt,le.download=`orders_${new Date().toISOString().slice(0,10)}.csv`,le.click(),URL.revokeObjectURL(Jt)},Zr=async()=>{if(it)try{M(!0);const It=await bn(Ln,"adminListUsers")({pageSize:50,pageToken:it});K(Ut=>[...Ut,...It.data.items||[]]),mt(It.data.nextPageToken||null)}catch(st){$(String(st?.message||st))}finally{M(!1)}},vs=async st=>{Yt(st);try{M(!0);const Ut=await bn(Ln,"adminGetUserSummary")({userId:st.uid});ut(Ut.data)}catch(It){$(String(It?.message||It))}finally{M(!1)}};return e?T.jsx("div",{style:{padding:24},children:"Loading…"}):n?o?T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Admin Page"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:"👤"}),T.jsxs("span",{children:["Welcome, ",n?.email]})]})]}),T.jsx("main",{className:"dashboard-content",children:T.jsxs("div",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[et&&T.jsx("div",{style:{marginBottom:12,color:"#ff7d7d"},children:et}),T.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16},children:[T.jsx("button",{onClick:()=>gs("assign"),disabled:Nn==="assign",children:"Users & Accessories"}),T.jsx("button",{onClick:()=>{gs("orders"),Ii()},disabled:Nn==="orders",children:"Assign to orders"}),T.jsx("button",{onClick:()=>gs("backend"),disabled:Nn==="backend",children:"Backend Operations"})]}),Nn==="assign"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",marginBottom:16},children:[T.jsx("label",{children:"Filter:"}),T.jsxs("select",{value:y,onChange:st=>_(st.target.value),children:[T.jsx("option",{value:"all",children:"All"}),T.jsx("option",{value:"unassigned",children:"Unassigned"}),T.jsx("option",{value:"assigned",children:"Assigned"})]}),T.jsx("button",{onClick:async()=>{try{M(!0);const It=await bn(Ln,"adminListTags")({});m(It.data.items||[])}catch(st){$(String(st?.message||st))}finally{M(!1)}},children:"Refresh"})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:24},children:[T.jsxs("div",{children:[T.jsxs("h3",{children:["Users (",G.length,")"]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:8,maxHeight:420,overflow:"auto"},children:[(G||[]).map(st=>T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700},children:st.email||"(no email)"}),T.jsxs("div",{style:{opacity:.75,fontSize:12},children:["uid: ",st.uid]})]}),T.jsx("div",{children:T.jsx("button",{onClick:()=>vs(st),disabled:S,children:"View"})})]},st.uid)),!G?.length&&T.jsx("div",{style:{padding:12,opacity:.8},children:"No users."})]}),T.jsx("div",{style:{marginTop:8},children:T.jsx("button",{onClick:Zr,disabled:!it||S,children:"Load more"})})]}),T.jsxs("div",{children:[T.jsxs("h3",{children:["Accessories (",Xi.length,")"]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:8,maxHeight:420,overflow:"auto"},children:[Xi.map((st,It)=>T.jsx("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700},children:st.name||`AirTag ${st.id.slice(0,8)}`}),T.jsxs("div",{style:{opacity:.75,fontSize:12},children:["id: ",st.id," ",st.userId?"(assigned)":"(unassigned)"]})]})},`${st.accountId||"unknown"}-${st.id}-${It}`)),Xi.length===0&&T.jsx("div",{style:{padding:12,opacity:.8},children:"No tags."})]})]})]})]}),Nn==="backend"&&T.jsxs("div",{style:{display:"grid",gap:20},children:[T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Data Ingestion"}),T.jsx("button",{disabled:k,onClick:async()=>{try{F(!0),await bn(Ln,"adminTriggerIngestion")({})}catch(st){$(String(st?.message||st))}finally{F(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #00eaff",background:"#00eaff",color:"#000",fontWeight:700,cursor:k?"not-allowed":"pointer",opacity:k?.7:1},children:k?"Running...":"Run Ingestion Now"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb",marginBottom:16},children:"Fetch latest location data from Apple Find My and update tag positions"}),T.jsxs("div",{style:{marginBottom:16},children:[T.jsxs("h4",{style:{fontSize:14,fontWeight:600,color:"#fff",marginBottom:8},children:["Recent Runs (",ie.length,")"]}),T.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,maxHeight:200,overflowY:"auto"},children:ie.length===0?T.jsx("div",{style:{padding:12,color:"#aaa",fontSize:12},children:"No runs yet"}):ie.map((st,It)=>{const Ut=Mt=>{if(!Mt)return"Unknown time";try{return Mt.toDate?Mt.toDate().toLocaleString():Mt.seconds?new Date(Mt.seconds*1e3).toLocaleString():new Date(Mt).toLocaleString()}catch{return"Invalid time"}};return T.jsxs("div",{style:{padding:"8px 12px",borderBottom:It<ie.length-1?"1px solid rgba(255,255,255,0.05)":"none",fontSize:12},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[T.jsxs("span",{style:{color:"#fff",fontWeight:600},children:["Account: ",st.accountId||"Unknown"]}),T.jsx("span",{style:{color:"#bbb"},children:Ut(st.processedAt)})]}),T.jsxs("div",{style:{display:"flex",gap:16,color:"#bbb"},children:[T.jsxs("span",{children:["Created: ",T.jsx("span",{style:{color:"#4ade80"},children:st.createdLocations||0})]}),T.jsxs("span",{children:["Skipped: ",T.jsx("span",{style:{color:"#fbbf24"},children:st.dedupLocations||0})]}),T.jsxs("span",{children:["Updates: ",T.jsx("span",{style:{color:"#60a5fa"},children:st.lastSeenUpdates||0})]}),T.jsxs("span",{children:["Writes: ",T.jsx("span",{style:{color:"#a78bfa"},children:st.totalWrites||0})]})]})]},st.id)})})]}),T.jsxs("div",{children:[T.jsx("h4",{style:{fontSize:14,fontWeight:600,color:"#fff",marginBottom:8},children:"Automation Schedule"}),T.jsx("div",{style:{marginBottom:12,padding:8,border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,background:"rgba(255,255,255,0.02)"},children:ye?T.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Checking scheduler status..."}):sn?T.jsx("div",{style:{fontSize:12},children:sn.exists?T.jsxs("div",{children:[T.jsxs("div",{style:{color:sn.state==="ENABLED"?"#4ade80":"#fbbf24"},children:["● Status: ",T.jsx("strong",{children:sn.state||"Unknown"})]}),T.jsxs("div",{style:{color:"#bbb",marginTop:2},children:["Frequency: ",T.jsx("strong",{children:_i(sn.schedule)})]}),sn.nextRunTime&&T.jsxs("div",{style:{color:"#bbb",marginTop:2},children:["Next run: ",new Date(sn.nextRunTime.seconds*1e3).toLocaleString()]})]}):T.jsx("div",{style:{color:"#ff9f0a"},children:"● No Cloud Scheduler job exists"})}):T.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Status unknown"})}),T.jsxs("div",{style:{display:"grid",gap:8,maxWidth:480},children:[T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",fontSize:12,color:"#bbb",marginBottom:4},children:"Ingestion Frequency"}),T.jsxs("select",{value:wt,onChange:st=>Pt(st.target.value),style:{width:"100%",padding:"8px 10px",borderRadius:6,border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:13,cursor:"pointer"},children:[T.jsx("option",{value:"",style:{background:"#1f1f1f",color:"#fff"},children:"Select frequency..."}),_s.map(st=>T.jsx("option",{value:st.value,style:{background:"#1f1f1f",color:"#fff"},children:st.label},st.value))]}),T.jsx("div",{style:{fontSize:11,color:"#bbb",marginTop:4},children:"Choose how often to automatically fetch location data from Apple"})]}),T.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[sn?.exists?T.jsxs(T.Fragment,{children:[T.jsx("button",{disabled:ye||!Pi(wt),onClick:()=>pn("update",wt),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #60a5fa",background:"#60a5fa",color:"#000",fontSize:12,fontWeight:600,cursor:ye||!Pi(wt)?"not-allowed":"pointer",opacity:ye||!Pi(wt)?.5:1},children:"Update Frequency"}),sn.state==="ENABLED"?T.jsx("button",{disabled:ye,onClick:()=>pn("pause"),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #fbbf24",background:"#fbbf24",color:"#000",fontSize:12,fontWeight:600,cursor:ye?"not-allowed":"pointer",opacity:ye?.5:1},children:"Pause"}):T.jsx("button",{disabled:ye,onClick:()=>pn("resume"),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #4ade80",background:"#4ade80",color:"#000",fontSize:12,fontWeight:600,cursor:ye?"not-allowed":"pointer",opacity:ye?.5:1},children:"Resume"}),T.jsx("button",{disabled:ye,onClick:()=>{confirm("Delete the scheduler job? This will stop all automated ingestion.")&&pn("delete")},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #ef4444",background:"transparent",color:"#ef4444",fontSize:12,cursor:ye?"not-allowed":"pointer",opacity:ye?.5:1},children:"Delete"})]}):T.jsx("button",{disabled:ye||!Pi(wt),onClick:()=>pn("create",wt),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #4ade80",background:"#4ade80",color:"#000",fontSize:12,fontWeight:600,cursor:ye||!Pi(wt)?"not-allowed":"pointer",opacity:ye||!Pi(wt)?.5:1},children:ye?"Setting up...":"Enable Automation"}),T.jsx("button",{disabled:ye,onClick:yi,style:{padding:"8px 16px",borderRadius:6,border:"1px solid rgba(255,255,255,0.3)",background:"transparent",color:"#fff",fontSize:12,cursor:ye?"not-allowed":"pointer",opacity:ye?.5:1},children:"Refresh Status"})]})]})]})]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Geofence Monitoring"}),T.jsx("button",{disabled:q,onClick:async()=>{try{W(!0),await bn(Ln,"adminTriggerGeofenceMonitor")({})}catch(st){$(String(st?.message||st))}finally{W(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:700,cursor:q?"not-allowed":"pointer",opacity:q?.7:1},children:q?"Checking...":"Run Geofence Check"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb",marginBottom:16},children:"Check all active geofences for entry/exit events and send notifications"}),T.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Manual trigger only - automatic scheduling coming soon"})]})]}),Nn==="orders"&&T.jsxs("div",{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsxs("h3",{children:["Assign to orders (",bt.length,")"]}),T.jsxs("div",{style:{display:"flex",gap:8},children:[T.jsx("button",{onClick:Ii,disabled:S,children:"Refresh"}),T.jsx("button",{onClick:Di,disabled:!bt.length,children:"Export CSV"})]})]}),T.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,overflow:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.06)"},children:[T.jsx("th",{style:{textAlign:"left",padding:8},children:"Date"}),T.jsx("th",{style:{textAlign:"left",padding:8},children:"Email"}),T.jsx("th",{style:{textAlign:"right",padding:8},children:"Tags"}),T.jsx("th",{style:{textAlign:"right",padding:8},children:"Amount"}),T.jsx("th",{style:{textAlign:"left",padding:8},children:"Status"}),T.jsx("th",{style:{textAlign:"left",padding:8},children:"Action"})]})}),T.jsxs("tbody",{children:[bt.map(st=>{const It=mr(st.createdAt),Ut=typeof st.amount=="number"?`$${(st.amount/100).toFixed(2)}`:typeof st.amount_total=="number"?`$${(st.amount_total/100).toFixed(2)}`:"";return T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:8},children:It}),T.jsx("td",{style:{padding:8},children:st.email||"—"}),T.jsx("td",{style:{padding:8,textAlign:"right"},children:st.tagCount||""}),T.jsx("td",{style:{padding:8,textAlign:"right"},children:Ut}),T.jsx("td",{style:{padding:8},children:st.status||""}),T.jsx("td",{style:{padding:8},children:T.jsxs("button",{onClick:()=>pr(st),disabled:S,title:`Assign ${st.tagCount||0} tag(s)`,"aria-label":`Assign ${st.tagCount||0} tags for ${st.email||"order"}`,children:["Assign ",st.tagCount||0]})})]},st.id)}),!bt.length&&T.jsx("tr",{children:T.jsx("td",{colSpan:6,style:{padding:12,opacity:.8},children:"No orders found."})})]})]})}),Gr&&T.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:T.jsxs("div",{style:{width:"min(720px, 92vw)",background:"#121212",border:"1px solid rgba(255,255,255,0.15)",borderRadius:12,boxShadow:"0 12px 40px rgba(0,0,0,0.5)"},children:[T.jsxs("div",{style:{padding:"14px 16px",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{style:{color:"#fff",fontWeight:700},children:["Assign ",be?.tagCount||0," tag(s)",be?.email?` to ${be.email}`:""]}),T.jsx("button",{onClick:Li,disabled:Ee,style:{background:"transparent",color:"#bbb",border:"1px solid rgba(255,255,255,0.2)",borderRadius:6,padding:"6px 10px"},children:"Close"})]}),T.jsxs("div",{style:{padding:16,display:"grid",gap:12},children:[An&&T.jsx("div",{style:{color:"#ff7d7d"},children:An}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[T.jsx("div",{style:{gridColumn:"1 / -1"},children:T.jsxs("div",{style:{fontSize:13,opacity:.9,marginBottom:8},children:["Order date: ",mr(be?.createdAt)," · Email: ",be?.email||"—"]})}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,color:"#fff",marginBottom:8},children:"User"}),T.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:10,minHeight:72},children:Ge?T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700},children:Ge.email}),T.jsxs("div",{style:{opacity:.75,fontSize:12},children:["uid: ",Ge.uid]})]}):T.jsx("div",{style:{opacity:.8},children:"No user resolved by email. Select a user from the Users list on the Assign tab and try again, or create the user first."})}),T.jsxs("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:["Required: ",be?.tagCount||0]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,color:"#fff",marginBottom:8},children:"Tag Assignment"}),T.jsxs("div",{style:{marginBottom:12},children:[T.jsxs("div",{style:{fontSize:12,color:"#bbb",marginBottom:8},children:[T.jsxs("div",{children:["Order needs: ",T.jsx("strong",{children:be?.tagCount||0})," tags total"]}),Ge&&T.jsxs("div",{style:{marginTop:4},children:["Already assigned to ",T.jsx("strong",{style:{color:"#4ade80"},children:Ge.email}),":",T.jsxs("strong",{style:{color:"#4ade80"},children:[" ",be?._calculatedAssigned||0]})," tags"]}),T.jsx("div",{style:{marginTop:4},children:T.jsxs("strong",{style:{color:be?._calculatedRemaining>0?"#fbbf24":"#4ade80"},children:["Remaining needed: ",be?._calculatedRemaining||0]})})]}),T.jsxs("div",{style:{padding:8,border:"1px solid rgba(255,255,255,0.12)",borderRadius:6,background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:12},children:[T.jsx("strong",{children:"Instructions:"})," ",Ge?`Tags already assigned to ${Ge.email} are highlighted in green. `:"","Select unassigned tags to complete this order."]})]}),T.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:8,maxHeight:220,overflow:"auto"},children:Ci.length?Ci.map(st=>{const It=!!On.find(ge=>ge.id===st.id&&ge.accountId===st.accountId),Ut=!!st.userId,Mt=Ge&&st.userId===Ge.uid,Jt=Ut&&!Mt,le=be?._calculatedRemaining||0;return T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 8px",borderBottom:"1px solid rgba(255,255,255,0.08)",opacity:Jt?.3:1,background:It?"rgba(0,234,255,0.15)":Mt?"rgba(74,222,128,0.15)":Jt?"rgba(255,159,10,0.1)":"transparent"},children:[T.jsxs("div",{children:[T.jsxs("div",{style:{fontWeight:700,color:Mt?"#4ade80":Jt?"#ff9f0a":"#fff"},children:[st.name||`AirTag ${st.id.slice(0,8)}`,Mt&&T.jsx("span",{style:{marginLeft:8,fontSize:11,padding:"2px 6px",background:"#4ade80",color:"#000",borderRadius:4},children:"ASSIGNED TO USER"}),Jt&&T.jsx("span",{style:{marginLeft:8,fontSize:11,padding:"2px 6px",background:"#ff9f0a",color:"#000",borderRadius:4},children:"ASSIGNED OTHER"})]}),T.jsxs("div",{style:{opacity:.75,fontSize:12},children:["id: ",st.id," · acct: ",st.accountId||"n/a",Ut&&st.userId&&T.jsx("span",{style:{color:Mt?"#4ade80":"#ff9f0a"},children:Mt?` → ${Ge.email}`:` → ${st.userId}`})]})]}),T.jsx("div",{children:T.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13},children:[T.jsx("input",{type:"checkbox",checked:It,onChange:()=>Mi(st),disabled:Ee||Ut||le&&!It&&On.length>=le}),It?"✓ Selected":Mt?"✓ Yours":Jt?"✗ Other":"Available"]})})]},`${st.accountId}:${st.id}`)}):T.jsx("div",{style:{padding:8,opacity:.8},children:"No tags available."})}),T.jsxs("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Selected: ",On.length," / ",be?._calculatedRemaining||0," remaining • Available: ",Ci.filter(st=>!st.userId).length,"• This User: ",be?._calculatedAssigned||0,"• Others: ",Ci.filter(st=>st.userId&&st.userId!==Ge?.uid).length]}),T.jsxs("div",{style:{display:"flex",gap:8},children:[T.jsxs("button",{disabled:Ee||(be?._calculatedRemaining||0)===0,onClick:()=>{const st=be?._calculatedRemaining||0,Ut=Ci.filter(Mt=>!Mt.userId).slice(0,st);Yi(Ut),$i(Mt=>({...Mt,total:Ut.length}))},children:["Auto-select ",be?._calculatedRemaining||0]}),T.jsx("button",{disabled:Ee,onClick:()=>Yi([]),children:"Clear"})]})]})]})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:4},children:[T.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Progress: ",ys.done,"/",ys.total," assigned",ys.failed?`, ${ys.failed} failed`:""]}),T.jsx("div",{children:T.jsx("button",{onClick:Wr,disabled:Ee||!Ge||On.length!==Math.min(be?.tagCount||0,Ci.length),title:Ge?On.length!==Math.min(be?.tagCount||0,Ci.length)?"Select required number of tags":"Assign":"Resolve user first",children:Ee?"Assigning…":`Assign ${On.length}`})})]})]})]})})]})]})})]}):T.jsx("div",{style:{padding:24},children:"Not authorized."}):T.jsx("div",{style:{padding:24},children:"Please sign in."})}var fI="basil",kB=function(t){return t===3?"v3":t},dI="https://js.stripe.com",VB="".concat(dI,"/").concat(fI,"/stripe.js"),jB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,UB=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var zB=function(t){return jB.test(t)||UB.test(t)},BB=function(){for(var t=document.querySelectorAll('script[src^="'.concat(dI,'"]')),n=0;n<t.length;n++){var s=t[n];if(zB(s.src))return s}return null},Px=function(t){var n="",s=document.createElement("script");s.src="".concat(VB).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(s),s},FB=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.5.0",startTime:n})},rh=null,Dd=null,Nd=null,HB=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},qB=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},GB=function(t){return rh!==null?rh:(rh=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=BB();if(!(o&&t)){if(!o)o=Px(t);else if(o&&Nd!==null&&Dd!==null){var u;o.removeEventListener("load",Nd),o.removeEventListener("error",Dd),(u=o.parentNode)===null||u===void 0||u.removeChild(o),o=Px(t)}}Nd=qB(n,s),Dd=HB(s),o.addEventListener("load",Nd),o.addEventListener("error",Dd)}catch(f){s(f);return}}),rh.catch(function(n){return rh=null,Promise.reject(n)}))},WB=function(t,n,s){if(t===null)return null;var o=n[0],u=o.match(/^pk_test/),f=kB(t.version),m=fI;u&&f!==m&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("7.5.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var y=t.apply(void 0,n);return FB(y,s),y},ah,mI=!1,pI=function(){return ah||(ah=GB(null).catch(function(t){return ah=null,Promise.reject(t)}),ah)};Promise.resolve().then(function(){return pI()}).catch(function(e){mI||console.warn(e)});var ZB=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];mI=!0;var o=Date.now();return pI().then(function(u){return WB(u,n,o)})};const KB=ZB("pk_live_51RnBJpBGn8gfa2UxBgm0adcqppMm1mRjvGe7f1PRurEIwXUAGEeMVR5fZ27Qe8CJePvkmcbtdgVbvYFrRi5dp8Mo00VcNUxbA9");function YB(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?Number(e.state.tagCount):t.has("tagCount")?Number(t.get("tagCount")):1}function $B(){const e=qs(),t=Fo(),[n,s]=N.useState(()=>YB(e)),[o,u]=N.useState(!1),[f,m]=N.useState(""),[y,_]=N.useState(!0),[E,A]=N.useState(!1);N.useEffect(()=>{const F=nf(wa,async q=>{if(q)try{const W=Ao(Ai,"purchases"),et=zu(W,Zu("userId","==",q.uid),Zu("status","==","paid")),$=await Em(et),dt=new URLSearchParams(e.search).get("additional")==="true";if(!$.empty&&!dt){A(!0),t("/dashboard",{replace:!0});return}const At=await rp(Mo(Ai,"users",q.uid));At.exists()&&At.data().selectedTagCount&&s(At.data().selectedTagCount)}catch(W){console.error("Error checking purchases:",W)}else t("/login",{replace:!0});_(!1)});return()=>F()},[e,t]);const S=async()=>{u(!0),m(""),xB(n);try{const F=_R(hf),q=bn(F,"createTagCheckout"),W=window.location.origin,et=await q({tagCount:n,origin:W});et.data&&et.data.sessionId?await(await KB).redirectToCheckout({sessionId:et.data.sessionId}):m("Failed to create Stripe Checkout session.")}catch(F){m("Error: "+(F.message||"Unknown error"))}finally{u(!1)}};if(y)return T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:"Checking your account..."})});const k=new URLSearchParams(e.search).get("additional")==="true";return T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsxs("div",{className:"calculator-card",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:20,padding:"50px 40px",textAlign:"center",backdropFilter:"blur(10px)",maxWidth:400,width:"100%"},children:[T.jsx("h2",{style:{color:"white",fontSize:"2.2rem",fontWeight:600,margin:"0 0 18px 0",letterSpacing:"-0.01em"},children:k?"Purchase More Tags":"Purchase Tags"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"1.1rem",fontWeight:400,margin:"0 0 32px 0"},children:k?"Add more tags to your account and expand your tracking capabilities.":"Select the number of tags you want to purchase and proceed to secure checkout."}),T.jsxs("div",{style:{marginBottom:32},children:[T.jsx("label",{style:{color:"rgba(255,255,255,0.8)",fontWeight:500,fontSize:16,marginBottom:10,display:"block"},children:"Number of tags:"}),T.jsx("input",{type:"number",min:1,max:20,value:n,onChange:F=>s(Number(F.target.value)),disabled:o,style:{width:90,fontSize:18,padding:8,borderRadius:8,border:"1px solid #fff",textAlign:"center",fontWeight:600,background:"rgba(255,255,255,0.08)",color:"white",outline:"none",marginTop:4}})]}),T.jsx("button",{className:"pricing-cta",onClick:S,disabled:o||n<1,style:{background:"#00eaff",color:"#000",border:"none",borderRadius:12,padding:"16px 0",fontSize:20,fontWeight:700,cursor:o?"not-allowed":"pointer",width:"100%",marginBottom:10,boxShadow:"0 2px 8px rgba(0,234,255,0.08)",transition:"background 0.2s",letterSpacing:"-0.01em"},onMouseOver:F=>F.currentTarget.style.background="#00bcd4",onMouseOut:F=>F.currentTarget.style.background="#00eaff",children:o?"Redirecting...":`Purchase ${n} Tag${n>1?"s":""}`}),f&&T.jsx("div",{style:{color:"#ff4d4f",marginTop:18,fontWeight:500},children:f})]})})}function XB(){return N.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Terms and Conditions"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Last updated: July 22, 2025"})}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"1. Acceptance of Terms"}),T.jsx("p",{children:"By registering for or using TagLogger’s platform (“Service”), you agree to be bound by these Terms and our Privacy Policy. If you do not agree, do not use the Service."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"2. Service Description"}),T.jsx("p",{children:"TagLogger provides a web‑based platform to track Apple AirTag devices, offering real‑time location, historical playback, geofencing, data export, and customizable alerts. We are an independent service and are not affiliated with Apple Inc."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"3. Eligibility & Account Registration"}),T.jsxs("ul",{children:[T.jsx("li",{children:"You must be at least 18 years old and able to form a binding contract."}),T.jsx("li",{children:"You agree to provide accurate, current, and complete information during registration and to keep your account credentials secure."}),T.jsx("li",{children:"You are responsible for all activity under your account."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"4. Fees & Payment"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Tag Purchase"}),": One‑time fee per AirTag, at prices shown in your dashboard (free continental U.S. shipping)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Subscription"}),": Recurring monthly fee per tag, billed automatically. Volume discounts apply (see Pricing Page)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Payment Methods"}),": Major credit/debit cards and PayPal."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Non‑Refundable"}),": All fees are non‑refundable except as required by law."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Late or Failed Payments"}),": We may suspend your Service until payment is received."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"5. Use Restrictions"}),T.jsx("p",{children:"You agree not to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Reverse engineer, decompile, or otherwise attempt to derive source code."}),T.jsx("li",{children:"Scrape, harvest, or extract data from the Service."}),T.jsx("li",{children:"Interfere with the operation or security of the Service."}),T.jsx("li",{children:"Use the Service for any unlawful purpose or without obtaining all required consents."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"6. Ownership & License"}),T.jsxs("ul",{children:[T.jsx("li",{children:"TagLogger and its licensors retain all rights in the Service, including software, trademarks, and content."}),T.jsx("li",{children:"You own your location and account data (“Customer Data”) but grant us a worldwide, royalty‑free license to host, process, and display it as necessary to provide the Service."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"7. Privacy & Data Security"}),T.jsx("p",{children:"Our Privacy Policy explains how we collect, use, share, and protect Customer Data. You are responsible for ensuring your use of the Service complies with all applicable privacy and surveillance laws."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"8. Disclaimers"}),T.jsx("p",{children:"The Service is provided “AS IS” and “AS AVAILABLE,” with all faults. TAGLOGGER AND ITS AFFILIATES, LICENSORS, AND SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Any warranty of merchantability or fitness for a particular purpose;"}),T.jsx("li",{children:"Any warranty of uninterrupted, error‑free, secure, or virus‑free operation;"}),T.jsx("li",{children:"Any warranty as to the accuracy, completeness, or timeliness of location data or other information;"}),T.jsx("li",{children:"Any warranty that the Service complies with applicable laws or regulations."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"9. Limitation of Liability"}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.1 EXCLUSION OF DAMAGES."})," TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL TAGLOGGER OR ITS AFFILIATES, LICENSORS, OR SUPPLIERS BE LIABLE FOR ANY:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR GOODWILL), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES;"}),T.jsx("li",{children:"DAMAGES ARISING FROM THIRD‑PARTY CLAIMS OR ACTIONS."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.2 DAMAGE CAP."})," TAGLOGGER’S AGGREGATE LIABILITY FOR ALL CLAIMS ARISING OUT OF OR RELATING TO THE SERVICE, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, SHALL NOT EXCEED THE GREATER OF:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"(A) THE TOTAL SUBSCRIPTION FEES YOU PAID IN THE THREE (3) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM; OR"}),T.jsx("li",{children:"(B) ONE HUNDRED DOLLARS (US $100)."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.3 FORCE MAJEURE."})," TAGLOGGER SHALL NOT BE LIABLE FOR FAILURE OR DELAY IN PERFORMANCE DUE TO CAUSES BEYOND ITS REASONABLE CONTROL, INCLUDING NATURAL DISASTERS, WAR, TERRORISM, RIOTS, EMBARGOES, GOVERNMENT ACTIONS, LABOR DISPUTES, OR INTERNET/NETWORK FAILURES."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.4 ALLOCATION OF RISK."})," THESE LIMITATIONS ARE AN ESSENTIAL PART OF THE BARGAIN BETWEEN YOU AND TAGLOGGER. YOU ACKNOWLEDGE THAT WITHOUT THEM, THE SUBSCRIPTION FEES WOULD BE SUBSTANTIALLY HIGHER."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"10. Indemnification"}),T.jsx("p",{children:"You agree to indemnify, defend, and hold harmless TagLogger and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys’ fees) arising out of:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Your use of the Service;"}),T.jsx("li",{children:"Your violation of these Terms; or"}),T.jsx("li",{children:"Any third‑party claim alleging infringement of intellectual property or privacy rights."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"11. Termination"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"By You:"})," You may cancel your subscription at any time via the dashboard; cancellation is effective at the end of your current billing cycle."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"By Us:"})," We may suspend or terminate your account for non‑payment, breach of these Terms, or compliance with legal or regulatory requirements."]}),T.jsx("li",{children:"Upon termination, your right to access the Service ends immediately, and we may delete your Customer Data."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"12. Changes to Service or Terms"}),T.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue the Service or any part thereof at any time. We may update these Terms by posting the revised version with a new “Last updated” date. Your continued use after changes constitutes acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"13. Governing Law & Dispute Resolution"}),T.jsx("p",{children:"These Terms are governed by California law (excluding conflict‑of‑law rules). Any dispute arising under these Terms will be resolved by binding arbitration in Los Angeles County under the American Arbitration Association’s rules. You and TagLogger each waive the right to a jury trial and to participate in any class‑action lawsuit."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"14. Severability & Waiver"}),T.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, the remaining provisions remain in full force. Our failure to enforce any right or provision will not constitute a waiver of future enforcement."}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",textAlign:"center"},children:T.jsx("em",{children:"End of Terms and Conditions"})})]})})}function QB(){return N.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Privacy Policy"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Effective Date: July 21, 2025"})}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Version: 1.0"})}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Introduction"}),T.jsx("p",{children:"At TagLogger, we are committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our services. By using TagLogger, you agree to the practices described in this policy."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Data Controller:"})," TagLogger is the data controller responsible for your personal information. For any questions or concerns about this policy or your data, please contact us via the in-app support form or through our Contact Us page."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Information We Collect"}),T.jsx("p",{children:"We collect the following types of information to provide and improve our services:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Location Data:"})," Latitude, longitude, and timestamps associated with your AirTags for location history and tracking features."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"User Identification:"})," Account details like your email address or username to link location data to your account."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Used to authenticate users, remember preferences, and analyze website usage."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Use Your Information"}),T.jsx("p",{children:"We use your information to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Provide the TagLogger service, including location history, geofencing, inventory management, and interactive timelines."}),T.jsx("li",{children:"Improve our services, troubleshoot issues, and develop new features."}),T.jsx("li",{children:"Communicate with you about your account, updates, or support matters."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Share Your Information"}),T.jsx("p",{children:"We do not share your location data with third parties, except as follows:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Trusted Service Providers:"})," We may share data with trusted vendors (e.g., for hosting, analytics, or payment processing) who are bound by confidentiality obligations and use your data only to perform services for us."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Legal Requirements:"})," When required by law, such as a subpoena or court order."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Protection of Rights:"})," To protect TagLogger, our users, or others."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"With Your Consent:"})," If you explicitly agree to share your data."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Your Choices and Rights"}),T.jsx("p",{children:"You can:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Access:"})," View your data through your account dashboard."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Correct:"})," Update inaccuracies in your account settings."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Delete:"})," Request data deletion, subject to legal retention obligations."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Object:"})," Opt out of certain data processing where permitted by law."]})]}),T.jsx("p",{children:"To exercise these rights, use the in-app support form or visit our Contact Us page."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Security"}),T.jsx("p",{children:"We use industry-standard encryption, access controls, and secure servers to protect your data. However, no system is fully immune to risks."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"International Data Transfers"}),T.jsx("p",{children:"Your data may be processed in other countries, with safeguards to comply with applicable laws."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Children’s Privacy"}),T.jsx("p",{children:"Our services are not intended for anyone under 18. We do not knowingly collect data from individuals under 18, and we will delete such data if discovered."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Business Use"}),T.jsx("p",{children:"If you use TagLogger for business (e.g., tracking shipments), you must comply with privacy laws and obtain necessary consents."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Data Retention"}),T.jsx("p",{children:"We keep your data while your account is active or as needed for the service. Upon deletion requests, we remove it unless legally required to retain it."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Cookies and Tracking Technologies"}),T.jsx("p",{children:"Cookies help with authentication, preferences, and analytics. Manage them via your browser settings, though this may limit functionality."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Changes to This Policy"}),T.jsx("p",{children:"We may update this policy and will notify you of significant changes via our website. Continued use after updates implies acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Contact Us"}),T.jsx("p",{children:"For questions or requests, reach us via the in-app support form or Contact Us."})]})})}function JB(){return N.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"Contact"}),T.jsxs("p",{children:["Have questions or need support? Reach out to us at ",T.jsx("a",{href:"mailto:info@ipekai.com",style:{color:"#00eaff",textDecoration:"underline"},children:"info@ipekai.com"}),"."]}),T.jsx("p",{children:"We aim to respond within 1-2 business days."})]})})}function t6(){return T.jsx("footer",{className:"global-footer",role:"contentinfo",children:T.jsxs("div",{className:"footer-content",children:[T.jsx("div",{className:"footer-brand",children:"TagLogger"}),T.jsxs("nav",{className:"footer-nav","aria-label":"Footer",children:[T.jsx(ph,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),T.jsx(ph,{to:"/privacy",className:"footer-link",children:"Data Privacy"}),T.jsx(ph,{to:"/contact",className:"footer-link",children:"Contact"})]}),T.jsxs("div",{className:"footer-copy",children:["© ",new Date().getFullYear()," TagLogger. All rights reserved."]}),T.jsx("div",{className:"footer-disclaimer",style:{fontSize:"0.6rem",color:"#aaa",marginTop:"0px"},children:"An independent service, not affiliated with Apple Inc."})]})})}const e6=N.lazy(()=>hL(()=>import("./MapPage-CuWYqlGJ.js"),__vite__mapDeps([0,1])));function n6(){const[e,t]=N.useState(null);return T.jsxs(T.Fragment,{children:[T.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),T.jsx(qj,{scrollYProgress:e}),T.jsxs(C2,{children:[T.jsx(rr,{path:"/",element:T.jsx(Cx,{onScrollProgress:t})}),T.jsx(rr,{path:"/login",element:T.jsx(MB,{})}),T.jsx(rr,{path:"/purchase",element:T.jsx($B,{})}),T.jsx(rr,{path:"/map",element:T.jsx(dy,{children:T.jsx(N.Suspense,{fallback:null,children:T.jsx(e6,{})})})}),T.jsx(rr,{path:"/dashboard",element:T.jsx(dy,{children:T.jsx(NB,{})})}),T.jsx(rr,{path:"/admin",element:T.jsx(dy,{adminOnly:!0,requireEntitlement:!1,children:T.jsx(OB,{})})}),T.jsx(rr,{path:"/terms",element:T.jsx(XB,{})}),T.jsx(rr,{path:"/privacy",element:T.jsx(QB,{})}),T.jsx(rr,{path:"/contact",element:T.jsx(JB,{})}),T.jsx(rr,{path:"*",element:T.jsx(Cx,{onScrollProgress:t})})]}),T.jsx(t6,{})]})}jP.createRoot(document.getElementById("root")).render(T.jsx(N.StrictMode,{children:T.jsx(Q2,{children:T.jsx(Hj,{children:T.jsx(n6,{})})})}));export{dp as M,pp as T,Ao as a,Zd as b,i6 as c,Ai as d,wa as e,nf as f,Mo as g,a6 as h,cc as i,T as j,oB as k,fR as l,o6 as m,hR as o,zu as q,N as r,l6 as s,r6 as u,Zu as w};
