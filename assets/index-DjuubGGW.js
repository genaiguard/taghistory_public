const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapPage-7PHcUMjL.js","assets/MapPage-7WyE4uYj.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var BU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hg={exports:{}},Kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function RP(){if(cE)return Kc;cE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Kc.Fragment=t,Kc.jsx=n,Kc.jsxs=n,Kc}var hE;function CP(){return hE||(hE=1,Hg.exports=RP()),Hg.exports}var T=CP(),qg={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function IP(){if(fE)return Xt;fE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=A&&z[A]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,U={};function W(z,lt,bt){this.props=z,this.context=lt,this.refs=U,this.updater=bt||N}W.prototype.isReactComponent={},W.prototype.setState=function(z,lt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,lt,"setState")},W.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Z(){}Z.prototype=W.prototype;function it(z,lt,bt){this.props=z,this.context=lt,this.refs=U,this.updater=bt||N}var $=it.prototype=new Z;$.constructor=it,D($,W.prototype),$.isPureReactComponent=!0;var yt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function q(z,lt,bt,vt,At,It){return bt=It.ref,{$$typeof:e,type:z,key:lt,ref:bt!==void 0?bt:null,props:It}}function P(z,lt){return q(z.type,lt,void 0,void 0,void 0,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function B(z){var lt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(bt){return lt[bt]})}var G=/\/+/g;function Y(z,lt){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):lt.toString(36)}function j(){}function Tt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(lt){z.status==="pending"&&(z.status="fulfilled",z.value=lt)},function(lt){z.status==="pending"&&(z.status="rejected",z.reason=lt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Vt(z,lt,bt,vt,At){var It=typeof z;(It==="undefined"||It==="boolean")&&(z=null);var xt=!1;if(z===null)xt=!0;else switch(It){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(z.$$typeof){case e:case t:xt=!0;break;case E:return xt=z._init,Vt(xt(z._payload),lt,bt,vt,At)}}if(xt)return At=At(z),xt=vt===""?"."+Y(z,0):vt,yt(At)?(bt="",xt!=null&&(bt=xt.replace(G,"$&/")+"/"),Vt(At,lt,bt,"",function(Ei){return Ei})):At!=null&&(k(At)&&(At=P(At,bt+(At.key==null||z&&z.key===At.key?"":(""+At.key).replace(G,"$&/")+"/")+xt)),lt.push(At)),1;xt=0;var Ee=vt===""?".":vt+":";if(yt(z))for(var le=0;le<z.length;le++)vt=z[le],It=Ee+Y(vt,le),xt+=Vt(vt,lt,bt,It,At);else if(le=x(z),typeof le=="function")for(z=le.call(z),le=0;!(vt=z.next()).done;)vt=vt.value,It=Ee+Y(vt,le++),xt+=Vt(vt,lt,bt,It,At);else if(It==="object"){if(typeof z.then=="function")return Vt(Tt(z),lt,bt,vt,At);throw lt=String(z),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return xt}function st(z,lt,bt){if(z==null)return z;var vt=[],At=0;return Vt(z,vt,"","",function(It){return lt.call(bt,It,At++)}),vt}function ft(z){if(z._status===-1){var lt=z._result;lt=lt(),lt.then(function(bt){(z._status===0||z._status===-1)&&(z._status=1,z._result=bt)},function(bt){(z._status===0||z._status===-1)&&(z._status=2,z._result=bt)}),z._status===-1&&(z._status=0,z._result=lt)}if(z._status===1)return z._result.default;throw z._result}var mt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Kt(){}return Xt.Children={map:st,forEach:function(z,lt,bt){st(z,function(){lt.apply(this,arguments)},bt)},count:function(z){var lt=0;return st(z,function(){lt++}),lt},toArray:function(z){return st(z,function(lt){return lt})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Xt.Component=W,Xt.Fragment=n,Xt.Profiler=o,Xt.PureComponent=it,Xt.StrictMode=s,Xt.Suspense=y,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return ht.H.useMemoCache(z)}},Xt.cache=function(z){return function(){return z.apply(null,arguments)}},Xt.cloneElement=function(z,lt,bt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var vt=D({},z.props),At=z.key,It=void 0;if(lt!=null)for(xt in lt.ref!==void 0&&(It=void 0),lt.key!==void 0&&(At=""+lt.key),lt)!Et.call(lt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&lt.ref===void 0||(vt[xt]=lt[xt]);var xt=arguments.length-2;if(xt===1)vt.children=bt;else if(1<xt){for(var Ee=Array(xt),le=0;le<xt;le++)Ee[le]=arguments[le+2];vt.children=Ee}return q(z.type,At,void 0,void 0,It,vt)},Xt.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Xt.createElement=function(z,lt,bt){var vt,At={},It=null;if(lt!=null)for(vt in lt.key!==void 0&&(It=""+lt.key),lt)Et.call(lt,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(At[vt]=lt[vt]);var xt=arguments.length-2;if(xt===1)At.children=bt;else if(1<xt){for(var Ee=Array(xt),le=0;le<xt;le++)Ee[le]=arguments[le+2];At.children=Ee}if(z&&z.defaultProps)for(vt in xt=z.defaultProps,xt)At[vt]===void 0&&(At[vt]=xt[vt]);return q(z,It,void 0,void 0,null,At)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(z){return{$$typeof:m,render:z}},Xt.isValidElement=k,Xt.lazy=function(z){return{$$typeof:E,_payload:{_status:-1,_result:z},_init:ft}},Xt.memo=function(z,lt){return{$$typeof:_,type:z,compare:lt===void 0?null:lt}},Xt.startTransition=function(z){var lt=ht.T,bt={};ht.T=bt;try{var vt=z(),At=ht.S;At!==null&&At(bt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(Kt,mt)}catch(It){mt(It)}finally{ht.T=lt}},Xt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Xt.use=function(z){return ht.H.use(z)},Xt.useActionState=function(z,lt,bt){return ht.H.useActionState(z,lt,bt)},Xt.useCallback=function(z,lt){return ht.H.useCallback(z,lt)},Xt.useContext=function(z){return ht.H.useContext(z)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(z,lt){return ht.H.useDeferredValue(z,lt)},Xt.useEffect=function(z,lt,bt){var vt=ht.H;if(typeof bt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return vt.useEffect(z,lt)},Xt.useId=function(){return ht.H.useId()},Xt.useImperativeHandle=function(z,lt,bt){return ht.H.useImperativeHandle(z,lt,bt)},Xt.useInsertionEffect=function(z,lt){return ht.H.useInsertionEffect(z,lt)},Xt.useLayoutEffect=function(z,lt){return ht.H.useLayoutEffect(z,lt)},Xt.useMemo=function(z,lt){return ht.H.useMemo(z,lt)},Xt.useOptimistic=function(z,lt){return ht.H.useOptimistic(z,lt)},Xt.useReducer=function(z,lt,bt){return ht.H.useReducer(z,lt,bt)},Xt.useRef=function(z){return ht.H.useRef(z)},Xt.useState=function(z){return ht.H.useState(z)},Xt.useSyncExternalStore=function(z,lt,bt){return ht.H.useSyncExternalStore(z,lt,bt)},Xt.useTransition=function(){return ht.H.useTransition()},Xt.version="19.1.0",Xt}var dE;function R_(){return dE||(dE=1,qg.exports=IP()),qg.exports}var V=R_();const Xd=LS(V);var Gg={exports:{}},$c={},Wg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function PP(){return mE||(mE=1,function(e){function t(st,ft){var mt=st.length;st.push(ft);t:for(;0<mt;){var Kt=mt-1>>>1,z=st[Kt];if(0<o(z,ft))st[Kt]=ft,st[mt]=z,mt=Kt;else break t}}function n(st){return st.length===0?null:st[0]}function s(st){if(st.length===0)return null;var ft=st[0],mt=st.pop();if(mt!==ft){st[0]=mt;t:for(var Kt=0,z=st.length,lt=z>>>1;Kt<lt;){var bt=2*(Kt+1)-1,vt=st[bt],At=bt+1,It=st[At];if(0>o(vt,mt))At<z&&0>o(It,vt)?(st[Kt]=It,st[At]=mt,Kt=At):(st[Kt]=vt,st[bt]=mt,Kt=bt);else if(At<z&&0>o(It,mt))st[Kt]=It,st[At]=mt,Kt=At;else break t}}return ft}function o(st,ft){var mt=st.sortIndex-ft.sortIndex;return mt!==0?mt:st.id-ft.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var y=[],_=[],E=1,A=null,x=3,N=!1,D=!1,U=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function yt(st){for(var ft=n(_);ft!==null;){if(ft.callback===null)s(_);else if(ft.startTime<=st)s(_),ft.sortIndex=ft.expirationTime,t(y,ft);else break;ft=n(_)}}function ht(st){if(U=!1,yt(st),!D)if(n(y)!==null)D=!0,Et||(Et=!0,Y());else{var ft=n(_);ft!==null&&Vt(ht,ft.startTime-st)}}var Et=!1,q=-1,P=5,k=-1;function B(){return W?!0:!(e.unstable_now()-k<P)}function G(){if(W=!1,Et){var st=e.unstable_now();k=st;var ft=!0;try{t:{D=!1,U&&(U=!1,it(q),q=-1),N=!0;var mt=x;try{e:{for(yt(st),A=n(y);A!==null&&!(A.expirationTime>st&&B());){var Kt=A.callback;if(typeof Kt=="function"){A.callback=null,x=A.priorityLevel;var z=Kt(A.expirationTime<=st);if(st=e.unstable_now(),typeof z=="function"){A.callback=z,yt(st),ft=!0;break e}A===n(y)&&s(y),yt(st)}else s(y);A=n(y)}if(A!==null)ft=!0;else{var lt=n(_);lt!==null&&Vt(ht,lt.startTime-st),ft=!1}}break t}finally{A=null,x=mt,N=!1}ft=void 0}}finally{ft?Y():Et=!1}}}var Y;if(typeof $=="function")Y=function(){$(G)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Tt=j.port2;j.port1.onmessage=G,Y=function(){Tt.postMessage(null)}}else Y=function(){Z(G,0)};function Vt(st,ft){q=Z(function(){st(e.unstable_now())},ft)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(st){st.callback=null},e.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<st?Math.floor(1e3/st):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(st){switch(x){case 1:case 2:case 3:var ft=3;break;default:ft=x}var mt=x;x=ft;try{return st()}finally{x=mt}},e.unstable_requestPaint=function(){W=!0},e.unstable_runWithPriority=function(st,ft){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var mt=x;x=st;try{return ft()}finally{x=mt}},e.unstable_scheduleCallback=function(st,ft,mt){var Kt=e.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Kt+mt:Kt):mt=Kt,st){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=mt+z,st={id:E++,callback:ft,priorityLevel:st,startTime:mt,expirationTime:z,sortIndex:-1},mt>Kt?(st.sortIndex=mt,t(_,st),n(y)===null&&st===n(_)&&(U?(it(q),q=-1):U=!0,Vt(ht,mt-Kt))):(st.sortIndex=z,t(y,st),D||N||(D=!0,Et||(Et=!0,Y()))),st},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(st){var ft=x;return function(){var mt=x;x=ft;try{return st.apply(this,arguments)}finally{x=mt}}}}(Zg)),Zg}var pE;function MP(){return pE||(pE=1,Wg.exports=PP()),Wg.exports}var Yg={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function LP(){if(gE)return Wn;gE=1;var e=R_();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,E)},Wn.flushSync=function(y){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=E,s.d.f()}},Wn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Wn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Wn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:N}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:x,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Wn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=m(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Wn.requestFormReset=function(y){s.d.r(y)},Wn.unstable_batchedUpdates=function(y,_){return y(_)},Wn.useFormState=function(y,_,E){return f.H.useFormState(y,_,E)},Wn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var yE;function DS(){if(yE)return Yg.exports;yE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yg.exports=LP(),Yg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function DP(){if(_E)return $c;_E=1;var e=MP(),t=R_(),n=DS();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return m(g),i;if(v===h)return m(g),r;v=v.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=v;else{for(var C=!1,M=g.child;M;){if(M===l){C=!0,l=g,h=v;break}if(M===h){C=!0,h=g,l=v;break}M=M.sibling}if(!C){for(M=v.child;M;){if(M===l){C=!0,l=v,h=g;break}if(M===h){C=!0,h=v,l=g;break}M=M.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),$=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function Tt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case W:return"Profiler";case U:return"StrictMode";case ht:return"Suspense";case Et:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case $:return(i.displayName||"Context")+".Provider";case it:return(i._context.displayName||"Context")+".Consumer";case yt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return r=i.displayName||null,r!==null?r:Tt(i.type)||"Memo";case P:r=i._payload,i=i._init;try{return Tt(i(r))}catch{}}return null}var Vt=Array.isArray,st=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Kt=[],z=-1;function lt(i){return{current:i}}function bt(i){0>z||(i.current=Kt[z],Kt[z]=null,z--)}function vt(i,r){z++,Kt[z]=i.current,i.current=r}var At=lt(null),It=lt(null),xt=lt(null),Ee=lt(null);function le(i,r){switch(vt(xt,r),vt(It,i),vt(At,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?jb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=jb(r),i=zb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}bt(At),vt(At,i)}function Ei(){bt(At),bt(It),bt(xt)}function Gi(i){i.memoizedState!==null&&vt(Ee,i);var r=At.current,l=zb(r,i.type);r!==l&&(vt(It,i),vt(At,l))}function wi(i){It.current===i&&(bt(At),bt(It)),Ee.current===i&&(bt(Ee),qc._currentValue=mt)}var xi=Object.prototype.hasOwnProperty,vs=e.unstable_scheduleCallback,Rr=e.unstable_cancelCallback,pa=e.unstable_shouldYield,ko=e.unstable_requestPaint,jn=e.unstable_now,ga=e.unstable_getCurrentPriorityLevel,Vo=e.unstable_ImmediatePriority,Cr=e.unstable_UserBlockingPriority,Ts=e.unstable_NormalPriority,Vl=e.unstable_LowPriority,Ir=e.unstable_IdlePriority,jo=e.log,jl=e.unstable_setDisableYieldValue,Ie=null,fe=null;function zn(i){if(typeof jo=="function"&&jl(i),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Ie,i)}catch{}}var _n=Math.clz32?Math.clz32:Pr,zo=Math.log,zl=Math.LN2;function Pr(i){return i>>>=0,i===0?32:31-(zo(i)/zl|0)|0}var Gs=256,bs=4194304;function ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ya(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~v,h!==0?g=ai(h):(C&=M,C!==0?g=ai(C):l||(l=M&~i,l!==0&&(g=ai(l))))):(M=h&~v,M!==0?g=ai(M):C!==0?g=ai(C):l||(l=h&~i,l!==0&&(g=ai(l)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:g}function Si(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Uo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var i=Gs;return Gs<<=1,(Gs&4194048)===0&&(Gs=256),i}function _a(){var i=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),i}function Wi(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fo(i,r,l,h,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,H=i.expirationTimes,et=i.hiddenUpdates;for(l=C&~l;0<l;){var ut=31-_n(l),pt=1<<ut;M[ut]=0,H[ut]=-1;var nt=et[ut];if(nt!==null)for(et[ut]=null,ut=0;ut<nt.length;ut++){var rt=nt[ut];rt!==null&&(rt.lane&=-536870913)}l&=~pt}h!==0&&Yi(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function Yi(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-_n(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Ho(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-_n(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function Ws(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zs(){var i=ft.p;return i!==0?i:(i=window.event,i===void 0?32:sE(i.type))}function Ta(i,r){var l=ft.p;try{return ft.p=i,r()}finally{ft.p=l}}var Pe=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Pe,We="__reactProps$"+Pe,oi="__reactContainer$"+Pe,Un="__reactEvents$"+Pe,Dt="__reactListeners$"+Pe,Es="__reactHandles$"+Pe,qo="__reactResources$"+Pe,Ys="__reactMarker$"+Pe;function ws(i){delete i[Qe],delete i[We],delete i[Un],delete i[Dt],delete i[Es]}function Ai(i){var r=i[Qe];if(r)return r;for(var l=i.parentNode;l;){if(r=l[oi]||l[Qe]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Hb(i);i!==null;){if(l=i[Qe])return l;i=Hb(i)}return r}i=l,l=i.parentNode}return null}function Ri(i){if(i=i[Qe]||i[oi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function vn(i){var r=i[qo];return r||(r=i[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Be(i){i[Ys]=!0}var Go=new Set,ba={};function Ci(i,r){Ki(i,r),Ki(i+"Capture",r)}function Ki(i,r){for(ba[i]=r,i=0;i<r.length;i++)Go.add(r[i])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},Lr={};function Bl(i){return xi.call(Lr,i)?!0:xi.call(Mr,i)?!1:Ul.test(i)?Lr[i]=!0:(Mr[i]=!0,!1)}function Ks(i,r,l){if(Bl(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function $i(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function dn(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var xs,$s;function Xi(i){if(xs===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);xs=r&&r[1]||"",$s=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+i+$s}var Dr=!1;function Qi(i,r){if(!i||Dr)return"";Dr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(rt){var nt=rt}Reflect.construct(i,[],pt)}else{try{pt.call()}catch(rt){nt=rt}i.call(pt.prototype)}}else{try{throw Error()}catch(rt){nt=rt}(pt=i())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(rt){if(rt&&nt&&typeof rt.stack=="string")return[rt.stack,nt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],M=v[1];if(C&&M){var H=C.split(`
`),et=M.split(`
`);for(g=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;g<et.length&&!et[g].includes("DetermineComponentFrameRoot");)g++;if(h===H.length||g===et.length)for(h=H.length-1,g=et.length-1;1<=h&&0<=g&&H[h]!==et[g];)g--;for(;1<=h&&0<=g;h--,g--)if(H[h]!==et[g]){if(h!==1||g!==1)do if(h--,g--,0>g||H[h]!==et[g]){var ut=`
`+H[h].replace(" at new "," at ");return i.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",i.displayName)),ut}while(1<=h&&0<=g);break}}}finally{Dr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Xi(l):""}function Jt(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Qi(i.type,!1);case 11:return Qi(i.type.render,!1);case 1:return Qi(i.type,!0);case 31:return Xi("Activity");default:return""}}function pe(i){try{var r="";do r+=Jt(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ji(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xs(i){var r=Ji(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qs(i){i._valueTracker||(i._valueTracker=Xs(i))}function Wt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=Ji(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function _e(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wo=/[\n"\\]/g;function ke(i){return i.replace(Wo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Me(i,r,l,h,g,v,C,M){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+rn(r)):i.value!==""+rn(r)&&(i.value=""+rn(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?Ii(i,C,rn(r)):l!=null?Ii(i,C,rn(l)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+rn(M):i.removeAttribute("name")}function Nr(i,r,l,h,g,v,C,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+rn(l):"",r=r!=null?""+rn(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Ii(i,r,l){r==="number"&&_e(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+rn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Ut(i,r,l){if(r!=null&&(r=""+rn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+rn(l):""}function Qn(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Vt(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=rn(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Tn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ea(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Pi.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Ss(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&Ea(i,g,h)}else for(var v in r)r.hasOwnProperty(v)&&Ea(i,v,r[v])}function Or(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(i){return wa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mi=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,Li=null;function Yo(i){var r=Ri(i);if(r&&(i=r.stateNode)){var l=i[We]||null;t:switch(i=r.stateNode,r.type){case"input":if(Me(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ke(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[We]||null;if(!g)throw Error(s(90));Me(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Wt(h)}break t;case"textarea":Ut(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Pn(i,!!l.multiple,r,!1)}}}var kt=!1;function Jn(i,r,l){if(kt)return i(r,l);kt=!0;try{var h=i(r);return h}finally{if(kt=!1,(ts!==null||Li!==null)&&(Yf(),ts&&(r=ts,i=Li,Li=ts=null,Yo(r),i)))for(r=0;r<i.length;r++)Yo(i[r])}}function ue(i,r){var l=i.stateNode;if(l===null)return null;var h=l[We]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(li)try{var As={};Object.defineProperty(As,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Bn=!1}var ui=null,Fn=null,Di=null;function Rs(){if(Di)return Di;var i,r=Fn,l=r.length,h,g="value"in ui?ui.value:ui.textContent,v=g.length;for(i=0;i<l&&r[i]===g[i];i++);var C=l-i;for(h=1;h<=C&&r[l-h]===g[v-h];h++);return Di=g.slice(i,1<h?1-h:void 0)}function we(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bn(){return!0}function xa(){return!1}function Je(i){function r(l,h,g,v,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?bn:xa,this.isPropagationStopped=xa,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bn)},persist:function(){},isPersistent:bn}),r}var de={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Je(de),Cs=E({},de,{view:0,detail:0}),Fl=Je(Cs),Vr,$t,es,mn=E({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==es&&(es&&i.type==="mousemove"?(Vr=i.screenX-es.screenX,$t=i.screenY-es.screenY):$t=Vr=0,es=i),Vr)},movementY:function(i){return"movementY"in i?i.movementY:$t}}),En=Je(mn),Ko=E({},mn,{dataTransfer:0}),oc=Je(Ko),Is=E({},Cs,{relatedTarget:0}),Sa=Je(Is),Aa=E({},de,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Je(Aa),Hl=E({},de,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tr=Je(Hl),lc=E({},de,{data:0}),Hn=Je(lc),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ca(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ni[i])?!!r[i]:!1}function er(){return Ca}var Ia=E({},Cs,{key:function(i){if(i.key){var r=jr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=we(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$o[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(i){return i.type==="keypress"?we(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?we(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pa=Je(Ia),Xo=E({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=Je(Xo),Ps=E({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),ql=Je(Ps),La=E({},de,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=Je(La),Qo=E({},mn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zr=Je(Qo),an=E({},de,{newState:0,oldState:0}),ns=Je(an),Wl=[9,13,27,32],qn=li&&"CompositionEvent"in window,d=null;li&&"documentMode"in document&&(d=document.documentMode);var w=li&&"TextEvent"in window&&!d,R=li&&(!qn||d&&8<d&&11>=d),O=" ",Q=!1;function ot(i,r){switch(i){case"keyup":return Wl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function Ze(i,r){switch(i){case"compositionend":return wt(r);case"keypress":return r.which!==32?null:(Q=!0,O);case"textInput":return i=r.data,i===O&&Q?null:i;default:return null}}function se(i,r){if(ie)return i==="compositionend"||!qn&&ot(i,r)?(i=Rs(),Di=Fn=ui=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R&&r.locale!=="ko"?null:r.data;default:return null}}var ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ge[i.type]:r==="textarea"}function Ms(i,r,l,h){ts?Li?Li.push(h):Li=[h]:ts=h,r=td(r,"onChange"),0<r.length&&(l=new kr("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Re=null,is=null;function ss(i){Db(i,0)}function Zl(i){var r=In(i);if(Wt(r))return i}function Da(i,r){if(i==="change")return r}var uc=!1;if(li){var Na;if(li){var cc="oninput"in document;if(!cc){var Ls=document.createElement("div");Ls.setAttribute("oninput","return;"),cc=typeof Ls.oninput=="function"}Na=cc}else Na=!1;uc=Na&&(!document.documentMode||9<document.documentMode)}function Jo(){Re&&(Re.detachEvent("onpropertychange",df),is=Re=null)}function df(i){if(i.propertyName==="value"&&Zl(is)){var r=[];Ms(r,is,i,Mn(i)),Jn(ss,r)}}function hc(i,r,l){i==="focusin"?(Jo(),Re=r,is=l,Re.attachEvent("onpropertychange",df)):i==="focusout"&&Jo()}function dp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zl(is)}function Ds(i,r){if(i==="click")return Zl(r)}function mp(i,r){if(i==="input"||i==="change")return Zl(r)}function Oa(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ti=typeof Object.is=="function"?Object.is:Oa;function ei(i,r){if(ti(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!xi.call(r,g)||!ti(i[g],r[g]))return!1}return!0}function tl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fc(i,r){var l=tl(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=tl(l)}}function Yl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Yl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function el(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=_e(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=_e(i.document)}return r}function nl(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Kl=li&&"documentMode"in document&&11>=document.documentMode,Oi=null,ka=null,Ur=null,$l=!1;function mf(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$l||Oi==null||Oi!==_e(h)||(h=Oi,"selectionStart"in h&&nl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ur&&ei(Ur,h)||(Ur=h,h=td(ka,"onSelect"),0<h.length&&(r=new kr("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Oi)))}function rs(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Va={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Xl={},pf={};li&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function nr(i){if(Xl[i])return Xl[i];if(!Va[i])return i;var r=Va[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in pf)return Xl[i]=r[l];return i}var gf=nr("animationend"),ki=nr("animationiteration"),il=nr("animationstart"),pp=nr("transitionrun"),Ql=nr("transitionstart"),gp=nr("transitioncancel"),dc=nr("transitionend"),yf=new Map,Br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Br.push("scrollEnd");function Vi(i,r){yf.set(i,r),Ci(r,[i])}var Fr=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var l=Fr.get(i);return l!==void 0?l:(r={value:i,source:r,stack:pe(r)},Fr.set(i,r),r)}return{value:i,source:r,stack:pe(r)}}var ii=[],ja=0,ji=0;function sl(){for(var i=ja,r=ji=ja=0;r<i;){var l=ii[r];ii[r++]=null;var h=ii[r];ii[r++]=null;var g=ii[r];ii[r++]=null;var v=ii[r];if(ii[r++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}v!==0&&al(l,g,v)}}function rl(i,r,l,h){ii[ja++]=i,ii[ja++]=r,ii[ja++]=l,ii[ja++]=h,ji|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Hr(i,r,l,h){return rl(i,r,l,h),ir(i)}function za(i,r){return rl(i,null,null,r),ir(i)}function al(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-_n(l),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),v):null}function ir(i){if(50<kc)throw kc=0,dg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var qr={};function _f(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,r,l,h){return new _f(i,r,l,h)}function Jl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var l=i.alternate;return l===null?(l=si(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function mc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ol(i,r,l,h,g,v){var C=0;if(h=i,typeof i=="function")Jl(i)&&(C=1);else if(typeof i=="string")C=mP(i,l,At.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case k:return i=si(31,l,r,g),i.elementType=k,i.lanes=v,i;case D:return sr(l.children,g,v,r);case U:C=8,g|=24;break;case W:return i=si(12,l,r,g|2),i.elementType=W,i.lanes=v,i;case ht:return i=si(13,l,r,g),i.elementType=ht,i.lanes=v,i;case Et:return i=si(19,l,r,g),i.elementType=Et,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:case $:C=10;break t;case it:C=9;break t;case yt:C=11;break t;case q:C=14;break t;case P:C=16,h=null;break t}C=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=si(C,l,r,g),r.elementType=i,r.type=h,r.lanes=v,r}function sr(i,r,l,h){return i=si(7,i,h,r),i.lanes=l,i}function pc(i,r,l){return i=si(6,i,null,r),i.lanes=l,i}function tu(i,r,l){return r=si(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Gr=[],Ua=0,a=null,c=0,p=[],b=0,S=null,I=1,F="";function J(i,r){Gr[Ua++]=c,Gr[Ua++]=a,a=i,c=r}function at(i,r,l){p[b++]=I,p[b++]=F,p[b++]=S,S=i;var h=I;i=F;var g=32-_n(h)-1;h&=~(1<<g),l+=1;var v=32-_n(r)+g;if(30<v){var C=g-g%5;v=(h&(1<<C)-1).toString(32),h>>=C,g-=C,I=1<<32-_n(r)+g|l<<g|h,F=v+i}else I=1<<v|l<<g|h,F=i}function _t(i){i.return!==null&&(J(i,1),at(i,1,0))}function Rt(i){for(;i===a;)a=Gr[--Ua],Gr[Ua]=null,c=Gr[--Ua],Gr[Ua]=null;for(;i===S;)S=p[--b],p[b]=null,F=p[--b],p[b]=null,I=p[--b],p[b]=null}var Pt=null,Lt=null,Gt=!1,De=null,Fe=!1,wn=Error(s(519));function ci(i){var r=Error(s(418,""));throw Fa(ni(r,i)),wn}function vf(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Qe]=i,r[We]=h,l){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(l=0;l<jc.length;l++)ne(jc[l],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":ne("invalid",r),Nr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Qs(r);break;case"select":ne("invalid",r);break;case"textarea":ne("invalid",r),Qn(r,h.value,h.defaultValue,h.children),Qs(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||Vb(r.textContent,l)?(h.popover!=null&&(ne("beforetoggle",r),ne("toggle",r)),h.onScroll!=null&&ne("scroll",r),h.onScrollEnd!=null&&ne("scrollend",r),h.onClick!=null&&(r.onclick=ed),r=!0):r=!1,r||ci(i)}function Tf(i){for(Pt=i.return;Pt;)switch(Pt.tag){case 5:case 13:Fe=!1;return;case 27:case 3:Fe=!0;return;default:Pt=Pt.return}}function ll(i){if(i!==Pt)return!1;if(!Gt)return Tf(i),Gt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ig(i.type,i.memoizedProps)),l=!l),l&&Lt&&ci(i),Tf(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Lt=Vs(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Lt=null}}else r===27?(r=Lt,io(i.type)?(i=Dg,Dg=null,Lt=i):Lt=r):Lt=Pt?Vs(i.stateNode.nextSibling):null;return!0}function Ba(){Lt=Pt=null,Gt=!1}function bf(){var i=De;return i!==null&&(di===null?di=i:di.push.apply(di,i),De=null),i}function Fa(i){De===null?De=[i]:De.push(i)}var je=lt(null),os=null,Ns=null;function rr(i,r,l){vt(je,r._currentValue),r._currentValue=l}function Os(i){i._currentValue=je.current,bt(je)}function ul(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function eu(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var M=v;v=g;for(var H=0;H<r.length;H++)if(M.context===r[H]){v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),ul(v.return,l,i),h||(C=null);break t}v=M.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(s(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),ul(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function cl(i,r,l,h){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var M=g.type;ti(g.pendingProps.value,C.value)||(i!==null?i.push(M):i=[M])}}else if(g===Ee.current){if(C=g.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(qc):i=[qc])}g=g.return}i!==null&&eu(r,i,l,h),r.flags|=262144}function Ef(i){for(i=i.firstContext;i!==null;){if(!ti(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function hl(i){os=i,Ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gn(i){return w0(os,i)}function wf(i,r){return os===null&&hl(i),w0(i,r)}function w0(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ns===null){if(i===null)throw Error(s(308));Ns=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ns=Ns.next=r;return l}var dI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},mI=e.unstable_scheduleCallback,pI=e.unstable_NormalPriority,pn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new dI,data:new Map,refCount:0}}function gc(i){i.refCount--,i.refCount===0&&mI(pI,function(){i.controller.abort()})}var yc=null,_p=0,nu=0,iu=null;function gI(i,r){if(yc===null){var l=yc=[];_p=0,nu=Tg(),iu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return _p++,r.then(x0,x0),r}function x0(){if(--_p===0&&yc!==null){iu!==null&&(iu.status="fulfilled");var i=yc;yc=null,nu=0,iu=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function yI(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var S0=st.S;st.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&gI(i,r),S0!==null&&S0(i,r)};var fl=lt(null);function vp(){var i=fl.current;return i!==null?i:Ne.pooledCache}function xf(i,r){r===null?vt(fl,fl.current):vt(fl,r.pool)}function A0(){var i=vp();return i===null?null:{parent:pn._currentValue,pool:i}}var _c=Error(s(460)),R0=Error(s(474)),Sf=Error(s(542)),Tp={then:function(){}};function C0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Af(){}function I0(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Af,Af),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,M0(i),i;default:if(typeof r.status=="string")r.then(Af,Af);else{if(i=Ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,M0(i),i}throw vc=r,_c}}var vc=null;function P0(){if(vc===null)throw Error(s(459));var i=vc;return vc=null,i}function M0(i){if(i===_c||i===Sf)throw Error(s(483))}var Ha=!1;function bp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ga(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ve&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=ir(i),al(i,null,l),r}return rl(i,h,r,l),ir(i)}function Tc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}function wp(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=r:v=v.next=r}else g=v=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var xp=!1;function bc(){if(xp){var i=iu;if(i!==null)throw i}}function Ec(i,r,l,h){xp=!1;var g=i.updateQueue;Ha=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var H=M,et=H.next;H.next=null,C===null?v=et:C.next=et,C=H;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,M=ut.lastBaseUpdate,M!==C&&(M===null?ut.firstBaseUpdate=et:M.next=et,ut.lastBaseUpdate=H))}if(v!==null){var pt=g.baseState;C=0,ut=et=H=null,M=v;do{var nt=M.lane&-536870913,rt=nt!==M.lane;if(rt?(ce&nt)===nt:(h&nt)===nt){nt!==0&&nt===nu&&(xp=!0),ut!==null&&(ut=ut.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Ht=i,jt=M;nt=r;var Ae=l;switch(jt.tag){case 1:if(Ht=jt.payload,typeof Ht=="function"){pt=Ht.call(Ae,pt,nt);break t}pt=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=jt.payload,nt=typeof Ht=="function"?Ht.call(Ae,pt,nt):Ht,nt==null)break t;pt=E({},pt,nt);break t;case 2:Ha=!0}}nt=M.callback,nt!==null&&(i.flags|=64,rt&&(i.flags|=8192),rt=g.callbacks,rt===null?g.callbacks=[nt]:rt.push(nt))}else rt={lane:nt,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ut===null?(et=ut=rt,H=pt):ut=ut.next=rt,C|=nt;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;rt=M,M=rt.next,rt.next=null,g.lastBaseUpdate=rt,g.shared.pending=null}}while(!0);ut===null&&(H=pt),g.baseState=H,g.firstBaseUpdate=et,g.lastBaseUpdate=ut,v===null&&(g.shared.lanes=0),Ja|=C,i.lanes=C,i.memoizedState=pt}}function L0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function D0(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)L0(l[i],r)}var su=lt(null),Rf=lt(0);function N0(i,r){i=Qr,vt(Rf,i),vt(su,r),Qr=i|r.baseLanes}function Sp(){vt(Rf,Qr),vt(su,su.current)}function Ap(){Qr=Rf.current,bt(su),bt(Rf)}var Wa=0,Qt=null,xe=null,on=null,Cf=!1,ru=!1,dl=!1,If=0,wc=0,au=null,_I=0;function tn(){throw Error(s(321))}function Rp(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!ti(i[l],r[l]))return!1;return!0}function Cp(i,r,l,h,g,v){return Wa=v,Qt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,st.H=i===null||i.memoizedState===null?yT:_T,dl=!1,v=l(h,g),dl=!1,ru&&(v=k0(r,l,h,g)),O0(i),v}function O0(i){st.H=Of;var r=xe!==null&&xe.next!==null;if(Wa=0,on=xe=Qt=null,Cf=!1,wc=0,au=null,r)throw Error(s(300));i===null||xn||(i=i.dependencies,i!==null&&Ef(i)&&(xn=!0))}function k0(i,r,l,h){Qt=i;var g=0;do{if(ru&&(au=null),wc=0,ru=!1,25<=g)throw Error(s(301));if(g+=1,on=xe=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}st.H=SI,v=r(l,h)}while(ru);return v}function vI(){var i=st.H,r=i.useState()[0];return r=typeof r.then=="function"?xc(r):r,i=i.useState()[0],(xe!==null?xe.memoizedState:null)!==i&&(Qt.flags|=1024),r}function Ip(){var i=If!==0;return If=0,i}function Pp(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Mp(i){if(Cf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Cf=!1}Wa=0,on=xe=Qt=null,ru=!1,wc=If=0,au=null}function hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Qt.memoizedState=on=i:on=on.next=i,on}function ln(){if(xe===null){var i=Qt.alternate;i=i!==null?i.memoizedState:null}else i=xe.next;var r=on===null?Qt.memoizedState:on.next;if(r!==null)on=r,xe=i;else{if(i===null)throw Qt.alternate===null?Error(s(467)):Error(s(310));xe=i,i={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},on===null?Qt.memoizedState=on=i:on=on.next=i}return on}function Lp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(i){var r=wc;return wc+=1,au===null&&(au=[]),i=I0(au,i,r),r=Qt,(on===null?r.memoizedState:on.next)===null&&(r=r.alternate,st.H=r===null||r.memoizedState===null?yT:_T),i}function Pf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xc(i);if(i.$$typeof===$)return Gn(i)}throw Error(s(438,String(i)))}function Dp(i){var r=null,l=Qt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Qt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Lp(),Qt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=B;return r.index++,l}function Wr(i,r){return typeof r=="function"?r(i):r}function Mf(i){var r=ln();return Np(r,xe,i)}function Np(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}r.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var M=C=null,H=null,et=r,ut=!1;do{var pt=et.lane&-536870913;if(pt!==et.lane?(ce&pt)===pt:(Wa&pt)===pt){var nt=et.revertLane;if(nt===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),pt===nu&&(ut=!0);else if((Wa&nt)===nt){et=et.next,nt===nu&&(ut=!0);continue}else pt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},H===null?(M=H=pt,C=v):H=H.next=pt,Qt.lanes|=nt,Ja|=nt;pt=et.action,dl&&l(v,pt),v=et.hasEagerState?et.eagerState:l(v,pt)}else nt={lane:pt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},H===null?(M=H=nt,C=v):H=H.next=nt,Qt.lanes|=pt,Ja|=pt;et=et.next}while(et!==null&&et!==r);if(H===null?C=v:H.next=M,!ti(v,i.memoizedState)&&(xn=!0,ut&&(l=iu,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=H,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Op(i){var r=ln(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,v=r.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);ti(v,r.memoizedState)||(xn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,h]}function V0(i,r,l){var h=Qt,g=ln(),v=Gt;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var C=!ti((xe||g).memoizedState,l);C&&(g.memoizedState=l,xn=!0),g=g.queue;var M=U0.bind(null,h,g,i);if(Sc(2048,8,M,[i]),g.getSnapshot!==r||C||on!==null&&on.memoizedState.tag&1){if(h.flags|=2048,ou(9,Lf(),z0.bind(null,h,g,l,r),null),Ne===null)throw Error(s(349));v||(Wa&124)!==0||j0(h,r,l)}return l}function j0(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Qt.updateQueue,r===null?(r=Lp(),Qt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function z0(i,r,l,h){r.value=l,r.getSnapshot=h,B0(r)&&F0(i)}function U0(i,r,l){return l(function(){B0(r)&&F0(i)})}function B0(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!ti(i,l)}catch{return!0}}function F0(i){var r=za(i,2);r!==null&&Hi(r,i,2)}function kp(i){var r=hi();if(typeof i=="function"){var l=i;if(i=l(),dl){zn(!0);try{l()}finally{zn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:i},r}function H0(i,r,l,h){return i.baseState=l,Np(i,xe,typeof h=="function"?h:Wr)}function TI(i,r,l,h,g){if(Nf(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};st.T!==null?l(!0):v.isTransition=!1,h(v),l=r.pending,l===null?(v.next=r.pending=v,q0(r,v)):(v.next=l.next,r.pending=l.next=v)}}function q0(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var v=st.T,C={};st.T=C;try{var M=l(g,h),H=st.S;H!==null&&H(C,M),G0(i,r,M)}catch(et){Vp(i,r,et)}finally{st.T=v}}else try{v=l(g,h),G0(i,r,v)}catch(et){Vp(i,r,et)}}function G0(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){W0(i,r,h)},function(h){return Vp(i,r,h)}):W0(i,r,l)}function W0(i,r,l){r.status="fulfilled",r.value=l,Z0(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,q0(i,l)))}function Vp(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,Z0(r),r=r.next;while(r!==h)}i.action=null}function Z0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Y0(i,r){return r}function K0(i,r){if(Gt){var l=Ne.formState;if(l!==null){t:{var h=Qt;if(Gt){if(Lt){e:{for(var g=Lt,v=Fe;g.nodeType!==8;){if(!v){g=null;break e}if(g=Vs(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Lt=Vs(g.nextSibling),h=g.data==="F!";break t}}ci(h)}h=!1}h&&(r=l[0])}}return l=hi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:r},l.queue=h,l=mT.bind(null,Qt,h),h.dispatch=l,h=kp(!1),v=Fp.bind(null,Qt,!1,h.queue),h=hi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=TI.bind(null,Qt,g,v,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function $0(i){var r=ln();return X0(r,xe,i)}function X0(i,r,l){if(r=Np(i,r,Y0)[0],i=Mf(Wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=xc(r)}catch(C){throw C===_c?Sf:C}else h=r;r=ln();var g=r.queue,v=g.dispatch;return l!==r.memoizedState&&(Qt.flags|=2048,ou(9,Lf(),bI.bind(null,g,l),null)),[h,v,i]}function bI(i,r){i.action=r}function Q0(i){var r=ln(),l=xe;if(l!==null)return X0(r,l,i);ln(),r=r.memoizedState,l=ln();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function ou(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Qt.updateQueue,r===null&&(r=Lp(),Qt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Lf(){return{destroy:void 0,resource:void 0}}function J0(){return ln().memoizedState}function Df(i,r,l,h){var g=hi();h=h===void 0?null:h,Qt.flags|=i,g.memoizedState=ou(1|r,Lf(),l,h)}function Sc(i,r,l,h){var g=ln();h=h===void 0?null:h;var v=g.memoizedState.inst;xe!==null&&h!==null&&Rp(h,xe.memoizedState.deps)?g.memoizedState=ou(r,v,l,h):(Qt.flags|=i,g.memoizedState=ou(1|r,v,l,h))}function tT(i,r){Df(8390656,8,i,r)}function eT(i,r){Sc(2048,8,i,r)}function nT(i,r){return Sc(4,2,i,r)}function iT(i,r){return Sc(4,4,i,r)}function sT(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function rT(i,r,l){l=l!=null?l.concat([i]):null,Sc(4,4,sT.bind(null,r,i),l)}function jp(){}function aT(i,r){var l=ln();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Rp(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function oT(i,r){var l=ln();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Rp(r,h[1]))return h[0];if(h=i(),dl){zn(!0);try{i()}finally{zn(!1)}}return l.memoizedState=[h,r],h}function zp(i,r,l){return l===void 0||(Wa&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=cb(),Qt.lanes|=i,Ja|=i,l)}function lT(i,r,l,h){return ti(l,r)?l:su.current!==null?(i=zp(i,l,h),ti(i,r)||(xn=!0),i):(Wa&42)===0?(xn=!0,i.memoizedState=l):(i=cb(),Qt.lanes|=i,Ja|=i,r)}function uT(i,r,l,h,g){var v=ft.p;ft.p=v!==0&&8>v?v:8;var C=st.T,M={};st.T=M,Fp(i,!1,r,l);try{var H=g(),et=st.S;if(et!==null&&et(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ut=yI(H,h);Ac(i,r,ut,Fi(i))}else Ac(i,r,h,Fi(i))}catch(pt){Ac(i,r,{then:function(){},status:"rejected",reason:pt},Fi())}finally{ft.p=v,st.T=C}}function EI(){}function Up(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=cT(i).queue;uT(i,g,r,mt,l===null?EI:function(){return hT(i),l(h)})}function cT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:mt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function hT(i){var r=cT(i).next.queue;Ac(i,r,{},Fi())}function Bp(){return Gn(qc)}function fT(){return ln().memoizedState}function dT(){return ln().memoizedState}function wI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Fi();i=qa(l);var h=Ga(r,i,l);h!==null&&(Hi(h,r,l),Tc(h,r,l)),r={cache:yp()},i.payload=r;return}r=r.return}}function xI(i,r,l){var h=Fi();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Nf(i)?pT(r,l):(l=Hr(i,r,l,h),l!==null&&(Hi(l,i,h),gT(l,r,h)))}function mT(i,r,l){var h=Fi();Ac(i,r,l,h)}function Ac(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nf(i))pT(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,M=v(C,l);if(g.hasEagerState=!0,g.eagerState=M,ti(M,C))return rl(i,r,g,0),Ne===null&&sl(),!1}catch{}finally{}if(l=Hr(i,r,g,h),l!==null)return Hi(l,i,h),gT(l,r,h),!0}return!1}function Fp(i,r,l,h){if(h={lane:2,revertLane:Tg(),action:h,hasEagerState:!1,eagerState:null,next:null},Nf(i)){if(r)throw Error(s(479))}else r=Hr(i,l,h,2),r!==null&&Hi(r,i,2)}function Nf(i){var r=i.alternate;return i===Qt||r!==null&&r===Qt}function pT(i,r){ru=Cf=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function gT(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}var Of={readContext:Gn,use:Pf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},yT={readContext:Gn,use:Pf,useCallback:function(i,r){return hi().memoizedState=[i,r===void 0?null:r],i},useContext:Gn,useEffect:tT,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Df(4194308,4,sT.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Df(4194308,4,i,r)},useInsertionEffect:function(i,r){Df(4,2,i,r)},useMemo:function(i,r){var l=hi();r=r===void 0?null:r;var h=i();if(dl){zn(!0);try{i()}finally{zn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=hi();if(l!==void 0){var g=l(r);if(dl){zn(!0);try{l(r)}finally{zn(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=xI.bind(null,Qt,i),[h.memoizedState,i]},useRef:function(i){var r=hi();return i={current:i},r.memoizedState=i},useState:function(i){i=kp(i);var r=i.queue,l=mT.bind(null,Qt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:jp,useDeferredValue:function(i,r){var l=hi();return zp(l,i,r)},useTransition:function(){var i=kp(!1);return i=uT.bind(null,Qt,i.queue,!0,!1),hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Qt,g=hi();if(Gt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ne===null)throw Error(s(349));(ce&124)!==0||j0(h,r,l)}g.memoizedState=l;var v={value:l,getSnapshot:r};return g.queue=v,tT(U0.bind(null,h,v,i),[i]),h.flags|=2048,ou(9,Lf(),z0.bind(null,h,v,l,r),null),l},useId:function(){var i=hi(),r=Ne.identifierPrefix;if(Gt){var l=F,h=I;l=(h&~(1<<32-_n(h)-1)).toString(32)+l,r="«"+r+"R"+l,l=If++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=_I++,r="«"+r+"r"+l.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Bp,useFormState:K0,useActionState:K0,useOptimistic:function(i){var r=hi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Fp.bind(null,Qt,!0,l),l.dispatch=r,[i,r]},useMemoCache:Dp,useCacheRefresh:function(){return hi().memoizedState=wI.bind(null,Qt)}},_T={readContext:Gn,use:Pf,useCallback:aT,useContext:Gn,useEffect:eT,useImperativeHandle:rT,useInsertionEffect:nT,useLayoutEffect:iT,useMemo:oT,useReducer:Mf,useRef:J0,useState:function(){return Mf(Wr)},useDebugValue:jp,useDeferredValue:function(i,r){var l=ln();return lT(l,xe.memoizedState,i,r)},useTransition:function(){var i=Mf(Wr)[0],r=ln().memoizedState;return[typeof i=="boolean"?i:xc(i),r]},useSyncExternalStore:V0,useId:fT,useHostTransitionStatus:Bp,useFormState:$0,useActionState:$0,useOptimistic:function(i,r){var l=ln();return H0(l,xe,i,r)},useMemoCache:Dp,useCacheRefresh:dT},SI={readContext:Gn,use:Pf,useCallback:aT,useContext:Gn,useEffect:eT,useImperativeHandle:rT,useInsertionEffect:nT,useLayoutEffect:iT,useMemo:oT,useReducer:Op,useRef:J0,useState:function(){return Op(Wr)},useDebugValue:jp,useDeferredValue:function(i,r){var l=ln();return xe===null?zp(l,i,r):lT(l,xe.memoizedState,i,r)},useTransition:function(){var i=Op(Wr)[0],r=ln().memoizedState;return[typeof i=="boolean"?i:xc(i),r]},useSyncExternalStore:V0,useId:fT,useHostTransitionStatus:Bp,useFormState:Q0,useActionState:Q0,useOptimistic:function(i,r){var l=ln();return xe!==null?H0(l,xe,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Dp,useCacheRefresh:dT},lu=null,Rc=0;function kf(i){var r=Rc;return Rc+=1,lu===null&&(lu=[]),I0(lu,i,r)}function Cc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Vf(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function vT(i){var r=i._init;return r(i._payload)}function TT(i){function r(X,K){if(i){var tt=X.deletions;tt===null?(X.deletions=[K],X.flags|=16):tt.push(K)}}function l(X,K){if(!i)return null;for(;K!==null;)r(X,K),K=K.sibling;return null}function h(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=as(X,K),X.index=0,X.sibling=null,X}function v(X,K,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<K?(X.flags|=67108866,K):tt):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function C(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function M(X,K,tt,dt){return K===null||K.tag!==6?(K=pc(tt,X.mode,dt),K.return=X,K):(K=g(K,tt),K.return=X,K)}function H(X,K,tt,dt){var Mt=tt.type;return Mt===D?ut(X,K,tt.props.children,dt,tt.key):K!==null&&(K.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===P&&vT(Mt)===K.type)?(K=g(K,tt.props),Cc(K,tt),K.return=X,K):(K=ol(tt.type,tt.key,tt.props,null,X.mode,dt),Cc(K,tt),K.return=X,K)}function et(X,K,tt,dt){return K===null||K.tag!==4||K.stateNode.containerInfo!==tt.containerInfo||K.stateNode.implementation!==tt.implementation?(K=tu(tt,X.mode,dt),K.return=X,K):(K=g(K,tt.children||[]),K.return=X,K)}function ut(X,K,tt,dt,Mt){return K===null||K.tag!==7?(K=sr(tt,X.mode,dt,Mt),K.return=X,K):(K=g(K,tt),K.return=X,K)}function pt(X,K,tt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=pc(""+K,X.mode,tt),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return tt=ol(K.type,K.key,K.props,null,X.mode,tt),Cc(tt,K),tt.return=X,tt;case N:return K=tu(K,X.mode,tt),K.return=X,K;case P:var dt=K._init;return K=dt(K._payload),pt(X,K,tt)}if(Vt(K)||Y(K))return K=sr(K,X.mode,tt,null),K.return=X,K;if(typeof K.then=="function")return pt(X,kf(K),tt);if(K.$$typeof===$)return pt(X,wf(X,K),tt);Vf(X,K)}return null}function nt(X,K,tt,dt){var Mt=K!==null?K.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Mt!==null?null:M(X,K,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return tt.key===Mt?H(X,K,tt,dt):null;case N:return tt.key===Mt?et(X,K,tt,dt):null;case P:return Mt=tt._init,tt=Mt(tt._payload),nt(X,K,tt,dt)}if(Vt(tt)||Y(tt))return Mt!==null?null:ut(X,K,tt,dt,null);if(typeof tt.then=="function")return nt(X,K,kf(tt),dt);if(tt.$$typeof===$)return nt(X,K,wf(X,tt),dt);Vf(X,tt)}return null}function rt(X,K,tt,dt,Mt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return X=X.get(tt)||null,M(K,X,""+dt,Mt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case x:return X=X.get(dt.key===null?tt:dt.key)||null,H(K,X,dt,Mt);case N:return X=X.get(dt.key===null?tt:dt.key)||null,et(K,X,dt,Mt);case P:var te=dt._init;return dt=te(dt._payload),rt(X,K,tt,dt,Mt)}if(Vt(dt)||Y(dt))return X=X.get(tt)||null,ut(K,X,dt,Mt,null);if(typeof dt.then=="function")return rt(X,K,tt,kf(dt),Mt);if(dt.$$typeof===$)return rt(X,K,tt,wf(K,dt),Mt);Vf(K,dt)}return null}function Ht(X,K,tt,dt){for(var Mt=null,te=null,Nt=K,zt=K=0,An=null;Nt!==null&&zt<tt.length;zt++){Nt.index>zt?(An=Nt,Nt=null):An=Nt.sibling;var me=nt(X,Nt,tt[zt],dt);if(me===null){Nt===null&&(Nt=An);break}i&&Nt&&me.alternate===null&&r(X,Nt),K=v(me,K,zt),te===null?Mt=me:te.sibling=me,te=me,Nt=An}if(zt===tt.length)return l(X,Nt),Gt&&J(X,zt),Mt;if(Nt===null){for(;zt<tt.length;zt++)Nt=pt(X,tt[zt],dt),Nt!==null&&(K=v(Nt,K,zt),te===null?Mt=Nt:te.sibling=Nt,te=Nt);return Gt&&J(X,zt),Mt}for(Nt=h(Nt);zt<tt.length;zt++)An=rt(Nt,X,zt,tt[zt],dt),An!==null&&(i&&An.alternate!==null&&Nt.delete(An.key===null?zt:An.key),K=v(An,K,zt),te===null?Mt=An:te.sibling=An,te=An);return i&&Nt.forEach(function(lo){return r(X,lo)}),Gt&&J(X,zt),Mt}function jt(X,K,tt,dt){if(tt==null)throw Error(s(151));for(var Mt=null,te=null,Nt=K,zt=K=0,An=null,me=tt.next();Nt!==null&&!me.done;zt++,me=tt.next()){Nt.index>zt?(An=Nt,Nt=null):An=Nt.sibling;var lo=nt(X,Nt,me.value,dt);if(lo===null){Nt===null&&(Nt=An);break}i&&Nt&&lo.alternate===null&&r(X,Nt),K=v(lo,K,zt),te===null?Mt=lo:te.sibling=lo,te=lo,Nt=An}if(me.done)return l(X,Nt),Gt&&J(X,zt),Mt;if(Nt===null){for(;!me.done;zt++,me=tt.next())me=pt(X,me.value,dt),me!==null&&(K=v(me,K,zt),te===null?Mt=me:te.sibling=me,te=me);return Gt&&J(X,zt),Mt}for(Nt=h(Nt);!me.done;zt++,me=tt.next())me=rt(Nt,X,zt,me.value,dt),me!==null&&(i&&me.alternate!==null&&Nt.delete(me.key===null?zt:me.key),K=v(me,K,zt),te===null?Mt=me:te.sibling=me,te=me);return i&&Nt.forEach(function(AP){return r(X,AP)}),Gt&&J(X,zt),Mt}function Ae(X,K,tt,dt){if(typeof tt=="object"&&tt!==null&&tt.type===D&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:t:{for(var Mt=tt.key;K!==null;){if(K.key===Mt){if(Mt=tt.type,Mt===D){if(K.tag===7){l(X,K.sibling),dt=g(K,tt.props.children),dt.return=X,X=dt;break t}}else if(K.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===P&&vT(Mt)===K.type){l(X,K.sibling),dt=g(K,tt.props),Cc(dt,tt),dt.return=X,X=dt;break t}l(X,K);break}else r(X,K);K=K.sibling}tt.type===D?(dt=sr(tt.props.children,X.mode,dt,tt.key),dt.return=X,X=dt):(dt=ol(tt.type,tt.key,tt.props,null,X.mode,dt),Cc(dt,tt),dt.return=X,X=dt)}return C(X);case N:t:{for(Mt=tt.key;K!==null;){if(K.key===Mt)if(K.tag===4&&K.stateNode.containerInfo===tt.containerInfo&&K.stateNode.implementation===tt.implementation){l(X,K.sibling),dt=g(K,tt.children||[]),dt.return=X,X=dt;break t}else{l(X,K);break}else r(X,K);K=K.sibling}dt=tu(tt,X.mode,dt),dt.return=X,X=dt}return C(X);case P:return Mt=tt._init,tt=Mt(tt._payload),Ae(X,K,tt,dt)}if(Vt(tt))return Ht(X,K,tt,dt);if(Y(tt)){if(Mt=Y(tt),typeof Mt!="function")throw Error(s(150));return tt=Mt.call(tt),jt(X,K,tt,dt)}if(typeof tt.then=="function")return Ae(X,K,kf(tt),dt);if(tt.$$typeof===$)return Ae(X,K,wf(X,tt),dt);Vf(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,K!==null&&K.tag===6?(l(X,K.sibling),dt=g(K,tt),dt.return=X,X=dt):(l(X,K),dt=pc(tt,X.mode,dt),dt.return=X,X=dt),C(X)):l(X,K)}return function(X,K,tt,dt){try{Rc=0;var Mt=Ae(X,K,tt,dt);return lu=null,Mt}catch(Nt){if(Nt===_c||Nt===Sf)throw Nt;var te=si(29,Nt,null,X.mode);return te.lanes=dt,te.return=X,te}finally{}}}var uu=TT(!0),bT=TT(!1),ls=lt(null),ar=null;function Za(i){var r=i.alternate;vt(gn,gn.current&1),vt(ls,i),ar===null&&(r===null||su.current!==null||r.memoizedState!==null)&&(ar=i)}function ET(i){if(i.tag===22){if(vt(gn,gn.current),vt(ls,i),ar===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(ar=i)}}else Ya()}function Ya(){vt(gn,gn.current),vt(ls,ls.current)}function Zr(i){bt(ls),ar===i&&(ar=null),bt(gn)}var gn=lt(0);function jf(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Lg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hp(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var qp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Fi(),g=qa(h);g.payload=r,l!=null&&(g.callback=l),r=Ga(i,g,h),r!==null&&(Hi(r,i,h),Tc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Fi(),g=qa(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Ga(i,g,h),r!==null&&(Hi(r,i,h),Tc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Fi(),h=qa(l);h.tag=2,r!=null&&(h.callback=r),r=Ga(i,h,l),r!==null&&(Hi(r,i,l),Tc(r,i,l))}};function wT(i,r,l,h,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):r.prototype&&r.prototype.isPureReactComponent?!ei(l,h)||!ei(g,v):!0}function xT(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&qp.enqueueReplaceState(r,r.state,null)}function ml(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var zf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ST(i){zf(i)}function AT(i){console.error(i)}function RT(i){zf(i)}function Uf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function CT(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Gp(i,r,l){return l=qa(l),l.tag=3,l.payload={element:null},l.callback=function(){Uf(i,r)},l}function IT(i){return i=qa(i),i.tag=3,i}function PT(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){CT(r,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){CT(r,l,h),typeof g!="function"&&(to===null?to=new Set([this]):to.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function AI(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&cl(r,l,g,!0),l=ls.current,l!==null){switch(l.tag){case 13:return ar===null?pg():l.alternate===null&&Ye===0&&(Ye=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Tp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),yg(i,h,g)),!1;case 22:return l.flags|=65536,h===Tp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),yg(i,h,g)),!1}throw Error(s(435,l.tag))}return yg(i,h,g),pg(),!1}if(Gt)return r=ls.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==wn&&(i=Error(s(422),{cause:h}),Fa(ni(i,l)))):(h!==wn&&(r=Error(s(423),{cause:h}),Fa(ni(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=ni(h,l),g=Gp(i.stateNode,h,g),wp(i,g),Ye!==4&&(Ye=2)),!1;var v=Error(s(520),{cause:h});if(v=ni(v,l),Oc===null?Oc=[v]:Oc.push(v),Ye!==4&&(Ye=2),r===null)return!0;h=ni(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Gp(l.stateNode,h,i),wp(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(to===null||!to.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=IT(g),PT(g,i,l,h),wp(l,g),!1}l=l.return}while(l!==null);return!1}var MT=Error(s(461)),xn=!1;function Ln(i,r,l,h){r.child=i===null?bT(r,null,l,h):uu(r,i.child,l,h)}function LT(i,r,l,h,g){l=l.render;var v=r.ref;if("ref"in h){var C={};for(var M in h)M!=="ref"&&(C[M]=h[M])}else C=h;return hl(r),h=Cp(i,r,l,C,v,g),M=Ip(),i!==null&&!xn?(Pp(i,r,g),Yr(i,r,g)):(Gt&&M&&_t(r),r.flags|=1,Ln(i,r,h,g),r.child)}function DT(i,r,l,h,g){if(i===null){var v=l.type;return typeof v=="function"&&!Jl(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,NT(i,r,v,h,g)):(i=ol(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Jp(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:ei,l(C,h)&&i.ref===r.ref)return Yr(i,r,g)}return r.flags|=1,i=as(v,h),i.ref=r.ref,i.return=r,r.child=i}function NT(i,r,l,h,g){if(i!==null){var v=i.memoizedProps;if(ei(v,h)&&i.ref===r.ref)if(xn=!1,r.pendingProps=h=v,Jp(i,g))(i.flags&131072)!==0&&(xn=!0);else return r.lanes=i.lanes,Yr(i,r,g)}return Wp(i,r,l,h,g)}function OT(i,r,l){var h=r.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|l:l,i!==null){for(g=r.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return kT(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&xf(r,v!==null?v.cachePool:null),v!==null?N0(r,v):Sp(),ET(r);else return r.lanes=r.childLanes=536870912,kT(i,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(xf(r,v.cachePool),N0(r,v),Ya(),r.memoizedState=null):(i!==null&&xf(r,null),Sp(),Ya());return Ln(i,r,g,l),r.child}function kT(i,r,l,h){var g=vp();return g=g===null?null:{parent:pn._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&xf(r,null),Sp(),ET(r),i!==null&&cl(i,r,h,!0),null}function Bf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Wp(i,r,l,h,g){return hl(r),l=Cp(i,r,l,h,void 0,g),h=Ip(),i!==null&&!xn?(Pp(i,r,g),Yr(i,r,g)):(Gt&&h&&_t(r),r.flags|=1,Ln(i,r,l,g),r.child)}function VT(i,r,l,h,g,v){return hl(r),r.updateQueue=null,l=k0(r,h,l,g),O0(i),h=Ip(),i!==null&&!xn?(Pp(i,r,v),Yr(i,r,v)):(Gt&&h&&_t(r),r.flags|=1,Ln(i,r,l,v),r.child)}function jT(i,r,l,h,g){if(hl(r),r.stateNode===null){var v=qr,C=l.contextType;typeof C=="object"&&C!==null&&(v=Gn(C)),v=new l(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=qp,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},bp(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?Gn(C):qr,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Hp(r,l,C,h),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&qp.enqueueReplaceState(v,v.state,null),Ec(r,h,v,g),bc(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){v=r.stateNode;var M=r.memoizedProps,H=ml(l,M);v.props=H;var et=v.context,ut=l.contextType;C=qr,typeof ut=="object"&&ut!==null&&(C=Gn(ut));var pt=l.getDerivedStateFromProps;ut=typeof pt=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ut||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||et!==C)&&xT(r,v,h,C),Ha=!1;var nt=r.memoizedState;v.state=nt,Ec(r,h,v,g),bc(),et=r.memoizedState,M||nt!==et||Ha?(typeof pt=="function"&&(Hp(r,l,pt,h),et=r.memoizedState),(H=Ha||wT(r,l,H,h,nt,et,C))?(ut||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=et),v.props=h,v.state=et,v.context=C,h=H):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,Ep(i,r),C=r.memoizedProps,ut=ml(l,C),v.props=ut,pt=r.pendingProps,nt=v.context,et=l.contextType,H=qr,typeof et=="object"&&et!==null&&(H=Gn(et)),M=l.getDerivedStateFromProps,(et=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==pt||nt!==H)&&xT(r,v,h,H),Ha=!1,nt=r.memoizedState,v.state=nt,Ec(r,h,v,g),bc();var rt=r.memoizedState;C!==pt||nt!==rt||Ha||i!==null&&i.dependencies!==null&&Ef(i.dependencies)?(typeof M=="function"&&(Hp(r,l,M,h),rt=r.memoizedState),(ut=Ha||wT(r,l,ut,h,nt,rt,H)||i!==null&&i.dependencies!==null&&Ef(i.dependencies))?(et||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,rt,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,rt,H)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=rt),v.props=h,v.state=rt,v.context=H,h=ut):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&nt===i.memoizedState||(r.flags|=1024),h=!1)}return v=h,Bf(i,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&h?(r.child=uu(r,i.child,null,g),r.child=uu(r,null,l,g)):Ln(i,r,l,g),r.memoizedState=v.state,i=r.child):i=Yr(i,r,g),i}function zT(i,r,l,h){return Ba(),r.flags|=256,Ln(i,r,l,h),r.child}var Zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(i){return{baseLanes:i,cachePool:A0()}}function Kp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=us),i}function UT(i,r,l){var h=r.pendingProps,g=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),C&&(g=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Gt){if(g?Za(r):Ya(),Gt){var M=Lt,H;if(H=M){t:{for(H=M,M=Fe;H.nodeType!==8;){if(!M){M=null;break t}if(H=Vs(H.nextSibling),H===null){M=null;break t}}M=H}M!==null?(r.memoizedState={dehydrated:M,treeContext:S!==null?{id:I,overflow:F}:null,retryLane:536870912,hydrationErrors:null},H=si(18,null,null,0),H.stateNode=M,H.return=r,r.child=H,Pt=r,Lt=null,H=!0):H=!1}H||ci(r)}if(M=r.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Lg(M)?r.lanes=32:r.lanes=536870912,null;Zr(r)}return M=h.children,h=h.fallback,g?(Ya(),g=r.mode,M=Ff({mode:"hidden",children:M},g),h=sr(h,g,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,g=r.child,g.memoizedState=Yp(l),g.childLanes=Kp(i,C,l),r.memoizedState=Zp,h):(Za(r),$p(r,M))}if(H=i.memoizedState,H!==null&&(M=H.dehydrated,M!==null)){if(v)r.flags&256?(Za(r),r.flags&=-257,r=Xp(i,r,l)):r.memoizedState!==null?(Ya(),r.child=i.child,r.flags|=128,r=null):(Ya(),g=h.fallback,M=r.mode,h=Ff({mode:"visible",children:h.children},M),g=sr(g,M,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,uu(r,i.child,null,l),h=r.child,h.memoizedState=Yp(l),h.childLanes=Kp(i,C,l),r.memoizedState=Zp,r=g);else if(Za(r),Lg(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var et=C.dgst;C=et,h=Error(s(419)),h.stack="",h.digest=C,Fa({value:h,source:null,stack:null}),r=Xp(i,r,l)}else if(xn||cl(i,r,l,!1),C=(l&i.childLanes)!==0,xn||C){if(C=Ne,C!==null&&(h=l&-l,h=(h&42)!==0?1:Ws(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==H.retryLane))throw H.retryLane=h,za(i,h),Hi(C,i,h),MT;M.data==="$?"||pg(),r=Xp(i,r,l)}else M.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=H.treeContext,Lt=Vs(M.nextSibling),Pt=r,Gt=!0,De=null,Fe=!1,i!==null&&(p[b++]=I,p[b++]=F,p[b++]=S,I=i.id,F=i.overflow,S=r),r=$p(r,h.children),r.flags|=4096);return r}return g?(Ya(),g=h.fallback,M=r.mode,H=i.child,et=H.sibling,h=as(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,et!==null?g=as(et,g):(g=sr(g,M,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,M=i.child.memoizedState,M===null?M=Yp(l):(H=M.cachePool,H!==null?(et=pn._currentValue,H=H.parent!==et?{parent:et,pool:et}:H):H=A0(),M={baseLanes:M.baseLanes|l,cachePool:H}),g.memoizedState=M,g.childLanes=Kp(i,C,l),r.memoizedState=Zp,h):(Za(r),l=i.child,i=l.sibling,l=as(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=l,r.memoizedState=null,l)}function $p(i,r){return r=Ff({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ff(i,r){return i=si(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Xp(i,r,l){return uu(r,i.child,null,l),i=$p(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function BT(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),ul(i.return,r,l)}function Qp(i,r,l,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function FT(i,r,l){var h=r.pendingProps,g=h.revealOrder,v=h.tail;if(Ln(i,r,h.children,l),h=gn.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&BT(i,l,r);else if(i.tag===19)BT(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(vt(gn,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&jf(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Qp(r,!1,g,l,v);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&jf(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Qp(r,!0,l,null,v);break;case"together":Qp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yr(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Ja|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(cl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=as(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=as(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Jp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ef(i)))}function RI(i,r,l){switch(r.tag){case 3:le(r,r.stateNode.containerInfo),rr(r,pn,i.memoizedState.cache),Ba();break;case 27:case 5:Gi(r);break;case 4:le(r,r.stateNode.containerInfo);break;case 10:rr(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Za(r),r.flags|=128,null):(l&r.child.childLanes)!==0?UT(i,r,l):(Za(r),i=Yr(i,r,l),i!==null?i.sibling:null);Za(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(cl(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return FT(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),vt(gn,gn.current),h)break;return null;case 22:case 23:return r.lanes=0,OT(i,r,l);case 24:rr(r,pn,i.memoizedState.cache)}return Yr(i,r,l)}function HT(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)xn=!0;else{if(!Jp(i,l)&&(r.flags&128)===0)return xn=!1,RI(i,r,l);xn=(i.flags&131072)!==0}else xn=!1,Gt&&(r.flags&1048576)!==0&&at(r,c,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")Jl(h)?(i=ml(h,i),r.tag=1,r=jT(null,r,h,i,l)):(r.tag=0,r=Wp(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===yt){r.tag=11,r=LT(null,r,h,i,l);break t}else if(g===q){r.tag=14,r=DT(null,r,h,i,l);break t}}throw r=Tt(h)||h,Error(s(306,r,""))}}return r;case 0:return Wp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=ml(h,r.pendingProps),jT(i,r,h,g,l);case 3:t:{if(le(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var v=r.memoizedState;g=v.element,Ep(i,r),Ec(r,h,null,l);var C=r.memoizedState;if(h=C.cache,rr(r,pn,h),h!==v.cache&&eu(r,[pn],l,!0),bc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=zT(i,r,h,l);break t}else if(h!==g){g=ni(Error(s(424)),r),Fa(g),r=zT(i,r,h,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=Vs(i.firstChild),Pt=r,Gt=!0,De=null,Fe=!0,l=bT(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ba(),h===g){r=Yr(i,r,l);break t}Ln(i,r,h,l)}r=r.child}return r;case 26:return Bf(i,r),i===null?(l=Zb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Gt||(l=r.type,i=r.pendingProps,h=nd(xt.current).createElement(l),h[Qe]=r,h[We]=i,Nn(h,l,i),Be(h),r.stateNode=h):r.memoizedState=Zb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Gi(r),i===null&&Gt&&(h=r.stateNode=qb(r.type,r.pendingProps,xt.current),Pt=r,Fe=!0,g=Lt,io(r.type)?(Dg=g,Lt=Vs(h.firstChild)):Lt=g),Ln(i,r,r.pendingProps.children,l),Bf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Gt&&((g=h=Lt)&&(h=eP(h,r.type,r.pendingProps,Fe),h!==null?(r.stateNode=h,Pt=r,Lt=Vs(h.firstChild),Fe=!1,g=!0):g=!1),g||ci(r)),Gi(r),g=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,Ig(g,v)?h=null:C!==null&&Ig(g,C)&&(r.flags|=32),r.memoizedState!==null&&(g=Cp(i,r,vI,null,null,l),qc._currentValue=g),Bf(i,r),Ln(i,r,h,l),r.child;case 6:return i===null&&Gt&&((i=l=Lt)&&(l=nP(l,r.pendingProps,Fe),l!==null?(r.stateNode=l,Pt=r,Lt=null,i=!0):i=!1),i||ci(r)),null;case 13:return UT(i,r,l);case 4:return le(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=uu(r,null,h,l):Ln(i,r,h,l),r.child;case 11:return LT(i,r,r.type,r.pendingProps,l);case 7:return Ln(i,r,r.pendingProps,l),r.child;case 8:return Ln(i,r,r.pendingProps.children,l),r.child;case 12:return Ln(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,rr(r,r.type,h.value),Ln(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,hl(r),g=Gn(g),h=h(g),r.flags|=1,Ln(i,r,h,l),r.child;case 14:return DT(i,r,r.type,r.pendingProps,l);case 15:return NT(i,r,r.type,r.pendingProps,l);case 19:return FT(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=Ff(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=as(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return OT(i,r,l);case 24:return hl(r),h=Gn(pn),i===null?(g=vp(),g===null&&(g=Ne,v=yp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),r.memoizedState={parent:h,cache:g},bp(r),rr(r,pn,g)):((i.lanes&l)!==0&&(Ep(i,r),Ec(r,null,null,l),bc()),g=i.memoizedState,v=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),rr(r,pn,h)):(h=v.cache,rr(r,pn,h),h!==g.cache&&eu(r,[pn],l,!0))),Ln(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Kr(i){i.flags|=4}function qT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qb(r)){if(r=ls.current,r!==null&&((ce&4194048)===ce?ar!==null:(ce&62914560)!==ce&&(ce&536870912)===0||r!==ar))throw vc=Tp,R0;i.flags|=8192}}function Hf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_a():536870912,i.lanes|=r,du|=r)}function Ic(i,r){if(!Gt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function He(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function CI(i,r,l){var h=r.pendingProps;switch(Rt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Os(pn),Ei(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ll(r)?Kr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bf())),He(r),null;case 26:return l=r.memoizedState,i===null?(Kr(r),l!==null?(He(r),qT(r,l)):(He(r),r.flags&=-16777217)):l?l!==i.memoizedState?(Kr(r),He(r),qT(r,l)):(He(r),r.flags&=-16777217):(i.memoizedProps!==h&&Kr(r),He(r),r.flags&=-16777217),null;case 27:wi(r),l=xt.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Kr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}i=At.current,ll(r)?vf(r):(i=qb(g,h,l),r.stateNode=i,Kr(r))}return He(r),null;case 5:if(wi(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Kr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}if(i=At.current,ll(r))vf(r);else{switch(g=nd(xt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[Qe]=r,i[We]=h;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Nn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Kr(r)}}return He(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Kr(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,ll(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=Pt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Qe]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Vb(i.nodeValue,l)),i||ci(r)}else i=nd(i).createTextNode(h),i[Qe]=r,r.stateNode=i}return He(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=ll(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Qe]=r}else Ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),g=!1}else g=bf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Zr(r),r):(Zr(r),null)}if(Zr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Hf(r,r.updateQueue),He(r),null;case 4:return Ei(),i===null&&xg(r.stateNode.containerInfo),He(r),null;case 10:return Os(r.type),He(r),null;case 19:if(bt(gn),g=r.memoizedState,g===null)return He(r),null;if(h=(r.flags&128)!==0,v=g.rendering,v===null)if(h)Ic(g,!1);else{if(Ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=jf(i),v!==null){for(r.flags|=128,Ic(g,!1),i=v.updateQueue,r.updateQueue=i,Hf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)mc(l,i),l=l.sibling;return vt(gn,gn.current&1|2),r.child}i=i.sibling}g.tail!==null&&jn()>Wf&&(r.flags|=128,h=!0,Ic(g,!1),r.lanes=4194304)}else{if(!h)if(i=jf(v),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Hf(r,i),Ic(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Gt)return He(r),null}else 2*jn()-g.renderingStartTime>Wf&&l!==536870912&&(r.flags|=128,h=!0,Ic(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(i=g.last,i!==null?i.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=jn(),r.sibling=null,i=gn.current,vt(gn,h?i&1|2:i&1),r):(He(r),null);case 22:case 23:return Zr(r),Ap(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),l=r.updateQueue,l!==null&&Hf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&bt(fl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Os(pn),He(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function II(i,r){switch(Rt(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Os(pn),Ei(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 13:if(Zr(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return bt(gn),null;case 4:return Ei(),null;case 10:return Os(r.type),null;case 22:case 23:return Zr(r),Ap(),i!==null&&bt(fl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Os(pn),null;case 25:return null;default:return null}}function GT(i,r){switch(Rt(r),r.tag){case 3:Os(pn),Ei();break;case 26:case 27:case 5:wi(r);break;case 4:Ei();break;case 13:Zr(r);break;case 19:bt(gn);break;case 10:Os(r.type);break;case 22:case 23:Zr(r),Ap(),i!==null&&bt(fl);break;case 24:Os(pn)}}function Pc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var v=l.create,C=l.inst;h=v(),C.destroy=h}l=l.next}while(l!==g)}}catch(M){Ce(r,r.return,M)}}function Ka(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var C=h.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,g=r;var H=l,et=M;try{et()}catch(ut){Ce(g,H,ut)}}}h=h.next}while(h!==v)}}catch(ut){Ce(r,r.return,ut)}}function WT(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{D0(r,l)}catch(h){Ce(i,i.return,h)}}}function ZT(i,r,l){l.props=ml(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Ce(i,r,h)}}function Mc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Ce(i,r,g)}}function or(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Ce(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ce(i,r,g)}else l.current=null}function YT(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Ce(i,i.return,g)}}function tg(i,r,l){try{var h=i.stateNode;$I(h,i.type,l,r),h[We]=r}catch(g){Ce(i,i.return,g)}}function KT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&io(i.type)||i.tag===4}function eg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||KT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&io(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ng(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ed));else if(h!==4&&(h===27&&io(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(ng(i,r,l),i=i.sibling;i!==null;)ng(i,r,l),i=i.sibling}function qf(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&io(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(qf(i,r,l),i=i.sibling;i!==null;)qf(i,r,l),i=i.sibling}function $T(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Nn(r,h,l),r[Qe]=i,r[We]=l}catch(v){Ce(i,i.return,v)}}var $r=!1,en=!1,ig=!1,XT=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function PI(i,r){if(i=i.containerInfo,Rg=ld,i=el(i),nl(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,M=-1,H=-1,et=0,ut=0,pt=i,nt=null;e:for(;;){for(var rt;pt!==l||g!==0&&pt.nodeType!==3||(M=C+g),pt!==v||h!==0&&pt.nodeType!==3||(H=C+h),pt.nodeType===3&&(C+=pt.nodeValue.length),(rt=pt.firstChild)!==null;)nt=pt,pt=rt;for(;;){if(pt===i)break e;if(nt===l&&++et===g&&(M=C),nt===v&&++ut===h&&(H=C),(rt=pt.nextSibling)!==null)break;pt=nt,nt=pt.parentNode}pt=rt}l=M===-1||H===-1?null:{start:M,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cg={focusedElem:i,selectionRange:l},ld=!1,Sn=r;Sn!==null;)if(r=Sn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Sn=i;else for(;Sn!==null;){switch(r=Sn,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,g=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var Ht=ml(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Ht,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(jt){Ce(l,l.return,jt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Mg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Sn=i;break}Sn=r.return}}function QT(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:$a(i,l),h&4&&Pc(5,l);break;case 1:if($a(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(C){Ce(l,l.return,C)}else{var g=ml(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Ce(l,l.return,C)}}h&64&&WT(l),h&512&&Mc(l,l.return);break;case 3:if($a(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{D0(i,r)}catch(C){Ce(l,l.return,C)}}break;case 27:r===null&&h&4&&$T(l);case 26:case 5:$a(i,l),r===null&&h&4&&YT(l),h&512&&Mc(l,l.return);break;case 12:$a(i,l);break;case 13:$a(i,l),h&4&&eb(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=zI.bind(null,l),iP(i,l))));break;case 22:if(h=l.memoizedState!==null||$r,!h){r=r!==null&&r.memoizedState!==null||en,g=$r;var v=en;$r=h,(en=r)&&!v?Xa(i,l,(l.subtreeFlags&8772)!==0):$a(i,l),$r=g,en=v}break;case 30:break;default:$a(i,l)}}function JT(i){var r=i.alternate;r!==null&&(i.alternate=null,JT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ws(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ze=null,fi=!1;function Xr(i,r,l){for(l=l.child;l!==null;)tb(i,r,l),l=l.sibling}function tb(i,r,l){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Ie,l)}catch{}switch(l.tag){case 26:en||or(l,r),Xr(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:en||or(l,r);var h=ze,g=fi;io(l.type)&&(ze=l.stateNode,fi=!1),Xr(i,r,l),Uc(l.stateNode),ze=h,fi=g;break;case 5:en||or(l,r);case 6:if(h=ze,g=fi,ze=null,Xr(i,r,l),ze=h,fi=g,ze!==null)if(fi)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(v){Ce(l,r,v)}else try{ze.removeChild(l.stateNode)}catch(v){Ce(l,r,v)}break;case 18:ze!==null&&(fi?(i=ze,Fb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Yc(i)):Fb(ze,l.stateNode));break;case 4:h=ze,g=fi,ze=l.stateNode.containerInfo,fi=!0,Xr(i,r,l),ze=h,fi=g;break;case 0:case 11:case 14:case 15:en||Ka(2,l,r),en||Ka(4,l,r),Xr(i,r,l);break;case 1:en||(or(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&ZT(l,r,h)),Xr(i,r,l);break;case 21:Xr(i,r,l);break;case 22:en=(h=en)||l.memoizedState!==null,Xr(i,r,l),en=h;break;default:Xr(i,r,l)}}function eb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yc(i)}catch(l){Ce(r,r.return,l)}}function MI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new XT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new XT),r;default:throw Error(s(435,i.tag))}}function sg(i,r){var l=MI(i);r.forEach(function(h){var g=UI.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function zi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],v=i,C=r,M=C;t:for(;M!==null;){switch(M.tag){case 27:if(io(M.type)){ze=M.stateNode,fi=!1;break t}break;case 5:ze=M.stateNode,fi=!1;break t;case 3:case 4:ze=M.stateNode.containerInfo,fi=!0;break t}M=M.return}if(ze===null)throw Error(s(160));tb(v,C,g),ze=null,fi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)nb(r,i),r=r.sibling}var ks=null;function nb(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zi(r,i),Ui(i),h&4&&(Ka(3,i,i.return),Pc(3,i),Ka(5,i,i.return));break;case 1:zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),h&64&&$r&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=ks;if(zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ys]||v[Qe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Nn(v,h,l),v[Qe]=i,Be(v),h=v;break t;case"link":var C=$b("link","href",g).get(h+(l.href||""));if(C){for(var M=0;M<C.length;M++)if(v=C[M],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(M,1);break e}}v=g.createElement(h),Nn(v,h,l),g.head.appendChild(v);break;case"meta":if(C=$b("meta","content",g).get(h+(l.content||""))){for(M=0;M<C.length;M++)if(v=C[M],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(M,1);break e}}v=g.createElement(h),Nn(v,h,l),g.head.appendChild(v);break;default:throw Error(s(468,h))}v[Qe]=i,Be(v),h=v}i.stateNode=h}else Xb(g,i.type,i.stateNode);else i.stateNode=Kb(g,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?Xb(g,i.type,i.stateNode):Kb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&tg(i,i.memoizedProps,l.memoizedProps)}break;case 27:zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),l!==null&&h&4&&tg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(zi(r,i),Ui(i),h&512&&(en||l===null||or(l,l.return)),i.flags&32){g=i.stateNode;try{Tn(g,"")}catch(rt){Ce(i,i.return,rt)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,tg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(ig=!0);break;case 6:if(zi(r,i),Ui(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(rt){Ce(i,i.return,rt)}}break;case 3:if(rd=null,g=ks,ks=id(r.containerInfo),zi(r,i),ks=g,Ui(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Yc(r.containerInfo)}catch(rt){Ce(i,i.return,rt)}ig&&(ig=!1,ib(i));break;case 4:h=ks,ks=id(i.stateNode.containerInfo),zi(r,i),Ui(i),ks=h;break;case 12:zi(r,i),Ui(i);break;case 13:zi(r,i),Ui(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cg=jn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,sg(i,h)));break;case 22:g=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,et=$r,ut=en;if($r=et||g,en=ut||H,zi(r,i),en=ut,$r=et,Ui(i),h&8192)t:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||H||$r||en||pl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){H=l=r;try{if(v=H.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=H.stateNode;var pt=H.memoizedProps.style,nt=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;M.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(rt){Ce(H,H.return,rt)}}}else if(r.tag===6){if(l===null){H=r;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(rt){Ce(H,H.return,rt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,sg(i,l))));break;case 19:zi(r,i),Ui(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,sg(i,h)));break;case 30:break;case 21:break;default:zi(r,i),Ui(i)}}function Ui(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(KT(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,v=eg(i);qf(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(Tn(C,""),l.flags&=-33);var M=eg(i);qf(i,M,C);break;case 3:case 4:var H=l.stateNode.containerInfo,et=eg(i);ng(i,et,H);break;default:throw Error(s(161))}}catch(ut){Ce(i,i.return,ut)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function ib(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;ib(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function $a(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)QT(i,r.alternate,r),r=r.sibling}function pl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ka(4,r,r.return),pl(r);break;case 1:or(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&ZT(r,r.return,l),pl(r);break;case 27:Uc(r.stateNode);case 26:case 5:or(r,r.return),pl(r);break;case 22:r.memoizedState===null&&pl(r);break;case 30:pl(r);break;default:pl(r)}i=i.sibling}}function Xa(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(g,v,l),Pc(4,v);break;case 1:if(Xa(g,v,l),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(et){Ce(h,h.return,et)}if(h=v,g=h.updateQueue,g!==null){var M=h.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)L0(H[g],M)}catch(et){Ce(h,h.return,et)}}l&&C&64&&WT(v),Mc(v,v.return);break;case 27:$T(v);case 26:case 5:Xa(g,v,l),l&&h===null&&C&4&&YT(v),Mc(v,v.return);break;case 12:Xa(g,v,l);break;case 13:Xa(g,v,l),l&&C&4&&eb(g,v);break;case 22:v.memoizedState===null&&Xa(g,v,l),Mc(v,v.return);break;case 30:break;default:Xa(g,v,l)}r=r.sibling}}function rg(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&gc(l))}function ag(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&gc(i))}function lr(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sb(i,r,l,h),r=r.sibling}function sb(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:lr(i,r,l,h),g&2048&&Pc(9,r);break;case 1:lr(i,r,l,h);break;case 3:lr(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&gc(i)));break;case 12:if(g&2048){lr(i,r,l,h),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,M=v.onPostCommit;typeof M=="function"&&M(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Ce(r,r.return,H)}}else lr(i,r,l,h);break;case 13:lr(i,r,l,h);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?lr(i,r,l,h):Lc(i,r):v._visibility&2?lr(i,r,l,h):(v._visibility|=2,cu(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&rg(C,r);break;case 24:lr(i,r,l,h),g&2048&&ag(r.alternate,r);break;default:lr(i,r,l,h)}}function cu(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,C=r,M=l,H=h,et=C.flags;switch(C.tag){case 0:case 11:case 15:cu(v,C,M,H,g),Pc(8,C);break;case 23:break;case 22:var ut=C.stateNode;C.memoizedState!==null?ut._visibility&2?cu(v,C,M,H,g):Lc(v,C):(ut._visibility|=2,cu(v,C,M,H,g)),g&&et&2048&&rg(C.alternate,C);break;case 24:cu(v,C,M,H,g),g&&et&2048&&ag(C.alternate,C);break;default:cu(v,C,M,H,g)}r=r.sibling}}function Lc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:Lc(l,h),g&2048&&rg(h.alternate,h);break;case 24:Lc(l,h),g&2048&&ag(h.alternate,h);break;default:Lc(l,h)}r=r.sibling}}var Dc=8192;function hu(i){if(i.subtreeFlags&Dc)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 26:hu(i),i.flags&Dc&&i.memoizedState!==null&&gP(ks,i.memoizedState,i.memoizedProps);break;case 5:hu(i);break;case 3:case 4:var r=ks;ks=id(i.stateNode.containerInfo),hu(i),ks=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Dc,Dc=16777216,hu(i),Dc=r):hu(i));break;default:hu(i)}}function ab(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Nc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Sn=h,lb(h,i)}ab(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ob(i),i=i.sibling}function ob(i){switch(i.tag){case 0:case 11:case 15:Nc(i),i.flags&2048&&Ka(9,i,i.return);break;case 3:Nc(i);break;case 12:Nc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Gf(i)):Nc(i);break;default:Nc(i)}}function Gf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Sn=h,lb(h,i)}ab(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ka(8,r,r.return),Gf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Gf(r));break;default:Gf(r)}i=i.sibling}}function lb(i,r){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Ka(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:gc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Sn=h;else t:for(l=i;Sn!==null;){h=Sn;var g=h.sibling,v=h.return;if(JT(h),h===l){Sn=null;break t}if(g!==null){g.return=v,Sn=g;break t}Sn=v}}}var LI={getCacheForType:function(i){var r=Gn(pn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},DI=typeof WeakMap=="function"?WeakMap:Map,ve=0,Ne=null,ee=null,ce=0,Te=0,Bi=null,Qa=!1,fu=!1,og=!1,Qr=0,Ye=0,Ja=0,gl=0,lg=0,us=0,du=0,Oc=null,di=null,ug=!1,cg=0,Wf=1/0,Zf=null,to=null,Dn=0,eo=null,mu=null,pu=0,hg=0,fg=null,ub=null,kc=0,dg=null;function Fi(){if((ve&2)!==0&&ce!==0)return ce&-ce;if(st.T!==null){var i=nu;return i!==0?i:Tg()}return Zs()}function cb(){us===0&&(us=(ce&536870912)===0||Gt?Bo():536870912);var i=ls.current;return i!==null&&(i.flags|=32),us}function Hi(i,r,l){(i===Ne&&(Te===2||Te===9)||i.cancelPendingCommit!==null)&&(gu(i,0),no(i,ce,us,!1)),Zi(i,l),((ve&2)===0||i!==Ne)&&(i===Ne&&((ve&2)===0&&(gl|=l),Ye===4&&no(i,ce,us,!1)),ur(i))}function hb(i,r,l){if((ve&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||Si(i,r),g=h?kI(i,r):gg(i,r,!0),v=h;do{if(g===0){fu&&!h&&no(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!NI(l)){g=gg(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var M=i;g=Oc;var H=M.current.memoizedState.isDehydrated;if(H&&(gu(M,C).flags|=256),C=gg(M,C,!1),C!==2){if(og&&!H){M.errorRecoveryDisabledLanes|=v,gl|=v,g=4;break t}v=di,di=g,v!==null&&(di===null?di=v:di.push.apply(di,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){gu(i,0),no(i,r,0,!0);break}t:{switch(h=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:no(h,r,us,!Qa);break t;case 2:di=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=cg+300-jn(),10<g)){if(no(h,r,us,!Qa),ya(h,0,!0)!==0)break t;h.timeoutHandle=Ub(fb.bind(null,h,l,di,Zf,ug,r,us,gl,du,Qa,v,2,-0,0),g);break t}fb(h,l,di,Zf,ug,r,us,gl,du,Qa,v,0,-0,0)}}break}while(!0);ur(i)}function fb(i,r,l,h,g,v,C,M,H,et,ut,pt,nt,rt){if(i.timeoutHandle=-1,pt=r.subtreeFlags,(pt&8192||(pt&16785408)===16785408)&&(Hc={stylesheets:null,count:0,unsuspend:pP},rb(r),pt=yP(),pt!==null)){i.cancelPendingCommit=pt(vb.bind(null,i,r,v,l,h,g,C,M,H,ut,1,nt,rt)),no(i,v,C,!et);return}vb(i,r,v,l,h,g,C,M,H)}function NI(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!ti(v(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function no(i,r,l,h){r&=~lg,r&=~gl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var v=31-_n(g),C=1<<v;h[v]=-1,g&=~C}l!==0&&Yi(i,l,r)}function Yf(){return(ve&6)===0?(Vc(0),!1):!0}function mg(){if(ee!==null){if(Te===0)var i=ee.return;else i=ee,Ns=os=null,Mp(i),lu=null,Rc=0,i=ee;for(;i!==null;)GT(i.alternate,i),i=i.return;ee=null}}function gu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,QI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),mg(),Ne=i,ee=l=as(i.current,null),ce=r,Te=0,Bi=null,Qa=!1,fu=Si(i,r),og=!1,du=us=lg=gl=Ja=Ye=0,di=Oc=null,ug=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-_n(h),v=1<<g;r|=i[g],h&=~v}return Qr=r,sl(),l}function db(i,r){Qt=null,st.H=Of,r===_c||r===Sf?(r=P0(),Te=3):r===R0?(r=P0(),Te=4):Te=r===MT?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bi=r,ee===null&&(Ye=1,Uf(i,ni(r,i.current)))}function mb(){var i=st.H;return st.H=Of,i===null?Of:i}function pb(){var i=st.A;return st.A=LI,i}function pg(){Ye=4,Qa||(ce&4194048)!==ce&&ls.current!==null||(fu=!0),(Ja&134217727)===0&&(gl&134217727)===0||Ne===null||no(Ne,ce,us,!1)}function gg(i,r,l){var h=ve;ve|=2;var g=mb(),v=pb();(Ne!==i||ce!==r)&&(Zf=null,gu(i,r)),r=!1;var C=Ye;t:do try{if(Te!==0&&ee!==null){var M=ee,H=Bi;switch(Te){case 8:mg(),C=6;break t;case 3:case 2:case 9:case 6:ls.current===null&&(r=!0);var et=Te;if(Te=0,Bi=null,yu(i,M,H,et),l&&fu){C=0;break t}break;default:et=Te,Te=0,Bi=null,yu(i,M,H,et)}}OI(),C=Ye;break}catch(ut){db(i,ut)}while(!0);return r&&i.shellSuspendCounter++,Ns=os=null,ve=h,st.H=g,st.A=v,ee===null&&(Ne=null,ce=0,sl()),C}function OI(){for(;ee!==null;)gb(ee)}function kI(i,r){var l=ve;ve|=2;var h=mb(),g=pb();Ne!==i||ce!==r?(Zf=null,Wf=jn()+500,gu(i,r)):fu=Si(i,r);t:do try{if(Te!==0&&ee!==null){r=ee;var v=Bi;e:switch(Te){case 1:Te=0,Bi=null,yu(i,r,v,1);break;case 2:case 9:if(C0(v)){Te=0,Bi=null,yb(r);break}r=function(){Te!==2&&Te!==9||Ne!==i||(Te=7),ur(i)},v.then(r,r);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:C0(v)?(Te=0,Bi=null,yb(r)):(Te=0,Bi=null,yu(i,r,v,7));break;case 5:var C=null;switch(ee.tag){case 26:C=ee.memoizedState;case 5:case 27:var M=ee;if(!C||Qb(C)){Te=0,Bi=null;var H=M.sibling;if(H!==null)ee=H;else{var et=M.return;et!==null?(ee=et,Kf(et)):ee=null}break e}}Te=0,Bi=null,yu(i,r,v,5);break;case 6:Te=0,Bi=null,yu(i,r,v,6);break;case 8:mg(),Ye=6;break t;default:throw Error(s(462))}}VI();break}catch(ut){db(i,ut)}while(!0);return Ns=os=null,st.H=h,st.A=g,ve=l,ee!==null?0:(Ne=null,ce=0,sl(),Ye)}function VI(){for(;ee!==null&&!pa();)gb(ee)}function gb(i){var r=HT(i.alternate,i,Qr);i.memoizedProps=i.pendingProps,r===null?Kf(i):ee=r}function yb(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=VT(l,r,r.pendingProps,r.type,void 0,ce);break;case 11:r=VT(l,r,r.pendingProps,r.type.render,r.ref,ce);break;case 5:Mp(r);default:GT(l,r),r=ee=mc(r,Qr),r=HT(l,r,Qr)}i.memoizedProps=i.pendingProps,r===null?Kf(i):ee=r}function yu(i,r,l,h){Ns=os=null,Mp(r),lu=null,Rc=0;var g=r.return;try{if(AI(i,g,r,l,ce)){Ye=1,Uf(i,ni(l,i.current)),ee=null;return}}catch(v){if(g!==null)throw ee=g,v;Ye=1,Uf(i,ni(l,i.current)),ee=null;return}r.flags&32768?(Gt||h===1?i=!0:fu||(ce&536870912)!==0?i=!1:(Qa=i=!0,(h===2||h===9||h===3||h===6)&&(h=ls.current,h!==null&&h.tag===13&&(h.flags|=16384))),_b(r,i)):Kf(r)}function Kf(i){var r=i;do{if((r.flags&32768)!==0){_b(r,Qa);return}i=r.return;var l=CI(r.alternate,r,Qr);if(l!==null){ee=l;return}if(r=r.sibling,r!==null){ee=r;return}ee=r=i}while(r!==null);Ye===0&&(Ye=5)}function _b(i,r){do{var l=II(i.alternate,i);if(l!==null){l.flags&=32767,ee=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){ee=i;return}ee=i=l}while(i!==null);Ye=6,ee=null}function vb(i,r,l,h,g,v,C,M,H){i.cancelPendingCommit=null;do $f();while(Dn!==0);if((ve&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=ji,Fo(i,l,v,C,M,H),i===Ne&&(ee=Ne=null,ce=0),mu=r,eo=i,pu=l,hg=v,fg=g,ub=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BI(Ts,function(){return xb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=st.T,st.T=null,g=ft.p,ft.p=2,C=ve,ve|=4;try{PI(i,r,l)}finally{ve=C,ft.p=g,st.T=h}}Dn=1,Tb(),bb(),Eb()}}function Tb(){if(Dn===1){Dn=0;var i=eo,r=mu,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=st.T,st.T=null;var h=ft.p;ft.p=2;var g=ve;ve|=4;try{nb(r,i);var v=Cg,C=el(i.containerInfo),M=v.focusedElem,H=v.selectionRange;if(C!==M&&M&&M.ownerDocument&&Yl(M.ownerDocument.documentElement,M)){if(H!==null&&nl(M)){var et=H.start,ut=H.end;if(ut===void 0&&(ut=et),"selectionStart"in M)M.selectionStart=et,M.selectionEnd=Math.min(ut,M.value.length);else{var pt=M.ownerDocument||document,nt=pt&&pt.defaultView||window;if(nt.getSelection){var rt=nt.getSelection(),Ht=M.textContent.length,jt=Math.min(H.start,Ht),Ae=H.end===void 0?jt:Math.min(H.end,Ht);!rt.extend&&jt>Ae&&(C=Ae,Ae=jt,jt=C);var X=fc(M,jt),K=fc(M,Ae);if(X&&K&&(rt.rangeCount!==1||rt.anchorNode!==X.node||rt.anchorOffset!==X.offset||rt.focusNode!==K.node||rt.focusOffset!==K.offset)){var tt=pt.createRange();tt.setStart(X.node,X.offset),rt.removeAllRanges(),jt>Ae?(rt.addRange(tt),rt.extend(K.node,K.offset)):(tt.setEnd(K.node,K.offset),rt.addRange(tt))}}}}for(pt=[],rt=M;rt=rt.parentNode;)rt.nodeType===1&&pt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pt.length;M++){var dt=pt[M];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}ld=!!Rg,Cg=Rg=null}finally{ve=g,ft.p=h,st.T=l}}i.current=r,Dn=2}}function bb(){if(Dn===2){Dn=0;var i=eo,r=mu,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=st.T,st.T=null;var h=ft.p;ft.p=2;var g=ve;ve|=4;try{QT(i,r.alternate,r)}finally{ve=g,ft.p=h,st.T=l}}Dn=3}}function Eb(){if(Dn===4||Dn===3){Dn=0,ko();var i=eo,r=mu,l=pu,h=ub;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Dn=5:(Dn=0,mu=eo=null,wb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(to=null),va(l),r=r.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Ie,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=st.T,g=ft.p,ft.p=2,st.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var M=h[C];v(M.value,{componentStack:M.stack})}}finally{st.T=r,ft.p=g}}(pu&3)!==0&&$f(),ur(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===dg?kc++:(kc=0,dg=i):kc=0,Vc(0)}}function wb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,gc(r)))}function $f(i){return Tb(),bb(),Eb(),xb()}function xb(){if(Dn!==5)return!1;var i=eo,r=hg;hg=0;var l=va(pu),h=st.T,g=ft.p;try{ft.p=32>l?32:l,st.T=null,l=fg,fg=null;var v=eo,C=pu;if(Dn=0,mu=eo=null,pu=0,(ve&6)!==0)throw Error(s(331));var M=ve;if(ve|=4,ob(v.current),sb(v,v.current,C,l),ve=M,Vc(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Ie,v)}catch{}return!0}finally{ft.p=g,st.T=h,wb(i,r)}}function Sb(i,r,l){r=ni(l,r),r=Gp(i.stateNode,r,2),i=Ga(i,r,2),i!==null&&(Zi(i,2),ur(i))}function Ce(i,r,l){if(i.tag===3)Sb(i,i,l);else for(;r!==null;){if(r.tag===3){Sb(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(to===null||!to.has(h))){i=ni(l,i),l=IT(2),h=Ga(r,l,2),h!==null&&(PT(l,h,r,i),Zi(h,2),ur(h));break}}r=r.return}}function yg(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new DI;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(og=!0,g.add(l),i=jI.bind(null,i,r,l),r.then(i,i))}function jI(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ne===i&&(ce&l)===l&&(Ye===4||Ye===3&&(ce&62914560)===ce&&300>jn()-cg?(ve&2)===0&&gu(i,0):lg|=l,du===ce&&(du=0)),ur(i)}function Ab(i,r){r===0&&(r=_a()),i=za(i,r),i!==null&&(Zi(i,r),ur(i))}function zI(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Ab(i,l)}function UI(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),Ab(i,l)}function BI(i,r){return vs(i,r)}var Xf=null,_u=null,_g=!1,Qf=!1,vg=!1,yl=0;function ur(i){i!==_u&&i.next===null&&(_u===null?Xf=_u=i:_u=_u.next=i),Qf=!0,_g||(_g=!0,HI())}function Vc(i,r){if(!vg&&Qf){vg=!0;do for(var l=!1,h=Xf;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var C=h.suspendedLanes,M=h.pingedLanes;v=(1<<31-_n(42|i)+1)-1,v&=g&~(C&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Pb(h,v))}else v=ce,v=ya(h,h===Ne?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Si(h,v)||(l=!0,Pb(h,v));h=h.next}while(l);vg=!1}}function FI(){Rb()}function Rb(){Qf=_g=!1;var i=0;yl!==0&&(XI()&&(i=yl),yl=0);for(var r=jn(),l=null,h=Xf;h!==null;){var g=h.next,v=Cb(h,r);v===0?(h.next=null,l===null?Xf=g:l.next=g,g===null&&(_u=l)):(l=h,(i!==0||(v&3)!==0)&&(Qf=!0)),h=g}Vc(i)}function Cb(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-_n(v),M=1<<C,H=g[C];H===-1?((M&l)===0||(M&h)!==0)&&(g[C]=Uo(M,r)):H<=r&&(i.expiredLanes|=M),v&=~M}if(r=Ne,l=ce,l=ya(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Te===2||Te===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Rr(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Si(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Rr(h),va(l)){case 2:case 8:l=Cr;break;case 32:l=Ts;break;case 268435456:l=Ir;break;default:l=Ts}return h=Ib.bind(null,i),l=vs(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Rr(h),i.callbackPriority=2,i.callbackNode=null,2}function Ib(i,r){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if($f()&&i.callbackNode!==l)return null;var h=ce;return h=ya(i,i===Ne?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(hb(i,h,r),Cb(i,jn()),i.callbackNode!=null&&i.callbackNode===l?Ib.bind(null,i):null)}function Pb(i,r){if($f())return null;hb(i,r,!0)}function HI(){JI(function(){(ve&6)!==0?vs(Vo,FI):Rb()})}function Tg(){return yl===0&&(yl=Bo()),yl}function Mb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Js(""+i)}function Lb(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function qI(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var v=Mb((g[We]||null).action),C=h.submitter;C&&(r=(r=C[We]||null)?Mb(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var M=new kr("action","action",null,h,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(yl!==0){var H=C?Lb(g,C):new FormData(g);Up(l,{pending:!0,data:H,method:g.method,action:v},null,H)}}else typeof v=="function"&&(M.preventDefault(),H=C?Lb(g,C):new FormData(g),Up(l,{pending:!0,data:H,method:g.method,action:v},v,H))},currentTarget:g}]})}}for(var bg=0;bg<Br.length;bg++){var Eg=Br[bg],GI=Eg.toLowerCase(),WI=Eg[0].toUpperCase()+Eg.slice(1);Vi(GI,"on"+WI)}Vi(gf,"onAnimationEnd"),Vi(ki,"onAnimationIteration"),Vi(il,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(pp,"onTransitionRun"),Vi(Ql,"onTransitionStart"),Vi(gp,"onTransitionCancel"),Vi(dc,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function Db(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var C=h.length-1;0<=C;C--){var M=h[C],H=M.instance,et=M.currentTarget;if(M=M.listener,H!==v&&g.isPropagationStopped())break t;v=M,g.currentTarget=et;try{v(g)}catch(ut){zf(ut)}g.currentTarget=null,v=H}else for(C=0;C<h.length;C++){if(M=h[C],H=M.instance,et=M.currentTarget,M=M.listener,H!==v&&g.isPropagationStopped())break t;v=M,g.currentTarget=et;try{v(g)}catch(ut){zf(ut)}g.currentTarget=null,v=H}}}}function ne(i,r){var l=r[Un];l===void 0&&(l=r[Un]=new Set);var h=i+"__bubble";l.has(h)||(Nb(r,i,2,!1),l.add(h))}function wg(i,r,l){var h=0;r&&(h|=4),Nb(l,i,h,r)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function xg(i){if(!i[Jf]){i[Jf]=!0,Go.forEach(function(l){l!=="selectionchange"&&(ZI.has(l)||wg(l,!1,i),wg(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Jf]||(r[Jf]=!0,wg("selectionchange",!1,r))}}function Nb(i,r,l,h){switch(sE(r)){case 2:var g=TP;break;case 8:g=bP;break;default:g=jg}l=g.bind(null,r,l,i),g=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Sg(i,r,l,h,g){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var M=h.stateNode.containerInfo;if(M===g)break;if(C===4)for(C=h.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;M!==null;){if(C=Ai(M),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){h=v=C;continue t}M=M.parentNode}}h=h.return}Jn(function(){var et=v,ut=Mn(l),pt=[];t:{var nt=yf.get(i);if(nt!==void 0){var rt=kr,Ht=i;switch(i){case"keypress":if(we(l)===0)break t;case"keydown":case"keyup":rt=Pa;break;case"focusin":Ht="focus",rt=Sa;break;case"focusout":Ht="blur",rt=Sa;break;case"beforeblur":case"afterblur":rt=Sa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=ql;break;case gf:case ki:case il:rt=Ra;break;case dc:rt=Gl;break;case"scroll":case"scrollend":rt=Fl;break;case"wheel":rt=zr;break;case"copy":case"cut":case"paste":rt=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Ma;break;case"toggle":case"beforetoggle":rt=ns}var jt=(r&4)!==0,Ae=!jt&&(i==="scroll"||i==="scrollend"),X=jt?nt!==null?nt+"Capture":null:nt;jt=[];for(var K=et,tt;K!==null;){var dt=K;if(tt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||tt===null||X===null||(dt=ue(K,X),dt!=null&&jt.push(zc(K,dt,tt))),Ae)break;K=K.return}0<jt.length&&(nt=new rt(nt,Ht,null,l,ut),pt.push({event:nt,listeners:jt}))}}if((r&7)===0){t:{if(nt=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",nt&&l!==Mi&&(Ht=l.relatedTarget||l.fromElement)&&(Ai(Ht)||Ht[oi]))break t;if((rt||nt)&&(nt=ut.window===ut?ut:(nt=ut.ownerDocument)?nt.defaultView||nt.parentWindow:window,rt?(Ht=l.relatedTarget||l.toElement,rt=et,Ht=Ht?Ai(Ht):null,Ht!==null&&(Ae=u(Ht),jt=Ht.tag,Ht!==Ae||jt!==5&&jt!==27&&jt!==6)&&(Ht=null)):(rt=null,Ht=et),rt!==Ht)){if(jt=En,dt="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(jt=Ma,dt="onPointerLeave",X="onPointerEnter",K="pointer"),Ae=rt==null?nt:In(rt),tt=Ht==null?nt:In(Ht),nt=new jt(dt,K+"leave",rt,l,ut),nt.target=Ae,nt.relatedTarget=tt,dt=null,Ai(ut)===et&&(jt=new jt(X,K+"enter",Ht,l,ut),jt.target=tt,jt.relatedTarget=Ae,dt=jt),Ae=dt,rt&&Ht)e:{for(jt=rt,X=Ht,K=0,tt=jt;tt;tt=vu(tt))K++;for(tt=0,dt=X;dt;dt=vu(dt))tt++;for(;0<K-tt;)jt=vu(jt),K--;for(;0<tt-K;)X=vu(X),tt--;for(;K--;){if(jt===X||X!==null&&jt===X.alternate)break e;jt=vu(jt),X=vu(X)}jt=null}else jt=null;rt!==null&&Ob(pt,nt,rt,jt,!1),Ht!==null&&Ae!==null&&Ob(pt,Ae,Ht,jt,!0)}}t:{if(nt=et?In(et):window,rt=nt.nodeName&&nt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&nt.type==="file")var Mt=Da;else if(Le(nt))if(uc)Mt=mp;else{Mt=dp;var te=hc}else rt=nt.nodeName,!rt||rt.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?et&&Or(et.elementType)&&(Mt=Da):Mt=Ds;if(Mt&&(Mt=Mt(i,et))){Ms(pt,Mt,l,ut);break t}te&&te(i,nt,et),i==="focusout"&&et&&nt.type==="number"&&et.memoizedProps.value!=null&&Ii(nt,"number",nt.value)}switch(te=et?In(et):window,i){case"focusin":(Le(te)||te.contentEditable==="true")&&(Oi=te,ka=et,Ur=null);break;case"focusout":Ur=ka=Oi=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,mf(pt,l,ut);break;case"selectionchange":if(Kl)break;case"keydown":case"keyup":mf(pt,l,ut)}var Nt;if(qn)t:{switch(i){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else ie?ot(i,l)&&(zt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(zt="onCompositionStart");zt&&(R&&l.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(Nt=Rs()):(ui=ut,Fn="value"in ui?ui.value:ui.textContent,ie=!0)),te=td(et,zt),0<te.length&&(zt=new Hn(zt,i,null,l,ut),pt.push({event:zt,listeners:te}),Nt?zt.data=Nt:(Nt=wt(l),Nt!==null&&(zt.data=Nt)))),(Nt=w?Ze(i,l):se(i,l))&&(zt=td(et,"onBeforeInput"),0<zt.length&&(te=new Hn("onBeforeInput","beforeinput",null,l,ut),pt.push({event:te,listeners:zt}),te.data=Nt)),qI(pt,i,et,l,ut)}Db(pt,r)})}function zc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function td(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ue(i,l),g!=null&&h.unshift(zc(i,g,v)),g=ue(i,r),g!=null&&h.push(zc(i,g,v))),i.tag===3)return h;i=i.return}return[]}function vu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ob(i,r,l,h,g){for(var v=r._reactName,C=[];l!==null&&l!==h;){var M=l,H=M.alternate,et=M.stateNode;if(M=M.tag,H!==null&&H===h)break;M!==5&&M!==26&&M!==27||et===null||(H=et,g?(et=ue(l,v),et!=null&&C.unshift(zc(l,et,H))):g||(et=ue(l,v),et!=null&&C.push(zc(l,et,H)))),l=l.return}C.length!==0&&i.push({event:r,listeners:C})}var YI=/\r\n?/g,KI=/\u0000|\uFFFD/g;function kb(i){return(typeof i=="string"?i:""+i).replace(YI,`
`).replace(KI,"")}function Vb(i,r){return r=kb(r),kb(i)===r}function ed(){}function Se(i,r,l,h,g,v){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Tn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Tn(i,""+h);break;case"className":$i(i,"class",h);break;case"tabIndex":$i(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(i,l,h);break;case"style":Ss(i,h,v);break;case"data":if(r!=="object"){$i(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Js(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Se(i,r,"name",g.name,g,null),Se(i,r,"formEncType",g.formEncType,g,null),Se(i,r,"formMethod",g.formMethod,g,null),Se(i,r,"formTarget",g.formTarget,g,null)):(Se(i,r,"encType",g.encType,g,null),Se(i,r,"method",g.method,g,null),Se(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Js(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=ed);break;case"onScroll":h!=null&&ne("scroll",i);break;case"onScrollEnd":h!=null&&ne("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Js(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ne("beforetoggle",i),ne("toggle",i),Ks(i,"popover",h);break;case"xlinkActuate":dn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":dn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":dn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":dn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":dn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":dn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":dn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":dn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":dn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ks(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zo.get(l)||l,Ks(i,l,h))}}function Ag(i,r,l,h,g,v){switch(l){case"style":Ss(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Tn(i,h):(typeof h=="number"||typeof h=="bigint")&&Tn(i,""+h);break;case"onScroll":h!=null&&ne("scroll",i);break;case"onScrollEnd":h!=null&&ne("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),v=i[We]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Ks(i,l,h)}}}function Nn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",i),ne("load",i);var h=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Se(i,r,v,C,l,null)}}g&&Se(i,r,"srcSet",l.srcSet,l,null),h&&Se(i,r,"src",l.src,l,null);return;case"input":ne("invalid",i);var M=v=C=g=null,H=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ut=l[h];if(ut!=null)switch(h){case"name":g=ut;break;case"type":C=ut;break;case"checked":H=ut;break;case"defaultChecked":et=ut;break;case"value":v=ut;break;case"defaultValue":M=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(s(137,r));break;default:Se(i,r,h,ut,l,null)}}Nr(i,v,M,H,et,C,g,!1),Qs(i);return;case"select":ne("invalid",i),h=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(M=l[g],M!=null))switch(g){case"value":v=M;break;case"defaultValue":C=M;break;case"multiple":h=M;default:Se(i,r,g,M,l,null)}r=v,l=C,i.multiple=!!h,r!=null?Pn(i,!!h,r,!1):l!=null&&Pn(i,!!h,l,!0);return;case"textarea":ne("invalid",i),v=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(M=l[C],M!=null))switch(C){case"value":h=M;break;case"defaultValue":g=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Se(i,r,C,M,l,null)}Qn(i,h,g,v),Qs(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(h=l[H],h!=null))switch(H){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Se(i,r,H,h,l,null)}return;case"dialog":ne("beforetoggle",i),ne("toggle",i),ne("cancel",i),ne("close",i);break;case"iframe":case"object":ne("load",i);break;case"video":case"audio":for(h=0;h<jc.length;h++)ne(jc[h],i);break;case"image":ne("error",i),ne("load",i);break;case"details":ne("toggle",i);break;case"embed":case"source":case"link":ne("error",i),ne("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Se(i,r,et,h,l,null)}return;default:if(Or(r)){for(ut in l)l.hasOwnProperty(ut)&&(h=l[ut],h!==void 0&&Ag(i,r,ut,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Se(i,r,M,h,l,null))}function $I(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,M=null,H=null,et=null,ut=null;for(rt in l){var pt=l[rt];if(l.hasOwnProperty(rt)&&pt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":H=pt;default:h.hasOwnProperty(rt)||Se(i,r,rt,null,h,pt)}}for(var nt in h){var rt=h[nt];if(pt=l[nt],h.hasOwnProperty(nt)&&(rt!=null||pt!=null))switch(nt){case"type":v=rt;break;case"name":g=rt;break;case"checked":et=rt;break;case"defaultChecked":ut=rt;break;case"value":C=rt;break;case"defaultValue":M=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,r));break;default:rt!==pt&&Se(i,r,nt,rt,h,pt)}}Me(i,C,M,H,et,ut,v,g);return;case"select":rt=C=M=nt=null;for(v in l)if(H=l[v],l.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":rt=H;default:h.hasOwnProperty(v)||Se(i,r,v,null,h,H)}for(g in h)if(v=h[g],H=l[g],h.hasOwnProperty(g)&&(v!=null||H!=null))switch(g){case"value":nt=v;break;case"defaultValue":M=v;break;case"multiple":C=v;default:v!==H&&Se(i,r,g,v,h,H)}r=M,l=C,h=rt,nt!=null?Pn(i,!!l,nt,!1):!!h!=!!l&&(r!=null?Pn(i,!!l,r,!0):Pn(i,!!l,l?[]:"",!1));return;case"textarea":rt=nt=null;for(M in l)if(g=l[M],l.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Se(i,r,M,null,h,g)}for(C in h)if(g=h[C],v=l[C],h.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":nt=g;break;case"defaultValue":rt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&Se(i,r,C,g,h,v)}Ut(i,nt,rt);return;case"option":for(var Ht in l)if(nt=l[Ht],l.hasOwnProperty(Ht)&&nt!=null&&!h.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:Se(i,r,Ht,null,h,nt)}for(H in h)if(nt=h[H],rt=l[H],h.hasOwnProperty(H)&&nt!==rt&&(nt!=null||rt!=null))switch(H){case"selected":i.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:Se(i,r,H,nt,h,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in l)nt=l[jt],l.hasOwnProperty(jt)&&nt!=null&&!h.hasOwnProperty(jt)&&Se(i,r,jt,null,h,nt);for(et in h)if(nt=h[et],rt=l[et],h.hasOwnProperty(et)&&nt!==rt&&(nt!=null||rt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,r));break;default:Se(i,r,et,nt,h,rt)}return;default:if(Or(r)){for(var Ae in l)nt=l[Ae],l.hasOwnProperty(Ae)&&nt!==void 0&&!h.hasOwnProperty(Ae)&&Ag(i,r,Ae,void 0,h,nt);for(ut in h)nt=h[ut],rt=l[ut],!h.hasOwnProperty(ut)||nt===rt||nt===void 0&&rt===void 0||Ag(i,r,ut,nt,h,rt);return}}for(var X in l)nt=l[X],l.hasOwnProperty(X)&&nt!=null&&!h.hasOwnProperty(X)&&Se(i,r,X,null,h,nt);for(pt in h)nt=h[pt],rt=l[pt],!h.hasOwnProperty(pt)||nt===rt||nt==null&&rt==null||Se(i,r,pt,nt,h,rt)}var Rg=null,Cg=null;function nd(i){return i.nodeType===9?i:i.ownerDocument}function jb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ig(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pg=null;function XI(){var i=window.event;return i&&i.type==="popstate"?i===Pg?!1:(Pg=i,!0):(Pg=null,!1)}var Ub=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(i){return Bb.resolve(null).then(i).catch(tP)}:Ub;function tP(i){setTimeout(function(){throw i})}function io(i){return i==="head"}function Fb(i,r){var l=r,h=0,g=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&Uc(C.documentElement),l&2&&Uc(C.body),l&4)for(l=C.head,Uc(l),C=l.firstChild;C;){var M=C.nextSibling,H=C.nodeName;C[Ys]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=M}}if(g===0){i.removeChild(v),Yc(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=v}while(l);Yc(r)}function Mg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mg(l),ws(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function eP(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Ys])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Vs(i.nextSibling),i===null)break}return null}function nP(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vs(i.nextSibling),i===null))return null;return i}function Lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iP(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Vs(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Dg=null;function Hb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function qb(i,r,l){switch(r=nd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Uc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ws(i)}var cs=new Map,Gb=new Set;function id(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Jr=ft.d;ft.d={f:sP,r:rP,D:aP,C:oP,L:lP,m:uP,X:hP,S:cP,M:fP};function sP(){var i=Jr.f(),r=Yf();return i||r}function rP(i){var r=Ri(i);r!==null&&r.tag===5&&r.type==="form"?hT(r):Jr.r(i)}var Tu=typeof document>"u"?null:document;function Wb(i,r,l){var h=Tu;if(h&&typeof r=="string"&&r){var g=ke(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Gb.has(g)||(Gb.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Nn(r,"link",i),Be(r),h.head.appendChild(r)))}}function aP(i){Jr.D(i),Wb("dns-prefetch",i,null)}function oP(i,r){Jr.C(i,r),Wb("preconnect",i,r)}function lP(i,r,l){Jr.L(i,r,l);var h=Tu;if(h&&i&&r){var g='link[rel="preload"][as="'+ke(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ke(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ke(l.imageSizes)+'"]')):g+='[href="'+ke(i)+'"]';var v=g;switch(r){case"style":v=bu(i);break;case"script":v=Eu(i)}cs.has(v)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),cs.set(v,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Bc(v))||r==="script"&&h.querySelector(Fc(v))||(r=h.createElement("link"),Nn(r,"link",i),Be(r),h.head.appendChild(r)))}}function uP(i,r){Jr.m(i,r);var l=Tu;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+ke(h)+'"][href="'+ke(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Eu(i)}if(!cs.has(v)&&(i=E({rel:"modulepreload",href:i},r),cs.set(v,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fc(v)))return}h=l.createElement("link"),Nn(h,"link",i),Be(h),l.head.appendChild(h)}}}function cP(i,r,l){Jr.S(i,r,l);var h=Tu;if(h&&i){var g=vn(h).hoistableStyles,v=bu(i);r=r||"default";var C=g.get(v);if(!C){var M={loading:0,preload:null};if(C=h.querySelector(Bc(v)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=cs.get(v))&&Ng(i,l);var H=C=h.createElement("link");Be(H),Nn(H,"link",i),H._p=new Promise(function(et,ut){H.onload=et,H.onerror=ut}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,sd(C,r,h)}C={type:"stylesheet",instance:C,count:1,state:M},g.set(v,C)}}}function hP(i,r){Jr.X(i,r);var l=Tu;if(l&&i){var h=vn(l).hoistableScripts,g=Eu(i),v=h.get(g);v||(v=l.querySelector(Fc(g)),v||(i=E({src:i,async:!0},r),(r=cs.get(g))&&Og(i,r),v=l.createElement("script"),Be(v),Nn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function fP(i,r){Jr.M(i,r);var l=Tu;if(l&&i){var h=vn(l).hoistableScripts,g=Eu(i),v=h.get(g);v||(v=l.querySelector(Fc(g)),v||(i=E({src:i,async:!0,type:"module"},r),(r=cs.get(g))&&Og(i,r),v=l.createElement("script"),Be(v),Nn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function Zb(i,r,l,h){var g=(g=xt.current)?id(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=bu(l.href),l=vn(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=bu(l.href);var v=vn(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(Bc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),cs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cs.set(i,l),v||dP(g,i,l,C.state))),r&&h===null)throw Error(s(528,""));return C}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eu(l),l=vn(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function bu(i){return'href="'+ke(i)+'"'}function Bc(i){return'link[rel="stylesheet"]['+i+"]"}function Yb(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function dP(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Nn(r,"link",l),Be(r),i.head.appendChild(r))}function Eu(i){return'[src="'+ke(i)+'"]'}function Fc(i){return"script[async]"+i}function Kb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+ke(l.href)+'"]');if(h)return r.instance=h,Be(h),h;var g=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Be(h),Nn(h,"style",g),sd(h,l.precedence,i),r.instance=h;case"stylesheet":g=bu(l.href);var v=i.querySelector(Bc(g));if(v)return r.state.loading|=4,r.instance=v,Be(v),v;h=Yb(l),(g=cs.get(g))&&Ng(h,g),v=(i.ownerDocument||i).createElement("link"),Be(v);var C=v;return C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),Nn(v,"link",h),r.state.loading|=4,sd(v,l.precedence,i),r.instance=v;case"script":return v=Eu(l.src),(g=i.querySelector(Fc(v)))?(r.instance=g,Be(g),g):(h=l,(g=cs.get(v))&&(h=E({},l),Og(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Be(g),Nn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,sd(h,l.precedence,i));return r.instance}function sd(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,C=0;C<h.length;C++){var M=h[C];if(M.dataset.precedence===r)v=M;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Og(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var rd=null;function $b(i,r,l){if(rd===null){var h=new Map,g=rd=new Map;g.set(l,h)}else g=rd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[Ys]||v[Qe]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var M=h.get(C);M?M.push(v):h.set(C,[v])}}return h}function Xb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function mP(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Hc=null;function pP(){}function gP(i,r,l){if(Hc===null)throw Error(s(475));var h=Hc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=bu(l.href),v=i.querySelector(Bc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=ad.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=v,Be(v);return}v=i.ownerDocument||i,l=Yb(l),(g=cs.get(g))&&Ng(l,g),v=v.createElement("link"),Be(v);var C=v;C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),Nn(v,"link",l),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=ad.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function yP(){if(Hc===null)throw Error(s(475));var i=Hc;return i.stylesheets&&i.count===0&&kg(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&kg(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)kg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var od=null;function kg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,od=new Map,r.forEach(_P,i),od=null,ad.call(i))}function _P(i,r){if(!(r.state.loading&4)){var l=od.get(i);if(l)var h=l.get(null);else{l=new Map,od.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=r.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||h,v===h&&l.set(null,g),l.set(C,g),this.count++,h=ad.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var qc={$$typeof:$,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function vP(i,r,l,h,g,v,C,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Jb(i,r,l,h,g,v,C,M,H,et,ut,pt){return i=new vP(i,r,l,C,M,H,et,pt),r=1,v===!0&&(r|=24),v=si(3,null,null,r),i.current=v,v.stateNode=i,r=yp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:r},bp(v),i}function tE(i){return i?(i=qr,i):qr}function eE(i,r,l,h,g,v){g=tE(g),h.context===null?h.context=g:h.pendingContext=g,h=qa(r),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=Ga(i,h,r),l!==null&&(Hi(l,i,r),Tc(l,i,r))}function nE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Vg(i,r){nE(i,r),(i=i.alternate)&&nE(i,r)}function iE(i){if(i.tag===13){var r=za(i,67108864);r!==null&&Hi(r,i,67108864),Vg(i,67108864)}}var ld=!0;function TP(i,r,l,h){var g=st.T;st.T=null;var v=ft.p;try{ft.p=2,jg(i,r,l,h)}finally{ft.p=v,st.T=g}}function bP(i,r,l,h){var g=st.T;st.T=null;var v=ft.p;try{ft.p=8,jg(i,r,l,h)}finally{ft.p=v,st.T=g}}function jg(i,r,l,h){if(ld){var g=zg(h);if(g===null)Sg(i,r,h,ud,l),rE(i,h);else if(wP(g,i,r,l,h))h.stopPropagation();else if(rE(i,h),r&4&&-1<EP.indexOf(i)){for(;g!==null;){var v=Ri(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=ai(v.pendingLanes);if(C!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var H=1<<31-_n(C);M.entanglements[1]|=H,C&=~H}ur(v),(ve&6)===0&&(Wf=jn()+500,Vc(0))}}break;case 13:M=za(v,2),M!==null&&Hi(M,v,2),Yf(),Vg(v,2)}if(v=zg(h),v===null&&Sg(i,r,h,ud,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Sg(i,r,h,null,l)}}function zg(i){return i=Mn(i),Ug(i)}var ud=null;function Ug(i){if(ud=null,i=Ai(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ud=i,null}function sE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case Vo:return 2;case Cr:return 8;case Ts:case Vl:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var Bg=!1,so=null,ro=null,ao=null,Gc=new Map,Wc=new Map,oo=[],EP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rE(i,r){switch(i){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Gc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(r.pointerId)}}function Zc(i,r,l,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},r!==null&&(r=Ri(r),r!==null&&iE(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function wP(i,r,l,h,g){switch(r){case"focusin":return so=Zc(so,i,r,l,h,g),!0;case"dragenter":return ro=Zc(ro,i,r,l,h,g),!0;case"mouseover":return ao=Zc(ao,i,r,l,h,g),!0;case"pointerover":var v=g.pointerId;return Gc.set(v,Zc(Gc.get(v)||null,i,r,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Wc.set(v,Zc(Wc.get(v)||null,i,r,l,h,g)),!0}return!1}function aE(i){var r=Ai(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,Ta(i.priority,function(){if(l.tag===13){var h=Fi();h=Ws(h);var g=za(l,h);g!==null&&Hi(g,l,h),Vg(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=zg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Mi=h,l.target.dispatchEvent(h),Mi=null}else return r=Ri(l),r!==null&&iE(r),i.blockedOn=l,!1;r.shift()}return!0}function oE(i,r,l){cd(i)&&l.delete(r)}function xP(){Bg=!1,so!==null&&cd(so)&&(so=null),ro!==null&&cd(ro)&&(ro=null),ao!==null&&cd(ao)&&(ao=null),Gc.forEach(oE),Wc.forEach(oE)}function hd(i,r){i.blockedOn===r&&(i.blockedOn=null,Bg||(Bg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xP)))}var fd=null;function lE(i){fd!==i&&(fd=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fd===i&&(fd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(Ug(h||l)===null)continue;break}var v=Ri(l);v!==null&&(i.splice(r,3),r-=3,Up(v,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Yc(i){function r(H){return hd(H,i)}so!==null&&hd(so,i),ro!==null&&hd(ro,i),ao!==null&&hd(ao,i),Gc.forEach(r),Wc.forEach(r);for(var l=0;l<oo.length;l++){var h=oo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<oo.length&&(l=oo[0],l.blockedOn===null);)aE(l),l.blockedOn===null&&oo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],v=l[h+1],C=g[We]||null;if(typeof v=="function")C||lE(l);else if(C){var M=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[We]||null)M=C.formAction;else if(Ug(g)!==null)continue}else M=C.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),lE(l)}}}function Fg(i){this._internalRoot=i}dd.prototype.render=Fg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=Fi();eE(l,h,i,r,null,null)},dd.prototype.unmount=Fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;eE(i.current,2,null,i,null,null),Yf(),r[oi]=null}};function dd(i){this._internalRoot=i}dd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Zs();i={blockedOn:null,target:i,priority:r};for(var l=0;l<oo.length&&r!==0&&r<oo[l].priority;l++);oo.splice(l,0,i),l===0&&aE(i)}};var uE=t.version;if(uE!=="19.1.0")throw Error(s(527,uE,"19.1.0"));ft.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var SP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Ie=md.inject(SP),fe=md}catch{}}return $c.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=ST,v=AT,C=RT,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks)),r=Jb(i,1,!1,null,null,l,h,g,v,C,M,null),i[oi]=r.current,xg(i),new Fg(r)},$c.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",v=ST,C=AT,M=RT,H=null,et=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(et=l.formState)),r=Jb(i,1,!0,r,l??null,h,g,v,C,M,H,et),r.context=tE(null),l=r.current,h=Fi(),h=Ws(h),g=qa(h),g.callback=null,Ga(l,g,h),l=h,r.current.lanes=l,Zi(r,l),ur(r),i[oi]=r.current,xg(i),new dd(r)},$c.version="19.1.0",$c}var vE;function NP(){if(vE)return Gg.exports;vE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gg.exports=DP(),Gg.exports}var OP=NP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function kP(e={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Ry("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:xh(o)}return jP(t,n,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VP(){return Math.random().toString(36).substring(2,10)}function bE(e,t){return{usr:e.state,key:e.key,idx:t}}function Ry(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zu(t):t,state:n,key:t&&t.key||s||VP()}}function xh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function jP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,_=E();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let W=E(),Z=W==null?null:W-_;_=W,y&&y({action:m,location:U.location,delta:Z})}function x(W,Z){m="PUSH";let it=Ry(U.location,W,Z);_=E()+1;let $=bE(it,_),yt=U.createHref(it);try{f.pushState($,"",yt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(yt)}u&&y&&y({action:m,location:U.location,delta:1})}function N(W,Z){m="REPLACE";let it=Ry(U.location,W,Z);_=E();let $=bE(it,_),yt=U.createHref(it);f.replaceState($,"",yt),u&&y&&y({action:m,location:U.location,delta:0})}function D(W){return zP(W)}let U={get action(){return m},get location(){return e(o,f)},listen(W){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(TE,A),y=W,()=>{o.removeEventListener(TE,A),y=null}},createHref(W){return t(o,W)},createURL:D,encodeLocation(W){let Z=D(W);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:x,replace:N,go(W){return f.go(W)}};return U}function zP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:xh(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function NS(e,t,n="/"){return UP(e,t,n,!1)}function UP(e,t,n,s){let o=typeof t=="string"?Zu(t):t,u=oa(o.pathname||"/",n);if(u==null)return null;let f=OS(e);BP(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=QP(u);m=$P(f[y],_,s)}return m}function OS(e,t=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(Ue(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=sa([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(Ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),OS(u.children,t,E,_)),!(u.path==null&&!u.index)&&t.push({path:_,score:YP(_,u.index),routesMeta:E})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of kS(u.path))o(u,f,m)}),t}function kS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kS(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function BP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:KP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FP=/^:[\w-]+$/,HP=3,qP=2,GP=1,WP=10,ZP=-2,EE=e=>e==="*";function YP(e,t){let n=e.split("/"),s=n.length;return n.some(EE)&&(s+=ZP),t&&(s+=qP),n.filter(o=>!EE(o)).reduce((o,u)=>o+(FP.test(u)?HP:u===""?GP:WP),s)}function KP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function $P(e,t,n=!1){let{routesMeta:s}=e,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Qd({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},E),x=y.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=Qd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:sa([u,A.pathname]),pathnameBase:n2(sa([u,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(u=sa([u,A.pathnameBase]))}return f}function Qd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=XP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:A},x)=>{if(E==="*"){let D=m[x]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const N=m[x];return A&&!N?_[E]=void 0:_[E]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:e}}function XP(e,t=!1,n=!0){gs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function QP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function oa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function JP(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Zu(e):e;return{pathname:n?n.startsWith("/")?n:t2(n,t):t,search:i2(s),hash:s2(o)}}function t2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function C_(e){let t=e2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function I_(e,t,n,s=!1){let o;typeof e=="string"?o=Zu(e):(o={...e},Ue(!o.pathname||!o.pathname.includes("?"),Kg("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),Kg("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),Kg("#","search","hash",o)));let u=e===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}m=A>=0?t[A]:"/"}let y=JP(o,m),_=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||E)&&(y.pathname+="/"),y}var sa=e=>e.join("/").replace(/\/\/+/g,"/"),n2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var VS=["POST","PUT","PATCH","DELETE"];new Set(VS);var a2=["GET",...VS];new Set(a2);var Yu=V.createContext(null);Yu.displayName="DataRouter";var Rm=V.createContext(null);Rm.displayName="DataRouterState";V.createContext(!1);var jS=V.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var o2=V.createContext(new Map);o2.displayName="Fetchers";var l2=V.createContext(null);l2.displayName="Await";var qs=V.createContext(null);qs.displayName="Navigation";var qh=V.createContext(null);qh.displayName="Location";var xr=V.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var P_=V.createContext(null);P_.displayName="RouteError";function u2(e,{relative:t}={}){Ue(Ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(qs),{hash:o,pathname:u,search:f}=Gh(e,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:sa([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ku(){return V.useContext(qh)!=null}function _s(){return Ue(Ku(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(qh).location}var zS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function US(e){V.useContext(qs).static||V.useLayoutEffect(e)}function Sr(){let{isDataRoute:e}=V.useContext(xr);return e?E2():c2()}function c2(){Ue(Ku(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Yu),{basename:t,navigator:n}=V.useContext(qs),{matches:s}=V.useContext(xr),{pathname:o}=_s(),u=JSON.stringify(C_(s)),f=V.useRef(!1);return US(()=>{f.current=!0}),V.useCallback((y,_={})=>{if(gs(f.current,zS),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=I_(y,JSON.parse(u),o,_.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:sa([t,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[t,n,u,o,e])}V.createContext(null);function Gh(e,{relative:t}={}){let{matches:n}=V.useContext(xr),{pathname:s}=_s(),o=JSON.stringify(C_(n));return V.useMemo(()=>I_(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function h2(e,t){return BS(e,t)}function BS(e,t,n,s){Ue(Ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(qs),{matches:u}=V.useContext(xr),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let Z=E&&E.path||"";FS(y,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=_s(),x;if(t){let Z=typeof t=="string"?Zu(t):t;Ue(_==="/"||Z.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),x=Z}else x=A;let N=x.pathname||"/",D=N;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(Z.length).join("/")}let U=NS(e,{pathname:D});gs(E||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gs(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=g2(U&&U.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:sa([_,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:sa([_,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,s);return t&&W?V.createElement(qh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function f2(){let e=b2(),t=r2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:o},n):null,f)}var d2=V.createElement(f2,null),m2=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(xr.Provider,{value:this.props.routeContext},V.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p2({routeContext:e,match:t,children:n}){let s=V.useContext(Yu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(xr.Provider,{value:e},n)}function g2(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Ue(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:A}=n,x=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,_,E)=>{let A,x=!1,N=null,D=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,N=_.route.errorElement||d2,f&&(m<0&&E===0?(FS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,D=null):m===E&&(x=!0,D=_.route.hydrateFallbackElement||null)));let U=t.concat(o.slice(0,E+1)),W=()=>{let Z;return A?Z=N:x?Z=D:_.route.Component?Z=V.createElement(_.route.Component,null):_.route.element?Z=_.route.element:Z=y,V.createElement(p2,{match:_,routeContext:{outlet:y,matches:U,isDataRoute:n!=null},children:Z})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?V.createElement(m2,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:W(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):W()},null)}function M_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y2(e){let t=V.useContext(Yu);return Ue(t,M_(e)),t}function _2(e){let t=V.useContext(Rm);return Ue(t,M_(e)),t}function v2(e){let t=V.useContext(xr);return Ue(t,M_(e)),t}function L_(e){let t=v2(e),n=t.matches[t.matches.length-1];return Ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function T2(){return L_("useRouteId")}function b2(){let e=V.useContext(P_),t=_2("useRouteError"),n=L_("useRouteError");return e!==void 0?e:t.errors?.[n]}function E2(){let{router:e}=y2("useNavigate"),t=L_("useNavigate"),n=V.useRef(!1);return US(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{gs(n.current,zS),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var wE={};function FS(e,t,n){!t&&!wE[e]&&(wE[e]=!0,gs(!1,n))}V.memo(w2);function w2({routes:e,future:t,state:n}){return BS(e,void 0,n,t)}function $g({to:e,replace:t,state:n,relative:s}){Ue(Ku(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(qs);gs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(xr),{pathname:f}=_s(),m=Sr(),y=I_(e,C_(u),f,s==="path"),_=JSON.stringify(y);return V.useEffect(()=>{m(JSON.parse(_),{replace:t,state:n,relative:s})},[m,_,s,t,n]),null}function fs(e){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Ue(!Ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Zu(n));let{pathname:y="/",search:_="",hash:E="",state:A=null,key:x="default"}=n,N=V.useMemo(()=>{let D=oa(y,f);return D==null?null:{location:{pathname:D,search:_,hash:E,state:A,key:x},navigationType:s}},[f,y,_,E,A,x,s]);return gs(N!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:V.createElement(qs.Provider,{value:m},V.createElement(qh.Provider,{children:t,value:N}))}function S2({children:e,location:t}){return h2(Cy(e),t)}function Cy(e,t=[]){let n=[];return V.Children.forEach(e,(s,o)=>{if(!V.isValidElement(s))return;let u=[...t,o];if(s.type===V.Fragment){n.push.apply(n,Cy(s.props.children,u));return}Ue(s.type===fs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cy(s.props.children,u)),n.push(f)}),n}var Ld="get",Dd="application/x-www-form-urlencoded";function Cm(e){return e!=null&&typeof e.tagName=="string"}function A2(e){return Cm(e)&&e.tagName.toLowerCase()==="button"}function R2(e){return Cm(e)&&e.tagName.toLowerCase()==="form"}function C2(e){return Cm(e)&&e.tagName.toLowerCase()==="input"}function I2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function P2(e,t){return e.button===0&&(!t||t==="_self")&&!I2(e)}function Iy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function M2(e,t){let n=Iy(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var pd=null;function L2(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xg(e){return e!=null&&!D2.has(e)?(gs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):e}function N2(e,t){let n,s,o,u,f;if(R2(e)){let m=e.getAttribute("action");s=m?oa(m,t):null,n=e.getAttribute("method")||Ld,o=Xg(e.getAttribute("enctype"))||Dd,u=new FormData(e)}else if(A2(e)||C2(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(s=y?oa(y,t):null,n=e.getAttribute("formmethod")||m.getAttribute("method")||Ld,o=Xg(e.getAttribute("formenctype"))||Xg(m.getAttribute("enctype"))||Dd,u=new FormData(m,e),!L2()){let{name:_,type:E,value:A}=e;if(E==="image"){let x=_?`${_}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else _&&u.append(_,A)}}else{if(Cm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ld,s=null,o=Dd,f=e}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&oa(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function k2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j2(e,t,n){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await k2(u,n);return f.links?f.links():[]}return[]}));return F2(s.flat(1).filter(V2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xE(e,t,n,s,o,u){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,m=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,_)=>f(y,_)||m(y,_)):u==="data"?t.filter((y,_)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,_)||m(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function z2(e,t,{includeHydrateFallback:n}={}){return U2(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function U2(e){return[...new Set(e)]}function B2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function F2(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(B2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function HS(){let e=V.useContext(Yu);return D_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function H2(){let e=V.useContext(Rm);return D_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var N_=V.createContext(void 0);N_.displayName="FrameworkContext";function qS(){let e=V.useContext(N_);return D_(e,"You must render this element inside a <HydratedRouter> element"),e}function q2(e,t){let n=V.useContext(N_),[s,o]=V.useState(!1),[u,f]=V.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:_,onMouseLeave:E,onTouchStart:A}=t,x=V.useRef(null);V.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let U=Z=>{Z.forEach(it=>{f(it.isIntersecting)})},W=new IntersectionObserver(U,{threshold:.5});return x.current&&W.observe(x.current),()=>{W.disconnect()}}},[e]),V.useEffect(()=>{if(s){let U=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(U)}}},[s]);let N=()=>{o(!0)},D=()=>{o(!1),f(!1)};return n?e!=="intent"?[u,x,{}]:[u,x,{onFocus:Xc(m,N),onBlur:Xc(y,D),onMouseEnter:Xc(_,N),onMouseLeave:Xc(E,D),onTouchStart:Xc(A,N)}]:[!1,x,{}]}function Xc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function G2({page:e,...t}){let{router:n}=HS(),s=V.useMemo(()=>NS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(Z2,{page:e,matches:s,...t}):null}function W2(e){let{manifest:t,routeModules:n}=qS(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return j2(e,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[e,t,n]),s}function Z2({page:e,matches:t,...n}){let s=_s(),{manifest:o,routeModules:u}=qS(),{basename:f}=HS(),{loaderData:m,matches:y}=H2(),_=V.useMemo(()=>xE(e,t,y,o,s,"data"),[e,t,y,o,s]),E=V.useMemo(()=>xE(e,t,y,o,s,"assets"),[e,t,y,o,s]),A=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let D=new Set,U=!1;if(t.forEach(Z=>{let it=o.routes[Z.route.id];!it||!it.hasLoader||(!_.some($=>$.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||it.hasClientLoader?U=!0:D.add(Z.route.id))}),D.size===0)return[];let W=O2(e,f,"data");return U&&D.size>0&&W.searchParams.set("_routes",t.filter(Z=>D.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[W.pathname+W.search]},[f,m,s,o,_,t,e,u]),x=V.useMemo(()=>z2(E,o),[E,o]),N=W2(E);return V.createElement(V.Fragment,null,A.map(D=>V.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),x.map(D=>V.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),N.map(({key:D,link:U})=>V.createElement("link",{key:D,...U})))}function Y2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.7.0")}catch{}function K2({basename:e,children:t,window:n}){let s=V.useRef();s.current==null&&(s.current=kP({window:n,v5Compat:!0}));let o=s.current,[u,f]=V.useState({action:o.action,location:o.location}),m=V.useCallback(y=>{V.startTransition(()=>f(y))},[f]);return V.useLayoutEffect(()=>o.listen(m),[o,m]),V.createElement(x2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var WS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hh=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:_,preventScrollReset:E,viewTransition:A,...x},N){let{basename:D}=V.useContext(qs),U=typeof _=="string"&&WS.test(_),W,Z=!1;if(typeof _=="string"&&U&&(W=_,GS))try{let k=new URL(window.location.href),B=_.startsWith("//")?new URL(k.protocol+_):new URL(_),G=oa(B.pathname,D);B.origin===k.origin&&G!=null?_=G+B.search+B.hash:Z=!0}catch{gs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=u2(_,{relative:o}),[$,yt,ht]=q2(s,x),Et=J2(_,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A});function q(k){t&&t(k),k.defaultPrevented||Et(k)}let P=V.createElement("a",{...x,...ht,href:W||it,onClick:Z||u?t:q,ref:Y2(N,yt),target:y,"data-discover":!U&&n==="render"?"true":void 0});return $&&!U?V.createElement(V.Fragment,null,P,V.createElement(G2,{page:it})):P});hh.displayName="Link";var $2=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,..._},E){let A=Gh(f,{relative:_.relative}),x=_s(),N=V.useContext(Rm),{navigator:D,basename:U}=V.useContext(qs),W=N!=null&&rM(A)&&m===!0,Z=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,it=x.pathname,$=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(it=it.toLowerCase(),$=$?$.toLowerCase():null,Z=Z.toLowerCase()),$&&U&&($=oa($,U)||$);const yt=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ht=it===Z||!o&&it.startsWith(Z)&&it.charAt(yt)==="/",Et=$!=null&&($===Z||!o&&$.startsWith(Z)&&$.charAt(Z.length)==="/"),q={isActive:ht,isPending:Et,isTransitioning:W},P=ht?t:void 0,k;typeof s=="function"?k=s(q):k=[s,ht?"active":null,Et?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(q):u;return V.createElement(hh,{..._,"aria-current":P,className:k,ref:E,style:B,to:f,viewTransition:m},typeof y=="function"?y(q):y)});$2.displayName="NavLink";var X2=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Ld,action:m,onSubmit:y,relative:_,preventScrollReset:E,viewTransition:A,...x},N)=>{let D=iM(),U=sM(m,{relative:_}),W=f.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&WS.test(m),it=$=>{if(y&&y($),$.defaultPrevented)return;$.preventDefault();let yt=$.nativeEvent.submitter,ht=yt?.getAttribute("formmethod")||f;D(yt||$.currentTarget,{fetcherKey:t,method:ht,navigate:n,replace:o,state:u,relative:_,preventScrollReset:E,viewTransition:A})};return V.createElement("form",{ref:N,method:W,action:U,onSubmit:s?y:it,...x,"data-discover":!Z&&e==="render"?"true":void 0})});X2.displayName="Form";function Q2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(e){let t=V.useContext(Yu);return Ue(t,Q2(e)),t}function J2(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Sr(),y=_s(),_=Gh(e,{relative:u});return V.useCallback(E=>{if(P2(E,t)){E.preventDefault();let A=n!==void 0?n:xh(y)===xh(_);m(e,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,_,n,s,t,e,o,u,f])}function tM(e){gs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=V.useRef(Iy(e)),n=V.useRef(!1),s=_s(),o=V.useMemo(()=>M2(s.search,n.current?null:t.current),[s.search]),u=Sr(),f=V.useCallback((m,y)=>{const _=Iy(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+_,y)},[u,o]);return[o,f]}var eM=0,nM=()=>`__${String(++eM)}__`;function iM(){let{router:e}=ZS("useSubmit"),{basename:t}=V.useContext(qs),n=T2();return V.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:_}=N2(s,t);if(o.navigate===!1){let E=o.fetcherKey||nM();await e.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function sM(e,{relative:t}={}){let{basename:n}=V.useContext(qs),s=V.useContext(xr);Ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Gh(e||".",{relative:t})},f=_s();if(e==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sa([n,u.pathname])),xh(u)}function rM(e,t={}){let n=V.useContext(jS);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZS("useViewTransitionState"),o=Gh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=oa(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=oa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qd(o.pathname,f)!=null||Qd(o.pathname,u)!=null}DS();const aM="modulepreload",oM=function(e){return"/"+e},SE={},lM=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(_){return Promise.all(_.map(E=>Promise.resolve(E).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=y(n.map(_=>{if(_=oM(_),_ in SE)return;SE[_]=!0;const E=_.endsWith(".css"),A=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${A}`))return;const x=document.createElement("link");if(x.rel=E?"stylesheet":aM,E||(x.as="script"),x.crossOrigin="",x.href=_,m&&x.setAttribute("nonce",m),document.head.appendChild(x),E)return new Promise((N,D)=>{x.addEventListener("load",N),x.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},uM=()=>{};var AE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cM=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],f=e[n++],m=e[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,m=f?e[o+1]:0,y=o+2<e.length,_=y?e[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let x=(m&15)<<2|_>>6,N=_&63;y||(N=64,f||(x=64)),s.push(n[E],n[A],n[x],n[N])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(YS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):cM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const _=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||_==null||A==null)throw new hM;const x=u<<2|m>>4;if(s.push(x),_!==64){const N=m<<4&240|_>>2;if(s.push(N),A!==64){const D=_<<6&192|A;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fM=function(e){const t=YS(e);return KS.encodeByteArray(t,!0)},Jd=function(e){return fM(e).replace(/\./g,"")},$S=function(e){try{return KS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=()=>dM().__FIREBASE_DEFAULTS__,pM=()=>{if(typeof process>"u"||typeof AE>"u")return;const e=AE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gM=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$S(e[1]);return t&&JSON.parse(t)},Im=()=>{try{return uM()||mM()||pM()||gM()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XS=e=>Im()?.emulatorHosts?.[e],QS=e=>{const t=XS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},JS=()=>Im()?.config,t1=e=>Im()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pm(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Jd(JSON.stringify(n)),Jd(JSON.stringify(f)),""].join(".")}const fh={};function vM(){const e={prod:[],emulator:[]};for(const t of Object.keys(fh))fh[t]?e.emulator.push(t):e.prod.push(t);return e}function TM(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let RE=!1;function O_(e,t){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||fh[e]===t||fh[e]||RE)return;fh[e]=t;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=vM().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{RE=!0,f()},x}function E(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=TM(s),N=n("text"),D=document.getElementById(N)||document.createElement("span"),U=n("learnmore"),W=document.getElementById(U)||document.createElement("a"),Z=n("preprendIcon"),it=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const $=x.element;m($),E(W,U);const yt=_();y(it,Z),$.append(it,D,W,yt),document.body.appendChild($)}u?(D.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function EM(){const e=Im()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xM(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AM(){const e=Xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function RM(){return!EM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CM(){try{return typeof indexedDB=="object"}catch{return!1}}function IM(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="FirebaseError";class Ar extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=PM,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?MM(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ar(o,m,s)}}function MM(e,t){return e.replace(LM,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const LM=/\{\$([^}]+)}/g;function DM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function To(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],f=t[o];if(CE(u)&&CE(f)){if(!To(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function eh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function nh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function NM(e,t){const n=new OM(e,t);return n.subscribe.bind(n)}class OM{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kM(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Qg),o.error===void 0&&(o.error=Qg),o.complete===void 0&&(o.complete=Qg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e){return e&&e._delegate?e._delegate:e}class bo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new yM;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zM(t))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Tl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tl){return this.instances.has(t)}getOptions(t=Tl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jM(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Tl){return this.component?this.component.multipleInstances?t:Tl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jM(e){return e===Tl?void 0:e}function zM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const BM={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},FM=re.INFO,HM={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},qM=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=HM[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class k_{constructor(t){this.name=t,this._logLevel=FM,this._logHandler=qM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const GM=(e,t)=>t.some(n=>e instanceof n);let IE,PE;function WM(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZM(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,Py=new WeakMap,n1=new WeakMap,Jg=new WeakMap,V_=new WeakMap;function YM(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(go(e.result)),o()},f=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&e1.set(n,e)}).catch(()=>{}),V_.set(t,e),t}function KM(e){if(Py.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});Py.set(e,t)}let My={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Py.get(e);if(t==="objectStoreNames")return e.objectStoreNames||n1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $M(e){My=e(My)}function XM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(ty(this),t,...n);return n1.set(s,t.sort?t.sort():[t]),go(s)}:ZM().includes(e)?function(...t){return e.apply(ty(this),t),go(e1.get(this))}:function(...t){return go(e.apply(ty(this),t))}}function QM(e){return typeof e=="function"?XM(e):(e instanceof IDBTransaction&&KM(e),GM(e,WM())?new Proxy(e,My):e)}function go(e){if(e instanceof IDBRequest)return YM(e);if(Jg.has(e))return Jg.get(e);const t=QM(e);return t!==e&&(Jg.set(e,t),V_.set(t,e)),t}const ty=e=>V_.get(e);function JM(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),m=go(f);return s&&f.addEventListener("upgradeneeded",y=>{s(go(f.result),y.oldVersion,y.newVersion,go(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const tL=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],ey=new Map;function ME(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ey.get(t))return ey.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=eL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tL.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&y.done]))[0]};return ey.set(t,u),u}$M(e=>({...e,get:(t,n,s)=>ME(t,n)||e.get(t,n,s),has:(t,n)=>!!ME(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iL(e){return e.getComponent()?.type==="VERSION"}const Ly="@firebase/app",LE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new k_("@firebase/app"),sL="@firebase/app-compat",rL="@firebase/analytics-compat",aL="@firebase/analytics",oL="@firebase/app-check-compat",lL="@firebase/app-check",uL="@firebase/auth",cL="@firebase/auth-compat",hL="@firebase/database",fL="@firebase/data-connect",dL="@firebase/database-compat",mL="@firebase/functions",pL="@firebase/functions-compat",gL="@firebase/installations",yL="@firebase/installations-compat",_L="@firebase/messaging",vL="@firebase/messaging-compat",TL="@firebase/performance",bL="@firebase/performance-compat",EL="@firebase/remote-config",wL="@firebase/remote-config-compat",xL="@firebase/storage",SL="@firebase/storage-compat",AL="@firebase/firestore",RL="@firebase/ai",CL="@firebase/firestore-compat",IL="firebase",PL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="[DEFAULT]",ML={[Ly]:"fire-core",[sL]:"fire-core-compat",[aL]:"fire-analytics",[rL]:"fire-analytics-compat",[lL]:"fire-app-check",[oL]:"fire-app-check-compat",[uL]:"fire-auth",[cL]:"fire-auth-compat",[hL]:"fire-rtdb",[fL]:"fire-data-connect",[dL]:"fire-rtdb-compat",[mL]:"fire-fn",[pL]:"fire-fn-compat",[gL]:"fire-iid",[yL]:"fire-iid-compat",[_L]:"fire-fcm",[vL]:"fire-fcm-compat",[TL]:"fire-perf",[bL]:"fire-perf-compat",[EL]:"fire-rc",[wL]:"fire-rc-compat",[xL]:"fire-gcs",[SL]:"fire-gcs-compat",[AL]:"fire-fst",[CL]:"fire-fst-compat",[RL]:"fire-vertex","fire-js":"fire-js",[IL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,LL=new Map,Ny=new Map;function DE(e,t){try{e.container.addComponent(t)}catch(n){la.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pl(e){const t=e.name;if(Ny.has(t))return la.debug(`There were multiple attempts to register component ${t}.`),!1;Ny.set(t,e);for(const n of tm.values())DE(n,e);for(const n of LL.values())DE(n,e);return!0}function Yh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new Wh("app","Firebase",DL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=PL;function i1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Dy,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw yo.create("bad-app-name",{appName:String(o)});if(n||(n=JS()),!n)throw yo.create("no-options");const u=tm.get(o);if(u){if(To(n,u.options)&&To(s,u.config))return u;throw yo.create("duplicate-app",{appName:o})}const f=new UM(o);for(const y of Ny.values())f.addComponent(y);const m=new NL(n,s,f);return tm.set(o,m),m}function j_(e=Dy){const t=tm.get(e);if(!t&&e===Dy&&JS())return i1();if(!t)throw yo.create("no-app",{appName:e});return t}function fr(e,t,n){let s=ML[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),la.warn(f.join(" "));return}Pl(new bo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firebase-heartbeat-database",kL=1,Sh="firebase-heartbeat-store";let ny=null;function s1(){return ny||(ny=JM(OL,kL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Sh)}catch(n){console.warn(n)}}}}).catch(e=>{throw yo.create("idb-open",{originalErrorMessage:e.message})})),ny}async function VL(e){try{const n=(await s1()).transaction(Sh),s=await n.objectStore(Sh).get(r1(e));return await n.done,s}catch(t){if(t instanceof Ar)la.warn(t.message);else{const n=yo.create("idb-get",{originalErrorMessage:t?.message});la.warn(n.message)}}}async function NE(e,t){try{const s=(await s1()).transaction(Sh,"readwrite");await s.objectStore(Sh).put(t,r1(e)),await s.done}catch(n){if(n instanceof Ar)la.warn(n.message);else{const s=yo.create("idb-set",{originalErrorMessage:n?.message});la.warn(s.message)}}}function r1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=1024,zL=30;class UL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>zL){const o=HL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){la.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OE(),{heartbeatsToSend:n,unsentEntries:s}=BL(this._heartbeatsCache.heartbeats),o=Jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return la.warn(t),""}}}function OE(){return new Date().toISOString().substring(0,10)}function BL(e,t=jL){const n=[];let s=e.slice();for(const o of e){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CM()?IM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return NE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return NE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function kE(e){return Jd(JSON.stringify({version:2,heartbeats:e})).length}function HL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e){Pl(new bo("platform-logger",t=>new nL(t),"PRIVATE")),Pl(new bo("heartbeat",t=>new UL(t),"PRIVATE")),fr(Ly,LE,e),fr(Ly,LE,"esm2020"),fr("fire-js","")}qL("");var GL="firebase",WL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(GL,WL,"app");function a1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZL=a1,o1=new Wh("auth","Firebase",a1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new k_("@firebase/auth");function YL(e,...t){em.logLevel<=re.WARN&&em.warn(`Auth (${$u}): ${e}`,...t)}function Nd(e,...t){em.logLevel<=re.ERROR&&em.error(`Auth (${$u}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e,...t){throw U_(e,...t)}function Bs(e,...t){return U_(e,...t)}function z_(e,t,n){const s={...ZL(),[t]:n};return new Wh("auth","Firebase",s).create(t,{appName:e.name})}function ra(e){return z_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KL(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ys(e,"argument-error"),z_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U_(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return o1.create(e,...t)}function Bt(e,t,...n){if(!e)throw U_(t,...n)}function ea(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nd(t),new Error(t)}function ua(e,t){e||ea(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){return typeof self<"u"&&self.location?.href||""}function $L(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($L()||xM()||"connection"in navigator)?navigator.onLine:!0}function QL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n){this.shortDelay=t,this.longDelay=n,ua(n>t,"Short delay should be less than long delay!"),this.isMobile=bM()||SM()}get(){return XL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e,t){ua(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new Kh(3e4,6e4);function Po(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Mo(e,t,n,s,o={}){return u1(e,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zh({key:e.config.apiKey,...f}).slice(1),y=await e._getAdditionalHeaders();y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode);const _={method:t,headers:y,...u};return wM()||(_.referrerPolicy="no-referrer"),e.emulatorConfig&&Io(e.emulatorConfig.host)&&(_.credentials="include"),l1.fetch()(await c1(e,e.config.apiHost,n,m),_)})}async function u1(e,t,n){e._canInitEmulator=!1;const s={...JL,...t};try{const o=new iD(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gd(e,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(e,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw gd(e,"email-already-in-use",f);if(y==="USER_DISABLED")throw gd(e,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw z_(e,E,_);ys(e,E)}}catch(o){if(o instanceof Ar)throw o;ys(e,"network-request-failed",{message:String(o)})}}async function $h(e,t,n,s,o={}){const u=await Mo(e,t,n,s,o);return"mfaPendingCredential"in u&&ys(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function c1(e,t,n,s){const o=`${t}${n}?${s}`,u=e,f=u.config.emulator?B_(e.config,o):`${e.config.apiScheme}://${o}`;return tD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function nD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bs(this.auth,"network-request-failed")),eD.get())})}}function gd(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bs(e,t,s);return o.customData._tokenResponse=n,o}function jE(e){return e!==void 0&&e.enterprise!==void 0}class sD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return nD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rD(e,t){return Mo(e,"GET","/v2/recaptchaConfig",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(e,t){return Mo(e,"POST","/v1/accounts:delete",t)}async function nm(e,t){return Mo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oD(e,t=!1){const n=Xe(e),s=await n.getIdToken(t),o=F_(s);Bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:dh(iy(o.auth_time)),issuedAtTime:dh(iy(o.iat)),expirationTime:dh(iy(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function iy(e){return Number(e)*1e3}function F_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const o=$S(n);return o?JSON.parse(o):(Nd("Failed to decode base64 JWT payload"),null)}catch(o){return Nd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zE(e){const t=F_(e);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ar&&lD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function lD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(e){const t=e.auth,n=await e.getIdToken(),s=await Ah(e,nm(t,{idToken:n}));Bt(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?h1(o.providerUserInfo):[],f=hD(e.providerData,u),m=e.isAnonymous,y=!(e.email&&o.passwordHash)&&!f?.length,_=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ky(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(e,E)}async function cD(e){const t=Xe(e);await im(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function h1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(e,t){const n=await u1(e,{},async()=>{const s=Zh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,f=await c1(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return e.emulatorConfig&&Io(e.emulatorConfig.host)&&(y.credentials="include"),l1.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dD(e,t){return Mo(e,"POST","/v2/accounts:revokeToken",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=zE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Nu;return s&&(Bt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nu,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(e,t){Bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class zs{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ky(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ah(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oD(this,t)}reload(){return cD(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ra(this.auth));const t=await this.getIdToken();return await Ah(this,aD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:N,providerData:D,stsTokenManager:U}=n;Bt(A&&U,t,"internal-error");const W=Nu.fromJSON(this.name,U);Bt(typeof A=="string",t,"internal-error"),uo(s,t.name),uo(o,t.name),Bt(typeof x=="boolean",t,"internal-error"),Bt(typeof N=="boolean",t,"internal-error"),uo(u,t.name),uo(f,t.name),uo(m,t.name),uo(y,t.name),uo(_,t.name),uo(E,t.name);const Z=new zs({uid:A,auth:t,email:o,emailVerified:x,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:W,createdAt:_,lastLoginAt:E});return D&&Array.isArray(D)&&(Z.providerData=D.map(it=>({...it}))),y&&(Z._redirectEventId=y),Z}static async _fromIdTokenResponse(t,n,s=!1){const o=new Nu;o.updateFromServerResponse(n);const u=new zs({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await im(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?h1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Nu;m.updateFromIdToken(s);const y=new zs({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ky(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;function na(e){ua(e instanceof Function,"Expected a class definition");let t=UE.get(e);return t?(ua(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,UE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}f1.type="NONE";const BE=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e,t,n){return`firebase:${e}:${t}:${n}`}class Ou{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,u),this.fullPersistenceKey=Od("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await nm(this.auth,{idToken:t}).catch(()=>{});return n?zs._fromGetAccountInfoResponse(this.auth,n,t):null}return zs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ou(na(BE),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||na(BE);const f=Od(s,t.config.apiKey,t.name);let m=null;for(const _ of n)try{const E=await _._get(f);if(E){let A;if(typeof E=="string"){const x=await nm(t,{idToken:E}).catch(()=>{});if(!x)break;A=await zs._fromGetAccountInfoResponse(t,x,E)}else A=zs._fromJSON(t,E);_!==u&&(m=A),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ou(u,t,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Ou(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_1(t))return"Blackberry";if(v1(t))return"Webos";if(m1(t))return"Safari";if((t.includes("chrome/")||p1(t))&&!t.includes("edge/"))return"Chrome";if(y1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function d1(e=Xn()){return/firefox\//i.test(e)}function m1(e=Xn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function p1(e=Xn()){return/crios\//i.test(e)}function g1(e=Xn()){return/iemobile/i.test(e)}function y1(e=Xn()){return/android/i.test(e)}function _1(e=Xn()){return/blackberry/i.test(e)}function v1(e=Xn()){return/webos/i.test(e)}function H_(e=Xn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mD(e=Xn()){return H_(e)&&!!window.navigator?.standalone}function pD(){return AM()&&document.documentMode===10}function T1(e=Xn()){return H_(e)||y1(e)||v1(e)||_1(e)||/windows phone/i.test(e)||g1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e,t=[]){let n;switch(e){case"Browser":n=FE(Xn());break;case"Worker":n=`${FE(Xn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$u}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(e,t={}){return Mo(e,"GET","/v2/passwordPolicy",Po(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class vD{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_D,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=na(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ou.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await nm(this,{idToken:t}),s=await zs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(pi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await im(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(pi(this.app))return Promise.reject(ra(this));const n=t?Xe(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return pi(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yD(this),n=new vD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wh("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&na(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await Ou.create(this,[na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&YL(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lo(e){return Xe(e)}class HE{constructor(t){this.auth=t,this.observer=null,this.addObserver=NM(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bD(e){Mm=e}function E1(e){return Mm.loadJS(e)}function ED(){return Mm.recaptchaEnterpriseScript}function wD(){return Mm.gapiScript}function xD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class SD{constructor(){this.enterprise=new AD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class AD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const RD="recaptcha-enterprise",w1="NO_RECAPTCHA";class CD{constructor(t){this.type=RD,this.auth=Lo(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{rD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new sD(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;jE(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(w1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&jE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=ED();y.length!==0&&(y+=m),E1(y).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function qE(e,t,n,s=!1,o=!1){const u=new CD(e);let f;if(o)f=w1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Vy(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qE(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await qE(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e,t){const n=Yh(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(To(u,t??{}))return o;ys(o,"already-initialized")}return n.initialize({options:t})}function PD(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(na);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function MD(e,t,n){const s=Lo(e);Bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=x1(t),{host:f,port:m}=LD(t),y=m===null?"":`:${m}`,_={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Bt(To(_,s.config.emulator)&&To(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Io(f)?(Pm(`${u}//${f}${y}`),O_("Auth",!0)):DD()}function x1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function LD(e){const t=x1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:GE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:GE(f)}}}function GE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function DD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ea("not implemented")}_getIdTokenResponse(t){return ea("not implemented")}_linkToIdToken(t,n){return ea("not implemented")}_getReauthenticationResolver(t){return ea("not implemented")}}async function ND(e,t){return Mo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e,t){return $h(e,"POST","/v1/accounts:signInWithPassword",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(e,t){return $h(e,"POST","/v1/accounts:signInWithEmailLink",Po(e,t))}async function VD(e,t){return $h(e,"POST","/v1/accounts:signInWithEmailLink",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends q_{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Rh(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Rh(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(t,n,"signInWithPassword",OD);case"emailLink":return kD(t,{email:this._email,oobCode:this._password});default:ys(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(t,s,"signUpPassword",ND);case"emailLink":return VD(t,{idToken:n,email:this._email,oobCode:this._password});default:ys(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(e,t){return $h(e,"POST","/v1/accounts:signInWithIdp",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class Ml extends q_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ml(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ml(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ku(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ku(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ku(t,n)}buildRequest(){const t={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UD(e){const t=eh(nh(e)).link,n=t?eh(nh(t)).deep_link_id:null,s=eh(nh(e)).deep_link_id;return(s?eh(nh(s)).link:null)||s||n||t||e}class G_{constructor(t){const n=eh(nh(t)),s=n.apiKey??null,o=n.oobCode??null,u=zD(n.mode??null);Bt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=UD(t);try{return new G_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.providerId=Xu.PROVIDER_ID}static credential(t,n){return Rh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=G_.parseLink(n);return Bt(s,"argument-error"),Rh._fromEmailAndCode(t,s.code,s.tenantId)}}Xu.PROVIDER_ID="password";Xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends W_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Xh{constructor(){super("facebook.com")}static credential(t){return Ml._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ho.credentialFromTaggedObject(t)}static credentialFromError(t){return ho.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ho.credential(t.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ml._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ta.credential(n,s)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Xh{constructor(){super("github.com")}static credential(t){return Ml._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fo.credentialFromTaggedObject(t)}static credentialFromError(t){return fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fo.credential(t.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Xh{constructor(){super("twitter.com")}static credential(t,n){return Ml._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return mo.credentialFromTaggedObject(t)}static credentialFromError(t){return mo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return mo.credential(n,s)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(e,t){return $h(e,"POST","/v1/accounts:signUp",Po(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await zs._fromIdTokenResponse(t,s,o),f=WE(s);return new Ll({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=WE(s);return new Ll({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function WE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Ar{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new sm(t,n,s,o)}}function S1(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(e,u,t,s):u})}async function FD(e,t,n=!1){const s=await Ah(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ll._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(e,t,n=!1){const{auth:s}=e;if(pi(s.app))return Promise.reject(ra(s));const o="reauthenticate";try{const u=await Ah(e,S1(s,o,t,e),n);Bt(u.idToken,s,"internal-error");const f=F_(u.idToken);Bt(f,s,"internal-error");const{sub:m}=f;return Bt(e.uid===m,s,"user-mismatch"),Ll._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ys(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(e,t,n=!1){if(pi(e.app))return Promise.reject(ra(e));const s="signIn",o=await S1(e,s,t),u=await Ll._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function qD(e,t){return A1(Lo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(e){const t=Lo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GD(e,t,n){if(pi(e.app))return Promise.reject(ra(e));const s=Lo(e),f=await Vy(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&R1(e),y}),m=await Ll._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function WD(e,t,n){return pi(e.app)?Promise.reject(ra(e)):qD(Xe(e),Xu.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&R1(e),s})}function ZD(e,t,n,s){return Xe(e).onIdTokenChanged(t,n,s)}function YD(e,t,n){return Xe(e).beforeAuthStateChanged(t,n)}function Qh(e,t,n,s){return Xe(e).onAuthStateChanged(t,n,s)}function KD(e){return Xe(e).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e3,XD=10;class I1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);pD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,XD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}I1.type="LOCAL";const QD=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}P1.type="SESSION";const M1=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Lm(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),y=await JD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const _=Z_("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function eN(e){dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function nN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){return navigator?.serviceWorker?.controller||null}function sN(){return L1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebaseLocalStorageDb",rN=1,am="firebaseLocalStorage",N1="fbase_key";class Jh{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dm(e,t){return e.transaction([am],t?"readwrite":"readonly").objectStore(am)}function aN(){const e=indexedDB.deleteDatabase(D1);return new Jh(e).toPromise()}function jy(){const e=indexedDB.open(D1,rN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(am,{keyPath:N1})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(am)?t(s):(s.close(),await aN(),t(await jy()))})})}async function ZE(e,t,n){const s=Dm(e,!0).put({[N1]:t,value:n});return new Jh(s).toPromise()}async function oN(e,t){const n=Dm(e,!1).get(t),s=await new Jh(n).toPromise();return s===void 0?null:s.value}function YE(e,t){const n=Dm(e,!0).delete(t);return new Jh(n).toPromise()}const lN=800,uN=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(sN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nN(),!this.activeServiceWorker)return;this.sender=new tN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jy();return await ZE(t,rm,"1"),await YE(t,rm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ZE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>oN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Dm(o,!1).getAll();return new Jh(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const cN=O1;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e,t){return t?na(t):(Bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends q_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ku(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ku(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ku(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hN(e){return A1(e.auth,new Y_(e),e.bypassAuthState)}function fN(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),HD(n,new Y_(e),e.bypassAuthState)}async function dN(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),FD(n,new Y_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hN;case"linkViaPopup":case"linkViaRedirect":return dN;case"reauthViaPopup":case"reauthViaRedirect":return fN;default:ys(this.auth,"internal-error")}}resolve(t){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Kh(2e3,1e4);async function pN(e,t,n){if(pi(e.app))return Promise.reject(Bs(e,"operation-not-supported-in-this-environment"));const s=Lo(e);KL(e,t,W_);const o=k1(s,n);return new El(s,"signInViaPopup",t,o).executeNotNull()}class El extends V1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const t=Z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mN.get())};t()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="pendingRedirect",kd=new Map;class yN extends V1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=kd.get(this.auth._key());if(!t){try{const s=await _N(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}kd.set(this.auth._key(),t)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(e,t){const n=bN(t),s=TN(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vN(e,t){kd.set(e._key(),t)}function TN(e){return na(e._redirectPersistence)}function bN(e){return Od(gN,e.config.apiKey,e.name)}async function EN(e,t,n=!1){if(pi(e.app))return Promise.reject(ra(e));const s=Lo(e),o=k1(s,t),f=await new yN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=600*1e3;class xN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!j1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(t))}saveEventToCache(t){this.cachedEventUids.add(KE(t)),this.lastProcessedEventTime=Date.now()}}function KE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function j1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function SN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(e,t={}){return Mo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CN=/^https?/;async function IN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await AN(e);for(const n of t)try{if(PN(n))return}catch{}ys(e,"unauthorized-domain")}function PN(e){const t=Oy(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const f=new URL(e);return f.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CN.test(n))return!1;if(RN.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Kh(3e4,6e4);function $E(){const e=dr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function LN(e){return new Promise((t,n)=>{function s(){$E(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(Bs(e,"network-request-failed"))},timeout:MN.get()})}if(dr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dr().gapi?.load)s();else{const o=xD("iframefcb");return dr()[o]=()=>{gapi.load?s():n(Bs(e,"network-request-failed"))},E1(`${wD()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Vd=null,t})}let Vd=null;function DN(e){return Vd=Vd||LN(e),Vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Kh(5e3,15e3),ON="__/auth/iframe",kN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(e){const t=e.config;Bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?B_(t,kN):`https://${e.config.authDomain}/${ON}`,s={apiKey:t.apiKey,appName:e.name,v:$u},o=jN.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zh(s).slice(1)}`}async function UN(e){const t=await DN(e),n=dr().gapi;return Bt(n,e,"internal-error"),t.open({where:document.body,url:zN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Bs(e,"network-request-failed"),m=dr().setTimeout(()=>{u(f)},NN.get());function y(){dr().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,HN=600,qN="_blank",GN="http://localhost";class XE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WN(e,t,n,s=FN,o=HN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...BN,width:s.toString(),height:o.toString(),top:u,left:f},_=Xn().toLowerCase();n&&(m=p1(_)?qN:n),d1(_)&&(t=t||GN,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[N,D])=>`${x}${N}=${D},`,"");if(mD(_)&&m!=="_self")return ZN(t||"",m),new XE(null);const A=window.open(t||"",m,E);Bt(A,e,"popup-blocked");try{A.focus()}catch{}return new XE(A)}function ZN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__/auth/handler",KN="emulator/auth/handler",$N=encodeURIComponent("fac");async function QE(e,t,n,s,o,u){Bt(e.config.authDomain,e,"auth-domain-config-required"),Bt(e.config.apiKey,e,"invalid-api-key");const f={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:$u,eventId:o};if(t instanceof W_){t.setDefaultLanguage(e.languageCode),f.providerId=t.providerId||"",DM(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Xh){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}e.tenantId&&(f.tid=e.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await e._getAppCheckToken(),_=y?`#${$N}=${encodeURIComponent(y)}`:"";return`${XN(e)}?${Zh(m).slice(1)}${_}`}function XN({config:e}){return e.emulator?B_(e,KN):`https://${e.authDomain}/${YN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M1,this._completeRedirectFn=EN,this._overrideRedirectResult=vN}async _openPopup(t,n,s,o){ua(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await QE(t,n,s,Oy(),o);return WN(t,u,Z_())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await QE(t,n,s,Oy(),o);return eN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ua(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await UN(t),s=new xN(t);return n.register("authEvent",o=>(Bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sy,{type:sy},o=>{const u=o?.[0]?.[sy];u!==void 0&&n(!!u),ys(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return T1()||m1()||H_()}}const JN=QN;var JE="@firebase/auth",tw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nO(e){Pl(new bo("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Bt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(e)},_=new TD(s,o,u,y);return PD(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Pl(new bo("auth-internal",t=>{const n=Lo(t.getProvider("auth").getImmediate());return(s=>new tO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(JE,tw,eO(e)),fr(JE,tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=300,sO=t1("authIdTokenMaxAge")||iO;let ew=null;const rO=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sO)return;const o=n?.token;ew!==o&&(ew=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aO(e=j_()){const t=Yh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ID(e,{popupRedirectResolver:JN,persistence:[cN,QD,M1]}),s=t1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rO(u.toString());YD(n,f,()=>f(n.currentUser)),ZD(n,m=>f(m))}}const o=XS("auth");return o&&MD(n,`http://${o}`),n}function oO(){return document.getElementsByTagName("head")?.[0]??document}bD({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Bs("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nO("Browser");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,z1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,P){function k(){}k.prototype=P.prototype,q.D=P.prototype,q.prototype=new k,q.prototype.constructor=q,q.C=function(B,G,Y){for(var j=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)j[Tt-2]=arguments[Tt];return P.prototype[G].apply(B,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(q,P,k){k||(k=0);var B=Array(16);if(typeof P=="string")for(var G=0;16>G;++G)B[G]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(G=0;16>G;++G)B[G]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=q.g[0],k=q.g[1],G=q.g[2];var Y=q.g[3],j=P+(Y^k&(G^Y))+B[0]+3614090360&4294967295;P=k+(j<<7&4294967295|j>>>25),j=Y+(G^P&(k^G))+B[1]+3905402710&4294967295,Y=P+(j<<12&4294967295|j>>>20),j=G+(k^Y&(P^k))+B[2]+606105819&4294967295,G=Y+(j<<17&4294967295|j>>>15),j=k+(P^G&(Y^P))+B[3]+3250441966&4294967295,k=G+(j<<22&4294967295|j>>>10),j=P+(Y^k&(G^Y))+B[4]+4118548399&4294967295,P=k+(j<<7&4294967295|j>>>25),j=Y+(G^P&(k^G))+B[5]+1200080426&4294967295,Y=P+(j<<12&4294967295|j>>>20),j=G+(k^Y&(P^k))+B[6]+2821735955&4294967295,G=Y+(j<<17&4294967295|j>>>15),j=k+(P^G&(Y^P))+B[7]+4249261313&4294967295,k=G+(j<<22&4294967295|j>>>10),j=P+(Y^k&(G^Y))+B[8]+1770035416&4294967295,P=k+(j<<7&4294967295|j>>>25),j=Y+(G^P&(k^G))+B[9]+2336552879&4294967295,Y=P+(j<<12&4294967295|j>>>20),j=G+(k^Y&(P^k))+B[10]+4294925233&4294967295,G=Y+(j<<17&4294967295|j>>>15),j=k+(P^G&(Y^P))+B[11]+2304563134&4294967295,k=G+(j<<22&4294967295|j>>>10),j=P+(Y^k&(G^Y))+B[12]+1804603682&4294967295,P=k+(j<<7&4294967295|j>>>25),j=Y+(G^P&(k^G))+B[13]+4254626195&4294967295,Y=P+(j<<12&4294967295|j>>>20),j=G+(k^Y&(P^k))+B[14]+2792965006&4294967295,G=Y+(j<<17&4294967295|j>>>15),j=k+(P^G&(Y^P))+B[15]+1236535329&4294967295,k=G+(j<<22&4294967295|j>>>10),j=P+(G^Y&(k^G))+B[1]+4129170786&4294967295,P=k+(j<<5&4294967295|j>>>27),j=Y+(k^G&(P^k))+B[6]+3225465664&4294967295,Y=P+(j<<9&4294967295|j>>>23),j=G+(P^k&(Y^P))+B[11]+643717713&4294967295,G=Y+(j<<14&4294967295|j>>>18),j=k+(Y^P&(G^Y))+B[0]+3921069994&4294967295,k=G+(j<<20&4294967295|j>>>12),j=P+(G^Y&(k^G))+B[5]+3593408605&4294967295,P=k+(j<<5&4294967295|j>>>27),j=Y+(k^G&(P^k))+B[10]+38016083&4294967295,Y=P+(j<<9&4294967295|j>>>23),j=G+(P^k&(Y^P))+B[15]+3634488961&4294967295,G=Y+(j<<14&4294967295|j>>>18),j=k+(Y^P&(G^Y))+B[4]+3889429448&4294967295,k=G+(j<<20&4294967295|j>>>12),j=P+(G^Y&(k^G))+B[9]+568446438&4294967295,P=k+(j<<5&4294967295|j>>>27),j=Y+(k^G&(P^k))+B[14]+3275163606&4294967295,Y=P+(j<<9&4294967295|j>>>23),j=G+(P^k&(Y^P))+B[3]+4107603335&4294967295,G=Y+(j<<14&4294967295|j>>>18),j=k+(Y^P&(G^Y))+B[8]+1163531501&4294967295,k=G+(j<<20&4294967295|j>>>12),j=P+(G^Y&(k^G))+B[13]+2850285829&4294967295,P=k+(j<<5&4294967295|j>>>27),j=Y+(k^G&(P^k))+B[2]+4243563512&4294967295,Y=P+(j<<9&4294967295|j>>>23),j=G+(P^k&(Y^P))+B[7]+1735328473&4294967295,G=Y+(j<<14&4294967295|j>>>18),j=k+(Y^P&(G^Y))+B[12]+2368359562&4294967295,k=G+(j<<20&4294967295|j>>>12),j=P+(k^G^Y)+B[5]+4294588738&4294967295,P=k+(j<<4&4294967295|j>>>28),j=Y+(P^k^G)+B[8]+2272392833&4294967295,Y=P+(j<<11&4294967295|j>>>21),j=G+(Y^P^k)+B[11]+1839030562&4294967295,G=Y+(j<<16&4294967295|j>>>16),j=k+(G^Y^P)+B[14]+4259657740&4294967295,k=G+(j<<23&4294967295|j>>>9),j=P+(k^G^Y)+B[1]+2763975236&4294967295,P=k+(j<<4&4294967295|j>>>28),j=Y+(P^k^G)+B[4]+1272893353&4294967295,Y=P+(j<<11&4294967295|j>>>21),j=G+(Y^P^k)+B[7]+4139469664&4294967295,G=Y+(j<<16&4294967295|j>>>16),j=k+(G^Y^P)+B[10]+3200236656&4294967295,k=G+(j<<23&4294967295|j>>>9),j=P+(k^G^Y)+B[13]+681279174&4294967295,P=k+(j<<4&4294967295|j>>>28),j=Y+(P^k^G)+B[0]+3936430074&4294967295,Y=P+(j<<11&4294967295|j>>>21),j=G+(Y^P^k)+B[3]+3572445317&4294967295,G=Y+(j<<16&4294967295|j>>>16),j=k+(G^Y^P)+B[6]+76029189&4294967295,k=G+(j<<23&4294967295|j>>>9),j=P+(k^G^Y)+B[9]+3654602809&4294967295,P=k+(j<<4&4294967295|j>>>28),j=Y+(P^k^G)+B[12]+3873151461&4294967295,Y=P+(j<<11&4294967295|j>>>21),j=G+(Y^P^k)+B[15]+530742520&4294967295,G=Y+(j<<16&4294967295|j>>>16),j=k+(G^Y^P)+B[2]+3299628645&4294967295,k=G+(j<<23&4294967295|j>>>9),j=P+(G^(k|~Y))+B[0]+4096336452&4294967295,P=k+(j<<6&4294967295|j>>>26),j=Y+(k^(P|~G))+B[7]+1126891415&4294967295,Y=P+(j<<10&4294967295|j>>>22),j=G+(P^(Y|~k))+B[14]+2878612391&4294967295,G=Y+(j<<15&4294967295|j>>>17),j=k+(Y^(G|~P))+B[5]+4237533241&4294967295,k=G+(j<<21&4294967295|j>>>11),j=P+(G^(k|~Y))+B[12]+1700485571&4294967295,P=k+(j<<6&4294967295|j>>>26),j=Y+(k^(P|~G))+B[3]+2399980690&4294967295,Y=P+(j<<10&4294967295|j>>>22),j=G+(P^(Y|~k))+B[10]+4293915773&4294967295,G=Y+(j<<15&4294967295|j>>>17),j=k+(Y^(G|~P))+B[1]+2240044497&4294967295,k=G+(j<<21&4294967295|j>>>11),j=P+(G^(k|~Y))+B[8]+1873313359&4294967295,P=k+(j<<6&4294967295|j>>>26),j=Y+(k^(P|~G))+B[15]+4264355552&4294967295,Y=P+(j<<10&4294967295|j>>>22),j=G+(P^(Y|~k))+B[6]+2734768916&4294967295,G=Y+(j<<15&4294967295|j>>>17),j=k+(Y^(G|~P))+B[13]+1309151649&4294967295,k=G+(j<<21&4294967295|j>>>11),j=P+(G^(k|~Y))+B[4]+4149444226&4294967295,P=k+(j<<6&4294967295|j>>>26),j=Y+(k^(P|~G))+B[11]+3174756917&4294967295,Y=P+(j<<10&4294967295|j>>>22),j=G+(P^(Y|~k))+B[2]+718787259&4294967295,G=Y+(j<<15&4294967295|j>>>17),j=k+(Y^(G|~P))+B[9]+3951481745&4294967295,q.g[0]=q.g[0]+P&4294967295,q.g[1]=q.g[1]+(G+(j<<21&4294967295|j>>>11))&4294967295,q.g[2]=q.g[2]+G&4294967295,q.g[3]=q.g[3]+Y&4294967295}s.prototype.u=function(q,P){P===void 0&&(P=q.length);for(var k=P-this.blockSize,B=this.B,G=this.h,Y=0;Y<P;){if(G==0)for(;Y<=k;)o(this,q,Y),Y+=this.blockSize;if(typeof q=="string"){for(;Y<P;)if(B[G++]=q.charCodeAt(Y++),G==this.blockSize){o(this,B),G=0;break}}else for(;Y<P;)if(B[G++]=q[Y++],G==this.blockSize){o(this,B),G=0;break}}this.h=G,this.o+=P},s.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var P=1;P<q.length-8;++P)q[P]=0;var k=8*this.o;for(P=q.length-8;P<q.length;++P)q[P]=k&255,k/=256;for(this.u(q),q=Array(16),P=k=0;4>P;++P)for(var B=0;32>B;B+=8)q[k++]=this.g[P]>>>B&255;return q};function u(q,P){var k=m;return Object.prototype.hasOwnProperty.call(k,q)?k[q]:k[q]=P(q)}function f(q,P){this.h=P;for(var k=[],B=!0,G=q.length-1;0<=G;G--){var Y=q[G]|0;B&&Y==P||(k[G]=Y,B=!1)}this.g=k}var m={};function y(q){return-128<=q&&128>q?u(q,function(P){return new f([P|0],0>P?-1:0)}):new f([q|0],0>q?-1:0)}function _(q){if(isNaN(q)||!isFinite(q))return A;if(0>q)return W(_(-q));for(var P=[],k=1,B=0;q>=k;B++)P[B]=q/k|0,k*=4294967296;return new f(P,0)}function E(q,P){if(q.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(q.charAt(0)=="-")return W(E(q.substring(1),P));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=_(Math.pow(P,8)),B=A,G=0;G<q.length;G+=8){var Y=Math.min(8,q.length-G),j=parseInt(q.substring(G,G+Y),P);8>Y?(Y=_(Math.pow(P,Y)),B=B.j(Y).add(_(j))):(B=B.j(k),B=B.add(_(j)))}return B}var A=y(0),x=y(1),N=y(16777216);e=f.prototype,e.m=function(){if(U(this))return-W(this).m();for(var q=0,P=1,k=0;k<this.g.length;k++){var B=this.i(k);q+=(0<=B?B:4294967296+B)*P,P*=4294967296}return q},e.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(D(this))return"0";if(U(this))return"-"+W(this).toString(q);for(var P=_(Math.pow(q,6)),k=this,B="";;){var G=yt(k,P).g;k=Z(k,G.j(P));var Y=((0<k.g.length?k.g[0]:k.h)>>>0).toString(q);if(k=G,D(k))return Y+B;for(;6>Y.length;)Y="0"+Y;B=Y+B}},e.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function D(q){if(q.h!=0)return!1;for(var P=0;P<q.g.length;P++)if(q.g[P]!=0)return!1;return!0}function U(q){return q.h==-1}e.l=function(q){return q=Z(this,q),U(q)?-1:D(q)?0:1};function W(q){for(var P=q.g.length,k=[],B=0;B<P;B++)k[B]=~q.g[B];return new f(k,~q.h).add(x)}e.abs=function(){return U(this)?W(this):this},e.add=function(q){for(var P=Math.max(this.g.length,q.g.length),k=[],B=0,G=0;G<=P;G++){var Y=B+(this.i(G)&65535)+(q.i(G)&65535),j=(Y>>>16)+(this.i(G)>>>16)+(q.i(G)>>>16);B=j>>>16,Y&=65535,j&=65535,k[G]=j<<16|Y}return new f(k,k[k.length-1]&-2147483648?-1:0)};function Z(q,P){return q.add(W(P))}e.j=function(q){if(D(this)||D(q))return A;if(U(this))return U(q)?W(this).j(W(q)):W(W(this).j(q));if(U(q))return W(this.j(W(q)));if(0>this.l(N)&&0>q.l(N))return _(this.m()*q.m());for(var P=this.g.length+q.g.length,k=[],B=0;B<2*P;B++)k[B]=0;for(B=0;B<this.g.length;B++)for(var G=0;G<q.g.length;G++){var Y=this.i(B)>>>16,j=this.i(B)&65535,Tt=q.i(G)>>>16,Vt=q.i(G)&65535;k[2*B+2*G]+=j*Vt,it(k,2*B+2*G),k[2*B+2*G+1]+=Y*Vt,it(k,2*B+2*G+1),k[2*B+2*G+1]+=j*Tt,it(k,2*B+2*G+1),k[2*B+2*G+2]+=Y*Tt,it(k,2*B+2*G+2)}for(B=0;B<P;B++)k[B]=k[2*B+1]<<16|k[2*B];for(B=P;B<2*P;B++)k[B]=0;return new f(k,0)};function it(q,P){for(;(q[P]&65535)!=q[P];)q[P+1]+=q[P]>>>16,q[P]&=65535,P++}function $(q,P){this.g=q,this.h=P}function yt(q,P){if(D(P))throw Error("division by zero");if(D(q))return new $(A,A);if(U(q))return P=yt(W(q),P),new $(W(P.g),W(P.h));if(U(P))return P=yt(q,W(P)),new $(W(P.g),P.h);if(30<q.g.length){if(U(q)||U(P))throw Error("slowDivide_ only works with positive integers.");for(var k=x,B=P;0>=B.l(q);)k=ht(k),B=ht(B);var G=Et(k,1),Y=Et(B,1);for(B=Et(B,2),k=Et(k,2);!D(B);){var j=Y.add(B);0>=j.l(q)&&(G=G.add(k),Y=j),B=Et(B,1),k=Et(k,1)}return P=Z(q,G.j(P)),new $(G,P)}for(G=A;0<=q.l(P);){for(k=Math.max(1,Math.floor(q.m()/P.m())),B=Math.ceil(Math.log(k)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),Y=_(k),j=Y.j(P);U(j)||0<j.l(q);)k-=B,Y=_(k),j=Y.j(P);D(Y)&&(Y=x),G=G.add(Y),q=Z(q,j)}return new $(G,q)}e.A=function(q){return yt(this,q).h},e.and=function(q){for(var P=Math.max(this.g.length,q.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)&q.i(B);return new f(k,this.h&q.h)},e.or=function(q){for(var P=Math.max(this.g.length,q.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)|q.i(B);return new f(k,this.h|q.h)},e.xor=function(q){for(var P=Math.max(this.g.length,q.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)^q.i(B);return new f(k,this.h^q.h)};function ht(q){for(var P=q.g.length+1,k=[],B=0;B<P;B++)k[B]=q.i(B)<<1|q.i(B-1)>>>31;return new f(k,q.h)}function Et(q,P){var k=P>>5;P%=32;for(var B=q.g.length-k,G=[],Y=0;Y<B;Y++)G[Y]=0<P?q.i(Y+k)>>>P|q.i(Y+k+1)<<32-P:q.i(Y+k);return new f(G,q.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,z1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,_o=f}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U1,ih,B1,jd,zy,F1,H1,q1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,R){return d==Array.prototype||d==Object.prototype||(d[w]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var w=0;w<d.length;++w){var R=d[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function o(d,w){if(w)t:{var R=s;d=d.split(".");for(var O=0;O<d.length-1;O++){var Q=d[O];if(!(Q in R))break t;R=R[Q]}d=d[d.length-1],O=R[d],w=w(O),w!=O&&w!=null&&t(R,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var R=0,O=!1,Q={next:function(){if(!O&&R<d.length){var ot=R++;return{value:w(ot,d[ot]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(d){return d||function(){return u(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function _(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function E(d,w,R){return d.call.apply(d.bind,arguments)}function A(d,w,R){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),d.apply(w,Q)}}return function(){return d.apply(w,arguments)}}function x(d,w,R){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,x.apply(null,arguments)}function N(d,w){var R=Array.prototype.slice.call(arguments,1);return function(){var O=R.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function D(d,w){function R(){}R.prototype=w.prototype,d.aa=w.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(O,Q,ot){for(var wt=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)wt[ie-2]=arguments[ie];return w.prototype[Q].apply(O,wt)}}function U(d){const w=d.length;if(0<w){const R=Array(w);for(let O=0;O<w;O++)R[O]=d[O];return R}return[]}function W(d,w){for(let R=1;R<arguments.length;R++){const O=arguments[R];if(y(O)){const Q=d.length||0,ot=O.length||0;d.length=Q+ot;for(let wt=0;wt<ot;wt++)d[Q+wt]=O[wt]}else d.push(O)}}class Z{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function it(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function yt(d){return yt[" "](d),d}yt[" "]=function(){};var ht=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Et(d,w,R){for(const O in d)w.call(R,d[O],O,d)}function q(d,w){for(const R in d)w.call(void 0,d[R],R,d)}function P(d){const w={};for(const R in d)w[R]=d[R];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(d,w){let R,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(R in O)d[R]=O[R];for(let ot=0;ot<k.length;ot++)R=k[ot],Object.prototype.hasOwnProperty.call(O,R)&&(d[R]=O[R])}}function G(d){var w=1;d=d.split(":");const R=[];for(;0<w&&d.length;)R.push(d.shift()),w--;return d.length&&R.push(d.join(":")),R}function Y(d){m.setTimeout(()=>{throw d},0)}function j(){var d=Kt;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Tt{constructor(){this.h=this.g=null}add(w,R){const O=Vt.get();O.set(w,R),this.h?this.h.next=O:this.g=O,this.h=O}}var Vt=new Z(()=>new st,d=>d.reset());class st{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,mt=!1,Kt=new Tt,z=()=>{const d=m.Promise.resolve(void 0);ft=()=>{d.then(lt)}};var lt=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(R){Y(R)}var w=Vt;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}mt=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,w),m.removeEventListener("test",R,w)}catch{}return d}();function It(d,w){if(vt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(ht){t:{try{yt(w.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(w=null)}}else R=="mouseover"?w=d.fromElement:R=="mouseout"&&(w=d.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&It.aa.h.call(this)}}D(It,vt);var xt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),le=0;function Ei(d,w,R,O,Q){this.listener=d,this.proxy=null,this.src=w,this.type=R,this.capture=!!O,this.ha=Q,this.key=++le,this.da=this.fa=!1}function Gi(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function wi(d){this.src=d,this.g={},this.h=0}wi.prototype.add=function(d,w,R,O,Q){var ot=d.toString();d=this.g[ot],d||(d=this.g[ot]=[],this.h++);var wt=vs(d,w,O,Q);return-1<wt?(w=d[wt],R||(w.fa=!1)):(w=new Ei(w,this.src,ot,!!O,Q),w.fa=R,d.push(w)),w};function xi(d,w){var R=w.type;if(R in d.g){var O=d.g[R],Q=Array.prototype.indexOf.call(O,w,void 0),ot;(ot=0<=Q)&&Array.prototype.splice.call(O,Q,1),ot&&(Gi(w),d.g[R].length==0&&(delete d.g[R],d.h--))}}function vs(d,w,R,O){for(var Q=0;Q<d.length;++Q){var ot=d[Q];if(!ot.da&&ot.listener==w&&ot.capture==!!R&&ot.ha==O)return Q}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),pa={};function ko(d,w,R,O,Q){if(Array.isArray(w)){for(var ot=0;ot<w.length;ot++)ko(d,w[ot],R,O,Q);return null}return R=jl(R),d&&d[Ee]?d.K(w,R,_(O)?!!O.capture:!1,Q):jn(d,w,R,!1,O,Q)}function jn(d,w,R,O,Q,ot){if(!w)throw Error("Invalid event type");var wt=_(Q)?!!Q.capture:!!Q,ie=Ir(d);if(ie||(d[Rr]=ie=new wi(d)),R=ie.add(w,R,O,wt,ot),R.proxy)return R;if(O=ga(),R.proxy=O,O.src=d,O.listener=R,d.addEventListener)At||(Q=wt),Q===void 0&&(Q=!1),d.addEventListener(w.toString(),O,Q);else if(d.attachEvent)d.attachEvent(Ts(w.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ga(){function d(R){return w.call(d.src,d.listener,R)}const w=Vl;return d}function Vo(d,w,R,O,Q){if(Array.isArray(w))for(var ot=0;ot<w.length;ot++)Vo(d,w[ot],R,O,Q);else O=_(O)?!!O.capture:!!O,R=jl(R),d&&d[Ee]?(d=d.i,w=String(w).toString(),w in d.g&&(ot=d.g[w],R=vs(ot,R,O,Q),-1<R&&(Gi(ot[R]),Array.prototype.splice.call(ot,R,1),ot.length==0&&(delete d.g[w],d.h--)))):d&&(d=Ir(d))&&(w=d.g[w.toString()],d=-1,w&&(d=vs(w,R,O,Q)),(R=-1<d?w[d]:null)&&Cr(R))}function Cr(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ee])xi(w.i,d);else{var R=d.type,O=d.proxy;w.removeEventListener?w.removeEventListener(R,O,d.capture):w.detachEvent?w.detachEvent(Ts(R),O):w.addListener&&w.removeListener&&w.removeListener(O),(R=Ir(w))?(xi(R,d),R.h==0&&(R.src=null,w[Rr]=null)):Gi(d)}}}function Ts(d){return d in pa?pa[d]:pa[d]="on"+d}function Vl(d,w){if(d.da)d=!0;else{w=new It(w,this);var R=d.listener,O=d.ha||d.src;d.fa&&Cr(d),d=R.call(O,w)}return d}function Ir(d){return d=d[Rr],d instanceof wi?d:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function jl(d){return typeof d=="function"?d:(d[jo]||(d[jo]=function(w){return d.handleEvent(w)}),d[jo])}function Ie(){bt.call(this),this.i=new wi(this),this.M=this,this.F=null}D(Ie,bt),Ie.prototype[Ee]=!0,Ie.prototype.removeEventListener=function(d,w,R,O){Vo(this,d,w,R,O)};function fe(d,w){var R,O=d.F;if(O)for(R=[];O;O=O.F)R.push(O);if(d=d.M,O=w.type||w,typeof w=="string")w=new vt(w,d);else if(w instanceof vt)w.target=w.target||d;else{var Q=w;w=new vt(O,d),B(w,Q)}if(Q=!0,R)for(var ot=R.length-1;0<=ot;ot--){var wt=w.g=R[ot];Q=zn(wt,O,!0,w)&&Q}if(wt=w.g=d,Q=zn(wt,O,!0,w)&&Q,Q=zn(wt,O,!1,w)&&Q,R)for(ot=0;ot<R.length;ot++)wt=w.g=R[ot],Q=zn(wt,O,!1,w)&&Q}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var R=d.g[w],O=0;O<R.length;O++)Gi(R[O]);delete d.g[w],d.h--}}this.F=null},Ie.prototype.K=function(d,w,R,O){return this.i.add(String(d),w,!1,R,O)},Ie.prototype.L=function(d,w,R,O){return this.i.add(String(d),w,!0,R,O)};function zn(d,w,R,O){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,ot=0;ot<w.length;++ot){var wt=w[ot];if(wt&&!wt.da&&wt.capture==R){var ie=wt.listener,Ze=wt.ha||wt.src;wt.fa&&xi(d.i,wt),Q=ie.call(Ze,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function _n(d,w,R){if(typeof d=="function")R&&(d=x(d,R));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:m.setTimeout(d,w||0)}function zo(d){d.g=_n(()=>{d.g=null,d.i&&(d.i=!1,zo(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class zl extends bt{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(d){bt.call(this),this.h=d,this.g={}}D(Pr,bt);var Gs=[];function bs(d){Et(d.g,function(w,R){this.g.hasOwnProperty(R)&&Cr(w)},d),d.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),bs(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=m.JSON.stringify,ya=m.JSON.parse,Si=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Uo(){}Uo.prototype.h=null;function Bo(d){return d.h||(d.h=d.i())}function _a(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){vt.call(this,"d")}D(Zi,vt);function Fo(){vt.call(this,"c")}D(Fo,vt);var Yi={},Ho=null;function Ws(){return Ho=Ho||new Ie}Yi.La="serverreachability";function va(d){vt.call(this,Yi.La,d)}D(va,vt);function Zs(d){const w=Ws();fe(w,new va(w))}Yi.STAT_EVENT="statevent";function Ta(d,w){vt.call(this,Yi.STAT_EVENT,d),this.stat=w}D(Ta,vt);function Pe(d){const w=Ws();fe(w,new Ta(w,d))}Yi.Ma="timingevent";function Qe(d,w){vt.call(this,Yi.Ma,d),this.size=w}D(Qe,vt);function We(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},w)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function Un(d,w,R,O,Q,ot){d.info(function(){if(d.g)if(ot)for(var wt="",ie=ot.split("&"),Ze=0;Ze<ie.length;Ze++){var se=ie[Ze].split("=");if(1<se.length){var ge=se[0];se=se[1];var Le=ge.split("_");wt=2<=Le.length&&Le[1]=="type"?wt+(ge+"="+se+"&"):wt+(ge+"=redacted&")}}else wt=null;else wt=ot;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+w+`
`+R+`
`+wt})}function Dt(d,w,R,O,Q,ot,wt){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+w+`
`+R+`
`+ot+" "+wt})}function Es(d,w,R,O){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ys(d,R)+(O?" "+O:"")})}function qo(d,w){d.info(function(){return"TIMEOUT: "+w})}oi.prototype.info=function(){};function Ys(d,w){if(!d.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var O=R[d];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var ot=Q[0];if(ot!="noop"&&ot!="stop"&&ot!="close")for(var wt=1;wt<Q.length;wt++)Q[wt]=""}}}}return ai(R)}catch{return w}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ri;function In(){}D(In,Uo),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},Ri=new In;function vn(d,w,R,O){this.j=d,this.i=w,this.l=R,this.R=O||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Go={},ba={};function Ci(d,w,R){d.L=1,d.v=Qn(Me(w)),d.m=R,d.P=!0,Ki(d,null)}function Ki(d,w){d.F=Date.now(),Lr(d),d.A=Me(d.v);var R=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Yo(R.i,"t",O),d.C=0,R=d.j.J,d.h=new Be,d.g=Gl(d.j,R?w:null,!d.m),0<d.O&&(d.M=new zl(x(d.Y,d,d.g),d.O)),w=d.U,R=d.g,O=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gs[0]=Q.toString()),Q=Gs);for(var ot=0;ot<Q.length;ot++){var wt=ko(R,Q[ot],O||w.handleEvent,!1,w.h||w);if(!wt)break;w.g[wt.key]=wt}w=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Zs(),Un(d.i,d.u,d.A,d.l,d.R,d.m)}vn.prototype.ca=function(d){d=d.target;const w=this.M;w&&En(d)==3?w.j():this.Y(d)},vn.prototype.Y=function(d){try{if(d==this.g)t:{const Le=En(this.g);var w=this.g.Ba();const Ms=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||Ko(this.g)))){this.J||Le!=4||w==7||(w==8||0>=Ms?Zs(3):Zs(2)),Ks(this);var R=this.g.Z();this.X=R;e:if(Ul(this)){var O=Ko(this.g);d="";var Q=O.length,ot=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),$i(this);var wt="";break e}this.h.i=new m.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,d+=this.h.i.decode(O[w],{stream:!(ot&&w==Q-1)});O.length=0,this.h.g+=d,this.C=0,wt=this.h.g}else wt=this.g.oa();if(this.o=R==200,Dt(this.i,this.u,this.A,this.l,this.R,Le,R),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,Ze=this.g;if((ie=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(ie)){var se=ie;break e}}se=null}if(R=se)Es(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xs(this,R);else{this.o=!1,this.s=3,Pe(12),dn(this),$i(this);break t}}if(this.P){R=!0;let Re;for(;!this.J&&this.C<wt.length;)if(Re=Mr(this,wt),Re==ba){Le==4&&(this.s=4,Pe(14),R=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==Go){this.s=4,Pe(15),Es(this.i,this.l,wt,"[Invalid Chunk]"),R=!1;break}else Es(this.i,this.l,Re,null),xs(this,Re);if(Ul(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||wt.length!=0||this.h.h||(this.s=1,Pe(16),R=!1),this.o=this.o&&R,!R)Es(this.i,this.l,wt,"[Invalid Chunked Response]"),dn(this),$i(this);else if(0<wt.length&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.ba&&!ge.M&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+wt.length),er(ge),ge.M=!0,Pe(11))}}else Es(this.i,this.l,wt,null),xs(this,wt);Le==4&&dn(this),this.o&&!this.J&&(Le==4?Xo(this.j,this):(this.o=!1,Lr(this)))}else oc(this.g),R==400&&0<wt.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),dn(this),$i(this)}}}catch{}finally{}};function Ul(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Mr(d,w){var R=d.C,O=w.indexOf(`
`,R);return O==-1?ba:(R=Number(w.substring(R,O)),isNaN(R)?Go:(O+=1,O+R>w.length?ba:(w=w.slice(O,O+R),d.C=O+R,w)))}vn.prototype.cancel=function(){this.J=!0,dn(this)};function Lr(d){d.S=Date.now()+d.I,Bl(d,d.I)}function Bl(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=We(x(d.ba,d),w)}function Ks(d){d.B&&(m.clearTimeout(d.B),d.B=null)}vn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(qo(this.i,this.A),this.L!=2&&(Zs(),Pe(17)),dn(this),this.s=2,$i(this)):Bl(this,this.S-d)};function $i(d){d.j.G==0||d.J||Xo(d.j,d)}function dn(d){Ks(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,bs(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function xs(d,w){try{var R=d.j;if(R.G!=0&&(R.g==d||Jt(R.h,d))){if(!d.K&&Jt(R.h,d)&&R.G==3){try{var O=R.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Pa(R),Ra(R);else break t;Ca(R),Pe(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=We(x(R.Za,R),6e3));if(1>=Qi(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Ps(R,11)}else if((d.K||R.g==d)&&Pa(R),!it(w))for(Q=R.Da.g.parse(w),w=0;w<Q.length;w++){let se=Q[w];if(R.T=se[0],se=se[1],R.G==2)if(se[0]=="c"){R.K=se[1],R.ia=se[2];const ge=se[3];ge!=null&&(R.la=ge,R.j.info("VER="+R.la));const Le=se[4];Le!=null&&(R.Aa=Le,R.j.info("SVER="+R.Aa));const Ms=se[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(O=1.5*Ms,R.L=O,R.j.info("backChannelRequestTimeoutMs_="+O)),O=R;const Re=d.g;if(Re){const is=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var ot=O.h;ot.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(pe(ot,ot.h),ot.h=null))}if(O.D){const ss=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(O.ya=ss,Ut(O.I,O.D,ss))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),O=R;var wt=d;if(O.qa=La(O,O.J?O.ia:null,O.W),wt.K){rn(O.h,wt);var ie=wt,Ze=O.L;Ze&&(ie.I=Ze),ie.B&&(Ks(ie),Lr(ie)),O.g=wt}else Ni(O);0<R.i.length&&tr(R)}else se[0]!="stop"&&se[0]!="close"||Ps(R,7);else R.G==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?Ps(R,7):Aa(R):se[0]!="noop"&&R.l&&R.l.ta(se),R.v=0)}}Zs(4)}catch{}}var $s=class{constructor(d,w){this.g=d,this.map=w}};function Xi(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qi(d){return d.h?1:d.g?d.g.size:0}function Jt(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function pe(d,w){d.g?d.g.add(w):d.h=w}function rn(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Xi.prototype.cancel=function(){if(this.i=Ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ji(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const R of d.g.values())w=w.concat(R.D);return w}return U(d.i)}function Xs(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var w=[],R=d.length,O=0;O<R;O++)w.push(d[O]);return w}w=[],R=0;for(O in d)w[R++]=d[O];return w}function Qs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var w=[];d=d.length;for(var R=0;R<d;R++)w.push(R);return w}w=[],R=0;for(const O in d)w[R++]=O;return w}}}function Wt(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var R=Qs(d),O=Xs(d),Q=O.length,ot=0;ot<Q;ot++)w.call(void 0,O[ot],R&&R[ot],d)}var _e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(d,w){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var O=d[R].indexOf("="),Q=null;if(0<=O){var ot=d[R].substring(0,O);Q=d[R].substring(O+1)}else ot=d[R];w(ot,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ke(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ke){this.h=d.h,Nr(this,d.j),this.o=d.o,this.g=d.g,Ii(this,d.s),this.l=d.l;var w=d.i,R=new Mi;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),Pn(this,R),this.m=d.m}else d&&(w=String(d).match(_e))?(this.h=!1,Nr(this,w[1]||"",!0),this.o=Tn(w[2]||""),this.g=Tn(w[3]||"",!0),Ii(this,w[4]),this.l=Tn(w[5]||"",!0),Pn(this,w[6]||"",!0),this.m=Tn(w[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}ke.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Pi(w,Ss,!0),":");var R=this.g;return(R||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Pi(w,Ss,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(Pi(R,R.charAt(0)=="/"?Zo:Or,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",Pi(R,Js)),d.join("")};function Me(d){return new ke(d)}function Nr(d,w,R){d.j=R?Tn(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Ii(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Pn(d,w,R){w instanceof Mi?(d.i=w,Jn(d.i,d.h)):(R||(w=Pi(w,wa)),d.i=new Mi(w,d.h))}function Ut(d,w,R){d.i.set(w,R)}function Qn(d){return Ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tn(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Pi(d,w,R){return typeof d=="string"?(d=encodeURI(d).replace(w,Ea),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ea(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ss=/[#\/\?@]/g,Or=/[#\?:]/g,Zo=/[#\?]/g,wa=/[#\?@]/g,Js=/#/g;function Mi(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Mn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wo(d.i,function(w,R){d.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}e=Mi.prototype,e.add=function(d,w){Mn(this),this.i=null,d=kt(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(w),this.h+=1,this};function ts(d,w){Mn(d),w=kt(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Li(d,w){return Mn(d),w=kt(d,w),d.g.has(w)}e.forEach=function(d,w){Mn(this),this.g.forEach(function(R,O){R.forEach(function(Q){d.call(w,Q,O,this)},this)},this)},e.na=function(){Mn(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let O=0;O<w.length;O++){const Q=d[O];for(let ot=0;ot<Q.length;ot++)R.push(w[O])}return R},e.V=function(d){Mn(this);let w=[];if(typeof d=="string")Li(this,d)&&(w=w.concat(this.g.get(kt(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)w=w.concat(d[R])}return w},e.set=function(d,w){return Mn(this),this.i=null,d=kt(this,d),Li(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},e.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Yo(d,w,R){ts(d,w),0<R.length&&(d.i=null,d.g.set(kt(d,w),U(R)),d.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var O=w[R];const ot=encodeURIComponent(String(O)),wt=this.V(O);for(O=0;O<wt.length;O++){var Q=ot;wt[O]!==""&&(Q+="="+encodeURIComponent(String(wt[O]))),d.push(Q)}}return this.i=d.join("&")};function kt(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Jn(d,w){w&&!d.j&&(Mn(d),d.i=null,d.g.forEach(function(R,O){var Q=O.toLowerCase();O!=Q&&(ts(this,O),Yo(this,Q,R))},d)),d.j=w}function ue(d,w){const R=new oi;if(m.Image){const O=new Image;O.onload=N(Bn,R,"TestLoadImage: loaded",!0,w,O),O.onerror=N(Bn,R,"TestLoadImage: error",!1,w,O),O.onabort=N(Bn,R,"TestLoadImage: abort",!1,w,O),O.ontimeout=N(Bn,R,"TestLoadImage: timeout",!1,w,O),m.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else w(!1)}function li(d,w){const R=new oi,O=new AbortController,Q=setTimeout(()=>{O.abort(),Bn(R,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:O.signal}).then(ot=>{clearTimeout(Q),ot.ok?Bn(R,"TestPingServer: ok",!0,w):Bn(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),Bn(R,"TestPingServer: error",!1,w)})}function Bn(d,w,R,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(R)}catch{}}function As(){this.g=new Si}function ui(d,w,R){const O=R||"";try{Wt(d,function(Q,ot){let wt=Q;_(Q)&&(wt=ai(Q)),w.push(O+ot+"="+encodeURIComponent(wt))})}catch(Q){throw w.push(O+"type="+encodeURIComponent("_badmap")),Q}}function Fn(d){this.l=d.Ub||null,this.j=d.eb||!1}D(Fn,Uo),Fn.prototype.g=function(){return new Di(this.l,this.j)},Fn.prototype.i=function(d){return function(){return d}}({});function Di(d,w){Ie.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Di,Ie),e=Di.prototype,e.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,bn(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||m).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rs(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rs(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?we(this):bn(this),this.readyState==3&&Rs(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,we(this))},e.Qa=function(d){this.g&&(this.response=d,we(this))},e.ga=function(){this.g&&we(this)};function we(d){d.readyState=4,d.l=null,d.j=null,d.v=null,bn(d)}e.setRequestHeader=function(d,w){this.u.append(d,w)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=w.next();return d.join(`\r
`)};function bn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xa(d){let w="";return Et(d,function(R,O){w+=O,w+=":",w+=R,w+=`\r
`}),w}function Je(d,w,R){t:{for(O in R){var O=!1;break t}O=!0}O||(R=xa(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):Ut(d,w,R))}function de(d){Ie.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(de,Ie);var kr=/^https?$/i,Cs=["POST","PUT"];e=de.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,w,R,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ri.g(),this.v=this.o?Bo(this.o):Bo(Ri),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(ot){Fl(this,ot);return}if(d=R||"",R=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)R.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ot of O.keys())R.set(ot,O.get(ot));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(R.keys()).find(ot=>ot.toLowerCase()=="content-type"),Q=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cs,w,void 0))||O||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,wt]of R)this.g.setRequestHeader(ot,wt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mn(this),this.u=!0,this.g.send(d),this.u=!1}catch(ot){Fl(this,ot)}};function Fl(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,Vr(d),es(d)}function Vr(d){d.A||(d.A=!0,fe(d,"complete"),fe(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,fe(this,"complete"),fe(this,"abort"),es(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),de.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)};function $t(d){if(d.h&&typeof f<"u"&&(!d.v[1]||En(d)!=4||d.Z()!=2)){if(d.u&&En(d)==4)_n(d.Ea,0,d);else if(fe(d,"readystatechange"),En(d)==4){d.h=!1;try{const wt=d.Z();t:switch(wt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var O;if(O=wt===0){var Q=String(d.D).match(_e)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),O=!kr.test(Q?Q.toLowerCase():"")}R=O}if(R)fe(d,"complete"),fe(d,"success");else{d.m=6;try{var ot=2<En(d)?d.g.statusText:""}catch{ot=""}d.l=ot+" ["+d.Z()+"]",Vr(d)}}finally{es(d)}}}}function es(d,w){if(d.g){mn(d);const R=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||fe(d,"ready");try{R.onreadystatechange=O}catch{}}}function mn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function En(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),ya(w)}};function Ko(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(d){const w={};d=(d.g&&2<=En(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(it(d[O]))continue;var R=G(d[O]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ot=w[Q]||[];w[Q]=ot,ot.push(R)}q(w,function(O){return O.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(d,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||w}function Sa(d){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,d),this.cb=Is("retryDelaySeedMs",1e4,d),this.Wa=Is("forwardChannelMaxRetries",2,d),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(d&&d.concurrentRequestLimit),this.Da=new As,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Sa.prototype,e.la=8,e.G=1,e.connect=function(d,w,R,O){Pe(0),this.W=d,this.H=w||{},R&&O!==void 0&&(this.H.OSID=R,this.H.OAID=O),this.F=this.X,this.I=La(this,null,this.W),tr(this)};function Aa(d){if(Hl(d),d.G==3){var w=d.U++,R=Me(d.I);if(Ut(R,"SID",d.K),Ut(R,"RID",w),Ut(R,"TYPE","terminate"),jr(d,R),w=new vn(d,d.j,w),w.L=2,w.v=Qn(Me(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=w.v,R=!0),R||(w.g=Gl(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Lr(w)}ql(d)}function Ra(d){d.g&&(er(d),d.g.cancel(),d.g=null)}function Hl(d){Ra(d),d.u&&(m.clearTimeout(d.u),d.u=null),Pa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function tr(d){if(!Dr(d.h)&&!d.s){d.s=!0;var w=d.Ga;ft||z(),mt||(ft(),mt=!0),Kt.add(w,d),d.B=0}}function lc(d,w){return Qi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=We(x(d.Ga,d,w),Ma(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new vn(this,this.j,d);let ot=this.o;if(this.S&&(ot?(ot=P(ot),B(ot,this.S)):ot=this.S),this.m!==null||this.O||(Q.H=ot,ot=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var O=this.i[R];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=$o(this,Q,w),R=Me(this.I),Ut(R,"RID",d),Ut(R,"CVER",22),this.D&&Ut(R,"X-HTTP-Session-Id",this.D),jr(this,R),ot&&(this.O?w="headers="+encodeURIComponent(String(xa(ot)))+"&"+w:this.m&&Je(R,this.m,ot)),pe(this.h,Q),this.Ua&&Ut(R,"TYPE","init"),this.P?(Ut(R,"$req",w),Ut(R,"SID","null"),Q.T=!0,Ci(Q,R,null)):Ci(Q,R,w),this.G=2}}else this.G==3&&(d?Hn(this,d):this.i.length==0||Dr(this.h)||Hn(this))};function Hn(d,w){var R;w?R=w.l:R=d.U++;const O=Me(d.I);Ut(O,"SID",d.K),Ut(O,"RID",R),Ut(O,"AID",d.T),jr(d,O),d.m&&d.o&&Je(O,d.m,d.o),R=new vn(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),w&&(d.i=w.D.concat(d.i)),w=$o(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),pe(d.h,R),Ci(R,O,w)}function jr(d,w){d.H&&Et(d.H,function(R,O){Ut(w,O,R)}),d.l&&Wt({},function(R,O){Ut(w,O,R)})}function $o(d,w,R){R=Math.min(d.i.length,R);var O=d.l?x(d.l.Na,d.l,d):null;t:{var Q=d.i;let ot=-1;for(;;){const wt=["count="+R];ot==-1?0<R?(ot=Q[0].g,wt.push("ofs="+ot)):ot=0:wt.push("ofs="+ot);let ie=!0;for(let Ze=0;Ze<R;Ze++){let se=Q[Ze].g;const ge=Q[Ze].map;if(se-=ot,0>se)ot=Math.max(0,Q[Ze].g-100),ie=!1;else try{ui(ge,wt,"req"+se+"_")}catch{O&&O(ge)}}if(ie){O=wt.join("&");break t}}}return d=d.i.splice(0,R),w.D=d,O}function Ni(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;ft||z(),mt||(ft(),mt=!0),Kt.add(w,d),d.v=0}}function Ca(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=We(x(d.Fa,d),Ma(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,Ia(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=We(x(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Ra(this),Ia(this))};function er(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Ia(d){d.g=new vn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Me(d.qa);Ut(w,"RID","rpc"),Ut(w,"SID",d.K),Ut(w,"AID",d.T),Ut(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ut(w,"TO",d.ja),Ut(w,"TYPE","xmlhttp"),jr(d,w),d.m&&d.o&&Je(w,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=Qn(Me(w)),R.m=null,R.P=!0,Ki(R,d)}e.Za=function(){this.C!=null&&(this.C=null,Ra(this),Ca(this),Pe(19))};function Pa(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function Xo(d,w){var R=null;if(d.g==w){Pa(d),er(d),d.g=null;var O=2}else if(Jt(d.h,w))R=w.D,rn(d.h,w),O=1;else return;if(d.G!=0){if(w.o)if(O==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var Q=d.B;O=Ws(),fe(O,new Qe(O,R)),tr(d)}else Ni(d);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(O==1&&lc(d,w)||O==2&&Ca(d)))switch(R&&0<R.length&&(w=d.h,w.i=w.i.concat(R)),Q){case 1:Ps(d,5);break;case 4:Ps(d,10);break;case 3:Ps(d,6);break;default:Ps(d,2)}}}function Ma(d,w){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*w}function Ps(d,w){if(d.j.info("Error code "+w),w==2){var R=x(d.fb,d),O=d.Xa;const Q=!O;O=new ke(O||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Nr(O,"https"),Qn(O),Q?ue(O.toString(),R):li(O.toString(),R)}else Pe(2);d.G=0,d.l&&d.l.sa(w),ql(d),Hl(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function ql(d){if(d.G=0,d.ka=[],d.l){const w=Ji(d.h);(w.length!=0||d.i.length!=0)&&(W(d.ka,w),W(d.ka,d.i),d.h.i.length=0,U(d.i),d.i.length=0),d.l.ra()}}function La(d,w,R){var O=R instanceof ke?Me(R):new ke(R);if(O.g!="")w&&(O.g=w+"."+O.g),Ii(O,O.s);else{var Q=m.location;O=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var ot=new ke(null);O&&Nr(ot,O),w&&(ot.g=w),Q&&Ii(ot,Q),R&&(ot.l=R),O=ot}return R=d.D,w=d.ya,R&&w&&Ut(O,R,w),Ut(O,"VER",d.la),jr(d,O),O}function Gl(d,w,R){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new de(new Fn({eb:R})):new de(d.pa),w.Ha(d.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qo(){}e=Qo.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function zr(){}zr.prototype.g=function(d,w){return new an(d,w)};function an(d,w){Ie.call(this),this.g=new Sa(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!it(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!it(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new qn(this)}D(an,Ie),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Aa(this.g)},an.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=ai(d),d=R);w.i.push(new $s(w.Ya++,d)),w.G==3&&tr(w)},an.prototype.N=function(){this.g.l=null,delete this.j,Aa(this.g),delete this.g,an.aa.N.call(this)};function ns(d){Zi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const R in w){d=R;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}D(ns,Zi);function Wl(){Fo.call(this),this.status=1}D(Wl,Fo);function qn(d){this.g=d}D(qn,Qo),qn.prototype.ua=function(){fe(this.g,"a")},qn.prototype.ta=function(d){fe(this.g,new ns(d))},qn.prototype.sa=function(d){fe(this.g,new Wl)},qn.prototype.ra=function(){fe(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,q1=function(){return new zr},H1=function(){return Ws()},F1=Yi,zy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,jd=ws,Ai.COMPLETE="complete",B1=Ai,_a.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,ih=_a,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,U1=de}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const iw="@firebase/firestore",sw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new k_("@firebase/firestore");function xu(){return Dl.logLevel}function Ct(e,...t){if(Dl.logLevel<=re.DEBUG){const n=t.map(K_);Dl.debug(`Firestore (${Qu}): ${e}`,...n)}}function ca(e,...t){if(Dl.logLevel<=re.ERROR){const n=t.map(K_);Dl.error(`Firestore (${Qu}): ${e}`,...n)}}function ju(e,...t){if(Dl.logLevel<=re.WARN){const n=t.map(K_);Dl.warn(`Firestore (${Qu}): ${e}`,...n)}}function K_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,G1(e,s,n)}function G1(e,t,n){let s=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ca(s),new Error(s)}function ye(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||G1(t,o,s)}function Yt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class uO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cO{constructor(t){this.t=t,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ye(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new aa,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new aa)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ye(typeof s.accessToken=="string",31837,{l:s}),new W1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string",2055,{h:t}),new Yn(t)}}class hO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new hO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ye(this.o===void 0,3512);const s=u=>{u.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function ae(e,t){return e<t?-1:e>t?1:0}function Uy(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return ry(o)===ry(u)?ae(o,u):ry(o)?1:-1}return ae(e.length,t.length)}const pO=55296,gO=57343;function ry(e){const t=e.charCodeAt(0);return t>=pO&&t<=gO}function zu(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__name__";class cr{constructor(t,n,s){n===void 0?n=0:n>t.length&&Ft(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Ft(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return cr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=cr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return ae(t.length,n.length)}static compareSegments(t,n){const s=cr.isNumericId(t),o=cr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?cr.extractNumericId(t).compare(cr.extractNumericId(n)):Uy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _o.fromString(t.substring(4,t.length-2))}}class Oe extends cr{construct(t,n,s){return new Oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new St(ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends cr{construct(t,n,s){return new kn(t,n,s)}static isValidIdentifier(t){return yO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aw}static keyField(){return new kn([aw])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new St(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new St(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new St(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(Oe.fromString(t))}static fromName(t){return new Ot(Oe.fromString(t).popFirst(5))}static empty(){return new Ot(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e,t,n){if(!n)throw new St(ct.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _O(e,t,n,s){if(t===!0&&s===!0)throw new St(ct.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ow(e){if(!Ot.isDocumentKey(e))throw new St(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lw(e){if(Ot.isDocumentKey(e))throw new St(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Y1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Nm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ft(12329,{type:typeof e})}function Ti(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new St(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(e);throw new St(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e,t){const n={typeString:e};return t&&(n.value=t),n}function tf(e,t){if(!Y1(e))throw new St(ct.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const f=e[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new St(ct.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=-62135596800,cw=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cw);return new Ve(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uw)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cw}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tf(t,Ve._jsonSchema))return new Ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:fn("string",Ve._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new Ve(0,0))}static max(){return new Zt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=-1;function vO(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=Zt.fromTimestamp(s===1e9?new Ve(n+1,0):new Ve(n,s));return new Eo(o,Ot.empty(),t)}function TO(e){return new Eo(e.readTime,e.key,Ch)}class Eo{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Eo(Zt.min(),Ot.empty(),Ch)}static max(){return new Eo(Zt.max(),Ot.empty(),Ch)}}function bO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(e){if(e.code!==ct.FAILED_PRECONDITION||e.message!==EO)throw e;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new gt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof gt?n:gt.resolve(n)}catch(n){return gt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):gt.reject(n)}static resolve(t){return new gt((n,s)=>{n(t)})}static reject(t){return new gt((n,s)=>{s(t)})}static waitFor(t){return new gt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(t){let n=gt.resolve(!1);for(const s of t)n=n.next(o=>o?gt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new gt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next(E=>{f[_]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new gt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function xO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Om.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-1;function km(e){return e==null}function om(e){return e===0&&1/e==-1/0}function SO(e){return typeof e=="number"&&Number.isInteger(e)&&!om(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="";function AO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hw(t)),t=RO(e.get(n),t);return hw(t)}function RO(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case K1:n+="";break;default:n+=u}}return n}function hw(e){return e+K1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Do(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){this.comparator=t,this.root=n||On.EMPTY}insert(t,n){return new Ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(t){return new Ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,On.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _d(this.root,t,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _d(this.root,t,this.comparator,!0)}}class _d{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class On{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??On.RED,this.left=o??On.EMPTY,this.right=u??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new On(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return On.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ft(27949);return t+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new On(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.comparator=t,this.data=new Ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dw(this.data.getIterator())}getIteratorFrom(t){return new dw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new yn(this.comparator);return n.data=t,n}}class dw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.fields=t,t.sort(kn.comparator)}static empty(){return new qi([])}unionWith(t){let n=new yn(kn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zu(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X1("Invalid base64 string: "+u):u}}(t);return new Vn(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Vn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const CO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(e){if(ye(!!e,39018),typeof e=="string"){let t=0;const n=CO.exec(e);if(ye(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:sn(e.seconds),nanos:sn(e.nanos)}}function sn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xo(e){return typeof e=="string"?Vn.fromBase64String(e):Vn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="server_timestamp",J1="__type__",tA="__previous_value__",eA="__local_write_time__";function Q_(e){return(e?.mapValue?.fields||{})[J1]?.stringValue===Q1}function Vm(e){const t=e.mapValue.fields[tA];return Q_(t)?Vm(t):t}function Ih(e){const t=wo(e.mapValue.fields[eA].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,n,s,o,u,f,m,y,_,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Ph="(default)";class Mh{constructor(t,n){this.projectId=t,this.database=n||Ph}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(t){return t instanceof Mh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="__type__",PO="__max__",vd={mapValue:{}},iA="__vector__",lm="value";function So(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Q_(e)?4:LO(e)?9007199254740991:MO(e)?10:11:Ft(28295,{value:e})}function Er(e,t){if(e===t)return!0;const n=So(e);if(n!==So(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ih(e).isEqual(Ih(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=wo(o.timestampValue),m=wo(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return xo(o.bytesValue).isEqual(xo(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return sn(o.geoPointValue.latitude)===sn(u.geoPointValue.latitude)&&sn(o.geoPointValue.longitude)===sn(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return sn(o.integerValue)===sn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=sn(o.doubleValue),m=sn(u.doubleValue);return f===m?om(f)===om(m):isNaN(f)&&isNaN(m)}return!1}(e,t);case 9:return zu(e.arrayValue.values||[],t.arrayValue.values||[],Er);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fw(f)!==fw(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Er(f[y],m[y])))return!1;return!0}(e,t);default:return Ft(52216,{left:e})}}function Lh(e,t){return(e.values||[]).find(n=>Er(n,t))!==void 0}function Uu(e,t){if(e===t)return 0;const n=So(e),s=So(t);if(n!==s)return ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(u,f){const m=sn(u.integerValue||u.doubleValue),y=sn(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(e,t);case 3:return mw(e.timestampValue,t.timestampValue);case 4:return mw(Ih(e),Ih(t));case 5:return Uy(e.stringValue,t.stringValue);case 6:return function(u,f){const m=xo(u),y=xo(f);return m.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const E=ae(m[_],y[_]);if(E!==0)return E}return ae(m.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const m=ae(sn(u.latitude),sn(f.latitude));return m!==0?m:ae(sn(u.longitude),sn(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return pw(e.arrayValue,t.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},_=m[lm]?.arrayValue,E=y[lm]?.arrayValue,A=ae(_?.values?.length||0,E?.values?.length||0);return A!==0?A:pw(_,E)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===vd.mapValue&&f===vd.mapValue)return 0;if(u===vd.mapValue)return 1;if(f===vd.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=f.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const x=Uy(y[A],E[A]);if(x!==0)return x;const N=Uu(m[y[A]],_[E[A]]);if(N!==0)return N}return ae(y.length,E.length)}(e.mapValue,t.mapValue);default:throw Ft(23264,{he:n})}}function mw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=wo(e),s=wo(t),o=ae(n.seconds,s.seconds);return o!==0?o:ae(n.nanos,s.nanos)}function pw(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Uu(n[o],s[o]);if(u)return u}return ae(n.length,s.length)}function Bu(e){return By(e)}function By(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=wo(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return xo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=By(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${By(n.fields[f])}`;return o+"}"}(e.mapValue):Ft(61005,{value:e})}function zd(e){switch(So(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vm(e);return t?16+zd(t):16;case 5:return 2*e.stringValue.length;case 6:return xo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+zd(u),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return Do(s.fields,(u,f)=>{o+=u.length+zd(f)}),o}(e.mapValue);default:throw Ft(13486,{value:e})}}function gw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Fy(e){return!!e&&"integerValue"in e}function J_(e){return!!e&&"arrayValue"in e}function yw(e){return!!e&&"nullValue"in e}function _w(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ud(e){return!!e&&"mapValue"in e}function MO(e){return(e?.mapValue?.fields||{})[nA]?.stringValue===iA}function mh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Do(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=mh(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mh(e.arrayValue.values[n]);return t}return{...e}}function LO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===PO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.value=t}static empty(){return new gi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ud(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mh(n)}setAll(t){let n=kn.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=mh(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Er(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Ud(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Do(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new gi(mh(this.value))}}function sA(e){const t=[];return Do(e.fields,(n,s)=>{const o=new kn([n]);if(Ud(s)){const u=sA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new qi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Kn(t,0,Zt.min(),Zt.min(),Zt.min(),gi.empty(),0)}static newFoundDocument(t,n,s,o){return new Kn(t,1,n,Zt.min(),s,o,0)}static newNoDocument(t,n){return new Kn(t,2,n,Zt.min(),Zt.min(),gi.empty(),0)}static newUnknownDocument(t,n){return new Kn(t,3,n,Zt.min(),Zt.min(),gi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,n){this.position=t,this.inclusive=n}}function vw(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?s=Ot.comparator(Ot.fromName(f.referenceValue),n.key):s=Uu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Er(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function DO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{}class hn extends rA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new OO(t,n,s):n==="array-contains"?new jO(t,s):n==="in"?new zO(t,s):n==="not-in"?new UO(t,s):n==="array-contains-any"?new BO(t,s):new hn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new kO(t,s):new VO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uu(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Uu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fs extends rA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Fs(t,n)}matches(t){return aA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aA(e){return e.op==="and"}function oA(e){return NO(e)&&aA(e)}function NO(e){for(const t of e.filters)if(t instanceof Fs)return!1;return!0}function Hy(e){if(e instanceof hn)return e.field.canonicalString()+e.op.toString()+Bu(e.value);if(oA(e))return e.filters.map(t=>Hy(t)).join(",");{const t=e.filters.map(n=>Hy(n)).join(",");return`${e.op}(${t})`}}function lA(e,t){return e instanceof hn?function(s,o){return o instanceof hn&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(e,t):e instanceof Fs?function(s,o){return o instanceof Fs&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&lA(f,o.filters[m]),!0):!1}(e,t):void Ft(19439)}function uA(e){return e instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${Bu(n.value)}`}(e):e instanceof Fs?function(n){return n.op.toString()+" {"+n.getFilters().map(uA).join(" ,")+"}"}(e):"Filter"}class OO extends hn{constructor(t,n,s){super(t,n,s),this.key=Ot.fromName(s.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class kO extends hn{constructor(t,n){super(t,"in",n),this.keys=cA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VO extends hn{constructor(t,n){super(t,"not-in",n),this.keys=cA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function cA(e,t){return(t.arrayValue?.values||[]).map(n=>Ot.fromName(n.referenceValue))}class jO extends hn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return J_(n)&&Lh(n.arrayValue,this.value)}}class zO extends hn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Lh(this.value.arrayValue,n)}}class UO extends hn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lh(this.value.arrayValue,n)}}class BO extends hn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!J_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Lh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function bw(e,t=null,n=[],s=[],o=null,u=null,f=null){return new FO(e,t,n,s,o,u,f)}function tv(e){const t=Yt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Hy(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),km(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Bu(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Bu(s)).join(",")),t.Te=n}return t.Te}function ev(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!DO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tw(e.startAt,t.startAt)&&Tw(e.endAt,t.endAt)}function qy(e){return Ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HO(e,t,n,s,o,u,f,m){return new ec(e,t,n,s,o,u,f,m)}function jm(e){return new ec(e)}function Ew(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function hA(e){return e.collectionGroup!==null}function ph(e){const t=Yt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new yn(kn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Dh(u,s))}),n.has(kn.keyField().canonicalString())||t.Ie.push(new Dh(kn.keyField(),s))}return t.Ie}function mr(e){const t=Yt(e);return t.Ee||(t.Ee=qO(t,ph(e))),t.Ee}function qO(e,t){if(e.limitType==="F")return bw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)});const n=e.endAt?new um(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new um(e.startAt.position,e.startAt.inclusive):null;return bw(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Gy(e,t){const n=e.filters.concat([t]);return new ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cm(e,t,n){return new ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zm(e,t){return ev(mr(e),mr(t))&&e.limitType===t.limitType}function fA(e){return`${tv(mr(e))}|lt:${e.limitType}`}function Su(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>uA(o)).join(", ")}]`),km(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Bu(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Bu(o)).join(",")),`Target(${s})`}(mr(e))}; limitType=${e.limitType})`}function Um(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ot.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of ph(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(f,m,y){const _=vw(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,ph(s),o)||s.endAt&&!function(f,m,y){const _=vw(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,ph(s),o))}(e,t)}function GO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dA(e){return(t,n)=>{let s=!1;for(const o of ph(e)){const u=WO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WO(e,t,n){const s=e.field.isKeyField()?Ot.comparator(t.key,n.key):function(u,f,m){const y=f.data.field(u),_=m.data.field(u);return y!==null&&_!==null?Uu(y,_):Ft(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Ft(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Do(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Ge(Ot.comparator);function ha(){return ZO}const mA=new Ge(Ot.comparator);function sh(...e){let t=mA;for(const n of e)t=t.insert(n.key,n);return t}function pA(e){let t=mA;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function wl(){return gh()}function gA(){return gh()}function gh(){return new Ol(e=>e.toString(),(e,t)=>e.isEqual(t))}const YO=new Ge(Ot.comparator),KO=new yn(Ot.comparator);function oe(...e){let t=KO;for(const n of e)t=t.add(n);return t}const $O=new yn(ae);function XO(){return $O}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(t)?"-0":t}}function yA(e){return{integerValue:""+e}}function QO(e,t){return SO(t)?yA(t):nv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this._=void 0}}function JO(e,t,n){return e instanceof Nh?function(o,u){const f={fields:{[J1]:{stringValue:Q1},[eA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Q_(u)&&(u=Vm(u)),u&&(f.fields[tA]=u),{mapValue:f}}(n,t):e instanceof Oh?vA(e,t):e instanceof kh?TA(e,t):function(o,u){const f=_A(o,u),m=ww(f)+ww(o.Ae);return Fy(f)&&Fy(o.Ae)?yA(m):nv(o.serializer,m)}(e,t)}function tk(e,t,n){return e instanceof Oh?vA(e,t):e instanceof kh?TA(e,t):n}function _A(e,t){return e instanceof hm?function(s){return Fy(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Nh extends Bm{}class Oh extends Bm{constructor(t){super(),this.elements=t}}function vA(e,t){const n=bA(t);for(const s of e.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class kh extends Bm{constructor(t){super(),this.elements=t}}function TA(e,t){let n=bA(t);for(const s of e.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class hm extends Bm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function ww(e){return sn(e.integerValue||e.doubleValue)}function bA(e){return J_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,n){this.field=t,this.transform=n}}function nk(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Oh&&o instanceof Oh||s instanceof kh&&o instanceof kh?zu(s.elements,o.elements,Er):s instanceof hm&&o instanceof hm?Er(s.Ae,o.Ae):s instanceof Nh&&o instanceof Nh}(e.transform,t.transform)}class ik{constructor(t,n){this.version=t,this.transformResults=n}}class ps{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ps}static exists(t){return new ps(void 0,t)}static updateTime(t){return new ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Fm{}function EA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new iv(e.key,ps.none()):new ef(e.key,e.data,ps.none());{const n=e.data,s=gi.empty();let o=new yn(kn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new No(e.key,s,new qi(o.toArray()),ps.none())}}function sk(e,t,n){e instanceof ef?function(o,u,f){const m=o.value.clone(),y=Sw(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(e,t,n):e instanceof No?function(o,u,f){if(!Bd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Sw(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(wA(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(e,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function yh(e,t,n,s){return e instanceof ef?function(u,f,m,y){if(!Bd(u.precondition,f))return m;const _=u.value.clone(),E=Aw(u.fieldTransforms,y,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(e,t,n,s):e instanceof No?function(u,f,m,y){if(!Bd(u.precondition,f))return m;const _=Aw(u.fieldTransforms,y,f),E=f.data;return E.setAll(wA(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(e,t,n,s):function(u,f,m){return Bd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(e,t,n)}function rk(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=_A(s.transform,o||null);u!=null&&(n===null&&(n=gi.empty()),n.set(s.field,u))}return n||null}function xw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zu(s,o,(u,f)=>nk(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ef extends Fm{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class No extends Fm{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Sw(e,t,n){const s=new Map;ye(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,tk(f,m,n[o]))}return s}function Aw(e,t,n){const s=new Map;for(const o of e){const u=o.transform,f=n.data.field(o.field);s.set(o.field,JO(u,f,t))}return s}class iv extends Fm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ak extends Fm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&sk(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yh(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yh(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=gA();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=EA(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Zt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&zu(this.mutations,t.mutations,(n,s)=>xw(n,s))&&zu(this.baseMutations,t.baseMutations,(n,s)=>xw(n,s))}}class sv{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ye(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return YO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new sv(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,he;function ck(e){switch(e){case ct.OK:return Ft(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Ft(15467,{code:e})}}function xA(e){if(e===void 0)return ca("GRPC error has no .code"),ct.UNKNOWN;switch(e){case un.OK:return ct.OK;case un.CANCELLED:return ct.CANCELLED;case un.UNKNOWN:return ct.UNKNOWN;case un.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case un.INTERNAL:return ct.INTERNAL;case un.UNAVAILABLE:return ct.UNAVAILABLE;case un.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case un.NOT_FOUND:return ct.NOT_FOUND;case un.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case un.ABORTED:return ct.ABORTED;case un.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case un.DATA_LOSS:return ct.DATA_LOSS;default:return Ft(39323,{code:e})}}(he=un||(un={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new _o([4294967295,4294967295],0);function Rw(e){const t=hk().encode(e),n=new z1;return n.update(t),new Uint8Array(n.digest())}function Cw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new _o([n,s],0),new _o([o,u],0)]}class rv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new rh(`Invalid padding: ${n}`);if(s<0)throw new rh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new rh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=_o.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(_o.fromNumber(s)));return o.compare(fk)===1&&(o=new _o([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Rw(t),[s,o]=Cw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new rv(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.ge===0)return;const n=Rw(t),[s,o]=Cw(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,nf.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Hm(Zt.min(),o,new Ge(ae),ha(),oe())}}class nf{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new nf(s,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class SA{constructor(t,n){this.targetId=t,this.Ce=n}}class AA{constructor(t,n,s=Vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Iw{constructor(){this.ve=0,this.Fe=Pw(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=oe(),n=oe(),s=oe();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ft(38017,{changeType:u})}}),new nf(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Pw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dk{constructor(t){this.Ge=t,this.ze=new Map,this.je=ha(),this.Je=Td(),this.He=Td(),this.Ye=new Ge(ae)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Ft(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(qy(u))if(s===0){const f=new Ot(u.path);this.et(n,f,Kn.newNoDocument(f,Zt.min()))}else ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=xo(s).toUint8Array()}catch(y){if(y instanceof X1)return ju("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new rv(f,o,u)}catch(y){return ju(y instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&qy(m.target)){const y=new Ot(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Kn.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=oe();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Hm(t,n,this.Ye,this.je,s);return this.je=ha(),this.Je=Td(),this.He=Td(),this.Ye=new Ge(ae),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Iw,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new yn(ae),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new yn(ae),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iw),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Td(){return new Ge(Ot.comparator)}function Pw(){return new Ge(Ot.comparator)}const mk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk={and:"AND",or:"OR"};class yk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wy(e,t){return e.useProto3Json||km(t)?t:{value:t}}function fm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _k(e,t){return fm(e,t.toTimestamp())}function pr(e){return ye(!!e,49232),Zt.fromTimestamp(function(n){const s=wo(n);return new Ve(s.seconds,s.nanos)}(e))}function av(e,t){return Zy(e,t).canonicalString()}function Zy(e,t){const n=function(o){return new Oe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function CA(e){const t=Oe.fromString(e);return ye(DA(t),10190,{key:t.toString()}),t}function Yy(e,t){return av(e.databaseId,t.path)}function ay(e,t){const n=CA(t);if(n.get(1)!==e.databaseId.projectId)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ot(PA(n))}function IA(e,t){return av(e.databaseId,t)}function vk(e){const t=CA(e);return t.length===4?Oe.emptyPath():PA(t)}function Ky(e){return new Oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PA(e){return ye(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Mw(e,t,n){return{name:Yy(e,t),fields:n.value.mapValue.fields}}function Tk(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ft(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(ye(E===void 0||typeof E=="string",58123),Vn.fromBase64String(E||"")):(ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Vn.fromUint8Array(E||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(_){const E=_.code===void 0?ct.UNKNOWN:xA(_.code);return new St(E,_.message||"")}(f);n=new AA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ay(e,s.document.name),u=pr(s.document.updateTime),f=s.document.createTime?pr(s.document.createTime):Zt.min(),m=new gi({mapValue:{fields:s.document.fields}}),y=Kn.newFoundDocument(o,u,f,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new Fd(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ay(e,s.document),u=s.readTime?pr(s.readTime):Zt.min(),f=Kn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Fd([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ay(e,s.document),u=s.removedTargetIds||[];n=new Fd([],u,o,null)}else{if(!("filter"in t))return Ft(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new uk(o,u),m=s.targetId;n=new SA(m,f)}}return n}function bk(e,t){let n;if(t instanceof ef)n={update:Mw(e,t.key,t.value)};else if(t instanceof iv)n={delete:Yy(e,t.key)};else if(t instanceof No)n={update:Mw(e,t.key,t.data),updateMask:Pk(t.fieldMask)};else{if(!(t instanceof ak))return Ft(16599,{Vt:t.type});n={verify:Yy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hm)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ft(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:_k(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ft(27497)}(e,t.precondition)),n}function Ek(e,t){return e&&e.length>0?(ye(t!==void 0,14353),e.map(n=>function(o,u){let f=o.updateTime?pr(o.updateTime):pr(u);return f.isEqual(Zt.min())&&(f=pr(u)),new ik(f,o.transformResults||[])}(n,t))):[]}function wk(e,t){return{documents:[IA(e,t.path)]}}function xk(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IA(e,o);const u=function(_){if(_.length!==0)return LA(Fs.create(_,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(x){return{field:Au(x.field),direction:Rk(x.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Wy(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:o}}function Sk(e){let t=vk(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const x=MA(A);return x instanceof Fs&&oA(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(x=>function(D){return new Dh(Ru(D.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(A){let x;return x=typeof A=="object"?A.value:A,km(x)?null:x}(n.limit));let y=null;n.startAt&&(y=function(A){const x=!!A.before,N=A.values||[];return new um(N,x)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const x=!A.before,N=A.values||[];return new um(N,x)}(n.endAt)),HO(t,o,f,u,m,"F",y,_)}function Ak(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function MA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ru(n.unaryFilter.field);return hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ru(n.unaryFilter.field);return hn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ru(n.unaryFilter.field);return hn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ru(n.unaryFilter.field);return hn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(e):e.fieldFilter!==void 0?function(n){return hn.create(Ru(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Fs.create(n.compositeFilter.filters.map(s=>MA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(n.compositeFilter.op))}(e):Ft(30097,{filter:e})}function Rk(e){return mk[e]}function Ck(e){return pk[e]}function Ik(e){return gk[e]}function Au(e){return{fieldPath:e.canonicalString()}}function Ru(e){return kn.fromServerFormat(e.fieldPath)}function LA(e){return e instanceof hn?function(n){if(n.op==="=="){if(_w(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NAN"}};if(yw(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_w(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NAN"}};if(yw(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(n.field),op:Ck(n.op),value:n.value}}}(e):e instanceof Fs?function(n){const s=n.getFilters().map(o=>LA(o));return s.length===1?s[0]:{compositeFilter:{op:Ik(n.op),filters:s}}}(e):Ft(54877,{filter:e})}function Pk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function DA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,n,s,o,u=Zt.min(),f=Zt.min(),m=Vn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new po(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t){this.yt=t}}function Lk(e){const t=Sk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.Cn=new Nk}addToCollectionParentIndex(t,n){return this.Cn.add(n),gt.resolve()}getCollectionParents(t,n){return gt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return gt.resolve()}deleteFieldIndex(t,n){return gt.resolve()}deleteAllFieldIndexes(t){return gt.resolve()}createTargetIndexes(t,n){return gt.resolve()}getDocumentsMatchingTarget(t,n){return gt.resolve(null)}getIndexType(t,n){return gt.resolve(0)}getFieldIndexes(t,n){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,n){return gt.resolve(Eo.min())}getMinOffsetFromCollectionGroup(t,n){return gt.resolve(Eo.min())}updateCollectionGroup(t,n,s){return gt.resolve()}updateIndexEntries(t,n){return gt.resolve()}}class Nk{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new yn(Oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new yn(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NA=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(NA,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fu(0)}static cr(){return new Fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="LruGarbageCollector",OA=1048576;function Nw([e,t],[n,s]){const o=ae(e,n);return o===0?ae(t,s):o}class Ok{constructor(t){this.Ir=t,this.buffer=new yn(Nw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Nw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kk{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ct(Dw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tc(n)?Ct(Dw,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Vr(3e5)})}}class Vk{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return gt.resolve(Om.ce);const s=new Ok(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(Lw)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lw):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(_=Date.now(),xu()<=re.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function jk(e,t){return new Vk(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changes=new Ol(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?gt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&yh(s.mutation,o,qi.empty(),Ve.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,oe()).next(()=>s))}getLocalViewOfDocuments(t,n,s=oe()){const o=wl();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=sh();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=wl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,oe()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=ha();const f=gh(),m=function(){return gh()}();return n.forEach((y,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof No)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),yh(E.mutation,_,E.mutation.getFieldMask(),Ve.now())):f.set(_.key,qi.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>m.set(_,new Uk(E,f.get(_)??null))),m))}recalculateAndSaveOverlays(t,n){const s=gh();let o=new Ge((f,m)=>f-m),u=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let E=s.get(y)||qi.empty();E=m.applyToLocalView(_,E),s.set(y,E);const A=(o.get(m.batchId)||oe()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,E=y.value,A=gA();E.forEach(x=>{if(!u.has(x)){const N=EA(n.get(x),s.get(x));N!==null&&A.set(x,N),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,A))}return gt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return Ot.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):hA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):gt.resolve(wl());let m=Ch,y=u;return f.next(_=>gt.forEach(_,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?gt.resolve():this.remoteDocumentCache.getEntry(t,E).next(x=>{y=y.insert(E,x)}))).next(()=>this.populateOverlays(t,_,u)).next(()=>this.computeViews(t,y,_,oe())).next(E=>({batchId:m,changes:pA(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(s=>{let o=sh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=sh();return this.indexManager.getCollectionParents(t,u).next(m=>gt.forEach(m,y=>{const _=function(A,x){return new ec(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(E=>{E.forEach((A,x)=>{f=f.insert(A,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((y,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Kn.newInvalidDocument(E)))});let m=sh();return f.forEach((y,_)=>{const E=u.get(y);E!==void 0&&yh(E.mutation,_,qi.empty(),Ve.now()),Um(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return gt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}}(n)),gt.resolve()}getNamedQuery(t,n){return gt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:Lk(o.bundledQuery),readTime:pr(o.readTime)}}(n)),gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.overlays=new Ge(Ot.comparator),this.qr=new Map}getOverlay(t,n){return gt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=wl();return gt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),gt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),gt.resolve()}getOverlaysForCollection(t,n,s){const o=wl(),u=n.length+1,f=new Ot(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return gt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Ge((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=wl(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=wl(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return gt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new lk(n,s));let u=this.qr.get(n);u===void 0&&(u=oe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(t){return gt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Qr=new yn(Cn.$r),this.Ur=new yn(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Cn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Cn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Ot(new Oe([])),s=new Cn(n,t),o=new Cn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ot(new Oe([])),s=new Cn(n,t),o=new Cn(n,t+1);let u=oe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Cn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Cn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ot.comparator(t.key,n.key)||ae(t.Yr,n.Yr)}static Kr(t,n){return ae(t.Yr,n.Yr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(Cn.$r)}checkEmpty(t){return gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ok(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Cn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return gt.resolve(f)}lookupMutationBatch(t,n){return gt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return gt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(this.mutationQueue.length===0?X_:this.tr-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Cn(n,0),o=new Cn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),gt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new yn(ae);return n.forEach(o=>{const u=new Cn(o,0),f=new Cn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),gt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Ot.isDocumentKey(u)||(u=u.child(""));const f=new Cn(new Ot(u),0);let m=new yn(ae);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Yr)),!0)},f),gt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return gt.forEach(n.mutations,o=>{const u=new Cn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Cn(n,0),o=this.Zr.firstAfterOrEqual(s);return gt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,gt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t){this.ri=t,this.docs=function(){return new Ge(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return gt.resolve(s?s.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(t,n){let s=ha();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Kn.newInvalidDocument(o))}),gt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ha();const f=n.path,m=new Ot(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||bO(TO(E),s)<=0||(o.has(E.key)||Um(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return gt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Ft(9500)}ii(t,n){return gt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Zk(this)}getSize(t){return gt.resolve(this.size)}}class Zk extends zk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),gt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t){this.persistence=t,this.si=new Ol(n=>tv(n),ev),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.oi=0,this._i=new ov,this.targetCount=0,this.ai=Fu.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),gt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Fu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,gt.resolve()}updateTargetData(t,n){return this.Pr(n),gt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),gt.waitFor(u).next(()=>o)}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return gt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),gt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),gt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),gt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return gt.resolve(s)}containsKey(t,n){return gt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Om(0),this.li=!1,this.li=!0,this.hi=new qk,this.referenceDelegate=t(this),this.Pi=new Yk(this),this.indexManager=new Dk,this.remoteDocumentCache=function(o){return new Wk(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Mk(n),this.Ii=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Hk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Gk(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Ct("MemoryPersistence","Starting transaction:",t);const o=new Kk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return gt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class Kk extends wO{constructor(t){super(),this.currentSequenceNumber=t}}class lv{constructor(t){this.persistence=t,this.Ri=new ov,this.Vi=null}static mi(t){return new lv(t)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),gt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),gt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),gt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.fi,s=>{const o=Ot.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Zt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return gt.or([()=>gt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class dm{constructor(t,n){this.persistence=t,this.pi=new Ol(s=>AO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=jk(this,n)}static mi(t,n){return new dm(t,n)}Ei(){}di(t){return gt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return gt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?gt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Zt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),gt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),gt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),gt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),gt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zd(t.data.value)),n}br(t,n,s){return gt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return gt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=oe(),o=oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new uv(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RM()?8:xO(Xn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $k;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(xu()<=re.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",Su(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),gt.resolve()):(xu()<=re.DEBUG&&Ct("QueryEngine","Query:",Su(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(xu()<=re.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",Su(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mr(n))):gt.resolve())}ys(t,n){if(Ew(n))return gt.resolve(null);let s=mr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=cm(n,null,"F"),s=mr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=oe(...u);return this.ps.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const _=this.Ds(n,m);return this.Cs(n,_,f,y.readTime)?this.ys(t,cm(n,null,"F")):this.vs(t,_,n,y)}))})))}ws(t,n,s,o){return Ew(n)||o.isEqual(Zt.min())?gt.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?gt.resolve(null):(xu()<=re.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Su(n)),this.vs(t,f,n,vO(o,Ch)).next(m=>m))})}Ds(t,n){let s=new yn(dA(t));return n.forEach((o,u)=>{Um(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return xu()<=re.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Su(n)),this.ps.getDocumentsMatchingQuery(t,n,Eo.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LocalStore",Qk=3e8;class Jk{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Ge(ae),this.xs=new Ol(u=>tv(u),ev),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function tV(e,t,n,s){return new Jk(e,t,n,s)}async function VA(e,t){const n=Yt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=oe();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:f,addedBatchIds:m}))})})}function eV(e,t){const n=Yt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,_,E){const A=_.batch,x=A.keys();let N=gt.resolve();return x.forEach(D=>{N=N.next(()=>E.getEntry(y,D)).next(U=>{const W=_.docVersions.get(D);ye(W!==null,48541),U.version.compareTo(W)<0&&(A.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),E.addEntry(U)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=oe();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function jA(e){const t=Yt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function nV(e,t){const n=Yt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((E,A)=>{const x=o.get(A);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let N=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?N=N.withResumeToken(Vn.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),function(U,W,Z){return U.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=Qk?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(x,N,E)&&m.push(n.Pi.updateTargetData(u,N))});let y=ha(),_=oe();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(iV(u,f,t.documentUpdates).next(E=>{y=E.ks,_=E.qs})),!s.isEqual(Zt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return gt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(n.Ms=o,u))}function iV(e,t,n){let s=oe(),o=oe();return n.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let f=ha();return n.forEach((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Zt.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):Ct(cv,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{ks:f,qs:o}})}function sV(e,t){const n=Yt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=X_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function rV(e,t){const n=Yt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,gt.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new po(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function $y(e,t,n){const s=Yt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!tc(f))throw f;Ct(cv,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Ow(e,t,n){const s=Yt(e);let o=Zt.min(),u=oe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,E){const A=Yt(y),x=A.xs.get(E);return x!==void 0?gt.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,E)}(s,f,mr(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Zt.min(),n?u:oe())).next(m=>(aV(s,GO(t),m),{documents:m,Qs:u})))}function aV(e,t,n){let s=e.Os.get(t)||Zt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Os.set(t,s)}class kw{constructor(){this.activeTargetIds=XO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oV{constructor(){this.Mo=new kw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="ConnectivityMonitor";class jw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ct(Vw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ct(Vw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function Xy(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="RestConnection",uV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Xy(),m=this.zo(t,n.toUriEncodedString());Ct(oy,`Sending RPC '${t}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(m),E=Io(_);return this.Jo(t,m,y,s,E).then(A=>(Ct(oy,`Received RPC '${t}' ${f}: `,A),A),A=>{throw ju(oy,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=uV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class fV extends cV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Xy();return new Promise((m,y)=>{const _=new U1;_.setWithCredentials(!0),_.listenOnce(B1.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case jd.NO_ERROR:const A=_.getResponseJson();Ct(Zn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case jd.TIMEOUT:Ct(Zn,`RPC '${t}' ${f} timed out`),y(new St(ct.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const x=_.getStatus();if(Ct(Zn,`RPC '${t}' ${f} failed with status:`,x,"response text:",_.getResponseText()),x>0){let N=_.getResponseJson();Array.isArray(N)&&(N=N[0]);const D=N?.error;if(D&&D.status&&D.message){const U=function(Z){const it=Z.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(it)>=0?it:ct.UNKNOWN}(D.status);y(new St(U,D.message))}else y(new St(ct.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new St(ct.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Ct(Zn,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);Ct(Zn,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",E,s,15)})}T_(t,n,s){const o=Xy(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=q1(),m=H1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");Ct(Zn,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let x=!1,N=!1;const D=new hV({Yo:W=>{N?Ct(Zn,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(x||(Ct(Zn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),x=!0),Ct(Zn,`RPC '${t}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),U=(W,Z,it)=>{W.listen(Z,$=>{try{it($)}catch(yt){setTimeout(()=>{throw yt},0)}})};return U(A,ih.EventType.OPEN,()=>{N||(Ct(Zn,`RPC '${t}' stream ${o} transport opened.`),D.o_())}),U(A,ih.EventType.CLOSE,()=>{N||(N=!0,Ct(Zn,`RPC '${t}' stream ${o} transport closed`),D.a_(),this.E_(A))}),U(A,ih.EventType.ERROR,W=>{N||(N=!0,ju(Zn,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),D.a_(new St(ct.UNAVAILABLE,"The operation could not be completed")))}),U(A,ih.EventType.MESSAGE,W=>{if(!N){const Z=W.data[0];ye(!!Z,16349);const it=Z,$=it?.error||it[0]?.error;if($){Ct(Zn,`RPC '${t}' stream ${o} received error:`,$);const yt=$.status;let ht=function(P){const k=un[P];if(k!==void 0)return xA(k)}(yt),Et=$.message;ht===void 0&&(ht=ct.INTERNAL,Et="Unknown error status: "+yt+" with message "+$.message),N=!0,D.a_(new St(ht,Et)),A.close()}else Ct(Zn,`RPC '${t}' stream ${o} received:`,Z),D.u_(Z)}}),U(m,F1.STAT_EVENT,W=>{W.stat===zy.PROXY?Ct(Zn,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===zy.NOPROXY&&Ct(Zn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e){return new yk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="PersistentStream";class UA{constructor(t,n,s,o,u,f,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ct.RESOURCE_EXHAUSTED?(ca(n.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new St(ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ct(zw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Ct(zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dV extends UA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Tk(this.serializer,t),s=function(u){if(!("targetChange"in u))return Zt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Zt.min():f.readTime?pr(f.readTime):Zt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Ky(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=qy(y)?{documents:wk(u,y)}:{query:xk(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=RA(u,f.resumeToken);const _=Wy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Zt.min())>0){m.readTime=fm(u,f.snapshotVersion.toTimestamp());const _=Wy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,t);const s=Ak(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Ky(this.serializer),n.removeTarget=t,this.q_(n)}}class mV extends UA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ye(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ye(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ye(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Ek(t.writeResults,t.commitTime),s=pr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Ky(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>bk(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{}class gV extends pV{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,Zy(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new St(ct.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(t,Zy(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new St(ct.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class yV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ca(n),this.aa=!1):Ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="RemoteStore";class _V{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{kl(this)&&(Ct(Nl,"Restarting streams for network reachability change."),await async function(y){const _=Yt(y);_.Ea.add(4),await sf(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Gm(_)}(this))})}),this.Ra=new yV(s,o)}}async function Gm(e){if(kl(e))for(const t of e.da)await t(!0)}async function sf(e){for(const t of e.da)await t(!1)}function BA(e,t){const n=Yt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mv(n)?dv(n):nc(n).O_()&&fv(n,t))}function hv(e,t){const n=Yt(e),s=nc(n);n.Ia.delete(t),s.O_()&&FA(n,t),n.Ia.size===0&&(s.O_()?s.L_():kl(n)&&n.Ra.set("Unknown"))}function fv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nc(e).Y_(t)}function FA(e,t){e.Va.Ue(t),nc(e).Z_(t)}function dv(e){e.Va=new dk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),nc(e).start(),e.Ra.ua()}function mv(e){return kl(e)&&!nc(e).x_()&&e.Ia.size>0}function kl(e){return Yt(e).Ea.size===0}function HA(e){e.Va=void 0}async function vV(e){e.Ra.set("Online")}async function TV(e){e.Ia.forEach((t,n)=>{fv(e,t)})}async function bV(e,t){HA(e),mv(e)?(e.Ra.ha(t),dv(e)):e.Ra.set("Unknown")}async function EV(e,t,n){if(e.Ra.set("Online"),t instanceof AA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(e,t)}catch(s){Ct(Nl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await mm(e,s)}else if(t instanceof Fd?e.Va.Ze(t):t instanceof SA?e.Va.st(t):e.Va.tt(t),!n.isEqual(Zt.min()))try{const s=await jA(e.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Vn.EMPTY_BYTE_STRING,E.snapshotVersion)),FA(u,y);const A=new po(E.target,y,_,E.sequenceNumber);fv(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Ct(Nl,"Failed to raise snapshot:",s),await mm(e,s)}}async function mm(e,t,n){if(!tc(t))throw t;e.Ea.add(1),await sf(e),e.Ra.set("Offline"),n||(n=()=>jA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ct(Nl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Gm(e)})}function qA(e,t){return t().catch(n=>mm(e,n,t))}async function Wm(e){const t=Yt(e),n=Ao(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:X_;for(;wV(t);)try{const o=await sV(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,xV(t,o)}catch(o){await mm(t,o)}GA(t)&&WA(t)}function wV(e){return kl(e)&&e.Ta.length<10}function xV(e,t){e.Ta.push(t);const n=Ao(e);n.O_()&&n.X_&&n.ea(t.mutations)}function GA(e){return kl(e)&&!Ao(e).x_()&&e.Ta.length>0}function WA(e){Ao(e).start()}async function SV(e){Ao(e).ra()}async function AV(e){const t=Ao(e);for(const n of e.Ta)t.ea(n.mutations)}async function RV(e,t,n){const s=e.Ta.shift(),o=sv.from(s,t,n);await qA(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Wm(e)}async function CV(e,t){t&&Ao(e).X_&&await async function(s,o){if(function(f){return ck(f)&&f!==ct.ABORTED}(o.code)){const u=s.Ta.shift();Ao(s).B_(),await qA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wm(s)}}(e,t),GA(e)&&WA(e)}async function Uw(e,t){const n=Yt(e);n.asyncQueue.verifyOperationInProgress(),Ct(Nl,"RemoteStore received new credentials");const s=kl(n);n.Ea.add(3),await sf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gm(n)}async function IV(e,t){const n=Yt(e);t?(n.Ea.delete(2),await Gm(n)):t||(n.Ea.add(2),await sf(n),n.Ra.set("Unknown"))}function nc(e){return e.ma||(e.ma=function(n,s,o){const u=Yt(n);return u.sa(),new dV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:vV.bind(null,e),t_:TV.bind(null,e),r_:bV.bind(null,e),H_:EV.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),mv(e)?dv(e):e.Ra.set("Unknown")):(await e.ma.stop(),HA(e))})),e.ma}function Ao(e){return e.fa||(e.fa=function(n,s,o){const u=Yt(n);return u.sa(),new mV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:SV.bind(null,e),r_:CV.bind(null,e),ta:AV.bind(null,e),na:RV.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Wm(e)):(await e.fa.stop(),e.Ta.length>0&&(Ct(Nl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new pv(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(e,t){if(ca("AsyncQueue",`${t}: ${e}`),tc(e))return new St(ct.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{static emptySet(t){return new Vu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Ot.comparator(n.key,s.key):(n,s)=>Ot.comparator(n.key,s.key),this.keyedMap=sh(),this.sortedSet=new Ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Vu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.ga=new Ge(Ot.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ft(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Hu{constructor(t,n,s,o,u,f,m,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Hu(t,n,Vu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class MV{constructor(){this.queries=Fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Yt(n),u=o.queries;o.queries=Fw(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new St(ct.ABORTED,"Firestore shutting down"))}}function Fw(){return new Ol(e=>fA(e),zm)}async function yv(e,t){const n=Yt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new PV,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gv(f,`Initialization of query '${Su(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&vv(n)}async function _v(e,t){const n=Yt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LV(e,t){const n=Yt(e);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&vv(n)}function DV(e,t,n){const s=Yt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function vv(e){e.Ca.forEach(t=>{t.next()})}var Qy,Hw;(Hw=Qy||(Qy={})).Ma="default",Hw.Cache="cache";class Tv{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Hu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Hu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t){this.key=t}}class YA{constructor(t){this.key=t}}class NV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=dA(t),this.tu=new Vu(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Bw,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const x=o.get(E),N=Um(this.query,A)?A:null,D=!!x&&this.mutatedKeys.has(x.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let W=!1;x&&N?x.data.isEqual(N.data)?D!==U&&(s.track({type:3,doc:N}),W=!0):this.su(x,N)||(s.track({type:2,doc:N}),W=!0,(y&&this.eu(N,y)>0||_&&this.eu(N,_)<0)&&(m=!0)):!x&&N?(s.track({type:0,doc:N}),W=!0):x&&!N&&(s.track({type:1,doc:x}),W=!0,(y||_)&&(m=!0)),W&&(N?(f=f.add(N),u=U?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,A)=>function(N,D){const U=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:W})}};return U(N)-U(D)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new Hu(this.query,t.tu,u,f,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=oe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new YA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new ZA(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=oe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bv="SyncEngine";class OV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class kV{constructor(t){this.key=t,this.hu=!1}}class VV{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ol(m=>fA(m),zm),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(Ot.comparator),this.Au=new Map,this.Ru=new ov,this.Vu={},this.mu=new Map,this.fu=Fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jV(e,t,n=!0){const s=tR(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await KA(s,t,n,!0),o}async function zV(e,t){const n=tR(e);await KA(n,t,!0,!1)}async function KA(e,t,n,s){const o=await rV(e.localStore,mr(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await UV(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&n&&BA(e.remoteStore,o),m}async function UV(e,t,n,s,o){e.pu=(A,x,N)=>async function(U,W,Z,it){let $=W.view.ru(Z);$.Cs&&($=await Ow(U.localStore,W.query,!1).then(({documents:q})=>W.view.ru(q,$)));const yt=it&&it.targetChanges.get(W.targetId),ht=it&&it.targetMismatches.get(W.targetId)!=null,Et=W.view.applyChanges($,U.isPrimaryClient,yt,ht);return Gw(U,W.targetId,Et.au),Et.snapshot}(e,A,x,N);const u=await Ow(e.localStore,t,!0),f=new NV(t,u.Qs),m=f.ru(u.documents),y=nf.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),_=f.applyChanges(m,e.isPrimaryClient,y);Gw(e,n,_.au);const E=new OV(t,n,f);return e.Tu.set(t,E),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),_.snapshot}async function BV(e,t,n){const s=Yt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!zm(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $y(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hv(s.remoteStore,o.targetId),Jy(s,o.targetId)}).catch(Ju)):(Jy(s,o.targetId),await $y(s.localStore,o.targetId,!0))}async function FV(e,t){const n=Yt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hv(n.remoteStore,s.targetId))}async function HV(e,t,n){const s=$V(e);try{const o=await function(f,m){const y=Yt(f),_=Ve.now(),E=m.reduce((N,D)=>N.add(D.key),oe());let A,x;return y.persistence.runTransaction("Locally write mutations","readwrite",N=>{let D=ha(),U=oe();return y.Ns.getEntries(N,E).next(W=>{D=W,D.forEach((Z,it)=>{it.isValidDocument()||(U=U.add(Z))})}).next(()=>y.localDocuments.getOverlayedDocuments(N,D)).next(W=>{A=W;const Z=[];for(const it of m){const $=rk(it,A.get(it.key).overlayedDocument);$!=null&&Z.push(new No(it.key,$,sA($.value.mapValue),ps.exists(!0)))}return y.mutationQueue.addMutationBatch(N,_,Z,m)}).next(W=>{x=W;const Z=W.applyToLocalDocumentSet(A,U);return y.documentOverlayCache.saveOverlays(N,W.batchId,Z)})}).then(()=>({batchId:x.batchId,changes:pA(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new Ge(ae)),_=_.insert(m,y),f.Vu[f.currentUser.toKey()]=_}(s,o.batchId,n),await rf(s,o.changes),await Wm(s.remoteStore)}catch(o){const u=gv(o,"Failed to persist write");n.reject(u)}}async function $A(e,t){const n=Yt(e);try{const s=await nV(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ye(f.hu,14607):o.removedDocuments.size>0&&(ye(f.hu,42227),f.hu=!1))}),await rf(n,s,t)}catch(s){await Ju(s)}}function qw(e,t,n){const s=Yt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Yt(f);y.onlineState=m;let _=!1;y.queries.forEach((E,A)=>{for(const x of A.Sa)x.va(m)&&(_=!0)}),_&&vv(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qV(e,t,n){const s=Yt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new Ge(Ot.comparator);f=f.insert(u,Kn.newNoDocument(u,Zt.min()));const m=oe().add(u),y=new Hm(Zt.min(),new Map,new Ge(ae),f,m);await $A(s,y),s.du=s.du.remove(u),s.Au.delete(t),Ev(s)}else await $y(s.localStore,t,!1).then(()=>Jy(s,t,n)).catch(Ju)}async function GV(e,t){const n=Yt(e),s=t.batch.batchId;try{const o=await eV(n.localStore,t);QA(n,s,null),XA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rf(n,o)}catch(o){await Ju(o)}}async function WV(e,t,n){const s=Yt(e);try{const o=await function(f,m){const y=Yt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return y.mutationQueue.lookupMutationBatch(_,m).next(A=>(ye(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>y.localDocuments.getDocuments(_,E))})}(s.localStore,t);QA(s,t,n),XA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await rf(s,o)}catch(o){await Ju(o)}}function XA(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function QA(e,t,n){const s=Yt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Jy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||JA(e,s)})}function JA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(hv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ev(e))}function Gw(e,t,n){for(const s of n)s instanceof ZA?(e.Ru.addReference(s.key,t),ZV(e,s)):s instanceof YA?(Ct(bv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||JA(e,s.key)):Ft(19791,{wu:s})}function ZV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Ct(bv,"New document in limbo: "+n),e.Eu.add(s),Ev(e))}function Ev(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ot(Oe.fromString(t)),s=e.fu.next();e.Au.set(s,new kV(n)),e.du=e.du.insert(n,s),BA(e.remoteStore,new po(mr(jm(n.path)),s,"TargetPurposeLimboResolution",Om.ce))}}async function rf(e,t,n){const s=Yt(e),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,t,n).then(_=>{if((_||n)&&s.isPrimaryClient){const E=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=uv.As(y.targetId,_);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,_){const E=Yt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>gt.forEach(_,x=>gt.forEach(x.Es,N=>E.persistence.referenceDelegate.addReference(A,x.targetId,N)).next(()=>gt.forEach(x.ds,N=>E.persistence.referenceDelegate.removeReference(A,x.targetId,N)))))}catch(A){if(!tc(A))throw A;Ct(cv,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const N=E.Ms.get(x),D=N.snapshotVersion,U=N.withLastLimboFreeSnapshotVersion(D);E.Ms=E.Ms.insert(x,U)}}}(s.localStore,u))}async function YV(e,t){const n=Yt(e);if(!n.currentUser.isEqual(t)){Ct(bv,"User change. New user:",t.toKey());const s=await VA(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new St(ct.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await rf(n,s.Ls)}}function KV(e,t){const n=Yt(e),s=n.Au.get(t);if(s&&s.hu)return oe().add(s.key);{let o=oe();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function tR(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qV.bind(null,t),t.Pu.H_=LV.bind(null,t.eventManager),t.Pu.yu=DV.bind(null,t.eventManager),t}function $V(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WV.bind(null,t),t}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return tV(this.persistence,new Xk,t.initialUser,this.serializer)}Cu(t){return new kA(lv.mi,this.serializer)}Du(t){return new oV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class XV extends pm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ye(this.persistence.referenceDelegate instanceof dm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kk(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new kA(s=>dm.mi(s,n),this.serializer)}}class t_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YV.bind(null,this.syncEngine),await IV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MV}()}createDatastore(t){const n=qm(t.databaseInfo.databaseId),s=function(u){return new fV(u)}(t.databaseInfo);return function(u,f,m,y){return new gV(u,f,m,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new _V(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>qw(this.syncEngine,n,0),function(){return jw.v()?new jw:new lV}())}createSyncEngine(t,n){return function(o,u,f,m,y,_,E){const A=new VV(o,u,f,m,y,_);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Yt(n);Ct(Nl,"RemoteStore shutting down."),s.Ea.add(5),await sf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}t_.provider={build:()=>new t_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ca("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class QV{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yn.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{Ct(Ro,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(Ct(Ro,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=gv(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function uy(e,t){e.asyncQueue.verifyOperationInProgress(),Ct(Ro,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await VA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ww(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JV(e);Ct(Ro,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>Uw(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>Uw(t.remoteStore,o)),e._onlineComponents=t}async function JV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ct(Ro,"Using user provided OfflineComponentProvider");try{await uy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ju("Error using user provided cache. Falling back to memory cache: "+n),await uy(e,new pm)}}else Ct(Ro,"Using default OfflineComponentProvider"),await uy(e,new XV(void 0));return e._offlineComponents}async function eR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ct(Ro,"Using user provided OnlineComponentProvider"),await Ww(e,e._uninitializedComponentsProvider._online)):(Ct(Ro,"Using default OnlineComponentProvider"),await Ww(e,new t_))),e._onlineComponents}function t5(e){return eR(e).then(t=>t.syncEngine)}async function gm(e){const t=await eR(e),n=t.eventManager;return n.onListen=jV.bind(null,t.syncEngine),n.onUnlisten=BV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FV.bind(null,t.syncEngine),n}function e5(e,t,n={}){const s=new aa;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new wv({next:x=>{E.Nu(),f.enqueueAndForget(()=>_v(u,A));const N=x.docs.has(m);!N&&x.fromCache?_.reject(new St(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&y&&y.source==="server"?_.reject(new St(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new Tv(jm(m.path),E,{includeMetadataChanges:!0,qa:!0});return yv(u,A)}(await gm(e),e.asyncQueue,t,n,s)),s.promise}function n5(e,t,n={}){const s=new aa;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new wv({next:x=>{E.Nu(),f.enqueueAndForget(()=>_v(u,A)),x.fromCache&&y.source==="server"?_.reject(new St(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new Tv(m,E,{includeMetadataChanges:!0,qa:!0});return yv(u,A)}(await gm(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firestore.googleapis.com",Yw=!0;class Kw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iR,this.ssl=Yw}else this.host=t.host,this.ssl=t.ssl??Yw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<OA)throw new St(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_O("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zm{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lO;switch(s.type){case"firstParty":return new fO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new St(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Zw.get(n);s&&(Ct("ComponentProvider","Removing Datastore"),Zw.delete(n),s.terminate())}(this),Promise.resolve()}}function i5(e,t,n,s={}){e=Ti(e,Zm);const o=Io(t),u=e._getSettings(),f={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(Pm(`https://${m}`),O_("Firestore",!0)),u.host!==iR&&u.host!==m&&ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!To(y,f)&&(e._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=Yn.MOCK_USER;else{_=_M(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new St(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yn(A)}e._authCredentials=new uO(new W1(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ma(this.firestore,t,this._query)}}class $e{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(tf(n,$e._jsonSchema))return new $e(t,s||null,new Ot(Oe.fromString(n.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:fn("string",$e._jsonSchemaVersion),referencePath:fn("string")};class vo extends ma{constructor(t,n,s){super(t,n,jm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new Ot(t))}withConverter(t){return new vo(this.firestore,t,this._path)}}function ah(e,t,...n){if(e=Xe(e),Z1("collection","path",t),e instanceof Zm){const s=Oe.fromString(t,...n);return lw(s),new vo(e,null,s)}{if(!(e instanceof $e||e instanceof vo))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Oe.fromString(t,...n));return lw(s),new vo(e.firestore,null,s)}}function gr(e,t,...n){if(e=Xe(e),arguments.length===1&&(t=$_.newId()),Z1("doc","path",t),e instanceof Zm){const s=Oe.fromString(t,...n);return ow(s),new $e(e,null,new Ot(s))}{if(!(e instanceof $e||e instanceof vo))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Oe.fromString(t,...n));return ow(s),new $e(e.firestore,e instanceof vo?e.converter:null,new Ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="AsyncQueue";class Xw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zA(this,"async_queue_retry"),this._c=()=>{const s=ly();s&&Ct($w,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ly();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new aa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tc(t))throw t;Ct($w,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,ca("INTERNAL UNHANDLED ERROR: ",Qw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pv.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ft(47125,{Pc:Qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Qw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class fa extends Zm{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Xw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Xw(t),this._firestoreClient=void 0,await t}}}function s5(e,t,n){n||(n=Ph);const s=Yh(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),u=s.getOptions(n);if(To(u,t))return o;throw new St(ct.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new St(ct.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<OA)throw new St(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Io(t.host)&&Pm(t.host),s.initialize({options:t,instanceIdentifier:n})}function r5(e,t){const n=typeof e=="object"?e:j_(),s=typeof e=="string"?e:Ph,o=Yh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=QS("firestore");u&&i5(o,...u)}return o}function Ym(e){if(e._terminated)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||a5(e),e._firestoreClient}function a5(e){const t=e._freezeSettings(),n=function(o,u,f,m){return new IO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,nR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new QV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ms(Vn.fromBase64String(t))}catch(n){throw new St(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ms(Vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tf(t,ms._jsonSchema))return ms.fromBase64String(t.bytes)}}ms._jsonSchemaVersion="firestore/bytes/1.0",ms._jsonSchema={type:fn("string",ms._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(t){if(tf(t,yr._jsonSchema))return new yr(t.latitude,t.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:fn("string",yr._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tf(t,_r._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new _r(t.vectorValues);throw new St(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:fn("string",_r._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=/^__.*__$/;class l5{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new No(t,this.data,this.fieldMask,n,this.fieldTransforms):new ef(t,this.data,n,this.fieldTransforms)}}class sR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new No(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:e})}}class xv{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ym(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(rR(this.Ac)&&o5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class u5{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||qm(t)}Cc(t,n,s,o=!1){return new xv({Ac:t,methodName:n,Dc:s,path:kn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(e){const t=e._freezeSettings(),n=qm(e._databaseId);return new u5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aR(e,t,n,s,o,u={}){const f=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);Av("Data must be an object, but it was:",f,s);const m=oR(s,f);let y,_;if(u.merge)y=new qi(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const x=e_(t,A,n);if(!f.contains(x))throw new St(ct.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);uR(E,x)||E.push(x)}y=new qi(E),_=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,_=f.fieldTransforms;return new l5(new gi(m),y,_)}class Qm extends $m{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qm}}class Sv extends $m{_toFieldTransform(t){return new ek(t.path,new Nh)}isEqual(t){return t instanceof Sv}}function c5(e,t,n,s){const o=e.Cc(1,t,n);Av("Data must be an object, but it was:",o,s);const u=[],f=gi.empty();Do(s,(y,_)=>{const E=Rv(t,y,n);_=Xe(_);const A=o.yc(E);if(_ instanceof Qm)u.push(E);else{const x=af(_,A);x!=null&&(u.push(E),f.set(E,x))}});const m=new qi(u);return new sR(f,m,o.fieldTransforms)}function h5(e,t,n,s,o,u){const f=e.Cc(1,t,n),m=[e_(t,s,n)],y=[o];if(u.length%2!=0)throw new St(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(e_(t,u[x])),y.push(u[x+1]);const _=[],E=gi.empty();for(let x=m.length-1;x>=0;--x)if(!uR(_,m[x])){const N=m[x];let D=y[x];D=Xe(D);const U=f.yc(N);if(D instanceof Qm)_.push(N);else{const W=af(D,U);W!=null&&(_.push(N),E.set(N,W))}}const A=new qi(_);return new sR(E,A,f.fieldTransforms)}function f5(e,t,n,s=!1){return af(n,e.Cc(s?4:3,t))}function af(e,t){if(lR(e=Xe(e)))return Av("Unsupported field value:",t,e),oR(e,t);if(e instanceof $m)return function(s,o){if(!rR(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=af(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ve.fromDate(s);return{timestampValue:fm(o.serializer,u)}}if(s instanceof Ve){const u=new Ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fm(o.serializer,u)}}if(s instanceof yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ms)return{bytesValue:RA(o.serializer,s._byteString)};if(s instanceof $e){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:av(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _r)return function(f,m){return{mapValue:{fields:{[nA]:{stringValue:iA},[lm]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return nv(m.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Nm(s)}`)}(e,t)}function oR(e,t){const n={};return $1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Do(e,(s,o)=>{const u=af(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function lR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof yr||e instanceof ms||e instanceof $e||e instanceof $m||e instanceof _r)}function Av(e,t,n){if(!lR(n)||!Y1(n)){const s=Nm(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function e_(e,t,n){if((t=Xe(t))instanceof Km)return t._internalPath;if(typeof t=="string")return Rv(e,t);throw ym("Field path arguments must be of type string or ",e,!1,void 0,n)}const d5=new RegExp("[~\\*/\\[\\]]");function Rv(e,t,n){if(t.search(d5)>=0)throw ym(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Km(...t.split("."))._internalPath}catch{throw ym(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ym(e,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new St(ct.INVALID_ARGUMENT,m+e+y)}function uR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new m5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m5 extends cR{data(){return super.data()}}function Jm(e,t){return typeof t=="string"?Rv(e,t):t instanceof Km?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new St(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cv{}class Iv extends Cv{}function n_(e,t,...n){let s=[];t instanceof Cv&&s.push(t),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof Pv).length,m=u.filter(y=>y instanceof tp).length;if(f>1||f>0&&m>0)throw new St(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class tp extends Iv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new tp(t,n,s)}_apply(t){const n=this._parse(t);return fR(t._query,n),new ma(t.firestore,t.converter,Gy(t._query,n))}_parse(t){const n=Xm(t.firestore);return function(u,f,m,y,_,E,A){let x;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new St(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){nx(A,E);const D=[];for(const U of A)D.push(ex(y,u,U));x={arrayValue:{values:D}}}else x=ex(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||nx(A,E),x=f5(m,f,A,E==="in"||E==="not-in");return hn.create(_,E,x)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function tx(e,t,n){const s=t,o=Jm("where",e);return tp._create(o,s,n)}class Pv extends Cv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Pv(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)fR(f,y),f=Gy(f,y)}(t._query,n),new ma(t.firestore,t.converter,Gy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mv extends Iv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Mv(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new St(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new St(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(u,f)}(t._query,this._field,this._direction);return new ma(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new ec(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function p5(e,t="asc"){const n=t,s=Jm("orderBy",e);return Mv._create(s,n)}class Lv extends Iv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Lv(t,n,s)}_apply(t){return new ma(t.firestore,t.converter,cm(t._query,this._limit,this._limitType))}}function g5(e){return Lv._create("limit",e,"F")}function ex(e,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new St(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hA(t)&&n.indexOf("/")!==-1)throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Oe.fromString(n));if(!Ot.isDocumentKey(s))throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gw(e,new Ot(s))}if(n instanceof $e)return gw(e,n._key);throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function nx(e,t){if(!Array.isArray(e)||e.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fR(e,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class y5{convertValue(t,n="none"){switch(So(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Do(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[lm].arrayValue?.values?.map(s=>sn(s.doubleValue));return new _r(n)}convertGeoPoint(t){return new yr(sn(t.latitude),sn(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Vm(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ih(t));default:return null}}convertTimestamp(t){const n=wo(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Oe.fromString(t);ye(DA(s),9688,{name:t});const o=new Mh(s.get(1),s.get(3)),u=new Ot(s.popFirst(5));return o.isEqual(n)||ca(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class oh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Al extends cR{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Al._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Al._jsonSchemaVersion="firestore/documentSnapshot/1.0",Al._jsonSchema={type:fn("string",Al._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class Hd extends Al{data(t={}){return super.data(t)}}class Rl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new oh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Hd(this._firestore,this._userDataWriter,s.key,s,new oh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new Hd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new Hd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:_5(m.type),doc:y,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e){e=Ti(e,$e);const t=Ti(e.firestore,fa);return e5(Ym(t),e._key).then(n=>mR(t,e,n))}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:fn("string",Rl._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class Dv extends y5{constructor(t){super(),this.firestore=t}convertBytes(t){return new ms(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function Ed(e){e=Ti(e,ma);const t=Ti(e.firestore,fa),n=Ym(t),s=new Dv(t);return hR(e._query),n5(n,e._query).then(o=>new Rl(t,s,e,o))}function _m(e,t,n){e=Ti(e,$e);const s=Ti(e.firestore,fa),o=dR(e.converter,t,n);return np(s,[aR(Xm(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ps.none())])}function HU(e,t,n,...s){e=Ti(e,$e);const o=Ti(e.firestore,fa),u=Xm(o);let f;return f=typeof(t=Xe(t))=="string"||t instanceof Km?h5(u,"updateDoc",e._key,t,n,s):c5(u,"updateDoc",e._key,t),np(o,[f.toMutation(e._key,ps.exists(!0))])}function qU(e){return np(Ti(e.firestore,fa),[new iv(e._key,ps.none())])}function GU(e,t){const n=Ti(e.firestore,fa),s=gr(e),o=dR(e.converter,t);return np(n,[aR(Xm(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,ps.exists(!1))]).then(()=>s)}function i_(e,...t){e=Xe(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Jw(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Jw(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(e instanceof $e)f=Ti(e.firestore,fa),m=jm(e._key.path),u={next:y=>{t[s]&&t[s](mR(f,e,y))},error:t[s+1],complete:t[s+2]};else{const y=Ti(e,ma);f=Ti(y.firestore,fa),m=y._query;const _=new Dv(f);u={next:E=>{t[s]&&t[s](new Rl(f,_,y,E))},error:t[s+1],complete:t[s+2]},hR(e._query)}return function(_,E,A,x){const N=new wv(x),D=new Tv(E,N,A);return _.asyncQueue.enqueueAndForget(async()=>yv(await gm(_),D)),()=>{N.Nu(),_.asyncQueue.enqueueAndForget(async()=>_v(await gm(_),D))}}(Ym(f),m,o,u)}function np(e,t){return function(s,o){const u=new aa;return s.asyncQueue.enqueueAndForget(async()=>HV(await t5(s),o,u)),u.promise}(Ym(e),t)}function mR(e,t,n){const s=n.docs.get(t._key),o=new Dv(e);return new Al(e,o,t._key,s,new oh(n.hasPendingWrites,n.fromCache),t.converter)}function WU(){return new Sv("serverTimestamp")}(function(t,n=!0){(function(o){Qu=o})($u),Pl(new bo("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new fa(new cO(s.getProvider("auth-internal")),new dO(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new St(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(_.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fr(iw,sw,t),fr(iw,sw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="type.googleapis.com/google.protobuf.Int64Value",T5="type.googleapis.com/google.protobuf.UInt64Value";function pR(e,t){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}function vm(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>vm(t));if(typeof e=="function"||typeof e=="object")return pR(e,t=>vm(t));throw new Error("Data cannot be encoded in JSON: "+e)}function qu(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case v5:case T5:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>qu(t)):typeof e=="function"||typeof e=="object"?pR(e,t=>qu(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _i extends Ar{constructor(t,n,s){super(`${Nv}/${t}`,n||""),this.details=s,Object.setPrototypeOf(this,_i.prototype)}}function b5(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Tm(e,t){let n=b5(e),s=n,o;try{const u=t&&t.error;if(u){const f=u.status;if(typeof f=="string"){if(!ix[f])return new _i("internal","internal");n=ix[f],s=f}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=qu(o))}}catch{}return n==="ok"?null:new _i(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,pi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="us-central1",w5=/^data: (.*?)(?:\n|$)/;function x5(e){let t=null;return{promise:new Promise((n,s)=>{t=setTimeout(()=>{s(new _i("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class S5{constructor(t,n,s,o,u=s_,f=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new E5(t,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=s_}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function A5(e,t,n){const s=Io(t);e.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Pm(e.emulatorOrigin),O_("Functions",!0))}function R5(e,t,n){const s=o=>I5(e,t,o,{});return s.stream=(o,u)=>M5(e,t,o,u),s}async function C5(e,t,n,s){n["Content-Type"]="application/json";let o;try{o=await s(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function gR(e,t){const n={},s=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function I5(e,t,n,s){const o=e._url(t);return P5(e,o,n,s)}async function P5(e,t,n,s){n=vm(n);const o={data:n},u=await gR(e,s),f=s.timeout||7e4,m=x5(f),y=await Promise.race([C5(t,o,u,e.fetchImpl),m.promise,e.cancelAllRequests]);if(m.cancel(),!y)throw new _i("cancelled","Firebase Functions instance was deleted.");const _=Tm(y.status,y.json);if(_)throw _;if(!y.json)throw new _i("internal","Response is not valid JSON object.");let E=y.json.data;if(typeof E>"u"&&(E=y.json.result),typeof E>"u")throw new _i("internal","Response is missing data field.");return{data:qu(E)}}function M5(e,t,n,s){const o=e._url(t);return L5(e,o,n,s||{})}async function L5(e,t,n,s){n=vm(n);const o={data:n},u=await gR(e,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const D=new _i("cancelled","Request was cancelled.");return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}const N=Tm(0,null);return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}let m,y;const _=new Promise((x,N)=>{m=x,y=N});s?.signal?.addEventListener("abort",()=>{const x=new _i("cancelled","Request was cancelled.");y(x)});const E=f.body.getReader(),A=D5(E,m,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const x=A.getReader();return{async next(){const{value:N,done:D}=await x.read();return{value:N,done:D}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:_}}function D5(e,t,n,s){const o=(f,m)=>{const y=f.match(w5);if(!y)return;const _=y[1];try{const E=JSON.parse(_);if("result"in E){t(qu(E.result));return}if("message"in E){m.enqueue(qu(E.message));return}if("error"in E){const A=Tm(0,E);m.error(A),n(A);return}}catch(E){if(E instanceof _i){m.error(E),n(E);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return y();async function y(){if(s?.aborted){const _=new _i("cancelled","Request was cancelled");return f.error(_),n(_),Promise.resolve()}try{const{value:_,done:E}=await e.read();if(E){m.trim()&&o(m.trim(),f),f.close();return}if(s?.aborted){const x=new _i("cancelled","Request was cancelled");f.error(x),n(x),await e.cancel();return}m+=u.decode(_,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const x of A)x.trim()&&o(x.trim(),f);return y()}catch(_){const E=_ instanceof _i?_:Tm(0,null);f.error(E),n(E)}}},cancel(){return e.cancel()}})}const sx="@firebase/functions",rx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="auth-internal",O5="app-check-internal",k5="messaging-internal";function V5(e){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(N5),f=n.getProvider(k5),m=n.getProvider(O5);return new S5(o,u,f,m,s)};Pl(new bo(Nv,t,"PUBLIC").setMultipleInstances(!0)),fr(sx,rx,e),fr(sx,rx,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(e=j_(),t=s_){const s=Yh(Xe(e),Nv).getImmediate({identifier:t}),o=QS("functions");return o&&j5(s,...o),s}function j5(e,t,n){A5(Xe(e),t,n)}function lh(e,t,n){return R5(Xe(e),t)}V5();const _R={apiKey:"AIzaSyBh-nePsQ50f6ZMZ1PaLUUfhD3hExxgRsI",authDomain:"findmyhistory.firebaseapp.com",projectId:"findmyhistory",storageBucket:"findmyhistory.firebasestorage.app",messagingSenderId:"951487481110",appId:"1:951487481110:web:242bd9188bb043df177c37"},of=i1(_R),hr=aO(of),z5=new ta;try{s5(of,{experimentalForceLongPolling:!0,useFetchStreams:!1})}catch{}const yi=r5(of),wd=yR(of);_R.apiKey||console.warn("Firebase API key not found in environment variables");const vR=V.createContext();function TR(){return V.useContext(vR)}function U5({children:e}){const[t,n]=V.useState(null),[s,o]=V.useState(!0);V.useEffect(()=>Qh(hr,m=>{n(m),o(!1)}),[]);const u={user:t,loading:s};return T.jsx(vR.Provider,{value:u,children:!s&&e})}function B5({scrollYProgress:e}){const t=Sr(),n=_s(),[s,o]=V.useState(0),{user:u}=TR();V.useEffect(()=>{if(n.pathname==="/"){if(e)return e.on("change",y=>{if(y>=.7){const _=Math.min(1,(y-.7)/.1);o(_)}else o(0)})}else o(1)},[e,n.pathname]);const f=async()=>{await KD(hr),t("/")};return T.jsxs("div",{className:"global-header",style:{opacity:s},children:[T.jsx("h1",{className:"global-header-title clickable",onClick:()=>t("/"),children:"TagLogger"}),T.jsx("div",{className:"header-login-btn",children:u?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"login-btn",onClick:()=>t("/dashboard"),children:"Dashboard"}),T.jsx("button",{className:"login-btn",onClick:f,style:{marginLeft:"0.5rem"},children:"Logout"})]}):T.jsx("button",{className:"login-btn",onClick:()=>t("/login"),children:"Login"})})]})}function bR(){const{user:e}=TR(),[t,n]=V.useState({isEntitled:!1,hasPurchaseHistory:!1,loading:!0,error:null});return V.useEffect(()=>{if(!e){n(u=>({...u,isEntitled:!1,hasPurchaseHistory:!1,loading:!1,error:null}));return}n(u=>({...u,loading:!0,error:null}));const s=gr(yi,"users",e.uid),o=i_(s,u=>{try{const f=u.data(),m=f&&(f.lastPurchaseAt||f.stripeCustomerId),y=!!m;console.log("🔐 useEntitlement: Purchase history check",{userId:e.uid,hasPurchaseHistory:m,lastPurchaseAt:f?.lastPurchaseAt,stripeCustomerId:f?.stripeCustomerId,isEntitled:y}),n({isEntitled:y,hasPurchaseHistory:!!m,loading:!1,error:null})}catch(f){console.error("🔐 useEntitlement: User document read failed:",f),n(m=>({...m,loading:!1,error:f.message,isEntitled:!1,hasPurchaseHistory:!1}))}},u=>{console.error("🔐 useEntitlement: User document listener error:",u),n(f=>({...f,loading:!1,error:u.message,isEntitled:!1,hasPurchaseHistory:!1}))});return()=>o()},[e]),t}function xd({children:e,adminOnly:t=!1,requireEntitlement:n=!0}){const[s,o]=V.useState(null),[u,f]=V.useState(!0),[m,y]=V.useState(!1),[_,E]=V.useState(!1),{isEntitled:A,loading:x}=bR();return V.useEffect(()=>{try{const D=new URLSearchParams(window.location.search).get("purchase")==="success";if(D){console.log("🛡️ ProtectedRoute: Activating grace period for purchase success",{hasPurchaseSuccess:D,pathname:window.location.pathname}),E(!0);const U=window.gracePeriodTimer;return U&&clearTimeout(U),window.gracePeriodTimer=setTimeout(()=>{console.log("🛡️ ProtectedRoute: Grace period expired"),E(!1),window.gracePeriodTimer=null},6e4),()=>{window.gracePeriodTimer&&(clearTimeout(window.gracePeriodTimer),window.gracePeriodTimer=null)}}}catch(N){console.error("🛡️ ProtectedRoute: Error setting up grace period",N)}},[]),V.useEffect(()=>{const N=Qh(hr,async D=>{if(o(D),D)try{const U=gr(yi,"users",D.uid),W=await ep(U);y(W.exists()&&W.data().isAdmin===!0)}catch{y(!1)}else y(!1);f(!1)});return()=>N()},[]),u?null:s?t?m?e:T.jsx($g,{to:"/dashboard"}):n&&!x&&!A&&!_?(console.log("🛡️ ProtectedRoute: Redirecting to purchase - no entitlement and grace period expired"),T.jsx($g,{to:"/purchase"})):e:T.jsx($g,{to:"/login"})}const ER=V.createContext({});function ip(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ov=typeof window<"u",kv=Ov?V.useLayoutEffect:V.useEffect,Vv=V.createContext(null);function jv(e,t){e.indexOf(t)===-1&&e.push(t)}function zv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const wr=(e,t,n)=>n>t?t:n<e?e:n;let Vh=()=>{};const da={},wR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function xR(e){return typeof e=="object"&&e!==null}const SR=e=>/^0[^.\s]+$/u.test(e);function Uv(e){let t;return()=>(t===void 0&&(t=e()),t)}const bi=e=>e,F5=(e,t)=>n=>t(e(n)),lf=(...e)=>e.reduce(F5),Gu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Bv{constructor(){this.subscriptions=[]}add(t){return jv(this.subscriptions,t),()=>zv(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vr=e=>e*1e3,Tr=e=>e/1e3;function Fv(e,t){return t?e*(1e3/t):0}const AR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,H5=1e-7,q5=12;function G5(e,t,n,s,o){let u,f,m=0;do f=t+(n-t)/2,u=AR(f,s,o)-e,u>0?n=f:t=f;while(Math.abs(u)>H5&&++m<q5);return f}function uf(e,t,n,s){if(e===t&&n===s)return bi;const o=u=>G5(u,0,1,e,n);return u=>u===0||u===1?u:AR(o(u),t,s)}const RR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,CR=e=>t=>1-e(1-t),IR=uf(.33,1.53,.69,.99),Hv=CR(IR),PR=RR(Hv),MR=e=>(e*=2)<1?.5*Hv(e):.5*(2-Math.pow(2,-10*(e-1))),qv=e=>1-Math.sin(Math.acos(e)),LR=CR(qv),DR=RR(qv),W5=uf(.42,0,1,1),Z5=uf(0,0,.58,1),NR=uf(.42,0,.58,1),Y5=e=>Array.isArray(e)&&typeof e[0]!="number",OR=e=>Array.isArray(e)&&typeof e[0]=="number",K5={linear:bi,easeIn:W5,easeInOut:NR,easeOut:Z5,circIn:qv,circInOut:DR,circOut:LR,backIn:Hv,backInOut:PR,backOut:IR,anticipate:MR},$5=e=>typeof e=="string",ax=e=>{if(OR(e)){Vh(e.length===4);const[t,n,s,o]=e;return uf(t,n,s,o)}else if($5(e))return K5[e];return e},Sd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function X5(e,t){let n=new Set,s=new Set,o=!1,u=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(E){f.has(E)&&(_.schedule(E),e()),E(m)}const _={schedule:(E,A=!1,x=!1)=>{const D=x&&o?n:s;return A&&f.add(E),D.has(E)||D.add(E),E},cancel:E=>{s.delete(E),f.delete(E)},process:E=>{if(m=E,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,_.process(E))}};return _}const Q5=40;function kR(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=Sd.reduce(($,yt)=>($[yt]=X5(u),$),{}),{setup:m,read:y,resolveKeyframes:_,preUpdate:E,update:A,preRender:x,render:N,postRender:D}=f,U=()=>{const $=da.useManualTiming?o.timestamp:performance.now();n=!1,da.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,Q5),1)),o.timestamp=$,o.isProcessing=!0,m.process(o),y.process(o),_.process(o),E.process(o),A.process(o),x.process(o),N.process(o),D.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(U))},W=()=>{n=!0,s=!0,o.isProcessing||e(U)};return{schedule:Sd.reduce(($,yt)=>{const ht=f[yt];return $[yt]=(Et,q=!1,P=!1)=>(n||W(),ht.schedule(Et,q,P)),$},{}),cancel:$=>{for(let yt=0;yt<Sd.length;yt++)f[Sd[yt]].cancel($)},state:o,steps:f}}const{schedule:be,cancel:Hs,state:Rn,steps:cy}=kR(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0);let qd;function J5(){qd=void 0}const vi={now:()=>(qd===void 0&&vi.set(Rn.isProcessing||da.useManualTiming?Rn.timestamp:performance.now()),qd),set:e=>{qd=e,queueMicrotask(J5)}},VR=e=>t=>typeof t=="string"&&t.startsWith(e),Gv=VR("--"),tj=VR("var(--"),Wv=e=>tj(e)?ej.test(e.split("/*")[0].trim()):!1,ej=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ic={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jh={...ic,transform:e=>wr(0,1,e)},Ad={...ic,default:1},_h=e=>Math.round(e*1e5)/1e5,Zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nj(e){return e==null}const ij=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(e,t)=>n=>!!(typeof n=="string"&&ij.test(n)&&n.startsWith(e)||t&&!nj(n)&&Object.prototype.hasOwnProperty.call(n,t)),jR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,f,m]=s.match(Zv);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},sj=e=>wr(0,255,e),hy={...ic,transform:e=>Math.round(sj(e))},xl={test:Yv("rgb","red"),parse:jR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+hy.transform(e)+", "+hy.transform(t)+", "+hy.transform(n)+", "+_h(jh.transform(s))+")"};function rj(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const r_={test:Yv("#"),parse:rj,transform:xl.transform},cf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),co=cf("deg"),br=cf("%"),qt=cf("px"),aj=cf("vh"),oj=cf("vw"),ox={...br,parse:e=>br.parse(e)/100,transform:e=>br.transform(e*100)},Cu={test:Yv("hsl","hue"),parse:jR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+br.transform(_h(t))+", "+br.transform(_h(n))+", "+_h(jh.transform(s))+")"},cn={test:e=>xl.test(e)||r_.test(e)||Cu.test(e),parse:e=>xl.test(e)?xl.parse(e):Cu.test(e)?Cu.parse(e):r_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xl.transform(e):Cu.transform(e),getAnimatableNone:e=>{const t=cn.parse(e);return t.alpha=0,cn.transform(t)}},lj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uj(e){return isNaN(e)&&typeof e=="string"&&(e.match(Zv)?.length||0)+(e.match(lj)?.length||0)>0}const zR="number",UR="color",cj="var",hj="var(",lx="${}",fj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(fj,y=>(cn.test(y)?(s.color.push(u),o.push(UR),n.push(cn.parse(y))):y.startsWith(hj)?(s.var.push(u),o.push(cj),n.push(y)):(s.number.push(u),o.push(zR),n.push(parseFloat(y))),++u,lx)).split(lx);return{values:n,split:m,indexes:s,types:o}}function BR(e){return zh(e).values}function FR(e){const{split:t,types:n}=zh(e),s=t.length;return o=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],o[f]!==void 0){const m=n[f];m===zR?u+=_h(o[f]):m===UR?u+=cn.transform(o[f]):u+=o[f]}return u}}const dj=e=>typeof e=="number"?0:cn.test(e)?cn.getAnimatableNone(e):e;function mj(e){const t=BR(e);return FR(e)(t.map(dj))}const Co={test:uj,parse:BR,createTransformer:FR,getAnimatableNone:mj};function fy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,f=0;if(!t)o=u=f=n;else{const m=n<.5?n*(1+t):n+t-n*t,y=2*n-m;o=fy(y,m,e+1/3),u=fy(y,m,e),f=fy(y,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function bm(e,t){return n=>n>0?t:e}const qe=(e,t,n)=>e+(t-e)*n,dy=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},gj=[r_,xl,Cu],yj=e=>gj.find(t=>t.test(e));function ux(e){const t=yj(e);if(!t)return!1;let n=t.parse(e);return t===Cu&&(n=pj(n)),n}const cx=(e,t)=>{const n=ux(e),s=ux(t);if(!n||!s)return bm(e,t);const o={...n};return u=>(o.red=dy(n.red,s.red,u),o.green=dy(n.green,s.green,u),o.blue=dy(n.blue,s.blue,u),o.alpha=qe(n.alpha,s.alpha,u),xl.transform(o))},a_=new Set(["none","hidden"]);function _j(e,t){return a_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vj(e,t){return n=>qe(e,t,n)}function Kv(e){return typeof e=="number"?vj:typeof e=="string"?Wv(e)?bm:cn.test(e)?cx:Ej:Array.isArray(e)?HR:typeof e=="object"?cn.test(e)?cx:Tj:bm}function HR(e,t){const n=[...e],s=n.length,o=e.map((u,f)=>Kv(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=o[f](u);return n}}function Tj(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Kv(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function bj(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=e.indexes[u][s[u]],m=e.values[f]??0;n[o]=m,s[u]++}return n}const Ej=(e,t)=>{const n=Co.createTransformer(t),s=zh(e),o=zh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?a_.has(e)&&!o.values.length||a_.has(t)&&!s.values.length?_j(e,t):lf(HR(bj(s,o),o.values),n):bm(e,t)};function qR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qe(e,t,n):Kv(e)(e,t)}const wj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>be.update(t,n),stop:()=>Hs(t),now:()=>Rn.isProcessing?Rn.timestamp:vi.now()}},GR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Em=2e4;function $v(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Em;)t+=n,s=e.next(t);return t>=Em?1/0:t}function xj(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min($v(s),Em);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Tr(o)}}const Sj=5;function WR(e,t,n){const s=Math.max(t-Sj,0);return Fv(n-e(s),t-s)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function Aj({duration:e=Ke.duration,bounce:t=Ke.bounce,velocity:n=Ke.velocity,mass:s=Ke.mass}){let o,u,f=1-t;f=wr(Ke.minDamping,Ke.maxDamping,f),e=wr(Ke.minDuration,Ke.maxDuration,Tr(e)),f<1?(o=_=>{const E=_*f,A=E*e,x=E-n,N=o_(_,f),D=Math.exp(-A);return my-x/N*D},u=_=>{const A=_*f*e,x=A*n+n,N=Math.pow(f,2)*Math.pow(_,2)*e,D=Math.exp(-A),U=o_(Math.pow(_,2),f);return(-o(_)+my>0?-1:1)*((x-N)*D)/U}):(o=_=>{const E=Math.exp(-_*e),A=(_-n)*e+1;return-my+E*A},u=_=>{const E=Math.exp(-_*e),A=(n-_)*(e*e);return E*A});const m=5/e,y=Cj(o,u,m);if(e=vr(e),isNaN(y))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:e};{const _=Math.pow(y,2)*s;return{stiffness:_,damping:f*2*Math.sqrt(s*_),duration:e}}}const Rj=12;function Cj(e,t,n){let s=n;for(let o=1;o<Rj;o++)s=s-e(s)/t(s);return s}function o_(e,t){return e*Math.sqrt(1-t*t)}const Ij=["duration","bounce"],Pj=["stiffness","damping","mass"];function hx(e,t){return t.some(n=>e[n]!==void 0)}function Mj(e){let t={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...e};if(!hx(e,Pj)&&hx(e,Ij))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*wr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ke.mass,stiffness:o,damping:u}}else{const n=Aj(e);t={...t,...n,mass:Ke.mass},t.isResolvedFromDuration=!0}return t}function wm(e=Ke.visualDuration,t=Ke.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:_,mass:E,duration:A,velocity:x,isResolvedFromDuration:N}=Mj({...n,velocity:-Tr(n.velocity||0)}),D=x||0,U=_/(2*Math.sqrt(y*E)),W=f-u,Z=Tr(Math.sqrt(y/E)),it=Math.abs(W)<5;s||(s=it?Ke.restSpeed.granular:Ke.restSpeed.default),o||(o=it?Ke.restDelta.granular:Ke.restDelta.default);let $;if(U<1){const ht=o_(Z,U);$=Et=>{const q=Math.exp(-U*Z*Et);return f-q*((D+U*Z*W)/ht*Math.sin(ht*Et)+W*Math.cos(ht*Et))}}else if(U===1)$=ht=>f-Math.exp(-Z*ht)*(W+(D+Z*W)*ht);else{const ht=Z*Math.sqrt(U*U-1);$=Et=>{const q=Math.exp(-U*Z*Et),P=Math.min(ht*Et,300);return f-q*((D+U*Z*W)*Math.sinh(P)+ht*W*Math.cosh(P))/ht}}const yt={calculatedDuration:N&&A||null,next:ht=>{const Et=$(ht);if(N)m.done=ht>=A;else{let q=ht===0?D:0;U<1&&(q=ht===0?vr(D):WR($,ht,Et));const P=Math.abs(q)<=s,k=Math.abs(f-Et)<=o;m.done=P&&k}return m.value=m.done?f:Et,m},toString:()=>{const ht=Math.min($v(yt),Em),Et=GR(q=>yt.next(ht*q).value,ht,30);return ht+"ms "+Et},toTransition:()=>{}};return yt}wm.applyToOptions=e=>{const t=xj(e,100,wm);return e.ease=t.ease,e.duration=vr(t.duration),e.type="keyframes",e};function l_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:m,max:y,restDelta:_=.5,restSpeed:E}){const A=e[0],x={done:!1,value:A},N=P=>m!==void 0&&P<m||y!==void 0&&P>y,D=P=>m===void 0?y:y===void 0||Math.abs(m-P)<Math.abs(y-P)?m:y;let U=n*t;const W=A+U,Z=f===void 0?W:f(W);Z!==W&&(U=Z-A);const it=P=>-U*Math.exp(-P/s),$=P=>Z+it(P),yt=P=>{const k=it(P),B=$(P);x.done=Math.abs(k)<=_,x.value=x.done?Z:B};let ht,Et;const q=P=>{N(x.value)&&(ht=P,Et=wm({keyframes:[x.value,D(x.value)],velocity:WR($,P,x.value),damping:o,stiffness:u,restDelta:_,restSpeed:E}))};return q(0),{calculatedDuration:null,next:P=>{let k=!1;return!Et&&ht===void 0&&(k=!0,yt(P),q(P)),ht!==void 0&&P>=ht?Et.next(P-ht):(!k&&yt(P),x)}}}function Lj(e,t,n){const s=[],o=n||da.mix||qR,u=e.length-1;for(let f=0;f<u;f++){let m=o(e[f],e[f+1]);if(t){const y=Array.isArray(t)?t[f]||bi:t;m=lf(y,m)}s.push(m)}return s}function Xv(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Vh(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=Lj(t,s,o),y=m.length,_=E=>{if(f&&E<e[0])return t[0];let A=0;if(y>1)for(;A<e.length-2&&!(E<e[A+1]);A++);const x=Gu(e[A],e[A+1],E);return m[A](x)};return n?E=>_(wr(e[0],e[u-1],E)):_}function Dj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Gu(0,t,s);e.push(qe(n,1,o))}}function ZR(e){const t=[0];return Dj(t,e.length-1),t}function Nj(e,t){return e.map(n=>n*t)}function Oj(e,t){return e.map(()=>t||NR).splice(0,e.length-1)}function vh({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Y5(s)?s.map(ax):ax(s),u={done:!1,value:t[0]},f=Nj(n&&n.length===t.length?n:ZR(t),e),m=Xv(f,t,{ease:Array.isArray(o)?o:Oj(t,o)});return{calculatedDuration:e,next:y=>(u.value=m(y),u.done=y>=e,u)}}const kj=e=>e!==null;function Qv(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(kj),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const Vj={decay:l_,inertia:l_,tween:vh,keyframes:vh,spring:wm};function YR(e){typeof e.type=="string"&&(e.type=Vj[e.type])}class Jv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const jj=e=>e/100;class t0 extends Jv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vi.now()&&this.tick(vi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;YR(t);const{type:n=vh,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:m}=t;const y=n||vh;y!==vh&&typeof m[0]!="number"&&(this.mixKeyframes=lf(jj,qR(m[0],m[1])),m=[0,100]);const _=y({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-f})),_.calculatedDuration===null&&(_.calculatedDuration=$v(_));const{calculatedDuration:E}=_;this.calculatedDuration=E,this.resolvedDuration=E+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=_}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:_=0,keyframes:E,repeat:A,repeatType:x,repeatDelay:N,type:D,onUpdate:U,finalKeyframe:W}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-_*(this.playbackSpeed>=0?1:-1),it=this.playbackSpeed>=0?Z<0:Z>o;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,yt=s;if(A){const P=Math.min(this.currentTime,o)/m;let k=Math.floor(P),B=P%1;!B&&P>=1&&(B=1),B===1&&k--,k=Math.min(k,A+1),!!(k%2)&&(x==="reverse"?(B=1-B,N&&(B-=N/m)):x==="mirror"&&(yt=f)),$=wr(0,1,B)*m}const ht=it?{done:!1,value:E[0]}:yt.next($);u&&(ht.value=u(ht.value));let{done:Et}=ht;!it&&y!==null&&(Et=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Et);return q&&D!==l_&&(ht.value=Qv(E,this.options,W,this.speed)),U&&U(ht.value),q&&this.finish(),ht}then(t,n){return this.finished.then(t,n)}get duration(){return Tr(this.calculatedDuration)}get time(){return Tr(this.currentTime)}set time(t){t=vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Tr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=wj,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sl=e=>e*180/Math.PI,u_=e=>{const t=Sl(Math.atan2(e[1],e[0]));return c_(t)},Uj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:u_,rotateZ:u_,skewX:e=>Sl(Math.atan(e[1])),skewY:e=>Sl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c_=e=>(e=e%360,e<0&&(e+=360),e),fx=u_,dx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Bj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dx,scaleY:mx,scale:e=>(dx(e)+mx(e))/2,rotateX:e=>c_(Sl(Math.atan2(e[6],e[5]))),rotateY:e=>c_(Sl(Math.atan2(-e[2],e[0]))),rotateZ:fx,rotate:fx,skewX:e=>Sl(Math.atan(e[4])),skewY:e=>Sl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function h_(e){return e.includes("scale")?1:0}function f_(e,t){if(!e||e==="none")return h_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=Bj,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Uj,o=m}if(!o)return h_(t);const u=s[t],f=o[1].split(",").map(Hj);return typeof u=="function"?u(f):f[u]}const Fj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return f_(n,t)};function Hj(e){return parseFloat(e.trim())}const sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rc=new Set(sc),px=e=>e===ic||e===qt,qj=new Set(["x","y","z"]),Gj=sc.filter(e=>!qj.has(e));function Wj(e){const t=[];return Gj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Cl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>f_(t,"x"),y:(e,{transform:t})=>f_(t,"y")};Cl.translateX=Cl.x;Cl.translateY=Cl.y;const Il=new Set;let d_=!1,m_=!1,p_=!1;function KR(){if(m_){const e=Array.from(Il).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=Wj(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}m_=!1,d_=!1,Il.forEach(e=>e.complete(p_)),Il.clear()}function $R(){Il.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(m_=!0)})}function Zj(){p_=!0,$R(),KR(),p_=!1}class e0{constructor(t,n,s,o,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Il.add(this),d_||(d_=!0,be.read($R),be.resolveKeyframes(KR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const m=s.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}zj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Il.delete(this)}cancel(){this.state==="scheduled"&&(Il.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Yj=e=>e.startsWith("--");function Kj(e,t,n){Yj(t)?e.style.setProperty(t,n):e.style[t]=n}const XR=Uv(()=>window.ScrollTimeline!==void 0),$j={};function Xj(e,t){const n=Uv(e);return()=>$j[t]??n()}const QR=Xj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uh=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,gx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uh([0,.65,.55,1]),circOut:uh([.55,0,1,.45]),backIn:uh([.31,.01,.66,-.59]),backOut:uh([.33,1.53,.69,.99])};function JR(e,t){if(e)return typeof e=="function"?QR()?GR(e,t):"ease-out":OR(e)?uh(e):Array.isArray(e)?e.map(n=>JR(n,t)||gx.easeOut):gx[e]}function Qj(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:m="easeOut",times:y}={},_=void 0){const E={[t]:n};y&&(E.offset=y);const A=JR(m,o);Array.isArray(A)&&(E.easing=A);const x={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return _&&(x.pseudoElement=_),e.animate(E,x)}function tC(e){return typeof e=="function"&&"applyToOptions"in e}function Jj({type:e,...t}){return tC(e)&&QR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class t4 extends Jv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Vh(typeof t.type!="string");const _=Jj(t);this.animation=Qj(n,s,o,_,u),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const E=Qv(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(E):Kj(n,s,E),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Tr(Number(t))}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&XR()?(this.animation.timeline=t,bi):n(this)}}const eC={anticipate:MR,backInOut:PR,circInOut:DR};function e4(e){return e in eC}function n4(e){typeof e.ease=="string"&&e4(e.ease)&&(e.ease=eC[e.ease])}const yx=10;class i4 extends t4{constructor(t){n4(t),YR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new t0({...f,autoplay:!1}),y=vr(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-yx).value,m.sample(y).value,yx),m.stop()}}const _x=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Co.test(e)||e==="0")&&!e.startsWith("url("));function s4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function r4(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=_x(o,t),m=_x(u,t);return!f||!m?!1:s4(e)||(n==="spring"||tC(n))&&s}const a4=new Set(["opacity","clipPath","filter","transform"]),o4=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function l4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=t.owner.getProps();return o4()&&n&&a4.has(n)&&(n!=="transform"||!_)&&!y&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}const u4=40;class c4 extends Jv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:m,name:y,motionValue:_,element:E,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vi.now();const x={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:f,name:y,motionValue:_,element:E,...A},N=E?.KeyframeResolver||e0;this.keyframeResolver=new N(m,(D,U,W)=>this.onKeyframesResolved(D,U,x,!W),y,_,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:m,delay:y,isHandoff:_,onUpdate:E}=s;this.resolvedAt=vi.now(),r4(t,u,f,m)||((da.instantAnimations||!y)&&E?.(Qv(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>u4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},N=!_&&l4(x)?new i4({...x,element:x.motionValue.owner.current}):new t0(x);N.finished.then(()=>this.notifyFinished()).catch(bi),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Zj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const h4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f4(e){const t=h4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function nC(e,t,n=1){const[s,o]=f4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return wR(f)?parseFloat(f):f}return Wv(o)?nC(o,t,n+1):o}function n0(e,t){return e?.[t]??e?.default??e}const iC=new Set(["width","height","top","left","right","bottom",...sc]),d4={test:e=>e==="auto",parse:e=>e},sC=e=>t=>t.test(e),rC=[ic,qt,br,co,oj,aj,d4],vx=e=>rC.find(sC(e));function m4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||SR(e):!0}const p4=new Set(["brightness","contrast","saturate","opacity"]);function g4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Zv)||[];if(!s)return e;const o=n.replace(s,"");let u=p4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const y4=/\b([a-z-]*)\(.*?\)/gu,g_={...Co,getAnimatableNone:e=>{const t=e.match(y4);return t?t.map(g4).join(" "):e}},Tx={...ic,transform:Math.round},_4={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:Ad,scaleX:Ad,scaleY:Ad,scaleZ:Ad,skew:co,skewX:co,skewY:co,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:jh,originX:ox,originY:ox,originZ:qt},i0={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt,..._4,zIndex:Tx,fillOpacity:jh,strokeOpacity:jh,numOctaves:Tx},v4={...i0,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:g_,WebkitFilter:g_},aC=e=>v4[e];function oC(e,t){let n=aC(e);return n!==g_&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const T4=new Set(["auto","none","0"]);function b4(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!T4.has(u)&&zh(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=oC(n,o)}class E4 extends e0{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Wv(_))){const E=nC(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!iC.has(s)||t.length!==2)return;const[o,u]=t,f=vx(o),m=vx(u);if(f!==m)if(px(f)&&px(m))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Cl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||m4(t[o]))&&s.push(o);s.length&&b4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=Cl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function lC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const uC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function cC(e){return xR(e)&&"offsetHeight"in e}const bx=30,w4=e=>!isNaN(parseFloat(e)),Th={current:void 0};class x4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=vi.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=w4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Bv);const s=this.events[t].add(n);return t==="change"?()=>{s(),be.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Th.current&&Th.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bx);return Fv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Us(e,t){return new x4(e,t)}const{schedule:s0}=kR(queueMicrotask,!1),js={x:!1,y:!1};function hC(){return js.x||js.y}function S4(e){return e==="x"||e==="y"?js[e]?null:(js[e]=!0,()=>{js[e]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function fC(e,t){const n=lC(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Ex(e){return!(e.pointerType==="touch"||hC())}function A4(e,t,n={}){const[s,o,u]=fC(e,n),f=m=>{if(!Ex(m))return;const{target:y}=m,_=t(y,m);if(typeof _!="function"||!y)return;const E=A=>{Ex(A)&&(_(A),y.removeEventListener("pointerleave",E))};y.addEventListener("pointerleave",E,o)};return s.forEach(m=>{m.addEventListener("pointerenter",f,o)}),u}const dC=(e,t)=>t?e===t?!0:dC(e,t.parentElement):!1,r0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,R4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C4(e){return R4.has(e.tagName)||e.tabIndex!==-1}const Gd=new WeakSet;function wx(e){return t=>{t.key==="Enter"&&e(t)}}function py(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const I4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=wx(()=>{if(Gd.has(n))return;py(n,"down");const o=wx(()=>{py(n,"up")}),u=()=>py(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function xx(e){return r0(e)&&!hC()}function P4(e,t,n={}){const[s,o,u]=fC(e,n),f=m=>{const y=m.currentTarget;if(!xx(m))return;Gd.add(y);const _=t(y,m),E=(N,D)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",x),Gd.has(y)&&Gd.delete(y),xx(N)&&typeof _=="function"&&_(N,{success:D})},A=N=>{E(N,y===window||y===document||n.useGlobalTarget||dC(y,N.target))},x=N=>{E(N,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",x,o)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",f,o),cC(m)&&(m.addEventListener("focus",_=>I4(_,o)),!C4(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function a0(e){return xR(e)&&"ownerSVGElement"in e}const Wd=new WeakMap;let Zd;const mC=(e,t,n)=>(s,o)=>o&&o[0]?o[0][e+"Size"]:a0(s)&&"getBBox"in s?s.getBBox()[t]:s[n],M4=mC("inline","width","offsetWidth"),L4=mC("block","height","offsetHeight");function D4({target:e,borderBoxSize:t}){Wd.get(e)?.forEach(n=>{n(e,{get width(){return M4(e,t)},get height(){return L4(e,t)}})})}function N4(e){e.forEach(D4)}function O4(){typeof ResizeObserver>"u"||(Zd=new ResizeObserver(N4))}function k4(e,t){Zd||O4();const n=lC(e);return n.forEach(s=>{let o=Wd.get(s);o||(o=new Set,Wd.set(s,o)),o.add(t),Zd?.observe(s)}),()=>{n.forEach(s=>{const o=Wd.get(s);o?.delete(t),o?.size||Zd?.unobserve(s)})}}const Yd=new Set;let Iu;function V4(){Iu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Yd.forEach(t=>t(e))},window.addEventListener("resize",Iu)}function j4(e){return Yd.add(e),Iu||V4(),()=>{Yd.delete(e),!Yd.size&&typeof Iu=="function"&&(window.removeEventListener("resize",Iu),Iu=void 0)}}function z4(e,t){return typeof e=="function"?j4(e):k4(e,t)}function pC(e,t){let n;const s=()=>{const{currentTime:o}=t,f=(o===null?0:o.value)/100;n!==f&&e(f),n=f};return be.preUpdate(s,!0),()=>Hs(s)}function U4(e){return a0(e)&&e.tagName==="svg"}function B4(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],u=e[2+n],f=e[3+n],m=Xv(o,u,f);return t?m(s):m}const $n=e=>!!(e&&e.getVelocity),F4=[...rC,cn,Co],H4=e=>F4.find(sC(e)),o0=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function q4(e=!0){const t=V.useContext(Vv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=V.useId();V.useEffect(()=>{if(e)return o(u)},[e]);const f=V.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const gC=V.createContext({strict:!1}),Sx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wu={};for(const e in Sx)Wu[e]={isEnabled:t=>Sx[e].some(n=>!!t[n])};function G4(e){for(const t in e)Wu[t]={...Wu[t],...e[t]}}const W4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||W4.has(e)}let yC=e=>!xm(e);function Z4(e){typeof e=="function"&&(yC=t=>t.startsWith("on")?!xm(t):e(t))}try{Z4(require("@emotion/is-prop-valid").default)}catch{}function Y4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(yC(o)||n===!0&&xm(o)||!t&&!xm(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const sp=V.createContext({});function rp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Uh(e){return typeof e=="string"||Array.isArray(e)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u0=["initial",...l0];function ap(e){return rp(e.animate)||u0.some(t=>Uh(e[t]))}function _C(e){return!!(ap(e)||e.variants)}function K4(e,t){if(ap(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Uh(n)?n:void 0,animate:Uh(s)?s:void 0}}return e.inherit!==!1?t:{}}function $4(e){const{initial:t,animate:n}=K4(e,V.useContext(sp));return V.useMemo(()=>({initial:t,animate:n}),[Ax(t),Ax(n)])}function Ax(e){return Array.isArray(e)?e.join(" "):e}const Bh={};function X4(e){for(const t in e)Bh[t]=e[t],Gv(t)&&(Bh[t].isCSSVariable=!0)}function vC(e,{layout:t,layoutId:n}){return rc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bh[e]||e==="opacity")}const Q4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J4=sc.length;function t3(e,t,n){let s="",o=!0;for(let u=0;u<J4;u++){const f=sc[u],m=e[f];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(f.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const _=uC(m,i0[f]);if(!y){o=!1;const E=Q4[f]||f;s+=`${E}(${_}) `}n&&(t[f]=_)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function c0(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let f=!1,m=!1;for(const y in t){const _=t[y];if(rc.has(y)){f=!0;continue}else if(Gv(y)){o[y]=_;continue}else{const E=uC(_,i0[y]);y.startsWith("origin")?(m=!0,u[y]=E):s[y]=E}}if(t.transform||(f||n?s.transform=t3(t,e.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:_="50%",originZ:E=0}=u;s.transformOrigin=`${y} ${_} ${E}`}}const h0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TC(e,t,n){for(const s in t)!$n(t[s])&&!vC(s,n)&&(e[s]=t[s])}function e3({transformTemplate:e},t){return V.useMemo(()=>{const n=h0();return c0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function n3(e,t){const n=e.style||{},s={};return TC(s,n,e),Object.assign(s,e3(e,t)),s}function i3(e,t){const n={},s=n3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const s3={offset:"stroke-dashoffset",array:"stroke-dasharray"},r3={offset:"strokeDashoffset",array:"strokeDasharray"};function a3(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?s3:r3;e[u.offset]=qt.transform(-s);const f=qt.transform(t),m=qt.transform(n);e[u.array]=`${f} ${m}`}function bC(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...m},y,_,E){if(c0(e,m,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:x}=e;A.transform&&(x.transform=A.transform,delete A.transform),(x.transform||A.transformOrigin)&&(x.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),x.transform&&(x.transformBox=E?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&a3(A,o,u,f,!1)}const EC=()=>({...h0(),attrs:{}}),wC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function o3(e,t,n,s){const o=V.useMemo(()=>{const u=EC();return bC(u,t,wC(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};TC(u,e.style,e),o.style={...u,...o.style}}return o}const l3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(e){return typeof e!="string"||e.includes("-")?!1:!!(l3.indexOf(e)>-1||/[A-Z]/u.test(e))}function u3(e,t,n,{latestValues:s},o,u=!1){const m=(f0(e)?o3:i3)(t,s,o,e),y=Y4(t,typeof e=="string",u),_=e!==V.Fragment?{...y,...m,ref:n}:{},{children:E}=t,A=V.useMemo(()=>$n(E)?E.get():E,[E]);return V.createElement(e,{..._,children:A})}function Rx(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function d0(e,t,n,s){if(typeof t=="function"){const[o,u]=Rx(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Rx(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function Kd(e){return $n(e)?e.get():e}function c3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:h3(n,s,o,e),renderState:t()}}function h3(e,t,n,s){const o={},u=s(e,{});for(const x in u)o[x]=Kd(u[x]);let{initial:f,animate:m}=e;const y=ap(e),_=_C(e);t&&_&&!y&&e.inherit!==!1&&(f===void 0&&(f=t.initial),m===void 0&&(m=t.animate));let E=n?n.initial===!1:!1;E=E||f===!1;const A=E?m:f;if(A&&typeof A!="boolean"&&!rp(A)){const x=Array.isArray(A)?A:[A];for(let N=0;N<x.length;N++){const D=d0(e,x[N]);if(D){const{transitionEnd:U,transition:W,...Z}=D;for(const it in Z){let $=Z[it];if(Array.isArray($)){const yt=E?$.length-1:0;$=$[yt]}$!==null&&(o[it]=$)}for(const it in U)o[it]=U[it]}}}return o}const xC=e=>(t,n)=>{const s=V.useContext(sp),o=V.useContext(Vv),u=()=>c3(e,t,s,o);return n?u():ip(u)};function m0(e,t,n){const{style:s}=e,o={};for(const u in s)($n(s[u])||t.style&&$n(t.style[u])||vC(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const f3=xC({scrapeMotionValuesFromProps:m0,createRenderState:h0});function SC(e,t,n){const s=m0(e,t,n);for(const o in e)if($n(e[o])||$n(t[o])){const u=sc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const d3=xC({scrapeMotionValuesFromProps:SC,createRenderState:EC}),m3=Symbol.for("motionComponentSymbol");function Pu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function p3(e,t,n){return V.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Pu(n)&&(n.current=s))},[t])}const p0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g3="framerAppearId",AC="data-"+p0(g3),RC=V.createContext({});function y3(e,t,n,s,o){const{visualElement:u}=V.useContext(sp),f=V.useContext(gC),m=V.useContext(Vv),y=V.useContext(o0).reducedMotion,_=V.useRef(null);s=s||f.renderer,!_.current&&s&&(_.current=s(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,A=V.useContext(RC);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&_3(_.current,n,o,A);const x=V.useRef(!1);V.useInsertionEffect(()=>{E&&x.current&&E.update(n,m)});const N=n[AC],D=V.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return kv(()=>{E&&(x.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),D.current&&E.animationState&&E.animationState.animateChanges())}),V.useEffect(()=>{E&&(!D.current&&E.animationState&&E.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),D.current=!1))}),E}function _3(e,t,n,s){const{layoutId:o,layout:u,drag:f,dragConstraints:m,layoutScroll:y,layoutRoot:_,layoutCrossfade:E}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CC(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||m&&Pu(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:E,layoutScroll:y,layoutRoot:_})}function CC(e){if(e)return e.options.allowProjection!==!1?e.projection:CC(e.parent)}function gy(e,{forwardMotionProps:t=!1}={},n,s){n&&G4(n);const o=f0(e)?d3:f3;function u(m,y){let _;const E={...V.useContext(o0),...m,layoutId:v3(m)},{isStatic:A}=E,x=$4(m),N=o(m,A);if(!A&&Ov){T3();const D=b3(E);_=D.MeasureLayout,x.visualElement=y3(e,N,E,s,D.ProjectionNode)}return T.jsxs(sp.Provider,{value:x,children:[_&&x.visualElement?T.jsx(_,{visualElement:x.visualElement,...E}):null,u3(e,m,p3(N,x.visualElement,y),N,A,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=V.forwardRef(u);return f[m3]=e,f}function v3({layoutId:e}){const t=V.useContext(ER).id;return t&&e!==void 0?t+"-"+e:e}function T3(e,t){V.useContext(gC).strict}function b3(e){const{drag:t,layout:n}=Wu;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function E3(e,t){if(typeof Proxy>"u")return gy;const n=new Map,s=(u,f)=>gy(u,f,e,t),o=(u,f)=>s(u,f);return new Proxy(o,{get:(u,f)=>f==="create"?s:(n.has(f)||n.set(f,gy(f,void 0,e,t)),n.get(f))})}function IC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function w3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function x3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function yy(e){return e===void 0||e===1}function y_({scale:e,scaleX:t,scaleY:n}){return!yy(e)||!yy(t)||!yy(n)}function bl(e){return y_(e)||PC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function PC(e){return Cx(e.x)||Cx(e.y)}function Cx(e){return e&&e!=="0%"}function Sm(e,t,n){const s=e-n,o=t*s;return n+o}function Ix(e,t,n,s,o){return o!==void 0&&(e=Sm(e,o,s)),Sm(e,n,s)+t}function __(e,t=0,n=1,s,o){e.min=Ix(e.min,t,n,s,o),e.max=Ix(e.max,t,n,s,o)}function MC(e,{x:t,y:n}){__(e.x,t.translate,t.scale,t.originPoint),__(e.y,n.translate,n.scale,n.originPoint)}const Px=.999999999999,Mx=1.0000000000001;function S3(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,f;for(let m=0;m<o;m++){u=n[m],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Lu(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,MC(e,f)),s&&bl(u.latestValues)&&Lu(e,u.latestValues))}t.x<Mx&&t.x>Px&&(t.x=1),t.y<Mx&&t.y>Px&&(t.y=1)}function Mu(e,t){e.min=e.min+t,e.max=e.max+t}function Lx(e,t,n,s,o=.5){const u=qe(e.min,e.max,o);__(e,t,n,u,s)}function Lu(e,t){Lx(e.x,t.x,t.scaleX,t.scale,t.originX),Lx(e.y,t.y,t.scaleY,t.scale,t.originY)}function LC(e,t){return IC(x3(e.getBoundingClientRect(),t))}function A3(e,t,n){const s=LC(e,n),{scroll:o}=t;return o&&(Mu(s.x,o.offset.x),Mu(s.y,o.offset.y)),s}const Dx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Du=()=>({x:Dx(),y:Dx()}),Nx=()=>({min:0,max:0}),nn=()=>({x:Nx(),y:Nx()}),v_={current:null},DC={current:!1};function R3(){if(DC.current=!0,!!Ov)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>v_.current=e.matches;e.addEventListener("change",t),t()}else v_.current=!1}const C3=new WeakMap;function I3(e,t,n){for(const s in t){const o=t[s],u=n[s];if($n(o))e.addValue(s,o);else if($n(u))e.addValue(s,Us(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=e.getStaticValue(s);e.addValue(s,Us(f!==void 0?f:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ox=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=vi.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,be.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=ap(n),this.isVariantNode=_C(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in A){const N=A[x];y[x]!==void 0&&$n(N)&&N.set(y[x],!1)}}mount(t){this.current=t,C3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),DC.current||R3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=rc.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&be.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wu){const n=Wu[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ox.length;s++){const o=Ox[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=I3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Us(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(wR(s)||SR(s))?s=parseFloat(s):!H4(s)&&Co.test(n)&&(s=oC(t,n)),this.setBaseTarget(t,$n(s)?s.get():s)),$n(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=d0(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!$n(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Bv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){s0.render(this.render)}}class NC extends P3{constructor(){super(...arguments),this.KeyframeResolver=E4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OC(e,{style:t,vars:n},s,o){const u=e.style;let f;for(f in t)u[f]=t[f];o?.applyProjectionStyles(u,s);for(f in n)u.setProperty(f,n[f])}function M3(e){return window.getComputedStyle(e)}class L3 extends NC{constructor(){super(...arguments),this.type="html",this.renderInstance=OC}readValueFromInstance(t,n){if(rc.has(n))return this.projection?.isProjecting?h_(n):Fj(t,n);{const s=M3(t),o=(Gv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LC(t,n)}build(t,n,s){c0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return m0(t,n,s)}}const kC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D3(e,t,n,s){OC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(kC.has(o)?o:p0(o),t.attrs[o])}class N3 extends NC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rc.has(n)){const s=aC(n);return s&&s.default||0}return n=kC.has(n)?n:p0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return SC(t,n,s)}build(t,n,s){bC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){D3(t,n,s,o)}mount(t){this.isSVGTag=wC(t.tagName),super.mount(t)}}const O3=(e,t)=>f0(e)?new N3(t):new L3(t,{allowProjection:e!==V.Fragment});function Fh(e,t,n){const s=e.getProps();return d0(s,t,n!==void 0?n:s.custom,e)}const T_=e=>Array.isArray(e);function k3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Us(n))}function V3(e){return T_(e)?e[e.length-1]||0:e}function j3(e,t){const n=Fh(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const f in u){const m=V3(u[f]);k3(e,f,m)}}function z3(e){return!!($n(e)&&e.add)}function b_(e,t){const n=e.getValue("willChange");if(z3(n))return n.add(t);if(!n&&da.WillChange){const s=new da.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function VC(e){return e.props[AC]}const U3=e=>e!==null;function B3(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(U3),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const F3={type:"spring",stiffness:500,damping:25,restSpeed:10},H3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),q3={type:"keyframes",duration:.8},G3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W3=(e,{keyframes:t})=>t.length>2?q3:rc.has(e)?e.startsWith("scale")?H3(t[1]):F3:G3;function Z3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:m,from:y,elapsed:_,...E}){return!!Object.keys(E).length}const g0=(e,t,n,s={},o,u)=>f=>{const m=n0(s,e)||{},y=m.delay||s.delay||0;let{elapsed:_=0}=s;_=_-vr(y);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-_,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};Z3(m)||Object.assign(E,W3(e,E)),E.duration&&(E.duration=vr(E.duration)),E.repeatDelay&&(E.repeatDelay=vr(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(A=!0)),(da.instantAnimations||da.skipAnimations)&&(A=!0,E.duration=0,E.delay=0),E.allowFlatten=!m.type&&!m.ease,A&&!u&&t.get()!==void 0){const x=B3(E.keyframes,m);if(x!==void 0){be.update(()=>{E.onUpdate(x),E.onComplete()});return}}return m.isSync?new t0(E):new c4(E)};function Y3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function jC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:f,...m}=t;s&&(u=s);const y=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const E in m){const A=e.getValue(E,e.latestValues[E]??null),x=m[E];if(x===void 0||_&&Y3(_,E))continue;const N={delay:n,...n0(u||{},E)},D=A.get();if(D!==void 0&&!A.isAnimating&&!Array.isArray(x)&&x===D&&!N.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const Z=VC(e);if(Z){const it=window.MotionHandoffAnimation(Z,E,be);it!==null&&(N.startTime=it,U=!0)}}b_(e,E),A.start(g0(E,A,x,e.shouldReduceMotion&&iC.has(E)?{type:!1}:N,e,U));const W=A.animation;W&&y.push(W)}return f&&Promise.all(y).then(()=>{be.update(()=>{f&&j3(e,f)})}),y}function E_(e,t,n={}){const s=Fh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(jC(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:E,staggerDirection:A}=o;return K3(e,t,y,_,E,A,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,_]=m==="beforeChildren"?[u,f]:[f,u];return y().then(()=>_())}else return Promise.all([u(),f(n.delay)])}function K3(e,t,n=0,s=0,o=0,u=1,f){const m=[],y=e.variantChildren.size,_=(y-1)*o,E=typeof s=="function",A=E?x=>s(x,y):u===1?(x=0)=>x*o:(x=0)=>_-x*o;return Array.from(e.variantChildren).sort($3).forEach((x,N)=>{x.notify("AnimationStart",t),m.push(E_(x,t,{...f,delay:n+(E?0:s)+A(N)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(m)}function $3(e,t){return e.sortNodePosition(t)}function X3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>E_(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=E_(e,t,n);else{const o=typeof t=="function"?Fh(e,t,n.custom):t;s=Promise.all(jC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function zC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Q3=u0.length;function UC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?UC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Q3;n++){const s=u0[n],o=e.props[s];(Uh(o)||o===!1)&&(t[s]=o)}return t}const J3=[...l0].reverse(),t6=l0.length;function e6(e){return t=>Promise.all(t.map(({animation:n,options:s})=>X3(e,n,s)))}function n6(e){let t=e6(e),n=kx(),s=!0;const o=y=>(_,E)=>{const A=Fh(e,E,y==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:x,transitionEnd:N,...D}=A;_={..._,...D,...N}}return _};function u(y){t=y(e)}function f(y){const{props:_}=e,E=UC(e.parent)||{},A=[],x=new Set;let N={},D=1/0;for(let W=0;W<t6;W++){const Z=J3[W],it=n[Z],$=_[Z]!==void 0?_[Z]:E[Z],yt=Uh($),ht=Z===y?it.isActive:null;ht===!1&&(D=W);let Et=$===E[Z]&&$!==_[Z]&&yt;if(Et&&s&&e.manuallyAnimateOnMount&&(Et=!1),it.protectedKeys={...N},!it.isActive&&ht===null||!$&&!it.prevProp||rp($)||typeof $=="boolean")continue;const q=i6(it.prevProp,$);let P=q||Z===y&&it.isActive&&!Et&&yt||W>D&&yt,k=!1;const B=Array.isArray($)?$:[$];let G=B.reduce(o(Z),{});ht===!1&&(G={});const{prevResolvedValues:Y={}}=it,j={...Y,...G},Tt=ft=>{P=!0,x.has(ft)&&(k=!0,x.delete(ft)),it.needsAnimating[ft]=!0;const mt=e.getValue(ft);mt&&(mt.liveStyle=!1)};for(const ft in j){const mt=G[ft],Kt=Y[ft];if(N.hasOwnProperty(ft))continue;let z=!1;T_(mt)&&T_(Kt)?z=!zC(mt,Kt):z=mt!==Kt,z?mt!=null?Tt(ft):x.add(ft):mt!==void 0&&x.has(ft)?Tt(ft):it.protectedKeys[ft]=!0}it.prevProp=$,it.prevResolvedValues=G,it.isActive&&(N={...N,...G}),s&&e.blockInitialAnimation&&(P=!1),P&&(!(Et&&q)||k)&&A.push(...B.map(ft=>({animation:ft,options:{type:Z}})))}if(x.size){const W={};if(typeof _.initial!="boolean"){const Z=Fh(e,Array.isArray(_.initial)?_.initial[0]:_.initial);Z&&Z.transition&&(W.transition=Z.transition)}x.forEach(Z=>{const it=e.getBaseTarget(Z),$=e.getValue(Z);$&&($.liveStyle=!0),W[Z]=it??null}),A.push({animation:W})}let U=!!A.length;return s&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(A):Promise.resolve()}function m(y,_){if(n[y].isActive===_)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(y,_)),n[y].isActive=_;const E=f(y);for(const A in n)n[A].protectedKeys={};return E}return{animateChanges:f,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=kx(),s=!0}}}function i6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zC(t,e):!1}function _l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kx(){return{animate:_l(!0),whileInView:_l(),whileHover:_l(),whileTap:_l(),whileDrag:_l(),whileFocus:_l(),exit:_l()}}class Oo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class s6 extends Oo{constructor(t){super(t),t.animationState||(t.animationState=n6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let r6=0;class a6 extends Oo{constructor(){super(...arguments),this.id=r6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const o6={animation:{Feature:s6},exit:{Feature:a6}};function Hh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function hf(e){return{point:{x:e.pageX,y:e.pageY}}}const l6=e=>t=>r0(t)&&e(t,hf(t));function bh(e,t,n,s){return Hh(e,t,l6(n),s)}const BC=1e-4,u6=1-BC,c6=1+BC,FC=.01,h6=0-FC,f6=0+FC;function ri(e){return e.max-e.min}function d6(e,t,n){return Math.abs(e-t)<=n}function Vx(e,t,n,s=.5){e.origin=s,e.originPoint=qe(t.min,t.max,e.origin),e.scale=ri(n)/ri(t),e.translate=qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=u6&&e.scale<=c6||isNaN(e.scale))&&(e.scale=1),(e.translate>=h6&&e.translate<=f6||isNaN(e.translate))&&(e.translate=0)}function Eh(e,t,n,s){Vx(e.x,t.x,n.x,s?s.originX:void 0),Vx(e.y,t.y,n.y,s?s.originY:void 0)}function jx(e,t,n){e.min=n.min+t.min,e.max=e.min+ri(t)}function m6(e,t,n){jx(e.x,t.x,n.x),jx(e.y,t.y,n.y)}function zx(e,t,n){e.min=t.min-n.min,e.max=e.min+ri(t)}function wh(e,t,n){zx(e.x,t.x,n.x),zx(e.y,t.y,n.y)}function ds(e){return[e("x"),e("y")]}const HC=({current:e})=>e?e.ownerDocument.defaultView:null,Ux=(e,t)=>Math.abs(e-t);function p6(e,t){const n=Ux(e.x,t.x),s=Ux(e.y,t.y);return Math.sqrt(n**2+s**2)}class qC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=vy(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,D=p6(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!D)return;const{point:U}=x,{timestamp:W}=Rn;this.history.push({...U,timestamp:W});const{onStart:Z,onMove:it}=this.handlers;N||(Z&&Z(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),it&&it(this.lastMoveEvent,x)},this.handlePointerMove=(x,N)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=_y(N,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(x,N)=>{this.end();const{onEnd:D,onSessionEnd:U,resumeAnimation:W}=this.handlers;if(this.dragSnapToOrigin&&W&&W(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=vy(x.type==="pointercancel"?this.lastMoveEventInfo:_y(N,this.transformPagePoint),this.history);this.startEvent&&D&&D(x,Z),U&&U(x,Z)},!r0(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=o||window;const m=hf(t),y=_y(m,this.transformPagePoint),{point:_}=y,{timestamp:E}=Rn;this.history=[{..._,timestamp:E}];const{onSessionStart:A}=n;A&&A(t,vy(y,this.history)),this.removeListeners=lf(bh(this.contextWindow,"pointermove",this.handlePointerMove),bh(this.contextWindow,"pointerup",this.handlePointerUp),bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function _y(e,t){return t?{point:t(e.point)}:e}function Bx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vy({point:e},t){return{point:e,delta:Bx(e,GC(t)),offset:Bx(e,g6(t)),velocity:y6(t,.1)}}function g6(e){return e[0]}function GC(e){return e[e.length-1]}function y6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=GC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>vr(t)));)n--;if(!s)return{x:0,y:0};const u=Tr(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function _6(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?qe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?qe(n,e,s.max):Math.min(e,n)),e}function Fx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function v6(e,{top:t,left:n,bottom:s,right:o}){return{x:Fx(e.x,n,o),y:Fx(e.y,t,s)}}function Hx(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function T6(e,t){return{x:Hx(e.x,t.x),y:Hx(e.y,t.y)}}function b6(e,t){let n=.5;const s=ri(e),o=ri(t);return o>s?n=Gu(t.min,t.max-s,e.min):s>o&&(n=Gu(e.min,e.max-o,t.min)),wr(0,1,n)}function E6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const w_=.35;function w6(e=w_){return e===!1?e=0:e===!0&&(e=w_),{x:qx(e,"left","right"),y:qx(e,"top","bottom")}}function qx(e,t,n){return{min:Gx(e,t),max:Gx(e,n)}}function Gx(e,t){return typeof e=="number"?e:e[t]||0}const x6=new WeakMap;class S6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=A=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hf(A).point)},f=(A,x)=>{const{drag:N,dragPropagation:D,onDragStart:U}=this.getProps();if(N&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S4(N),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(Z=>{let it=this.getAxisMotionValue(Z).get()||0;if(br.test(it)){const{projection:$}=this.visualElement;if($&&$.layout){const yt=$.layout.layoutBox[Z];yt&&(it=ri(yt)*(parseFloat(it)/100))}}this.originPoint[Z]=it}),U&&be.postRender(()=>U(A,x)),b_(this.visualElement,"transform");const{animationState:W}=this.visualElement;W&&W.setActive("whileDrag",!0)},m=(A,x)=>{this.latestPointerEvent=A,this.latestPanInfo=x;const{dragPropagation:N,dragDirectionLock:D,onDirectionLock:U,onDrag:W}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:Z}=x;if(D&&this.currentDirection===null){this.currentDirection=A6(Z),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",x.point,Z),this.updateAxis("y",x.point,Z),this.visualElement.render(),W&&W(A,x)},y=(A,x)=>{this.latestPointerEvent=A,this.latestPanInfo=x,this.stop(A,x),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>ds(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:E}=this.getProps();this.panSession=new qC(t,{onSessionStart:u,onStart:f,onMove:m,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:s,contextWindow:HC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:f}=o;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&be.postRender(()=>m(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Rd(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=_6(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Pu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=v6(s.layoutBox,t):this.constraints=!1,this.elastic=w6(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ds(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=E6(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Pu(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=A3(s,o.root,this.visualElement.getTransformPagePoint());let f=T6(o.layout.layoutBox,u);if(n){const m=n(w3(f));this.hasMutatedConstraints=!!m,m&&(f=IC(m))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},_=ds(E=>{if(!Rd(E,n,this.currentDirection))return;let A=y&&y[E]||{};f&&(A={min:0,max:0});const x=o?200:1e6,N=o?40:1e7,D={type:"inertia",velocity:s?t[E]:0,bounceStiffness:x,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(E,D)});return Promise.all(_).then(m)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return b_(this.visualElement,t),s.start(g0(t,s,0,n,this.visualElement,!1))}stopAnimation(){ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ds(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ds(n=>{const{drag:s}=this.getProps();if(!Rd(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:m}=o.layout.layoutBox[n];u.set(t[n]-qe(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Pu(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ds(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const y=m.get();o[f]=b6({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ds(f=>{if(!Rd(f,t,null))return;const m=this.getAxisMotionValue(f),{min:y,max:_}=this.constraints[f];m.set(qe(y,_,o[f]))})}addListeners(){if(!this.visualElement.current)return;x6.set(this.visualElement,this);const t=this.visualElement.current,n=bh(t,"pointerdown",y=>{const{drag:_,dragListener:E=!0}=this.getProps();_&&E&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Pu(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),be.read(s);const f=Hh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(ds(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=y[E].translate,A.set(A.get()+y[E].translate))}),this.visualElement.render())});return()=>{f(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=w_,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:m}}}function Rd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function A6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class R6 extends Oo{constructor(t){super(t),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new S6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wx=e=>(t,n)=>{e&&be.postRender(()=>e(t,n))};class C6 extends Oo{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(t){this.session=new qC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Wx(t),onStart:Wx(n),onMove:s,onEnd:(u,f)=>{delete this.session,o&&be.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=bh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qt.test(e))e=parseFloat(e);else return e;const n=Zx(e,t.target.x),s=Zx(e,t.target.y);return`${n}% ${s}%`}},I6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Co.parse(e);if(o.length>5)return s;const u=Co.createTransformer(e),f=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,y=n.y.scale*t.y;o[0+f]/=m,o[1+f]/=y;const _=qe(m,y,.5);return typeof o[2+f]=="number"&&(o[2+f]/=_),typeof o[3+f]=="number"&&(o[3+f]/=_),u(o)}};let Yx=!1;class P6 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;X4(M6),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),Yx&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),$d.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,Yx=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||be.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),s0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WC(e){const[t,n]=q4(),s=V.useContext(ER);return T.jsx(P6,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(RC),isPresent:t,safeToRemove:n})}const M6={borderRadius:{...Qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qc,borderTopRightRadius:Qc,borderBottomLeftRadius:Qc,borderBottomRightRadius:Qc,boxShadow:I6};function L6(e,t,n){const s=$n(e)?e:Us(e);return s.start(g0("",s,t,n)),s.animation}const D6=(e,t)=>e.depth-t.depth;class N6{constructor(){this.children=[],this.isDirty=!1}add(t){jv(this.children,t),this.isDirty=!0}remove(t){zv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(D6),this.isDirty=!1,this.children.forEach(t)}}function O6(e,t){const n=vi.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(Hs(s),e(u-t))};return be.setup(s,!0),()=>Hs(s)}const ZC=["TopLeft","TopRight","BottomLeft","BottomRight"],k6=ZC.length,Kx=e=>typeof e=="string"?parseFloat(e):e,$x=e=>typeof e=="number"||qt.test(e);function V6(e,t,n,s,o,u){o?(e.opacity=qe(0,n.opacity??1,j6(s)),e.opacityExit=qe(t.opacity??1,0,z6(s))):u&&(e.opacity=qe(t.opacity??1,n.opacity??1,s));for(let f=0;f<k6;f++){const m=`border${ZC[f]}Radius`;let y=Xx(t,m),_=Xx(n,m);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||$x(y)===$x(_)?(e[m]=Math.max(qe(Kx(y),Kx(_),s),0),(br.test(_)||br.test(y))&&(e[m]+="%")):e[m]=_}(t.rotate||n.rotate)&&(e.rotate=qe(t.rotate||0,n.rotate||0,s))}function Xx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const j6=YC(0,.5,LR),z6=YC(.5,.95,bi);function YC(e,t,n){return s=>s<e?0:s>t?1:n(Gu(e,t,s))}function Qx(e,t){e.min=t.min,e.max=t.max}function hs(e,t){Qx(e.x,t.x),Qx(e.y,t.y)}function Jx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function tS(e,t,n,s,o){return e-=t,e=Sm(e,1/n,s),o!==void 0&&(e=Sm(e,1/o,s)),e}function U6(e,t=0,n=1,s=.5,o,u=e,f=e){if(br.test(t)&&(t=parseFloat(t),t=qe(f.min,f.max,t/100)-f.min),typeof t!="number")return;let m=qe(u.min,u.max,s);e===u&&(m-=t),e.min=tS(e.min,t,n,m,o),e.max=tS(e.max,t,n,m,o)}function eS(e,t,[n,s,o],u,f){U6(e,t[n],t[s],t[o],t.scale,u,f)}const B6=["x","scaleX","originX"],F6=["y","scaleY","originY"];function nS(e,t,n,s){eS(e.x,t,B6,n?n.x:void 0,s?s.x:void 0),eS(e.y,t,F6,n?n.y:void 0,s?s.y:void 0)}function iS(e){return e.translate===0&&e.scale===1}function KC(e){return iS(e.x)&&iS(e.y)}function sS(e,t){return e.min===t.min&&e.max===t.max}function H6(e,t){return sS(e.x,t.x)&&sS(e.y,t.y)}function rS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $C(e,t){return rS(e.x,t.x)&&rS(e.y,t.y)}function aS(e){return ri(e.x)/ri(e.y)}function oS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class q6{constructor(){this.members=[]}add(t){jv(this.members,t),t.scheduleRender()}remove(t){if(zv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G6(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((o||u||f)&&(s=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:_,rotate:E,rotateX:A,rotateY:x,skewX:N,skewY:D}=n;_&&(s=`perspective(${_}px) ${s}`),E&&(s+=`rotate(${E}deg) `),A&&(s+=`rotateX(${A}deg) `),x&&(s+=`rotateY(${x}deg) `),N&&(s+=`skewX(${N}deg) `),D&&(s+=`skewY(${D}deg) `)}const m=e.x.scale*t.x,y=e.y.scale*t.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const Ty=["","X","Y","Z"],W6=1e3;let Z6=0;function by(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function XC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",be,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&XC(s)}function QC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},m=t?.()){this.id=Z6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($6),this.nodes.forEach(tz),this.nodes.forEach(ez),this.nodes.forEach(X6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new N6)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Bv),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const y=this.eventHandlers.get(f);y&&y.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=a0(f)&&!U4(f),this.instance=f;const{layoutId:m,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),e){let E,A=0;const x=()=>this.root.updateBlockedByResize=!1;be.read(()=>{A=window.innerWidth}),e(f,()=>{const N=window.innerWidth;N!==A&&(A=N,this.root.updateBlockedByResize=!0,E&&E(),E=O6(x,250),$d.hasAnimatedSinceResize&&($d.hasAnimatedSinceResize=!1,this.nodes.forEach(cS)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||y)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:A,hasRelativeLayoutChanged:x,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||_.getDefaultTransition()||az,{onLayoutAnimationStart:U,onLayoutAnimationComplete:W}=_.getProps(),Z=!this.targetLayout||!$C(this.targetLayout,N),it=!A&&x;if(this.options.layoutRoot||this.resumeFrom||it||A&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...n0(D,"layout"),onPlay:U,onComplete:W};(_.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(E,it)}else A||cS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nz),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(J6),this.nodes.forEach(Y6),this.nodes.forEach(K6)):this.nodes.forEach(uS),this.clearAllSnapshots();const m=vi.now();Rn.delta=wr(0,1e3/60,m-Rn.timestamp),Rn.timestamp=m,Rn.isProcessing=!0,cy.update.process(Rn),cy.preRender.process(Rn),cy.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q6),this.sharedNodes.forEach(iz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ri(this.snapshot.measuredBox.x)&&!ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!KC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,E=_!==this.prevTransformTemplateValue;f&&this.instance&&(m||bl(this.latestValues)||E)&&(o(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return f&&(y=this.removeTransform(y)),oz(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return nn();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lz))){const{scroll:_}=this.root;_&&(Mu(m.x,_.offset.x),Mu(m.y,_.offset.y))}return m}removeElementScroll(f){const m=nn();if(hs(m,f),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:E,options:A}=_;_!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&hs(m,f),Mu(m.x,E.offset.x),Mu(m.y,E.offset.y))}return m}applyTransform(f,m=!1){const y=nn();hs(y,f);for(let _=0;_<this.path.length;_++){const E=this.path[_];!m&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Lu(y,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),bl(E.latestValues)&&Lu(y,E.latestValues)}return bl(this.latestValues)&&Lu(y,this.latestValues),y}removeTransform(f){const m=nn();hs(m,f);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!bl(_.latestValues))continue;y_(_.latestValues)&&_.updateSnapshot();const E=nn(),A=_.measurePageBox();hs(E,A),nS(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,E)}return bl(this.latestValues)&&nS(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!(!this.layout||!(E||A))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),wh(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hs(this.target,this.layout.layoutBox),MC(this.target,this.targetDelta)):hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),wh(this.relativeTargetOrigin,this.target,x.target),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||y_(this.parent.latestValues)||PC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(y=!1),y)return;const{layout:_,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||E))return;hs(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,x=this.treeScale.y;S3(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=nn());const{target:N}=f;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jx(this.prevProjectionDelta.x,this.projectionDelta.x),Jx(this.prevProjectionDelta.y,this.projectionDelta.y)),Eh(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==x||!oS(this.projectionDelta.x,this.prevProjectionDelta.x)||!oS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Du(),this.projectionDelta=Du(),this.projectionDeltaWithTransform=Du()}setAnimationOrigin(f,m=!1){const y=this.snapshot,_=y?y.latestValues:{},E={...this.latestValues},A=Du();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=nn(),N=y?y.source:void 0,D=this.layout?this.layout.source:void 0,U=N!==D,W=this.getStack(),Z=!W||W.members.length<=1,it=!!(U&&!Z&&this.options.crossfade===!0&&!this.path.some(rz));this.animationProgress=0;let $;this.mixTargetDelta=yt=>{const ht=yt/1e3;hS(A.x,f.x,ht),hS(A.y,f.y,ht),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,x,ht),$&&H6(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=nn()),hs($,this.relativeTarget)),U&&(this.animationValues=E,V6(E,_,this.latestValues,ht,it,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ht},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{$d.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Us(0)),this.currentAnimation=L6(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(W6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:y,layout:_,latestValues:E}=f;if(!(!m||!y||!_)){if(this!==f&&this.layout&&_&&JC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||nn();const A=ri(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+A;const x=ri(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+x}hs(m,y),Lu(m,E),Eh(this.projectionDeltaWithTransform,this.layoutCorrected,m,E)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new q6),this.sharedNodes.get(f).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const _={};y.z&&by("z",f,_,this.animationValues);for(let E=0;E<Ty.length;E++)by(`rotate${Ty[E]}`,f,_,this.animationValues),by(`skew${Ty[E]}`,f,_,this.animationValues);f.render();for(const E in _)f.setStaticValue(E,_[E]),this.animationValues&&(this.animationValues[E]=_[E]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Kd(m?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Kd(m?.pointerEvents)||""),this.hasProjected&&!bl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const E=_.animationValues||_.latestValues;this.applyTransformsToTarget();let A=G6(this.projectionDeltaWithTransform,this.treeScale,E);y&&(A=y(E,A)),f.transform=A;const{x,y:N}=this.projectionDelta;f.transformOrigin=`${x.origin*100}% ${N.origin*100}% 0`,_.animationValues?f.opacity=_===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:f.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in Bh){if(E[D]===void 0)continue;const{correct:U,applyTo:W,isCSSVariable:Z}=Bh[D],it=A==="none"?E[D]:U(E[D],_);if(W){const $=W.length;for(let yt=0;yt<$;yt++)f[W[yt]]=it}else Z?this.options.visualElement.renderState.vars[D]=it:f[D]=it}this.options.layoutId&&(f.pointerEvents=_===this?Kd(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(lS),this.root.sharedNodes.clear()}}}function Y6(e){e.updateLayout()}function K6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?ds(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],x=ri(A);A.min=n[E].min,A.max=A.min+x}):JC(o,t.layoutBox,n)&&ds(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],x=ri(n[E]);A.max=A.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+x)});const f=Du();Eh(f,n,t.layoutBox);const m=Du();u?Eh(m,e.applyTransform(s,!0),t.measuredBox):Eh(m,n,t.layoutBox);const y=!KC(f);let _=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:x}=E;if(A&&x){const N=nn();wh(N,t.layoutBox,A.layoutBox);const D=nn();wh(D,n,x.layoutBox),$C(N,D)||(_=!0),E.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=N,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function X6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q6(e){e.clearSnapshot()}function lS(e){e.clearMeasurements()}function uS(e){e.isLayoutDirty=!1}function J6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tz(e){e.resolveTargetDelta()}function ez(e){e.calcProjection()}function nz(e){e.resetSkewAndRotation()}function iz(e){e.removeLeadSnapshot()}function hS(e,t,n){e.translate=qe(t.translate,0,n),e.scale=qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function fS(e,t,n,s){e.min=qe(t.min,n.min,s),e.max=qe(t.max,n.max,s)}function sz(e,t,n,s){fS(e.x,t.x,n.x,s),fS(e.y,t.y,n.y,s)}function rz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const az={duration:.45,ease:[.4,0,.1,1]},dS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),mS=dS("applewebkit/")&&!dS("chrome/")?Math.round:bi;function pS(e){e.min=mS(e.min),e.max=mS(e.max)}function oz(e){pS(e.x),pS(e.y)}function JC(e,t,n){return e==="position"||e==="preserve-aspect"&&!d6(aS(t),aS(n),.2)}function lz(e){return e!==e.root&&e.scroll?.wasRoot}const uz=QC({attachResizeListener:(e,t)=>Hh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ey={current:void 0},tI=QC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ey.current){const e=new uz({});e.mount(window),e.setOptions({layoutScroll:!0}),Ey.current=e}return Ey.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cz={pan:{Feature:C6},drag:{Feature:R6,ProjectionNode:tI,MeasureLayout:WC}};function gS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&be.postRender(()=>u(t,hf(t)))}class hz extends Oo{mount(){const{current:t}=this.node;t&&(this.unmount=A4(t,(n,s)=>(gS(this.node,s,"Start"),o=>gS(this.node,o,"End"))))}unmount(){}}class fz extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lf(Hh(this.node.current,"focus",()=>this.onFocus()),Hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&be.postRender(()=>u(t,hf(t)))}class dz extends Oo{mount(){const{current:t}=this.node;t&&(this.unmount=P4(t,(n,s)=>(yS(this.node,s,"Start"),(o,{success:u})=>yS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x_=new WeakMap,wy=new WeakMap,mz=e=>{const t=x_.get(e.target);t&&t(e)},pz=e=>{e.forEach(mz)};function gz({root:e,...t}){const n=e||document;wy.has(n)||wy.set(n,{});const s=wy.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(pz,{root:e,...t})),s[o]}function yz(e,t,n){const s=gz(t);return x_.set(e,n),s.observe(e),()=>{x_.delete(e),s.unobserve(e)}}const _z={some:0,all:1};class vz extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:_z[o]},m=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,u&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),x=_?E:A;x&&x(y)};return yz(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Tz(t,n))&&this.startObserver()}unmount(){}}function Tz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bz={inView:{Feature:vz},tap:{Feature:dz},focus:{Feature:fz},hover:{Feature:hz}},Ez={layout:{ProjectionNode:tI,MeasureLayout:WC}},wz={...o6,...bz,...cz,...Ez},Jc=E3(wz,O3),xz=50,_S=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Sz=()=>({time:0,x:_S(),y:_S()}),Az={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function vS(e,t,n,s){const o=n[t],{length:u,position:f}=Az[t],m=o.current,y=n.time;o.current=e[`scroll${f}`],o.scrollLength=e[`scroll${u}`]-e[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Gu(0,o.scrollLength,o.current);const _=s-y;o.velocity=_>xz?0:Fv(o.current-m,_)}function Rz(e,t,n){vS(e,"x",t,n),vS(e,"y",t,n),t.time=n}function Cz(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(cC(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const u=s.getBoundingClientRect();n.x+=o.left-u.left,n.y+=o.top-u.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:u}=s.getBBox();n.x+=o,n.y+=u;let f=null,m=s.parentNode;for(;!f;)m.tagName==="svg"&&(f=m),m=s.parentNode;s=f}else break;return n}const S_={start:0,center:.5,end:1};function TS(e,t,n=0){let s=0;if(e in S_&&(e=S_[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(s=t*e),n+s}const Iz=[0,0];function Pz(e,t,n,s){let o=Array.isArray(e)?e:Iz,u=0,f=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,S_[e]?e:"0"]),u=TS(o[0],n,s),f=TS(o[1],t),u-f}const Mz={All:[[0,0],[1,1]]},Lz={x:0,y:0};function Dz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Nz(e,t,n){const{offset:s=Mz.All}=n,{target:o=e,axis:u="y"}=n,f=u==="y"?"height":"width",m=o!==e?Cz(o,e):Lz,y=o===e?{width:e.scrollWidth,height:e.scrollHeight}:Dz(o),_={width:e.clientWidth,height:e.clientHeight};t[u].offset.length=0;let E=!t[u].interpolate;const A=s.length;for(let x=0;x<A;x++){const N=Pz(s[x],_[f],y[f],m[u]);!E&&N!==t[u].interpolatorOffsets[x]&&(E=!0),t[u].offset[x]=N}E&&(t[u].interpolate=Xv(t[u].offset,ZR(s),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=wr(0,1,t[u].interpolate(t[u].current))}function Oz(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function kz(e,t,n,s={}){return{measure:o=>{Oz(e,s.target,n),Rz(e,n,o),(s.offset||s.target)&&Nz(e,n,s)},notify:()=>t(n)}}const th=new WeakMap,bS=new WeakMap,xy=new WeakMap,ES=e=>e===document.scrollingElement?window:e;function eI(e,{container:t=document.scrollingElement,...n}={}){if(!t)return bi;let s=xy.get(t);s||(s=new Set,xy.set(t,s));const o=Sz(),u=kz(t,e,o,n);if(s.add(u),!th.has(t)){const m=()=>{for(const A of s)A.measure(Rn.timestamp);be.preUpdate(y)},y=()=>{for(const A of s)A.notify()},_=()=>be.read(m);th.set(t,_);const E=ES(t);window.addEventListener("resize",_,{passive:!0}),t!==document.documentElement&&bS.set(t,z4(t,_)),E.addEventListener("scroll",_,{passive:!0}),_()}const f=th.get(t);return be.read(f,!1,!0),()=>{Hs(f);const m=xy.get(t);if(!m||(m.delete(u),m.size))return;const y=th.get(t);th.delete(t),y&&(ES(t).removeEventListener("scroll",y),bS.get(t)?.(),window.removeEventListener("resize",y))}}const wS=new Map;function Vz(e){const t={value:0},n=eI(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function nI({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const o=wS.get(t)??new Map;wS.set(t,o);const u=n.target??"self",f=o.get(u)??{},m=s+(n.offset??[]).join(",");return f[m]||(f[m]=!n.target&&XR()?new ScrollTimeline({source:t,axis:s}):Vz({container:t,...n})),f[m]}function jz(e,t){const n=nI(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),pC(o=>{s.time=s.duration*o},n))})}function zz(e){return e.length===2}function Uz(e,t){return zz(e)?eI(n=>{e(n[t.axis].progress,n)},t):pC(e,nI(t))}function Bz(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return bi;const o={axis:t,container:n,...s};return typeof e=="function"?Uz(e,o):jz(e,o)}const Fz=()=>({scrollX:Us(0),scrollY:Us(0),scrollXProgress:Us(0),scrollYProgress:Us(0)}),Cd=e=>e?!e.current:!1;function Hz({container:e,target:t,...n}={}){const s=ip(Fz),o=V.useRef(null),u=V.useRef(!1),f=V.useCallback(()=>(o.current=Bz((m,{x:y,y:_})=>{s.scrollX.set(y.current),s.scrollXProgress.set(y.progress),s.scrollY.set(_.current),s.scrollYProgress.set(_.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{o.current?.()}),[e,t,JSON.stringify(n.offset)]);return kv(()=>{if(u.current=!1,Cd(e)||Cd(t)){u.current=!0;return}else return f()},[f]),V.useEffect(()=>{if(u.current)return Vh(!Cd(e)),Vh(!Cd(t)),f()},[f]),s}function qz(e){const t=ip(()=>Us(e)),{isStatic:n}=V.useContext(o0);if(n){const[,s]=V.useState(e);V.useEffect(()=>t.on("change",s),[])}return t}function iI(e,t){const n=qz(t()),s=()=>n.set(t());return s(),kv(()=>{const o=()=>be.preRender(s,!1,!0),u=e.map(f=>f.on("change",o));return()=>{u.forEach(f=>f()),Hs(s)}}),n}function Gz(e){Th.current=[],e();const t=iI(Th.current,e);return Th.current=void 0,t}function vl(e,t,n,s){if(typeof e=="function")return Gz(e);const o=typeof t=="function"?t:B4(t,n,s);return Array.isArray(e)?xS(e,o):xS([e],([u])=>o(u))}function xS(e,t){const n=ip(()=>[]);return iI(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function Wz(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function Zz(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const Yz=1;function Kz(e){return Object.freeze({__version:Yz,map:e})}function y0(e,t){return Object.freeze({...e,...t})}const _0=V.createContext(null);function v0(){const e=V.use(_0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function sI(e){function t(n,s){const{instance:o,context:u}=e(n).current;V.useImperativeHandle(s,()=>o);const{children:f}=n;return f==null?null:Xd.createElement(_0,{value:u},f)}return V.forwardRef(t)}function $z(e){function t(n,s){const{instance:o}=e(n).current;return V.useImperativeHandle(s,()=>o),null}return V.forwardRef(t)}function rI(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function T0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var ch={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Xz=ch.exports,SS;function Qz(){return SS||(SS=1,function(e,t){(function(n,s){s(t)})(Xz,function(n){var s="1.9.4";function o(a){var c,p,b,S;for(p=1,b=arguments.length;p<b;p++){S=arguments[p];for(c in S)a[c]=S[c]}return a}var u=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function f(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var b=p.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function _(a,c,p){var b,S,I,F;return F=function(){b=!1,S&&(I.apply(p,S),S=!1)},I=function(){b?S=arguments:(a.apply(p,arguments),setTimeout(F,c),b=!0)},I}function E(a,c,p){var b=c[1],S=c[0],I=b-S;return a===b&&p?a:((a-S)%I+I)%I+S}function A(){return!1}function x(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function N(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function D(a){return N(a).split(/\s+/)}function U(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function W(a,c,p){var b=[];for(var S in a)b.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function it(a,c){return a.replace(Z,function(p,b){var S=c[b];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(c)),S})}var $=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function yt(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var ht="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Et(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var q=0;function P(a){var c=+new Date,p=Math.max(0,16-(c-q));return q=c+p,window.setTimeout(a,p)}var k=window.requestAnimationFrame||Et("RequestAnimationFrame")||P,B=window.cancelAnimationFrame||Et("CancelAnimationFrame")||Et("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function G(a,c,p){if(p&&k===P)a.call(c);else return k.call(window,f(a,c))}function Y(a){a&&B.call(window,a)}var j={__proto__:null,extend:o,create:u,bind:f,get lastId(){return m},stamp:y,throttle:_,wrapNum:E,falseFn:A,formatNum:x,trim:N,splitWords:D,setOptions:U,getParamString:W,template:it,isArray:$,indexOf:yt,emptyImageUrl:ht,requestFn:k,cancelFn:B,requestAnimFrame:G,cancelAnimFrame:Y};function Tt(){}Tt.extend=function(a){var c=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,b=u(p);b.constructor=c,c.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return a.statics&&o(c,a.statics),a.includes&&(Vt(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=p.options?u(p.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,F=b._initHooks.length;I<F;I++)b._initHooks[I].call(this)}},c},Tt.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Tt.mergeOptions=function(a){return o(this.prototype.options,a),this},Tt.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Vt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=$(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var st={on:function(a,c,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=D(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=D(a);for(var S=arguments.length===1,I=0,F=a.length;I<F;I++)S?this._off(a[I]):this._off(a[I],c,p)}return this},_on:function(a,c,p,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var S={fn:c,ctx:p};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,c,p){var b,S,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,I=b.length;S<I;S++)b[S].fn=A;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var F=this._listens(a,c,p);if(F!==!1){var J=b[F];this._firingCount&&(J.fn=A,this._events[a]=b=b.slice()),b.splice(F,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var I=0,F=S.length;I<F;I++){var J=S[I],at=J.fn;J.once&&this.off(a,at,J.ctx),at.call(J.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(a,c,p,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(b=!!c,S=void 0,p=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,S,p)!==!1)return!0;if(b){for(var F in this._eventParents)if(this._eventParents[F].listens(a,c,p,b))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;p===this&&(p=void 0);for(var S=0,I=b.length;S<I;S++)if(b[S].fn===c&&b[S].ctx===p)return S;return!1},once:function(a,c,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=D(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};st.addEventListener=st.on,st.removeEventListener=st.clearAllEventListeners=st.off,st.addOneTimeEventListener=st.once,st.fireEvent=st.fire,st.hasEventListeners=st.listens;var ft=Tt.extend(st);function mt(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var Kt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};mt.prototype={clone:function(){return new mt(this.x,this.y)},add:function(a){return this.clone()._add(z(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(z(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new mt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new mt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Kt(this.x),this.y=Kt(this.y),this},distanceTo:function(a){a=z(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=z(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=z(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function z(a,c,p){return a instanceof mt?a:$(a)?new mt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new mt(a.x,a.y):new mt(a,c,p)}function lt(a,c){if(a)for(var p=c?[a,c]:a,b=0,S=p.length;b<S;b++)this.extend(p[b])}lt.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof mt||typeof a[0]=="number"||"x"in a)c=p=z(a);else if(a=bt(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof mt?a=z(a):a=bt(a),a instanceof lt?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=bt(a);var c=this.min,p=this.max,b=a.min,S=a.max,I=S.x>=c.x&&b.x<=p.x,F=S.y>=c.y&&b.y<=p.y;return I&&F},overlaps:function(a){a=bt(a);var c=this.min,p=this.max,b=a.min,S=a.max,I=S.x>c.x&&b.x<p.x,F=S.y>c.y&&b.y<p.y;return I&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,b=Math.abs(c.x-p.x)*a,S=Math.abs(c.y-p.y)*a;return bt(z(c.x-b,c.y-S),z(p.x+b,p.y+S))},equals:function(a){return a?(a=bt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function bt(a,c){return!a||a instanceof lt?a:new lt(a,c)}function vt(a,c){if(a)for(var p=c?[a,c]:a,b=0,S=p.length;b<S;b++)this.extend(p[b])}vt.prototype={extend:function(a){var c=this._southWest,p=this._northEast,b,S;if(a instanceof It)b=a,S=a;else if(a instanceof vt){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(xt(a)||At(a)):this;return!c&&!p?(this._southWest=new It(b.lat,b.lng),this._northEast=new It(S.lat,S.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,b=Math.abs(c.lat-p.lat)*a,S=Math.abs(c.lng-p.lng)*a;return new vt(new It(c.lat-b,c.lng-S),new It(p.lat+b,p.lng+S))},getCenter:function(){return new It((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new It(this.getNorth(),this.getWest())},getSouthEast:function(){return new It(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof It||"lat"in a?a=xt(a):a=At(a);var c=this._southWest,p=this._northEast,b,S;return a instanceof vt?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=c.lat&&S.lat<=p.lat&&b.lng>=c.lng&&S.lng<=p.lng},intersects:function(a){a=At(a);var c=this._southWest,p=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>=c.lat&&b.lat<=p.lat,F=S.lng>=c.lng&&b.lng<=p.lng;return I&&F},overlaps:function(a){a=At(a);var c=this._southWest,p=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>c.lat&&b.lat<p.lat,F=S.lng>c.lng&&b.lng<p.lng;return I&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=At(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function At(a,c){return a instanceof vt?a:new vt(a,c)}function It(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}It.prototype={equals:function(a,c){if(!a)return!1;a=xt(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return le.distance(this,xt(a))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return At([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new It(this.lat,this.lng,this.alt)}};function xt(a,c,p){return a instanceof It?a:$(a)&&typeof a[0]!="object"?a.length===3?new It(a[0],a[1],a[2]):a.length===2?new It(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new It(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new It(a,c,p)}var Ee={latLngToPoint:function(a,c){var p=this.projection.project(a),b=this.scale(c);return this.transformation._transform(p,b)},pointToLatLng:function(a,c){var p=this.scale(c),b=this.transformation.untransform(a,p);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),b=this.transformation.transform(c.min,p),S=this.transformation.transform(c.max,p);return new lt(b,S)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new It(p,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),b=c.lat-p.lat,S=c.lng-p.lng;if(b===0&&S===0)return a;var I=a.getSouthWest(),F=a.getNorthEast(),J=new It(I.lat-b,I.lng-S),at=new It(F.lat-b,F.lng-S);return new vt(J,at)}},le=o({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,b=a.lat*p,S=c.lat*p,I=Math.sin((c.lat-a.lat)*p/2),F=Math.sin((c.lng-a.lng)*p/2),J=I*I+Math.cos(b)*Math.cos(S)*F*F,at=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*at}}),Ei=6378137,Gi={R:Ei,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,a.lat),-p),S=Math.sin(b*c);return new mt(this.R*a.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var c=180/Math.PI;return new It((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=Ei*Math.PI;return new lt([-a,-a],[a,a])}()};function wi(a,c,p,b){if($(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=b}wi.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new mt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function xi(a,c,p,b){return new wi(a,c,p,b)}var vs=o({},le,{code:"EPSG:3857",projection:Gi,transformation:function(){var a=.5/(Math.PI*Gi.R);return xi(a,.5,-a,.5)}()}),Rr=o({},vs,{code:"EPSG:900913"});function pa(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ko(a,c){var p="",b,S,I,F,J,at;for(b=0,I=a.length;b<I;b++){for(J=a[b],S=0,F=J.length;S<F;S++)at=J[S],p+=(S?"L":"M")+at.x+" "+at.y;p+=c?Dt.svg?"z":"x":""}return p||"M0 0"}var jn=document.documentElement.style,ga="ActiveXObject"in window,Vo=ga&&!document.addEventListener,Cr="msLaunchUri"in navigator&&!("documentMode"in document),Ts=Un("webkit"),Vl=Un("android"),Ir=Un("android 2")||Un("android 3"),jo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jl=Vl&&Un("Google")&&jo<537&&!("AudioNode"in window),Ie=!!window.opera,fe=!Cr&&Un("chrome"),zn=Un("gecko")&&!Ts&&!Ie&&!ga,_n=!fe&&Un("safari"),zo=Un("phantom"),zl="OTransition"in jn,Pr=navigator.platform.indexOf("Win")===0,Gs=ga&&"transition"in jn,bs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ir,ai="MozPerspective"in jn,ya=!window.L_DISABLE_3D&&(Gs||bs||ai)&&!zl&&!zo,Si=typeof orientation<"u"||Un("mobile"),Uo=Si&&Ts,Bo=Si&&bs,_a=!window.PointerEvent&&window.MSPointerEvent,Wi=!!(window.PointerEvent||_a),Zi="ontouchstart"in window||!!window.TouchEvent,Fo=!window.L_NO_TOUCH&&(Zi||Wi),Yi=Si&&Ie,Ho=Si&&zn,Ws=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,va=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return a}(),Zs=function(){return!!document.createElement("canvas").getContext}(),Ta=!!(document.createElementNS&&pa("svg").createSVGRect),Pe=!!Ta&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Qe=!Ta&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),We=navigator.platform.indexOf("Mac")===0,oi=navigator.platform.indexOf("Linux")===0;function Un(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Dt={ie:ga,ielt9:Vo,edge:Cr,webkit:Ts,android:Vl,android23:Ir,androidStock:jl,opera:Ie,chrome:fe,gecko:zn,safari:_n,phantom:zo,opera12:zl,win:Pr,ie3d:Gs,webkit3d:bs,gecko3d:ai,any3d:ya,mobile:Si,mobileWebkit:Uo,mobileWebkit3d:Bo,msPointer:_a,pointer:Wi,touch:Fo,touchNative:Zi,mobileOpera:Yi,mobileGecko:Ho,retina:Ws,passiveEvents:va,canvas:Zs,svg:Ta,vml:Qe,inlineSvg:Pe,mac:We,linux:oi},Es=Dt.msPointer?"MSPointerDown":"pointerdown",qo=Dt.msPointer?"MSPointerMove":"pointermove",Ys=Dt.msPointer?"MSPointerUp":"pointerup",ws=Dt.msPointer?"MSPointerCancel":"pointercancel",Ai={touchstart:Es,touchmove:qo,touchend:Ys,touchcancel:ws},Ri={touchstart:Lr,touchmove:Mr,touchend:Mr,touchcancel:Mr},In={},vn=!1;function Be(a,c,p){return c==="touchstart"&&Ul(),Ri[c]?(p=Ri[c].bind(this,p),a.addEventListener(Ai[c],p,!1),p):(console.warn("wrong event specified:",c),A)}function Go(a,c,p){if(!Ai[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Ai[c],p,!1)}function ba(a){In[a.pointerId]=a}function Ci(a){In[a.pointerId]&&(In[a.pointerId]=a)}function Ki(a){delete In[a.pointerId]}function Ul(){vn||(document.addEventListener(Es,ba,!0),document.addEventListener(qo,Ci,!0),document.addEventListener(Ys,Ki,!0),document.addEventListener(ws,Ki,!0),vn=!0)}function Mr(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in In)c.touches.push(In[p]);c.changedTouches=[c],a(c)}}function Lr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&we(c),Mr(a,c)}function Bl(a){var c={},p,b;for(b in a)p=a[b],c[b]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Ks=200;function $i(a,c){a.addEventListener("dblclick",c);var p=0,b;function S(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var F=xa(I);if(!(F.some(function(at){return at instanceof HTMLLabelElement&&at.attributes.for})&&!F.some(function(at){return at instanceof HTMLInputElement||at instanceof HTMLSelectElement}))){var J=Date.now();J-p<=Ks?(b++,b===2&&c(Bl(I))):b=1,p=J}}}return a.addEventListener("click",S),{dblclick:c,simDblclick:S}}function dn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var xs=Ii(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$s=Ii(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xi=$s==="webkitTransition"||$s==="OTransition"?$s+"End":"transitionend";function Dr(a){return typeof a=="string"?document.getElementById(a):a}function Qi(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);p=b?b[c]:null}return p==="auto"?null:p}function Jt(a,c,p){var b=document.createElement(a);return b.className=c||"",p&&p.appendChild(b),b}function pe(a){var c=a.parentNode;c&&c.removeChild(a)}function rn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ji(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Xs(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Qs(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=ke(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Wt(a,c){if(a.classList!==void 0)for(var p=D(c),b=0,S=p.length;b<S;b++)a.classList.add(p[b]);else if(!Qs(a,c)){var I=ke(a);Wo(a,(I?I+" ":"")+c)}}function _e(a,c){a.classList!==void 0?a.classList.remove(c):Wo(a,N((" "+ke(a)+" ").replace(" "+c+" "," ")))}function Wo(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function ke(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Me(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Nr(a,c)}function Nr(a,c){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function Ii(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Pn(a,c,p){var b=c||new mt(0,0);a.style[xs]=(Dt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function Ut(a,c){a._leaflet_pos=c,Dt.any3d?Pn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Qn(a){return a._leaflet_pos||new mt(0,0)}var Tn,Pi,Ea;if("onselectstart"in document)Tn=function(){kt(window,"selectstart",we)},Pi=function(){ue(window,"selectstart",we)};else{var Ss=Ii(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tn=function(){if(Ss){var a=document.documentElement.style;Ea=a[Ss],a[Ss]="none"}},Pi=function(){Ss&&(document.documentElement.style[Ss]=Ea,Ea=void 0)}}function Or(){kt(window,"dragstart",we)}function Zo(){ue(window,"dragstart",we)}var wa,Js;function Mi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Mn(),wa=a,Js=a.style.outlineStyle,a.style.outlineStyle="none",kt(window,"keydown",Mn))}function Mn(){wa&&(wa.style.outlineStyle=Js,wa=void 0,Js=void 0,ue(window,"keydown",Mn))}function ts(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Li(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Yo={__proto__:null,TRANSFORM:xs,TRANSITION:$s,TRANSITION_END:Xi,get:Dr,getStyle:Qi,create:Jt,remove:pe,empty:rn,toFront:Ji,toBack:Xs,hasClass:Qs,addClass:Wt,removeClass:_e,setClass:Wo,getClass:ke,setOpacity:Me,testProp:Ii,setTransform:Pn,setPosition:Ut,getPosition:Qn,get disableTextSelection(){return Tn},get enableTextSelection(){return Pi},disableImageDrag:Or,enableImageDrag:Zo,preventOutline:Mi,restoreOutline:Mn,getSizedParentNode:ts,getScale:Li};function kt(a,c,p,b){if(c&&typeof c=="object")for(var S in c)As(a,S,c[S],p);else{c=D(c);for(var I=0,F=c.length;I<F;I++)As(a,c[I],p,b)}return this}var Jn="_leaflet_events";function ue(a,c,p,b){if(arguments.length===1)li(a),delete a[Jn];else if(c&&typeof c=="object")for(var S in c)ui(a,S,c[S],p);else if(c=D(c),arguments.length===2)li(a,function(J){return yt(c,J)!==-1});else for(var I=0,F=c.length;I<F;I++)ui(a,c[I],p,b);return this}function li(a,c){for(var p in a[Jn]){var b=p.split(/\d/)[0];(!c||c(b))&&ui(a,b,null,null,p)}}var Bn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function As(a,c,p,b){var S=c+y(p)+(b?"_"+y(b):"");if(a[Jn]&&a[Jn][S])return this;var I=function(J){return p.call(b||a,J||window.event)},F=I;!Dt.touchNative&&Dt.pointer&&c.indexOf("touch")===0?I=Be(a,c,I):Dt.touch&&c==="dblclick"?I=$i(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Bn[c]||c,I,Dt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(J){J=J||window.event,Cs(a,J)&&F(J)},a.addEventListener(Bn[c],I,!1)):a.addEventListener(c,F,!1):a.attachEvent("on"+c,I),a[Jn]=a[Jn]||{},a[Jn][S]=I}function ui(a,c,p,b,S){S=S||c+y(p)+(b?"_"+y(b):"");var I=a[Jn]&&a[Jn][S];if(!I)return this;!Dt.touchNative&&Dt.pointer&&c.indexOf("touch")===0?Go(a,c,I):Dt.touch&&c==="dblclick"?dn(a,I):"removeEventListener"in a?a.removeEventListener(Bn[c]||c,I,!1):a.detachEvent("on"+c,I),a[Jn][S]=null}function Fn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Di(a){return As(a,"wheel",Fn),this}function Rs(a){return kt(a,"mousedown touchstart dblclick contextmenu",Fn),a._leaflet_disable_click=!0,this}function we(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function bn(a){return we(a),Fn(a),this}function xa(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function Je(a,c){if(!c)return new mt(a.clientX,a.clientY);var p=Li(c),b=p.boundingClientRect;return new mt((a.clientX-b.left)/p.x-c.clientLeft,(a.clientY-b.top)/p.y-c.clientTop)}var de=Dt.linux&&Dt.chrome?window.devicePixelRatio:Dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kr(a){return Dt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/de:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Cs(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Fl={__proto__:null,on:kt,off:ue,stopPropagation:Fn,disableScrollPropagation:Di,disableClickPropagation:Rs,preventDefault:we,stop:bn,getPropagationPath:xa,getMousePosition:Je,getWheelDelta:kr,isExternalTarget:Cs,addListener:kt,removeListener:ue},Vr=ft.extend({run:function(a,c,p,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Qn(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ut(this._el,p),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),$t=ft.extend({options:{crs:vs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=U(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(xt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$s&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,Xi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(xt(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var b=this.getZoomScale(c),S=this.getSize().divideBy(2),I=a instanceof mt?a:this.latLngToContainerPoint(a),F=I.subtract(S).multiplyBy(1-1/b),J=this.containerPointToLatLng(S.add(F));return this.setView(J,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():At(a);var p=z(c.paddingTopLeft||c.padding||[0,0]),b=z(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(b));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var I=b.subtract(p).divideBy(2),F=this.project(a.getSouthWest(),S),J=this.project(a.getNorthEast(),S),at=this.unproject(F.add(J).divideBy(2).add(I),S);return{center:at,zoom:S}},fitBounds:function(a,c){if(a=At(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=z(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Dt.any3d)return this.setView(a,c,p);this._stop();var b=this.project(this.getCenter()),S=this.project(a),I=this.getSize(),F=this._zoom;a=xt(a),c=c===void 0?F:c;var J=Math.max(I.x,I.y),at=J*this.getZoomScale(F,c),_t=S.distanceTo(b)||1,Rt=1.42,Pt=Rt*Rt;function Lt(je){var os=je?-1:1,Ns=je?at:J,rr=at*at-J*J+os*Pt*Pt*_t*_t,Os=2*Ns*Pt*_t,ul=rr/Os,eu=Math.sqrt(ul*ul+1)-ul,cl=eu<1e-9?-18:Math.log(eu);return cl}function Gt(je){return(Math.exp(je)-Math.exp(-je))/2}function De(je){return(Math.exp(je)+Math.exp(-je))/2}function Fe(je){return Gt(je)/De(je)}var wn=Lt(0);function ci(je){return J*(De(wn)/De(wn+Rt*je))}function vf(je){return J*(De(wn)*Fe(wn+Rt*je)-Gt(wn))/Pt}function Tf(je){return 1-Math.pow(1-je,1.5)}var ll=Date.now(),Ba=(Lt(1)-wn)/Rt,bf=p.duration?1e3*p.duration:1e3*Ba*.8;function Fa(){var je=(Date.now()-ll)/bf,os=Tf(je)*Ba;je<=1?(this._flyToFrame=G(Fa,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(vf(os)/_t)),F),this.getScaleZoom(J/ci(os),F),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Fa.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=At(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,At(a));return p.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=z(c.paddingTopLeft||c.padding||[0,0]),b=z(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),I=this.project(a),F=this.getPixelBounds(),J=bt([F.min.add(p),F.max.subtract(b)]),at=J.getSize();if(!J.contains(I)){this._enforcingBounds=!0;var _t=I.subtract(J.getCenter()),Rt=J.extend(I).getSize().subtract(at);S.x+=_t.x<0?-Rt.x:Rt.x,S.y+=_t.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=c.divideBy(2).round(),S=p.divideBy(2).round(),I=b.subtract(S);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,b=new It(c,p),S=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var F=this.getBoundsZoom(S);this.setView(b,I.maxZoom?Math.min(F,I.maxZoom):F)}var J={latlng:b,bounds:S,timestamp:a.timestamp};for(var at in a.coords)typeof a.coords[at]=="number"&&(J[at]=a.coords[at]);this.fire("locationfound",J)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)pe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=Jt("div",p,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new vt(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=At(a),p=z(p||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),I=this.getMaxZoom(),F=a.getNorthWest(),J=a.getSouthEast(),at=this.getSize().subtract(p),_t=bt(this.project(J,b),this.project(F,b)).getSize(),Rt=Dt.any3d?this.options.zoomSnap:1,Pt=at.x/_t.x,Lt=at.y/_t.y,Gt=c?Math.max(Pt,Lt):Math.min(Pt,Lt);return b=this.getScaleZoom(Gt,b),Rt&&(b=Math.round(b/(Rt/100))*(Rt/100),b=c?Math.ceil(b/Rt)*Rt:Math.floor(b/Rt)*Rt),Math.max(S,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new mt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new lt(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var b=p.zoom(a*p.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(xt(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(z(a),c)},layerPointToLatLng:function(a){var c=z(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(xt(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(xt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(At(a))},distance:function(a,c){return this.options.crs.distance(xt(a),xt(c))},containerPointToLayerPoint:function(a){return z(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return z(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(z(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xt(a)))},mouseEventToContainerPoint:function(a){return Je(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Dr(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,Wt(a,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Qi(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new mt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(a.markerPane,"leaflet-zoom-hide"),Wt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ut(this._mapPane,new mt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,p)._move(a,c)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,b){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ut(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?ue:kt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],b,S=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,F=!1;I;){if(b=this._targets[y(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){F=!0;break}if(b&&b.listens(c,!0)&&(S&&!Cs(I,a)||(p.push(b),S))||I===this._container)break;I=I.parentNode}return!p.length&&!F&&!S&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Mi(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var S=this._findEventTargets(a,c);if(p){for(var I=[],F=0;F<p.length;F++)p[F].listens(c,!0)&&I.push(p[F]);S=I.concat(S)}if(S.length){c==="contextmenu"&&we(a);var J=S[0],at={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var _t=J.getLatLng&&(!J._radius||J._radius<=10);at.containerPoint=_t?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),at.layerPoint=this.containerPointToLayerPoint(at.containerPoint),at.latlng=_t?J.getLatLng():this.layerPointToLatLng(at.layerPoint)}for(F=0;F<S.length;F++)if(S[F].fire(c,at,!0),at.originalEvent._stopped||S[F].options.bubblingMouseEvents===!1&&yt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Qn(this._mapPane)||new mt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var b=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,p){var b=this._getNewPixelOrigin(p,c);return bt([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var b=this.project(a,c),S=this.getSize().divideBy(2),I=new lt(b.subtract(S),b.add(S)),F=this._getBoundsOffset(I,p,c);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?a:this.unproject(b.add(F),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),b=new lt(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,p){var b=bt(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),S=b.min.subtract(a.min),I=b.max.subtract(a.max),F=this._rebound(S.x,-I.x),J=this._rebound(S.y,-I.y);return new mt(F,J)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),b=Dt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=Jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=xs,b=this._proxy.style[p];Pn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Pn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),S=this._getCenterOffset(a)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(S)?!1:(G(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function es(a,c){return new $t(a,c)}var mn=Tt.extend({options:{position:"topright"},initialize:function(a){U(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),b=a._controlCorners[p];return Wt(c,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),En=function(a){return new mn(a)};$t.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=Jt("div",c+"control-container",this._container);function b(S,I){var F=c+S+" "+c+I;a[S+I]=Jt("div",F,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)pe(this._controlCorners[a]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ko=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,b){return p<b?-1:b<p?1:0}},initialize:function(a,c,p){U(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return mn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):_e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Jt("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Rs(c),Di(c);var b=this._section=Jt("section",a+"-list");p&&(this._map.on("click",this.collapse,this),kt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Jt("a",a+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),kt(S,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){we(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Jt("div",a+"-base",b),this._separator=Jt("div",a+"-separator",b),this._overlaysList=Jt("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rn(this._baseLayersList),rn(this._overlaysList),this._layerControlInputs=[];var a,c,p,b,S=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(b),b.layerId=y(a.layer),kt(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(S);var F=a.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,b=[],S=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],p=this._getLayer(c.layerId).layer,c.checked?b.push(p):c.checked||S.push(p);for(I=0;I<S.length;I++)this._map.hasLayer(S[I])&&this._map.removeLayer(S[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,b=this._map.getZoom(),S=a.length-1;S>=0;S--)c=a[S],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,kt(a,"click",we),this.expand();var c=this;setTimeout(function(){ue(a,"click",we),c._preventClick=!1})}}),oc=function(a,c,p){return new Ko(a,c,p)},Is=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=Jt("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,b,S){var I=Jt("a",p,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),Rs(I),kt(I,"click",bn),kt(I,"click",S,this),kt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";_e(this._zoomInButton,c),_e(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Wt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Wt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Is,this.addControl(this.zoomControl))});var Sa=function(a){return new Is(a)},Aa=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=Jt("div",c),b=this.options;return this._addScales(b,c+"-line",p),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=Jt("div",c,p)),a.imperial&&(this._iScale=Jt("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,b,S;c>5280?(p=c/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Ra=function(a){return new Aa(a)},Hl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tr=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?Hl+" ":"")+"Leaflet</a>"},initialize:function(a){U(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Jt("div","leaflet-control-attribution"),Rs(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new tr().addTo(this)});var lc=function(a){return new tr(a)};mn.Layers=Ko,mn.Zoom=Is,mn.Scale=Aa,mn.Attribution=tr,En.layers=oc,En.zoom=Sa,En.scale=Ra,En.attribution=lc;var Hn=Tt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(a,c){return a.addHandler(c,this),this};var jr={Events:st},$o=Dt.touch?"touchstart mousedown":"mousedown",Ni=ft.extend({options:{clickTolerance:3},initialize:function(a,c,p,b){U(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(kt(this._dragStartTarget,$o,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ni._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,$o,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Qs(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ni._dragging===this&&this.finishDrag();return}if(!(Ni._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ni._dragging=this,this._preventOutline&&Mi(this._element),Or(),Tn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=ts(this._element);this._startPoint=new mt(c.clientX,c.clientY),this._startPos=Qn(this._element),this._parentScale=Li(p);var b=a.type==="mousedown";kt(document,b?"mousemove":"touchmove",this._onMove,this),kt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new mt(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,we(a),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ut(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){_e(document.body,"leaflet-dragging"),this._lastTarget&&(_e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Zo(),Pi();var c=this._moved&&this._moving;this._moving=!1,Ni._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ca(a,c,p){var b,S=[1,4,2,8],I,F,J,at,_t,Rt,Pt,Lt;for(I=0,Rt=a.length;I<Rt;I++)a[I]._code=ns(a[I],c);for(J=0;J<4;J++){for(Pt=S[J],b=[],I=0,Rt=a.length,F=Rt-1;I<Rt;F=I++)at=a[I],_t=a[F],at._code&Pt?_t._code&Pt||(Lt=an(_t,at,Pt,c,p),Lt._code=ns(Lt,c),b.push(Lt)):(_t._code&Pt&&(Lt=an(_t,at,Pt,c,p),Lt._code=ns(Lt,c),b.push(Lt)),b.push(at));a=b}return a}function er(a,c){var p,b,S,I,F,J,at,_t,Rt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pt=xt([0,0]),Lt=At(a),Gt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Gt<1700&&(Pt=Ia(a));var De=a.length,Fe=[];for(p=0;p<De;p++){var wn=xt(a[p]);Fe.push(c.project(xt([wn.lat-Pt.lat,wn.lng-Pt.lng])))}for(J=at=_t=0,p=0,b=De-1;p<De;b=p++)S=Fe[p],I=Fe[b],F=S.y*I.x-I.y*S.x,at+=(S.x+I.x)*F,_t+=(S.y+I.y)*F,J+=F*3;J===0?Rt=Fe[0]:Rt=[at/J,_t/J];var ci=c.unproject(z(Rt));return xt([ci.lat+Pt.lat,ci.lng+Pt.lng])}function Ia(a){for(var c=0,p=0,b=0,S=0;S<a.length;S++){var I=xt(a[S]);c+=I.lat,p+=I.lng,b++}return xt([c/b,p/b])}var Pa={__proto__:null,clipPolygon:Ca,polygonCenter:er,centroid:Ia};function Xo(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Gl(a,p),a=ql(a,p),a}function Ma(a,c,p){return Math.sqrt(qn(a,c,p,!0))}function Ps(a,c,p){return qn(a,c,p)}function ql(a,c){var p=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(p);S[0]=S[p-1]=1,La(a,S,c,0,p-1);var I,F=[];for(I=0;I<p;I++)S[I]&&F.push(a[I]);return F}function La(a,c,p,b,S){var I=0,F,J,at;for(J=b+1;J<=S-1;J++)at=qn(a[J],a[b],a[S],!0),at>I&&(F=J,I=at);I>p&&(c[F]=1,La(a,c,p,b,F),La(a,c,p,F,S))}function Gl(a,c){for(var p=[a[0]],b=1,S=0,I=a.length;b<I;b++)Wl(a[b],a[S])>c&&(p.push(a[b]),S=b);return S<I-1&&p.push(a[I-1]),p}var Qo;function zr(a,c,p,b,S){var I=b?Qo:ns(a,p),F=ns(c,p),J,at,_t;for(Qo=F;;){if(!(I|F))return[a,c];if(I&F)return!1;J=I||F,at=an(a,c,J,p,S),_t=ns(at,p),J===I?(a=at,I=_t):(c=at,F=_t)}}function an(a,c,p,b,S){var I=c.x-a.x,F=c.y-a.y,J=b.min,at=b.max,_t,Rt;return p&8?(_t=a.x+I*(at.y-a.y)/F,Rt=at.y):p&4?(_t=a.x+I*(J.y-a.y)/F,Rt=J.y):p&2?(_t=at.x,Rt=a.y+F*(at.x-a.x)/I):p&1&&(_t=J.x,Rt=a.y+F*(J.x-a.x)/I),new mt(_t,Rt,S)}function ns(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Wl(a,c){var p=c.x-a.x,b=c.y-a.y;return p*p+b*b}function qn(a,c,p,b){var S=c.x,I=c.y,F=p.x-S,J=p.y-I,at=F*F+J*J,_t;return at>0&&(_t=((a.x-S)*F+(a.y-I)*J)/at,_t>1?(S=p.x,I=p.y):_t>0&&(S+=F*_t,I+=J*_t)),F=a.x-S,J=a.y-I,b?F*F+J*J:new mt(S,I)}function d(a){return!$(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function w(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function R(a,c){var p,b,S,I,F,J,at,_t;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Rt=xt([0,0]),Pt=At(a),Lt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Lt<1700&&(Rt=Ia(a));var Gt=a.length,De=[];for(p=0;p<Gt;p++){var Fe=xt(a[p]);De.push(c.project(xt([Fe.lat-Rt.lat,Fe.lng-Rt.lng])))}for(p=0,b=0;p<Gt-1;p++)b+=De[p].distanceTo(De[p+1])/2;if(b===0)_t=De[0];else for(p=0,I=0;p<Gt-1;p++)if(F=De[p],J=De[p+1],S=F.distanceTo(J),I+=S,I>b){at=(I-b)/S,_t=[J.x-at*(J.x-F.x),J.y-at*(J.y-F.y)];break}var wn=c.unproject(z(_t));return xt([wn.lat+Rt.lat,wn.lng+Rt.lng])}var O={__proto__:null,simplify:Xo,pointToSegmentDistance:Ma,closestPointOnSegment:Ps,clipSegment:zr,_getEdgeIntersection:an,_getBitCode:ns,_sqClosestPointOnSegment:qn,isFlat:d,_flat:w,polylineCenter:R},Q={project:function(a){return new mt(a.lng,a.lat)},unproject:function(a){return new It(a.y,a.x)},bounds:new lt([-180,-90],[180,90])},ot={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,b=a.lat*c,S=this.R_MINOR/p,I=Math.sqrt(1-S*S),F=I*Math.sin(b),J=Math.tan(Math.PI/4-b/2)/Math.pow((1-F)/(1+F),I/2);return b=-p*Math.log(Math.max(J,1e-10)),new mt(a.lng*c*p,b)},unproject:function(a){for(var c=180/Math.PI,p=this.R,b=this.R_MINOR/p,S=Math.sqrt(1-b*b),I=Math.exp(-a.y/p),F=Math.PI/2-2*Math.atan(I),J=0,at=.1,_t;J<15&&Math.abs(at)>1e-7;J++)_t=S*Math.sin(F),_t=Math.pow((1-_t)/(1+_t),S/2),at=Math.PI/2-2*Math.atan(I*_t)-F,F+=at;return new It(F*c,a.x*c/p)}},wt={__proto__:null,LonLat:Q,Mercator:ot,SphericalMercator:Gi},ie=o({},le,{code:"EPSG:3395",projection:ot,transformation:function(){var a=.5/(Math.PI*ot.R);return xi(a,.5,-a,.5)}()}),Ze=o({},le,{code:"EPSG:4326",projection:Q,transformation:xi(1/180,1,-1/180,.5)}),se=o({},Ee,{projection:Q,transformation:xi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(p*p+b*b)},infinite:!0});Ee.Earth=le,Ee.EPSG3395=ie,Ee.EPSG3857=vs,Ee.EPSG900913=Rr,Ee.EPSG4326=Ze,Ee.Simple=se;var ge=ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?$(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=ge.extend({initialize:function(a,c){U(this,c),this._layers={};var p,b;if(a)for(p=0,b=a.length;p<b;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),Ms=function(a,c){return new Le(a,c)},Re=Le.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Le.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Le.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new vt;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),is=function(a,c){return new Re(a,c)},ss=Tt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){U(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var p=this.options,b=p[c+"Size"];typeof b=="number"&&(b=[b,b]);var S=z(b),I=z(c==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Dt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Zl(a){return new ss(a)}var Da=ss.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Da.imagePath!="string"&&(Da.imagePath=this._detectIconPath()),(this.options.imagePath||Da.imagePath)+ss.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,b,S){var I=b.exec(p);return I&&I[S]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Jt("div","leaflet-default-icon-path",document.body),c=Qi(a,"background-image")||Qi(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),uc=Hn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ni(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,I=Qn(c._icon),F=p.getPixelBounds(),J=p.getPixelOrigin(),at=bt(F.min._subtract(J).add(S),F.max._subtract(J).subtract(S));if(!at.contains(I)){var _t=z((Math.max(at.max.x,I.x)-at.max.x)/(F.max.x-at.max.x)-(Math.min(at.min.x,I.x)-at.min.x)/(F.min.x-at.min.x),(Math.max(at.max.y,I.y)-at.max.y)/(F.max.y-at.max.y)-(Math.min(at.min.y,I.y)-at.min.y)/(F.min.y-at.min.y)).multiplyBy(b);p.panBy(_t,{animate:!1}),this._draggable._newPos._add(_t),this._draggable._startPos._add(_t),Ut(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=G(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,b=Qn(c._icon),S=c._map.layerPointToLatLng(b);p&&Ut(p,b),c._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Na=ge.extend({options:{icon:new Da,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){U(this,c),this._latlng=xt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=xt(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Wt(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),I=!1;S!==this._shadow&&(this._removeShadow(),I=!0),S&&(Wt(S,c),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ut(this._icon,a),this._shadow&&Ut(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Me(this._icon,a),this._shadow&&Me(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?z(c.iconSize):z(0,0),b=c.iconAnchor?z(c.iconAnchor):z(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cc(a,c){return new Na(a,c)}var Ls=ge.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return U(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Jo=Ls.extend({options:{fill:!0,radius:10},initialize:function(a,c){U(this,c),this._latlng=xt(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=xt(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Ls.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),b=[a+p,c+p];this._pxBounds=new lt(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function df(a,c){return new Jo(a,c)}var hc=Jo.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),U(this,c),this._latlng=xt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ls.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===le.distance){var S=Math.PI/180,I=this._mRadius/le.R/S,F=p.project([c+I,a]),J=p.project([c-I,a]),at=F.add(J).divideBy(2),_t=p.unproject(at).lat,Rt=Math.acos((Math.cos(I*S)-Math.sin(c*S)*Math.sin(_t*S))/(Math.cos(c*S)*Math.cos(_t*S)))/S;(isNaN(Rt)||Rt===0)&&(Rt=I/Math.cos(Math.PI/180*c)),this._point=at.subtract(p.getPixelOrigin()),this._radius=isNaN(Rt)?0:at.x-p.project([_t,a-Rt]).x,this._radiusY=at.y-F.y}else{var Pt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Pt).x}this._updateBounds()}});function dp(a,c,p){return new hc(a,c,p)}var Ds=Ls.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){U(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,b=qn,S,I,F=0,J=this._parts.length;F<J;F++)for(var at=this._parts[F],_t=1,Rt=at.length;_t<Rt;_t++){S=at[_t-1],I=at[_t];var Pt=b(a,S,I,!0);Pt<c&&(c=Pt,p=b(a,S,I))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return R(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=xt(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new vt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),b=0,S=a.length;b<S;b++)p?(c[b]=xt(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new mt(a,a);this._rawPxBounds&&(this._pxBounds=new lt([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var b=a[0]instanceof It,S=a.length,I,F;if(b){for(F=[],I=0;I<S;I++)F[I]=this._map.latLngToLayerPoint(a[I]),p.extend(F[I]);c.push(F)}else for(I=0;I<S;I++)this._projectLatlngs(a[I],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,b,S,I,F,J,at;for(p=0,S=0,I=this._rings.length;p<I;p++)for(at=this._rings[p],b=0,F=at.length;b<F-1;b++)J=zr(at[b],at[b+1],a,b,!0),J&&(c[S]=c[S]||[],c[S].push(J[0]),(J[1]!==at[b+1]||b===F-2)&&(c[S].push(J[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,b=a.length;p<b;p++)a[p]=Xo(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,b,S,I,F,J,at=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,I=this._parts.length;p<I;p++)for(J=this._parts[p],b=0,F=J.length,S=F-1;b<F;S=b++)if(!(!c&&b===0)&&Ma(a,J[S],J[b])<=at)return!0;return!1}});function mp(a,c){return new Ds(a,c)}Ds._flat=w;var Oa=Ds.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return er(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Ds.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof It&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Ds.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new mt(c,c);if(a=new lt(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,I;b<S;b++)I=Ca(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,b,S,I,F,J,at,_t;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,at=this._parts.length;I<at;I++)for(p=this._parts[I],F=0,_t=p.length,J=_t-1;F<_t;J=F++)b=p[F],S=p[J],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(c=!c);return c||Ds.prototype._containsPoint.call(this,a,!0)}});function ti(a,c){return new Oa(a,c)}var ei=Re.extend({initialize:function(a,c){U(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=$(a)?a:a.features,p,b,S;if(c){for(p=0,b=c.length;p<b;p++)S=c[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var F=tl(a,I);return F?(F.feature=ka(a),F.defaultOptions=F.options,this.resetStyle(F),I.onEachFeature&&I.onEachFeature(a,F),this.addLayer(F)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function tl(a,c){var p=a.type==="Feature"?a.geometry:a,b=p?p.coordinates:null,S=[],I=c&&c.pointToLayer,F=c&&c.coordsToLatLng||Yl,J,at,_t,Rt;if(!b&&!p)return null;switch(p.type){case"Point":return J=F(b),fc(I,a,J,c);case"MultiPoint":for(_t=0,Rt=b.length;_t<Rt;_t++)J=F(b[_t]),S.push(fc(I,a,J,c));return new Re(S);case"LineString":case"MultiLineString":return at=el(b,p.type==="LineString"?0:1,F),new Ds(at,c);case"Polygon":case"MultiPolygon":return at=el(b,p.type==="Polygon"?1:2,F),new Oa(at,c);case"GeometryCollection":for(_t=0,Rt=p.geometries.length;_t<Rt;_t++){var Pt=tl({geometry:p.geometries[_t],type:"Feature",properties:a.properties},c);Pt&&S.push(Pt)}return new Re(S);case"FeatureCollection":for(_t=0,Rt=p.features.length;_t<Rt;_t++){var Lt=tl(p.features[_t],c);Lt&&S.push(Lt)}return new Re(S);default:throw new Error("Invalid GeoJSON object.")}}function fc(a,c,p,b){return a?a(c,p):new Na(p,b&&b.markersInheritOptions&&b)}function Yl(a){return new It(a[1],a[0],a[2])}function el(a,c,p){for(var b=[],S=0,I=a.length,F;S<I;S++)F=c?el(a[S],c-1,p):(p||Yl)(a[S]),b.push(F);return b}function nl(a,c){return a=xt(a),a.alt!==void 0?[x(a.lng,c),x(a.lat,c),x(a.alt,c)]:[x(a.lng,c),x(a.lat,c)]}function Kl(a,c,p,b){for(var S=[],I=0,F=a.length;I<F;I++)S.push(c?Kl(a[I],d(a[I])?0:c-1,p,b):nl(a[I],b));return!c&&p&&S.length>0&&S.push(S[0].slice()),S}function Oi(a,c){return a.feature?o({},a.feature,{geometry:c}):ka(c)}function ka(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ur={toGeoJSON:function(a){return Oi(this,{type:"Point",coordinates:nl(this.getLatLng(),a)})}};Na.include(Ur),hc.include(Ur),Jo.include(Ur),Ds.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=Kl(this._latlngs,c?1:0,!1,a);return Oi(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Oa.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),b=Kl(this._latlngs,p?2:c?1:0,!0,a);return c||(b=[b]),Oi(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Le.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Oi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var I=S.toGeoJSON(a);if(p)b.push(I.geometry);else{var F=ka(I);F.type==="FeatureCollection"?b.push.apply(b,F.features):b.push(F)}}}),p?Oi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function $l(a,c){return new ei(a,c)}var mf=$l,rs=ge.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=At(c),U(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ji(this._image),this},bringToBack:function(){return this._map&&Xs(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=At(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Jt("img");if(Wt(c,"leaflet-image-layer"),this._zoomAnimated&&Wt(c,"leaflet-zoom-animated"),this.options.className&&Wt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Pn(this._image,p,c)},_reset:function(){var a=this._image,c=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ut(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Va=function(a,c,p){return new rs(a,c,p)},Xl=rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Jt("video");if(Wt(c,"leaflet-image-layer"),this._zoomAnimated&&Wt(c,"leaflet-zoom-animated"),this.options.className&&Wt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=f(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),b=[],S=0;S<p.length;S++)b.push(p[S].src);this._url=p.length>0?b:[c.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var F=Jt("source");F.src=this._url[I],c.appendChild(F)}}});function pf(a,c,p){return new Xl(a,c,p)}var nr=rs.extend({_initImage:function(){var a=this._image=this._url;Wt(a,"leaflet-image-layer"),this._zoomAnimated&&Wt(a,"leaflet-zoom-animated"),this.options.className&&Wt(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function gf(a,c,p){return new nr(a,c,p)}var ki=ge.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof It||$(a))?(this._latlng=xt(a),U(this,c)):(U(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Me(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Me(this._container,0),this._removeTimeout=setTimeout(f(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=xt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ji(this._container),this},bringToBack:function(){return this._map&&Xs(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Re){c=null;var p=this._source._layers;for(var b in p)if(p[b]._map){c=p[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=z(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ut(this._container,a.add(p)):c=c.add(a).add(p);var b=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(a,c,p,b){var S=c;return S instanceof a||(S=new a(b).setContent(c)),p&&S.setLatLng(p),S}}),ge.include({_initOverlay:function(a,c,p,b){var S=p;return S instanceof a?(U(S,b),S._source=this):(S=c&&!b?c:new a(b,this),S.setContent(p)),S}});var il=ki.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ki.prototype.openOn.call(this,a)},onAdd:function(a){ki.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ls||this._source.on("preclick",Fn))},onRemove:function(a){ki.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ls||this._source.off("preclick",Fn))},getEvents:function(){var a=ki.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Jt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Jt("div",a+"-content-wrapper",c);if(this._contentNode=Jt("div",a+"-content",p),Rs(c),Di(this._contentNode),kt(c,"contextmenu",Fn),this._tipContainer=Jt("div",a+"-tip-container",c),this._tip=Jt("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Jt("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',kt(b,"click",function(S){we(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,S=this.options.maxHeight,I="leaflet-popup-scrolled";S&&b>S?(c.height=S+"px",Wt(a,I)):_e(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ut(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Qi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,b=this._containerWidth,S=new mt(this._containerLeft,-p-this._containerBottom);S._add(Qn(this._container));var I=a.layerPointToContainerPoint(S),F=z(this.options.autoPanPadding),J=z(this.options.autoPanPaddingTopLeft||F),at=z(this.options.autoPanPaddingBottomRight||F),_t=a.getSize(),Rt=0,Pt=0;I.x+b+at.x>_t.x&&(Rt=I.x+b-_t.x+at.x),I.x-Rt-J.x<0&&(Rt=I.x-J.x),I.y+p+at.y>_t.y&&(Pt=I.y+p-_t.y+at.y),I.y-Pt-J.y<0&&(Pt=I.y-J.y),(Rt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Rt,Pt]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),pp=function(a,c){return new il(a,c)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(a,c,p){return this._initOverlay(il,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ge.include({bindPopup:function(a,c){return this._popup=this._initOverlay(il,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Re||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){bn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Ls)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Ql=ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ki.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ki.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ki.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Jt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,b=this._map,S=this._container,I=b.latLngToContainerPoint(b.getCenter()),F=b.layerPointToContainerPoint(a),J=this.options.direction,at=S.offsetWidth,_t=S.offsetHeight,Rt=z(this.options.offset),Pt=this._getAnchor();J==="top"?(c=at/2,p=_t):J==="bottom"?(c=at/2,p=0):J==="center"?(c=at/2,p=_t/2):J==="right"?(c=0,p=_t/2):J==="left"?(c=at,p=_t/2):F.x<I.x?(J="right",c=0,p=_t/2):(J="left",c=at+(Rt.x+Pt.x)*2,p=_t/2),a=a.subtract(z(c,p,!0)).add(Rt).add(Pt),_e(S,"leaflet-tooltip-right"),_e(S,"leaflet-tooltip-left"),_e(S,"leaflet-tooltip-top"),_e(S,"leaflet-tooltip-bottom"),Wt(S,"leaflet-tooltip-"+J),Ut(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Me(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gp=function(a,c){return new Ql(a,c)};$t.include({openTooltip:function(a,c,p){return this._initOverlay(Ql,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ge.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ql,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Re||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(kt(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),kt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,b;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var dc=ss.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(rn(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=z(p.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function yf(a){return new dc(a)}ss.Default=Da;var Br=ge.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){U(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),pe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof mt?a:new mt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),b=0,S=c.length,I;b<S;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(p=a(p,+I));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){Me(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var I=Math.min(1,(a-S.loaded)/200);Me(S.el,I),I<1?c=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Y(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(pe(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=Jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),A(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)pe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,b){var S=Math.floor(a/2),I=Math.floor(c/2),F=p-1,J=new mt(+S,+I);J.z=+F;var at=this._tileCoordsToKey(J),_t=this._tiles[at];return _t&&_t.active?(_t.retain=!0,!0):(_t&&_t.loaded&&(_t.retain=!0),F>b?this._retainParent(S,I,F,b):!1)},_retainChildren:function(a,c,p,b){for(var S=2*a;S<2*a+2;S++)for(var I=2*c;I<2*c+2;I++){var F=new mt(S,I);F.z=p+1;var J=this._tileCoordsToKey(F),at=this._tiles[J];if(at&&at.active){at.retain=!0;continue}else at&&at.loaded&&(at.retain=!0);p+1<b&&this._retainChildren(S,I,p+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,b){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var I=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||I)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var b=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,p)).round();Dt.any3d?Pn(a.el,S,b):Ut(a.el,S)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(p,this._tileZoom),S=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new lt(S.subtract(I),S.add(I))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),I=S.getCenter(),F=[],J=this.options.keepBuffer,at=new lt(S.getBottomLeft().subtract([J,-J]),S.getTopRight().add([J,-J]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _t in this._tiles){var Rt=this._tiles[_t].coords;(Rt.z!==this._tileZoom||!at.contains(new mt(Rt.x,Rt.y)))&&(this._tiles[_t].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Pt=S.min.y;Pt<=S.max.y;Pt++)for(var Lt=S.min.x;Lt<=S.max.x;Lt++){var Gt=new mt(Lt,Pt);if(Gt.z=this._tileZoom,!!this._isValidTile(Gt)){var De=this._tiles[this._tileCoordsToKey(Gt)];De?De.current=!0:F.push(Gt)}}if(F.sort(function(wn,ci){return wn.distanceTo(I)-ci.distanceTo(I)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fe=document.createDocumentFragment();for(Lt=0;Lt<F.length;Lt++)this._addTile(F[Lt],Fe);this._level.el.appendChild(Fe)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return At(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),b=a.scaleBy(p),S=b.add(p),I=c.unproject(b,a.z),F=c.unproject(S,a.z);return[I,F]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new vt(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new mt(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(pe(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Wt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=A,a.onmousemove=A,Dt.ielt9&&this.options.opacity<1&&Me(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&G(f(this._tileReady,this,a,null,S)),Ut(S,p),this._tiles[b]={el:S,coords:a,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var b=this._tileCoordsToKey(a);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Me(p.el,0),Y(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Wt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new mt(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new lt(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Vi(a){return new Br(a)}var Fr=Br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=U(this,c),c.detectRetina&&Dt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return kt(p,"load",f(this._tileOnLoad,this,c,p)),kt(p,"error",f(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Dt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return it(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Dt.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=A,c.onerror=A,!c.complete)){c.src=ht;var p=this._tiles[a].coords;pe(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",ht),Br.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===ht))return Br.prototype._tileReady.call(this,a,c,p)}});function ni(a,c){return new Fr(a,c)}var ii=Fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var b in c)b in this.options||(p[b]=c[b]);c=U(this,c);var S=c.detectRetina&&Dt.retina?2:1,I=this.getTileSize();p.width=I.x*S,p.height=I.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Fr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,b=bt(p.project(c[0]),p.project(c[1])),S=b.min,I=b.max,F=(this._wmsVersion>=1.3&&this._crs===Ze?[S.y,S.x,I.y,I.x]:[S.x,S.y,I.x,I.y]).join(","),J=Fr.prototype.getTileUrl.call(this,a);return J+W(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function ja(a,c){return new ii(a,c)}Fr.WMS=ii,ni.wms=ja;var ji=ge.extend({options:{padding:.1},initialize:function(a){U(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),I=b.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,c));Dt.any3d?Pn(this._container,I,p):Ut(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new lt(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sl=ji.extend({options:{tolerance:0},getEvents:function(){var a=ji.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ji.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");kt(a,"mousemove",this._onMouseMove,this),kt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,pe(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ji.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),b=Dt.retina?2:1;Ut(c,a.min),c.width=b*p.x,c.height=b*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ji.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,b=c.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],b,S;for(S=0;S<c.length;S++){if(b=Number(c[S]),isNaN(b))return;p.push(b)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,b,S,I,F=a._parts,J=F.length,at=this._ctx;if(J){for(at.beginPath(),p=0;p<J;p++){for(b=0,S=F[p].length;b<S;b++)I=F[p][b],at[b?"lineTo":"moveTo"](I.x,I.y);c&&at.closePath()}this._fillStroke(at,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(c.x,c.y/S,b,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(_e(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,b=c.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,b=c.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function rl(a){return Dt.canvas?new sl(a):null}var Hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),za={_initContainer:function(){this._container=Jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ji.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Hr("shape");Wt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Hr("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;pe(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(c||(c=a._stroke=Hr("stroke")),S.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=$(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(S.removeChild(c),a._stroke=null),b.fill?(p||(p=a._fill=Hr("fill")),S.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),b=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Ji(a._container)},_bringToBack:function(a){Xs(a._container)}},al=Dt.vml?Hr:pa,ir=ji.extend({_initContainer:function(){this._container=al("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=al("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ji.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ut(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=al("path");a.options.className&&Wt(c,a.options.className),a.options.interactive&&Wt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){pe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,ko(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Ji(a._path)},_bringToBack:function(a){Xs(a._path)}});Dt.vml&&ir.include(za);function qr(a){return Dt.svg||Dt.vml?new ir(a):null}$t.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&rl(a)||qr(a)}});var _f=Oa.extend({initialize:function(a,c){Oa.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=At(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function si(a,c){return new _f(a,c)}ir.create=al,ir.pointsToPath=ko,ei.geometryToLayer=tl,ei.coordsToLatLng=Yl,ei.coordsToLatLngs=el,ei.latLngToCoords=nl,ei.latLngsToCoords=Kl,ei.getFeature=Oi,ei.asFeature=ka,$t.mergeOptions({boxZoom:!0});var Jl=Hn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tn(),Or(),this._startPoint=this._map.mouseEventToContainerPoint(a),kt(document,{contextmenu:bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Jt("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new lt(this._point,this._startPoint),p=c.getSize();Ut(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(pe(this._box),_e(this._container,"leaflet-crosshair")),Pi(),Zo(),ue(document,{contextmenu:bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",Jl),$t.mergeOptions({doubleClickZoom:!0});var as=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),b=c.options.zoomDelta,S=a.originalEvent.shiftKey?p-b:p+b;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(a.containerPoint,S)}});$t.addInitHook("addHandler","doubleClickZoom",as),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mc=Hn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ni(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_e(this._map._container,"leaflet-grab"),_e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=At(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-c+p)%a+c-p,I=(b+c+p)%a-c-p,F=Math.abs(S+p)<Math.abs(I+p)?S:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(a){var c=this._map,p=c.options,b=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,F=p.easeLinearity,J=S.multiplyBy(F/I),at=J.distanceTo([0,0]),_t=Math.min(p.inertiaMaxSpeed,at),Rt=J.multiplyBy(_t/at),Pt=_t/(p.inertiaDeceleration*F),Lt=Rt.multiplyBy(-Pt/2).round();!Lt.x&&!Lt.y?c.fire("moveend"):(Lt=c._limitOffset(Lt,c.options.maxBounds),G(function(){c.panBy(Lt,{duration:Pt,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",mc),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ol=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),kt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,b,S;for(b=0,S=p.left.length;b<S;b++)c[p.left[b]]=[-1*a,0];for(b=0,S=p.right.length;b<S;b++)c[p.right[b]]=[a,0];for(b=0,S=p.down.length;b<S;b++)c[p.down[b]]=[0,a];for(b=0,S=p.up.length;b<S;b++)c[p.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,b,S;for(b=0,S=p.zoomIn.length;b<S;b++)c[p.zoomIn[b]]=a;for(b=0,S=p.zoomOut.length;b<S;b++)c[p.zoomOut[b]]=-a},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,b;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=z(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(z(b),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(S)}else p.panBy(b)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;bn(a)}}});$t.addInitHook("addHandler","keyboard",ol),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sr=Hn.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=kr(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),bn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=p?Math.ceil(S/p)*p:S,F=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,F&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+F):a.setZoomAround(this._lastMousePos,c+F))}});$t.addInitHook("addHandler","scrollWheelZoom",sr);var pc=600;$t.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var tu=Hn.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new mt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",we),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),pc),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ue(document,"touchend",we),ue(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new mt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});$t.addInitHook("addHandler","tapHold",tu),$t.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var Gr=Hn.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),we(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var I=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var F=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(F,this,!0),we(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",Gr),$t.BoxZoom=Jl,$t.DoubleClickZoom=as,$t.Drag=mc,$t.Keyboard=ol,$t.ScrollWheelZoom=sr,$t.TapHold=tu,$t.TouchZoom=Gr,n.Bounds=lt,n.Browser=Dt,n.CRS=Ee,n.Canvas=sl,n.Circle=hc,n.CircleMarker=Jo,n.Class=Tt,n.Control=mn,n.DivIcon=dc,n.DivOverlay=ki,n.DomEvent=Fl,n.DomUtil=Yo,n.Draggable=Ni,n.Evented=ft,n.FeatureGroup=Re,n.GeoJSON=ei,n.GridLayer=Br,n.Handler=Hn,n.Icon=ss,n.ImageOverlay=rs,n.LatLng=It,n.LatLngBounds=vt,n.Layer=ge,n.LayerGroup=Le,n.LineUtil=O,n.Map=$t,n.Marker=Na,n.Mixin=jr,n.Path=Ls,n.Point=mt,n.PolyUtil=Pa,n.Polygon=Oa,n.Polyline=Ds,n.Popup=il,n.PosAnimation=Vr,n.Projection=wt,n.Rectangle=_f,n.Renderer=ji,n.SVG=ir,n.SVGOverlay=nr,n.TileLayer=Fr,n.Tooltip=Ql,n.Transformation=wi,n.Util=j,n.VideoOverlay=Xl,n.bind=f,n.bounds=bt,n.canvas=rl,n.circle=dp,n.circleMarker=df,n.control=En,n.divIcon=yf,n.extend=o,n.featureGroup=is,n.geoJSON=$l,n.geoJson=mf,n.gridLayer=Vi,n.icon=Zl,n.imageOverlay=Va,n.latLng=xt,n.latLngBounds=At,n.layerGroup=Ms,n.map=es,n.marker=cc,n.point=z,n.polygon=ti,n.polyline=mp,n.popup=pp,n.rectangle=si,n.setOptions=U,n.stamp=y,n.svg=qr,n.svgOverlay=gf,n.tileLayer=ni,n.tooltip=gp,n.transformation=xi,n.version=s,n.videoOverlay=pf;var Ua=window.L;n.noConflict=function(){return window.L=Ua,this},window.L=n})}(ch,ch.exports)),ch.exports}var ac=Qz();const op=LS(ac);function lp(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function b0(e,t){return t==null?function(s,o){const u=V.useRef(void 0);return u.current||(u.current=e(s,o)),u}:function(s,o){const u=V.useRef(void 0);u.current||(u.current=e(s,o));const f=V.useRef(s),{instance:m}=u.current;return V.useEffect(function(){f.current!==s&&(t(m,s,f.current),f.current=s)},[m,s,t]),u}}function aI(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function oI(e){return function(n){const s=v0(),o=e(T0(n,s),s);return Wz(s.map,n.attribution),rI(o.current,n.eventHandlers),aI(o.current,s),o}}function Jz(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function tU(e){return function(n){const s=v0(),o=e(T0(n,s),s);return rI(o.current,n.eventHandlers),aI(o.current,s),Jz(o.current,n),o}}function eU(e,t){const n=b0(e,t),s=oI(n);return sI(s)}function lI(e,t){const n=b0(e,t),s=tU(n);return sI(s)}function nU(e,t){const n=b0(e,t),s=oI(n);return $z(s)}function iU(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function sU(){return v0().map}const uI=lI(function({center:t,children:n,...s},o){const u=new ac.Circle(t,s);return lp(u,y0(o,{overlayContainer:u}))},Zz);function rU({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:u,placeholder:f,style:m,whenReady:y,zoom:_,...E},A){const[x]=V.useState({className:o,id:u,style:m}),[N,D]=V.useState(null),U=V.useRef(void 0);V.useImperativeHandle(A,()=>N?.map??null,[N]);const W=V.useCallback(it=>{if(it!==null&&!U.current){const $=new ac.Map(it,E);U.current=$,n!=null&&_!=null?$.setView(n,_):e!=null&&$.fitBounds(e,t),y!=null&&$.whenReady(y),D(Kz($))}},[]);V.useEffect(()=>()=>{N?.map.remove()},[N]);const Z=N?Xd.createElement(_0,{value:N},s):f??null;return Xd.createElement("div",{...x,ref:W},Z)}const up=V.forwardRef(rU),cp=eU(function({position:t,...n},s){const o=new ac.Marker(t,n);return lp(o,y0(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),cI=lI(function({positions:t,...n},s){const o=new ac.Polyline(t,n);return lp(o,y0(s,{overlayContainer:o}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),hp=nU(function({url:t,...n},s){const o=new ac.TileLayer(t,T0(n,s));return lp(o,s)},function(t,n,s){iU(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)}),Sy="/assets/Apple_AirTag-DXsKpCuU.svg",A_="/assets/tag-CZQAlck_.webp",Ay=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194]];function aU({scrollYProgress:e,path:t,setBreadcrumbPath:n,setVisitedPoints:s}){const o=sU();return V.useEffect(()=>{const u=e.on("change",f=>{const m=(f-.3)/.39999999999999997;if(m<0||m>1){const N=m>1?t[t.length-1]:t[0],D=m>1?12.75:15;o.setView(N,D),n(m>1?t:[t[0]]),s(m>1?t:[t[0]]);return}const y=m*(t.length-1),_=Math.floor(y),E=y-_;let A;if(_>=t.length-1)A=t[t.length-1];else{const[N,D]=t[_],[U,W]=t[_+1];A=[N+(U-N)*E,D+(W-D)*E]}const x=15-m*(15-12.75);o.setView(A,x),n([...t.slice(0,_+1),A]),s(t.slice(0,_+1))});return()=>u()},[o,e,t,n,s]),null}function oU({onScrollProgress:e}){const t=V.useRef(null),{scrollYProgress:n}=Hz({target:t,offset:["start start","end end"]});V.useEffect(()=>{e&&e(n)},[n,e]);const s=vl(n,[.2,.5],[1,.2]),o=vl(n,[.7,1],[1,0]),u=vl(n,[.05,.15],[0,360]),[f,m]=V.useState(Sy);V.useEffect(()=>{const Z=n.on("change",it=>{it>=.1&&f!==A_?m(A_):it<.1&&f!==Sy&&m(Sy)});return()=>Z()},[n,f]);const y=vl(n,[.1,.3,.8,1],[0,1,1,0]),_=vl(n,[.7,.8],[1,0]),[E,A]=V.useState([Ay[0]]),[x,N]=V.useState([]),D=op.divIcon({className:"trail-point",iconSize:[8,8],iconAnchor:[4,4],html:"<div></div>"}),U=vl(n,[.7,.8],[1,0]),W=vl(n,[.8,1],[0,1]);return T.jsxs("div",{ref:t,id:"hero",className:"landing-root",role:"banner","aria-labelledby":"hero-title",children:[T.jsx(Jc.div,{className:"header-background-container",style:{opacity:W}}),T.jsx(Jc.div,{className:"hero-title-container",style:{opacity:U},children:T.jsx("h1",{id:"hero-title",className:"hero-title",children:"TagLogger"})}),T.jsxs(Jc.p,{className:"subtitle",style:{opacity:_},children:[T.jsx("strong",{children:"Unlock the location history and more."}),T.jsx("br",{}),T.jsx("span",{style:{fontSize:"0.5em",display:"block",marginTop:"15px"},children:"An independent service, not affiliated with Apple Inc."})]}),T.jsx(Jc.img,{src:f,alt:"Location tracking device",className:"airtag-img",style:{scale:s,opacity:o,rotate:u,zIndex:10,translateX:"-50%",translateY:"-50%"},draggable:!1}),T.jsx(Jc.div,{className:"map-fade",style:{opacity:y,zIndex:1},children:T.jsxs(up,{center:Ay[0],zoom:15,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100vh",width:"100vw",background:"black"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),T.jsx(aU,{scrollYProgress:n,path:Ay,setBreadcrumbPath:A,setVisitedPoints:N}),T.jsx(cI,{positions:E,color:"#00eaff",weight:6,opacity:.7}),x.map((Z,it)=>T.jsx(cp,{position:Z,icon:D,zIndexOffset:1e3},it))]},"main-app-map")})]})}const lU=[{feature:"Size",taglogger:"31x31 mm",apple:"",gps:"40–60mm+, bulky"},{feature:"Tech",taglogger:"AirTag",apple:"",gps:"GPS, SIM"},{feature:"Device Support",taglogger:"Android, iOS, Web",apple:"Apple only",gps:"Often agnostic"},{feature:"Battery Life",taglogger:"~1 yr",apple:"",gps:"Days–weeks"},{feature:"Cost",taglogger:"Low",apple:"",gps:"High"},{feature:"History/Export",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Alerts/Geofencing",taglogger:"Yes",apple:"Limited",gps:"Extra fees"},{feature:"Inventory Mgmt",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Scalability",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Max Tags",taglogger:"Unlimited",apple:"32 items",gps:"Many"}];function uU(){return T.jsx("section",{id:"feature-comparison",className:"feature-comparison-section",role:"region","aria-labelledby":"feature-comparison-title",children:T.jsxs("div",{className:"feature-comparison-content",children:[T.jsx("h2",{id:"feature-comparison-title",className:"feature-comparison-title",children:"How We Compare"}),T.jsx("div",{style:{maxWidth:700,margin:"0 auto"},children:T.jsx("p",{className:"feature-description",style:{marginBottom:32},children:"See how our solution compares to other tracking options on the market. We deliver the best mix of size, battery life, and coverage. If you’ve tried AirTags, you’ll know nothing else is quite like it."})}),T.jsx("div",{className:"feature-comparison-table-wrapper",style:{overflowX:"auto",maxWidth:800,margin:"0 auto"},children:T.jsxs("table",{className:"feature-comparison-table",style:{width:"100%",borderCollapse:"collapse",minWidth:580,tableLayout:"fixed"},children:[T.jsxs("colgroup",{children:[T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%",background:"rgba(0,234,255,0.10)"}}),T.jsx("col",{style:{width:"25%"}}),T.jsx("col",{style:{width:"25%"}})]}),T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(0,234,255,0.08)"},children:[T.jsx("th",{style:{padding:"10px 6px",color:"#00eaff",fontWeight:700,fontSize:14,textAlign:"left",borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Feature"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"TagLogger"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Apple Find My"}),T.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14},children:"GPS Trackers"})]})}),T.jsx("tbody",{children:lU.map((e,t)=>e.feature==="Tech"&&!e.apple||e.feature==="Size"&&!e.apple||e.feature==="Battery Life"&&!e.apple||e.feature==="Cost"&&!e.apple?T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{colSpan:2,style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,textAlign:"center",background:"rgba(0,234,255,0.10)",borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t):T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[T.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)",background:"rgba(0,234,255,0.10)"},children:e.taglogger}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.apple}),T.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t))})]})})]})})}function cU(){const[e,t]=V.useState("business"),n=[{icon:"🧳",title:"Track Luggage Travels",description:"Monitor your luggage with an AirTag during vacations and business trips"},{icon:"🐕",title:"Monitor Pet Adventures",description:"See where your furry friends wander and explore"},{icon:"👨‍👩‍👧‍👦",title:"Family Safety Tracking",description:"Track your elderly parents or young kids for safety reasons"},{icon:"🔗",title:"Shared Item Locations",description:"Remember locations when lending valuable possessions"},{icon:"📦",title:"Package Delivery Verification",description:"Verify delivered packages with complete travel history"},{icon:"🚗",title:"Vehicle Journey Documentation",description:"Document vehicle journeys for expense reports or records"}],s=[{icon:"📦",title:"Shipment Monitoring",description:"Track shipments to reduce losses and ensure timely deliveries"},{icon:"✅",title:"Delivery Verification",description:"Verify deliveries using historical location data for accuracy and dispute resolution"},{icon:"🏭",title:"Equipment Location",description:"Locate equipment across industries like healthcare, manufacturing, film, construction, and IT to boost operational efficiency"},{icon:"📊",title:"Historical Equipment Usage",description:"Record equipment movements over time for maintenance, accountability, and compliance"},{icon:"🚛",title:"Vehicle Journey Documentation",description:"Document vehicle travels for expense reimbursement, travel logging, and compliance"},{icon:"🚜",title:"Rental and Event Equipment Management",description:"Manage rental and event equipment with historical tracking to ensure proper usage and timely returns"}];return T.jsx("section",{id:"use-cases",className:"use-cases-section",role:"region","aria-labelledby":"use-cases-title",children:T.jsxs("div",{className:"use-cases-content",children:[T.jsx("h2",{id:"use-cases-title",className:"use-cases-title",children:"Built for Business and Personal Use Cases"}),T.jsxs("div",{className:"use-cases-toggle",children:[T.jsx("button",{className:`toggle-btn ${e==="business"?"active":""}`,onClick:()=>t("business"),children:"Business Use"}),T.jsx("button",{className:`toggle-btn ${e==="personal"?"active":""}`,onClick:()=>t("personal"),children:"Personal Use"})]}),T.jsx("div",{className:"use-cases-category",children:T.jsx("div",{className:"use-cases-grid",children:(e==="personal"?n:s).map((o,u)=>T.jsxs("div",{className:"use-case-card",children:[T.jsx("div",{className:"use-case-icon","aria-hidden":"true",children:o.icon}),T.jsx("h3",{className:"use-case-title",children:o.title}),T.jsx("p",{className:"use-case-description",children:o.description})]},u))})})]})})}const wu=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194],[37.7549,-122.4194],[37.7499,-122.4194]];function hU(){const[e,t]=V.useState([]),[n,s]=V.useState(wu[0]);V.useEffect(()=>{let u=0;const f=setInterval(()=>{u<wu.length?(t(wu.slice(0,u+1)),s(wu[u]),u++):(u=0,t([]),s(wu[0]))},300);return()=>clearInterval(f)},[]);const o=op.divIcon({className:"demo-marker",iconSize:[20,20],iconAnchor:[10,10],html:'<div class="marker-dot"></div>'});return T.jsx("div",{className:"platform-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/dashboard"})]}),T.jsx("div",{className:"browser-content",children:T.jsxs(up,{center:wu[0],zoom:13,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),e.length>0&&T.jsx(cI,{positions:e,color:"#00eaff",weight:4,opacity:.8}),n&&T.jsx(cp,{position:n,icon:o})]},"platform-demo-map")})]})})}const Id=[37.7749,-122.4194],AS=500,Pd=[[37.7749,-122.4194],[37.7749,-122.415],[37.7749,-122.41],[37.7749,-122.405],[37.7749,-122.41],[37.7749,-122.415],[37.7749,-122.4194]];function fU(){const[e,t]=V.useState(Pd[0]),[n,s]=V.useState(!0),[o,u]=V.useState(!1),[f,m]=V.useState(""),y=(A,x,N,D)=>{const W=A*Math.PI/180,Z=N*Math.PI/180,it=(N-A)*Math.PI/180,$=(D-x)*Math.PI/180,yt=Math.sin(it/2)*Math.sin(it/2)+Math.cos(W)*Math.cos(Z)*Math.sin($/2)*Math.sin($/2);return 6371e3*(2*Math.atan2(Math.sqrt(yt),Math.sqrt(1-yt)))},_=A=>y(A[0],A[1],Id[0],Id[1])<=AS;V.useEffect(()=>{let A=0;const x=setInterval(()=>{if(A<Pd.length){const N=Pd[A];t(N);const D=n,U=_(N);D!==U&&(s(U),m(U?"🚨 AirTag entered geofence zone!":"🚨 AirTag left geofence zone!"),u(!0),setTimeout(()=>u(!1),2e3)),A++}else A=0,t(Pd[0]),s(!0)},670);return()=>clearInterval(x)},[n]);const E=op.divIcon({className:"geofence-marker",iconSize:[24,24],iconAnchor:[12,12],html:`<div class="marker-dot ${n?"inside":"outside"}"></div>`});return T.jsx("div",{className:"geofence-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/geofencing"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs(up,{center:Id,zoom:14,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),T.jsx(uI,{center:Id,radius:AS,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:2,opacity:.8}}),e&&T.jsx(cp,{position:e,icon:E})]},"geofence-demo-map"),o&&T.jsx("div",{className:"geofence-alert",children:T.jsxs("div",{className:`alert-content${n?" blue":""}`,children:[T.jsx("span",{className:"alert-icon",children:"🚨"}),T.jsx("span",{className:"alert-text",children:f})]})}),T.jsx("div",{className:"geofence-status",children:T.jsx("div",{className:`status-indicator ${n?"inside":"outside"}`,children:n?"📍 Inside Geofence":"📍 Outside Geofence"})})]})]})})}const Md={yard:[37.7749,-122.4194],"site-a":[37.7849,-122.4094],"site-b":[37.7649,-122.4294],"site-c":[37.7949,-122.3994]},dU=[{id:1,name:"Excavator #EX-001",type:"excavator",status:"checked-out",location:"site-a",user:"Mike Rodriguez",lastUpdate:"2 hours ago"},{id:2,name:"Bulldozer #BD-045",type:"bulldozer",status:"checked-in",location:"yard",user:null,lastUpdate:"1 day ago"},{id:3,name:"Crane #CR-012",type:"crane",status:"checked-out",location:"site-b",user:"Sarah Johnson",lastUpdate:"30 min ago"},{id:4,name:"Loader #LD-023",type:"loader",status:"checked-out",location:"site-c",user:"Tom Wilson",lastUpdate:"5 hours ago"}];function mU(){const[e,t]=V.useState(dU),[n,s]=V.useState(null),[o,u]=V.useState(new Date);V.useEffect(()=>{const x=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(x)},[]);const f=x=>Md[x]||Md.warehouse,m=x=>x==="checked-in"?"📦":"📤",y=x=>({excavator:"🚜",bulldozer:"🚛",crane:"🏗️",loader:"🚚"})[x]||"🏗️",_=x=>{s(n?.id===x.id?null:x)},E=x=>{t(N=>N.map(D=>{if(D.id===x){const U=D.status==="checked-in"?"checked-out":"checked-in";return{...D,status:U,user:U==="checked-out"?"Current User":null,lastUpdate:"Just now"}}return D}))},A=(x,N)=>op.divIcon({className:"inventory-marker",iconSize:[30,30],iconAnchor:[15,15],html:`<div class="marker-content ${N}">
               <div class="marker-icon">${y(x)}</div>
               <div class="marker-status">${m(N)}</div>
             </div>`});return T.jsx("div",{className:"inventory-demo",children:T.jsxs("div",{className:"browser-window",children:[T.jsxs("div",{className:"browser-header",children:[T.jsxs("div",{className:"browser-buttons",children:[T.jsx("div",{className:"browser-button red"}),T.jsx("div",{className:"browser-button yellow"}),T.jsx("div",{className:"browser-button green"})]}),T.jsx("div",{className:"browser-url",children:"taglogger.com/equipment"})]}),T.jsxs("div",{className:"browser-content",children:[T.jsxs("div",{className:"inventory-layout",children:[T.jsxs("div",{className:"inventory-sidebar",children:[T.jsxs("div",{className:"sidebar-header",children:[T.jsx("h3",{children:"Equipment Inventory"}),T.jsx("div",{className:"time-display",children:o.toLocaleTimeString()})]}),T.jsx("div",{className:"asset-list",children:e.map(x=>T.jsxs("div",{className:`asset-item ${n?.id===x.id?"selected":""} ${x.status}`,onClick:()=>_(x),children:[T.jsx("div",{className:"asset-icon",children:y(x.type)}),T.jsxs("div",{className:"asset-info",children:[T.jsx("div",{className:"asset-name",children:x.name}),T.jsxs("div",{className:"asset-details",children:[T.jsxs("span",{className:`status-badge ${x.status}`,children:[m(x.status)," ",x.status]}),T.jsxs("span",{className:"asset-location",children:["📍 ",x.location]})]}),x.user&&T.jsxs("div",{className:"asset-user",children:["👤 ",x.user]})]}),T.jsx("button",{className:`check-btn ${x.status}`,onClick:N=>{N.stopPropagation(),E(x.id)},children:x.status==="checked-in"?"Check Out":"Check In"})]},x.id))})]}),T.jsx("div",{className:"inventory-map",children:T.jsxs(up,{center:Md.yard,zoom:12,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[T.jsx(hp,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),Object.entries(Md).map(([x,N])=>T.jsx(uI,{center:N,radius:200,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:1,opacity:.5}},x)),e.map(x=>{const N=f(x.location);return N?T.jsx(cp,{position:N,icon:A(x.type,x.status)},x.id):null})]},"inventory-demo-map")})]}),n&&T.jsxs("div",{className:"asset-details-panel",children:[T.jsxs("div",{className:"details-header",children:[T.jsx("h4",{children:n.name}),T.jsx("button",{className:"close-btn",onClick:()=>s(null),children:"×"})]}),T.jsxs("div",{className:"details-content",children:[T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Type:"}),T.jsx("span",{className:"detail-value",children:n.type})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Status:"}),T.jsxs("span",{className:`detail-value status-${n.status}`,children:[m(n.status)," ",n.status]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Location:"}),T.jsxs("span",{className:"detail-value",children:["📍 ",n.location]})]}),n.user&&T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Assigned to:"}),T.jsxs("span",{className:"detail-value",children:["👤 ",n.user]})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Last updated:"}),T.jsx("span",{className:"detail-value",children:n.lastUpdate})]})]})]})]})]})})}function pU(){const[e,t]=V.useState(0),n=[{title:"Complete Location History",description:"Interactive timeline with 30-90+ day history. Analyze movement patterns and travel routes with timeline playback.",demo:T.jsx(hU,{})},{title:"Geofencing",description:"Virtual boundaries with automated alerts. Custom radius 100m-5km with email/SMS notifications.",demo:T.jsx(fU,{})},{title:"Inventory Check-In/Out",description:"Automate asset management with location-based status updates and inventory system integration.",demo:T.jsx(mU,{})}];return T.jsx("section",{id:"platform-features",className:"platform-features-section",role:"region","aria-labelledby":"platform-features-title",children:T.jsxs("div",{className:"platform-features-content",children:[T.jsx("h2",{id:"platform-features-title",className:"platform-features-title",children:"Platform Features"}),T.jsxs("div",{className:"platform-features-layout",children:[T.jsx("div",{className:"features-selector",children:n.map((s,o)=>T.jsx("button",{className:`feature-selector-btn ${e===o?"selected":""}`,onClick:()=>t(o),children:s.title},o))}),T.jsxs("div",{className:"demo-section",children:[T.jsx("p",{className:"feature-description",children:n[e].description}),T.jsx("div",{className:"demo-placeholder",children:n[e].demo})]})]})]})})}function gU(){const e=[{icon:"📦",title:"Order",subtitle:"Get pre-configured tags",description:"For your security and seamless integration, tags must be pre-configured and onboarded to our platform before shipping. This ensures they are ready to track without needing access to your iCloud account."},{icon:"🔗",title:"Activate",subtitle:"Link in seconds",description:"Once your pre-configured tags arrive, simply link them to your account on our platform. The tracking functionality will activate, ready for use."},{icon:"📍",title:"Track",subtitle:"Anywhere",description:"Access powerful platform features, including location history, geofencing, and inventory check-in/out capabilities."}];return T.jsx("section",{id:"how-it-works",className:"how-it-works-section",role:"region","aria-labelledby":"how-it-works-title",children:T.jsxs("div",{className:"how-it-works-content",children:[T.jsx("h2",{id:"how-it-works-title",className:"how-it-works-title",children:"How It Works"}),T.jsx("div",{className:"how-it-works-steps modern",children:e.map((t,n)=>T.jsxs(Xd.Fragment,{children:[T.jsxs("div",{className:"how-it-works-step modern",children:[T.jsx("div",{className:"how-it-works-icon modern",children:t.icon}),T.jsx("div",{className:"how-it-works-step-title modern",children:t.title}),T.jsx("div",{className:"how-it-works-step-subtitle",children:t.subtitle}),T.jsx("p",{className:"how-it-works-step-description",children:t.description})]}),n<e.length-1&&T.jsx("div",{className:"how-it-works-chevron",children:"→"})]},n))})]})})}const ia={SETUP_FEE_PER_TAG:15,BASE_MONTHLY_PRICE:12.99,DISCOUNTS:{"2-3":.25,"4-10":.3,"10+":.4}},Am=e=>{const t=ia.BASE_MONTHLY_PRICE;return e===1?t:e<=3?Number((t*(1-ia.DISCOUNTS["2-3"])).toFixed(2)):e<=10?Number((t*(1-ia.DISCOUNTS["4-10"])).toFixed(2)):Number((t*(1-ia.DISCOUNTS["10+"])).toFixed(2))},ff=(e,t={})=>{typeof gtag<"u"?(gtag("event",e,t),console.log("GA4 Event tracked:",e,t)):console.warn("GA4 not loaded - event would be:",e,t)},yU=()=>{ff("sign_up",{method:"google"})},_U=()=>{ff("login",{method:"google"})},fp=(e=1)=>{const t=Math.max(1,Number(e)||1),n=ia.SETUP_FEE_PER_TAG,s=Am(t),o=Number((n*t).toFixed(2)),u=Number((s*t).toFixed(2));return{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}},hI=(e,t,n)=>[{item_id:"setup_fee",item_name:"AirTag Setup & Activation",category:"setup",quantity:e,price:t},{item_id:"monthly_subscription",item_name:"AirTag Monthly Service Subscription",category:"subscription",quantity:e,price:n}],vU=(e=1)=>{const{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}=fp(e);ff("begin_checkout",{currency:"USD",value:o,setup_value:o,subscription_value:u,items:hI(t,n,s)})},TU=(e=1,t)=>{const{normalizedCount:n,setupFeePerTag:s,subscriptionPerTag:o,setupValue:u,subscriptionValue:f}=fp(e);ff("purchase",{transaction_id:t,currency:"USD",value:u,setup_value:u,subscription_value:f,items:hI(n,s,o)})},bU=(e,t)=>{ff("cta_click",{cta_location:e,cta_text:t})},E0=(e,t={})=>{if(typeof fbq<"u"){const n=`${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate event",e,t);return}fbq("track",e,t),console.log("Meta Pixel Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - event would be:",e,t)},fI=(e,t={})=>{if(typeof fbq<"u"){const n=`custom_${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate custom event",e,t);return}fbq("trackCustom",e,t),console.log("Meta Pixel Custom Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - custom event would be:",e,t)},RS=()=>{yU(),E0("CompleteRegistration",{content_name:"User Registration",content_category:"signup"})},CS=()=>{_U(),fI("UserLogin",{content_name:"User Login",content_category:"authentication"})},EU=(e=1)=>{vU(e);const{normalizedCount:t,setupFeePerTag:n,subscriptionPerTag:s,setupValue:o,subscriptionValue:u}=fp(e);E0("InitiateCheckout",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:o,currency:"USD",num_items:t,setup_value:o,subscription_value:u,contents:[{id:"setup_fee",quantity:t,item_price:n,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:t,item_price:s,item_name:"AirTag Monthly Service Subscription"}]})},wU=(e=1,t)=>{TU(e,t);const{normalizedCount:n,setupFeePerTag:s,subscriptionPerTag:o,setupValue:u,subscriptionValue:f}=fp(e);E0("Purchase",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:u,currency:"USD",num_items:n,transaction_id:t,setup_value:u,subscription_value:f,contents:[{id:"setup_fee",quantity:n,item_price:s,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:n,item_price:o,item_name:"AirTag Monthly Service Subscription"}]})},xU=(e,t)=>{bU(e,t),fI("CTAClick",{content_name:t,content_category:"cta",cta_location:e})};function SU(){const[e,t]=V.useState(1),n=Sr(),s=ia.SETUP_FEE_PER_TAG,o=x=>Am(x)*x,u=x=>s*x,f=o(e),m=u(e),y=Am(e).toFixed(2),_=ia.BASE_MONTHLY_PRICE*e,E=e>1,A=E?Math.round((1-f/_)*100):0;return T.jsx("section",{id:"pricing",className:"pricing-section",role:"region","aria-labelledby":"pricing-title",children:T.jsxs("div",{className:"pricing-content",children:[T.jsx("h2",{id:"pricing-title",className:"pricing-title",children:"Simple, Transparent Pricing"}),T.jsx("p",{className:"pricing-subtitle",children:"One-time setup cost for each tag + monthly subscription. Volume discounts apply to newly purchased tags."}),T.jsx("div",{className:"pricing-calculator",children:T.jsxs("div",{className:"calculator-card",children:[T.jsxs("div",{className:"amount-section",children:[T.jsx("p",{className:"amount-label",children:"How many tags?"}),T.jsxs("div",{className:"tag-counter",children:[T.jsx("button",{className:"counter-btn",onClick:()=>t(Math.max(1,e-1)),disabled:e<=1,children:"-"}),T.jsxs("div",{className:"tag-display",children:[T.jsx("span",{className:"tag-count",children:e}),T.jsxs("span",{className:"tag-label",children:["Tag",e>1?"s":""]})]}),T.jsx("button",{className:"counter-btn",onClick:()=>t(Math.min(100,e+1)),children:"+"})]})]}),T.jsxs("div",{className:"pricing-split",children:[T.jsxs("div",{className:"pricing-left",children:[T.jsx("h4",{className:"pricing-section-title",children:"Pre-configured Tags"}),T.jsxs("span",{className:"setup-amount",children:["$",m.toFixed(2)]}),T.jsx("img",{src:A_,className:"tag-image",alt:"Tracking tag",style:{width:"48px",marginBottom:"10px"}}),T.jsxs("div",{className:"setup-fee",children:[T.jsxs("span",{className:"setup-per-tag",children:["$",s.toFixed(2)," per tag"]}),T.jsx("br",{}),T.jsxs("span",{className:"setup-shipping-note",children:["free shipping",T.jsx("br",{}),T.jsx("span",{className:"shipping-region",children:"(continental US)"})]}),T.jsx("br",{})]})]}),T.jsx("div",{className:"pricing-divider"}),T.jsxs("div",{className:"pricing-right",children:[T.jsx("h4",{className:"pricing-section-title",children:"Monthly Subscription"}),T.jsxs("div",{className:"subscription-fee",children:[E?T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[T.jsxs("span",{className:"subscription-amount",children:["$",f.toFixed(2)]}),T.jsxs("span",{style:{fontSize:"11px",color:"#10b981",fontWeight:"bold",background:"rgba(16, 185, 129, 0.15)",padding:"3px 8px",borderRadius:"6px",border:"1px solid rgba(16, 185, 129, 0.4)",boxShadow:"0 1px 3px rgba(16, 185, 129, 0.1)",alignSelf:"center"},children:["Save ",A,"%"]}),T.jsxs("div",{style:{fontSize:"16px",color:"#999",textDecoration:"line-through",fontWeight:"normal"},children:["$",_.toFixed(2)]})]}):T.jsxs("span",{className:"subscription-amount",children:["$",f.toFixed(2)]}),T.jsx("span",{className:"subscription-label",children:"Monthly Fee"}),T.jsxs("span",{className:"subscription-per-tag",children:["$",y," per tag"]})]}),T.jsx("span",{className:"purchase-note",children:"Your subscription starts with a 7-day free trial after your tags ship."}),T.jsxs("div",{className:"volume-discounts",children:[T.jsx("h5",{className:"discounts-title",children:"Volume Discounts"}),T.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",marginBottom:"8px"},children:"Discounts apply to newly purchased tags. Existing tags keep their original pricing."}),T.jsxs("table",{className:"discount-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Tags"}),T.jsx("th",{children:"Discount"})]})}),T.jsxs("tbody",{children:[T.jsxs("tr",{children:[T.jsx("td",{children:"1"}),T.jsx("td",{children:"No discount"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"2-3"}),T.jsx("td",{children:"25% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"4-10"}),T.jsx("td",{children:"30% off"})]}),T.jsxs("tr",{children:[T.jsx("td",{children:"10+"}),T.jsx("td",{children:"40% off"})]})]})]})]})]})]}),T.jsxs("div",{className:"pricing-display-card compact",children:[T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"One-time setup fee: "}),T.jsxs("span",{className:"pricing-value",children:["$",m.toFixed(2)]})]}),T.jsxs("div",{className:"pricing-line-item",children:[T.jsx("span",{className:"pricing-label",children:"Subscription: "}),T.jsxs("span",{className:"pricing-value",children:["$",f.toFixed(2)," /month"]})]})]}),T.jsx("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"8px",padding:"12px",marginTop:"16px",marginBottom:"16px",textAlign:"center",fontSize:"14px"},children:T.jsx("strong",{style:{color:"#ffc107"},children:"⚠️ Minimum order: 10 tags"})}),T.jsxs("button",{className:"pricing-cta",onClick:()=>{xU("pricing_section",`Start Tracking ${e} Tag${e>1?"s":""}`),n(`/login?tagCount=${Math.max(10,e)}&mode=register`)},children:["Start Tracking ",e," Tag",e>1?"s":""]})]})})]})})}function AU(){const e=[{q:"Does your platform allow me as an Android user to use AirTags?",a:"Yes, since we set up the AirTags for you and provide a web app, you can use them as an Android user."},{q:"What devices are compatible with your platform?",a:"Our web app works on any modern browser, including Chrome, Safari, Firefox, and Edge, on both desktop and mobile devices."},{q:"What is the battery lifetime?",a:"Around 1 to 1.5 years. You can replace the battery yourself with a standard CR2032 coin cell."},{q:"Can I use my own tag?",a:"For your security, we never request access to your iCloud account. Tags must be onboarded to our platform before shipping. Once received, they are yours to keep and can be factory reset for regular use at any time."},{q:"Is my location data private and secure?",a:"Yes, we use industry-standard encryption and never share your data with third parties. Only you have access to your location history."},{q:"Can I export my location data?",a:"Yes, you can export your location history in CSV or JSON format for your records or analysis."},{q:"Can I reset the tags?",a:"Yes, you can factory reset your tags at any time and use them as you wish."},{q:"How many tags can I track simultaneously?",a:"There's no limit. If you plan to deploy more than 10 tags, please contact us for tailored support."},{q:"Shipping fee",a:"Shipping is free within the continental US. For other locations, see pricing at checkout."},{q:"Can I configure location-specific email alerts?",a:"Yes, you can set up location-based email alerts directly in the platform."},{q:"How far back does the location history go?",a:"There's no practical limit—your location history is available as far back as you need."},{q:"How do I access the application?",a:"You can access the platform via a web app that works seamlessly on both mobile and desktop browsers."},{q:"Can I pause or cancel my subscription?",a:"Yes, you can pause or cancel your subscription at any time from your account dashboard."}],[t,n]=V.useState(null),s=o=>n(t===o?null:o);return T.jsx("section",{id:"faq",className:"faq-section",role:"region","aria-labelledby":"faq-title",children:T.jsxs("div",{className:"faq-content",children:[T.jsx("h2",{id:"faq-title",className:"faq-title",children:"FAQ"}),T.jsx("div",{className:"faq-list",children:e.map((o,u)=>T.jsxs("div",{className:`faq-item${t===u?" open":""}`,children:[T.jsxs("button",{className:"faq-question",onClick:()=>s(u),"aria-expanded":t===u,"aria-controls":`faq-answer-${u}`,children:[T.jsx("span",{children:o.q}),T.jsx("span",{className:`faq-chevron${t===u?" open":""}`,"aria-hidden":"true",children:"▼"})]}),t===u&&T.jsx("div",{id:`faq-answer-${u}`,className:"faq-answer",role:"region","aria-labelledby":`faq-question-${u}`,children:o.a})]},u))})]})})}function RU(){const[e,t]=V.useState("hero"),[n,s]=V.useState(!1),o=[{id:"hero",label:"Home"},{id:"platform-features",label:"Platform"},{id:"feature-comparison",label:"How We Compare"},{id:"use-cases",label:"Use Cases"},{id:"how-it-works",label:"How It Works"},{id:"pricing",label:"Pricing"},{id:"faq",label:"FAQ"}],u=f=>{const m=document.getElementById(f);if(m){const _=f==="feature-comparison"?104:80,E=m.offsetTop-_;window.scrollTo({top:E,behavior:"smooth"}),window.history.pushState(null,null,`#${f}`)}};return V.useEffect(()=>{const f=()=>{const m=window.location.hash.slice(1);m&&o.find(y=>y.id===m)&&(t(m),u(m))};return window.location.hash&&f(),window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),V.useEffect(()=>{const f={rootMargin:"-20% 0px -80% 0px",threshold:0},m=new IntersectionObserver(y=>{y.forEach(_=>{_.isIntersecting&&t(_.target.id)})},f);return o.forEach(({id:y})=>{const _=document.getElementById(y);_&&m.observe(_)}),()=>m.disconnect()},[]),V.useEffect(()=>{const f=()=>{const y=window.scrollY,_=document.getElementById("hero");if(_){const E=_.offsetHeight;s(y>E*.8)}else s(y>500)},m=setTimeout(()=>{f()},100);return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f),clearTimeout(m)}},[]),T.jsx("nav",{className:`section-navigation ${n?"visible":""}`,role:"navigation","aria-label":"Page sections",children:T.jsx("div",{className:"nav-container",children:T.jsx("ul",{className:"nav-list",children:o.map(({id:f,label:m})=>T.jsx("li",{className:"nav-item",children:T.jsx("button",{className:`nav-link ${e===f?"active":""}`,onClick:()=>u(f),"aria-current":e===f?"true":"false","aria-label":`Go to ${m} section`,children:m})},f))})})})}function IS({onScrollProgress:e}){const[t,n]=V.useState(null);return V.useEffect(()=>{e&&e(t)},[t,e]),T.jsxs("main",{id:"main-content",role:"main",tabIndex:"-1",children:[T.jsx(RU,{}),T.jsx(oU,{onScrollProgress:n}),T.jsx(pU,{}),T.jsx(uU,{}),T.jsx(cU,{}),T.jsx(gU,{}),T.jsx(SU,{}),T.jsx(AU,{})]})}function CU(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?e.state.tagCount:t.has("tagCount")?t.get("tagCount"):""}function PS(e){return new URLSearchParams(e.search).get("mode")==="register"?"register":"login"}function IU(){const e=_s(),t=Sr(),[n,s]=V.useState(PS(e)),[o,u]=V.useState(""),[f,m]=V.useState(""),[y,_]=V.useState(""),[E,A]=V.useState(""),[x,N]=V.useState(!1),D=CU(e),{isEntitled:U,loading:W}=bR();V.useEffect(()=>{s(PS(e))},[e]),V.useEffect(()=>{hr.currentUser&&!W&&(U?(console.log("🔐 LoginPage: User entitled, navigating to dashboard"),t("/dashboard")):(console.log("🔐 LoginPage: User not entitled, navigating to purchase"),t("/purchase")))},[U,W,t]);const Z=async $=>{$.preventDefault(),A(""),N(!0);try{if(n==="register"){if(f!==y){A("Passwords do not match."),N(!1);return}const yt=await GD(hr,o,f);RS(),await _m(gr(yi,"users",yt.user.uid),{email:yt.user.email}),console.log("User document written to Firestore:",yt.user.uid),t(D?`/purchase?tagCount=${D}`:"/purchase")}else await WD(hr,o,f),CS()}catch(yt){console.error("Registration error:",yt),A(yt.message.replace("Firebase: ",""))}finally{N(!1)}},it=async()=>{A(""),N(!0);try{const $=await pN(hr,z5),yt=gr(yi,"users",$.user.uid);(await ep(yt)).exists()?CS():(RS(),await _m(yt,{email:$.user.email,displayName:$.user.displayName||null,createdAt:$.user.metadata.creationTime}),console.log("New user document created in Firestore for Google sign-in:",$.user.uid),t(D?`/purchase?tagCount=${D}`:"/purchase"))}catch($){A($.message.replace("Firebase: ",""))}finally{N(!1)}};return T.jsx("div",{className:"login-page-root",children:T.jsxs("div",{className:"login-card",children:[T.jsxs("div",{className:"login-toggle",children:[T.jsx("button",{className:n==="login"?"active":"",onClick:()=>s("login"),children:"Login"}),T.jsx("button",{className:n==="register"?"active":"",onClick:()=>s("register"),children:"Register"})]}),T.jsx("h2",{className:"login-title",children:n==="login"?"Login to your account":"Create an account"}),D&&T.jsx("div",{className:"login-tagcount-info",children:n==="register"?`Registering for ${D} tag${D>1?"s":""}`:""}),T.jsxs("form",{className:"login-form",onSubmit:Z,children:[T.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:$=>u($.target.value),required:!0,disabled:x}),T.jsx("input",{type:"password",placeholder:"Password",value:f,onChange:$=>m($.target.value),required:!0,disabled:x}),n==="register"&&T.jsx("input",{type:"password",placeholder:"Confirm Password",value:y,onChange:$=>_($.target.value),required:!0,disabled:x}),E&&T.jsx("div",{className:"login-error",children:E}),T.jsx("button",{type:"submit",className:"login-submit-btn",disabled:x,children:x?n==="login"?"Logging in...":"Registering...":n==="login"?"Login":"Register"}),n==="register"&&T.jsxs("p",{className:"terms-acknowledgement",children:["By registering, you acknowledge you have read and agree to our ",T.jsx("a",{href:"/terms",target:"_blank",children:"Terms of Service"})," and ",T.jsx("a",{href:"/privacy",target:"_blank",children:"Privacy Policy"}),"."]})]}),T.jsx("div",{className:"login-divider",children:"or"}),T.jsxs("button",{className:"google-auth-btn",type:"button",onClick:it,disabled:x,children:[T.jsx("span",{className:"google-icon",children:"G"})," Sign in with Google"]})]})})}function PU({user:e}){const t=Sr(),[n,s]=V.useState([]),[o,u]=V.useState([]),[f,m]=V.useState(0),[y,_]=V.useState(new Set),[E,A]=V.useState(null),[x,N]=V.useState(""),[D,U]=V.useState("#00eaff"),[W,Z]=V.useState(!0);V.useEffect(()=>{e&&it(e.uid)},[e]);const it=async P=>{try{Z(!0);const k=gr(yi,"users",P),B=i_(k,j=>{if(j.exists()){const Tt=j.data();m(Tt.subscriptionQuantity||0)}}),G=ah(yi,"users",P,"tags"),Y=i_(n_(G),j=>{const Tt=j.docs.map(ft=>({id:ft.id,...ft.data()})),Vt=Tt.filter((ft,mt,Kt)=>Kt.findIndex(z=>z.id===ft.id)===mt);Vt.length!==Tt.length&&console.warn("Removed duplicate tags:",Tt.length-Vt.length),s(Vt);const st=Vt.filter(ft=>ft.isActive).map(ft=>ft.id);console.log("🔄 onSnapshot: activeTagIds from Firestore:",st),u(st),Z(!1)});return()=>{B(),Y()}}catch(k){console.error("Error loading data:",k),Z(!1)}},$=async P=>{if(console.log("🔥 handleTagToggle called with tagId:",P),!e){console.error("No user logged in");return}const k=n.find(Y=>Y.id===P);if(!k){console.warn("Tag not found in current user tags:",P);return}if(k.status==="pending_hardware"){console.warn("Cannot toggle tag pending hardware assignment:",P);return}const B=o.includes(P),G=!B;if(console.log("Current state - isSelected:",B,"newIsActive:",G),G&&o.length>=f){console.warn("Cannot activate - would exceed subscription limit");return}_(Y=>new Set([...Y,P]));try{console.log("Updating Firestore document:",`users/${e.uid}/tags/${P}`),console.log("New isActive value:",G);const Y=gr(yi,"users",e.uid,"tags",P);await _m(Y,{isActive:G,updatedAt:new Date},{merge:!0}),console.log("✅ Firestore setDoc completed successfully")}catch(Y){console.error("Error updating tag status:",Y),alert("Failed to update tag status. Please try again.")}finally{_(Y=>{const j=new Set(Y);return j.delete(P),j})}},yt=P=>{A(P.id),N(P.customName||""),U(P.color||"#00eaff")},ht=async P=>{if(!(!e||!E)){_(k=>new Set([...k,P]));try{const k=gr(yi,"users",e.uid,"tags",P);await _m(k,{customName:x.trim()||null,color:D,updatedAt:new Date},{merge:!0}),console.log("✅ Tag customization saved successfully"),A(null)}catch(k){console.error("Error saving tag customization:",k),alert("Failed to save tag customization. Please try again.")}finally{_(k=>{const B=new Set(k);return B.delete(P),B})}}},Et=()=>{A(null),N(""),U("#00eaff")},q=["#00eaff","#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#f0932b","#eb4d4b","#6c5ce7","#a29bfe","#fd79a8","#00b894","#00cec9","#74b9ff","#0984e3","#fdcb6e"];return W?T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:T.jsx("div",{style:{color:"rgba(255,255,255,0.7)"},children:"Loading tag information..."})}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h3",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:"📍 Manage Tags & Subscriptions"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Activate/deactivate tags, customize names and colors, and manage your subscription slots"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px",marginBottom:"40px"},children:n.length===0?T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:[T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"20px"},children:"No tags purchased yet. Purchase your first tags to get started."}),T.jsx("button",{onClick:()=>t("/purchase"),style:{background:"#00eaff",color:"#000",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Purchase Tags"})]}):T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px"},children:[T.jsxs("div",{style:{marginBottom:"20px"},children:[T.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,marginBottom:"8px"},children:["Active Subscriptions: ",o.length," of ",f," available slots"]}),T.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)"},children:"Select which tags should be actively monitored and billed"})]}),T.jsx("div",{style:{display:"grid",gap:"12px",marginBottom:"24px"},children:n.map(P=>T.jsx("div",{style:{padding:"16px",background:o.includes(P.id)?"rgba(0, 234, 255, 0.1)":"rgba(255,255,255,0.02)",border:o.includes(P.id)?"1px solid rgba(0, 234, 255, 0.3)":"1px solid rgba(255,255,255,0.05)",borderRadius:"12px"},children:E===P.id?T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:D,border:"2px solid rgba(255,255,255,0.2)",cursor:"pointer",flexShrink:0},title:"Click to change color"}),T.jsx("input",{type:"text",value:x,onChange:k=>N(k.target.value),placeholder:"Tag name (e.g., Car Keys)",style:{flex:1,padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"6px",color:"#fff",fontSize:"0.9rem"},maxLength:50})]}),T.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:q.map(k=>T.jsx("div",{onClick:()=>U(k),style:{width:"24px",height:"24px",borderRadius:"50%",background:k,border:D===k?"2px solid #fff":"1px solid rgba(255,255,255,0.2)",cursor:"pointer",transform:D===k?"scale(1.1)":"scale(1)",transition:"all 0.2s ease"},title:k},k))}),T.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[T.jsx("button",{onClick:Et,style:{padding:"6px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",background:"transparent",color:"#fff",fontSize:"0.8rem",cursor:"pointer"},children:"Cancel"}),T.jsx("button",{onClick:()=>ht(P.id),disabled:y.has(P.id),style:{padding:"6px 12px",border:"none",borderRadius:"6px",background:"#00d4aa",color:"white",fontSize:"0.8rem",fontWeight:600,cursor:y.has(P.id)?"not-allowed":"pointer",opacity:y.has(P.id)?.7:1},children:y.has(P.id)?"Saving...":"Save"})]})]}):T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:P.color||"#00eaff",marginRight:"12px",flexShrink:0}}),T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{style:{fontWeight:600,marginBottom:"2px"},children:P.customName||`Tag ${P.id.slice(-4)}`}),T.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)"},children:P.status==="pending_hardware"?"📦 Waiting for hardware assignment":P.status==="linked"?`📍 ${o.includes(P.id)?"Active - Monthly billing":"Inactive - No charges"}`:o.includes(P.id)?"Active - Monthly billing":"Inactive - No charges"})]}),T.jsx("button",{onClick:()=>yt(P),style:{padding:"6px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",background:"transparent",color:"#fff",fontSize:"0.8rem",cursor:"pointer",marginRight:"8px"},children:"✏️ Edit"}),T.jsx("div",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:600,background:o.includes(P.id)?"rgba(0, 255, 170, 0.2)":"rgba(255,255,255,0.1)",color:o.includes(P.id)?"#00ffaa":"rgba(255,255,255,0.6)",marginRight:"12px"},children:o.includes(P.id)?"ACTIVE":"INACTIVE"}),T.jsx("button",{onClick:()=>$(P.id),disabled:P.status==="pending_hardware"||y.has(P.id)||(o.includes(P.id)?!1:o.length>=f),style:{padding:"8px 16px",border:"none",borderRadius:"6px",background:P.status==="pending_hardware"?"#666":y.has(P.id)?"#888":o.includes(P.id)?"#ff4444":"#00d4aa",color:"white",fontSize:"0.9rem",fontWeight:600,cursor:P.status==="pending_hardware"||y.has(P.id)?"not-allowed":o.includes(P.id)?"pointer":o.length>=f?"not-allowed":"pointer",opacity:P.status==="pending_hardware"||y.has(P.id)?.7:o.includes(P.id)?1:o.length>=f?.5:1},children:P.status==="pending_hardware"?"Pending Hardware":y.has(P.id)?"Updating...":o.includes(P.id)?"Deactivate":"Activate"})]})},P.id))})]})})," "]})}function MU(){const e=Sr(),t=async()=>{alert("Subscription management: Please contact support to change your subscription quantity. Portal integration coming soon.")};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h3",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:"💳 Subscription & Billing"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Manage your subscription, purchase additional tags, and access billing information"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px",marginBottom:"40px"},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"24px",textAlign:"center"},children:[T.jsxs("div",{className:"subscription-buttons-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px",justifyItems:"center",maxWidth:"600px",margin:"0 auto"},children:[T.jsx("button",{onClick:()=>e("/purchase?purchaseType=tags_only"),style:{background:"#00d4aa",color:"black",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px"},children:"Purchase More Tags"}),T.jsx("button",{onClick:t,style:{background:"#ffaa00",color:"#000",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px"},children:"Change Subscription"}),T.jsx("button",{onClick:t,style:{background:"#00eaff",color:"#000",border:"none",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer",width:"100%",maxWidth:"160px"},children:"Billing Portal"})]}),T.jsx("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.9rem",marginTop:"16px"},children:"Use the Billing Portal to view invoices and update payment methods. Use Change Subscription to modify your plan quantity."})]})})]})}function MS(){const[e,t]=V.useState(null),[n,s]=V.useState(!0),[o,u]=V.useState(!1),[f,m]=V.useState(()=>window.location.pathname==="/settings"?"settings":"status"),[y,_]=V.useState({geofences:[],outsideTags:[],recentEvents:[],loading:!0,error:null}),E=Sr(),[A,x]=tM();V.useEffect(()=>{const D=Qh(hr,async U=>{U?t(U):E("/login"),s(!1)});return()=>D()},[E]),V.useEffect(()=>{(async()=>{if(e){_(U=>({...U,loading:!0,error:null}));try{const[U,W,Z,it]=await Promise.all([Ed(ah(yi,"users",e.uid,"geofences")),Ed(ah(yi,"users",e.uid,"geofenceStates")),Ed(n_(ah(yi,"users",e.uid,"tags"),tx("status","==","linked"),tx("isActive","==",!0))),Ed(n_(ah(yi,"users",e.uid,"geofenceEvents"),p5("timestamp","desc"),g5(30)))]),$=new Map;U.docs.forEach(j=>{$.set(j.id,{id:j.id,...j.data()})});const yt=new Map;Z.docs.forEach(j=>{yt.set(j.id,{id:j.id,...j.data()})});const ht=[],Et=new Map;Z.docs.forEach(j=>{const Tt=j.data();Tt.hardwareId&&(Et.set(Tt.hardwareId,j.id),ht.push(ep(gr(yi,"airtags",Tt.hardwareId))))});const q=await Promise.all(ht),P=new Map;q.forEach(j=>{if(j.exists()){const Tt=j.data(),Vt=Et.get(j.id);Tt.lastLocationTs&&Vt&&P.set(Vt,new Date(Tt.lastLocationTs))}});const k=[],B=new Map;U.docs.forEach(j=>{const Tt={id:j.id,...j.data()};Tt.active&&k.push({id:Tt.id,name:Tt.name,color:Tt.color||"#00eaff",tags:[]})}),W.docs.forEach(j=>{const Tt={id:j.id,...j.data()},Vt=yt.get(Tt.tagId);if(Vt){const st=Tt.lastChecked?.toDate?Tt.lastChecked.toDate():new Date(Tt.lastChecked),ft={tagId:Tt.tagId,tagName:Vt.customName||`Tag ${Vt.id.slice(-4)}`,tagColor:Vt.color||"#00eaff",currentState:Tt.currentState,lastChecked:st,location:Tt.lastLocation,geofenceId:Tt.geofenceId};B.has(Tt.tagId)||B.set(Tt.tagId,[]),B.get(Tt.tagId).push(ft)}}),k.forEach(j=>{B.forEach((Tt,Vt)=>{const st=Tt.find(ft=>ft.geofenceId===j.id);st&&st.currentState==="inside"&&j.tags.push({tagId:st.tagId,tagName:st.tagName,tagColor:st.tagColor,lastChecked:st.lastChecked,lastSeen:P.get(Vt)||null,location:st.location})}),j.tags.sort((Tt,Vt)=>!Tt.lastSeen&&!Vt.lastSeen?Vt.lastChecked-Tt.lastChecked:Tt.lastSeen?Vt.lastSeen?Vt.lastSeen-Tt.lastSeen:-1:1)});const G=[];Z.docs.forEach(j=>{const Tt={id:j.id,...j.data()},Vt=B.get(Tt.id);if(!(Vt&&Vt.some(ft=>ft.currentState==="inside"))){const ft=Vt?Vt.reduce((mt,Kt)=>!mt||Kt.lastChecked>mt.lastChecked?Kt:mt,null):null;G.push({tagId:Tt.id,tagName:Tt.customName||`Tag ${Tt.id.slice(-4)}`,tagColor:Tt.color||"#00eaff",lastChecked:ft?.lastChecked||null,lastSeen:P.get(Tt.id)||null,location:ft?.location||null,status:ft?"Outside all geofences":"Never checked"})}}),G.sort((j,Tt)=>!j.lastChecked&&!Tt.lastChecked?0:j.lastChecked?Tt.lastChecked?Tt.lastChecked-j.lastChecked:-1:1);const Y=it.docs.map(j=>{const Tt={id:j.id,...j.data()};return{id:Tt.id,tagId:Tt.tagId,geofenceId:Tt.geofenceId,eventType:Tt.eventType,timestamp:Tt.timestamp?.toDate?Tt.timestamp.toDate():new Date(Tt.timestamp?.seconds*1e3),location:Tt.location,geofenceName:$.get(Tt.geofenceId)?.name||"Unknown",tagName:yt.get(Tt.tagId)?.customName||`Tag ${Tt.tagId.slice(-4)}`}});_({geofences:k,outsideTags:G,recentEvents:Y,loading:!1,error:null})}catch(U){console.error("Error fetching dashboard data:",U),_(W=>({...W,loading:!1,error:U.message}))}}})()},[e]);const N=D=>{if(!D)return"Never checked";const W=new Date-D,Z=Math.floor(W/(1e3*60)),it=Math.floor(W/(1e3*60*60)),$=Math.floor(W/(1e3*60*60*24));return Z<1?"Just now":Z<60?`${Z}m ago`:it<24?`${it}h ago`:`${$}d ago`};return V.useEffect(()=>{if(A.get("success")==="true"){u(!0);const D=A.get("tag_count")||"1",U=A.get("session_id");wU(parseInt(D),U);const W=new URLSearchParams(A);W.delete("success"),W.delete("tag_count"),W.delete("session_id"),x(W);const Z=setTimeout(()=>{u(!1)},5e3);return()=>clearTimeout(Z)}if(A.get("subscription")==="success"){const D=new URLSearchParams(A);D.delete("subscription"),D.delete("tag_count"),x(D)}},[A,x]),n?T.jsx("div",{className:"loading",children:"Loading..."}):T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Dashboard"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:"👤"}),T.jsxs("span",{children:["Welcome, ",e?.email]})]})]}),o&&T.jsx("div",{style:{background:"linear-gradient(135deg, #00eaff, #0099cc)",color:"#fff",padding:"16px 24px",margin:"0 auto 24px auto",maxWidth:"600px",borderRadius:"12px",textAlign:"center",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 20px rgba(0, 234, 255, 0.3)",animation:"slideIn 0.3s ease-out"},children:"🎉 Payment successful! Your tags are being prepared and you'll be notified once they're shipped."}),T.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px",padding:"0 20px"},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"4px",display:"flex",gap:"4px",maxWidth:"400px",width:"100%"},children:[T.jsx("button",{onClick:()=>m("status"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="status"?"#00eaff":"transparent",color:f==="status"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"📍 Status"}),T.jsx("button",{onClick:()=>m("map"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="map"?"#00eaff":"transparent",color:f==="map"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"🗺️ Map"}),T.jsx("button",{onClick:()=>m("settings"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:f==="settings"?"#00eaff":"transparent",color:f==="settings"?"#000":"#fff",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"⚙️ Settings"})]})}),T.jsxs("main",{className:"dashboard-content",children:[f==="status"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[y.error&&T.jsxs("div",{style:{background:"#ff6b6b",color:"#fff",padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",textAlign:"center"},children:["Error loading geofence data: ",y.error]}),y.loading?T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"24px",textAlign:"center",color:"#aaa"},children:"Loading geofence status..."}):T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0,234,255,0.1), rgba(0,150,255,0.05))",border:"1px solid rgba(0,234,255,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h2",{style:{color:"#00eaff",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:"📍 Geofence Status"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Current location status of all your tags across active geofences"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px"},children:T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[y.geofences.map(D=>T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:`linear-gradient(90deg, ${D.color}, ${D.color}dd)`,color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[D.name," (",D.tags.length,")"]}),D.tags.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"No tags currently inside this geofence"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Last Seen"})]})}),T.jsx("tbody",{children:D.tags.map((U,W)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:W%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"12px",height:"12px",background:U.tagColor,borderRadius:"2px"}}),T.jsx("span",{style:{color:"#fff"},children:U.tagName})]}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:U.lastSeen?N(U.lastSeen):"Unknown"})]},U.tagId))})]})})]},D.id)),T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:"linear-gradient(90deg, #f59e0b, #d97706)",color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:["🌍 Outside All Geofences (",y.outsideTags.length,")"]}),y.outsideTags.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"All tags are inside geofences"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Last Seen"})]})}),T.jsx("tbody",{children:y.outsideTags.map((D,U)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:U%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"12px",height:"12px",background:D.tagColor,borderRadius:"2px"}}),T.jsx("span",{style:{color:"#fff"},children:D.tagName})]}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:D.lastSeen?N(D.lastSeen):"Unknown"})]},D.tagId))})]})})]})]})})})," "]})]})}),T.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139,92,246,0.1), rgba(124,58,237,0.05))",border:"1px solid rgba(139,92,246,0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"8px"},children:[T.jsx("h2",{style:{color:"#8b5cf6",fontSize:"18px",fontWeight:"700",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:"📊 Recent Activity"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",margin:0,lineHeight:1.4},children:"Latest geofence entry and exit events from your tags"})]}),T.jsx("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"20px"},children:T.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 0 0"},children:T.jsx("div",{style:{width:"100%",maxWidth:1e3},children:T.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",overflow:"hidden"},children:[T.jsxs("div",{style:{background:"linear-gradient(90deg, #8b5cf6, #7c3aed)",color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:["📋 Recent Events (",y.recentEvents.length,")"]}),y.recentEvents.length===0?T.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#aaa"},children:"No recent geofence activity"}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Event"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Tag"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Geofence"}),T.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#ddd",fontSize:"14px",fontWeight:"600"},children:"Time"})]})}),T.jsx("tbody",{children:y.recentEvents.map((D,U)=>T.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:U%2===0?"rgba(255,255,255,0.02)":"transparent"},children:[T.jsx("td",{style:{padding:"12px 16px"},children:T.jsx("span",{style:{background:D.eventType==="entry"?"#10b981":"#ef4444",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:D.eventType==="entry"?"Entered":"Exited"})}),T.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#00eaff",flexShrink:0}}),T.jsx("span",{style:{color:"#fff"},children:D.tagName})]}),T.jsx("td",{style:{padding:"12px 16px"},children:T.jsx("span",{style:{color:"#fff"},children:D.geofenceName})}),T.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#aaa",fontSize:"14px"},children:N(D.timestamp)})]},D.id))})]})})]})})})})," "]}),f==="map"&&T.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1200,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"24px",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"🗺️"}),T.jsx("h3",{style:{color:"#00eaff",margin:"0 0 8px 0"},children:"Interactive Map View"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",margin:"0 0 24px 0"},children:"View your tags, draw geofences, and manage assets on an interactive map."}),T.jsx("button",{className:"dashboard-btn",onClick:()=>E("/map"),style:{padding:"12px 24px",fontSize:"16px"},children:"Open Full Map"})]})}),f==="settings"&&T.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:T.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[T.jsx(PU,{user:e}),T.jsx(MU,{})]})})]})]})}function LU(){const[e,t]=V.useState(!0),[n,s]=V.useState(null),[o,u]=V.useState(!1),[f,m]=V.useState(!1),[y,_]=V.useState(!1),[E,A]=V.useState(null),[x,N]=V.useState(!0),[D,U]=V.useState(!1),[W,Z]=V.useState(""),[it,$]=V.useState(""),[yt,ht]=V.useState("2");V.useEffect(()=>{const k=Qh(hr,async B=>{if(!B){t(!1),s(null),u(!1);return}s(B);const G=await ep(gr(yi,"users",B.uid)),Y=G.exists()&&G.data().isAdmin===!0;u(Y),t(!1),Y&&Et()});return()=>k()},[]);const Et=async()=>{try{N(!0);const B=await lh(wd,"adminGetGeofenceSchedulerStatus")({});A(B.data.config)}catch(k){Z(String(k?.message||k))}finally{N(!1)}},q=async k=>{try{U(!0),Z(""),$("");const G=await lh(wd,"adminUpdateGeofenceScheduler")(k);$(G.data.message),await Et()}catch(B){Z(String(B?.message||B))}finally{U(!1)}},P=k=>{if(!k)return"Never";try{let B;if(k.toDate&&typeof k.toDate=="function")B=k.toDate();else if(k.seconds)B=new Date(k.seconds*1e3);else if(typeof k=="string"||typeof k=="number")B=new Date(k);else return"Unknown";const Y=new Date-B;if(isNaN(Y))return"Invalid date";const j=Math.floor(Y/(1e3*60));if(j<1)return"Just now";if(j<60)return`${j}m ago`;const Tt=Math.floor(Y/(1e3*60*60));return Tt<24?`${Tt}h ago`:`${Math.floor(Y/(1e3*60*60*24))}d ago`}catch(B){return console.error("Error formatting lastRun:",B,k),"Error"}};return e?T.jsx("div",{style:{padding:24},children:"Loading…"}):n?o?T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"dashboard-header-main",children:[T.jsx("h1",{children:"Admin Page"}),T.jsx("div",{className:"dashboard-accent-bar"})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"user-icon",children:"👤"}),T.jsxs("span",{children:["Welcome, ",n?.email]})]})]}),T.jsx("main",{className:"dashboard-content",children:T.jsxs("div",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[W&&T.jsx("div",{style:{marginBottom:12,color:"#ff7d7d"},children:W}),it&&T.jsx("div",{style:{marginBottom:12,color:"#4ade80"},children:it}),T.jsxs("div",{style:{display:"grid",gap:20},children:[T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Manual Geofence Check"}),T.jsx("button",{disabled:f,onClick:async()=>{try{m(!0),Z(""),$("");const B=await lh(wd,"adminTriggerGeofenceMonitor")({});$(`✅ Geofence check complete! Checked: ${B.data?.checked||0}, Events: ${B.data?.events||0}`),await Et()}catch(k){Z(String(k?.message||k))}finally{m(!1)}},style:{padding:"12px 20px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:700,cursor:f?"not-allowed":"pointer",opacity:f?.7:1,fontSize:"14px"},children:f?"⏳ Checking...":"🔍 Run Check Now"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb"},children:"Manually trigger an immediate geofence check for all active geofences and tags"})]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Geofence Scheduler"})}),x?T.jsx("div",{style:{color:"#aaa",textAlign:"center",padding:"20px 0"},children:"Loading scheduler status..."}):T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px"},children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Status"}),T.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:E?.enabled?"#4ade80":"#f87171",color:E?.enabled?"#000":"#fff",fontSize:"14px",fontWeight:"600"},children:[T.jsx("span",{children:E?.enabled?"✅":"❌"}),E?.enabled?"Running":"Stopped"]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Schedule"}),T.jsx("div",{style:{color:"#fff",fontWeight:"600"},children:E?.displaySchedule||"Every 15 minutes"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Last Run"}),T.jsx("div",{style:{color:"#fff"},children:P(E?.lastRun)})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"4px"},children:"Total Runs"}),T.jsx("div",{style:{color:"#fff",fontWeight:"600"},children:E?.totalRuns||0})]})]})}),T.jsxs("div",{style:{display:"grid",gap:"16px"},children:[T.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[T.jsx("button",{disabled:D,onClick:()=>{q({enabled:!E?.enabled})},style:{padding:"12px 20px",borderRadius:6,border:"1px solid "+(E?.enabled?"#f87171":"#4ade80"),background:E?.enabled?"#f87171":"#4ade80",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"14px",flex:"1 1 auto"},children:D?"Updating...":E?.enabled?"🛑 Stop Scheduler":"▶️ Start Scheduler"}),T.jsx("button",{disabled:D,onClick:Et,style:{padding:"12px 20px",borderRadius:6,border:"1px solid #6b7280",background:"rgba(255,255,255,0.05)",color:"#fff",fontWeight:"700",cursor:"pointer",fontSize:"14px"},children:"🔄 Refresh Status"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"8px",fontWeight:"600"},children:"Quick Presets:"}),T.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[T.jsx("button",{disabled:D,onClick:()=>{q({schedule:"*/2 * * * *",displaySchedule:"Every 2 minutes (Optimized)"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:"🚀 Optimized (2min)"}),T.jsx("button",{disabled:D,onClick:()=>{q({schedule:"*/5 * * * *",displaySchedule:"Every 5 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:"⚡ Fast (5min)"}),T.jsx("button",{disabled:D,onClick:()=>{q({schedule:"*/10 * * * *",displaySchedule:"Every 10 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #3b82f6",background:"#3b82f6",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:"🏃 Normal (10min)"}),T.jsx("button",{disabled:D,onClick:()=>{q({schedule:"*/15 * * * *",displaySchedule:"Every 15 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #f59e0b",background:"#f59e0b",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:"🔋 Battery Saver (15min)"}),T.jsx("button",{disabled:D,onClick:()=>{q({schedule:"0 * * * *",displaySchedule:"Hourly"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #6b7280",background:"#6b7280",color:"#fff",fontWeight:"700",cursor:D?"not-allowed":"pointer",opacity:D?.7:1,fontSize:"13px"},children:"🐌 Hourly"})]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"12px",color:"#aaa",marginBottom:"8px",fontWeight:"600"},children:"Custom Interval (minutes):"}),T.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[T.jsx("input",{type:"number",min:"1",max:"1440",value:yt,onChange:k=>ht(k.target.value),placeholder:"2",style:{padding:"10px 12px",borderRadius:6,border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:"14px",width:"100px"}}),T.jsx("button",{disabled:D||!yt||yt<1,onClick:()=>{const k=parseInt(yt);k&&k>0&&q({schedule:`*/${k} * * * *`,displaySchedule:`Every ${k} minute${k>1?"s":""} (Custom)`})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"#fff",fontWeight:"700",cursor:D||!yt||yt<1?"not-allowed":"pointer",opacity:D||!yt||yt<1?.5:1,fontSize:"14px"},children:"⚙️ Apply Custom"}),T.jsx("span",{style:{fontSize:"12px",color:"#888"},children:"(1-1440 min)"})]})]})]}),T.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"#bbb"},children:[T.jsxs("div",{style:{marginBottom:"6px"},children:["📊 ",T.jsx("strong",{children:"Stats:"})," Created ",E?.totalEventsCreated||0," geofence events"]}),T.jsxs("div",{style:{marginBottom:"6px"},children:["✅ ",T.jsx("strong",{children:"Checks Performed:"})," ",E?.checked||0," tag/geofence combinations"]}),T.jsxs("div",{children:["🕒 ",T.jsx("strong",{children:"Last Modified:"})," ",E?.lastModified?.toDate?new Date(E.lastModified.toDate()).toLocaleString():"Unknown"]})]}),T.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"#aaa"},children:[T.jsx("div",{style:{fontWeight:"600",color:"#10b981",marginBottom:"6px"},children:"💡 Optimization Active"}),T.jsxs("div",{children:["The geofence monitor uses smart filtering to only check tags with location updates in the last 2 minutes, dramatically reducing database operations and costs. For best results, use the ",T.jsx("strong",{children:"2-minute optimized schedule"}),"."]})]})]})]}),T.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.15)",borderRadius:8,padding:16},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("h3",{style:{fontWeight:700,margin:0,color:"#fff"},children:"Tag Auto-Assignment"}),T.jsx("button",{disabled:y,onClick:async()=>{try{_(!0),await lh(wd,"adminTriggerTagAssignment")({})}catch(k){Z(String(k?.message||k))}finally{_(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"#fff",fontWeight:700,cursor:y?"not-allowed":"pointer",opacity:y?.7:1},children:y?"Assigning...":"Run Tag Assignment"})]}),T.jsx("div",{style:{fontSize:14,color:"#bbb",marginBottom:16},children:"Manually trigger automatic AirTag-to-user assignment based on naming convention"}),T.jsx("div",{style:{fontSize:12,color:"#bbb"},children:"Matches AirTags named with Firebase user IDs to user accounts"})]}),T.jsxs("div",{style:{padding:20,background:"rgba(255,255,255,0.03)",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)"},children:[T.jsx("h2",{style:{fontWeight:700,marginBottom:16,color:"#fff",fontSize:18},children:"📧 Email Monitoring"}),T.jsxs("div",{style:{padding:20,textAlign:"center",color:"#888",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:8},children:[T.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:8,color:"#8b5cf6"},children:"ℹ️ Use Firebase Console for Email Monitoring"}),T.jsx("div",{style:{fontSize:14,marginBottom:16},children:"Email monitoring functions have been removed from the Admin UI due to CORS configuration issues."}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,alignItems:"center"},children:[T.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_emailErrors",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#8b5cf6",color:"#fff",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:"📊 View Email Errors in Firestore"}),T.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_admin~2FemailStats",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#10b981",color:"#fff",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:"📈 View Email Stats in Firestore"})]})]})]})]})]})})]}):T.jsx("div",{style:{padding:24},children:"Not authorized."}):T.jsx("div",{style:{padding:24},children:"Please sign in."})}function DU(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?Number(e.state.tagCount):t.has("tagCount")?Number(t.get("tagCount")):1}function NU(){const e=_s(),t=Sr(),[n,s]=V.useState(null),[o,u]=V.useState(()=>Math.max(10,DU(e))),[f,m]=V.useState(!1),[y,_]=V.useState(""),[E,A]=V.useState(!0),x=Math.max(10,Number(o)||10),N=x,D=purchaseType==="initial",U=D?x:0,W=ia.SETUP_FEE_PER_TAG,Z=D?Am(U):0,it=W*N,$=Z*U,yt=D&&x>1?Math.round((1-Z/ia.BASE_MONTHLY_PRICE)*100):0;V.useEffect(()=>{const Et=Qh(hr,async q=>{if(s(q),q)try{const k=new URLSearchParams(e.search).get("tagCount");k&&u(Number(k))}catch(P){console.error("Error loading purchase page:",P)}else t("/login",{replace:!0});A(!1)});return()=>Et()},[e,t]);const ht=async()=>{if(!n){_("You must be logged in to make a purchase");return}m(!0),_(""),EU(x);try{const Et=yR(of),P=await lh(Et,"createCheckoutSession")({tagCount:x,purchaseType});if(P.data?.url)window.location.href=P.data.url;else throw new Error("No checkout URL returned")}catch(Et){console.error("Purchase error:",Et),_("Error: "+(Et.message||"Unknown error")),m(!1)}};return E?T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:"Checking your account..."})}):T.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:T.jsxs("div",{className:"calculator-card",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:20,padding:"50px 40px",textAlign:"center",backdropFilter:"blur(10px)",maxWidth:400,width:"100%"},children:[T.jsx("h2",{style:{color:"white",fontSize:"2.2rem",fontWeight:600,margin:"0 0 18px 0",letterSpacing:"-0.01em"},children:D?"Purchase Tags":"Purchase Additional Tags"}),T.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"1.1rem",fontWeight:400,margin:"0 0 32px 0"},children:D?"Select the number of tags you want to purchase and proceed to secure checkout.":"Purchase additional AirTags with setup fees. Subscriptions can be managed separately."}),T.jsxs("div",{style:{marginBottom:32},children:[T.jsx("label",{style:{color:"rgba(255,255,255,0.8)",fontWeight:500,fontSize:16,marginBottom:10,display:"block"},children:"Number of tags:"}),T.jsx("input",{type:"number",min:10,max:100,value:o,onChange:Et=>u(Math.max(10,Number(Et.target.value))),disabled:f,style:{width:90,fontSize:18,padding:8,borderRadius:8,border:"1px solid #fff",textAlign:"center",fontWeight:600,background:"rgba(255,255,255,0.08)",color:"white",outline:"none",marginTop:4}}),o<10&&T.jsx("div",{style:{color:"#ffc107",fontSize:13,marginTop:8,fontWeight:500},children:"⚠️ Minimum order is 10 tags"})]}),T.jsxs("div",{style:{background:"rgba(0, 234, 255, 0.08)",border:"1px solid rgba(0, 234, 255, 0.25)",borderRadius:16,padding:"20px 18px",color:"#fff",textAlign:"left",marginBottom:28},children:[it>0&&T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:D?12:0},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Due today"}),T.jsx("div",{style:{fontSize:13,color:"rgba(255,255,255,0.7)"},children:"One-time setup & activation"})]}),T.jsxs("div",{style:{fontSize:20,fontWeight:700},children:["$",it.toFixed(2)]})]}),D&&T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:16,fontWeight:600},children:"Monthly billing (starts in 7 days)"}),T.jsxs("div",{style:{fontSize:13,color:"rgba(255,255,255,0.7)"},children:[`$${Z.toFixed(2)} per tag`,yt>0&&` · ${yt}% volume discount`]})]}),T.jsxs("div",{style:{fontSize:20,fontWeight:700},children:["$",$.toFixed(2)]})]}),T.jsx("p",{style:{fontSize:13,color:"rgba(255,255,255,0.65)",marginTop:16,lineHeight:1.5},children:D?"Setup fees are charged today. Subscription charges begin in 7 days to allow time for shipping and setup.":"Setup fees are charged today. You can activate subscriptions for these tags through your account settings."})]}),T.jsx("button",{className:"pricing-cta",onClick:ht,disabled:f||x<10,style:{background:x<10?"#555":"#00eaff",color:x<10?"#999":"#000",border:"none",borderRadius:12,padding:"16px 0",fontSize:20,fontWeight:700,cursor:f||x<10?"not-allowed":"pointer",width:"100%",marginBottom:10,boxShadow:"0 2px 8px rgba(0,234,255,0.08)",transition:"background 0.2s",letterSpacing:"-0.01em"},onMouseOver:Et=>{x>=10&&!f&&(Et.currentTarget.style.background="#00bcd4")},onMouseOut:Et=>{x>=10&&!f&&(Et.currentTarget.style.background="#00eaff")},children:f?"Redirecting...":`Proceed with ${x} Tag${x>1?"s":""}`}),y&&T.jsx("div",{style:{color:"#ff4d4f",marginTop:18,fontWeight:500},children:y})]})})}function OU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Terms and Conditions"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Last updated: October 8, 2025"})}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"1. Acceptance of Terms"}),T.jsx("p",{children:"By registering for or using TagLogger’s platform (“Service”), you agree to be bound by these Terms and our Privacy Policy. If you do not agree, do not use the Service."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"2. Service Description"}),T.jsx("p",{children:"TagLogger provides a web‑based platform to track Apple AirTag devices, offering real‑time location, historical playback, geofencing, data export, and customizable alerts. We are an independent service and are not affiliated with Apple Inc."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"3. Eligibility & Account Registration"}),T.jsxs("ul",{children:[T.jsx("li",{children:"You must be at least 18 years old and able to form a binding contract."}),T.jsx("li",{children:"You agree to provide accurate, current, and complete information during registration and to keep your account credentials secure."}),T.jsx("li",{children:"You are responsible for all activity under your account."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"4. Fees & Payment"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Tag Purchase"}),": One‑time fee per AirTag, at prices shown in your dashboard (free continental U.S. shipping)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Subscription"}),": Recurring monthly fee per tag, billed automatically. Volume discounts apply to newly purchased tags only (see Pricing Page)."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Payment Methods"}),": Major credit/debit cards and PayPal."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Non‑Refundable"}),": All fees are non‑refundable except as required by law."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Late or Failed Payments"}),": We may suspend your Service until payment is received."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"5. Use Restrictions"}),T.jsxs("p",{children:[T.jsx("strong",{children:"5.1 Lawful and Authorized Use Only."})," You may use the Service only to track assets, equipment, or property that you own, lease, or are otherwise authorized to track. You must not use the Service to track or monitor any person, vehicle, or property without the knowledge and affirmative consent of the individual(s) involved or the lawful owner. You are solely responsible for obtaining and maintaining all necessary permissions and consents under applicable privacy, data‑protection, and anti‑stalking laws."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"5.2 Prohibited Conduct."})," You agree not to use the Service in any manner that:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"(a) violates or circumvents any law or regulation related to electronic surveillance, stalking, or harassment;"}),T.jsx("li",{children:"(b) invades another person’s privacy or misuses location data; or"}),T.jsx("li",{children:"(c) interferes with the rights or safety of others."})]}),T.jsx("p",{children:"TagLogger reserves the right to suspend or terminate your account and cooperate with law enforcement if we reasonably believe the Service is being used unlawfully or without consent."}),T.jsx("p",{children:"You must not disable, modify, or attempt to circumvent anti‑stalking or unwanted‑tracking safeguards (including altering tag speakers, firmware, or alerts), or aid others to do so."}),T.jsx("p",{children:"You must not use the Service to evade or defeat safety features or unwanted‑tracking alerts."}),T.jsx("p",{children:"If you use the Service to track assets involving employees or contractors, you represent you have provided required notices and obtained all consents under applicable labor, privacy, and surveillance laws."}),T.jsx("p",{children:T.jsx("strong",{children:"Additionally, you agree not to:"})}),T.jsxs("ul",{children:[T.jsx("li",{children:"Reverse engineer, decompile, or otherwise attempt to derive source code."}),T.jsx("li",{children:"Scrape, harvest, or extract data from the Service."}),T.jsx("li",{children:"Interfere with the operation or security of the Service."}),T.jsx("li",{children:"Use the Service for any unlawful purpose or without obtaining all required consents."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"6. Ownership & License"}),T.jsxs("ul",{children:[T.jsx("li",{children:"TagLogger and its licensors retain all rights in the Service, including software, trademarks, and content."}),T.jsx("li",{children:"You own your location and account data (“Customer Data”) but grant us a worldwide, royalty‑free license to host, process, and display it as necessary to provide the Service."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"7. Privacy & Data Security"}),T.jsx("p",{children:"Our Privacy Policy explains how we collect, use, share, and protect Customer Data. You are responsible for ensuring your use of the Service complies with all applicable privacy and surveillance laws."}),T.jsx("p",{children:"TagLogger provides tools for lawful location tracking. We do not monitor how you use the Service, but you are solely responsible for ensuring your use and collection of location data comply with privacy and surveillance laws in all jurisdictions where tracking occurs."}),T.jsx("p",{children:"You represent and warrant that you will obtain and maintain all required consents from tracked individuals and provide any legally required notices."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"8. Disclaimers"}),T.jsx("p",{children:"The Service is provided “AS IS” and “AS AVAILABLE,” with all faults. TAGLOGGER AND ITS AFFILIATES, LICENSORS, AND SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Any warranty of merchantability or fitness for a particular purpose;"}),T.jsx("li",{children:"Any warranty of uninterrupted, error‑free, secure, or virus‑free operation;"}),T.jsx("li",{children:"Any warranty as to the accuracy, completeness, or timeliness of location data or other information;"}),T.jsx("li",{children:"Any warranty that the Service complies with applicable laws or regulations."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"No Emergency Use."})," The Service is not a life‑safety or emergency service and must not be relied upon for emergency response."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"9. Limitation of Liability"}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.1 EXCLUSION OF DAMAGES."})," TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL TAGLOGGER OR ITS AFFILIATES, LICENSORS, OR SUPPLIERS BE LIABLE FOR ANY:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR GOODWILL), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES;"}),T.jsx("li",{children:"DAMAGES ARISING FROM THIRD‑PARTY CLAIMS OR ACTIONS."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.2 DAMAGE CAP."})," TAGLOGGER’S AGGREGATE LIABILITY FOR ALL CLAIMS ARISING OUT OF OR RELATING TO THE SERVICE, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, SHALL NOT EXCEED THE GREATER OF:"]}),T.jsxs("ul",{children:[T.jsx("li",{children:"(A) THE TOTAL SUBSCRIPTION FEES YOU PAID IN THE THREE (3) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM; OR"}),T.jsx("li",{children:"(B) ONE HUNDRED DOLLARS (US $100)."})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.3 FORCE MAJEURE."})," TAGLOGGER SHALL NOT BE LIABLE FOR FAILURE OR DELAY IN PERFORMANCE DUE TO CAUSES BEYOND ITS REASONABLE CONTROL, INCLUDING NATURAL DISASTERS, WAR, TERRORISM, RIOTS, EMBARGOES, GOVERNMENT ACTIONS, LABOR DISPUTES, OR INTERNET/NETWORK FAILURES."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"9.4 ALLOCATION OF RISK."})," THESE LIMITATIONS ARE AN ESSENTIAL PART OF THE BARGAIN BETWEEN YOU AND TAGLOGGER. YOU ACKNOWLEDGE THAT WITHOUT THEM, THE SUBSCRIPTION FEES WOULD BE SUBSTANTIALLY HIGHER."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"10. Indemnification"}),T.jsx("p",{children:"You agree to indemnify, defend, and hold harmless TagLogger and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys’ fees) arising out of:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Your use of the Service;"}),T.jsx("li",{children:"Your violation of these Terms; or"}),T.jsx("li",{children:"Any third‑party claim alleging infringement of intellectual property or privacy rights."})]}),T.jsx("p",{children:"In addition to the above, you specifically agree to indemnify, defend, and hold harmless TagLogger from any claims, investigations, or legal actions arising out of or related to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Your failure to obtain consent before tracking any individual or property; or"}),T.jsx("li",{children:"Your unlawful or unauthorized use of location data collected through the Service."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"11. Termination"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"By You:"})," You may cancel your subscription at any time via the dashboard; cancellation is effective at the end of your current billing cycle."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"By Us:"})," We may suspend or terminate your account for non‑payment, breach of these Terms, compliance with legal or regulatory requirements, or if we detect or receive credible reports of unlawful tracking activity or use without required consent, and we may cooperate with law enforcement."]}),T.jsx("li",{children:"Upon termination, your right to access the Service ends immediately, and we may delete your Customer Data."})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"12. Changes to Service or Terms"}),T.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue the Service or any part thereof at any time. We may update these Terms by posting the revised version with a new “Last updated” date. Your continued use after changes constitutes acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"13. Governing Law & Dispute Resolution"}),T.jsx("p",{children:"These Terms are governed by California law (excluding conflict‑of‑law rules). Any dispute arising under these Terms will be resolved by binding arbitration in Los Angeles County under the American Arbitration Association’s rules. You and TagLogger each waive the right to a jury trial and to participate in any class‑action lawsuit."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"14. Legal Compliance"}),T.jsx("p",{children:"TagLogger’s Service is intended for lawful asset‑tracking purposes. TagLogger does not condone or facilitate the use of its technology for stalking, harassment, or unauthorized surveillance. Users are solely responsible for ensuring their use complies with all applicable laws."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Export Control & Sanctions."})," You represent you are not located in, under control of, or a national/resident of any embargoed country or prohibited party list, and you will comply with U.S./EU export control and sanctions laws."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"15. Severability & Waiver"}),T.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, the remaining provisions remain in full force. Our failure to enforce any right or provision will not constitute a waiver of future enforcement."}),T.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",textAlign:"center"},children:T.jsx("em",{children:"End of Terms and Conditions"})})]})})}function kU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Privacy Policy"}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Effective Date: October 8, 2025"})}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:T.jsx("strong",{children:"Version: 1.0"})}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Introduction"}),T.jsx("p",{children:"At TagLogger, we are committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our services. By using TagLogger, you agree to the practices described in this policy."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Data Controller:"})," TagLogger is the data controller responsible for your personal information. For any questions or concerns about this policy or your data, please contact us via the in-app support form or through our Contact Us page."]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Information We Collect"}),T.jsx("p",{children:"We collect the following types of information to provide and improve our services:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Location Data:"})," Latitude, longitude, and timestamps associated with your AirTags for location history and tracking features."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"User Identification:"})," Account details like your email address or username to link location data to your account."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Used to authenticate users, remember preferences, and analyze website usage."]})]}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Use Your Information"}),T.jsx("p",{children:"We use your information to:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Provide the TagLogger service, including location history, geofencing, inventory management, and interactive timelines."}),T.jsx("li",{children:"Improve our services, troubleshoot issues, and develop new features."}),T.jsx("li",{children:"Communicate with you about your account, updates, or support matters."})]}),T.jsx("p",{children:"TagLogger processes location data solely on behalf of the account holder and for the purpose of providing the tracking features you request."}),T.jsx("p",{children:"You are responsible for ensuring that any collection or sharing of location data with respect to other individuals complies with applicable privacy and surveillance laws, including obtaining consent where required."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Share Your Information"}),T.jsx("p",{children:"We do not share your location data with third parties, except as follows:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Trusted Service Providers:"})," We may share data with trusted vendors (e.g., for hosting, analytics, or payment processing) who are bound by confidentiality obligations and use your data only to perform services for us."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Legal Requirements:"})," When required by law, such as a subpoena or court order."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Protection of Rights:"})," To protect TagLogger, our users, or others."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"With Your Consent:"})," If you explicitly agree to share your data."]})]}),T.jsx("p",{children:"We may suspend or terminate access to the Service or cooperate with law enforcement if we detect or receive credible reports of unlawful tracking activity."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Your Choices and Rights"}),T.jsx("p",{children:"You can:"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Access:"})," View your data through your account dashboard."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Correct:"})," Update inaccuracies in your account settings."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Delete:"})," Request data deletion, subject to legal retention obligations."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Object:"})," Opt out of certain data processing where permitted by law."]})]}),T.jsx("p",{children:"To exercise these rights, use the in-app support form or visit our Contact Us page."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Security"}),T.jsx("p",{children:"We use industry-standard encryption, access controls, and secure servers to protect your data. However, no system is fully immune to risks."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"International Data Transfers"}),T.jsx("p",{children:"Your data may be processed in other countries, with safeguards to comply with applicable laws."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Children’s Privacy"}),T.jsx("p",{children:"Our services are not intended for anyone under 18. We do not knowingly collect data from individuals under 18, and we will delete such data if discovered."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Business Use"}),T.jsx("p",{children:"If you use TagLogger for business (e.g., tracking shipments), you must comply with privacy laws and obtain necessary consents."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Data Retention"}),T.jsx("p",{children:"We keep your data while your account is active or as needed for the service. Upon deletion requests, we remove it unless legally required to retain it."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Cookies and Tracking Technologies"}),T.jsx("p",{children:"Cookies help with authentication, preferences, and analytics. Manage them via your browser settings, though this may limit functionality."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Changes to This Policy"}),T.jsx("p",{children:"We may update this policy and will notify you of significant changes via our website. Continued use after updates implies acceptance."}),T.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Contact Us"}),T.jsx("p",{children:"For questions or requests, reach us via the in-app support form or Contact Us."})]})})}function VU(){return V.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:T.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[T.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"Contact"}),T.jsxs("p",{children:["Have questions or need support? Reach out to us at ",T.jsx("a",{href:"mailto:info@ipekai.com",style:{color:"#00eaff",textDecoration:"underline"},children:"info@ipekai.com"}),"."]}),T.jsx("p",{children:"We aim to respond within 1-2 business days."})]})})}function jU(){return T.jsx("footer",{className:"global-footer",role:"contentinfo",children:T.jsxs("div",{className:"footer-content",children:[T.jsx("div",{className:"footer-brand",children:"TagLogger"}),T.jsxs("nav",{className:"footer-nav","aria-label":"Footer",children:[T.jsx(hh,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),T.jsx(hh,{to:"/privacy",className:"footer-link",children:"Data Privacy"}),T.jsx(hh,{to:"/contact",className:"footer-link",children:"Contact"})]}),T.jsxs("div",{className:"footer-copy",children:["© ",new Date().getFullYear()," TagLogger. All rights reserved."]}),T.jsx("div",{className:"footer-disclaimer",style:{fontSize:"0.6rem",color:"#aaa",marginTop:"0px"},children:"An independent service, not affiliated with Apple Inc."})]})})}const zU=V.lazy(()=>lM(()=>import("./MapPage-7PHcUMjL.js"),__vite__mapDeps([0,1])));function UU(){const[e,t]=V.useState(null);return T.jsxs(T.Fragment,{children:[T.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),T.jsx(B5,{scrollYProgress:e}),T.jsxs(S2,{children:[T.jsx(fs,{path:"/",element:T.jsx(IS,{onScrollProgress:t})}),T.jsx(fs,{path:"/login",element:T.jsx(IU,{})}),T.jsx(fs,{path:"/purchase",element:T.jsx(NU,{})}),T.jsx(fs,{path:"/map",element:T.jsx(xd,{children:T.jsx(V.Suspense,{fallback:null,children:T.jsx(zU,{})})})}),T.jsx(fs,{path:"/dashboard",element:T.jsx(xd,{children:T.jsx(MS,{})})}),T.jsx(fs,{path:"/settings",element:T.jsx(xd,{children:T.jsx(MS,{})})}),T.jsx(fs,{path:"/admin",element:T.jsx(xd,{adminOnly:!0,requireEntitlement:!1,children:T.jsx(LU,{})})}),T.jsx(fs,{path:"/terms",element:T.jsx(OU,{})}),T.jsx(fs,{path:"/privacy",element:T.jsx(kU,{})}),T.jsx(fs,{path:"/contact",element:T.jsx(VU,{})}),T.jsx(fs,{path:"*",element:T.jsx(IS,{onScrollProgress:t})})]}),T.jsx(jU,{})]})}OP.createRoot(document.getElementById("root")).render(T.jsx(V.StrictMode,{children:T.jsx(K2,{children:T.jsx(U5,{children:T.jsx(UU,{})})})}));export{up as M,hp as T,ah as a,i_ as b,BU as c,yi as d,hr as e,Qh as f,gr as g,qU as h,sU as i,T as j,GU as k,ac as l,p5 as o,n_ as q,V as r,WU as s,HU as u,tx as w};
