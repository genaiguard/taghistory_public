const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapPage-Bitzc8N7.js","assets/MapPage-7WyE4uYj.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var t9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vg={exports:{}},nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function AP(){if(ew)return nh;ew=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:e,type:s,key:h,ref:o!==void 0?o:null,props:c}}return nh.Fragment=t,nh.jsx=n,nh.jsxs=n,nh}var nw;function CP(){return nw||(nw=1,Vg.exports=AP()),Vg.exports}var _=CP(),jg={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function RP(){if(iw)return Jt;iw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function Z(O,ot,bt){this.props=O,this.context=ot,this.refs=q,this.updater=bt||N}Z.prototype.isReactComponent={},Z.prototype.setState=function(O,ot){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ot,"setState")},Z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=Z.prototype;function ct(O,ot,bt){this.props=O,this.context=ot,this.refs=q,this.updater=bt||N}var J=ct.prototype=new $;J.constructor=ct,V(J,Z.prototype),J.isPureReactComponent=!0;var dt=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function z(O,ot,bt,yt,xt,Ct){return bt=Ct.ref,{$$typeof:e,type:O,key:ot,ref:bt!==void 0?bt:null,props:Ct}}function k(O,ot){return z(O.type,ot,void 0,void 0,void 0,O.props)}function j(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function G(O){var ot={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(bt){return ot[bt]})}var W=/\/+/g;function Y(O,ot){return typeof O=="object"&&O!==null&&O.key!=null?G(""+O.key):ot.toString(36)}function B(){}function jt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(B,B):(O.status="pending",O.then(function(ot){O.status==="pending"&&(O.status="fulfilled",O.value=ot)},function(ot){O.status==="pending"&&(O.status="rejected",O.reason=ot)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,ot,bt,yt,xt){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var St=!1;if(O===null)St=!0;else switch(Ct){case"bigint":case"string":case"number":St=!0;break;case"object":switch(O.$$typeof){case e:case t:St=!0;break;case w:return St=O._init,X(St(O._payload),ot,bt,yt,xt)}}if(St)return xt=xt(O),St=yt===""?"."+Y(O,0):yt,dt(xt)?(bt="",St!=null&&(bt=St.replace(W,"$&/")+"/"),X(xt,ot,bt,"",function(li){return li})):xt!=null&&(j(xt)&&(xt=k(xt,bt+(xt.key==null||O&&O.key===xt.key?"":(""+xt.key).replace(W,"$&/")+"/")+St)),ot.push(xt)),1;St=0;var ge=yt===""?".":yt+":";if(dt(O))for(var re=0;re<O.length;re++)yt=O[re],Ct=ge+Y(yt,re),St+=X(yt,ot,bt,Ct,xt);else if(re=E(O),typeof re=="function")for(O=re.call(O),re=0;!(yt=O.next()).done;)yt=yt.value,Ct=ge+Y(yt,re++),St+=X(yt,ot,bt,Ct,xt);else if(Ct==="object"){if(typeof O.then=="function")return X(jt(O),ot,bt,yt,xt);throw ot=String(O),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return St}function U(O,ot,bt){if(O==null)return O;var yt=[],xt=0;return X(O,yt,"","",function(Ct){return ot.call(bt,Ct,xt++)}),yt}function at(O){if(O._status===-1){var ot=O._result;ot=ot(),ot.then(function(bt){(O._status===0||O._status===-1)&&(O._status=1,O._result=bt)},function(bt){(O._status===0||O._status===-1)&&(O._status=2,O._result=bt)}),O._status===-1&&(O._status=0,O._result=ot)}if(O._status===1)return O._result.default;throw O._result}var rt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Et(){}return Jt.Children={map:U,forEach:function(O,ot,bt){U(O,function(){ot.apply(this,arguments)},bt)},count:function(O){var ot=0;return U(O,function(){ot++}),ot},toArray:function(O){return U(O,function(ot){return ot})||[]},only:function(O){if(!j(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Jt.Component=Z,Jt.Fragment=n,Jt.Profiler=o,Jt.PureComponent=ct,Jt.StrictMode=s,Jt.Suspense=y,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return tt.H.useMemoCache(O)}},Jt.cache=function(O){return function(){return O.apply(null,arguments)}},Jt.cloneElement=function(O,ot,bt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var yt=V({},O.props),xt=O.key,Ct=void 0;if(ot!=null)for(St in ot.ref!==void 0&&(Ct=void 0),ot.key!==void 0&&(xt=""+ot.key),ot)!wt.call(ot,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&ot.ref===void 0||(yt[St]=ot[St]);var St=arguments.length-2;if(St===1)yt.children=bt;else if(1<St){for(var ge=Array(St),re=0;re<St;re++)ge[re]=arguments[re+2];yt.children=ge}return z(O.type,xt,void 0,void 0,Ct,yt)},Jt.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Jt.createElement=function(O,ot,bt){var yt,xt={},Ct=null;if(ot!=null)for(yt in ot.key!==void 0&&(Ct=""+ot.key),ot)wt.call(ot,yt)&&yt!=="key"&&yt!=="__self"&&yt!=="__source"&&(xt[yt]=ot[yt]);var St=arguments.length-2;if(St===1)xt.children=bt;else if(1<St){for(var ge=Array(St),re=0;re<St;re++)ge[re]=arguments[re+2];xt.children=ge}if(O&&O.defaultProps)for(yt in St=O.defaultProps,St)xt[yt]===void 0&&(xt[yt]=St[yt]);return z(O,Ct,void 0,void 0,null,xt)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(O){return{$$typeof:m,render:O}},Jt.isValidElement=j,Jt.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:at}},Jt.memo=function(O,ot){return{$$typeof:v,type:O,compare:ot===void 0?null:ot}},Jt.startTransition=function(O){var ot=tt.T,bt={};tt.T=bt;try{var yt=O(),xt=tt.S;xt!==null&&xt(bt,yt),typeof yt=="object"&&yt!==null&&typeof yt.then=="function"&&yt.then(Et,rt)}catch(Ct){rt(Ct)}finally{tt.T=ot}},Jt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Jt.use=function(O){return tt.H.use(O)},Jt.useActionState=function(O,ot,bt){return tt.H.useActionState(O,ot,bt)},Jt.useCallback=function(O,ot){return tt.H.useCallback(O,ot)},Jt.useContext=function(O){return tt.H.useContext(O)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(O,ot){return tt.H.useDeferredValue(O,ot)},Jt.useEffect=function(O,ot,bt){var yt=tt.H;if(typeof bt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return yt.useEffect(O,ot)},Jt.useId=function(){return tt.H.useId()},Jt.useImperativeHandle=function(O,ot,bt){return tt.H.useImperativeHandle(O,ot,bt)},Jt.useInsertionEffect=function(O,ot){return tt.H.useInsertionEffect(O,ot)},Jt.useLayoutEffect=function(O,ot){return tt.H.useLayoutEffect(O,ot)},Jt.useMemo=function(O,ot){return tt.H.useMemo(O,ot)},Jt.useOptimistic=function(O,ot){return tt.H.useOptimistic(O,ot)},Jt.useReducer=function(O,ot,bt){return tt.H.useReducer(O,ot,bt)},Jt.useRef=function(O){return tt.H.useRef(O)},Jt.useState=function(O){return tt.H.useState(O)},Jt.useSyncExternalStore=function(O,ot,bt){return tt.H.useSyncExternalStore(O,ot,bt)},Jt.useTransition=function(){return tt.H.useTransition()},Jt.version="19.1.0",Jt}var sw;function __(){return sw||(sw=1,jg.exports=RP()),jg.exports}var D=__();const vy=R1(D);var Ug={exports:{}},ih={},zg={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function IP(){return rw||(rw=1,function(e){function t(U,at){var rt=U.length;U.push(at);t:for(;0<rt;){var Et=rt-1>>>1,O=U[Et];if(0<o(O,at))U[Et]=at,U[rt]=O,rt=Et;else break t}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var at=U[0],rt=U.pop();if(rt!==at){U[0]=rt;t:for(var Et=0,O=U.length,ot=O>>>1;Et<ot;){var bt=2*(Et+1)-1,yt=U[bt],xt=bt+1,Ct=U[xt];if(0>o(yt,rt))xt<O&&0>o(Ct,yt)?(U[Et]=Ct,U[xt]=rt,Et=xt):(U[Et]=yt,U[bt]=rt,Et=bt);else if(xt<O&&0>o(Ct,rt))U[Et]=Ct,U[xt]=rt,Et=xt;else break t}}return at}function o(U,at){var rt=U.sortIndex-at.sortIndex;return rt!==0?rt:U.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();e.unstable_now=function(){return h.now()-m}}var y=[],v=[],w=1,A=null,E=3,N=!1,V=!1,q=!1,Z=!1,$=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function dt(U){for(var at=n(v);at!==null;){if(at.callback===null)s(v);else if(at.startTime<=U)s(v),at.sortIndex=at.expirationTime,t(y,at);else break;at=n(v)}}function tt(U){if(q=!1,dt(U),!V)if(n(y)!==null)V=!0,wt||(wt=!0,Y());else{var at=n(v);at!==null&&X(tt,at.startTime-U)}}var wt=!1,z=-1,k=5,j=-1;function G(){return Z?!0:!(e.unstable_now()-j<k)}function W(){if(Z=!1,wt){var U=e.unstable_now();j=U;var at=!0;try{t:{V=!1,q&&(q=!1,ct(z),z=-1),N=!0;var rt=E;try{e:{for(dt(U),A=n(y);A!==null&&!(A.expirationTime>U&&G());){var Et=A.callback;if(typeof Et=="function"){A.callback=null,E=A.priorityLevel;var O=Et(A.expirationTime<=U);if(U=e.unstable_now(),typeof O=="function"){A.callback=O,dt(U),at=!0;break e}A===n(y)&&s(y),dt(U)}else s(y);A=n(y)}if(A!==null)at=!0;else{var ot=n(v);ot!==null&&X(tt,ot.startTime-U),at=!1}}break t}finally{A=null,E=rt,N=!1}at=void 0}}finally{at?Y():wt=!1}}}var Y;if(typeof J=="function")Y=function(){J(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,jt=B.port2;B.port1.onmessage=W,Y=function(){jt.postMessage(null)}}else Y=function(){$(W,0)};function X(U,at){z=$(function(){U(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(U){switch(E){case 1:case 2:case 3:var at=3;break;default:at=E}var rt=E;E=at;try{return U()}finally{E=rt}},e.unstable_requestPaint=function(){Z=!0},e.unstable_runWithPriority=function(U,at){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var rt=E;E=U;try{return at()}finally{E=rt}},e.unstable_scheduleCallback=function(U,at,rt){var Et=e.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?Et+rt:Et):rt=Et,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=rt+O,U={id:w++,callback:at,priorityLevel:U,startTime:rt,expirationTime:O,sortIndex:-1},rt>Et?(U.sortIndex=rt,t(v,U),n(y)===null&&U===n(v)&&(q?(ct(z),z=-1):q=!0,X(tt,rt-Et))):(U.sortIndex=O,t(y,U),V||N||(V=!0,wt||(wt=!0,Y()))),U},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(U){var at=E;return function(){var rt=E;E=at;try{return U.apply(this,arguments)}finally{E=rt}}}}(Bg)),Bg}var aw;function PP(){return aw||(aw=1,zg.exports=IP()),zg.exports}var Fg={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function NP(){if(ow)return ii;ow=1;var e=__();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:v,implementation:w}}var h=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ii.createPortal=function(y,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,w)},ii.flushSync=function(y){var v=h.T,w=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=v,s.p=w,s.d.f()}},ii.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},ii.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ii.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var w=v.as,A=m(w,v.crossOrigin),E=typeof v.integrity=="string"?v.integrity:void 0,N=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:E,fetchPriority:N}):w==="script"&&s.d.X(y,{crossOrigin:A,integrity:E,fetchPriority:N,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ii.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=m(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},ii.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,A=m(w,v.crossOrigin);s.d.L(y,w,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ii.preloadModule=function(y,v){if(typeof y=="string")if(v){var w=m(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},ii.requestFormReset=function(y){s.d.r(y)},ii.unstable_batchedUpdates=function(y,v){return y(v)},ii.useFormState=function(y,v,w){return h.H.useFormState(y,v,w)},ii.useFormStatus=function(){return h.H.useHostTransitionStatus()},ii.version="19.1.0",ii}var lw;function I1(){if(lw)return Fg.exports;lw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fg.exports=NP(),Fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function LP(){if(cw)return ih;cw=1;var e=PP(),t=__(),n=I1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function h(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(c(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,d=r;;){var g=l.return;if(g===null)break;var T=g.alternate;if(T===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===T.child){for(T=g.child;T;){if(T===l)return m(g),i;if(T===d)return m(g),r;T=T.sibling}throw Error(s(188))}if(l.return!==d.return)l=g,d=T;else{for(var R=!1,P=g.child;P;){if(P===l){R=!0,l=g,d=T;break}if(P===d){R=!0,d=g,l=T;break}P=P.sibling}if(!R){for(P=T.child;P;){if(P===l){R=!0,l=T,d=g;break}if(P===d){R=!0,d=T,l=g;break}P=P.sibling}if(!R)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),J=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function jt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case Z:return"Profiler";case q:return"StrictMode";case tt:return"Suspense";case wt:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case J:return(i.displayName||"Context")+".Provider";case ct:return(i._context.displayName||"Context")+".Consumer";case dt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return r=i.displayName||null,r!==null?r:jt(i.type)||"Memo";case k:r=i._payload,i=i._init;try{return jt(i(r))}catch{}}return null}var X=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},Et=[],O=-1;function ot(i){return{current:i}}function bt(i){0>O||(i.current=Et[O],Et[O]=null,O--)}function yt(i,r){O++,Et[O]=i.current,i.current=r}var xt=ot(null),Ct=ot(null),St=ot(null),ge=ot(null);function re(i,r){switch(yt(St,r),yt(Ct,i),yt(xt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ib(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ib(r),i=Pb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}bt(xt),yt(xt,i)}function li(){bt(xt),bt(Ct),bt(St)}function wi(i){i.memoizedState!==null&&yt(ge,i);var r=xt.current,l=Pb(r,i.type);r!==l&&(yt(Ct,i),yt(xt,l))}function ci(i){Ct.current===i&&(bt(xt),bt(Ct)),ge.current===i&&(bt(ge),Xu._currentValue=rt)}var ui=Object.prototype.hasOwnProperty,ji=e.unstable_scheduleCallback,Os=e.unstable_cancelCallback,ve=e.unstable_shouldYield,We=e.unstable_requestPaint,fn=e.unstable_now,rs=e.unstable_getCurrentPriorityLevel,zr=e.unstable_ImmediatePriority,as=e.unstable_UserBlockingPriority,hi=e.unstable_NormalPriority,Br=e.unstable_LowPriority,os=e.unstable_IdlePriority,Fr=e.log,ar=e.unstable_setDisableYieldValue,Te=null,ne=null;function mn(i){if(typeof Fr=="function"&&ar(i),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(Te,i)}catch{}}var pn=Math.clz32?Math.clz32:Ee,Xt=Math.log,Dt=Math.LN2;function Ee(i){return i>>>=0,i===0?32:31-(Xt(i)/Dt|0)|0}var rn=256,an=4194304;function In(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vs(i,r,l){var d=i.pendingLanes;if(d===0)return 0;var g=0,T=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var P=d&134217727;return P!==0?(d=P&~T,d!==0?g=In(d):(R&=P,R!==0?g=In(R):l||(l=P&~i,l!==0&&(g=In(l))))):(P=d&~T,P!==0?g=In(P):R!==0?g=In(R):l||(l=d&~i,l!==0&&(g=In(l)))),g===0?0:r!==0&&r!==g&&(r&T)===0&&(T=g&-g,l=r&-r,T>=l||T===32&&(l&4194048)!==0)?r:g}function Ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Yo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var i=rn;return rn<<=1,(rn&4194048)===0&&(rn=256),i}function Na(){var i=an;return an<<=1,(an&62914560)===0&&(an=4194304),i}function ls(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function cs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xo(i,r,l,d,g,T){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,H=i.expirationTimes,st=i.hiddenUpdates;for(l=R&~l;0<l;){var mt=31-pn(l),_t=1<<mt;P[mt]=0,H[mt]=-1;var lt=st[mt];if(lt!==null)for(st[mt]=null,mt=0;mt<lt.length;mt++){var ut=lt[mt];ut!==null&&(ut.lane&=-536870913)}l&=~_t}d!==0&&us(i,d,0),T!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=T&~(R&~r))}function us(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-pn(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|l&4194090}function Qo(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var d=31-pn(l),g=1<<d;g&r|i[d]&r&&(i[d]|=r),l&=~g}}function or(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function La(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function lr(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:Yb(i.type))}function Ma(i,r){var l=at.p;try{return at.p=i,r()}finally{at.p=l}}var De=Math.random().toString(36).slice(2),on="__reactFiber$"+De,Qe="__reactProps$"+De,xi="__reactContainer$"+De,Xn="__reactEvents$"+De,kt="__reactListeners$"+De,js="__reactHandles$"+De,Jo="__reactResources$"+De,cr="__reactMarker$"+De;function Us(i){delete i[on],delete i[Qe],delete i[Xn],delete i[kt],delete i[js]}function zi(i){var r=i[on];if(r)return r;for(var l=i.parentNode;l;){if(r=l[xi]||l[on]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Db(i);i!==null;){if(l=i[on])return l;i=Db(i)}return r}i=l,l=i.parentNode}return null}function Bi(i){if(i=i[on]||i[xi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function zn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Pn(i){var r=i[Jo];return r||(r=i[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ze(i){i[cr]=!0}var tl=new Set,Da={};function Fi(i,r){hs(i,r),hs(i+"Capture",r)}function hs(i,r){for(Da[i]=r,i=0;i<r.length;i++)tl.add(r[i])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},qr={};function Zl(i){return ui.call(qr,i)?!0:ui.call(Hr,i)?!1:Wl.test(i)?qr[i]=!0:(Hr[i]=!0,!1)}function ur(i,r,l){if(Zl(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function ds(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function En(i,r,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+d)}}var zs,hr;function fs(i){if(zs===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);zs=r&&r[1]||"",hr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+i+hr}var Gr=!1;function ms(i,r){if(!i||Gr)return"";Gr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(ut){var lt=ut}Reflect.construct(i,[],_t)}else{try{_t.call()}catch(ut){lt=ut}i.call(_t.prototype)}}else{try{throw Error()}catch(ut){lt=ut}(_t=i())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(ut){if(ut&&lt&&typeof ut.stack=="string")return[ut.stack,lt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=d.DetermineComponentFrameRoot(),R=T[0],P=T[1];if(R&&P){var H=R.split(`
`),st=P.split(`
`);for(g=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;g<st.length&&!st[g].includes("DetermineComponentFrameRoot");)g++;if(d===H.length||g===st.length)for(d=H.length-1,g=st.length-1;1<=d&&0<=g&&H[d]!==st[g];)g--;for(;1<=d&&0<=g;d--,g--)if(H[d]!==st[g]){if(d!==1||g!==1)do if(d--,g--,0>g||H[d]!==st[g]){var mt=`
`+H[d].replace(" at new "," at ");return i.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",i.displayName)),mt}while(1<=d&&0<=g);break}}}finally{Gr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?fs(l):""}function ie(i){switch(i.tag){case 26:case 27:case 5:return fs(i.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 15:return ms(i.type,!1);case 11:return ms(i.type.render,!1);case 1:return ms(i.type,!0);case 31:return fs("Activity");default:return""}}function be(i){try{var r="";do r+=ie(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ps(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dr(i){var r=ps(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),d=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,T=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(R){d=""+R,T.call(this,R)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function fr(i){i._valueTracker||(i._valueTracker=dr(i))}function $t(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return i&&(d=ps(i)?i.checked?"true":"false":i.value),i=d,i!==l?(r.setValue(i),!0):!1}function Se(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var el=/[\n"\\]/g;function Be(i){return i.replace(el,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ke(i,r,l,d,g,T,R,P){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),r!=null?R==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+gn(r)):i.value!==""+gn(r)&&(i.value=""+gn(r)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),r!=null?Hi(i,R,gn(r)):l!=null?Hi(i,R,gn(l)):d!=null&&i.removeAttribute("value"),g==null&&T!=null&&(i.defaultChecked=!!T),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+gn(P):i.removeAttribute("name")}function Wr(i,r,l,d,g,T,R,P){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.type=T),r!=null||l!=null){if(!(T!=="submit"&&T!=="reset"||r!=null))return;l=l!=null?""+gn(l):"",r=r!=null?""+gn(r):l,P||r===i.value||(i.value=r),i.defaultValue=r}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=P?i.checked:!!d,i.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Hi(i,r,l){r==="number"&&Se(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Bn(i,r,l,d){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&d&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Ft(i,r,l){if(r!=null&&(r=""+gn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+gn(l):""}function di(i,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(s(92));if(X(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=gn(r),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d)}function Nn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ka(i,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,l):typeof l!="number"||l===0||qi.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Bs(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var g in r)d=r[g],r.hasOwnProperty(g)&&l[g]!==d&&ka(i,g,d)}else for(var T in r)r.hasOwnProperty(T)&&ka(i,T,r[T])}function Zr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(i){return Oa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Gi=null;function Fn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gs=null,Wi=null;function il(i){var r=Bi(i);if(r&&(i=r.stateNode)){var l=i[Qe]||null;t:switch(i=r.stateNode,r.type){case"input":if(ke(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Be(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==i&&d.form===i.form){var g=d[Qe]||null;if(!g)throw Error(s(90));ke(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===i.form&&$t(d)}break t;case"textarea":Ft(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Bn(i,!!l.multiple,r,!1)}}}var Ut=!1;function fi(i,r,l){if(Ut)return i(r,l);Ut=!0;try{var d=i(r);return d}finally{if(Ut=!1,(gs!==null||Wi!==null)&&(Kd(),gs&&(r=gs,i=Wi,Wi=gs=null,il(r),i)))for(r=0;r<i.length;r++)il(i[r])}}function fe(i,r){var l=i.stateNode;if(l===null)return null;var d=l[Qe]||null;if(d===null)return null;l=d[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=!1;if(Ei)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Qn=!1}var Si=null,Jn=null,Zi=null;function Hs(){if(Zi)return Zi;var i,r=Jn,l=r.length,d,g="value"in Si?Si.value:Si.textContent,T=g.length;for(i=0;i<l&&r[i]===g[i];i++);var R=l-i;for(d=1;d<=R&&r[l-d]===g[T-d];d++);return Zi=g.slice(i,1<d?1-d:void 0)}function Re(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ln(){return!0}function Va(){return!1}function ln(i){function r(l,d,g,T,R){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=T,this.target=R,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(T):T[P]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ln:Va,this.isPropagationStopped=Va,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=ln(ye),qs=w({},ye,{view:0,detail:0}),$l=ln(qs),Yr,Qt,ys,Sn=w({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ys&&(ys&&i.type==="mousemove"?(Yr=i.screenX-ys.screenX,Qt=i.screenY-ys.screenY):Qt=Yr=0,ys=i),Yr)},movementY:function(i){return"movementY"in i?i.movementY:Qt}}),Mn=ln(Sn),sl=w({},Sn,{dataTransfer:0}),mu=ln(sl),Gs=w({},qs,{relatedTarget:0}),ja=ln(Gs),Ua=w({},ye,{animationName:0,elapsedTime:0,pseudoElement:0}),za=ln(Ua),Yl=w({},ye,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pr=ln(Yl),pu=w({},ye,{data:0}),ti=ln(pu),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ba(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=$i[i])?!!r[i]:!1}function gr(){return Ba}var Fa=w({},qs,{key:function(i){if(i.key){var r=Kr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Re(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?Re(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Re(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ha=ln(Fa),al=w({},Sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=ln(al),Ws=w({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),Kl=ln(Ws),Ga=w({},ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xl=ln(Ga),ol=w({},Sn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Xr=ln(ol),yn=w({},ye,{newState:0,oldState:0}),_s=ln(yn),Ql=[9,13,27,32],ei=Ei&&"CompositionEvent"in window,f=null;Ei&&"documentMode"in document&&(f=document.documentMode);var x=Ei&&"TextEvent"in window&&!f,C=Ei&&(!ei||f&&8<f&&11>=f),M=" ",et=!1;function ft(i,r){switch(i){case"keyup":return Ql.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function At(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var le=!1;function Je(i,r){switch(i){case"compositionend":return At(r);case"keypress":return r.which!==32?null:(et=!0,M);case"textInput":return i=r.data,i===M&&et?null:i;default:return null}}function ce(i,r){if(le)return i==="compositionend"||!ei&&ft(i,r)?(i=Hs(),Zi=Jn=Si=null,le=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return C&&r.locale!=="ko"?null:r.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!we[i.type]:r==="textarea"}function Zs(i,r,l,d){gs?Wi?Wi.push(d):Wi=[d]:gs=d,r=nf(r,"onChange"),0<r.length&&(l=new $r("onChange","change",null,l,d),i.push({event:l,listeners:r}))}var Le=null,vs=null;function Ts(i){Eb(i,0)}function Jl(i){var r=zn(i);if($t(r))return i}function Wa(i,r){if(i==="change")return r}var gu=!1;if(Ei){var Za;if(Ei){var yu="oninput"in document;if(!yu){var $s=document.createElement("div");$s.setAttribute("oninput","return;"),yu=typeof $s.oninput=="function"}Za=yu}else Za=!1;gu=Za&&(!document.documentMode||9<document.documentMode)}function ll(){Le&&(Le.detachEvent("onpropertychange",pd),vs=Le=null)}function pd(i){if(i.propertyName==="value"&&Jl(vs)){var r=[];Zs(r,vs,i,Fn(i)),fi(Ts,r)}}function _u(i,r,l){i==="focusin"?(ll(),Le=r,vs=l,Le.attachEvent("onpropertychange",pd)):i==="focusout"&&ll()}function op(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jl(vs)}function Ys(i,r){if(i==="click")return Jl(r)}function lp(i,r){if(i==="input"||i==="change")return Jl(r)}function $a(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var mi=typeof Object.is=="function"?Object.is:$a;function pi(i,r){if(mi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!ui.call(r,g)||!mi(i[g],r[g]))return!1}return!0}function cl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vu(i,r){var l=cl(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=r&&d>=r)return{node:l,offset:r-i};i=d}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=cl(l)}}function tc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?tc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ul(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Se(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Se(i.document)}return r}function hl(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ec=Ei&&"documentMode"in document&&11>=document.documentMode,Yi=null,Ya=null,Qr=null,nc=!1;function gd(i,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nc||Yi==null||Yi!==Se(d)||(d=Yi,"selectionStart"in d&&hl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Qr&&pi(Qr,d)||(Qr=d,d=nf(Ya,"onSelect"),0<d.length&&(r=new $r("onSelect","select",null,r,l),i.push({event:r,listeners:d}),r.target=Yi)))}function bs(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Ka={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},ic={},yd={};Ei&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function yr(i){if(ic[i])return ic[i];if(!Ka[i])return i;var r=Ka[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in yd)return ic[i]=r[l];return i}var _d=yr("animationend"),Ki=yr("animationiteration"),dl=yr("animationstart"),cp=yr("transitionrun"),sc=yr("transitionstart"),up=yr("transitioncancel"),Tu=yr("transitionend"),vd=new Map,Jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jr.push("scrollEnd");function Xi(i,r){vd.set(i,r),Fi(r,[i])}var ta=new WeakMap;function gi(i,r){if(typeof i=="object"&&i!==null){var l=ta.get(i);return l!==void 0?l:(r={value:i,source:r,stack:be(r)},ta.set(i,r),r)}return{value:i,source:r,stack:be(r)}}var yi=[],Xa=0,Qi=0;function fl(){for(var i=Xa,r=Qi=Xa=0;r<i;){var l=yi[r];yi[r++]=null;var d=yi[r];yi[r++]=null;var g=yi[r];yi[r++]=null;var T=yi[r];if(yi[r++]=null,d!==null&&g!==null){var R=d.pending;R===null?g.next=g:(g.next=R.next,R.next=g),d.pending=g}T!==0&&pl(l,g,T)}}function ml(i,r,l,d){yi[Xa++]=i,yi[Xa++]=r,yi[Xa++]=l,yi[Xa++]=d,Qi|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function ea(i,r,l,d){return ml(i,r,l,d),_r(i)}function Qa(i,r){return ml(i,null,null,r),_r(i)}function pl(i,r,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var g=!1,T=i.return;T!==null;)T.childLanes|=l,d=T.alternate,d!==null&&(d.childLanes|=l),T.tag===22&&(i=T.stateNode,i===null||i._visibility&1||(g=!0)),i=T,T=T.return;return i.tag===3?(T=i.stateNode,g&&r!==null&&(g=31-pn(l),i=T.hiddenUpdates,d=i[g],d===null?i[g]=[r]:d.push(r),r.lane=l|536870912),T):null}function _r(i){if(50<Hu)throw Hu=0,og=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var na={};function Td(i,r,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(i,r,l,d){return new Td(i,r,l,d)}function rc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ws(i,r){var l=i.alternate;return l===null?(l=_i(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function bu(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function gl(i,r,l,d,g,T){var R=0;if(d=i,typeof i=="function")rc(i)&&(R=1);else if(typeof i=="string")R=fP(i,l,xt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case j:return i=_i(31,l,r,g),i.elementType=j,i.lanes=T,i;case V:return vr(l.children,g,T,r);case q:R=8,g|=24;break;case Z:return i=_i(12,l,r,g|2),i.elementType=Z,i.lanes=T,i;case tt:return i=_i(13,l,r,g),i.elementType=tt,i.lanes=T,i;case wt:return i=_i(19,l,r,g),i.elementType=wt,i.lanes=T,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:case J:R=10;break t;case ct:R=9;break t;case dt:R=11;break t;case z:R=14;break t;case k:R=16,d=null;break t}R=29,l=Error(s(130,i===null?"null":typeof i,"")),d=null}return r=_i(R,l,r,g),r.elementType=i,r.type=d,r.lanes=T,r}function vr(i,r,l,d){return i=_i(7,i,d,r),i.lanes=l,i}function wu(i,r,l){return i=_i(6,i,null,r),i.lanes=l,i}function ac(i,r,l){return r=_i(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ia=[],Ja=0,a=null,u=0,p=[],b=0,S=null,I=1,F="";function nt(i,r){ia[Ja++]=u,ia[Ja++]=a,a=i,u=r}function ht(i,r,l){p[b++]=I,p[b++]=F,p[b++]=S,S=i;var d=I;i=F;var g=32-pn(d)-1;d&=~(1<<g),l+=1;var T=32-pn(r)+g;if(30<T){var R=g-g%5;T=(d&(1<<R)-1).toString(32),d>>=R,g-=R,I=1<<32-pn(r)+g|l<<g|d,F=T+i}else I=1<<T|l<<g|d,F=i}function Tt(i){i.return!==null&&(nt(i,1),ht(i,1,0))}function It(i){for(;i===a;)a=ia[--Ja],ia[Ja]=null,u=ia[--Ja],ia[Ja]=null;for(;i===S;)S=p[--b],p[b]=null,F=p[--b],p[b]=null,I=p[--b],p[b]=null}var Nt=null,Mt=null,Zt=!1,Ve=null,$e=!1,Dn=Error(s(519));function Ai(i){var r=Error(s(418,""));throw eo(gi(r,i)),Dn}function bd(i){var r=i.stateNode,l=i.type,d=i.memoizedProps;switch(r[on]=i,r[Qe]=d,l){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(l=0;l<Gu.length;l++)oe(Gu[l],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":oe("invalid",r),Wr(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),fr(r);break;case"select":oe("invalid",r);break;case"textarea":oe("invalid",r),di(r,d.value,d.defaultValue,d.children),fr(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||Rb(r.textContent,l)?(d.popover!=null&&(oe("beforetoggle",r),oe("toggle",r)),d.onScroll!=null&&oe("scroll",r),d.onScrollEnd!=null&&oe("scrollend",r),d.onClick!=null&&(r.onclick=sf),r=!0):r=!1,r||Ai(i)}function wd(i){for(Nt=i.return;Nt;)switch(Nt.tag){case 5:case 13:$e=!1;return;case 27:case 3:$e=!0;return;default:Nt=Nt.return}}function yl(i){if(i!==Nt)return!1;if(!Zt)return wd(i),Zt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||xg(i.type,i.memoizedProps)),l=!l),l&&Mt&&Ai(i),wd(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Mt=Js(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Mt=null}}else r===27?(r=Mt,yo(i.type)?(i=Cg,Cg=null,Mt=i):Mt=r):Mt=Nt?Js(i.stateNode.nextSibling):null;return!0}function to(){Mt=Nt=null,Zt=!1}function xd(){var i=Ve;return i!==null&&(Ii===null?Ii=i:Ii.push.apply(Ii,i),Ve=null),i}function eo(i){Ve===null?Ve=[i]:Ve.push(i)}var He=ot(null),xs=null,Ks=null;function Tr(i,r,l){yt(He,r._currentValue),r._currentValue=l}function Xs(i){i._currentValue=He.current,bt(He)}function _l(i,r,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===l)break;i=i.return}}function oc(i,r,l,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var T=g.dependencies;if(T!==null){var R=g.child;T=T.firstContext;t:for(;T!==null;){var P=T;T=g;for(var H=0;H<r.length;H++)if(P.context===r[H]){T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),_l(T.return,l,i),d||(R=null);break t}T=P.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(s(341));R.lanes|=l,T=R.alternate,T!==null&&(T.lanes|=l),_l(R,l,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function vl(i,r,l,d){i=null;for(var g=r,T=!1;g!==null;){if(!T){if((g.flags&524288)!==0)T=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(s(387));if(R=R.memoizedProps,R!==null){var P=g.type;mi(g.pendingProps.value,R.value)||(i!==null?i.push(P):i=[P])}}else if(g===ge.current){if(R=g.alternate,R===null)throw Error(s(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Xu):i=[Xu])}g=g.return}i!==null&&oc(r,i,l,d),r.flags|=262144}function Ed(i){for(i=i.firstContext;i!==null;){if(!mi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Tl(i){xs=i,Ks=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ni(i){return m0(xs,i)}function Sd(i,r){return xs===null&&Tl(i),m0(i,r)}function m0(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ks===null){if(i===null)throw Error(s(308));Ks=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ks=Ks.next=r;return l}var dI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},fI=e.unstable_scheduleCallback,mI=e.unstable_NormalPriority,An={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hp(){return{controller:new dI,data:new Map,refCount:0}}function xu(i){i.refCount--,i.refCount===0&&fI(mI,function(){i.controller.abort()})}var Eu=null,dp=0,lc=0,cc=null;function pI(i,r){if(Eu===null){var l=Eu=[];dp=0,lc=mg(),cc={status:"pending",value:void 0,then:function(d){l.push(d)}}}return dp++,r.then(p0,p0),r}function p0(){if(--dp===0&&Eu!==null){cc!==null&&(cc.status="fulfilled");var i=Eu;Eu=null,lc=0,cc=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function gI(i,r){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var g0=U.S;U.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&pI(i,r),g0!==null&&g0(i,r)};var bl=ot(null);function fp(){var i=bl.current;return i!==null?i:je.pooledCache}function Ad(i,r){r===null?yt(bl,bl.current):yt(bl,r.pool)}function y0(){var i=fp();return i===null?null:{parent:An._currentValue,pool:i}}var Su=Error(s(460)),_0=Error(s(474)),Cd=Error(s(542)),mp={then:function(){}};function v0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Rd(){}function T0(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Rd,Rd),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,w0(i),i;default:if(typeof r.status=="string")r.then(Rd,Rd);else{if(i=je,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=d}},function(d){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,w0(i),i}throw Au=r,Su}}var Au=null;function b0(){if(Au===null)throw Error(s(459));var i=Au;return Au=null,i}function w0(i){if(i===Su||i===Cd)throw Error(s(483))}var no=!1;function pp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function io(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function so(i,r,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ae&2)!==0){var g=d.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),d.pending=r,r=_r(i),pl(i,null,l),r}return ml(i,d,r,l),_r(i)}function Cu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,Qo(i,l)}}function yp(i,r){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,T=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};T===null?g=T=R:T=T.next=R,l=l.next}while(l!==null);T===null?g=T=r:T=T.next=r}else g=T=r;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:T,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var _p=!1;function Ru(){if(_p){var i=cc;if(i!==null)throw i}}function Iu(i,r,l,d){_p=!1;var g=i.updateQueue;no=!1;var T=g.firstBaseUpdate,R=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var H=P,st=H.next;H.next=null,R===null?T=st:R.next=st,R=H;var mt=i.alternate;mt!==null&&(mt=mt.updateQueue,P=mt.lastBaseUpdate,P!==R&&(P===null?mt.firstBaseUpdate=st:P.next=st,mt.lastBaseUpdate=H))}if(T!==null){var _t=g.baseState;R=0,mt=st=H=null,P=T;do{var lt=P.lane&-536870913,ut=lt!==P.lane;if(ut?(me&lt)===lt:(d&lt)===lt){lt!==0&&lt===lc&&(_p=!0),mt!==null&&(mt=mt.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Gt=i,zt=P;lt=r;var Ne=l;switch(zt.tag){case 1:if(Gt=zt.payload,typeof Gt=="function"){_t=Gt.call(Ne,_t,lt);break t}_t=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=zt.payload,lt=typeof Gt=="function"?Gt.call(Ne,_t,lt):Gt,lt==null)break t;_t=w({},_t,lt);break t;case 2:no=!0}}lt=P.callback,lt!==null&&(i.flags|=64,ut&&(i.flags|=8192),ut=g.callbacks,ut===null?g.callbacks=[lt]:ut.push(lt))}else ut={lane:lt,tag:P.tag,payload:P.payload,callback:P.callback,next:null},mt===null?(st=mt=ut,H=_t):mt=mt.next=ut,R|=lt;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;ut=P,P=ut.next,ut.next=null,g.lastBaseUpdate=ut,g.shared.pending=null}}while(!0);mt===null&&(H=_t),g.baseState=H,g.firstBaseUpdate=st,g.lastBaseUpdate=mt,T===null&&(g.shared.lanes=0),fo|=R,i.lanes=R,i.memoizedState=_t}}function x0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function E0(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)x0(l[i],r)}var uc=ot(null),Id=ot(0);function S0(i,r){i=ua,yt(Id,i),yt(uc,r),ua=i|r.baseLanes}function vp(){yt(Id,ua),yt(uc,uc.current)}function Tp(){ua=Id.current,bt(uc),bt(Id)}var ro=0,ee=null,Ie=null,_n=null,Pd=!1,hc=!1,wl=!1,Nd=0,Pu=0,dc=null,yI=0;function cn(){throw Error(s(321))}function bp(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!mi(i[l],r[l]))return!1;return!0}function wp(i,r,l,d,g,T){return ro=T,ee=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?lT:cT,wl=!1,T=l(d,g),wl=!1,hc&&(T=C0(r,l,d,g)),A0(i),T}function A0(i){U.H=Vd;var r=Ie!==null&&Ie.next!==null;if(ro=0,_n=Ie=ee=null,Pd=!1,Pu=0,dc=null,r)throw Error(s(300));i===null||kn||(i=i.dependencies,i!==null&&Ed(i)&&(kn=!0))}function C0(i,r,l,d){ee=i;var g=0;do{if(hc&&(dc=null),Pu=0,hc=!1,25<=g)throw Error(s(301));if(g+=1,_n=Ie=null,i.updateQueue!=null){var T=i.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}U.H=EI,T=r(l,d)}while(hc);return T}function _I(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?Nu(r):r,i=i.useState()[0],(Ie!==null?Ie.memoizedState:null)!==i&&(ee.flags|=1024),r}function xp(){var i=Nd!==0;return Nd=0,i}function Ep(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Sp(i){if(Pd){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Pd=!1}ro=0,_n=Ie=ee=null,hc=!1,Pu=Nd=0,dc=null}function Ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ee.memoizedState=_n=i:_n=_n.next=i,_n}function vn(){if(Ie===null){var i=ee.alternate;i=i!==null?i.memoizedState:null}else i=Ie.next;var r=_n===null?ee.memoizedState:_n.next;if(r!==null)_n=r,Ie=i;else{if(i===null)throw ee.alternate===null?Error(s(467)):Error(s(310));Ie=i,i={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},_n===null?ee.memoizedState=_n=i:_n=_n.next=i}return _n}function Ap(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(i){var r=Pu;return Pu+=1,dc===null&&(dc=[]),i=T0(dc,i,r),r=ee,(_n===null?r.memoizedState:_n.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?lT:cT),i}function Ld(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nu(i);if(i.$$typeof===J)return ni(i)}throw Error(s(438,String(i)))}function Cp(i){var r=null,l=ee.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=ee.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Ap(),ee.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),d=0;d<i;d++)l[d]=G;return r.index++,l}function sa(i,r){return typeof r=="function"?r(i):r}function Md(i){var r=vn();return Rp(r,Ie,i)}function Rp(i,r,l){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var g=i.baseQueue,T=d.pending;if(T!==null){if(g!==null){var R=g.next;g.next=T.next,T.next=R}r.baseQueue=g=T,d.pending=null}if(T=i.baseState,g===null)i.memoizedState=T;else{r=g.next;var P=R=null,H=null,st=r,mt=!1;do{var _t=st.lane&-536870913;if(_t!==st.lane?(me&_t)===_t:(ro&_t)===_t){var lt=st.revertLane;if(lt===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),_t===lc&&(mt=!0);else if((ro&lt)===lt){st=st.next,lt===lc&&(mt=!0);continue}else _t={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},H===null?(P=H=_t,R=T):H=H.next=_t,ee.lanes|=lt,fo|=lt;_t=st.action,wl&&l(T,_t),T=st.hasEagerState?st.eagerState:l(T,_t)}else lt={lane:_t,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},H===null?(P=H=lt,R=T):H=H.next=lt,ee.lanes|=_t,fo|=_t;st=st.next}while(st!==null&&st!==r);if(H===null?R=T:H.next=P,!mi(T,i.memoizedState)&&(kn=!0,mt&&(l=cc,l!==null)))throw l;i.memoizedState=T,i.baseState=R,i.baseQueue=H,d.lastRenderedState=T}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Ip(i){var r=vn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=l.dispatch,g=l.pending,T=r.memoizedState;if(g!==null){l.pending=null;var R=g=g.next;do T=i(T,R.action),R=R.next;while(R!==g);mi(T,r.memoizedState)||(kn=!0),r.memoizedState=T,r.baseQueue===null&&(r.baseState=T),l.lastRenderedState=T}return[T,d]}function R0(i,r,l){var d=ee,g=vn(),T=Zt;if(T){if(l===void 0)throw Error(s(407));l=l()}else l=r();var R=!mi((Ie||g).memoizedState,l);R&&(g.memoizedState=l,kn=!0),g=g.queue;var P=N0.bind(null,d,g,i);if(Lu(2048,8,P,[i]),g.getSnapshot!==r||R||_n!==null&&_n.memoizedState.tag&1){if(d.flags|=2048,fc(9,Dd(),P0.bind(null,d,g,l,r),null),je===null)throw Error(s(349));T||(ro&124)!==0||I0(d,r,l)}return l}function I0(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=ee.updateQueue,r===null?(r=Ap(),ee.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function P0(i,r,l,d){r.value=l,r.getSnapshot=d,L0(r)&&M0(i)}function N0(i,r,l){return l(function(){L0(r)&&M0(i)})}function L0(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!mi(i,l)}catch{return!0}}function M0(i){var r=Qa(i,2);r!==null&&is(r,i,2)}function Pp(i){var r=Ci();if(typeof i=="function"){var l=i;if(i=l(),wl){mn(!0);try{l()}finally{mn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:i},r}function D0(i,r,l,d){return i.baseState=l,Rp(i,Ie,typeof d=="function"?d:sa)}function vI(i,r,l,d,g){if(Od(i))throw Error(s(485));if(i=r.action,i!==null){var T={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){T.listeners.push(R)}};U.T!==null?l(!0):T.isTransition=!1,d(T),l=r.pending,l===null?(T.next=r.pending=T,k0(r,T)):(T.next=l.next,r.pending=l.next=T)}}function k0(i,r){var l=r.action,d=r.payload,g=i.state;if(r.isTransition){var T=U.T,R={};U.T=R;try{var P=l(g,d),H=U.S;H!==null&&H(R,P),O0(i,r,P)}catch(st){Np(i,r,st)}finally{U.T=T}}else try{T=l(g,d),O0(i,r,T)}catch(st){Np(i,r,st)}}function O0(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){V0(i,r,d)},function(d){return Np(i,r,d)}):V0(i,r,l)}function V0(i,r,l){r.status="fulfilled",r.value=l,j0(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,k0(i,l)))}function Np(i,r,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,j0(r),r=r.next;while(r!==d)}i.action=null}function j0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function U0(i,r){return r}function z0(i,r){if(Zt){var l=je.formState;if(l!==null){t:{var d=ee;if(Zt){if(Mt){e:{for(var g=Mt,T=$e;g.nodeType!==8;){if(!T){g=null;break e}if(g=Js(g.nextSibling),g===null){g=null;break e}}T=g.data,g=T==="F!"||T==="F"?g:null}if(g){Mt=Js(g.nextSibling),d=g.data==="F!";break t}}Ai(d)}d=!1}d&&(r=l[0])}}return l=Ci(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:r},l.queue=d,l=rT.bind(null,ee,d),d.dispatch=l,d=Pp(!1),T=Op.bind(null,ee,!1,d.queue),d=Ci(),g={state:r,dispatch:null,action:i,pending:null},d.queue=g,l=vI.bind(null,ee,g,T,l),g.dispatch=l,d.memoizedState=i,[r,l,!1]}function B0(i){var r=vn();return F0(r,Ie,i)}function F0(i,r,l){if(r=Rp(i,r,U0)[0],i=Md(sa)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Nu(r)}catch(R){throw R===Su?Cd:R}else d=r;r=vn();var g=r.queue,T=g.dispatch;return l!==r.memoizedState&&(ee.flags|=2048,fc(9,Dd(),TI.bind(null,g,l),null)),[d,T,i]}function TI(i,r){i.action=r}function H0(i){var r=vn(),l=Ie;if(l!==null)return F0(r,l,i);vn(),r=r.memoizedState,l=vn();var d=l.queue.dispatch;return l.memoizedState=i,[r,d,!1]}function fc(i,r,l,d){return i={tag:i,create:l,deps:d,inst:r,next:null},r=ee.updateQueue,r===null&&(r=Ap(),ee.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,r.lastEffect=i),i}function Dd(){return{destroy:void 0,resource:void 0}}function q0(){return vn().memoizedState}function kd(i,r,l,d){var g=Ci();d=d===void 0?null:d,ee.flags|=i,g.memoizedState=fc(1|r,Dd(),l,d)}function Lu(i,r,l,d){var g=vn();d=d===void 0?null:d;var T=g.memoizedState.inst;Ie!==null&&d!==null&&bp(d,Ie.memoizedState.deps)?g.memoizedState=fc(r,T,l,d):(ee.flags|=i,g.memoizedState=fc(1|r,T,l,d))}function G0(i,r){kd(8390656,8,i,r)}function W0(i,r){Lu(2048,8,i,r)}function Z0(i,r){return Lu(4,2,i,r)}function $0(i,r){return Lu(4,4,i,r)}function Y0(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function K0(i,r,l){l=l!=null?l.concat([i]):null,Lu(4,4,Y0.bind(null,r,i),l)}function Lp(){}function X0(i,r){var l=vn();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&bp(r,d[1])?d[0]:(l.memoizedState=[i,r],i)}function Q0(i,r){var l=vn();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&bp(r,d[1]))return d[0];if(d=i(),wl){mn(!0);try{i()}finally{mn(!1)}}return l.memoizedState=[d,r],d}function Mp(i,r,l){return l===void 0||(ro&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=eb(),ee.lanes|=i,fo|=i,l)}function J0(i,r,l,d){return mi(l,r)?l:uc.current!==null?(i=Mp(i,l,d),mi(i,r)||(kn=!0),i):(ro&42)===0?(kn=!0,i.memoizedState=l):(i=eb(),ee.lanes|=i,fo|=i,r)}function tT(i,r,l,d,g){var T=at.p;at.p=T!==0&&8>T?T:8;var R=U.T,P={};U.T=P,Op(i,!1,r,l);try{var H=g(),st=U.S;if(st!==null&&st(P,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var mt=gI(H,d);Mu(i,r,mt,ns(i))}else Mu(i,r,d,ns(i))}catch(_t){Mu(i,r,{then:function(){},status:"rejected",reason:_t},ns())}finally{at.p=T,U.T=R}}function bI(){}function Dp(i,r,l,d){if(i.tag!==5)throw Error(s(476));var g=eT(i).queue;tT(i,g,r,rt,l===null?bI:function(){return nT(i),l(d)})}function eT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:rt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function nT(i){var r=eT(i).next.queue;Mu(i,r,{},ns())}function kp(){return ni(Xu)}function iT(){return vn().memoizedState}function sT(){return vn().memoizedState}function wI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ns();i=io(l);var d=so(r,i,l);d!==null&&(is(d,r,l),Cu(d,r,l)),r={cache:hp()},i.payload=r;return}r=r.return}}function xI(i,r,l){var d=ns();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Od(i)?aT(r,l):(l=ea(i,r,l,d),l!==null&&(is(l,i,d),oT(l,r,d)))}function rT(i,r,l){var d=ns();Mu(i,r,l,d)}function Mu(i,r,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Od(i))aT(r,g);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=r.lastRenderedReducer,T!==null))try{var R=r.lastRenderedState,P=T(R,l);if(g.hasEagerState=!0,g.eagerState=P,mi(P,R))return ml(i,r,g,0),je===null&&fl(),!1}catch{}finally{}if(l=ea(i,r,g,d),l!==null)return is(l,i,d),oT(l,r,d),!0}return!1}function Op(i,r,l,d){if(d={lane:2,revertLane:mg(),action:d,hasEagerState:!1,eagerState:null,next:null},Od(i)){if(r)throw Error(s(479))}else r=ea(i,l,d,2),r!==null&&is(r,i,2)}function Od(i){var r=i.alternate;return i===ee||r!==null&&r===ee}function aT(i,r){hc=Pd=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function oT(i,r,l){if((l&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,Qo(i,l)}}var Vd={readContext:ni,use:Ld,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},lT={readContext:ni,use:Ld,useCallback:function(i,r){return Ci().memoizedState=[i,r===void 0?null:r],i},useContext:ni,useEffect:G0,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,kd(4194308,4,Y0.bind(null,r,i),l)},useLayoutEffect:function(i,r){return kd(4194308,4,i,r)},useInsertionEffect:function(i,r){kd(4,2,i,r)},useMemo:function(i,r){var l=Ci();r=r===void 0?null:r;var d=i();if(wl){mn(!0);try{i()}finally{mn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(i,r,l){var d=Ci();if(l!==void 0){var g=l(r);if(wl){mn(!0);try{l(r)}finally{mn(!1)}}}else g=r;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=xI.bind(null,ee,i),[d.memoizedState,i]},useRef:function(i){var r=Ci();return i={current:i},r.memoizedState=i},useState:function(i){i=Pp(i);var r=i.queue,l=rT.bind(null,ee,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Lp,useDeferredValue:function(i,r){var l=Ci();return Mp(l,i,r)},useTransition:function(){var i=Pp(!1);return i=tT.bind(null,ee,i.queue,!0,!1),Ci().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var d=ee,g=Ci();if(Zt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),je===null)throw Error(s(349));(me&124)!==0||I0(d,r,l)}g.memoizedState=l;var T={value:l,getSnapshot:r};return g.queue=T,G0(N0.bind(null,d,T,i),[i]),d.flags|=2048,fc(9,Dd(),P0.bind(null,d,T,l,r),null),l},useId:function(){var i=Ci(),r=je.identifierPrefix;if(Zt){var l=F,d=I;l=(d&~(1<<32-pn(d)-1)).toString(32)+l,r=""+r+"R"+l,l=Nd++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=yI++,r=""+r+"r"+l.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:kp,useFormState:z0,useActionState:z0,useOptimistic:function(i){var r=Ci();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Op.bind(null,ee,!0,l),l.dispatch=r,[i,r]},useMemoCache:Cp,useCacheRefresh:function(){return Ci().memoizedState=wI.bind(null,ee)}},cT={readContext:ni,use:Ld,useCallback:X0,useContext:ni,useEffect:W0,useImperativeHandle:K0,useInsertionEffect:Z0,useLayoutEffect:$0,useMemo:Q0,useReducer:Md,useRef:q0,useState:function(){return Md(sa)},useDebugValue:Lp,useDeferredValue:function(i,r){var l=vn();return J0(l,Ie.memoizedState,i,r)},useTransition:function(){var i=Md(sa)[0],r=vn().memoizedState;return[typeof i=="boolean"?i:Nu(i),r]},useSyncExternalStore:R0,useId:iT,useHostTransitionStatus:kp,useFormState:B0,useActionState:B0,useOptimistic:function(i,r){var l=vn();return D0(l,Ie,i,r)},useMemoCache:Cp,useCacheRefresh:sT},EI={readContext:ni,use:Ld,useCallback:X0,useContext:ni,useEffect:W0,useImperativeHandle:K0,useInsertionEffect:Z0,useLayoutEffect:$0,useMemo:Q0,useReducer:Ip,useRef:q0,useState:function(){return Ip(sa)},useDebugValue:Lp,useDeferredValue:function(i,r){var l=vn();return Ie===null?Mp(l,i,r):J0(l,Ie.memoizedState,i,r)},useTransition:function(){var i=Ip(sa)[0],r=vn().memoizedState;return[typeof i=="boolean"?i:Nu(i),r]},useSyncExternalStore:R0,useId:iT,useHostTransitionStatus:kp,useFormState:H0,useActionState:H0,useOptimistic:function(i,r){var l=vn();return Ie!==null?D0(l,Ie,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Cp,useCacheRefresh:sT},mc=null,Du=0;function jd(i){var r=Du;return Du+=1,mc===null&&(mc=[]),T0(mc,i,r)}function ku(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ud(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function uT(i){var r=i._init;return r(i._payload)}function hT(i){function r(Q,K){if(i){var it=Q.deletions;it===null?(Q.deletions=[K],Q.flags|=16):it.push(K)}}function l(Q,K){if(!i)return null;for(;K!==null;)r(Q,K),K=K.sibling;return null}function d(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=ws(Q,K),Q.index=0,Q.sibling=null,Q}function T(Q,K,it){return Q.index=it,i?(it=Q.alternate,it!==null?(it=it.index,it<K?(Q.flags|=67108866,K):it):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function R(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,K,it,gt){return K===null||K.tag!==6?(K=wu(it,Q.mode,gt),K.return=Q,K):(K=g(K,it),K.return=Q,K)}function H(Q,K,it,gt){var Lt=it.type;return Lt===V?mt(Q,K,it.props.children,gt,it.key):K!==null&&(K.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===k&&uT(Lt)===K.type)?(K=g(K,it.props),ku(K,it),K.return=Q,K):(K=gl(it.type,it.key,it.props,null,Q.mode,gt),ku(K,it),K.return=Q,K)}function st(Q,K,it,gt){return K===null||K.tag!==4||K.stateNode.containerInfo!==it.containerInfo||K.stateNode.implementation!==it.implementation?(K=ac(it,Q.mode,gt),K.return=Q,K):(K=g(K,it.children||[]),K.return=Q,K)}function mt(Q,K,it,gt,Lt){return K===null||K.tag!==7?(K=vr(it,Q.mode,gt,Lt),K.return=Q,K):(K=g(K,it),K.return=Q,K)}function _t(Q,K,it){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=wu(""+K,Q.mode,it),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return it=gl(K.type,K.key,K.props,null,Q.mode,it),ku(it,K),it.return=Q,it;case N:return K=ac(K,Q.mode,it),K.return=Q,K;case k:var gt=K._init;return K=gt(K._payload),_t(Q,K,it)}if(X(K)||Y(K))return K=vr(K,Q.mode,it,null),K.return=Q,K;if(typeof K.then=="function")return _t(Q,jd(K),it);if(K.$$typeof===J)return _t(Q,Sd(Q,K),it);Ud(Q,K)}return null}function lt(Q,K,it,gt){var Lt=K!==null?K.key:null;if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Lt!==null?null:P(Q,K,""+it,gt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case E:return it.key===Lt?H(Q,K,it,gt):null;case N:return it.key===Lt?st(Q,K,it,gt):null;case k:return Lt=it._init,it=Lt(it._payload),lt(Q,K,it,gt)}if(X(it)||Y(it))return Lt!==null?null:mt(Q,K,it,gt,null);if(typeof it.then=="function")return lt(Q,K,jd(it),gt);if(it.$$typeof===J)return lt(Q,K,Sd(Q,it),gt);Ud(Q,it)}return null}function ut(Q,K,it,gt,Lt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Q=Q.get(it)||null,P(K,Q,""+gt,Lt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case E:return Q=Q.get(gt.key===null?it:gt.key)||null,H(K,Q,gt,Lt);case N:return Q=Q.get(gt.key===null?it:gt.key)||null,st(K,Q,gt,Lt);case k:var se=gt._init;return gt=se(gt._payload),ut(Q,K,it,gt,Lt)}if(X(gt)||Y(gt))return Q=Q.get(it)||null,mt(K,Q,gt,Lt,null);if(typeof gt.then=="function")return ut(Q,K,it,jd(gt),Lt);if(gt.$$typeof===J)return ut(Q,K,it,Sd(K,gt),Lt);Ud(K,gt)}return null}function Gt(Q,K,it,gt){for(var Lt=null,se=null,Ot=K,Bt=K=0,Vn=null;Ot!==null&&Bt<it.length;Bt++){Ot.index>Bt?(Vn=Ot,Ot=null):Vn=Ot.sibling;var _e=lt(Q,Ot,it[Bt],gt);if(_e===null){Ot===null&&(Ot=Vn);break}i&&Ot&&_e.alternate===null&&r(Q,Ot),K=T(_e,K,Bt),se===null?Lt=_e:se.sibling=_e,se=_e,Ot=Vn}if(Bt===it.length)return l(Q,Ot),Zt&&nt(Q,Bt),Lt;if(Ot===null){for(;Bt<it.length;Bt++)Ot=_t(Q,it[Bt],gt),Ot!==null&&(K=T(Ot,K,Bt),se===null?Lt=Ot:se.sibling=Ot,se=Ot);return Zt&&nt(Q,Bt),Lt}for(Ot=d(Ot);Bt<it.length;Bt++)Vn=ut(Ot,Q,Bt,it[Bt],gt),Vn!==null&&(i&&Vn.alternate!==null&&Ot.delete(Vn.key===null?Bt:Vn.key),K=T(Vn,K,Bt),se===null?Lt=Vn:se.sibling=Vn,se=Vn);return i&&Ot.forEach(function(wo){return r(Q,wo)}),Zt&&nt(Q,Bt),Lt}function zt(Q,K,it,gt){if(it==null)throw Error(s(151));for(var Lt=null,se=null,Ot=K,Bt=K=0,Vn=null,_e=it.next();Ot!==null&&!_e.done;Bt++,_e=it.next()){Ot.index>Bt?(Vn=Ot,Ot=null):Vn=Ot.sibling;var wo=lt(Q,Ot,_e.value,gt);if(wo===null){Ot===null&&(Ot=Vn);break}i&&Ot&&wo.alternate===null&&r(Q,Ot),K=T(wo,K,Bt),se===null?Lt=wo:se.sibling=wo,se=wo,Ot=Vn}if(_e.done)return l(Q,Ot),Zt&&nt(Q,Bt),Lt;if(Ot===null){for(;!_e.done;Bt++,_e=it.next())_e=_t(Q,_e.value,gt),_e!==null&&(K=T(_e,K,Bt),se===null?Lt=_e:se.sibling=_e,se=_e);return Zt&&nt(Q,Bt),Lt}for(Ot=d(Ot);!_e.done;Bt++,_e=it.next())_e=ut(Ot,Q,Bt,_e.value,gt),_e!==null&&(i&&_e.alternate!==null&&Ot.delete(_e.key===null?Bt:_e.key),K=T(_e,K,Bt),se===null?Lt=_e:se.sibling=_e,se=_e);return i&&Ot.forEach(function(SP){return r(Q,SP)}),Zt&&nt(Q,Bt),Lt}function Ne(Q,K,it,gt){if(typeof it=="object"&&it!==null&&it.type===V&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case E:t:{for(var Lt=it.key;K!==null;){if(K.key===Lt){if(Lt=it.type,Lt===V){if(K.tag===7){l(Q,K.sibling),gt=g(K,it.props.children),gt.return=Q,Q=gt;break t}}else if(K.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===k&&uT(Lt)===K.type){l(Q,K.sibling),gt=g(K,it.props),ku(gt,it),gt.return=Q,Q=gt;break t}l(Q,K);break}else r(Q,K);K=K.sibling}it.type===V?(gt=vr(it.props.children,Q.mode,gt,it.key),gt.return=Q,Q=gt):(gt=gl(it.type,it.key,it.props,null,Q.mode,gt),ku(gt,it),gt.return=Q,Q=gt)}return R(Q);case N:t:{for(Lt=it.key;K!==null;){if(K.key===Lt)if(K.tag===4&&K.stateNode.containerInfo===it.containerInfo&&K.stateNode.implementation===it.implementation){l(Q,K.sibling),gt=g(K,it.children||[]),gt.return=Q,Q=gt;break t}else{l(Q,K);break}else r(Q,K);K=K.sibling}gt=ac(it,Q.mode,gt),gt.return=Q,Q=gt}return R(Q);case k:return Lt=it._init,it=Lt(it._payload),Ne(Q,K,it,gt)}if(X(it))return Gt(Q,K,it,gt);if(Y(it)){if(Lt=Y(it),typeof Lt!="function")throw Error(s(150));return it=Lt.call(it),zt(Q,K,it,gt)}if(typeof it.then=="function")return Ne(Q,K,jd(it),gt);if(it.$$typeof===J)return Ne(Q,K,Sd(Q,it),gt);Ud(Q,it)}return typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint"?(it=""+it,K!==null&&K.tag===6?(l(Q,K.sibling),gt=g(K,it),gt.return=Q,Q=gt):(l(Q,K),gt=wu(it,Q.mode,gt),gt.return=Q,Q=gt),R(Q)):l(Q,K)}return function(Q,K,it,gt){try{Du=0;var Lt=Ne(Q,K,it,gt);return mc=null,Lt}catch(Ot){if(Ot===Su||Ot===Cd)throw Ot;var se=_i(29,Ot,null,Q.mode);return se.lanes=gt,se.return=Q,se}finally{}}}var pc=hT(!0),dT=hT(!1),Es=ot(null),br=null;function ao(i){var r=i.alternate;yt(Cn,Cn.current&1),yt(Es,i),br===null&&(r===null||uc.current!==null||r.memoizedState!==null)&&(br=i)}function fT(i){if(i.tag===22){if(yt(Cn,Cn.current),yt(Es,i),br===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(br=i)}}else oo()}function oo(){yt(Cn,Cn.current),yt(Es,Es.current)}function ra(i){bt(Es),br===i&&(br=null),bt(Cn)}var Cn=ot(0);function zd(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ag(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Vp(i,r,l,d){r=i.memoizedState,l=l(d,r),l=l==null?r:w({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var jp={enqueueSetState:function(i,r,l){i=i._reactInternals;var d=ns(),g=io(d);g.payload=r,l!=null&&(g.callback=l),r=so(i,g,d),r!==null&&(is(r,i,d),Cu(r,i,d))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var d=ns(),g=io(d);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=so(i,g,d),r!==null&&(is(r,i,d),Cu(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ns(),d=io(l);d.tag=2,r!=null&&(d.callback=r),r=so(i,d,l),r!==null&&(is(r,i,l),Cu(r,i,l))}};function mT(i,r,l,d,g,T,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,T,R):r.prototype&&r.prototype.isPureReactComponent?!pi(l,d)||!pi(g,T):!0}function pT(i,r,l,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==i&&jp.enqueueReplaceState(r,r.state,null)}function xl(i,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(i=i.defaultProps){l===r&&(l=w({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Bd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function gT(i){Bd(i)}function yT(i){console.error(i)}function _T(i){Bd(i)}function Fd(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function vT(i,r,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Up(i,r,l){return l=io(l),l.tag=3,l.payload={element:null},l.callback=function(){Fd(i,r)},l}function TT(i){return i=io(i),i.tag=3,i}function bT(i,r,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var T=d.value;i.payload=function(){return g(T)},i.callback=function(){vT(r,l,d)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){vT(r,l,d),typeof g!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function SI(i,r,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&vl(r,l,g,!0),l=Es.current,l!==null){switch(l.tag){case 13:return br===null?cg():l.alternate===null&&tn===0&&(tn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===mp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),hg(i,d,g)),!1;case 22:return l.flags|=65536,d===mp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),hg(i,d,g)),!1}throw Error(s(435,l.tag))}return hg(i,d,g),cg(),!1}if(Zt)return r=Es.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,d!==Dn&&(i=Error(s(422),{cause:d}),eo(gi(i,l)))):(d!==Dn&&(r=Error(s(423),{cause:d}),eo(gi(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=gi(d,l),g=Up(i.stateNode,d,g),yp(i,g),tn!==4&&(tn=2)),!1;var T=Error(s(520),{cause:d});if(T=gi(T,l),Fu===null?Fu=[T]:Fu.push(T),tn!==4&&(tn=2),r===null)return!0;d=gi(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Up(l.stateNode,d,i),yp(l,i),!1;case 1:if(r=l.type,T=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(mo===null||!mo.has(T))))return l.flags|=65536,g&=-g,l.lanes|=g,g=TT(g),bT(g,i,l,d),yp(l,g),!1}l=l.return}while(l!==null);return!1}var wT=Error(s(461)),kn=!1;function Hn(i,r,l,d){r.child=i===null?dT(r,null,l,d):pc(r,i.child,l,d)}function xT(i,r,l,d,g){l=l.render;var T=r.ref;if("ref"in d){var R={};for(var P in d)P!=="ref"&&(R[P]=d[P])}else R=d;return Tl(r),d=wp(i,r,l,R,T,g),P=xp(),i!==null&&!kn?(Ep(i,r,g),aa(i,r,g)):(Zt&&P&&Tt(r),r.flags|=1,Hn(i,r,d,g),r.child)}function ET(i,r,l,d,g){if(i===null){var T=l.type;return typeof T=="function"&&!rc(T)&&T.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=T,ST(i,r,T,d,g)):(i=gl(l.type,null,d,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(T=i.child,!Zp(i,g)){var R=T.memoizedProps;if(l=l.compare,l=l!==null?l:pi,l(R,d)&&i.ref===r.ref)return aa(i,r,g)}return r.flags|=1,i=ws(T,d),i.ref=r.ref,i.return=r,r.child=i}function ST(i,r,l,d,g){if(i!==null){var T=i.memoizedProps;if(pi(T,d)&&i.ref===r.ref)if(kn=!1,r.pendingProps=d=T,Zp(i,g))(i.flags&131072)!==0&&(kn=!0);else return r.lanes=i.lanes,aa(i,r,g)}return zp(i,r,l,d,g)}function AT(i,r,l){var d=r.pendingProps,g=d.children,T=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=T!==null?T.baseLanes|l:l,i!==null){for(g=r.child=i.child,T=0;g!==null;)T=T|g.lanes|g.childLanes,g=g.sibling;r.childLanes=T&~d}else r.childLanes=0,r.child=null;return CT(i,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ad(r,T!==null?T.cachePool:null),T!==null?S0(r,T):vp(),fT(r);else return r.lanes=r.childLanes=536870912,CT(i,r,T!==null?T.baseLanes|l:l,l)}else T!==null?(Ad(r,T.cachePool),S0(r,T),oo(),r.memoizedState=null):(i!==null&&Ad(r,null),vp(),oo());return Hn(i,r,g,l),r.child}function CT(i,r,l,d){var g=fp();return g=g===null?null:{parent:An._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&Ad(r,null),vp(),fT(r),i!==null&&vl(i,r,d,!0),null}function Hd(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function zp(i,r,l,d,g){return Tl(r),l=wp(i,r,l,d,void 0,g),d=xp(),i!==null&&!kn?(Ep(i,r,g),aa(i,r,g)):(Zt&&d&&Tt(r),r.flags|=1,Hn(i,r,l,g),r.child)}function RT(i,r,l,d,g,T){return Tl(r),r.updateQueue=null,l=C0(r,d,l,g),A0(i),d=xp(),i!==null&&!kn?(Ep(i,r,T),aa(i,r,T)):(Zt&&d&&Tt(r),r.flags|=1,Hn(i,r,l,T),r.child)}function IT(i,r,l,d,g){if(Tl(r),r.stateNode===null){var T=na,R=l.contextType;typeof R=="object"&&R!==null&&(T=ni(R)),T=new l(d,T),r.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=jp,r.stateNode=T,T._reactInternals=r,T=r.stateNode,T.props=d,T.state=r.memoizedState,T.refs={},pp(r),R=l.contextType,T.context=typeof R=="object"&&R!==null?ni(R):na,T.state=r.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Vp(r,l,R,d),T.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(R=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),R!==T.state&&jp.enqueueReplaceState(T,T.state,null),Iu(r,d,T,g),Ru(),T.state=r.memoizedState),typeof T.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){T=r.stateNode;var P=r.memoizedProps,H=xl(l,P);T.props=H;var st=T.context,mt=l.contextType;R=na,typeof mt=="object"&&mt!==null&&(R=ni(mt));var _t=l.getDerivedStateFromProps;mt=typeof _t=="function"||typeof T.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,mt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P||st!==R)&&pT(r,T,d,R),no=!1;var lt=r.memoizedState;T.state=lt,Iu(r,d,T,g),Ru(),st=r.memoizedState,P||lt!==st||no?(typeof _t=="function"&&(Vp(r,l,_t,d),st=r.memoizedState),(H=no||mT(r,l,H,d,lt,st,R))?(mt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(r.flags|=4194308)):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=st),T.props=d,T.state=st,T.context=R,d=H):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{T=r.stateNode,gp(i,r),R=r.memoizedProps,mt=xl(l,R),T.props=mt,_t=r.pendingProps,lt=T.context,st=l.contextType,H=na,typeof st=="object"&&st!==null&&(H=ni(st)),P=l.getDerivedStateFromProps,(st=typeof P=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==_t||lt!==H)&&pT(r,T,d,H),no=!1,lt=r.memoizedState,T.state=lt,Iu(r,d,T,g),Ru();var ut=r.memoizedState;R!==_t||lt!==ut||no||i!==null&&i.dependencies!==null&&Ed(i.dependencies)?(typeof P=="function"&&(Vp(r,l,P,d),ut=r.memoizedState),(mt=no||mT(r,l,mt,d,lt,ut,H)||i!==null&&i.dependencies!==null&&Ed(i.dependencies))?(st||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,ut,H),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,ut,H)),typeof T.componentDidUpdate=="function"&&(r.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&lt===i.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&lt===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ut),T.props=d,T.state=ut,T.context=H,d=mt):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&lt===i.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&lt===i.memoizedState||(r.flags|=1024),d=!1)}return T=d,Hd(i,r),d=(r.flags&128)!==0,T||d?(T=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:T.render(),r.flags|=1,i!==null&&d?(r.child=pc(r,i.child,null,g),r.child=pc(r,null,l,g)):Hn(i,r,l,g),r.memoizedState=T.state,i=r.child):i=aa(i,r,g),i}function PT(i,r,l,d){return to(),r.flags|=256,Hn(i,r,l,d),r.child}var Bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fp(i){return{baseLanes:i,cachePool:y0()}}function Hp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Ss),i}function NT(i,r,l){var d=r.pendingProps,g=!1,T=(r.flags&128)!==0,R;if((R=T)||(R=i!==null&&i.memoizedState===null?!1:(Cn.current&2)!==0),R&&(g=!0,r.flags&=-129),R=(r.flags&32)!==0,r.flags&=-33,i===null){if(Zt){if(g?ao(r):oo(),Zt){var P=Mt,H;if(H=P){t:{for(H=P,P=$e;H.nodeType!==8;){if(!P){P=null;break t}if(H=Js(H.nextSibling),H===null){P=null;break t}}P=H}P!==null?(r.memoizedState={dehydrated:P,treeContext:S!==null?{id:I,overflow:F}:null,retryLane:536870912,hydrationErrors:null},H=_i(18,null,null,0),H.stateNode=P,H.return=r,r.child=H,Nt=r,Mt=null,H=!0):H=!1}H||Ai(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ag(P)?r.lanes=32:r.lanes=536870912,null;ra(r)}return P=d.children,d=d.fallback,g?(oo(),g=r.mode,P=qd({mode:"hidden",children:P},g),d=vr(d,g,l,null),P.return=r,d.return=r,P.sibling=d,r.child=P,g=r.child,g.memoizedState=Fp(l),g.childLanes=Hp(i,R,l),r.memoizedState=Bp,d):(ao(r),qp(r,P))}if(H=i.memoizedState,H!==null&&(P=H.dehydrated,P!==null)){if(T)r.flags&256?(ao(r),r.flags&=-257,r=Gp(i,r,l)):r.memoizedState!==null?(oo(),r.child=i.child,r.flags|=128,r=null):(oo(),g=d.fallback,P=r.mode,d=qd({mode:"visible",children:d.children},P),g=vr(g,P,l,null),g.flags|=2,d.return=r,g.return=r,d.sibling=g,r.child=d,pc(r,i.child,null,l),d=r.child,d.memoizedState=Fp(l),d.childLanes=Hp(i,R,l),r.memoizedState=Bp,r=g);else if(ao(r),Ag(P)){if(R=P.nextSibling&&P.nextSibling.dataset,R)var st=R.dgst;R=st,d=Error(s(419)),d.stack="",d.digest=R,eo({value:d,source:null,stack:null}),r=Gp(i,r,l)}else if(kn||vl(i,r,l,!1),R=(l&i.childLanes)!==0,kn||R){if(R=je,R!==null&&(d=l&-l,d=(d&42)!==0?1:or(d),d=(d&(R.suspendedLanes|l))!==0?0:d,d!==0&&d!==H.retryLane))throw H.retryLane=d,Qa(i,d),is(R,i,d),wT;P.data==="$?"||cg(),r=Gp(i,r,l)}else P.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=H.treeContext,Mt=Js(P.nextSibling),Nt=r,Zt=!0,Ve=null,$e=!1,i!==null&&(p[b++]=I,p[b++]=F,p[b++]=S,I=i.id,F=i.overflow,S=r),r=qp(r,d.children),r.flags|=4096);return r}return g?(oo(),g=d.fallback,P=r.mode,H=i.child,st=H.sibling,d=ws(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,st!==null?g=ws(st,g):(g=vr(g,P,l,null),g.flags|=2),g.return=r,d.return=r,d.sibling=g,r.child=d,d=g,g=r.child,P=i.child.memoizedState,P===null?P=Fp(l):(H=P.cachePool,H!==null?(st=An._currentValue,H=H.parent!==st?{parent:st,pool:st}:H):H=y0(),P={baseLanes:P.baseLanes|l,cachePool:H}),g.memoizedState=P,g.childLanes=Hp(i,R,l),r.memoizedState=Bp,d):(ao(r),l=i.child,i=l.sibling,l=ws(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,i!==null&&(R=r.deletions,R===null?(r.deletions=[i],r.flags|=16):R.push(i)),r.child=l,r.memoizedState=null,l)}function qp(i,r){return r=qd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function qd(i,r){return i=_i(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gp(i,r,l){return pc(r,i.child,null,l),i=qp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function LT(i,r,l){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),_l(i.return,r,l)}function Wp(i,r,l,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=d,T.tail=l,T.tailMode=g)}function MT(i,r,l){var d=r.pendingProps,g=d.revealOrder,T=d.tail;if(Hn(i,r,d.children,l),d=Cn.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&LT(i,l,r);else if(i.tag===19)LT(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(yt(Cn,d),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&zd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Wp(r,!1,g,l,T);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&zd(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Wp(r,!0,l,null,T);break;case"together":Wp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function aa(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),fo|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(vl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=ws(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=ws(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Zp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ed(i)))}function AI(i,r,l){switch(r.tag){case 3:re(r,r.stateNode.containerInfo),Tr(r,An,i.memoizedState.cache),to();break;case 27:case 5:wi(r);break;case 4:re(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(ao(r),r.flags|=128,null):(l&r.child.childLanes)!==0?NT(i,r,l):(ao(r),i=aa(i,r,l),i!==null?i.sibling:null);ao(r);break;case 19:var g=(i.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(vl(i,r,l,!1),d=(l&r.childLanes)!==0),g){if(d)return MT(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(Cn,Cn.current),d)break;return null;case 22:case 23:return r.lanes=0,AT(i,r,l);case 24:Tr(r,An,i.memoizedState.cache)}return aa(i,r,l)}function DT(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)kn=!0;else{if(!Zp(i,l)&&(r.flags&128)===0)return kn=!1,AI(i,r,l);kn=(i.flags&131072)!==0}else kn=!1,Zt&&(r.flags&1048576)!==0&&ht(r,u,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var d=r.elementType,g=d._init;if(d=g(d._payload),r.type=d,typeof d=="function")rc(d)?(i=xl(d,i),r.tag=1,r=IT(null,r,d,i,l)):(r.tag=0,r=zp(null,r,d,i,l));else{if(d!=null){if(g=d.$$typeof,g===dt){r.tag=11,r=xT(null,r,d,i,l);break t}else if(g===z){r.tag=14,r=ET(null,r,d,i,l);break t}}throw r=jt(d)||d,Error(s(306,r,""))}}return r;case 0:return zp(i,r,r.type,r.pendingProps,l);case 1:return d=r.type,g=xl(d,r.pendingProps),IT(i,r,d,g,l);case 3:t:{if(re(r,r.stateNode.containerInfo),i===null)throw Error(s(387));d=r.pendingProps;var T=r.memoizedState;g=T.element,gp(i,r),Iu(r,d,null,l);var R=r.memoizedState;if(d=R.cache,Tr(r,An,d),d!==T.cache&&oc(r,[An],l,!0),Ru(),d=R.element,T.isDehydrated)if(T={element:d,isDehydrated:!1,cache:R.cache},r.updateQueue.baseState=T,r.memoizedState=T,r.flags&256){r=PT(i,r,d,l);break t}else if(d!==g){g=gi(Error(s(424)),r),eo(g),r=PT(i,r,d,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Mt=Js(i.firstChild),Nt=r,Zt=!0,Ve=null,$e=!0,l=dT(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(to(),d===g){r=aa(i,r,l);break t}Hn(i,r,d,l)}r=r.child}return r;case 26:return Hd(i,r),i===null?(l=jb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Zt||(l=r.type,i=r.pendingProps,d=rf(St.current).createElement(l),d[on]=r,d[Qe]=i,Gn(d,l,i),Ze(d),r.stateNode=d):r.memoizedState=jb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return wi(r),i===null&&Zt&&(d=r.stateNode=kb(r.type,r.pendingProps,St.current),Nt=r,$e=!0,g=Mt,yo(r.type)?(Cg=g,Mt=Js(d.firstChild)):Mt=g),Hn(i,r,r.pendingProps.children,l),Hd(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Zt&&((g=d=Mt)&&(d=tP(d,r.type,r.pendingProps,$e),d!==null?(r.stateNode=d,Nt=r,Mt=Js(d.firstChild),$e=!1,g=!0):g=!1),g||Ai(r)),wi(r),g=r.type,T=r.pendingProps,R=i!==null?i.memoizedProps:null,d=T.children,xg(g,T)?d=null:R!==null&&xg(g,R)&&(r.flags|=32),r.memoizedState!==null&&(g=wp(i,r,_I,null,null,l),Xu._currentValue=g),Hd(i,r),Hn(i,r,d,l),r.child;case 6:return i===null&&Zt&&((i=l=Mt)&&(l=eP(l,r.pendingProps,$e),l!==null?(r.stateNode=l,Nt=r,Mt=null,i=!0):i=!1),i||Ai(r)),null;case 13:return NT(i,r,l);case 4:return re(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=pc(r,null,d,l):Hn(i,r,d,l),r.child;case 11:return xT(i,r,r.type,r.pendingProps,l);case 7:return Hn(i,r,r.pendingProps,l),r.child;case 8:return Hn(i,r,r.pendingProps.children,l),r.child;case 12:return Hn(i,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,Tr(r,r.type,d.value),Hn(i,r,d.children,l),r.child;case 9:return g=r.type._context,d=r.pendingProps.children,Tl(r),g=ni(g),d=d(g),r.flags|=1,Hn(i,r,d,l),r.child;case 14:return ET(i,r,r.type,r.pendingProps,l);case 15:return ST(i,r,r.type,r.pendingProps,l);case 19:return MT(i,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},i===null?(l=qd(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ws(i.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return AT(i,r,l);case 24:return Tl(r),d=ni(An),i===null?(g=fp(),g===null&&(g=je,T=hp(),g.pooledCache=T,T.refCount++,T!==null&&(g.pooledCacheLanes|=l),g=T),r.memoizedState={parent:d,cache:g},pp(r),Tr(r,An,g)):((i.lanes&l)!==0&&(gp(i,r),Iu(r,null,null,l),Ru()),g=i.memoizedState,T=r.memoizedState,g.parent!==d?(g={parent:d,cache:d},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Tr(r,An,d)):(d=T.cache,Tr(r,An,d),d!==g.cache&&oc(r,[An],l,!0))),Hn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function oa(i){i.flags|=4}function kT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Hb(r)){if(r=Es.current,r!==null&&((me&4194048)===me?br!==null:(me&62914560)!==me&&(me&536870912)===0||r!==br))throw Au=mp,_0;i.flags|=8192}}function Gd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Na():536870912,i.lanes|=r,vc|=r)}function Ou(i,r){if(!Zt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ye(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=l,r}function CI(i,r,l){var d=r.pendingProps;switch(It(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(r),null;case 1:return Ye(r),null;case 3:return l=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),Xs(An),li(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(yl(r)?oa(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xd())),Ye(r),null;case 26:return l=r.memoizedState,i===null?(oa(r),l!==null?(Ye(r),kT(r,l)):(Ye(r),r.flags&=-16777217)):l?l!==i.memoizedState?(oa(r),Ye(r),kT(r,l)):(Ye(r),r.flags&=-16777217):(i.memoizedProps!==d&&oa(r),Ye(r),r.flags&=-16777217),null;case 27:ci(r),l=St.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==d&&oa(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}i=xt.current,yl(r)?bd(r):(i=kb(g,d,l),r.stateNode=i,oa(r))}return Ye(r),null;case 5:if(ci(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&oa(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}if(i=xt.current,yl(r))bd(r);else{switch(g=rf(St.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}i[on]=r,i[Qe]=d;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Gn(i,l,d),l){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&oa(r)}}return Ye(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&oa(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,yl(r)){if(i=r.stateNode,l=r.memoizedProps,d=null,g=Nt,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}i[on]=r,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Rb(i.nodeValue,l)),i||Ai(r)}else i=rf(i).createTextNode(d),i[on]=r,r.stateNode=i}return Ye(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=yl(r),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[on]=r}else to(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),g=!1}else g=xd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ra(r),r):(ra(r),null)}if(ra(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,i=i!==null&&i.memoizedState!==null,l){d=r.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var T=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==g&&(d.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Gd(r,r.updateQueue),Ye(r),null;case 4:return li(),i===null&&_g(r.stateNode.containerInfo),Ye(r),null;case 10:return Xs(r.type),Ye(r),null;case 19:if(bt(Cn),g=r.memoizedState,g===null)return Ye(r),null;if(d=(r.flags&128)!==0,T=g.rendering,T===null)if(d)Ou(g,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(T=zd(i),T!==null){for(r.flags|=128,Ou(g,!1),i=T.updateQueue,r.updateQueue=i,Gd(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)bu(l,i),l=l.sibling;return yt(Cn,Cn.current&1|2),r.child}i=i.sibling}g.tail!==null&&fn()>$d&&(r.flags|=128,d=!0,Ou(g,!1),r.lanes=4194304)}else{if(!d)if(i=zd(T),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Gd(r,i),Ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Zt)return Ye(r),null}else 2*fn()-g.renderingStartTime>$d&&l!==536870912&&(r.flags|=128,d=!0,Ou(g,!1),r.lanes=4194304);g.isBackwards?(T.sibling=r.child,r.child=T):(i=g.last,i!==null?i.sibling=T:r.child=T,g.last=T)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=fn(),r.sibling=null,i=Cn.current,yt(Cn,d?i&1|2:i&1),r):(Ye(r),null);case 22:case 23:return ra(r),Tp(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(Ye(r),r.subtreeFlags&6&&(r.flags|=8192)):Ye(r),l=r.updateQueue,l!==null&&Gd(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),i!==null&&bt(bl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xs(An),Ye(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function RI(i,r){switch(It(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xs(An),li(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ci(r),null;case 13:if(ra(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));to()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return bt(Cn),null;case 4:return li(),null;case 10:return Xs(r.type),null;case 22:case 23:return ra(r),Tp(),i!==null&&bt(bl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xs(An),null;case 25:return null;default:return null}}function OT(i,r){switch(It(r),r.tag){case 3:Xs(An),li();break;case 26:case 27:case 5:ci(r);break;case 4:li();break;case 13:ra(r);break;case 19:bt(Cn);break;case 10:Xs(r.type);break;case 22:case 23:ra(r),Tp(),i!==null&&bt(bl);break;case 24:Xs(An)}}function Vu(i,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&i)===i){d=void 0;var T=l.create,R=l.inst;d=T(),R.destroy=d}l=l.next}while(l!==g)}}catch(P){Me(r,r.return,P)}}function lo(i,r,l){try{var d=r.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var T=g.next;d=T;do{if((d.tag&i)===i){var R=d.inst,P=R.destroy;if(P!==void 0){R.destroy=void 0,g=r;var H=l,st=P;try{st()}catch(mt){Me(g,H,mt)}}}d=d.next}while(d!==T)}}catch(mt){Me(r,r.return,mt)}}function VT(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{E0(r,l)}catch(d){Me(i,i.return,d)}}}function jT(i,r,l){l.props=xl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){Me(i,r,d)}}function ju(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(g){Me(i,r,g)}}function wr(i,r){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){Me(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Me(i,r,g)}else l.current=null}function UT(i){var r=i.type,l=i.memoizedProps,d=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break t;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){Me(i,i.return,g)}}function $p(i,r,l){try{var d=i.stateNode;YI(d,i.type,l,r),d[Qe]=r}catch(g){Me(i,i.return,g)}}function zT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yo(i.type)||i.tag===4}function Yp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||zT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yo(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kp(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=sf));else if(d!==4&&(d===27&&yo(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Kp(i,r,l),i=i.sibling;i!==null;)Kp(i,r,l),i=i.sibling}function Wd(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(d!==4&&(d===27&&yo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Wd(i,r,l),i=i.sibling;i!==null;)Wd(i,r,l),i=i.sibling}function BT(i){var r=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Gn(r,d,l),r[on]=i,r[Qe]=l}catch(T){Me(i,i.return,T)}}var la=!1,un=!1,Xp=!1,FT=typeof WeakSet=="function"?WeakSet:Set,On=null;function II(i,r){if(i=i.containerInfo,bg=hf,i=ul(i),hl(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,T=d.focusNode;d=d.focusOffset;try{l.nodeType,T.nodeType}catch{l=null;break t}var R=0,P=-1,H=-1,st=0,mt=0,_t=i,lt=null;e:for(;;){for(var ut;_t!==l||g!==0&&_t.nodeType!==3||(P=R+g),_t!==T||d!==0&&_t.nodeType!==3||(H=R+d),_t.nodeType===3&&(R+=_t.nodeValue.length),(ut=_t.firstChild)!==null;)lt=_t,_t=ut;for(;;){if(_t===i)break e;if(lt===l&&++st===g&&(P=R),lt===T&&++mt===d&&(H=R),(ut=_t.nextSibling)!==null)break;_t=lt,lt=_t.parentNode}_t=ut}l=P===-1||H===-1?null:{start:P,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(wg={focusedElem:i,selectionRange:l},hf=!1,On=r;On!==null;)if(r=On,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,On=i;else for(;On!==null;){switch(r=On,T=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&T!==null){i=void 0,l=r,g=T.memoizedProps,T=T.memoizedState,d=l.stateNode;try{var Gt=xl(l.type,g,l.elementType===l.type);i=d.getSnapshotBeforeUpdate(Gt,T),d.__reactInternalSnapshotBeforeUpdate=i}catch(zt){Me(l,l.return,zt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Sg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,On=i;break}On=r.return}}function HT(i,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:co(i,l),d&4&&Vu(5,l);break;case 1:if(co(i,l),d&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(R){Me(l,l.return,R)}else{var g=xl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Me(l,l.return,R)}}d&64&&VT(l),d&512&&ju(l,l.return);break;case 3:if(co(i,l),d&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{E0(i,r)}catch(R){Me(l,l.return,R)}}break;case 27:r===null&&d&4&&BT(l);case 26:case 5:co(i,l),r===null&&d&4&&UT(l),d&512&&ju(l,l.return);break;case 12:co(i,l);break;case 13:co(i,l),d&4&&WT(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=jI.bind(null,l),nP(i,l))));break;case 22:if(d=l.memoizedState!==null||la,!d){r=r!==null&&r.memoizedState!==null||un,g=la;var T=un;la=d,(un=r)&&!T?uo(i,l,(l.subtreeFlags&8772)!==0):co(i,l),la=g,un=T}break;case 30:break;default:co(i,l)}}function qT(i){var r=i.alternate;r!==null&&(i.alternate=null,qT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Us(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qe=null,Ri=!1;function ca(i,r,l){for(l=l.child;l!==null;)GT(i,r,l),l=l.sibling}function GT(i,r,l){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(Te,l)}catch{}switch(l.tag){case 26:un||wr(l,r),ca(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:un||wr(l,r);var d=qe,g=Ri;yo(l.type)&&(qe=l.stateNode,Ri=!1),ca(i,r,l),Zu(l.stateNode),qe=d,Ri=g;break;case 5:un||wr(l,r);case 6:if(d=qe,g=Ri,qe=null,ca(i,r,l),qe=d,Ri=g,qe!==null)if(Ri)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(T){Me(l,r,T)}else try{qe.removeChild(l.stateNode)}catch(T){Me(l,r,T)}break;case 18:qe!==null&&(Ri?(i=qe,Mb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),eh(i)):Mb(qe,l.stateNode));break;case 4:d=qe,g=Ri,qe=l.stateNode.containerInfo,Ri=!0,ca(i,r,l),qe=d,Ri=g;break;case 0:case 11:case 14:case 15:un||lo(2,l,r),un||lo(4,l,r),ca(i,r,l);break;case 1:un||(wr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&jT(l,r,d)),ca(i,r,l);break;case 21:ca(i,r,l);break;case 22:un=(d=un)||l.memoizedState!==null,ca(i,r,l),un=d;break;default:ca(i,r,l)}}function WT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{eh(i)}catch(l){Me(r,r.return,l)}}function PI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new FT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new FT),r;default:throw Error(s(435,i.tag))}}function Qp(i,r){var l=PI(i);r.forEach(function(d){var g=UI.bind(null,i,d);l.has(d)||(l.add(d),d.then(g,g))})}function Ji(i,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],T=i,R=r,P=R;t:for(;P!==null;){switch(P.tag){case 27:if(yo(P.type)){qe=P.stateNode,Ri=!1;break t}break;case 5:qe=P.stateNode,Ri=!1;break t;case 3:case 4:qe=P.stateNode.containerInfo,Ri=!0;break t}P=P.return}if(qe===null)throw Error(s(160));GT(T,R,g),qe=null,Ri=!1,T=g.alternate,T!==null&&(T.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ZT(r,i),r=r.sibling}var Qs=null;function ZT(i,r){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ji(r,i),ts(i),d&4&&(lo(3,i,i.return),Vu(3,i),lo(5,i,i.return));break;case 1:Ji(r,i),ts(i),d&512&&(un||l===null||wr(l,l.return)),d&64&&la&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Qs;if(Ji(r,i),ts(i),d&512&&(un||l===null||wr(l,l.return)),d&4){var T=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){t:{d=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":T=g.getElementsByTagName("title")[0],(!T||T[cr]||T[on]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=g.createElement(d),g.head.insertBefore(T,g.querySelector("head > title"))),Gn(T,d,l),T[on]=i,Ze(T),d=T;break t;case"link":var R=Bb("link","href",g).get(d+(l.href||""));if(R){for(var P=0;P<R.length;P++)if(T=R[P],T.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&T.getAttribute("rel")===(l.rel==null?null:l.rel)&&T.getAttribute("title")===(l.title==null?null:l.title)&&T.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(P,1);break e}}T=g.createElement(d),Gn(T,d,l),g.head.appendChild(T);break;case"meta":if(R=Bb("meta","content",g).get(d+(l.content||""))){for(P=0;P<R.length;P++)if(T=R[P],T.getAttribute("content")===(l.content==null?null:""+l.content)&&T.getAttribute("name")===(l.name==null?null:l.name)&&T.getAttribute("property")===(l.property==null?null:l.property)&&T.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&T.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(P,1);break e}}T=g.createElement(d),Gn(T,d,l),g.head.appendChild(T);break;default:throw Error(s(468,d))}T[on]=i,Ze(T),d=T}i.stateNode=d}else Fb(g,i.type,i.stateNode);else i.stateNode=zb(g,d,i.memoizedProps);else T!==d?(T===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):T.count--,d===null?Fb(g,i.type,i.stateNode):zb(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&$p(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ji(r,i),ts(i),d&512&&(un||l===null||wr(l,l.return)),l!==null&&d&4&&$p(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ji(r,i),ts(i),d&512&&(un||l===null||wr(l,l.return)),i.flags&32){g=i.stateNode;try{Nn(g,"")}catch(ut){Me(i,i.return,ut)}}d&4&&i.stateNode!=null&&(g=i.memoizedProps,$p(i,g,l!==null?l.memoizedProps:g)),d&1024&&(Xp=!0);break;case 6:if(Ji(r,i),ts(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(ut){Me(i,i.return,ut)}}break;case 3:if(lf=null,g=Qs,Qs=af(r.containerInfo),Ji(r,i),Qs=g,ts(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{eh(r.containerInfo)}catch(ut){Me(i,i.return,ut)}Xp&&(Xp=!1,$T(i));break;case 4:d=Qs,Qs=af(i.stateNode.containerInfo),Ji(r,i),ts(i),Qs=d;break;case 12:Ji(r,i),ts(i);break;case 13:Ji(r,i),ts(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sg=fn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qp(i,d)));break;case 22:g=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,st=la,mt=un;if(la=st||g,un=mt||H,Ji(r,i),un=mt,la=st,ts(i),d&8192)t:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||H||la||un||El(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){H=l=r;try{if(T=H.stateNode,g)R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{P=H.stateNode;var _t=H.memoizedProps.style,lt=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;P.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(ut){Me(H,H.return,ut)}}}else if(r.tag===6){if(l===null){H=r;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(ut){Me(H,H.return,ut)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Qp(i,l))));break;case 19:Ji(r,i),ts(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qp(i,d)));break;case 30:break;case 21:break;default:Ji(r,i),ts(i)}}function ts(i){var r=i.flags;if(r&2){try{for(var l,d=i.return;d!==null;){if(zT(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,T=Yp(i);Wd(i,T,g);break;case 5:var R=l.stateNode;l.flags&32&&(Nn(R,""),l.flags&=-33);var P=Yp(i);Wd(i,P,R);break;case 3:case 4:var H=l.stateNode.containerInfo,st=Yp(i);Kp(i,st,H);break;default:throw Error(s(161))}}catch(mt){Me(i,i.return,mt)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function $T(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;$T(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function co(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)HT(i,r.alternate,r),r=r.sibling}function El(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:lo(4,r,r.return),El(r);break;case 1:wr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&jT(r,r.return,l),El(r);break;case 27:Zu(r.stateNode);case 26:case 5:wr(r,r.return),El(r);break;case 22:r.memoizedState===null&&El(r);break;case 30:El(r);break;default:El(r)}i=i.sibling}}function uo(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,g=i,T=r,R=T.flags;switch(T.tag){case 0:case 11:case 15:uo(g,T,l),Vu(4,T);break;case 1:if(uo(g,T,l),d=T,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(st){Me(d,d.return,st)}if(d=T,g=d.updateQueue,g!==null){var P=d.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)x0(H[g],P)}catch(st){Me(d,d.return,st)}}l&&R&64&&VT(T),ju(T,T.return);break;case 27:BT(T);case 26:case 5:uo(g,T,l),l&&d===null&&R&4&&UT(T),ju(T,T.return);break;case 12:uo(g,T,l);break;case 13:uo(g,T,l),l&&R&4&&WT(g,T);break;case 22:T.memoizedState===null&&uo(g,T,l),ju(T,T.return);break;case 30:break;default:uo(g,T,l)}r=r.sibling}}function Jp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&xu(l))}function tg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xu(i))}function xr(i,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)YT(i,r,l,d),r=r.sibling}function YT(i,r,l,d){var g=r.flags;switch(r.tag){case 0:case 11:case 15:xr(i,r,l,d),g&2048&&Vu(9,r);break;case 1:xr(i,r,l,d);break;case 3:xr(i,r,l,d),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xu(i)));break;case 12:if(g&2048){xr(i,r,l,d),i=r.stateNode;try{var T=r.memoizedProps,R=T.id,P=T.onPostCommit;typeof P=="function"&&P(R,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Me(r,r.return,H)}}else xr(i,r,l,d);break;case 13:xr(i,r,l,d);break;case 23:break;case 22:T=r.stateNode,R=r.alternate,r.memoizedState!==null?T._visibility&2?xr(i,r,l,d):Uu(i,r):T._visibility&2?xr(i,r,l,d):(T._visibility|=2,gc(i,r,l,d,(r.subtreeFlags&10256)!==0)),g&2048&&Jp(R,r);break;case 24:xr(i,r,l,d),g&2048&&tg(r.alternate,r);break;default:xr(i,r,l,d)}}function gc(i,r,l,d,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var T=i,R=r,P=l,H=d,st=R.flags;switch(R.tag){case 0:case 11:case 15:gc(T,R,P,H,g),Vu(8,R);break;case 23:break;case 22:var mt=R.stateNode;R.memoizedState!==null?mt._visibility&2?gc(T,R,P,H,g):Uu(T,R):(mt._visibility|=2,gc(T,R,P,H,g)),g&&st&2048&&Jp(R.alternate,R);break;case 24:gc(T,R,P,H,g),g&&st&2048&&tg(R.alternate,R);break;default:gc(T,R,P,H,g)}r=r.sibling}}function Uu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,d=r,g=d.flags;switch(d.tag){case 22:Uu(l,d),g&2048&&Jp(d.alternate,d);break;case 24:Uu(l,d),g&2048&&tg(d.alternate,d);break;default:Uu(l,d)}r=r.sibling}}var zu=8192;function yc(i){if(i.subtreeFlags&zu)for(i=i.child;i!==null;)KT(i),i=i.sibling}function KT(i){switch(i.tag){case 26:yc(i),i.flags&zu&&i.memoizedState!==null&&pP(Qs,i.memoizedState,i.memoizedProps);break;case 5:yc(i);break;case 3:case 4:var r=Qs;Qs=af(i.stateNode.containerInfo),yc(i),Qs=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=zu,zu=16777216,yc(i),zu=r):yc(i));break;default:yc(i)}}function XT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Bu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];On=d,JT(d,i)}XT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)QT(i),i=i.sibling}function QT(i){switch(i.tag){case 0:case 11:case 15:Bu(i),i.flags&2048&&lo(9,i,i.return);break;case 3:Bu(i);break;case 12:Bu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Zd(i)):Bu(i);break;default:Bu(i)}}function Zd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];On=d,JT(d,i)}XT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:lo(8,r,r.return),Zd(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Zd(r));break;default:Zd(r)}i=i.sibling}}function JT(i,r){for(;On!==null;){var l=On;switch(l.tag){case 0:case 11:case 15:lo(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:xu(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,On=d;else t:for(l=i;On!==null;){d=On;var g=d.sibling,T=d.return;if(qT(d),d===l){On=null;break t}if(g!==null){g.return=T,On=g;break t}On=T}}}var NI={getCacheForType:function(i){var r=ni(An),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},LI=typeof WeakMap=="function"?WeakMap:Map,Ae=0,je=null,ae=null,me=0,Ce=0,es=null,ho=!1,_c=!1,eg=!1,ua=0,tn=0,fo=0,Sl=0,ng=0,Ss=0,vc=0,Fu=null,Ii=null,ig=!1,sg=0,$d=1/0,Yd=null,mo=null,qn=0,po=null,Tc=null,bc=0,rg=0,ag=null,tb=null,Hu=0,og=null;function ns(){if((Ae&2)!==0&&me!==0)return me&-me;if(U.T!==null){var i=lc;return i!==0?i:mg()}return lr()}function eb(){Ss===0&&(Ss=(me&536870912)===0||Zt?Ko():536870912);var i=Es.current;return i!==null&&(i.flags|=32),Ss}function is(i,r,l){(i===je&&(Ce===2||Ce===9)||i.cancelPendingCommit!==null)&&(wc(i,0),go(i,me,Ss,!1)),cs(i,l),((Ae&2)===0||i!==je)&&(i===je&&((Ae&2)===0&&(Sl|=l),tn===4&&go(i,me,Ss,!1)),Er(i))}function nb(i,r,l){if((Ae&6)!==0)throw Error(s(327));var d=!l&&(r&124)===0&&(r&i.expiredLanes)===0||Ui(i,r),g=d?kI(i,r):ug(i,r,!0),T=d;do{if(g===0){_c&&!d&&go(i,r,0,!1);break}else{if(l=i.current.alternate,T&&!MI(l)){g=ug(i,r,!1),T=!1;continue}if(g===2){if(T=r,i.errorRecoveryDisabledLanes&T)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){r=R;t:{var P=i;g=Fu;var H=P.current.memoizedState.isDehydrated;if(H&&(wc(P,R).flags|=256),R=ug(P,R,!1),R!==2){if(eg&&!H){P.errorRecoveryDisabledLanes|=T,Sl|=T,g=4;break t}T=Ii,Ii=g,T!==null&&(Ii===null?Ii=T:Ii.push.apply(Ii,T))}g=R}if(T=!1,g!==2)continue}}if(g===1){wc(i,0),go(i,r,0,!0);break}t:{switch(d=i,T=g,T){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:go(d,r,Ss,!ho);break t;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=sg+300-fn(),10<g)){if(go(d,r,Ss,!ho),Vs(d,0,!0)!==0)break t;d.timeoutHandle=Nb(ib.bind(null,d,l,Ii,Yd,ig,r,Ss,Sl,vc,ho,T,2,-0,0),g);break t}ib(d,l,Ii,Yd,ig,r,Ss,Sl,vc,ho,T,0,-0,0)}}break}while(!0);Er(i)}function ib(i,r,l,d,g,T,R,P,H,st,mt,_t,lt,ut){if(i.timeoutHandle=-1,_t=r.subtreeFlags,(_t&8192||(_t&16785408)===16785408)&&(Ku={stylesheets:null,count:0,unsuspend:mP},KT(r),_t=gP(),_t!==null)){i.cancelPendingCommit=_t(ub.bind(null,i,r,T,l,d,g,R,P,H,mt,1,lt,ut)),go(i,T,R,!st);return}ub(i,r,T,l,d,g,R,P,H)}function MI(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],T=g.getSnapshot;g=g.value;try{if(!mi(T(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function go(i,r,l,d){r&=~ng,r&=~Sl,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var g=r;0<g;){var T=31-pn(g),R=1<<T;d[T]=-1,g&=~R}l!==0&&us(i,l,r)}function Kd(){return(Ae&6)===0?(qu(0),!1):!0}function lg(){if(ae!==null){if(Ce===0)var i=ae.return;else i=ae,Ks=xs=null,Sp(i),mc=null,Du=0,i=ae;for(;i!==null;)OT(i.alternate,i),i=i.return;ae=null}}function wc(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,XI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),lg(),je=i,ae=l=ws(i.current,null),me=r,Ce=0,es=null,ho=!1,_c=Ui(i,r),eg=!1,vc=Ss=ng=Sl=fo=tn=0,Ii=Fu=null,ig=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var g=31-pn(d),T=1<<g;r|=i[g],d&=~T}return ua=r,fl(),l}function sb(i,r){ee=null,U.H=Vd,r===Su||r===Cd?(r=b0(),Ce=3):r===_0?(r=b0(),Ce=4):Ce=r===wT?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,es=r,ae===null&&(tn=1,Fd(i,gi(r,i.current)))}function rb(){var i=U.H;return U.H=Vd,i===null?Vd:i}function ab(){var i=U.A;return U.A=NI,i}function cg(){tn=4,ho||(me&4194048)!==me&&Es.current!==null||(_c=!0),(fo&134217727)===0&&(Sl&134217727)===0||je===null||go(je,me,Ss,!1)}function ug(i,r,l){var d=Ae;Ae|=2;var g=rb(),T=ab();(je!==i||me!==r)&&(Yd=null,wc(i,r)),r=!1;var R=tn;t:do try{if(Ce!==0&&ae!==null){var P=ae,H=es;switch(Ce){case 8:lg(),R=6;break t;case 3:case 2:case 9:case 6:Es.current===null&&(r=!0);var st=Ce;if(Ce=0,es=null,xc(i,P,H,st),l&&_c){R=0;break t}break;default:st=Ce,Ce=0,es=null,xc(i,P,H,st)}}DI(),R=tn;break}catch(mt){sb(i,mt)}while(!0);return r&&i.shellSuspendCounter++,Ks=xs=null,Ae=d,U.H=g,U.A=T,ae===null&&(je=null,me=0,fl()),R}function DI(){for(;ae!==null;)ob(ae)}function kI(i,r){var l=Ae;Ae|=2;var d=rb(),g=ab();je!==i||me!==r?(Yd=null,$d=fn()+500,wc(i,r)):_c=Ui(i,r);t:do try{if(Ce!==0&&ae!==null){r=ae;var T=es;e:switch(Ce){case 1:Ce=0,es=null,xc(i,r,T,1);break;case 2:case 9:if(v0(T)){Ce=0,es=null,lb(r);break}r=function(){Ce!==2&&Ce!==9||je!==i||(Ce=7),Er(i)},T.then(r,r);break t;case 3:Ce=7;break t;case 4:Ce=5;break t;case 7:v0(T)?(Ce=0,es=null,lb(r)):(Ce=0,es=null,xc(i,r,T,7));break;case 5:var R=null;switch(ae.tag){case 26:R=ae.memoizedState;case 5:case 27:var P=ae;if(!R||Hb(R)){Ce=0,es=null;var H=P.sibling;if(H!==null)ae=H;else{var st=P.return;st!==null?(ae=st,Xd(st)):ae=null}break e}}Ce=0,es=null,xc(i,r,T,5);break;case 6:Ce=0,es=null,xc(i,r,T,6);break;case 8:lg(),tn=6;break t;default:throw Error(s(462))}}OI();break}catch(mt){sb(i,mt)}while(!0);return Ks=xs=null,U.H=d,U.A=g,Ae=l,ae!==null?0:(je=null,me=0,fl(),tn)}function OI(){for(;ae!==null&&!ve();)ob(ae)}function ob(i){var r=DT(i.alternate,i,ua);i.memoizedProps=i.pendingProps,r===null?Xd(i):ae=r}function lb(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=RT(l,r,r.pendingProps,r.type,void 0,me);break;case 11:r=RT(l,r,r.pendingProps,r.type.render,r.ref,me);break;case 5:Sp(r);default:OT(l,r),r=ae=bu(r,ua),r=DT(l,r,ua)}i.memoizedProps=i.pendingProps,r===null?Xd(i):ae=r}function xc(i,r,l,d){Ks=xs=null,Sp(r),mc=null,Du=0;var g=r.return;try{if(SI(i,g,r,l,me)){tn=1,Fd(i,gi(l,i.current)),ae=null;return}}catch(T){if(g!==null)throw ae=g,T;tn=1,Fd(i,gi(l,i.current)),ae=null;return}r.flags&32768?(Zt||d===1?i=!0:_c||(me&536870912)!==0?i=!1:(ho=i=!0,(d===2||d===9||d===3||d===6)&&(d=Es.current,d!==null&&d.tag===13&&(d.flags|=16384))),cb(r,i)):Xd(r)}function Xd(i){var r=i;do{if((r.flags&32768)!==0){cb(r,ho);return}i=r.return;var l=CI(r.alternate,r,ua);if(l!==null){ae=l;return}if(r=r.sibling,r!==null){ae=r;return}ae=r=i}while(r!==null);tn===0&&(tn=5)}function cb(i,r){do{var l=RI(i.alternate,i);if(l!==null){l.flags&=32767,ae=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){ae=i;return}ae=i=l}while(i!==null);tn=6,ae=null}function ub(i,r,l,d,g,T,R,P,H){i.cancelPendingCommit=null;do Qd();while(qn!==0);if((Ae&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(T=r.lanes|r.childLanes,T|=Qi,Xo(i,l,T,R,P,H),i===je&&(ae=je=null,me=0),Tc=r,po=i,bc=l,rg=T,ag=g,tb=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,zI(hi,function(){return pb(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=U.T,U.T=null,g=at.p,at.p=2,R=Ae,Ae|=4;try{II(i,r,l)}finally{Ae=R,at.p=g,U.T=d}}qn=1,hb(),db(),fb()}}function hb(){if(qn===1){qn=0;var i=po,r=Tc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var d=at.p;at.p=2;var g=Ae;Ae|=4;try{ZT(r,i);var T=wg,R=ul(i.containerInfo),P=T.focusedElem,H=T.selectionRange;if(R!==P&&P&&P.ownerDocument&&tc(P.ownerDocument.documentElement,P)){if(H!==null&&hl(P)){var st=H.start,mt=H.end;if(mt===void 0&&(mt=st),"selectionStart"in P)P.selectionStart=st,P.selectionEnd=Math.min(mt,P.value.length);else{var _t=P.ownerDocument||document,lt=_t&&_t.defaultView||window;if(lt.getSelection){var ut=lt.getSelection(),Gt=P.textContent.length,zt=Math.min(H.start,Gt),Ne=H.end===void 0?zt:Math.min(H.end,Gt);!ut.extend&&zt>Ne&&(R=Ne,Ne=zt,zt=R);var Q=vu(P,zt),K=vu(P,Ne);if(Q&&K&&(ut.rangeCount!==1||ut.anchorNode!==Q.node||ut.anchorOffset!==Q.offset||ut.focusNode!==K.node||ut.focusOffset!==K.offset)){var it=_t.createRange();it.setStart(Q.node,Q.offset),ut.removeAllRanges(),zt>Ne?(ut.addRange(it),ut.extend(K.node,K.offset)):(it.setEnd(K.node,K.offset),ut.addRange(it))}}}}for(_t=[],ut=P;ut=ut.parentNode;)ut.nodeType===1&&_t.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<_t.length;P++){var gt=_t[P];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}hf=!!bg,wg=bg=null}finally{Ae=g,at.p=d,U.T=l}}i.current=r,qn=2}}function db(){if(qn===2){qn=0;var i=po,r=Tc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var d=at.p;at.p=2;var g=Ae;Ae|=4;try{HT(i,r.alternate,r)}finally{Ae=g,at.p=d,U.T=l}}qn=3}}function fb(){if(qn===4||qn===3){qn=0,We();var i=po,r=Tc,l=bc,d=tb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qn=5:(qn=0,Tc=po=null,mb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(mo=null),La(l),r=r.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(Te,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=U.T,g=at.p,at.p=2,U.T=null;try{for(var T=i.onRecoverableError,R=0;R<d.length;R++){var P=d[R];T(P.value,{componentStack:P.stack})}}finally{U.T=r,at.p=g}}(bc&3)!==0&&Qd(),Er(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===og?Hu++:(Hu=0,og=i):Hu=0,qu(0)}}function mb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,xu(r)))}function Qd(i){return hb(),db(),fb(),pb()}function pb(){if(qn!==5)return!1;var i=po,r=rg;rg=0;var l=La(bc),d=U.T,g=at.p;try{at.p=32>l?32:l,U.T=null,l=ag,ag=null;var T=po,R=bc;if(qn=0,Tc=po=null,bc=0,(Ae&6)!==0)throw Error(s(331));var P=Ae;if(Ae|=4,QT(T.current),YT(T,T.current,R,l),Ae=P,qu(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(Te,T)}catch{}return!0}finally{at.p=g,U.T=d,mb(i,r)}}function gb(i,r,l){r=gi(l,r),r=Up(i.stateNode,r,2),i=so(i,r,2),i!==null&&(cs(i,2),Er(i))}function Me(i,r,l){if(i.tag===3)gb(i,i,l);else for(;r!==null;){if(r.tag===3){gb(r,i,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(mo===null||!mo.has(d))){i=gi(l,i),l=TT(2),d=so(r,l,2),d!==null&&(bT(l,d,r,i),cs(d,2),Er(d));break}}r=r.return}}function hg(i,r,l){var d=i.pingCache;if(d===null){d=i.pingCache=new LI;var g=new Set;d.set(r,g)}else g=d.get(r),g===void 0&&(g=new Set,d.set(r,g));g.has(l)||(eg=!0,g.add(l),i=VI.bind(null,i,r,l),r.then(i,i))}function VI(i,r,l){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,je===i&&(me&l)===l&&(tn===4||tn===3&&(me&62914560)===me&&300>fn()-sg?(Ae&2)===0&&wc(i,0):ng|=l,vc===me&&(vc=0)),Er(i)}function yb(i,r){r===0&&(r=Na()),i=Qa(i,r),i!==null&&(cs(i,r),Er(i))}function jI(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),yb(i,l)}function UI(i,r){var l=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),yb(i,l)}function zI(i,r){return ji(i,r)}var Jd=null,Ec=null,dg=!1,tf=!1,fg=!1,Al=0;function Er(i){i!==Ec&&i.next===null&&(Ec===null?Jd=Ec=i:Ec=Ec.next=i),tf=!0,dg||(dg=!0,FI())}function qu(i,r){if(!fg&&tf){fg=!0;do for(var l=!1,d=Jd;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var T=0;else{var R=d.suspendedLanes,P=d.pingedLanes;T=(1<<31-pn(42|i)+1)-1,T&=g&~(R&~P),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(l=!0,bb(d,T))}else T=me,T=Vs(d,d===je?T:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(T&3)===0||Ui(d,T)||(l=!0,bb(d,T));d=d.next}while(l);fg=!1}}function BI(){_b()}function _b(){tf=dg=!1;var i=0;Al!==0&&(KI()&&(i=Al),Al=0);for(var r=fn(),l=null,d=Jd;d!==null;){var g=d.next,T=vb(d,r);T===0?(d.next=null,l===null?Jd=g:l.next=g,g===null&&(Ec=l)):(l=d,(i!==0||(T&3)!==0)&&(tf=!0)),d=g}qu(i)}function vb(i,r){for(var l=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,T=i.pendingLanes&-62914561;0<T;){var R=31-pn(T),P=1<<R,H=g[R];H===-1?((P&l)===0||(P&d)!==0)&&(g[R]=Yo(P,r)):H<=r&&(i.expiredLanes|=P),T&=~P}if(r=je,l=me,l=Vs(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===r&&(Ce===2||Ce===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Os(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ui(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(d!==null&&Os(d),La(l)){case 2:case 8:l=as;break;case 32:l=hi;break;case 268435456:l=os;break;default:l=hi}return d=Tb.bind(null,i),l=ji(l,d),i.callbackPriority=r,i.callbackNode=l,r}return d!==null&&d!==null&&Os(d),i.callbackPriority=2,i.callbackNode=null,2}function Tb(i,r){if(qn!==0&&qn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Qd()&&i.callbackNode!==l)return null;var d=me;return d=Vs(i,i===je?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(nb(i,d,r),vb(i,fn()),i.callbackNode!=null&&i.callbackNode===l?Tb.bind(null,i):null)}function bb(i,r){if(Qd())return null;nb(i,r,!0)}function FI(){QI(function(){(Ae&6)!==0?ji(zr,BI):_b()})}function mg(){return Al===0&&(Al=Ko()),Al}function wb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mr(""+i)}function xb(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function HI(i,r,l,d,g){if(r==="submit"&&l&&l.stateNode===g){var T=wb((g[Qe]||null).action),R=d.submitter;R&&(r=(r=R[Qe]||null)?wb(r.formAction):R.getAttribute("formAction"),r!==null&&(T=r,R=null));var P=new $r("action","action",null,d,g);i.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Al!==0){var H=R?xb(g,R):new FormData(g);Dp(l,{pending:!0,data:H,method:g.method,action:T},null,H)}}else typeof T=="function"&&(P.preventDefault(),H=R?xb(g,R):new FormData(g),Dp(l,{pending:!0,data:H,method:g.method,action:T},T,H))},currentTarget:g}]})}}for(var pg=0;pg<Jr.length;pg++){var gg=Jr[pg],qI=gg.toLowerCase(),GI=gg[0].toUpperCase()+gg.slice(1);Xi(qI,"on"+GI)}Xi(_d,"onAnimationEnd"),Xi(Ki,"onAnimationIteration"),Xi(dl,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(cp,"onTransitionRun"),Xi(sc,"onTransitionStart"),Xi(up,"onTransitionCancel"),Xi(Tu,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Eb(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],g=d.event;d=d.listeners;t:{var T=void 0;if(r)for(var R=d.length-1;0<=R;R--){var P=d[R],H=P.instance,st=P.currentTarget;if(P=P.listener,H!==T&&g.isPropagationStopped())break t;T=P,g.currentTarget=st;try{T(g)}catch(mt){Bd(mt)}g.currentTarget=null,T=H}else for(R=0;R<d.length;R++){if(P=d[R],H=P.instance,st=P.currentTarget,P=P.listener,H!==T&&g.isPropagationStopped())break t;T=P,g.currentTarget=st;try{T(g)}catch(mt){Bd(mt)}g.currentTarget=null,T=H}}}}function oe(i,r){var l=r[Xn];l===void 0&&(l=r[Xn]=new Set);var d=i+"__bubble";l.has(d)||(Sb(r,i,2,!1),l.add(d))}function yg(i,r,l){var d=0;r&&(d|=4),Sb(l,i,d,r)}var ef="_reactListening"+Math.random().toString(36).slice(2);function _g(i){if(!i[ef]){i[ef]=!0,tl.forEach(function(l){l!=="selectionchange"&&(WI.has(l)||yg(l,!1,i),yg(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ef]||(r[ef]=!0,yg("selectionchange",!1,r))}}function Sb(i,r,l,d){switch(Yb(r)){case 2:var g=vP;break;case 8:g=TP;break;default:g=Lg}l=g.bind(null,r,l,i),g=void 0,!Qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function vg(i,r,l,d,g){var T=d;if((r&1)===0&&(r&2)===0&&d!==null)t:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var P=d.stateNode.containerInfo;if(P===g)break;if(R===4)for(R=d.return;R!==null;){var H=R.tag;if((H===3||H===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;P!==null;){if(R=zi(P),R===null)return;if(H=R.tag,H===5||H===6||H===26||H===27){d=T=R;continue t}P=P.parentNode}}d=d.return}fi(function(){var st=T,mt=Fn(l),_t=[];t:{var lt=vd.get(i);if(lt!==void 0){var ut=$r,Gt=i;switch(i){case"keypress":if(Re(l)===0)break t;case"keydown":case"keyup":ut=Ha;break;case"focusin":Gt="focus",ut=ja;break;case"focusout":Gt="blur",ut=ja;break;case"beforeblur":case"afterblur":ut=ja;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Kl;break;case _d:case Ki:case dl:ut=za;break;case Tu:ut=Xl;break;case"scroll":case"scrollend":ut=$l;break;case"wheel":ut=Xr;break;case"copy":case"cut":case"paste":ut=pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=qa;break;case"toggle":case"beforetoggle":ut=_s}var zt=(r&4)!==0,Ne=!zt&&(i==="scroll"||i==="scrollend"),Q=zt?lt!==null?lt+"Capture":null:lt;zt=[];for(var K=st,it;K!==null;){var gt=K;if(it=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||it===null||Q===null||(gt=fe(K,Q),gt!=null&&zt.push(Wu(K,gt,it))),Ne)break;K=K.return}0<zt.length&&(lt=new ut(lt,Gt,null,l,mt),_t.push({event:lt,listeners:zt}))}}if((r&7)===0){t:{if(lt=i==="mouseover"||i==="pointerover",ut=i==="mouseout"||i==="pointerout",lt&&l!==Gi&&(Gt=l.relatedTarget||l.fromElement)&&(zi(Gt)||Gt[xi]))break t;if((ut||lt)&&(lt=mt.window===mt?mt:(lt=mt.ownerDocument)?lt.defaultView||lt.parentWindow:window,ut?(Gt=l.relatedTarget||l.toElement,ut=st,Gt=Gt?zi(Gt):null,Gt!==null&&(Ne=c(Gt),zt=Gt.tag,Gt!==Ne||zt!==5&&zt!==27&&zt!==6)&&(Gt=null)):(ut=null,Gt=st),ut!==Gt)){if(zt=Mn,gt="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(zt=qa,gt="onPointerLeave",Q="onPointerEnter",K="pointer"),Ne=ut==null?lt:zn(ut),it=Gt==null?lt:zn(Gt),lt=new zt(gt,K+"leave",ut,l,mt),lt.target=Ne,lt.relatedTarget=it,gt=null,zi(mt)===st&&(zt=new zt(Q,K+"enter",Gt,l,mt),zt.target=it,zt.relatedTarget=Ne,gt=zt),Ne=gt,ut&&Gt)e:{for(zt=ut,Q=Gt,K=0,it=zt;it;it=Sc(it))K++;for(it=0,gt=Q;gt;gt=Sc(gt))it++;for(;0<K-it;)zt=Sc(zt),K--;for(;0<it-K;)Q=Sc(Q),it--;for(;K--;){if(zt===Q||Q!==null&&zt===Q.alternate)break e;zt=Sc(zt),Q=Sc(Q)}zt=null}else zt=null;ut!==null&&Ab(_t,lt,ut,zt,!1),Gt!==null&&Ne!==null&&Ab(_t,Ne,Gt,zt,!0)}}t:{if(lt=st?zn(st):window,ut=lt.nodeName&&lt.nodeName.toLowerCase(),ut==="select"||ut==="input"&&lt.type==="file")var Lt=Wa;else if(Oe(lt))if(gu)Lt=lp;else{Lt=op;var se=_u}else ut=lt.nodeName,!ut||ut.toLowerCase()!=="input"||lt.type!=="checkbox"&&lt.type!=="radio"?st&&Zr(st.elementType)&&(Lt=Wa):Lt=Ys;if(Lt&&(Lt=Lt(i,st))){Zs(_t,Lt,l,mt);break t}se&&se(i,lt,st),i==="focusout"&&st&&lt.type==="number"&&st.memoizedProps.value!=null&&Hi(lt,"number",lt.value)}switch(se=st?zn(st):window,i){case"focusin":(Oe(se)||se.contentEditable==="true")&&(Yi=se,Ya=st,Qr=null);break;case"focusout":Qr=Ya=Yi=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,gd(_t,l,mt);break;case"selectionchange":if(ec)break;case"keydown":case"keyup":gd(_t,l,mt)}var Ot;if(ei)t:{switch(i){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else le?ft(i,l)&&(Bt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Bt="onCompositionStart");Bt&&(C&&l.locale!=="ko"&&(le||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&le&&(Ot=Hs()):(Si=mt,Jn="value"in Si?Si.value:Si.textContent,le=!0)),se=nf(st,Bt),0<se.length&&(Bt=new ti(Bt,i,null,l,mt),_t.push({event:Bt,listeners:se}),Ot?Bt.data=Ot:(Ot=At(l),Ot!==null&&(Bt.data=Ot)))),(Ot=x?Je(i,l):ce(i,l))&&(Bt=nf(st,"onBeforeInput"),0<Bt.length&&(se=new ti("onBeforeInput","beforeinput",null,l,mt),_t.push({event:se,listeners:Bt}),se.data=Ot)),HI(_t,i,st,l,mt)}Eb(_t,r)})}function Wu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function nf(i,r){for(var l=r+"Capture",d=[];i!==null;){var g=i,T=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||T===null||(g=fe(i,l),g!=null&&d.unshift(Wu(i,g,T)),g=fe(i,r),g!=null&&d.push(Wu(i,g,T))),i.tag===3)return d;i=i.return}return[]}function Sc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ab(i,r,l,d,g){for(var T=r._reactName,R=[];l!==null&&l!==d;){var P=l,H=P.alternate,st=P.stateNode;if(P=P.tag,H!==null&&H===d)break;P!==5&&P!==26&&P!==27||st===null||(H=st,g?(st=fe(l,T),st!=null&&R.unshift(Wu(l,st,H))):g||(st=fe(l,T),st!=null&&R.push(Wu(l,st,H)))),l=l.return}R.length!==0&&i.push({event:r,listeners:R})}var ZI=/\r\n?/g,$I=/\u0000|\uFFFD/g;function Cb(i){return(typeof i=="string"?i:""+i).replace(ZI,`
`).replace($I,"")}function Rb(i,r){return r=Cb(r),Cb(i)===r}function sf(){}function Pe(i,r,l,d,g,T){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Nn(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Nn(i,""+d);break;case"className":ds(i,"class",d);break;case"tabIndex":ds(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(i,l,d);break;case"style":Bs(i,d,T);break;case"data":if(r!=="object"){ds(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=mr(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(l==="formAction"?(r!=="input"&&Pe(i,r,"name",g.name,g,null),Pe(i,r,"formEncType",g.formEncType,g,null),Pe(i,r,"formMethod",g.formMethod,g,null),Pe(i,r,"formTarget",g.formTarget,g,null)):(Pe(i,r,"encType",g.encType,g,null),Pe(i,r,"method",g.method,g,null),Pe(i,r,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=mr(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=sf);break;case"onScroll":d!=null&&oe("scroll",i);break;case"onScrollEnd":d!=null&&oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=mr(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":oe("beforetoggle",i),oe("toggle",i),ur(i,"popover",d);break;case"xlinkActuate":En(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":En(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":En(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":En(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":En(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":En(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":En(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":En(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":En(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ur(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=nl.get(l)||l,ur(i,l,d))}}function Tg(i,r,l,d,g,T){switch(l){case"style":Bs(i,d,T);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Nn(i,d):(typeof d=="number"||typeof d=="bigint")&&Nn(i,""+d);break;case"onScroll":d!=null&&oe("scroll",i);break;case"onScrollEnd":d!=null&&oe("scrollend",i);break;case"onClick":d!=null&&(i.onclick=sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),T=i[Qe]||null,T=T!=null?T[l]:null,typeof T=="function"&&i.removeEventListener(r,T,g),typeof d=="function")){typeof T!="function"&&T!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,d,g);break t}l in i?i[l]=d:d===!0?i.setAttribute(l,""):ur(i,l,d)}}}function Gn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",i),oe("load",i);var d=!1,g=!1,T;for(T in l)if(l.hasOwnProperty(T)){var R=l[T];if(R!=null)switch(T){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Pe(i,r,T,R,l,null)}}g&&Pe(i,r,"srcSet",l.srcSet,l,null),d&&Pe(i,r,"src",l.src,l,null);return;case"input":oe("invalid",i);var P=T=R=g=null,H=null,st=null;for(d in l)if(l.hasOwnProperty(d)){var mt=l[d];if(mt!=null)switch(d){case"name":g=mt;break;case"type":R=mt;break;case"checked":H=mt;break;case"defaultChecked":st=mt;break;case"value":T=mt;break;case"defaultValue":P=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,r));break;default:Pe(i,r,d,mt,l,null)}}Wr(i,T,P,H,st,R,g,!1),fr(i);return;case"select":oe("invalid",i),d=R=T=null;for(g in l)if(l.hasOwnProperty(g)&&(P=l[g],P!=null))switch(g){case"value":T=P;break;case"defaultValue":R=P;break;case"multiple":d=P;default:Pe(i,r,g,P,l,null)}r=T,l=R,i.multiple=!!d,r!=null?Bn(i,!!d,r,!1):l!=null&&Bn(i,!!d,l,!0);return;case"textarea":oe("invalid",i),T=g=d=null;for(R in l)if(l.hasOwnProperty(R)&&(P=l[R],P!=null))switch(R){case"value":d=P;break;case"defaultValue":g=P;break;case"children":T=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:Pe(i,r,R,P,l,null)}di(i,d,g,T),fr(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(d=l[H],d!=null))switch(H){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Pe(i,r,H,d,l,null)}return;case"dialog":oe("beforetoggle",i),oe("toggle",i),oe("cancel",i),oe("close",i);break;case"iframe":case"object":oe("load",i);break;case"video":case"audio":for(d=0;d<Gu.length;d++)oe(Gu[d],i);break;case"image":oe("error",i),oe("load",i);break;case"details":oe("toggle",i);break;case"embed":case"source":case"link":oe("error",i),oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in l)if(l.hasOwnProperty(st)&&(d=l[st],d!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Pe(i,r,st,d,l,null)}return;default:if(Zr(r)){for(mt in l)l.hasOwnProperty(mt)&&(d=l[mt],d!==void 0&&Tg(i,r,mt,d,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(d=l[P],d!=null&&Pe(i,r,P,d,l,null))}function YI(i,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,T=null,R=null,P=null,H=null,st=null,mt=null;for(ut in l){var _t=l[ut];if(l.hasOwnProperty(ut)&&_t!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":H=_t;default:d.hasOwnProperty(ut)||Pe(i,r,ut,null,d,_t)}}for(var lt in d){var ut=d[lt];if(_t=l[lt],d.hasOwnProperty(lt)&&(ut!=null||_t!=null))switch(lt){case"type":T=ut;break;case"name":g=ut;break;case"checked":st=ut;break;case"defaultChecked":mt=ut;break;case"value":R=ut;break;case"defaultValue":P=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(s(137,r));break;default:ut!==_t&&Pe(i,r,lt,ut,d,_t)}}ke(i,R,P,H,st,mt,T,g);return;case"select":ut=R=P=lt=null;for(T in l)if(H=l[T],l.hasOwnProperty(T)&&H!=null)switch(T){case"value":break;case"multiple":ut=H;default:d.hasOwnProperty(T)||Pe(i,r,T,null,d,H)}for(g in d)if(T=d[g],H=l[g],d.hasOwnProperty(g)&&(T!=null||H!=null))switch(g){case"value":lt=T;break;case"defaultValue":P=T;break;case"multiple":R=T;default:T!==H&&Pe(i,r,g,T,d,H)}r=P,l=R,d=ut,lt!=null?Bn(i,!!l,lt,!1):!!d!=!!l&&(r!=null?Bn(i,!!l,r,!0):Bn(i,!!l,l?[]:"",!1));return;case"textarea":ut=lt=null;for(P in l)if(g=l[P],l.hasOwnProperty(P)&&g!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Pe(i,r,P,null,d,g)}for(R in d)if(g=d[R],T=l[R],d.hasOwnProperty(R)&&(g!=null||T!=null))switch(R){case"value":lt=g;break;case"defaultValue":ut=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==T&&Pe(i,r,R,g,d,T)}Ft(i,lt,ut);return;case"option":for(var Gt in l)if(lt=l[Gt],l.hasOwnProperty(Gt)&&lt!=null&&!d.hasOwnProperty(Gt))switch(Gt){case"selected":i.selected=!1;break;default:Pe(i,r,Gt,null,d,lt)}for(H in d)if(lt=d[H],ut=l[H],d.hasOwnProperty(H)&&lt!==ut&&(lt!=null||ut!=null))switch(H){case"selected":i.selected=lt&&typeof lt!="function"&&typeof lt!="symbol";break;default:Pe(i,r,H,lt,d,ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)lt=l[zt],l.hasOwnProperty(zt)&&lt!=null&&!d.hasOwnProperty(zt)&&Pe(i,r,zt,null,d,lt);for(st in d)if(lt=d[st],ut=l[st],d.hasOwnProperty(st)&&lt!==ut&&(lt!=null||ut!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,r));break;default:Pe(i,r,st,lt,d,ut)}return;default:if(Zr(r)){for(var Ne in l)lt=l[Ne],l.hasOwnProperty(Ne)&&lt!==void 0&&!d.hasOwnProperty(Ne)&&Tg(i,r,Ne,void 0,d,lt);for(mt in d)lt=d[mt],ut=l[mt],!d.hasOwnProperty(mt)||lt===ut||lt===void 0&&ut===void 0||Tg(i,r,mt,lt,d,ut);return}}for(var Q in l)lt=l[Q],l.hasOwnProperty(Q)&&lt!=null&&!d.hasOwnProperty(Q)&&Pe(i,r,Q,null,d,lt);for(_t in d)lt=d[_t],ut=l[_t],!d.hasOwnProperty(_t)||lt===ut||lt==null&&ut==null||Pe(i,r,_t,lt,d,ut)}var bg=null,wg=null;function rf(i){return i.nodeType===9?i:i.ownerDocument}function Ib(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function xg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Eg=null;function KI(){var i=window.event;return i&&i.type==="popstate"?i===Eg?!1:(Eg=i,!0):(Eg=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,XI=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(i){return Lb.resolve(null).then(i).catch(JI)}:Nb;function JI(i){setTimeout(function(){throw i})}function yo(i){return i==="head"}function Mb(i,r){var l=r,d=0,g=0;do{var T=l.nextSibling;if(i.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(0<d&&8>d){l=d;var R=i.ownerDocument;if(l&1&&Zu(R.documentElement),l&2&&Zu(R.body),l&4)for(l=R.head,Zu(l),R=l.firstChild;R;){var P=R.nextSibling,H=R.nodeName;R[cr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=P}}if(g===0){i.removeChild(T),eh(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=T}while(l);eh(r)}function Sg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Sg(l),Us(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function tP(i,r,l,d){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[cr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(T=i.getAttribute("rel"),T==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(T!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(T=i.getAttribute("src"),(T!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&T&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var T=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===T)return i}else return i;if(i=Js(i.nextSibling),i===null)break}return null}function eP(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Js(i.nextSibling),i===null))return null;return i}function Ag(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function nP(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Js(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Cg=null;function Db(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function kb(i,r,l){switch(r=rf(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Zu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Us(i)}var As=new Map,Ob=new Set;function af(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ha=at.d;at.d={f:iP,r:sP,D:rP,C:aP,L:oP,m:lP,X:uP,S:cP,M:hP};function iP(){var i=ha.f(),r=Kd();return i||r}function sP(i){var r=Bi(i);r!==null&&r.tag===5&&r.type==="form"?nT(r):ha.r(i)}var Ac=typeof document>"u"?null:document;function Vb(i,r,l){var d=Ac;if(d&&typeof r=="string"&&r){var g=Be(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Ob.has(g)||(Ob.add(g),i={rel:i,crossOrigin:l,href:r},d.querySelector(g)===null&&(r=d.createElement("link"),Gn(r,"link",i),Ze(r),d.head.appendChild(r)))}}function rP(i){ha.D(i),Vb("dns-prefetch",i,null)}function aP(i,r){ha.C(i,r),Vb("preconnect",i,r)}function oP(i,r,l){ha.L(i,r,l);var d=Ac;if(d&&i&&r){var g='link[rel="preload"][as="'+Be(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Be(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Be(l.imageSizes)+'"]')):g+='[href="'+Be(i)+'"]';var T=g;switch(r){case"style":T=Cc(i);break;case"script":T=Rc(i)}As.has(T)||(i=w({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),As.set(T,i),d.querySelector(g)!==null||r==="style"&&d.querySelector($u(T))||r==="script"&&d.querySelector(Yu(T))||(r=d.createElement("link"),Gn(r,"link",i),Ze(r),d.head.appendChild(r)))}}function lP(i,r){ha.m(i,r);var l=Ac;if(l&&i){var d=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Be(d)+'"][href="'+Be(i)+'"]',T=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Rc(i)}if(!As.has(T)&&(i=w({rel:"modulepreload",href:i},r),As.set(T,i),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yu(T)))return}d=l.createElement("link"),Gn(d,"link",i),Ze(d),l.head.appendChild(d)}}}function cP(i,r,l){ha.S(i,r,l);var d=Ac;if(d&&i){var g=Pn(d).hoistableStyles,T=Cc(i);r=r||"default";var R=g.get(T);if(!R){var P={loading:0,preload:null};if(R=d.querySelector($u(T)))P.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":r},l),(l=As.get(T))&&Rg(i,l);var H=R=d.createElement("link");Ze(H),Gn(H,"link",i),H._p=new Promise(function(st,mt){H.onload=st,H.onerror=mt}),H.addEventListener("load",function(){P.loading|=1}),H.addEventListener("error",function(){P.loading|=2}),P.loading|=4,of(R,r,d)}R={type:"stylesheet",instance:R,count:1,state:P},g.set(T,R)}}}function uP(i,r){ha.X(i,r);var l=Ac;if(l&&i){var d=Pn(l).hoistableScripts,g=Rc(i),T=d.get(g);T||(T=l.querySelector(Yu(g)),T||(i=w({src:i,async:!0},r),(r=As.get(g))&&Ig(i,r),T=l.createElement("script"),Ze(T),Gn(T,"link",i),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},d.set(g,T))}}function hP(i,r){ha.M(i,r);var l=Ac;if(l&&i){var d=Pn(l).hoistableScripts,g=Rc(i),T=d.get(g);T||(T=l.querySelector(Yu(g)),T||(i=w({src:i,async:!0,type:"module"},r),(r=As.get(g))&&Ig(i,r),T=l.createElement("script"),Ze(T),Gn(T,"link",i),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},d.set(g,T))}}function jb(i,r,l,d){var g=(g=St.current)?af(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Cc(l.href),l=Pn(g).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Cc(l.href);var T=Pn(g).hoistableStyles,R=T.get(i);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(i,R),(T=g.querySelector($u(i)))&&!T._p&&(R.instance=T,R.state.loading=5),As.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},As.set(i,l),T||dP(g,i,l,R.state))),r&&d===null)throw Error(s(528,""));return R}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Rc(l),l=Pn(g).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Cc(i){return'href="'+Be(i)+'"'}function $u(i){return'link[rel="stylesheet"]['+i+"]"}function Ub(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function dP(i,r,l,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Gn(r,"link",l),Ze(r),i.head.appendChild(r))}function Rc(i){return'[src="'+Be(i)+'"]'}function Yu(i){return"script[async]"+i}function zb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+Be(l.href)+'"]');if(d)return r.instance=d,Ze(d),d;var g=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ze(d),Gn(d,"style",g),of(d,l.precedence,i),r.instance=d;case"stylesheet":g=Cc(l.href);var T=i.querySelector($u(g));if(T)return r.state.loading|=4,r.instance=T,Ze(T),T;d=Ub(l),(g=As.get(g))&&Rg(d,g),T=(i.ownerDocument||i).createElement("link"),Ze(T);var R=T;return R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),Gn(T,"link",d),r.state.loading|=4,of(T,l.precedence,i),r.instance=T;case"script":return T=Rc(l.src),(g=i.querySelector(Yu(T)))?(r.instance=g,Ze(g),g):(d=l,(g=As.get(T))&&(d=w({},l),Ig(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ze(g),Gn(g,"link",d),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,of(d,l.precedence,i));return r.instance}function of(i,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,T=g,R=0;R<d.length;R++){var P=d[R];if(P.dataset.precedence===r)T=P;else if(T!==g)break}T?T.parentNode.insertBefore(i,T.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Rg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Ig(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var lf=null;function Bb(i,r,l){if(lf===null){var d=new Map,g=lf=new Map;g.set(l,d)}else g=lf,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var T=l[g];if(!(T[cr]||T[on]||i==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var R=T.getAttribute(r)||"";R=i+R;var P=d.get(R);P?P.push(T):d.set(R,[T])}}return d}function Fb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function fP(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Hb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ku=null;function mP(){}function pP(i,r,l){if(Ku===null)throw Error(s(475));var d=Ku;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Cc(l.href),T=i.querySelector($u(g));if(T){i=T._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=cf.bind(d),i.then(d,d)),r.state.loading|=4,r.instance=T,Ze(T);return}T=i.ownerDocument||i,l=Ub(l),(g=As.get(g))&&Rg(l,g),T=T.createElement("link"),Ze(T);var R=T;R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),Gn(T,"link",l),r.instance=T}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=cf.bind(d),i.addEventListener("load",r),i.addEventListener("error",r))}}function gP(){if(Ku===null)throw Error(s(475));var i=Ku;return i.stylesheets&&i.count===0&&Pg(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&Pg(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function cf(){if(this.count--,this.count===0){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var uf=null;function Pg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,uf=new Map,r.forEach(yP,i),uf=null,cf.call(i))}function yP(i,r){if(!(r.state.loading&4)){var l=uf.get(i);if(l)var d=l.get(null);else{l=new Map,uf.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<g.length;T++){var R=g[T];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),d=R)}d&&l.set(null,d)}g=r.instance,R=g.getAttribute("data-precedence"),T=l.get(R)||d,T===d&&l.set(null,g),l.set(R,g),this.count++,d=cf.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),T?T.parentNode.insertBefore(g,T.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Xu={$$typeof:J,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function _P(i,r,l,d,g,T,R,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.hiddenUpdates=ls(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=T,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function qb(i,r,l,d,g,T,R,P,H,st,mt,_t){return i=new _P(i,r,l,R,P,H,st,_t),r=1,T===!0&&(r|=24),T=_i(3,null,null,r),i.current=T,T.stateNode=i,r=hp(),r.refCount++,i.pooledCache=r,r.refCount++,T.memoizedState={element:d,isDehydrated:l,cache:r},pp(T),i}function Gb(i){return i?(i=na,i):na}function Wb(i,r,l,d,g,T){g=Gb(g),d.context===null?d.context=g:d.pendingContext=g,d=io(r),d.payload={element:l},T=T===void 0?null:T,T!==null&&(d.callback=T),l=so(i,d,r),l!==null&&(is(l,i,r),Cu(l,i,r))}function Zb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Ng(i,r){Zb(i,r),(i=i.alternate)&&Zb(i,r)}function $b(i){if(i.tag===13){var r=Qa(i,67108864);r!==null&&is(r,i,67108864),Ng(i,67108864)}}var hf=!0;function vP(i,r,l,d){var g=U.T;U.T=null;var T=at.p;try{at.p=2,Lg(i,r,l,d)}finally{at.p=T,U.T=g}}function TP(i,r,l,d){var g=U.T;U.T=null;var T=at.p;try{at.p=8,Lg(i,r,l,d)}finally{at.p=T,U.T=g}}function Lg(i,r,l,d){if(hf){var g=Mg(d);if(g===null)vg(i,r,d,df,l),Kb(i,d);else if(wP(g,i,r,l,d))d.stopPropagation();else if(Kb(i,d),r&4&&-1<bP.indexOf(i)){for(;g!==null;){var T=Bi(g);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var R=In(T.pendingLanes);if(R!==0){var P=T;for(P.pendingLanes|=2,P.entangledLanes|=2;R;){var H=1<<31-pn(R);P.entanglements[1]|=H,R&=~H}Er(T),(Ae&6)===0&&($d=fn()+500,qu(0))}}break;case 13:P=Qa(T,2),P!==null&&is(P,T,2),Kd(),Ng(T,2)}if(T=Mg(d),T===null&&vg(i,r,d,df,l),T===g)break;g=T}g!==null&&d.stopPropagation()}else vg(i,r,d,null,l)}}function Mg(i){return i=Fn(i),Dg(i)}var df=null;function Dg(i){if(df=null,i=zi(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=h(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return df=i,null}function Yb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case zr:return 2;case as:return 8;case hi:case Br:return 32;case os:return 268435456;default:return 32}default:return 32}}var kg=!1,_o=null,vo=null,To=null,Qu=new Map,Ju=new Map,bo=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(i,r){switch(i){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Qu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(r.pointerId)}}function th(i,r,l,d,g,T){return i===null||i.nativeEvent!==T?(i={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:T,targetContainers:[g]},r!==null&&(r=Bi(r),r!==null&&$b(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function wP(i,r,l,d,g){switch(r){case"focusin":return _o=th(_o,i,r,l,d,g),!0;case"dragenter":return vo=th(vo,i,r,l,d,g),!0;case"mouseover":return To=th(To,i,r,l,d,g),!0;case"pointerover":var T=g.pointerId;return Qu.set(T,th(Qu.get(T)||null,i,r,l,d,g)),!0;case"gotpointercapture":return T=g.pointerId,Ju.set(T,th(Ju.get(T)||null,i,r,l,d,g)),!0}return!1}function Xb(i){var r=zi(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=h(l),r!==null){i.blockedOn=r,Ma(i.priority,function(){if(l.tag===13){var d=ns();d=or(d);var g=Qa(l,d);g!==null&&is(g,l,d),Ng(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ff(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Mg(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Gi=d,l.target.dispatchEvent(d),Gi=null}else return r=Bi(l),r!==null&&$b(r),i.blockedOn=l,!1;r.shift()}return!0}function Qb(i,r,l){ff(i)&&l.delete(r)}function xP(){kg=!1,_o!==null&&ff(_o)&&(_o=null),vo!==null&&ff(vo)&&(vo=null),To!==null&&ff(To)&&(To=null),Qu.forEach(Qb),Ju.forEach(Qb)}function mf(i,r){i.blockedOn===r&&(i.blockedOn=null,kg||(kg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xP)))}var pf=null;function Jb(i){pf!==i&&(pf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pf===i&&(pf=null);for(var r=0;r<i.length;r+=3){var l=i[r],d=i[r+1],g=i[r+2];if(typeof d!="function"){if(Dg(d||l)===null)continue;break}var T=Bi(l);T!==null&&(i.splice(r,3),r-=3,Dp(T,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function eh(i){function r(H){return mf(H,i)}_o!==null&&mf(_o,i),vo!==null&&mf(vo,i),To!==null&&mf(To,i),Qu.forEach(r),Ju.forEach(r);for(var l=0;l<bo.length;l++){var d=bo[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<bo.length&&(l=bo[0],l.blockedOn===null);)Xb(l),l.blockedOn===null&&bo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],T=l[d+1],R=g[Qe]||null;if(typeof T=="function")R||Jb(l);else if(R){var P=null;if(T&&T.hasAttribute("formAction")){if(g=T,R=T[Qe]||null)P=R.formAction;else if(Dg(g)!==null)continue}else P=R.action;typeof P=="function"?l[d+1]=P:(l.splice(d,3),d-=3),Jb(l)}}}function Og(i){this._internalRoot=i}gf.prototype.render=Og.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,d=ns();Wb(l,d,i,r,null,null)},gf.prototype.unmount=Og.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Wb(i.current,2,null,i,null,null),Kd(),r[xi]=null}};function gf(i){this._internalRoot=i}gf.prototype.unstable_scheduleHydration=function(i){if(i){var r=lr();i={blockedOn:null,target:i,priority:r};for(var l=0;l<bo.length&&r!==0&&r<bo[l].priority;l++);bo.splice(l,0,i),l===0&&Xb(i)}};var tw=t.version;if(tw!=="19.1.0")throw Error(s(527,tw,"19.1.0"));at.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var EP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Te=yf.inject(EP),ne=yf}catch{}}return ih.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,d="",g=gT,T=yT,R=_T,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=qb(i,1,!1,null,null,l,d,g,T,R,P,null),i[xi]=r.current,_g(i),new Og(r)},ih.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var d=!1,g="",T=gT,R=yT,P=_T,H=null,st=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(st=l.formState)),r=qb(i,1,!0,r,l??null,d,g,T,R,P,H,st),r.context=Gb(null),l=r.current,d=ns(),d=or(d),g=io(d),g.callback=null,so(l,g,d),l=d,r.current.lanes=l,cs(r,l),Er(r),i[xi]=r.current,_g(i),new gf(r)},ih.version="19.1.0",ih}var uw;function MP(){if(uw)return Ug.exports;uw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ug.exports=LP(),Ug.exports}var DP=MP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hw="popstate";function kP(e={}){function t(s,o){let{pathname:c,search:h,hash:m}=s.location;return Ty("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Rh(o)}return VP(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ms(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OP(){return Math.random().toString(36).substring(2,10)}function dw(e,t){return{usr:e.state,key:e.key,idx:t}}function Ty(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qc(t):t,state:n,key:t&&t.key||s||OP()}}function Rh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function VP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,m="POP",y=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function A(){m="POP";let Z=w(),$=Z==null?null:Z-v;v=Z,y&&y({action:m,location:q.location,delta:$})}function E(Z,$){m="PUSH";let ct=Ty(q.location,Z,$);v=w()+1;let J=dw(ct,v),dt=q.createHref(ct);try{h.pushState(J,"",dt)}catch(tt){if(tt instanceof DOMException&&tt.name==="DataCloneError")throw tt;o.location.assign(dt)}c&&y&&y({action:m,location:q.location,delta:1})}function N(Z,$){m="REPLACE";let ct=Ty(q.location,Z,$);v=w();let J=dw(ct,v),dt=q.createHref(ct);h.replaceState(J,"",dt),c&&y&&y({action:m,location:q.location,delta:0})}function V(Z){return jP(Z)}let q={get action(){return m},get location(){return e(o,h)},listen(Z){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(hw,A),y=Z,()=>{o.removeEventListener(hw,A),y=null}},createHref(Z){return t(o,Z)},createURL:V,encodeLocation(Z){let $=V(Z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:E,replace:N,go(Z){return h.go(Z)}};return q}function jP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Rh(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function P1(e,t,n="/"){return UP(e,t,n,!1)}function UP(e,t,n,s){let o=typeof t=="string"?Qc(t):t,c=_a(o.pathname||"/",n);if(c==null)return null;let h=N1(e);zP(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let v=XP(c);m=YP(h[y],v,s)}return m}function N1(e,t=[],n=[],s=""){let o=(c,h,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};y.relativePath.startsWith("/")&&(Ge(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let v=ga([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(Ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),N1(c.children,t,w,v)),!(c.path==null&&!c.index)&&t.push({path:v,score:ZP(v,c.index),routesMeta:w})};return e.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let m of L1(c.path))o(c,h,m)}),t}function L1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=L1(s.join("/")),m=[];return m.push(...h.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...h),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function zP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$P(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BP=/^:[\w-]+$/,FP=3,HP=2,qP=1,GP=10,WP=-2,fw=e=>e==="*";function ZP(e,t){let n=e.split("/"),s=n.length;return n.some(fw)&&(s+=WP),t&&(s+=HP),n.filter(o=>!fw(o)).reduce((o,c)=>o+(BP.test(c)?FP:c===""?qP:GP),s)}function $P(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function YP(e,t,n=!1){let{routesMeta:s}=e,o={},c="/",h=[];for(let m=0;m<s.length;++m){let y=s[m],v=m===s.length-1,w=c==="/"?t:t.slice(c.length)||"/",A=Kf({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},w),E=y.route;if(!A&&v&&n&&!s[s.length-1].route.index&&(A=Kf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:ga([c,A.pathname]),pathnameBase:e2(ga([c,A.pathnameBase])),route:E}),A.pathnameBase!=="/"&&(c=ga([c,A.pathnameBase]))}return h}function Kf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=KP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:A},E)=>{if(w==="*"){let V=m[E]||"";h=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const N=m[E];return A&&!N?v[w]=void 0:v[w]=(N||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:e}}function KP(e,t=!1,n=!0){Ms(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function XP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ms(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function QP(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Qc(e):e;return{pathname:n?n.startsWith("/")?n:JP(n,t):t,search:n2(s),hash:i2(o)}}function JP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v_(e){let t=t2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function T_(e,t,n,s=!1){let o;typeof e=="string"?o=Qc(e):(o={...e},Ge(!o.pathname||!o.pathname.includes("?"),Hg("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),Hg("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),Hg("#","search","hash",o)));let c=e===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=n;else{let A=t.length-1;if(!s&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),A-=1;o.pathname=E.join("/")}m=A>=0?t[A]:"/"}let y=QP(o,m),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(v||w)&&(y.pathname+="/"),y}var ga=e=>e.join("/").replace(/\/\/+/g,"/"),e2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,i2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var M1=["POST","PUT","PATCH","DELETE"];new Set(M1);var r2=["GET",...M1];new Set(r2);var Jc=D.createContext(null);Jc.displayName="DataRouter";var Sm=D.createContext(null);Sm.displayName="DataRouterState";D.createContext(!1);var D1=D.createContext({isTransitioning:!1});D1.displayName="ViewTransition";var a2=D.createContext(new Map);a2.displayName="Fetchers";var o2=D.createContext(null);o2.displayName="Await";var rr=D.createContext(null);rr.displayName="Navigation";var $h=D.createContext(null);$h.displayName="Location";var jr=D.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var b_=D.createContext(null);b_.displayName="RouteError";function l2(e,{relative:t}={}){Ge(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(rr),{hash:o,pathname:c,search:h}=Yh(e,{relative:t}),m=c;return n!=="/"&&(m=c==="/"?n:ga([n,c])),s.createHref({pathname:m,search:h,hash:o})}function tu(){return D.useContext($h)!=null}function Vi(){return Ge(tu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext($h).location}var k1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O1(e){D.useContext(rr).static||D.useLayoutEffect(e)}function ks(){let{isDataRoute:e}=D.useContext(jr);return e?b2():c2()}function c2(){Ge(tu(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(Jc),{basename:t,navigator:n}=D.useContext(rr),{matches:s}=D.useContext(jr),{pathname:o}=Vi(),c=JSON.stringify(v_(s)),h=D.useRef(!1);return O1(()=>{h.current=!0}),D.useCallback((y,v={})=>{if(Ms(h.current,k1),!h.current)return;if(typeof y=="number"){n.go(y);return}let w=T_(y,JSON.parse(c),o,v.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:ga([t,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[t,n,c,o,e])}D.createContext(null);function Yh(e,{relative:t}={}){let{matches:n}=D.useContext(jr),{pathname:s}=Vi(),o=JSON.stringify(v_(n));return D.useMemo(()=>T_(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function u2(e,t){return V1(e,t)}function V1(e,t,n,s){Ge(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(rr),{matches:c}=D.useContext(jr),h=c[c.length-1],m=h?h.params:{},y=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let $=w&&w.path||"";j1(y,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=Vi(),E;if(t){let $=typeof t=="string"?Qc(t):t;Ge(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),E=$}else E=A;let N=E.pathname||"/",V=N;if(v!=="/"){let $=v.replace(/^\//,"").split("/");V="/"+N.replace(/^\//,"").split("/").slice($.length).join("/")}let q=P1(e,{pathname:V});Ms(w||q!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ms(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=p2(q&&q.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:ga([v,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:ga([v,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,n,s);return t&&Z?D.createElement($h.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},Z):Z}function h2(){let e=T2(),t=s2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",e),h=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:o},n):null,h)}var d2=D.createElement(h2,null),f2=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(jr.Provider,{value:this.props.routeContext},D.createElement(b_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:e,match:t,children:n}){let s=D.useContext(Jc);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(jr.Provider,{value:e},n)}function p2(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=n?.errors;if(c!=null){let y=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Ge(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let v=o[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:w,errors:A}=n,E=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||E){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,v,w)=>{let A,E=!1,N=null,V=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,N=v.route.errorElement||d2,h&&(m<0&&w===0?(j1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,V=null):m===w&&(E=!0,V=v.route.hydrateFallbackElement||null)));let q=t.concat(o.slice(0,w+1)),Z=()=>{let $;return A?$=N:E?$=V:v.route.Component?$=D.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=y,D.createElement(m2,{match:v,routeContext:{outlet:y,matches:q,isDataRoute:n!=null},children:$})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?D.createElement(f2,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:Z(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):Z()},null)}function w_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(e){let t=D.useContext(Jc);return Ge(t,w_(e)),t}function y2(e){let t=D.useContext(Sm);return Ge(t,w_(e)),t}function _2(e){let t=D.useContext(jr);return Ge(t,w_(e)),t}function x_(e){let t=_2(e),n=t.matches[t.matches.length-1];return Ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function v2(){return x_("useRouteId")}function T2(){let e=D.useContext(b_),t=y2("useRouteError"),n=x_("useRouteError");return e!==void 0?e:t.errors?.[n]}function b2(){let{router:e}=g2("useNavigate"),t=x_("useNavigate"),n=D.useRef(!1);return O1(()=>{n.current=!0}),D.useCallback(async(o,c={})=>{Ms(n.current,k1),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...c}))},[e,t])}var mw={};function j1(e,t,n){!t&&!mw[e]&&(mw[e]=!0,Ms(!1,n))}D.memo(w2);function w2({routes:e,future:t,state:n}){return V1(e,void 0,n,t)}function Mf({to:e,replace:t,state:n,relative:s}){Ge(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(rr);Ms(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(jr),{pathname:h}=Vi(),m=ks(),y=T_(e,v_(c),h,s==="path"),v=JSON.stringify(y);return D.useEffect(()=>{m(JSON.parse(v),{replace:t,state:n,relative:s})},[m,v,s,t,n]),null}function Rs(e){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){Ge(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof n=="string"&&(n=Qc(n));let{pathname:y="/",search:v="",hash:w="",state:A=null,key:E="default"}=n,N=D.useMemo(()=>{let V=_a(y,h);return V==null?null:{location:{pathname:V,search:v,hash:w,state:A,key:E},navigationType:s}},[h,y,v,w,A,E,s]);return Ms(N!=null,`<Router basename="${h}"> is not able to match the URL "${y}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(rr.Provider,{value:m},D.createElement($h.Provider,{children:t,value:N}))}function E2({children:e,location:t}){return u2(by(e),t)}function by(e,t=[]){let n=[];return D.Children.forEach(e,(s,o)=>{if(!D.isValidElement(s))return;let c=[...t,o];if(s.type===D.Fragment){n.push.apply(n,by(s.props.children,c));return}Ge(s.type===Rs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=by(s.props.children,c)),n.push(h)}),n}var Df="get",kf="application/x-www-form-urlencoded";function Am(e){return e!=null&&typeof e.tagName=="string"}function S2(e){return Am(e)&&e.tagName.toLowerCase()==="button"}function A2(e){return Am(e)&&e.tagName.toLowerCase()==="form"}function C2(e){return Am(e)&&e.tagName.toLowerCase()==="input"}function R2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I2(e,t){return e.button===0&&(!t||t==="_self")&&!R2(e)}function wy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function P2(e,t){let n=wy(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(c=>{n.append(o,c)})}),n}var _f=null;function N2(){if(_f===null)try{new FormData(document.createElement("form"),0),_f=!1}catch{_f=!0}return _f}var L2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qg(e){return e!=null&&!L2.has(e)?(Ms(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kf}"`),null):e}function M2(e,t){let n,s,o,c,h;if(A2(e)){let m=e.getAttribute("action");s=m?_a(m,t):null,n=e.getAttribute("method")||Df,o=qg(e.getAttribute("enctype"))||kf,c=new FormData(e)}else if(S2(e)||C2(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(s=y?_a(y,t):null,n=e.getAttribute("formmethod")||m.getAttribute("method")||Df,o=qg(e.getAttribute("formenctype"))||qg(m.getAttribute("enctype"))||kf,c=new FormData(m,e),!N2()){let{name:v,type:w,value:A}=e;if(w==="image"){let E=v?`${v}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else v&&c.append(v,A)}}else{if(Am(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Df,s=null,o=kf,h=e}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function E_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&_a(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function k2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function V2(e,t,n){let s=await Promise.all(e.map(async o=>{let c=t.routes[o.route.id];if(c){let h=await k2(c,n);return h.links?h.links():[]}return[]}));return B2(s.flat(1).filter(O2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pw(e,t,n,s,o,c){let h=(y,v)=>n[v]?y.route.id!==n[v].route.id:!0,m=(y,v)=>n[v].pathname!==y.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==y.params["*"];return c==="assets"?t.filter((y,v)=>h(y,v)||m(y,v)):c==="data"?t.filter((y,v)=>{let w=s.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(h(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function j2(e,t,{includeHydrateFallback:n}={}){return U2(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function U2(e){return[...new Set(e)]}function z2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function B2(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let c=JSON.stringify(z2(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function U1(){let e=D.useContext(Jc);return E_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function F2(){let e=D.useContext(Sm);return E_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var S_=D.createContext(void 0);S_.displayName="FrameworkContext";function z1(){let e=D.useContext(S_);return E_(e,"You must render this element inside a <HydratedRouter> element"),e}function H2(e,t){let n=D.useContext(S_),[s,o]=D.useState(!1),[c,h]=D.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:w,onTouchStart:A}=t,E=D.useRef(null);D.useEffect(()=>{if(e==="render"&&h(!0),e==="viewport"){let q=$=>{$.forEach(ct=>{h(ct.isIntersecting)})},Z=new IntersectionObserver(q,{threshold:.5});return E.current&&Z.observe(E.current),()=>{Z.disconnect()}}},[e]),D.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let N=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?e!=="intent"?[c,E,{}]:[c,E,{onFocus:sh(m,N),onBlur:sh(y,V),onMouseEnter:sh(v,N),onMouseLeave:sh(w,V),onTouchStart:sh(A,N)}]:[!1,E,{}]}function sh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function q2({page:e,...t}){let{router:n}=U1(),s=D.useMemo(()=>P1(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?D.createElement(W2,{page:e,matches:s,...t}):null}function G2(e){let{manifest:t,routeModules:n}=z1(),[s,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return V2(e,t,n).then(h=>{c||o(h)}),()=>{c=!0}},[e,t,n]),s}function W2({page:e,matches:t,...n}){let s=Vi(),{manifest:o,routeModules:c}=z1(),{basename:h}=U1(),{loaderData:m,matches:y}=F2(),v=D.useMemo(()=>pw(e,t,y,o,s,"data"),[e,t,y,o,s]),w=D.useMemo(()=>pw(e,t,y,o,s,"assets"),[e,t,y,o,s]),A=D.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let V=new Set,q=!1;if(t.forEach($=>{let ct=o.routes[$.route.id];!ct||!ct.hasLoader||(!v.some(J=>J.route.id===$.route.id)&&$.route.id in m&&c[$.route.id]?.shouldRevalidate||ct.hasClientLoader?q=!0:V.add($.route.id))}),V.size===0)return[];let Z=D2(e,h,"data");return q&&V.size>0&&Z.searchParams.set("_routes",t.filter($=>V.has($.route.id)).map($=>$.route.id).join(",")),[Z.pathname+Z.search]},[h,m,s,o,v,t,e,c]),E=D.useMemo(()=>j2(w,o),[w,o]),N=G2(w);return D.createElement(D.Fragment,null,A.map(V=>D.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),E.map(V=>D.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),N.map(({key:V,link:q})=>D.createElement("link",{key:V,...q})))}function Z2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B1&&(window.__reactRouterVersion="7.7.0")}catch{}function $2({basename:e,children:t,window:n}){let s=D.useRef();s.current==null&&(s.current=kP({window:n,v5Compat:!0}));let o=s.current,[c,h]=D.useState({action:o.action,location:o.location}),m=D.useCallback(y=>{D.startTransition(()=>h(y))},[h]);return D.useLayoutEffect(()=>o.listen(m),[o,m]),D.createElement(x2,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o})}var F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ph=D.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:m,target:y,to:v,preventScrollReset:w,viewTransition:A,...E},N){let{basename:V}=D.useContext(rr),q=typeof v=="string"&&F1.test(v),Z,$=!1;if(typeof v=="string"&&q&&(Z=v,B1))try{let j=new URL(window.location.href),G=v.startsWith("//")?new URL(j.protocol+v):new URL(v),W=_a(G.pathname,V);G.origin===j.origin&&W!=null?v=W+G.search+G.hash:$=!0}catch{Ms(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ct=l2(v,{relative:o}),[J,dt,tt]=H2(s,E),wt=Q2(v,{replace:h,state:m,target:y,preventScrollReset:w,relative:o,viewTransition:A});function z(j){t&&t(j),j.defaultPrevented||wt(j)}let k=D.createElement("a",{...E,...tt,href:Z||ct,onClick:$||c?t:z,ref:Z2(N,dt),target:y,"data-discover":!q&&n==="render"?"true":void 0});return J&&!q?D.createElement(D.Fragment,null,k,D.createElement(q2,{page:ct})):k});ph.displayName="Link";var Y2=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:m,children:y,...v},w){let A=Yh(h,{relative:v.relative}),E=Vi(),N=D.useContext(Sm),{navigator:V,basename:q}=D.useContext(rr),Z=N!=null&&sN(A)&&m===!0,$=V.encodeLocation?V.encodeLocation(A).pathname:A.pathname,ct=E.pathname,J=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ct=ct.toLowerCase(),J=J?J.toLowerCase():null,$=$.toLowerCase()),J&&q&&(J=_a(J,q)||J);const dt=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let tt=ct===$||!o&&ct.startsWith($)&&ct.charAt(dt)==="/",wt=J!=null&&(J===$||!o&&J.startsWith($)&&J.charAt($.length)==="/"),z={isActive:tt,isPending:wt,isTransitioning:Z},k=tt?t:void 0,j;typeof s=="function"?j=s(z):j=[s,tt?"active":null,wt?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(z):c;return D.createElement(ph,{...v,"aria-current":k,className:j,ref:w,style:G,to:h,viewTransition:m},typeof y=="function"?y(z):y)});Y2.displayName="NavLink";var K2=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Df,action:m,onSubmit:y,relative:v,preventScrollReset:w,viewTransition:A,...E},N)=>{let V=nN(),q=iN(m,{relative:v}),Z=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&F1.test(m),ct=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let dt=J.nativeEvent.submitter,tt=dt?.getAttribute("formmethod")||h;V(dt||J.currentTarget,{fetcherKey:t,method:tt,navigate:n,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:A})};return D.createElement("form",{ref:N,method:Z,action:q,onSubmit:s?y:ct,...E,"data-discover":!$&&e==="render"?"true":void 0})});K2.displayName="Form";function X2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(e){let t=D.useContext(Jc);return Ge(t,X2(e)),t}function Q2(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h}={}){let m=ks(),y=Vi(),v=Yh(e,{relative:c});return D.useCallback(w=>{if(I2(w,t)){w.preventDefault();let A=n!==void 0?n:Rh(y)===Rh(v);m(e,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:h})}},[y,m,v,n,s,t,e,o,c,h])}function J2(e){Ms(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=D.useRef(wy(e)),n=D.useRef(!1),s=Vi(),o=D.useMemo(()=>P2(s.search,n.current?null:t.current),[s.search]),c=ks(),h=D.useCallback((m,y)=>{const v=wy(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,c("?"+v,y)},[c,o]);return[o,h]}var tN=0,eN=()=>`__${String(++tN)}__`;function nN(){let{router:e}=H1("useSubmit"),{basename:t}=D.useContext(rr),n=v2();return D.useCallback(async(s,o={})=>{let{action:c,method:h,encType:m,formData:y,body:v}=M2(s,t);if(o.navigate===!1){let w=o.fetcherKey||eN();await e.fetch(w,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function iN(e,{relative:t}={}){let{basename:n}=D.useContext(rr),s=D.useContext(jr);Ge(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Yh(e||".",{relative:t})},h=Vi();if(e==null){c.search=h.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(w=>w==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let w=m.toString();c.search=w?`?${w}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ga([n,c.pathname])),Rh(c)}function sN(e,t={}){let n=D.useContext(D1);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=H1("useViewTransitionState"),o=Yh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let c=_a(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_a(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kf(o.pathname,h)!=null||Kf(o.pathname,c)!=null}I1();const rN="modulepreload",aN=function(e){return"/"+e},gw={},oN=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=y(n.map(v=>{if(v=aN(v),v in gw)return;gw[v]=!0;const w=v.endsWith(".css"),A=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${A}`))return;const E=document.createElement("link");if(E.rel=w?"stylesheet":rN,w||(E.as="script"),E.crossOrigin="",E.href=v,m&&E.setAttribute("nonce",m),document.head.appendChild(E),w)return new Promise((N,V)=>{E.addEventListener("load",N),E.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})},lN=()=>{};var yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cN=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=e[n++],h=e[n++],m=e[n++],y=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=e[n++],h=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const c=e[o],h=o+1<e.length,m=h?e[o+1]:0,y=o+2<e.length,v=y?e[o+2]:0,w=c>>2,A=(c&3)<<4|m>>4;let E=(m&15)<<2|v>>6,N=v&63;y||(N=64,h||(E=64)),s.push(n[w],n[A],n[E],n[N])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(q1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):cN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const c=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const v=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,c==null||m==null||v==null||A==null)throw new uN;const E=c<<2|m>>4;if(s.push(E),v!==64){const N=m<<4&240|v>>2;if(s.push(N),A!==64){const V=v<<6&192|A;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hN=function(e){const t=q1(e);return G1.encodeByteArray(t,!0)},Xf=function(e){return hN(e).replace(/\./g,"")},W1=function(e){try{return G1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=()=>dN().__FIREBASE_DEFAULTS__,mN=()=>{if(typeof process>"u"||typeof yw>"u")return;const e=yw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},pN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&W1(e[1]);return t&&JSON.parse(t)},Cm=()=>{try{return lN()||fN()||mN()||pN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Z1=e=>Cm()?.emulatorHosts?.[e],$1=e=>{const t=Z1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Y1=()=>Cm()?.config,K1=e=>Cm()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rm(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,c=e.sub||e.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Xf(JSON.stringify(n)),Xf(JSON.stringify(h)),""].join(".")}const gh={};function _N(){const e={prod:[],emulator:[]};for(const t of Object.keys(gh))gh[t]?e.emulator.push(t):e.prod.push(t);return e}function vN(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let _w=!1;function A_(e,t){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||gh[e]===t||gh[e]||_w)return;gh[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",c=_N().prod.length>0;function h(){const E=document.getElementById(s);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function y(E,N){E.setAttribute("width","24"),E.setAttribute("id",N),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function v(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{_w=!0,h()},E}function w(E,N){E.setAttribute("id",N),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function A(){const E=vN(s),N=n("text"),V=document.getElementById(N)||document.createElement("span"),q=n("learnmore"),Z=document.getElementById(q)||document.createElement("a"),$=n("preprendIcon"),ct=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;m(J),w(Z,q);const dt=v();y(ct,$),J.append(ct,V,Z,dt),document.body.appendChild(J)}c?(V.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function bN(){const e=Cm()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SN(){const e=oi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AN(){return!bN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function RN(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="FirebaseError";class Ur extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=IN,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kh.prototype.create)}}class Kh{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?PN(c,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ur(o,m,s)}}function PN(e,t){return e.replace(NN,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const NN=/\{\$([^}]+)}/g;function LN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Do(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=e[o],h=t[o];if(vw(c)&&vw(h)){if(!Do(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function vw(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ah(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function oh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function MN(e,t){const n=new DN(e,t);return n.subscribe.bind(n)}class DN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kN(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Gg),o.error===void 0&&(o.error=Gg),o.complete===void 0&&(o.complete=Gg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e){return e&&e._delegate?e._delegate:e}class ko{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new gN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jN(t))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Rl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rl){return this.instances.has(t)}getOptions(t=Rl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VN(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Rl){return this.component?this.component.multipleInstances?t:Rl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VN(e){return e===Rl?void 0:e}function jN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ON(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ue||(ue={}));const zN={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},BN=ue.INFO,FN={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},HN=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=FN[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class C_{constructor(t){this.name=t,this._logLevel=BN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const qN=(e,t)=>t.some(n=>e instanceof n);let Tw,bw;function GN(){return Tw||(Tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WN(){return bw||(bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X1=new WeakMap,xy=new WeakMap,Q1=new WeakMap,Wg=new WeakMap,R_=new WeakMap;function ZN(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",c),e.removeEventListener("error",h)},c=()=>{n(Po(e.result)),o()},h=()=>{s(e.error),o()};e.addEventListener("success",c),e.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&X1.set(n,e)}).catch(()=>{}),R_.set(t,e),t}function $N(e){if(xy.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",h),e.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",c),e.addEventListener("error",h),e.addEventListener("abort",h)});xy.set(e,t)}let Ey={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Q1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function YN(e){Ey=e(Ey)}function KN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Zg(this),t,...n);return Q1.set(s,t.sort?t.sort():[t]),Po(s)}:WN().includes(e)?function(...t){return e.apply(Zg(this),t),Po(X1.get(this))}:function(...t){return Po(e.apply(Zg(this),t))}}function XN(e){return typeof e=="function"?KN(e):(e instanceof IDBTransaction&&$N(e),qN(e,GN())?new Proxy(e,Ey):e)}function Po(e){if(e instanceof IDBRequest)return ZN(e);if(Wg.has(e))return Wg.get(e);const t=XN(e);return t!==e&&(Wg.set(e,t),R_.set(t,e)),t}const Zg=e=>R_.get(e);function QN(e,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(e,t),m=Po(h);return s&&h.addEventListener("upgradeneeded",y=>{s(Po(h.result),y.oldVersion,y.newVersion,Po(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const JN=["get","getKey","getAll","getAllKeys","count"],tL=["put","add","delete","clear"],$g=new Map;function ww(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if($g.get(t))return $g.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=tL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JN.includes(n)))return;const c=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),o&&y.done]))[0]};return $g.set(t,c),c}YN(e=>({...e,get:(t,n,s)=>ww(t,n)||e.get(t,n,s),has:(t,n)=>!!ww(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nL(e){return e.getComponent()?.type==="VERSION"}const Sy="@firebase/app",xw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new C_("@firebase/app"),iL="@firebase/app-compat",sL="@firebase/analytics-compat",rL="@firebase/analytics",aL="@firebase/app-check-compat",oL="@firebase/app-check",lL="@firebase/auth",cL="@firebase/auth-compat",uL="@firebase/database",hL="@firebase/data-connect",dL="@firebase/database-compat",fL="@firebase/functions",mL="@firebase/functions-compat",pL="@firebase/installations",gL="@firebase/installations-compat",yL="@firebase/messaging",_L="@firebase/messaging-compat",vL="@firebase/performance",TL="@firebase/performance-compat",bL="@firebase/remote-config",wL="@firebase/remote-config-compat",xL="@firebase/storage",EL="@firebase/storage-compat",SL="@firebase/firestore",AL="@firebase/ai",CL="@firebase/firestore-compat",RL="firebase",IL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="[DEFAULT]",PL={[Sy]:"fire-core",[iL]:"fire-core-compat",[rL]:"fire-analytics",[sL]:"fire-analytics-compat",[oL]:"fire-app-check",[aL]:"fire-app-check-compat",[lL]:"fire-auth",[cL]:"fire-auth-compat",[uL]:"fire-rtdb",[hL]:"fire-data-connect",[dL]:"fire-rtdb-compat",[fL]:"fire-fn",[mL]:"fire-fn-compat",[pL]:"fire-iid",[gL]:"fire-iid-compat",[yL]:"fire-fcm",[_L]:"fire-fcm-compat",[vL]:"fire-perf",[TL]:"fire-perf-compat",[bL]:"fire-rc",[wL]:"fire-rc-compat",[xL]:"fire-gcs",[EL]:"fire-gcs-compat",[SL]:"fire-fst",[CL]:"fire-fst-compat",[AL]:"fire-vertex","fire-js":"fire-js",[RL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,NL=new Map,Cy=new Map;function Ew(e,t){try{e.container.addComponent(t)}catch(n){va.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ul(e){const t=e.name;if(Cy.has(t))return va.debug(`There were multiple attempts to register component ${t}.`),!1;Cy.set(t,e);for(const n of Qf.values())Ew(n,e);for(const n of NL.values())Ew(n,e);return!0}function Qh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ti(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new Kh("app","Firebase",LL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=IL;function J1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Ay,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw No.create("bad-app-name",{appName:String(o)});if(n||(n=Y1()),!n)throw No.create("no-options");const c=Qf.get(o);if(c){if(Do(n,c.options)&&Do(s,c.config))return c;throw No.create("duplicate-app",{appName:o})}const h=new UN(o);for(const y of Cy.values())h.addComponent(y);const m=new ML(n,s,h);return Qf.set(o,m),m}function I_(e=Ay){const t=Qf.get(e);if(!t&&e===Ay&&Y1())return J1();if(!t)throw No.create("no-app",{appName:e});return t}function Ar(e,t,n){let s=PL[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${t}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),va.warn(h.join(" "));return}Ul(new ko(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebase-heartbeat-database",kL=1,Ih="firebase-heartbeat-store";let Yg=null;function tS(){return Yg||(Yg=QN(DL,kL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ih)}catch(n){console.warn(n)}}}}).catch(e=>{throw No.create("idb-open",{originalErrorMessage:e.message})})),Yg}async function OL(e){try{const n=(await tS()).transaction(Ih),s=await n.objectStore(Ih).get(eS(e));return await n.done,s}catch(t){if(t instanceof Ur)va.warn(t.message);else{const n=No.create("idb-get",{originalErrorMessage:t?.message});va.warn(n.message)}}}async function Sw(e,t){try{const s=(await tS()).transaction(Ih,"readwrite");await s.objectStore(Ih).put(t,eS(e)),await s.done}catch(n){if(n instanceof Ur)va.warn(n.message);else{const s=No.create("idb-set",{originalErrorMessage:n?.message});va.warn(s.message)}}}function eS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,jL=30;class UL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>jL){const o=FL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){va.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Aw(),{heartbeatsToSend:n,unsentEntries:s}=zL(this._heartbeatsCache.heartbeats),o=Xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return va.warn(t),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function zL(e,t=VL){const n=[];let s=e.slice();for(const o of e){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Cw(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cw(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?RN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Cw(e){return Xf(JSON.stringify({version:2,heartbeats:e})).length}function FL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e){Ul(new ko("platform-logger",t=>new eL(t),"PRIVATE")),Ul(new ko("heartbeat",t=>new UL(t),"PRIVATE")),Ar(Sy,xw,e),Ar(Sy,xw,"esm2020"),Ar("fire-js","")}HL("");var qL="firebase",GL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(qL,GL,"app");function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WL=nS,iS=new Kh("auth","Firebase",nS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new C_("@firebase/auth");function ZL(e,...t){Jf.logLevel<=ue.WARN&&Jf.warn(`Auth (${eu}): ${e}`,...t)}function Of(e,...t){Jf.logLevel<=ue.ERROR&&Jf.error(`Auth (${eu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e,...t){throw N_(e,...t)}function ir(e,...t){return N_(e,...t)}function P_(e,t,n){const s={...WL(),[t]:n};return new Kh("auth","Firebase",s).create(t,{appName:e.name})}function Cr(e){return P_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $L(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ds(e,"argument-error"),P_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N_(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return iS.create(e,...t)}function Ht(e,t,...n){if(!e)throw N_(t,...n)}function ma(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Of(t),new Error(t)}function Ta(e,t){e||ma(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){return typeof self<"u"&&self.location?.href||""}function YL(){return Rw()==="http:"||Rw()==="https:"}function Rw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YL()||xN()||"connection"in navigator)?navigator.onLine:!0}function XL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ta(n>t,"Short delay should be less than long delay!"),this.isMobile=TN()||EN()}get(){return KL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(e,t){Ta(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tM=new Jh(3e4,6e4);function Ca(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Go(e,t,n,s,o={}){return rS(e,o,async()=>{let c={},h={};s&&(t==="GET"?h=s:c={body:JSON.stringify(s)});const m=Xh({key:e.config.apiKey,...h}).slice(1),y=await e._getAdditionalHeaders();y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode);const v={method:t,headers:y,...c};return wN()||(v.referrerPolicy="no-referrer"),e.emulatorConfig&&qo(e.emulatorConfig.host)&&(v.credentials="include"),sS.fetch()(await aS(e,e.config.apiHost,n,m),v)})}async function rS(e,t,n){e._canInitEmulator=!1;const s={...QL,...t};try{const o=new nM(e),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw vf(e,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(e,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw vf(e,"email-already-in-use",h);if(y==="USER_DISABLED")throw vf(e,"user-disabled",h);const w=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw P_(e,w,v);Ds(e,w)}}catch(o){if(o instanceof Ur)throw o;Ds(e,"network-request-failed",{message:String(o)})}}async function nu(e,t,n,s,o={}){const c=await Go(e,t,n,s,o);return"mfaPendingCredential"in c&&Ds(e,"multi-factor-auth-required",{_serverResponse:c}),c}async function aS(e,t,n,s){const o=`${t}${n}?${s}`,c=e,h=c.config.emulator?L_(e.config,o):`${e.config.apiScheme}://${o}`;return JL.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function eM(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ir(this.auth,"network-request-failed")),tM.get())})}}function vf(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ir(e,t,s);return o.customData._tokenResponse=n,o}function Iw(e){return e!==void 0&&e.enterprise!==void 0}class iM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eM(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sM(e,t){return Go(e,"GET","/v2/recaptchaConfig",Ca(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(e,t){return Go(e,"POST","/v1/accounts:delete",t)}async function tm(e,t){return Go(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aM(e,t=!1){const n=sn(e),s=await n.getIdToken(t),o=M_(s);Ht(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:yh(Kg(o.auth_time)),issuedAtTime:yh(Kg(o.iat)),expirationTime:yh(Kg(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kg(e){return Number(e)*1e3}function M_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const o=W1(n);return o?JSON.parse(o):(Of("Failed to decode base64 JWT payload"),null)}catch(o){return Of("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Pw(e){const t=M_(e);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ur&&oM(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function oM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yh(this.lastLoginAt),this.creationTime=yh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(e){const t=e.auth,n=await e.getIdToken(),s=await Ph(e,tm(t,{idToken:n}));Ht(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const c=o.providerUserInfo?.length?oS(o.providerUserInfo):[],h=uM(e.providerData,c),m=e.isAnonymous,y=!(e.email&&o.passwordHash)&&!h?.length,v=m?y:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Iy(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(e,w)}async function cM(e){const t=sn(e);await em(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uM(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function oS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(e,t){const n=await rS(e,{},async()=>{const s=Xh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=e.config,h=await aS(e,o,"/v1/token",`key=${c}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return e.emulatorConfig&&qo(e.emulatorConfig.host)&&(y.credentials="include"),sS.fetch()(h,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dM(e,t){return Go(e,"POST","/v2/accounts:revokeToken",Ca(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const n=Pw(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await hM(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new Uc;return s&&(Ht(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Ht(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),c&&(Ht(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e,t){Ht(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class er{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new lM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Iy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ph(this,this.stsTokenManager.getToken(this.auth,t));return Ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aM(this,t)}reload(){return cM(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new er({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await em(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Cr(this.auth));const t=await this.getIdToken();return await Ph(this,rM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,v=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:A,emailVerified:E,isAnonymous:N,providerData:V,stsTokenManager:q}=n;Ht(A&&q,t,"internal-error");const Z=Uc.fromJSON(this.name,q);Ht(typeof A=="string",t,"internal-error"),xo(s,t.name),xo(o,t.name),Ht(typeof E=="boolean",t,"internal-error"),Ht(typeof N=="boolean",t,"internal-error"),xo(c,t.name),xo(h,t.name),xo(m,t.name),xo(y,t.name),xo(v,t.name),xo(w,t.name);const $=new er({uid:A,auth:t,email:o,emailVerified:E,displayName:s,isAnonymous:N,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:Z,createdAt:v,lastLoginAt:w});return V&&Array.isArray(V)&&($.providerData=V.map(ct=>({...ct}))),y&&($._redirectEventId=y),$}static async _fromIdTokenResponse(t,n,s=!1){const o=new Uc;o.updateFromServerResponse(n);const c=new er({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await em(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Ht(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?oS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new Uc;m.updateFromIdToken(s);const y=new er({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Iy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;function pa(e){Ta(e instanceof Function,"Expected a class definition");let t=Nw.get(e);return t?(Ta(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nw.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}lS.type="NONE";const Lw=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(e,t,n){return`firebase:${e}:${t}:${n}`}class zc{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Vf(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vf("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await tm(this.auth,{idToken:t}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,t):null}return er._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new zc(pa(Lw),t,s);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||pa(Lw);const h=Vf(s,t.config.apiKey,t.name);let m=null;for(const v of n)try{const w=await v._get(h);if(w){let A;if(typeof w=="string"){const E=await tm(t,{idToken:w}).catch(()=>{});if(!E)break;A=await er._fromGetAccountInfoResponse(t,E,w)}else A=er._fromJSON(t,w);v!==c&&(m=A),c=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new zc(c,t,s):(c=y[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(h)}catch{}})),new zc(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mS(t))return"Blackberry";if(pS(t))return"Webos";if(uS(t))return"Safari";if((t.includes("chrome/")||hS(t))&&!t.includes("edge/"))return"Chrome";if(fS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function cS(e=oi()){return/firefox\//i.test(e)}function uS(e=oi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hS(e=oi()){return/crios\//i.test(e)}function dS(e=oi()){return/iemobile/i.test(e)}function fS(e=oi()){return/android/i.test(e)}function mS(e=oi()){return/blackberry/i.test(e)}function pS(e=oi()){return/webos/i.test(e)}function D_(e=oi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fM(e=oi()){return D_(e)&&!!window.navigator?.standalone}function mM(){return SN()&&document.documentMode===10}function gS(e=oi()){return D_(e)||fS(e)||pS(e)||mS(e)||/windows phone/i.test(e)||dS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(e,t=[]){let n;switch(e){case"Browser":n=Mw(oi());break;case"Worker":n=`${Mw(oi())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((h,m)=>{try{const y=t(c);h(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(e,t={}){return Go(e,"GET","/v2/passwordPolicy",Ca(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=6;class _M{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new pM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zc.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await tm(this,{idToken:t}),s=await er._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await em(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ti(this.app))return Promise.reject(Cr(this));const n=t?sn(t):null;return n&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ti(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gM(this),n=new _M(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kh("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&pa(t)||this._popupRedirectResolver;Ht(n,this,"argument-error"),this.redirectPersistenceManager=await zc.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{h=!0,y()}}else{const y=t.addObserver(n);return()=>{h=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ZL(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ra(e){return sn(e)}class Dw{constructor(t){this.auth=t,this.observer=null,this.addObserver=MN(n=>this.observer=n)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TM(e){Im=e}function _S(e){return Im.loadJS(e)}function bM(){return Im.recaptchaEnterpriseScript}function wM(){return Im.gapiScript}function xM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class EM{constructor(){this.enterprise=new SM}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class SM{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const AM="recaptcha-enterprise",vS="NO_RECAPTCHA";class CM{constructor(t){this.type=AM,this.auth=Ra(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{sM(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new iM(y);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,h(v.siteKey)}}).catch(y=>{m(y)})})}function o(c,h,m){const y=window.grecaptcha;Iw(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(v=>{h(v)}).catch(()=>{h(vS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EM().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(m=>{if(!n&&Iw(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=bM();y.length!==0&&(y+=m),_S(y).then(()=>{o(m,c,h)}).catch(v=>{h(v)})}}).catch(m=>{h(m)})})}}async function kw(e,t,n,s=!1,o=!1){const c=new CM(e);let h;if(o)h=vS;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Py(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await kw(e,t,n,n==="getOobCode");return s(e,c)}else return s(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kw(e,t,n,n==="getOobCode");return s(e,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(e,t){const n=Qh(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Do(c,t??{}))return o;Ds(o,"already-initialized")}return n.initialize({options:t})}function IM(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pa);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function PM(e,t,n){const s=Ra(e);Ht(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=TS(t),{host:h,port:m}=NM(t),y=m===null?"":`:${m}`,v={url:`${c}//${h}${y}/`},w=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ht(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ht(Do(v,s.config.emulator)&&Do(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,qo(h)?(Rm(`${c}//${h}${y}`),A_("Auth",!0)):LM()}function TS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function NM(e){const t=TS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Ow(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:Ow(h)}}}function Ow(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function LM(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ma("not implemented")}_getIdTokenResponse(t){return ma("not implemented")}_linkToIdToken(t,n){return ma("not implemented")}_getReauthenticationResolver(t){return ma("not implemented")}}async function MM(e,t){return Go(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(e,t){return nu(e,"POST","/v1/accounts:signInWithPassword",Ca(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(e,t){return nu(e,"POST","/v1/accounts:signInWithEmailLink",Ca(e,t))}async function OM(e,t){return nu(e,"POST","/v1/accounts:signInWithEmailLink",Ca(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends k_{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Nh(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Nh(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(t,n,"signInWithPassword",DM);case"emailLink":return kM(t,{email:this._email,oobCode:this._password});default:Ds(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(t,s,"signUpPassword",MM);case"emailLink":return OM(t,{idToken:n,email:this._email,oobCode:this._password});default:Ds(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(e,t){return nu(e,"POST","/v1/accounts:signInWithIdp",Ca(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="http://localhost";class zl extends k_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new zl(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return Bc(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Bc(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Bc(t,n)}buildRequest(){const t={requestUri:VM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UM(e){const t=ah(oh(e)).link,n=t?ah(oh(t)).deep_link_id:null,s=ah(oh(e)).deep_link_id;return(s?ah(oh(s)).link:null)||s||n||t||e}class O_{constructor(t){const n=ah(oh(t)),s=n.apiKey??null,o=n.oobCode??null,c=jM(n.mode??null);Ht(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=UM(t);try{return new O_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.providerId=iu.PROVIDER_ID}static credential(t,n){return Nh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=O_.parseLink(n);return Ht(s,"argument-error"),Nh._fromEmailAndCode(t,s.code,s.tenantId)}}iu.PROVIDER_ID="password";iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends V_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends td{constructor(){super("facebook.com")}static credential(t){return zl._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return So.credentialFromTaggedObject(t)}static credentialFromError(t){return So.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return So.credential(t.oauthAccessToken)}catch{return null}}}So.FACEBOOK_SIGN_IN_METHOD="facebook.com";So.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends td{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zl._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return da.credentialFromTaggedObject(t)}static credentialFromError(t){return da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return da.credential(n,s)}catch{return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com";da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends td{constructor(){super("github.com")}static credential(t){return zl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ao.credentialFromTaggedObject(t)}static credentialFromError(t){return Ao.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ao.credential(t.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends td{constructor(){super("twitter.com")}static credential(t,n){return zl._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Co.credentialFromTaggedObject(t)}static credentialFromError(t){return Co.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Co.credential(n,s)}catch{return null}}}Co.TWITTER_SIGN_IN_METHOD="twitter.com";Co.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(e,t){return nu(e,"POST","/v1/accounts:signUp",Ca(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await er._fromIdTokenResponse(t,s,o),h=Vw(s);return new Oo({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Vw(s);return new Oo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Vw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Ur{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new nm(t,n,s,o)}}function bS(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(e,c,t,s):c})}async function BM(e,t,n=!1){const s=await Ph(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Oo._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(e,t,n=!1){const{auth:s}=e;if(Ti(s.app))return Promise.reject(Cr(s));const o="reauthenticate";try{const c=await Ph(e,bS(s,o,t,e),n);Ht(c.idToken,s,"internal-error");const h=M_(c.idToken);Ht(h,s,"internal-error");const{sub:m}=h;return Ht(e.uid===m,s,"user-mismatch"),Oo._forOperation(e,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ds(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(e,t,n=!1){if(Ti(e.app))return Promise.reject(Cr(e));const s="signIn",o=await bS(e,s,t),c=await Oo._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(c.user),c}async function HM(e,t){return wS(Ra(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(e,t){return nu(e,"POST","/v1/accounts:signInWithCustomToken",Ca(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(e,t){if(Ti(e.app))return Promise.reject(Cr(e));const n=Ra(e),s=await qM(n,{token:t,returnSecureToken:!0}),o=await Oo._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(e){const t=Ra(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function WM(e,t,n){if(Ti(e.app))return Promise.reject(Cr(e));const s=Ra(e),h=await Py(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zM).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&xS(e),y}),m=await Oo._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function ZM(e,t,n){return Ti(e.app)?Promise.reject(Cr(e)):HM(sn(e),iu.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xS(e),s})}function $M(e,t,n,s){return sn(e).onIdTokenChanged(t,n,s)}function YM(e,t,n){return sn(e).beforeAuthStateChanged(t,n)}function ed(e,t,n,s){return sn(e).onAuthStateChanged(t,n,s)}function KM(e){return sn(e).signOut()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=1e3,QM=10;class SS extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);mM()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QM):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},XM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}SS.type="LOCAL";const JM=SS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}AS.type="SESSION";const CS=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Pm(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async v=>v(n.origin,c)),y=await tD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,y)=>{const v=j_("",20);o.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const E=A;if(E.data.eventId===v)switch(E.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(E.data.response);break;default:clearTimeout(w),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function nD(e){Rr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function iD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sD(){return navigator?.serviceWorker?.controller||null}function rD(){return RS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firebaseLocalStorageDb",aD=1,sm="firebaseLocalStorage",PS="fbase_key";class nd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(e,t){return e.transaction([sm],t?"readwrite":"readonly").objectStore(sm)}function oD(){const e=indexedDB.deleteDatabase(IS);return new nd(e).toPromise()}function Ny(){const e=indexedDB.open(IS,aD);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(sm,{keyPath:PS})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(sm)?t(s):(s.close(),await oD(),t(await Ny()))})})}async function jw(e,t,n){const s=Nm(e,!0).put({[PS]:t,value:n});return new nd(s).toPromise()}async function lD(e,t){const n=Nm(e,!1).get(t),s=await new nd(n).toPromise();return s===void 0?null:s.value}function Uw(e,t){const n=Nm(e,!0).delete(t);return new nd(n).toPromise()}const cD=800,uD=3;class NS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ny(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pm._getInstance(rD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iD(),!this.activeServiceWorker)return;this.sender=new eD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ny();return await jw(t,im,"1"),await Uw(t,im),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jw(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>lD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uw(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Nm(o,!1).getAll();return new nd(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NS.type="LOCAL";const hD=NS;new Jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(e,t){return t?pa(t):(Ht(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends k_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Bc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Bc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dD(e){return wS(e.auth,new U_(e),e.bypassAuthState)}function fD(e){const{auth:t,user:n}=e;return Ht(n,t,"internal-error"),FM(n,new U_(e),e.bypassAuthState)}async function mD(e){const{auth:t,user:n}=e;return Ht(n,t,"internal-error"),BM(n,new U_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:m}=t;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dD;case"linkViaPopup":case"linkViaRedirect":return mD;case"reauthViaPopup":case"reauthViaRedirect":return fD;default:Ds(this.auth,"internal-error")}}resolve(t){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Jh(2e3,1e4);async function gD(e,t,n){if(Ti(e.app))return Promise.reject(ir(e,"operation-not-supported-in-this-environment"));const s=Ra(e);$L(e,t,V_);const o=LS(s,n);return new Pl(s,"signInViaPopup",t,o).executeNotNull()}class Pl extends MS{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const t=j_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pD.get())};t()}}Pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="pendingRedirect",jf=new Map;class _D extends MS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=jf.get(this.auth._key());if(!t){try{const s=await vD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}jf.set(this.auth._key(),t)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vD(e,t){const n=wD(t),s=bD(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TD(e,t){jf.set(e._key(),t)}function bD(e){return pa(e._redirectPersistence)}function wD(e){return Vf(yD,e.config.apiKey,e.name)}async function xD(e,t,n=!1){if(Ti(e.app))return Promise.reject(Cr(e));const s=Ra(e),o=LS(s,t),h=await new _D(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=600*1e3;class SD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!DS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ir(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ED&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(t))}saveEventToCache(t){this.cachedEventUids.add(zw(t)),this.lastProcessedEventTime=Date.now()}}function zw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function DS({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function AD(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(e,t={}){return Go(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ID=/^https?/;async function PD(e){if(e.config.emulator)return;const{authorizedDomains:t}=await CD(e);for(const n of t)try{if(ND(n))return}catch{}Ds(e,"unauthorized-domain")}function ND(e){const t=Ry(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const h=new URL(e);return h.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!ID.test(n))return!1;if(RD.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Jh(3e4,6e4);function Bw(){const e=Rr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function MD(e){return new Promise((t,n)=>{function s(){Bw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bw(),n(ir(e,"network-request-failed"))},timeout:LD.get()})}if(Rr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Rr().gapi?.load)s();else{const o=xM("iframefcb");return Rr()[o]=()=>{gapi.load?s():n(ir(e,"network-request-failed"))},_S(`${wM()}?onload=${o}`).catch(c=>n(c))}}).catch(t=>{throw Uf=null,t})}let Uf=null;function DD(e){return Uf=Uf||MD(e),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Jh(5e3,15e3),OD="__/auth/iframe",VD="emulator/auth/iframe",jD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zD(e){const t=e.config;Ht(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?L_(t,VD):`https://${e.config.authDomain}/${OD}`,s={apiKey:t.apiKey,appName:e.name,v:eu},o=UD.get(e.config.apiHost);o&&(s.eid=o);const c=e._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Xh(s).slice(1)}`}async function BD(e){const t=await DD(e),n=Rr().gapi;return Ht(n,e,"internal-error"),t.open({where:document.body,url:zD(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jD,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=ir(e,"network-request-failed"),m=Rr().setTimeout(()=>{c(h)},kD.get());function y(){Rr().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HD=500,qD=600,GD="_blank",WD="http://localhost";class Fw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZD(e,t,n,s=HD,o=qD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...FD,width:s.toString(),height:o.toString(),top:c,left:h},v=oi().toLowerCase();n&&(m=hS(v)?GD:n),cS(v)&&(t=t||WD,y.scrollbars="yes");const w=Object.entries(y).reduce((E,[N,V])=>`${E}${N}=${V},`,"");if(fM(v)&&m!=="_self")return $D(t||"",m),new Fw(null);const A=window.open(t||"",m,w);Ht(A,e,"popup-blocked");try{A.focus()}catch{}return new Fw(A)}function $D(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="__/auth/handler",KD="emulator/auth/handler",XD=encodeURIComponent("fac");async function Hw(e,t,n,s,o,c){Ht(e.config.authDomain,e,"auth-domain-config-required"),Ht(e.config.apiKey,e,"invalid-api-key");const h={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:eu,eventId:o};if(t instanceof V_){t.setDefaultLanguage(e.languageCode),h.providerId=t.providerId||"",LN(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,A]of Object.entries({}))h[w]=A}if(t instanceof td){const w=t.getScopes().filter(A=>A!=="");w.length>0&&(h.scopes=w.join(","))}e.tenantId&&(h.tid=e.tenantId);const m=h;for(const w of Object.keys(m))m[w]===void 0&&delete m[w];const y=await e._getAppCheckToken(),v=y?`#${XD}=${encodeURIComponent(y)}`:"";return`${QD(e)}?${Xh(m).slice(1)}${v}`}function QD({config:e}){return e.emulator?L_(e,KD):`https://${e.authDomain}/${YD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class JD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=xD,this._overrideRedirectResult=TD}async _openPopup(t,n,s,o){Ta(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Hw(t,n,s,Ry(),o);return ZD(t,c,j_())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await Hw(t,n,s,Ry(),o);return nD(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ta(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await BD(t),s=new SD(t);return n.register("authEvent",o=>(Ht(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xg,{type:Xg},o=>{const c=o?.[0]?.[Xg];c!==void 0&&n(!!c),Ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return gS()||uS()||D_()}}const tk=JD;var qw="@firebase/auth",Gw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ik(e){Ul(new ko("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ht(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(e)},v=new vM(s,o,c,y);return IM(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ul(new ko("auth-internal",t=>{const n=Ra(t.getProvider("auth").getImmediate());return(s=>new ek(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(qw,Gw,nk(e)),Ar(qw,Gw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=300,rk=K1("authIdTokenMaxAge")||sk;let Ww=null;const ak=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rk)return;const o=n?.token;Ww!==o&&(Ww=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ok(e=I_()){const t=Qh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=RM(e,{popupRedirectResolver:tk,persistence:[hD,JM,CS]}),s=K1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=ak(c.toString());YM(n,h,()=>h(n.currentUser)),$M(n,m=>h(m))}}const o=Z1("auth");return o&&PM(n,`http://${o}`),n}function lk(){return document.getElementsByTagName("head")?.[0]??document}TM({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const c=ir("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",lk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ik("Browser");var Zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lo,kS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,k){function j(){}j.prototype=k.prototype,z.D=k.prototype,z.prototype=new j,z.prototype.constructor=z,z.C=function(G,W,Y){for(var B=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)B[jt-2]=arguments[jt];return k.prototype[W].apply(G,B)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(z,k,j){j||(j=0);var G=Array(16);if(typeof k=="string")for(var W=0;16>W;++W)G[W]=k.charCodeAt(j++)|k.charCodeAt(j++)<<8|k.charCodeAt(j++)<<16|k.charCodeAt(j++)<<24;else for(W=0;16>W;++W)G[W]=k[j++]|k[j++]<<8|k[j++]<<16|k[j++]<<24;k=z.g[0],j=z.g[1],W=z.g[2];var Y=z.g[3],B=k+(Y^j&(W^Y))+G[0]+3614090360&4294967295;k=j+(B<<7&4294967295|B>>>25),B=Y+(W^k&(j^W))+G[1]+3905402710&4294967295,Y=k+(B<<12&4294967295|B>>>20),B=W+(j^Y&(k^j))+G[2]+606105819&4294967295,W=Y+(B<<17&4294967295|B>>>15),B=j+(k^W&(Y^k))+G[3]+3250441966&4294967295,j=W+(B<<22&4294967295|B>>>10),B=k+(Y^j&(W^Y))+G[4]+4118548399&4294967295,k=j+(B<<7&4294967295|B>>>25),B=Y+(W^k&(j^W))+G[5]+1200080426&4294967295,Y=k+(B<<12&4294967295|B>>>20),B=W+(j^Y&(k^j))+G[6]+2821735955&4294967295,W=Y+(B<<17&4294967295|B>>>15),B=j+(k^W&(Y^k))+G[7]+4249261313&4294967295,j=W+(B<<22&4294967295|B>>>10),B=k+(Y^j&(W^Y))+G[8]+1770035416&4294967295,k=j+(B<<7&4294967295|B>>>25),B=Y+(W^k&(j^W))+G[9]+2336552879&4294967295,Y=k+(B<<12&4294967295|B>>>20),B=W+(j^Y&(k^j))+G[10]+4294925233&4294967295,W=Y+(B<<17&4294967295|B>>>15),B=j+(k^W&(Y^k))+G[11]+2304563134&4294967295,j=W+(B<<22&4294967295|B>>>10),B=k+(Y^j&(W^Y))+G[12]+1804603682&4294967295,k=j+(B<<7&4294967295|B>>>25),B=Y+(W^k&(j^W))+G[13]+4254626195&4294967295,Y=k+(B<<12&4294967295|B>>>20),B=W+(j^Y&(k^j))+G[14]+2792965006&4294967295,W=Y+(B<<17&4294967295|B>>>15),B=j+(k^W&(Y^k))+G[15]+1236535329&4294967295,j=W+(B<<22&4294967295|B>>>10),B=k+(W^Y&(j^W))+G[1]+4129170786&4294967295,k=j+(B<<5&4294967295|B>>>27),B=Y+(j^W&(k^j))+G[6]+3225465664&4294967295,Y=k+(B<<9&4294967295|B>>>23),B=W+(k^j&(Y^k))+G[11]+643717713&4294967295,W=Y+(B<<14&4294967295|B>>>18),B=j+(Y^k&(W^Y))+G[0]+3921069994&4294967295,j=W+(B<<20&4294967295|B>>>12),B=k+(W^Y&(j^W))+G[5]+3593408605&4294967295,k=j+(B<<5&4294967295|B>>>27),B=Y+(j^W&(k^j))+G[10]+38016083&4294967295,Y=k+(B<<9&4294967295|B>>>23),B=W+(k^j&(Y^k))+G[15]+3634488961&4294967295,W=Y+(B<<14&4294967295|B>>>18),B=j+(Y^k&(W^Y))+G[4]+3889429448&4294967295,j=W+(B<<20&4294967295|B>>>12),B=k+(W^Y&(j^W))+G[9]+568446438&4294967295,k=j+(B<<5&4294967295|B>>>27),B=Y+(j^W&(k^j))+G[14]+3275163606&4294967295,Y=k+(B<<9&4294967295|B>>>23),B=W+(k^j&(Y^k))+G[3]+4107603335&4294967295,W=Y+(B<<14&4294967295|B>>>18),B=j+(Y^k&(W^Y))+G[8]+1163531501&4294967295,j=W+(B<<20&4294967295|B>>>12),B=k+(W^Y&(j^W))+G[13]+2850285829&4294967295,k=j+(B<<5&4294967295|B>>>27),B=Y+(j^W&(k^j))+G[2]+4243563512&4294967295,Y=k+(B<<9&4294967295|B>>>23),B=W+(k^j&(Y^k))+G[7]+1735328473&4294967295,W=Y+(B<<14&4294967295|B>>>18),B=j+(Y^k&(W^Y))+G[12]+2368359562&4294967295,j=W+(B<<20&4294967295|B>>>12),B=k+(j^W^Y)+G[5]+4294588738&4294967295,k=j+(B<<4&4294967295|B>>>28),B=Y+(k^j^W)+G[8]+2272392833&4294967295,Y=k+(B<<11&4294967295|B>>>21),B=W+(Y^k^j)+G[11]+1839030562&4294967295,W=Y+(B<<16&4294967295|B>>>16),B=j+(W^Y^k)+G[14]+4259657740&4294967295,j=W+(B<<23&4294967295|B>>>9),B=k+(j^W^Y)+G[1]+2763975236&4294967295,k=j+(B<<4&4294967295|B>>>28),B=Y+(k^j^W)+G[4]+1272893353&4294967295,Y=k+(B<<11&4294967295|B>>>21),B=W+(Y^k^j)+G[7]+4139469664&4294967295,W=Y+(B<<16&4294967295|B>>>16),B=j+(W^Y^k)+G[10]+3200236656&4294967295,j=W+(B<<23&4294967295|B>>>9),B=k+(j^W^Y)+G[13]+681279174&4294967295,k=j+(B<<4&4294967295|B>>>28),B=Y+(k^j^W)+G[0]+3936430074&4294967295,Y=k+(B<<11&4294967295|B>>>21),B=W+(Y^k^j)+G[3]+3572445317&4294967295,W=Y+(B<<16&4294967295|B>>>16),B=j+(W^Y^k)+G[6]+76029189&4294967295,j=W+(B<<23&4294967295|B>>>9),B=k+(j^W^Y)+G[9]+3654602809&4294967295,k=j+(B<<4&4294967295|B>>>28),B=Y+(k^j^W)+G[12]+3873151461&4294967295,Y=k+(B<<11&4294967295|B>>>21),B=W+(Y^k^j)+G[15]+530742520&4294967295,W=Y+(B<<16&4294967295|B>>>16),B=j+(W^Y^k)+G[2]+3299628645&4294967295,j=W+(B<<23&4294967295|B>>>9),B=k+(W^(j|~Y))+G[0]+4096336452&4294967295,k=j+(B<<6&4294967295|B>>>26),B=Y+(j^(k|~W))+G[7]+1126891415&4294967295,Y=k+(B<<10&4294967295|B>>>22),B=W+(k^(Y|~j))+G[14]+2878612391&4294967295,W=Y+(B<<15&4294967295|B>>>17),B=j+(Y^(W|~k))+G[5]+4237533241&4294967295,j=W+(B<<21&4294967295|B>>>11),B=k+(W^(j|~Y))+G[12]+1700485571&4294967295,k=j+(B<<6&4294967295|B>>>26),B=Y+(j^(k|~W))+G[3]+2399980690&4294967295,Y=k+(B<<10&4294967295|B>>>22),B=W+(k^(Y|~j))+G[10]+4293915773&4294967295,W=Y+(B<<15&4294967295|B>>>17),B=j+(Y^(W|~k))+G[1]+2240044497&4294967295,j=W+(B<<21&4294967295|B>>>11),B=k+(W^(j|~Y))+G[8]+1873313359&4294967295,k=j+(B<<6&4294967295|B>>>26),B=Y+(j^(k|~W))+G[15]+4264355552&4294967295,Y=k+(B<<10&4294967295|B>>>22),B=W+(k^(Y|~j))+G[6]+2734768916&4294967295,W=Y+(B<<15&4294967295|B>>>17),B=j+(Y^(W|~k))+G[13]+1309151649&4294967295,j=W+(B<<21&4294967295|B>>>11),B=k+(W^(j|~Y))+G[4]+4149444226&4294967295,k=j+(B<<6&4294967295|B>>>26),B=Y+(j^(k|~W))+G[11]+3174756917&4294967295,Y=k+(B<<10&4294967295|B>>>22),B=W+(k^(Y|~j))+G[2]+718787259&4294967295,W=Y+(B<<15&4294967295|B>>>17),B=j+(Y^(W|~k))+G[9]+3951481745&4294967295,z.g[0]=z.g[0]+k&4294967295,z.g[1]=z.g[1]+(W+(B<<21&4294967295|B>>>11))&4294967295,z.g[2]=z.g[2]+W&4294967295,z.g[3]=z.g[3]+Y&4294967295}s.prototype.u=function(z,k){k===void 0&&(k=z.length);for(var j=k-this.blockSize,G=this.B,W=this.h,Y=0;Y<k;){if(W==0)for(;Y<=j;)o(this,z,Y),Y+=this.blockSize;if(typeof z=="string"){for(;Y<k;)if(G[W++]=z.charCodeAt(Y++),W==this.blockSize){o(this,G),W=0;break}}else for(;Y<k;)if(G[W++]=z[Y++],W==this.blockSize){o(this,G),W=0;break}}this.h=W,this.o+=k},s.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var k=1;k<z.length-8;++k)z[k]=0;var j=8*this.o;for(k=z.length-8;k<z.length;++k)z[k]=j&255,j/=256;for(this.u(z),z=Array(16),k=j=0;4>k;++k)for(var G=0;32>G;G+=8)z[j++]=this.g[k]>>>G&255;return z};function c(z,k){var j=m;return Object.prototype.hasOwnProperty.call(j,z)?j[z]:j[z]=k(z)}function h(z,k){this.h=k;for(var j=[],G=!0,W=z.length-1;0<=W;W--){var Y=z[W]|0;G&&Y==k||(j[W]=Y,G=!1)}this.g=j}var m={};function y(z){return-128<=z&&128>z?c(z,function(k){return new h([k|0],0>k?-1:0)}):new h([z|0],0>z?-1:0)}function v(z){if(isNaN(z)||!isFinite(z))return A;if(0>z)return Z(v(-z));for(var k=[],j=1,G=0;z>=j;G++)k[G]=z/j|0,j*=4294967296;return new h(k,0)}function w(z,k){if(z.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(z.charAt(0)=="-")return Z(w(z.substring(1),k));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=v(Math.pow(k,8)),G=A,W=0;W<z.length;W+=8){var Y=Math.min(8,z.length-W),B=parseInt(z.substring(W,W+Y),k);8>Y?(Y=v(Math.pow(k,Y)),G=G.j(Y).add(v(B))):(G=G.j(j),G=G.add(v(B)))}return G}var A=y(0),E=y(1),N=y(16777216);e=h.prototype,e.m=function(){if(q(this))return-Z(this).m();for(var z=0,k=1,j=0;j<this.g.length;j++){var G=this.i(j);z+=(0<=G?G:4294967296+G)*k,k*=4294967296}return z},e.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(V(this))return"0";if(q(this))return"-"+Z(this).toString(z);for(var k=v(Math.pow(z,6)),j=this,G="";;){var W=dt(j,k).g;j=$(j,W.j(k));var Y=((0<j.g.length?j.g[0]:j.h)>>>0).toString(z);if(j=W,V(j))return Y+G;for(;6>Y.length;)Y="0"+Y;G=Y+G}},e.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function V(z){if(z.h!=0)return!1;for(var k=0;k<z.g.length;k++)if(z.g[k]!=0)return!1;return!0}function q(z){return z.h==-1}e.l=function(z){return z=$(this,z),q(z)?-1:V(z)?0:1};function Z(z){for(var k=z.g.length,j=[],G=0;G<k;G++)j[G]=~z.g[G];return new h(j,~z.h).add(E)}e.abs=function(){return q(this)?Z(this):this},e.add=function(z){for(var k=Math.max(this.g.length,z.g.length),j=[],G=0,W=0;W<=k;W++){var Y=G+(this.i(W)&65535)+(z.i(W)&65535),B=(Y>>>16)+(this.i(W)>>>16)+(z.i(W)>>>16);G=B>>>16,Y&=65535,B&=65535,j[W]=B<<16|Y}return new h(j,j[j.length-1]&-2147483648?-1:0)};function $(z,k){return z.add(Z(k))}e.j=function(z){if(V(this)||V(z))return A;if(q(this))return q(z)?Z(this).j(Z(z)):Z(Z(this).j(z));if(q(z))return Z(this.j(Z(z)));if(0>this.l(N)&&0>z.l(N))return v(this.m()*z.m());for(var k=this.g.length+z.g.length,j=[],G=0;G<2*k;G++)j[G]=0;for(G=0;G<this.g.length;G++)for(var W=0;W<z.g.length;W++){var Y=this.i(G)>>>16,B=this.i(G)&65535,jt=z.i(W)>>>16,X=z.i(W)&65535;j[2*G+2*W]+=B*X,ct(j,2*G+2*W),j[2*G+2*W+1]+=Y*X,ct(j,2*G+2*W+1),j[2*G+2*W+1]+=B*jt,ct(j,2*G+2*W+1),j[2*G+2*W+2]+=Y*jt,ct(j,2*G+2*W+2)}for(G=0;G<k;G++)j[G]=j[2*G+1]<<16|j[2*G];for(G=k;G<2*k;G++)j[G]=0;return new h(j,0)};function ct(z,k){for(;(z[k]&65535)!=z[k];)z[k+1]+=z[k]>>>16,z[k]&=65535,k++}function J(z,k){this.g=z,this.h=k}function dt(z,k){if(V(k))throw Error("division by zero");if(V(z))return new J(A,A);if(q(z))return k=dt(Z(z),k),new J(Z(k.g),Z(k.h));if(q(k))return k=dt(z,Z(k)),new J(Z(k.g),k.h);if(30<z.g.length){if(q(z)||q(k))throw Error("slowDivide_ only works with positive integers.");for(var j=E,G=k;0>=G.l(z);)j=tt(j),G=tt(G);var W=wt(j,1),Y=wt(G,1);for(G=wt(G,2),j=wt(j,2);!V(G);){var B=Y.add(G);0>=B.l(z)&&(W=W.add(j),Y=B),G=wt(G,1),j=wt(j,1)}return k=$(z,W.j(k)),new J(W,k)}for(W=A;0<=z.l(k);){for(j=Math.max(1,Math.floor(z.m()/k.m())),G=Math.ceil(Math.log(j)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),Y=v(j),B=Y.j(k);q(B)||0<B.l(z);)j-=G,Y=v(j),B=Y.j(k);V(Y)&&(Y=E),W=W.add(Y),z=$(z,B)}return new J(W,z)}e.A=function(z){return dt(this,z).h},e.and=function(z){for(var k=Math.max(this.g.length,z.g.length),j=[],G=0;G<k;G++)j[G]=this.i(G)&z.i(G);return new h(j,this.h&z.h)},e.or=function(z){for(var k=Math.max(this.g.length,z.g.length),j=[],G=0;G<k;G++)j[G]=this.i(G)|z.i(G);return new h(j,this.h|z.h)},e.xor=function(z){for(var k=Math.max(this.g.length,z.g.length),j=[],G=0;G<k;G++)j[G]=this.i(G)^z.i(G);return new h(j,this.h^z.h)};function tt(z){for(var k=z.g.length+1,j=[],G=0;G<k;G++)j[G]=z.i(G)<<1|z.i(G-1)>>>31;return new h(j,z.h)}function wt(z,k){var j=k>>5;k%=32;for(var G=z.g.length-j,W=[],Y=0;Y<G;Y++)W[Y]=0<k?z.i(Y+j)>>>k|z.i(Y+j+1)<<32-k:z.i(Y+j);return new h(W,z.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Lo=h}).apply(typeof Zw<"u"?Zw:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OS,lh,VS,zf,Ly,jS,US,zS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,C){return f==Array.prototype||f==Object.prototype||(f[x]=C.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var x=0;x<f.length;++x){var C=f[x];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=n(this);function o(f,x){if(x)t:{var C=s;f=f.split(".");for(var M=0;M<f.length-1;M++){var et=f[M];if(!(et in C))break t;C=C[et]}f=f[f.length-1],M=C[f],x=x(M),x!=M&&x!=null&&t(C,f,{configurable:!0,writable:!0,value:x})}}function c(f,x){f instanceof String&&(f+="");var C=0,M=!1,et={next:function(){if(!M&&C<f.length){var ft=C++;return{value:x(ft,f[ft]),done:!1}}return M=!0,{done:!0,value:void 0}}};return et[Symbol.iterator]=function(){return et},et}o("Array.prototype.values",function(f){return f||function(){return c(this,function(x,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function v(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function w(f,x,C){return f.call.apply(f.bind,arguments)}function A(f,x,C){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,M),f.apply(x,et)}}return function(){return f.apply(x,arguments)}}function E(f,x,C){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:A,E.apply(null,arguments)}function N(f,x){var C=Array.prototype.slice.call(arguments,1);return function(){var M=C.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function V(f,x){function C(){}C.prototype=x.prototype,f.aa=x.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(M,et,ft){for(var At=Array(arguments.length-2),le=2;le<arguments.length;le++)At[le-2]=arguments[le];return x.prototype[et].apply(M,At)}}function q(f){const x=f.length;if(0<x){const C=Array(x);for(let M=0;M<x;M++)C[M]=f[M];return C}return[]}function Z(f,x){for(let C=1;C<arguments.length;C++){const M=arguments[C];if(y(M)){const et=f.length||0,ft=M.length||0;f.length=et+ft;for(let At=0;At<ft;At++)f[et+At]=M[At]}else f.push(M)}}class ${constructor(x,C){this.i=x,this.j=C,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function ct(f){return/^[\s\xa0]*$/.test(f)}function J(){var f=m.navigator;return f&&(f=f.userAgent)?f:""}function dt(f){return dt[" "](f),f}dt[" "]=function(){};var tt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function wt(f,x,C){for(const M in f)x.call(C,f[M],M,f)}function z(f,x){for(const C in f)x.call(void 0,f[C],C,f)}function k(f){const x={};for(const C in f)x[C]=f[C];return x}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(f,x){let C,M;for(let et=1;et<arguments.length;et++){M=arguments[et];for(C in M)f[C]=M[C];for(let ft=0;ft<j.length;ft++)C=j[ft],Object.prototype.hasOwnProperty.call(M,C)&&(f[C]=M[C])}}function W(f){var x=1;f=f.split(":");const C=[];for(;0<x&&f.length;)C.push(f.shift()),x--;return f.length&&C.push(f.join(":")),C}function Y(f){m.setTimeout(()=>{throw f},0)}function B(){var f=Et;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class jt{constructor(){this.h=this.g=null}add(x,C){const M=X.get();M.set(x,C),this.h?this.h.next=M:this.g=M,this.h=M}}var X=new $(()=>new U,f=>f.reset());class U{constructor(){this.next=this.g=this.h=null}set(x,C){this.h=x,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let at,rt=!1,Et=new jt,O=()=>{const f=m.Promise.resolve(void 0);at=()=>{f.then(ot)}};var ot=()=>{for(var f;f=B();){try{f.h.call(f.g)}catch(C){Y(C)}var x=X;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}rt=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var xt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};m.addEventListener("test",C,x),m.removeEventListener("test",C,x)}catch{}return f}();function Ct(f,x){if(yt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(tt){t:{try{dt(x.nodeName);var et=!0;break t}catch{}et=!1}et||(x=null)}}else C=="mouseover"?x=f.fromElement:C=="mouseout"&&(x=f.toElement);this.relatedTarget=x,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:St[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ct.aa.h.call(this)}}V(Ct,yt);var St={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),re=0;function li(f,x,C,M,et){this.listener=f,this.proxy=null,this.src=x,this.type=C,this.capture=!!M,this.ha=et,this.key=++re,this.da=this.fa=!1}function wi(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ci(f){this.src=f,this.g={},this.h=0}ci.prototype.add=function(f,x,C,M,et){var ft=f.toString();f=this.g[ft],f||(f=this.g[ft]=[],this.h++);var At=ji(f,x,M,et);return-1<At?(x=f[At],C||(x.fa=!1)):(x=new li(x,this.src,ft,!!M,et),x.fa=C,f.push(x)),x};function ui(f,x){var C=x.type;if(C in f.g){var M=f.g[C],et=Array.prototype.indexOf.call(M,x,void 0),ft;(ft=0<=et)&&Array.prototype.splice.call(M,et,1),ft&&(wi(x),f.g[C].length==0&&(delete f.g[C],f.h--))}}function ji(f,x,C,M){for(var et=0;et<f.length;++et){var ft=f[et];if(!ft.da&&ft.listener==x&&ft.capture==!!C&&ft.ha==M)return et}return-1}var Os="closure_lm_"+(1e6*Math.random()|0),ve={};function We(f,x,C,M,et){if(Array.isArray(x)){for(var ft=0;ft<x.length;ft++)We(f,x[ft],C,M,et);return null}return C=ar(C),f&&f[ge]?f.K(x,C,v(M)?!!M.capture:!1,et):fn(f,x,C,!1,M,et)}function fn(f,x,C,M,et,ft){if(!x)throw Error("Invalid event type");var At=v(et)?!!et.capture:!!et,le=os(f);if(le||(f[Os]=le=new ci(f)),C=le.add(x,C,M,At,ft),C.proxy)return C;if(M=rs(),C.proxy=M,M.src=f,M.listener=C,f.addEventListener)xt||(et=At),et===void 0&&(et=!1),f.addEventListener(x.toString(),M,et);else if(f.attachEvent)f.attachEvent(hi(x.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return C}function rs(){function f(C){return x.call(f.src,f.listener,C)}const x=Br;return f}function zr(f,x,C,M,et){if(Array.isArray(x))for(var ft=0;ft<x.length;ft++)zr(f,x[ft],C,M,et);else M=v(M)?!!M.capture:!!M,C=ar(C),f&&f[ge]?(f=f.i,x=String(x).toString(),x in f.g&&(ft=f.g[x],C=ji(ft,C,M,et),-1<C&&(wi(ft[C]),Array.prototype.splice.call(ft,C,1),ft.length==0&&(delete f.g[x],f.h--)))):f&&(f=os(f))&&(x=f.g[x.toString()],f=-1,x&&(f=ji(x,C,M,et)),(C=-1<f?x[f]:null)&&as(C))}function as(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[ge])ui(x.i,f);else{var C=f.type,M=f.proxy;x.removeEventListener?x.removeEventListener(C,M,f.capture):x.detachEvent?x.detachEvent(hi(C),M):x.addListener&&x.removeListener&&x.removeListener(M),(C=os(x))?(ui(C,f),C.h==0&&(C.src=null,x[Os]=null)):wi(f)}}}function hi(f){return f in ve?ve[f]:ve[f]="on"+f}function Br(f,x){if(f.da)f=!0;else{x=new Ct(x,this);var C=f.listener,M=f.ha||f.src;f.fa&&as(f),f=C.call(M,x)}return f}function os(f){return f=f[Os],f instanceof ci?f:null}var Fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ar(f){return typeof f=="function"?f:(f[Fr]||(f[Fr]=function(x){return f.handleEvent(x)}),f[Fr])}function Te(){bt.call(this),this.i=new ci(this),this.M=this,this.F=null}V(Te,bt),Te.prototype[ge]=!0,Te.prototype.removeEventListener=function(f,x,C,M){zr(this,f,x,C,M)};function ne(f,x){var C,M=f.F;if(M)for(C=[];M;M=M.F)C.push(M);if(f=f.M,M=x.type||x,typeof x=="string")x=new yt(x,f);else if(x instanceof yt)x.target=x.target||f;else{var et=x;x=new yt(M,f),G(x,et)}if(et=!0,C)for(var ft=C.length-1;0<=ft;ft--){var At=x.g=C[ft];et=mn(At,M,!0,x)&&et}if(At=x.g=f,et=mn(At,M,!0,x)&&et,et=mn(At,M,!1,x)&&et,C)for(ft=0;ft<C.length;ft++)At=x.g=C[ft],et=mn(At,M,!1,x)&&et}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var C=f.g[x],M=0;M<C.length;M++)wi(C[M]);delete f.g[x],f.h--}}this.F=null},Te.prototype.K=function(f,x,C,M){return this.i.add(String(f),x,!1,C,M)},Te.prototype.L=function(f,x,C,M){return this.i.add(String(f),x,!0,C,M)};function mn(f,x,C,M){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var et=!0,ft=0;ft<x.length;++ft){var At=x[ft];if(At&&!At.da&&At.capture==C){var le=At.listener,Je=At.ha||At.src;At.fa&&ui(f.i,At),et=le.call(Je,M)!==!1&&et}}return et&&!M.defaultPrevented}function pn(f,x,C){if(typeof f=="function")C&&(f=E(f,C));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:m.setTimeout(f,x||0)}function Xt(f){f.g=pn(()=>{f.g=null,f.i&&(f.i=!1,Xt(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Dt extends bt{constructor(x,C){super(),this.m=x,this.l=C,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(f){bt.call(this),this.h=f,this.g={}}V(Ee,bt);var rn=[];function an(f){wt(f.g,function(x,C){this.g.hasOwnProperty(C)&&as(x)},f),f.g={}}Ee.prototype.N=function(){Ee.aa.N.call(this),an(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=m.JSON.stringify,Vs=m.JSON.parse,Ui=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function Yo(){}Yo.prototype.h=null;function Ko(f){return f.h||(f.h=f.i())}function Na(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cs(){yt.call(this,"d")}V(cs,yt);function Xo(){yt.call(this,"c")}V(Xo,yt);var us={},Qo=null;function or(){return Qo=Qo||new Te}us.La="serverreachability";function La(f){yt.call(this,us.La,f)}V(La,yt);function lr(f){const x=or();ne(x,new La(x))}us.STAT_EVENT="statevent";function Ma(f,x){yt.call(this,us.STAT_EVENT,f),this.stat=x}V(Ma,yt);function De(f){const x=or();ne(x,new Ma(x,f))}us.Ma="timingevent";function on(f,x){yt.call(this,us.Ma,f),this.size=x}V(on,yt);function Qe(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},x)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function Xn(f,x,C,M,et,ft){f.info(function(){if(f.g)if(ft)for(var At="",le=ft.split("&"),Je=0;Je<le.length;Je++){var ce=le[Je].split("=");if(1<ce.length){var we=ce[0];ce=ce[1];var Oe=we.split("_");At=2<=Oe.length&&Oe[1]=="type"?At+(we+"="+ce+"&"):At+(we+"=redacted&")}}else At=null;else At=ft;return"XMLHTTP REQ ("+M+") [attempt "+et+"]: "+x+`
`+C+`
`+At})}function kt(f,x,C,M,et,ft,At){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+et+"]: "+x+`
`+C+`
`+ft+" "+At})}function js(f,x,C,M){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+cr(f,C)+(M?" "+M:"")})}function Jo(f,x){f.info(function(){return"TIMEOUT: "+x})}xi.prototype.info=function(){};function cr(f,x){if(!f.g)return x;if(!x)return null;try{var C=JSON.parse(x);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var M=C[f];if(!(2>M.length)){var et=M[1];if(Array.isArray(et)&&!(1>et.length)){var ft=et[0];if(ft!="noop"&&ft!="stop"&&ft!="close")for(var At=1;At<et.length;At++)et[At]=""}}}}return In(C)}catch{return x}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bi;function zn(){}V(zn,Yo),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Bi=new zn;function Pn(f,x,C,M){this.j=f,this.i=x,this.l=C,this.R=M||1,this.U=new Ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ze}function Ze(){this.i=null,this.g="",this.h=!1}var tl={},Da={};function Fi(f,x,C){f.L=1,f.v=di(ke(x)),f.m=C,f.P=!0,hs(f,null)}function hs(f,x){f.F=Date.now(),qr(f),f.A=ke(f.v);var C=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),il(C.i,"t",M),f.C=0,C=f.j.J,f.h=new Ze,f.g=Xl(f.j,C?x:null,!f.m),0<f.O&&(f.M=new Dt(E(f.Y,f,f.g),f.O)),x=f.U,C=f.g,M=f.ca;var et="readystatechange";Array.isArray(et)||(et&&(rn[0]=et.toString()),et=rn);for(var ft=0;ft<et.length;ft++){var At=We(C,et[ft],M||x.handleEvent,!1,x.h||x);if(!At)break;x.g[At.key]=At}x=f.H?k(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),lr(),Xn(f.i,f.u,f.A,f.l,f.R,f.m)}Pn.prototype.ca=function(f){f=f.target;const x=this.M;x&&Mn(f)==3?x.j():this.Y(f)},Pn.prototype.Y=function(f){try{if(f==this.g)t:{const Oe=Mn(this.g);var x=this.g.Ba();const Zs=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||sl(this.g)))){this.J||Oe!=4||x==7||(x==8||0>=Zs?lr(3):lr(2)),ur(this);var C=this.g.Z();this.X=C;e:if(Wl(this)){var M=sl(this.g);f="";var et=M.length,ft=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),ds(this);var At="";break e}this.h.i=new m.TextDecoder}for(x=0;x<et;x++)this.h.h=!0,f+=this.h.i.decode(M[x],{stream:!(ft&&x==et-1)});M.length=0,this.h.g+=f,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=C==200,kt(this.i,this.u,this.A,this.l,this.R,Oe,C),this.o){if(this.T&&!this.K){e:{if(this.g){var le,Je=this.g;if((le=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(le)){var ce=le;break e}}ce=null}if(C=ce)js(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,C);else{this.o=!1,this.s=3,De(12),En(this),ds(this);break t}}if(this.P){C=!0;let Le;for(;!this.J&&this.C<At.length;)if(Le=Hr(this,At),Le==Da){Oe==4&&(this.s=4,De(14),C=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==tl){this.s=4,De(15),js(this.i,this.l,At,"[Invalid Chunk]"),C=!1;break}else js(this.i,this.l,Le,null),zs(this,Le);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||At.length!=0||this.h.h||(this.s=1,De(16),C=!1),this.o=this.o&&C,!C)js(this.i,this.l,At,"[Invalid Chunked Response]"),En(this),ds(this);else if(0<At.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),gr(we),we.M=!0,De(11))}}else js(this.i,this.l,At,null),zs(this,At);Oe==4&&En(this),this.o&&!this.J&&(Oe==4?al(this.j,this):(this.o=!1,qr(this)))}else mu(this.g),C==400&&0<At.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),En(this),ds(this)}}}catch{}finally{}};function Wl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Hr(f,x){var C=f.C,M=x.indexOf(`
`,C);return M==-1?Da:(C=Number(x.substring(C,M)),isNaN(C)?tl:(M+=1,M+C>x.length?Da:(x=x.slice(M,M+C),f.C=M+C,x)))}Pn.prototype.cancel=function(){this.J=!0,En(this)};function qr(f){f.S=Date.now()+f.I,Zl(f,f.I)}function Zl(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Qe(E(f.ba,f),x)}function ur(f){f.B&&(m.clearTimeout(f.B),f.B=null)}Pn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Jo(this.i,this.A),this.L!=2&&(lr(),De(17)),En(this),this.s=2,ds(this)):Zl(this,this.S-f)};function ds(f){f.j.G==0||f.J||al(f.j,f)}function En(f){ur(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,an(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function zs(f,x){try{var C=f.j;if(C.G!=0&&(C.g==f||ie(C.h,f))){if(!f.K&&ie(C.h,f)&&C.G==3){try{var M=C.Da.g.parse(x)}catch{M=null}if(Array.isArray(M)&&M.length==3){var et=M;if(et[0]==0){t:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)Ha(C),za(C);else break t;Ba(C),De(18)}}else C.za=et[1],0<C.za-C.T&&37500>et[2]&&C.F&&C.v==0&&!C.C&&(C.C=Qe(E(C.Za,C),6e3));if(1>=ms(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ws(C,11)}else if((f.K||C.g==f)&&Ha(C),!ct(x))for(et=C.Da.g.parse(x),x=0;x<et.length;x++){let ce=et[x];if(C.T=ce[0],ce=ce[1],C.G==2)if(ce[0]=="c"){C.K=ce[1],C.ia=ce[2];const we=ce[3];we!=null&&(C.la=we,C.j.info("VER="+C.la));const Oe=ce[4];Oe!=null&&(C.Aa=Oe,C.j.info("SVER="+C.Aa));const Zs=ce[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(M=1.5*Zs,C.L=M,C.j.info("backChannelRequestTimeoutMs_="+M)),M=C;const Le=f.g;if(Le){const vs=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var ft=M.h;ft.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(ft.j=ft.l,ft.g=new Set,ft.h&&(be(ft,ft.h),ft.h=null))}if(M.D){const Ts=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Ts&&(M.ya=Ts,Ft(M.I,M.D,Ts))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),M=C;var At=f;if(M.qa=Ga(M,M.J?M.ia:null,M.W),At.K){gn(M.h,At);var le=At,Je=M.L;Je&&(le.I=Je),le.B&&(ur(le),qr(le)),M.g=At}else $i(M);0<C.i.length&&pr(C)}else ce[0]!="stop"&&ce[0]!="close"||Ws(C,7);else C.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Ws(C,7):Ua(C):ce[0]!="noop"&&C.l&&C.l.ta(ce),C.v=0)}}lr(4)}catch{}}var hr=class{constructor(f,x){this.g=f,this.map=x}};function fs(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ms(f){return f.h?1:f.g?f.g.size:0}function ie(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function be(f,x){f.g?f.g.add(x):f.h=x}function gn(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}fs.prototype.cancel=function(){if(this.i=ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ps(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const C of f.g.values())x=x.concat(C.D);return x}return q(f.i)}function dr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var x=[],C=f.length,M=0;M<C;M++)x.push(f[M]);return x}x=[],C=0;for(M in f)x[C++]=f[M];return x}function fr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var x=[];f=f.length;for(var C=0;C<f;C++)x.push(C);return x}x=[],C=0;for(const M in f)x[C++]=M;return x}}}function $t(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var C=fr(f),M=dr(f),et=M.length,ft=0;ft<et;ft++)x.call(void 0,M[ft],C&&C[ft],f)}var Se=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(f,x){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var M=f[C].indexOf("="),et=null;if(0<=M){var ft=f[C].substring(0,M);et=f[C].substring(M+1)}else ft=f[C];x(ft,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function Be(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Be){this.h=f.h,Wr(this,f.j),this.o=f.o,this.g=f.g,Hi(this,f.s),this.l=f.l;var x=f.i,C=new Gi;C.i=x.i,x.g&&(C.g=new Map(x.g),C.h=x.h),Bn(this,C),this.m=f.m}else f&&(x=String(f).match(Se))?(this.h=!1,Wr(this,x[1]||"",!0),this.o=Nn(x[2]||""),this.g=Nn(x[3]||"",!0),Hi(this,x[4]),this.l=Nn(x[5]||"",!0),Bn(this,x[6]||"",!0),this.m=Nn(x[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}Be.prototype.toString=function(){var f=[],x=this.j;x&&f.push(qi(x,Bs,!0),":");var C=this.g;return(C||x=="file")&&(f.push("//"),(x=this.o)&&f.push(qi(x,Bs,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(qi(C,C.charAt(0)=="/"?nl:Zr,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",qi(C,mr)),f.join("")};function ke(f){return new Be(f)}function Wr(f,x,C){f.j=C?Nn(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Hi(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function Bn(f,x,C){x instanceof Gi?(f.i=x,fi(f.i,f.h)):(C||(x=qi(x,Oa)),f.i=new Gi(x,f.h))}function Ft(f,x,C){f.i.set(x,C)}function di(f){return Ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Nn(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qi(f,x,C){return typeof f=="string"?(f=encodeURI(f).replace(x,ka),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ka(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Bs=/[#\/\?@]/g,Zr=/[#\?:]/g,nl=/[#\?]/g,Oa=/[#\?@]/g,mr=/#/g;function Gi(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Fn(f){f.g||(f.g=new Map,f.h=0,f.i&&el(f.i,function(x,C){f.add(decodeURIComponent(x.replace(/\+/g," ")),C)}))}e=Gi.prototype,e.add=function(f,x){Fn(this),this.i=null,f=Ut(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(x),this.h+=1,this};function gs(f,x){Fn(f),x=Ut(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Wi(f,x){return Fn(f),x=Ut(f,x),f.g.has(x)}e.forEach=function(f,x){Fn(this),this.g.forEach(function(C,M){C.forEach(function(et){f.call(x,et,M,this)},this)},this)},e.na=function(){Fn(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),C=[];for(let M=0;M<x.length;M++){const et=f[M];for(let ft=0;ft<et.length;ft++)C.push(x[M])}return C},e.V=function(f){Fn(this);let x=[];if(typeof f=="string")Wi(this,f)&&(x=x.concat(this.g.get(Ut(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)x=x.concat(f[C])}return x},e.set=function(f,x){return Fn(this),this.i=null,f=Ut(this,f),Wi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},e.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function il(f,x,C){gs(f,x),0<C.length&&(f.i=null,f.g.set(Ut(f,x),q(C)),f.h+=C.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var C=0;C<x.length;C++){var M=x[C];const ft=encodeURIComponent(String(M)),At=this.V(M);for(M=0;M<At.length;M++){var et=ft;At[M]!==""&&(et+="="+encodeURIComponent(String(At[M]))),f.push(et)}}return this.i=f.join("&")};function Ut(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function fi(f,x){x&&!f.j&&(Fn(f),f.i=null,f.g.forEach(function(C,M){var et=M.toLowerCase();M!=et&&(gs(this,M),il(this,et,C))},f)),f.j=x}function fe(f,x){const C=new xi;if(m.Image){const M=new Image;M.onload=N(Qn,C,"TestLoadImage: loaded",!0,x,M),M.onerror=N(Qn,C,"TestLoadImage: error",!1,x,M),M.onabort=N(Qn,C,"TestLoadImage: abort",!1,x,M),M.ontimeout=N(Qn,C,"TestLoadImage: timeout",!1,x,M),m.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else x(!1)}function Ei(f,x){const C=new xi,M=new AbortController,et=setTimeout(()=>{M.abort(),Qn(C,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:M.signal}).then(ft=>{clearTimeout(et),ft.ok?Qn(C,"TestPingServer: ok",!0,x):Qn(C,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(et),Qn(C,"TestPingServer: error",!1,x)})}function Qn(f,x,C,M,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),M(C)}catch{}}function Fs(){this.g=new Ui}function Si(f,x,C){const M=C||"";try{$t(f,function(et,ft){let At=et;v(et)&&(At=In(et)),x.push(M+ft+"="+encodeURIComponent(At))})}catch(et){throw x.push(M+"type="+encodeURIComponent("_badmap")),et}}function Jn(f){this.l=f.Ub||null,this.j=f.eb||!1}V(Jn,Yo),Jn.prototype.g=function(){return new Zi(this.l,this.j)},Jn.prototype.i=function(f){return function(){return f}}({});function Zi(f,x){Te.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Zi,Te),e=Zi.prototype,e.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Ln(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||m).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Re(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hs(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hs(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Re(this):Ln(this),this.readyState==3&&Hs(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,Re(this))},e.Qa=function(f){this.g&&(this.response=f,Re(this))},e.ga=function(){this.g&&Re(this)};function Re(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ln(f)}e.setRequestHeader=function(f,x){this.u.append(f,x)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var C=x.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=x.next();return f.join(`\r
`)};function Ln(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Va(f){let x="";return wt(f,function(C,M){x+=M,x+=":",x+=C,x+=`\r
`}),x}function ln(f,x,C){t:{for(M in C){var M=!1;break t}M=!0}M||(C=Va(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):Ft(f,x,C))}function ye(f){Te.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(ye,Te);var $r=/^https?$/i,qs=["POST","PUT"];e=ye.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,x,C,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bi.g(),this.v=this.o?Ko(this.o):Ko(Bi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(ft){$l(this,ft);return}if(f=C||"",C=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var et in M)C.set(et,M[et]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ft of M.keys())C.set(ft,M.get(ft));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(C.keys()).find(ft=>ft.toLowerCase()=="content-type"),et=m.FormData&&f instanceof m.FormData,!(0<=Array.prototype.indexOf.call(qs,x,void 0))||M||et||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,At]of C)this.g.setRequestHeader(ft,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sn(this),this.u=!0,this.g.send(f),this.u=!1}catch(ft){$l(this,ft)}};function $l(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,Yr(f),ys(f)}function Yr(f){f.A||(f.A=!0,ne(f,"complete"),ne(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ne(this,"complete"),ne(this,"abort"),ys(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)};function Qt(f){if(f.h&&typeof h<"u"&&(!f.v[1]||Mn(f)!=4||f.Z()!=2)){if(f.u&&Mn(f)==4)pn(f.Ea,0,f);else if(ne(f,"readystatechange"),Mn(f)==4){f.h=!1;try{const At=f.Z();t:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var C;if(!(C=x)){var M;if(M=At===0){var et=String(f.D).match(Se)[1]||null;!et&&m.self&&m.self.location&&(et=m.self.location.protocol.slice(0,-1)),M=!$r.test(et?et.toLowerCase():"")}C=M}if(C)ne(f,"complete"),ne(f,"success");else{f.m=6;try{var ft=2<Mn(f)?f.g.statusText:""}catch{ft=""}f.l=ft+" ["+f.Z()+"]",Yr(f)}}finally{ys(f)}}}}function ys(f,x){if(f.g){Sn(f);const C=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||ne(f,"ready");try{C.onreadystatechange=M}catch{}}}function Sn(f){f.I&&(m.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Mn(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Vs(x)}};function sl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function mu(f){const x={};f=(f.g&&2<=Mn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(ct(f[M]))continue;var C=W(f[M]);const et=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ft=x[et]||[];x[et]=ft,ft.push(C)}z(x,function(M){return M.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(f,x,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||x}function ja(f){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,f),this.cb=Gs("retryDelaySeedMs",1e4,f),this.Wa=Gs("forwardChannelMaxRetries",2,f),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new fs(f&&f.concurrentRequestLimit),this.Da=new Fs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ja.prototype,e.la=8,e.G=1,e.connect=function(f,x,C,M){De(0),this.W=f,this.H=x||{},C&&M!==void 0&&(this.H.OSID=C,this.H.OAID=M),this.F=this.X,this.I=Ga(this,null,this.W),pr(this)};function Ua(f){if(Yl(f),f.G==3){var x=f.U++,C=ke(f.I);if(Ft(C,"SID",f.K),Ft(C,"RID",x),Ft(C,"TYPE","terminate"),Kr(f,C),x=new Pn(f,f.j,x),x.L=2,x.v=di(ke(C)),C=!1,m.navigator&&m.navigator.sendBeacon)try{C=m.navigator.sendBeacon(x.v.toString(),"")}catch{}!C&&m.Image&&(new Image().src=x.v,C=!0),C||(x.g=Xl(x.j,null),x.g.ea(x.v)),x.F=Date.now(),qr(x)}Kl(f)}function za(f){f.g&&(gr(f),f.g.cancel(),f.g=null)}function Yl(f){za(f),f.u&&(m.clearTimeout(f.u),f.u=null),Ha(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&m.clearTimeout(f.s),f.s=null)}function pr(f){if(!Gr(f.h)&&!f.s){f.s=!0;var x=f.Ga;at||O(),rt||(at(),rt=!0),Et.add(x,f),f.B=0}}function pu(f,x){return ms(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Qe(E(f.Ga,f,x),qa(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const et=new Pn(this,this.j,f);let ft=this.o;if(this.S&&(ft?(ft=k(ft),G(ft,this.S)):ft=this.S),this.m!==null||this.O||(et.H=ft,ft=null),this.P)t:{for(var x=0,C=0;C<this.i.length;C++){e:{var M=this.i[C];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(x+=M,4096<x){x=C;break t}if(x===4096||C===this.i.length-1){x=C+1;break t}}x=1e3}else x=1e3;x=rl(this,et,x),C=ke(this.I),Ft(C,"RID",f),Ft(C,"CVER",22),this.D&&Ft(C,"X-HTTP-Session-Id",this.D),Kr(this,C),ft&&(this.O?x="headers="+encodeURIComponent(String(Va(ft)))+"&"+x:this.m&&ln(C,this.m,ft)),be(this.h,et),this.Ua&&Ft(C,"TYPE","init"),this.P?(Ft(C,"$req",x),Ft(C,"SID","null"),et.T=!0,Fi(et,C,null)):Fi(et,C,x),this.G=2}}else this.G==3&&(f?ti(this,f):this.i.length==0||Gr(this.h)||ti(this))};function ti(f,x){var C;x?C=x.l:C=f.U++;const M=ke(f.I);Ft(M,"SID",f.K),Ft(M,"RID",C),Ft(M,"AID",f.T),Kr(f,M),f.m&&f.o&&ln(M,f.m,f.o),C=new Pn(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),x&&(f.i=x.D.concat(f.i)),x=rl(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),be(f.h,C),Fi(C,M,x)}function Kr(f,x){f.H&&wt(f.H,function(C,M){Ft(x,M,C)}),f.l&&$t({},function(C,M){Ft(x,M,C)})}function rl(f,x,C){C=Math.min(f.i.length,C);var M=f.l?E(f.l.Na,f.l,f):null;t:{var et=f.i;let ft=-1;for(;;){const At=["count="+C];ft==-1?0<C?(ft=et[0].g,At.push("ofs="+ft)):ft=0:At.push("ofs="+ft);let le=!0;for(let Je=0;Je<C;Je++){let ce=et[Je].g;const we=et[Je].map;if(ce-=ft,0>ce)ft=Math.max(0,et[Je].g-100),le=!1;else try{Si(we,At,"req"+ce+"_")}catch{M&&M(we)}}if(le){M=At.join("&");break t}}}return f=f.i.splice(0,C),x.D=f,M}function $i(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;at||O(),rt||(at(),rt=!0),Et.add(x,f),f.v=0}}function Ba(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Qe(E(f.Fa,f),qa(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,Fa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Qe(E(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),za(this),Fa(this))};function gr(f){f.A!=null&&(m.clearTimeout(f.A),f.A=null)}function Fa(f){f.g=new Pn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=ke(f.qa);Ft(x,"RID","rpc"),Ft(x,"SID",f.K),Ft(x,"AID",f.T),Ft(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ft(x,"TO",f.ja),Ft(x,"TYPE","xmlhttp"),Kr(f,x),f.m&&f.o&&ln(x,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=di(ke(x)),C.m=null,C.P=!0,hs(C,f)}e.Za=function(){this.C!=null&&(this.C=null,za(this),Ba(this),De(19))};function Ha(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function al(f,x){var C=null;if(f.g==x){Ha(f),gr(f),f.g=null;var M=2}else if(ie(f.h,x))C=x.D,gn(f.h,x),M=1;else return;if(f.G!=0){if(x.o)if(M==1){C=x.m?x.m.length:0,x=Date.now()-x.F;var et=f.B;M=or(),ne(M,new on(M,C)),pr(f)}else $i(f);else if(et=x.s,et==3||et==0&&0<x.X||!(M==1&&pu(f,x)||M==2&&Ba(f)))switch(C&&0<C.length&&(x=f.h,x.i=x.i.concat(C)),et){case 1:Ws(f,5);break;case 4:Ws(f,10);break;case 3:Ws(f,6);break;default:Ws(f,2)}}}function qa(f,x){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*x}function Ws(f,x){if(f.j.info("Error code "+x),x==2){var C=E(f.fb,f),M=f.Xa;const et=!M;M=new Be(M||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Wr(M,"https"),di(M),et?fe(M.toString(),C):Ei(M.toString(),C)}else De(2);f.G=0,f.l&&f.l.sa(x),Kl(f),Yl(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Kl(f){if(f.G=0,f.ka=[],f.l){const x=ps(f.h);(x.length!=0||f.i.length!=0)&&(Z(f.ka,x),Z(f.ka,f.i),f.h.i.length=0,q(f.i),f.i.length=0),f.l.ra()}}function Ga(f,x,C){var M=C instanceof Be?ke(C):new Be(C);if(M.g!="")x&&(M.g=x+"."+M.g),Hi(M,M.s);else{var et=m.location;M=et.protocol,x=x?x+"."+et.hostname:et.hostname,et=+et.port;var ft=new Be(null);M&&Wr(ft,M),x&&(ft.g=x),et&&Hi(ft,et),C&&(ft.l=C),M=ft}return C=f.D,x=f.ya,C&&x&&Ft(M,C,x),Ft(M,"VER",f.la),Kr(f,M),M}function Xl(f,x,C){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new ye(new Jn({eb:C})):new ye(f.pa),x.Ha(f.J),x}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ol(){}e=ol.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Xr(){}Xr.prototype.g=function(f,x){return new yn(f,x)};function yn(f,x){Te.call(this),this.g=new ja(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!ct(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!ct(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new ei(this)}V(yn,Te),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ua(this.g)},yn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=In(f),f=C);x.i.push(new hr(x.Ya++,f)),x.G==3&&pr(x)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ua(this.g),delete this.g,yn.aa.N.call(this)};function _s(f){cs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){t:{for(const C in x){f=C;break t}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}V(_s,cs);function Ql(){Xo.call(this),this.status=1}V(Ql,Xo);function ei(f){this.g=f}V(ei,ol),ei.prototype.ua=function(){ne(this.g,"a")},ei.prototype.ta=function(f){ne(this.g,new _s(f))},ei.prototype.sa=function(f){ne(this.g,new Ql)},ei.prototype.ra=function(){ne(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,zS=function(){return new Xr},US=function(){return or()},jS=us,Ly={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,zf=Us,zi.COMPLETE="complete",VS=zi,Na.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",Te.prototype.listen=Te.prototype.K,lh=Na,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,OS=ye}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const $w="@firebase/firestore",Yw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new C_("@firebase/firestore");function Pc(){return Bl.logLevel}function Pt(e,...t){if(Bl.logLevel<=ue.DEBUG){const n=t.map(z_);Bl.debug(`Firestore (${su}): ${e}`,...n)}}function ba(e,...t){if(Bl.logLevel<=ue.ERROR){const n=t.map(z_);Bl.error(`Firestore (${su}): ${e}`,...n)}}function qc(e,...t){if(Bl.logLevel<=ue.WARN){const n=t.map(z_);Bl.warn(`Firestore (${su}): ${e}`,...n)}}function z_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,BS(e,s,n)}function BS(e,t,n){let s=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ba(s),new Error(s)}function xe(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||BS(t,o,s)}function Kt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ck{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ri.UNAUTHENTICATED))}shutdown(){}}class uk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hk{constructor(t){this.t=t,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){xe(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ya,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ya)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xe(typeof s.accessToken=="string",31837,{l:s}),new FS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string",2055,{h:t}),new ri(t)}}class dk{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fk{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new dk(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mk{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){xe(this.o===void 0,3512);const s=c=>{c.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,Pt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pk(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function he(e,t){return e<t?-1:e>t?1:0}function My(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),c=t.charAt(s);if(o!==c)return Qg(o)===Qg(c)?he(o,c):Qg(o)?1:-1}return he(e.length,t.length)}const gk=55296,yk=57343;function Qg(e){const t=e.charCodeAt(0);return t>=gk&&t<=yk}function Gc(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="__name__";class Sr{constructor(t,n,s){n===void 0?n=0:n>t.length&&qt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&qt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Sr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Sr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=Sr.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return he(t.length,n.length)}static compareSegments(t,n){const s=Sr.isNumericId(t),o=Sr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Sr.extractNumericId(t).compare(Sr.extractNumericId(n)):My(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lo.fromString(t.substring(4,t.length-2))}}class Ue extends Sr{construct(t,n,s){return new Ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const _k=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Sr{construct(t,n,s){return new Yn(t,n,s)}static isValidIdentifier(t){return _k.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xw}static keyField(){return new Yn([Xw])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new Rt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Rt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(c(),o++)}if(c(),h)throw new Rt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.path=t}static fromPath(t){return new Vt(Ue.fromString(t))}static fromName(t){return new Vt(Ue.fromString(t).popFirst(5))}static empty(){return new Vt(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Vt(new Ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e,t,n){if(!n)throw new Rt(pt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vk(e,t,n,s){if(t===!0&&s===!0)throw new Rt(pt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Qw(e){if(!Vt.isDocumentKey(e))throw new Rt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Jw(e){if(Vt.isDocumentKey(e))throw new Rt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qS(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Lm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":qt(12329,{type:typeof e})}function Oi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(e);throw new Rt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Tk(e,t){if(t<=0)throw new Rt(pt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e,t){const n={typeString:e};return t&&(n.value=t),n}function id(e,t){if(!qS(e))throw new Rt(pt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const h=e[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new Rt(pt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=-62135596800,ex=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*ex);return new Fe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<tx)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ex}_compareTo(t){return this.seconds===t.seconds?he(this.nanoseconds,t.nanoseconds):he(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(id(t,Fe._jsonSchema))return new Fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:xn("string",Fe._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(t){return new Yt(t)}static min(){return new Yt(new Fe(0,0))}static max(){return new Yt(new Fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function bk(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=Yt.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new Vo(o,Vt.empty(),t)}function wk(e){return new Vo(e.readTime,e.key,Lh)}class Vo{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Vo(Yt.min(),Vt.empty(),Lh)}static max(){return new Vo(Yt.max(),Vt.empty(),Lh)}}function xk(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Vt.comparator(e.documentKey,t.documentKey),n!==0?n:he(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(e){if(e.code!==pt.FAILED_PRECONDITION||e.message!==Ek)throw e;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new vt((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof vt?n:vt.resolve(n)}catch(n){return vt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):vt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):vt.reject(n)}static resolve(t){return new vt((n,s)=>{n(t)})}static reject(t){return new vt((n,s)=>{s(t)})}static waitFor(t){return new vt((n,s)=>{let o=0,c=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++c,h&&c===o&&n()},y=>s(y))}),h=!0,c===o&&n()})}static or(t){let n=vt.resolve(!1);for(const s of t)n=n.next(o=>o?vt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(t,n){return new vt((s,o)=>{const c=t.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(t[v]).next(w=>{h[v]=w,++m,m===c&&s(h)},w=>o(w))}})}static doWhile(t,n){return new vt((s,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):s()};c()})}}function Ak(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function au(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=-1;function Dm(e){return e==null}function rm(e){return e===0&&1/e==-1/0}function Ck(e){return typeof e=="number"&&Number.isInteger(e)&&!rm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="";function Rk(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=nx(t)),t=Ik(e.get(n),t);return nx(t)}function Ik(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const c=e.charAt(o);switch(c){case"\0":n+="";break;case GS:n+="";break;default:n+=c}}return n}function nx(e){return e+GS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function WS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){this.comparator=t,this.root=n||$n.EMPTY}insert(t,n){return new Xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$n.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bf(this.root,t,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bf(this.root,t,this.comparator,!0)}}class bf{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $n{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??$n.RED,this.left=o??$n.EMPTY,this.right=c??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new $n(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $n.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qt(27949);return t+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new $n(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new sx(this.data.getIterator())}getIteratorFrom(t){return new sx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Rn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Rn(this.comparator);return n.data=t,n}}class sx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.fields=t,t.sort(Yn.comparator)}static empty(){return new ss([])}unionWith(t){let n=new Rn(Yn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ss(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Gc(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ZS("Invalid base64 string: "+c):c}}(t);return new Kn(n)}static fromUint8Array(t){const n=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(t);return new Kn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return he(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const Pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(e){if(xe(!!e,39018),typeof e=="string"){let t=0;const n=Pk.exec(e);if(xe(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:dn(e.seconds),nanos:dn(e.nanos)}}function dn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Uo(e){return typeof e=="string"?Kn.fromBase64String(e):Kn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="server_timestamp",YS="__type__",KS="__previous_value__",XS="__local_write_time__";function H_(e){return(e?.mapValue?.fields||{})[YS]?.stringValue===$S}function km(e){const t=e.mapValue.fields[KS];return H_(t)?km(t):t}function Mh(e){const t=jo(e.mapValue.fields[XS].timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,n,s,o,c,h,m,y,v,w){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=w}}const Dh="(default)";class kh{constructor(t,n){this.projectId=t,this.database=n||Dh}static empty(){return new kh("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(t){return t instanceof kh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="__type__",Lk="__max__",wf={mapValue:{}},JS="__vector__",am="value";function zo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?H_(e)?4:Dk(e)?9007199254740991:Mk(e)?10:11:qt(28295,{value:e})}function Or(e,t){if(e===t)return!0;const n=zo(e);if(n!==zo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mh(e).isEqual(Mh(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=jo(o.timestampValue),m=jo(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,c){return Uo(o.bytesValue).isEqual(Uo(c.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,c){return dn(o.geoPointValue.latitude)===dn(c.geoPointValue.latitude)&&dn(o.geoPointValue.longitude)===dn(c.geoPointValue.longitude)}(e,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return dn(o.integerValue)===dn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=dn(o.doubleValue),m=dn(c.doubleValue);return h===m?rm(h)===rm(m):isNaN(h)&&isNaN(m)}return!1}(e,t);case 9:return Gc(e.arrayValue.values||[],t.arrayValue.values||[],Or);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(ix(h)!==ix(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!Or(h[y],m[y])))return!1;return!0}(e,t);default:return qt(52216,{left:e})}}function Oh(e,t){return(e.values||[]).find(n=>Or(n,t))!==void 0}function Wc(e,t){if(e===t)return 0;const n=zo(e),s=zo(t);if(n!==s)return he(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(e.booleanValue,t.booleanValue);case 2:return function(c,h){const m=dn(c.integerValue||c.doubleValue),y=dn(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(e,t);case 3:return rx(e.timestampValue,t.timestampValue);case 4:return rx(Mh(e),Mh(t));case 5:return My(e.stringValue,t.stringValue);case 6:return function(c,h){const m=Uo(c),y=Uo(h);return m.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(c,h){const m=c.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=he(m[v],y[v]);if(w!==0)return w}return he(m.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(c,h){const m=he(dn(c.latitude),dn(h.latitude));return m!==0?m:he(dn(c.longitude),dn(h.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ax(e.arrayValue,t.arrayValue);case 10:return function(c,h){const m=c.fields||{},y=h.fields||{},v=m[am]?.arrayValue,w=y[am]?.arrayValue,A=he(v?.values?.length||0,w?.values?.length||0);return A!==0?A:ax(v,w)}(e.mapValue,t.mapValue);case 11:return function(c,h){if(c===wf.mapValue&&h===wf.mapValue)return 0;if(c===wf.mapValue)return 1;if(h===wf.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=h.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let A=0;A<y.length&&A<w.length;++A){const E=My(y[A],w[A]);if(E!==0)return E;const N=Wc(m[y[A]],v[w[A]]);if(N!==0)return N}return he(y.length,w.length)}(e.mapValue,t.mapValue);default:throw qt(23264,{he:n})}}function rx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return he(e,t);const n=jo(e),s=jo(t),o=he(n.seconds,s.seconds);return o!==0?o:he(n.nanos,s.nanos)}function ax(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Wc(n[o],s[o]);if(c)return c}return he(n.length,s.length)}function Zc(e){return Dy(e)}function Dy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=jo(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Uo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Dy(c);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Dy(n.fields[h])}`;return o+"}"}(e.mapValue):qt(61005,{value:e})}function Bf(e){switch(zo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=km(e);return t?16+Bf(t):16;case 5:return 2*e.stringValue.length;case 6:return Uo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Bf(c),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return Wo(s.fields,(c,h)=>{o+=c.length+Bf(h)}),o}(e.mapValue);default:throw qt(13486,{value:e})}}function ox(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ky(e){return!!e&&"integerValue"in e}function q_(e){return!!e&&"arrayValue"in e}function lx(e){return!!e&&"nullValue"in e}function cx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ff(e){return!!e&&"mapValue"in e}function Mk(e){return(e?.mapValue?.fields||{})[QS]?.stringValue===JS}function _h(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Wo(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=_h(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_h(e.arrayValue.values[n]);return t}return{...e}}function Dk(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Lk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.value=t}static empty(){return new Li({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ff(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_h(n)}setAll(t){let n=Yn.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=_h(h):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Or(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Ff(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Wo(n,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new Li(_h(this.value))}}function tA(e){const t=[];return Wo(e.fields,(n,s)=>{const o=new Yn([n]);if(Ff(s)){const c=tA(s.mapValue).fields;if(c.length===0)t.push(o);else for(const h of c)t.push(o.child(h))}else t.push(o)}),new ss(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,n,s,o,c,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(t){return new ai(t,0,Yt.min(),Yt.min(),Yt.min(),Li.empty(),0)}static newFoundDocument(t,n,s,o){return new ai(t,1,n,Yt.min(),s,o,0)}static newNoDocument(t,n){return new ai(t,2,n,Yt.min(),Yt.min(),Li.empty(),0)}static newUnknownDocument(t,n){return new ai(t,3,n,Yt.min(),Yt.min(),Li.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ai&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,n){this.position=t,this.inclusive=n}}function ux(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const c=t[o],h=e.position[o];if(c.field.isKeyField()?s=Vt.comparator(Vt.fromName(h.referenceValue),n.key):s=Wc(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function hx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Or(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n="asc"){this.field=t,this.dir=n}}function kk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{}class wn extends eA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Vk(t,n,s):n==="array-contains"?new zk(t,s):n==="in"?new Bk(t,s):n==="not-in"?new Fk(t,s):n==="array-contains-any"?new Hk(t,s):new wn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new jk(t,s):new Uk(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wc(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(Wc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends eA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new sr(t,n)}matches(t){return nA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nA(e){return e.op==="and"}function iA(e){return Ok(e)&&nA(e)}function Ok(e){for(const t of e.filters)if(t instanceof sr)return!1;return!0}function Oy(e){if(e instanceof wn)return e.field.canonicalString()+e.op.toString()+Zc(e.value);if(iA(e))return e.filters.map(t=>Oy(t)).join(",");{const t=e.filters.map(n=>Oy(n)).join(",");return`${e.op}(${t})`}}function sA(e,t){return e instanceof wn?function(s,o){return o instanceof wn&&s.op===o.op&&s.field.isEqual(o.field)&&Or(s.value,o.value)}(e,t):e instanceof sr?function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,h,m)=>c&&sA(h,o.filters[m]),!0):!1}(e,t):void qt(19439)}function rA(e){return e instanceof wn?function(n){return`${n.field.canonicalString()} ${n.op} ${Zc(n.value)}`}(e):e instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(rA).join(" ,")+"}"}(e):"Filter"}class Vk extends wn{constructor(t,n,s){super(t,n,s),this.key=Vt.fromName(s.referenceValue)}matches(t){const n=Vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class jk extends wn{constructor(t,n){super(t,"in",n),this.keys=aA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Uk extends wn{constructor(t,n){super(t,"not-in",n),this.keys=aA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function aA(e,t){return(t.arrayValue?.values||[]).map(n=>Vt.fromName(n.referenceValue))}class zk extends wn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return q_(n)&&Oh(n.arrayValue,this.value)}}class Bk extends wn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Oh(this.value.arrayValue,n)}}class Fk extends wn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oh(this.value.arrayValue,n)}}class Hk extends wn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Oh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,n=null,s=[],o=[],c=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function dx(e,t=null,n=[],s=[],o=null,c=null,h=null){return new qk(e,t,n,s,o,c,h)}function G_(e){const t=Kt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Oy(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Dm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Zc(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Zc(s)).join(",")),t.Te=n}return t.Te}function W_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!kk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hx(e.startAt,t.startAt)&&hx(e.endAt,t.endAt)}function Vy(e){return Vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,n=null,s=[],o=[],c=null,h="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Gk(e,t,n,s,o,c,h,m){return new ou(e,t,n,s,o,c,h,m)}function Om(e){return new ou(e)}function fx(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oA(e){return e.collectionGroup!==null}function vh(e){const t=Kt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Rn(Yn.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Vh(c,s))}),n.has(Yn.keyField().canonicalString())||t.Ie.push(new Vh(Yn.keyField(),s))}return t.Ie}function Ir(e){const t=Kt(e);return t.Ee||(t.Ee=Wk(t,vh(e))),t.Ee}function Wk(e,t){if(e.limitType==="F")return dx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Vh(o.field,c)});const n=e.endAt?new om(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new om(e.startAt.position,e.startAt.inclusive):null;return dx(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function jy(e,t){const n=e.filters.concat([t]);return new ou(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lm(e,t,n){return new ou(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vm(e,t){return W_(Ir(e),Ir(t))&&e.limitType===t.limitType}function lA(e){return`${G_(Ir(e))}|lt:${e.limitType}`}function Nc(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>rA(o)).join(", ")}]`),Dm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Zc(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Zc(o)).join(",")),`Target(${s})`}(Ir(e))}; limitType=${e.limitType})`}function jm(e,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Vt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(e,t)&&function(s,o){for(const c of vh(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(h,m,y){const v=ux(h,m,y);return h.inclusive?v<=0:v<0}(s.startAt,vh(s),o)||s.endAt&&!function(h,m,y){const v=ux(h,m,y);return h.inclusive?v>=0:v>0}(s.endAt,vh(s),o))}(e,t)}function Zk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function cA(e){return(t,n)=>{let s=!1;for(const o of vh(e)){const c=$k(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function $k(e,t,n){const s=e.field.isKeyField()?Vt.comparator(t.key,n.key):function(c,h,m){const y=h.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Wc(y,v):qt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return qt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Wo(this.inner,(n,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return WS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Xe(Vt.comparator);function wa(){return Yk}const uA=new Xe(Vt.comparator);function ch(...e){let t=uA;for(const n of e)t=t.insert(n.key,n);return t}function hA(e){let t=uA;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Nl(){return Th()}function dA(){return Th()}function Th(){return new ql(e=>e.toString(),(e,t)=>e.isEqual(t))}const Kk=new Xe(Vt.comparator),Xk=new Rn(Vt.comparator);function de(...e){let t=Xk;for(const n of e)t=t.add(n);return t}const Qk=new Rn(he);function Jk(){return Qk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rm(t)?"-0":t}}function fA(e){return{integerValue:""+e}}function tO(e,t){return Ck(t)?fA(t):Z_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this._=void 0}}function eO(e,t,n){return e instanceof jh?function(o,c){const h={fields:{[YS]:{stringValue:$S},[XS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&H_(c)&&(c=km(c)),c&&(h.fields[KS]=c),{mapValue:h}}(n,t):e instanceof Uh?pA(e,t):e instanceof zh?gA(e,t):function(o,c){const h=mA(o,c),m=mx(h)+mx(o.Ae);return ky(h)&&ky(o.Ae)?fA(m):Z_(o.serializer,m)}(e,t)}function nO(e,t,n){return e instanceof Uh?pA(e,t):e instanceof zh?gA(e,t):n}function mA(e,t){return e instanceof cm?function(s){return ky(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class jh extends Um{}class Uh extends Um{constructor(t){super(),this.elements=t}}function pA(e,t){const n=yA(t);for(const s of e.elements)n.some(o=>Or(o,s))||n.push(s);return{arrayValue:{values:n}}}class zh extends Um{constructor(t){super(),this.elements=t}}function gA(e,t){let n=yA(t);for(const s of e.elements)n=n.filter(o=>!Or(o,s));return{arrayValue:{values:n}}}class cm extends Um{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function mx(e){return dn(e.integerValue||e.doubleValue)}function yA(e){return q_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,n){this.field=t,this.transform=n}}function sO(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Uh&&o instanceof Uh||s instanceof zh&&o instanceof zh?Gc(s.elements,o.elements,Or):s instanceof cm&&o instanceof cm?Or(s.Ae,o.Ae):s instanceof jh&&o instanceof jh}(e.transform,t.transform)}class rO{constructor(t,n){this.version=t,this.transformResults=n}}class Ns{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ns}static exists(t){return new Ns(void 0,t)}static updateTime(t){return new Ns(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class zm{}function _A(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new $_(e.key,Ns.none()):new sd(e.key,e.data,Ns.none());{const n=e.data,s=Li.empty();let o=new Rn(Yn.comparator);for(let c of t.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Zo(e.key,s,new ss(o.toArray()),Ns.none())}}function aO(e,t,n){e instanceof sd?function(o,c,h){const m=o.value.clone(),y=gx(o.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(e,t,n):e instanceof Zo?function(o,c,h){if(!Hf(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=gx(o.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(vA(o)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(e,t,n):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function bh(e,t,n,s){return e instanceof sd?function(c,h,m,y){if(!Hf(c.precondition,h))return m;const v=c.value.clone(),w=yx(c.fieldTransforms,y,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(e,t,n,s):e instanceof Zo?function(c,h,m,y){if(!Hf(c.precondition,h))return m;const v=yx(c.fieldTransforms,y,h),w=h.data;return w.setAll(vA(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(e,t,n,s):function(c,h,m){return Hf(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(e,t,n)}function oO(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),c=mA(s.transform,o||null);c!=null&&(n===null&&(n=Li.empty()),n.set(s.field,c))}return n||null}function px(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Gc(s,o,(c,h)=>sO(c,h))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sd extends zm{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zo extends zm{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function gx(e,t,n){const s=new Map;xe(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const c=e[o],h=c.transform,m=t.data.field(c.field);s.set(c.field,nO(h,m,n[o]))}return s}function yx(e,t,n){const s=new Map;for(const o of e){const c=o.transform,h=n.data.field(o.field);s.set(o.field,eO(c,h,t))}return s}class $_ extends zm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lO extends zm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&aO(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=bh(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=bh(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=dA();return this.mutations.forEach(o=>{const c=t.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const y=_A(h,m);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Yt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),de())}isEqual(t){return this.batchId===t.batchId&&Gc(this.mutations,t.mutations,(n,s)=>px(n,s))&&Gc(this.baseMutations,t.baseMutations,(n,s)=>px(n,s))}}class Y_{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){xe(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return Kk}();const c=t.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new Y_(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,pe;function dO(e){switch(e){case pt.OK:return qt(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return qt(15467,{code:e})}}function TA(e){if(e===void 0)return ba("GRPC error has no .code"),pt.UNKNOWN;switch(e){case Tn.OK:return pt.OK;case Tn.CANCELLED:return pt.CANCELLED;case Tn.UNKNOWN:return pt.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return pt.INTERNAL;case Tn.UNAVAILABLE:return pt.UNAVAILABLE;case Tn.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Tn.NOT_FOUND:return pt.NOT_FOUND;case Tn.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Tn.ABORTED:return pt.ABORTED;case Tn.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Tn.DATA_LOSS:return pt.DATA_LOSS;default:return qt(39323,{code:e})}}(pe=Tn||(Tn={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new Lo([4294967295,4294967295],0);function _x(e){const t=fO().encode(e),n=new kS;return n.update(t),new Uint8Array(n.digest())}function vx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Lo([n,s],0),new Lo([o,c],0)]}class K_{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uh(`Invalid padding: ${n}`);if(s<0)throw new uh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new uh(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new uh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Lo.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Lo.fromNumber(s)));return o.compare(mO)===1&&(o=new Lo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=_x(t),[s,o]=vx(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),h=new K_(c,o,n);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.ge===0)return;const n=_x(t),[s,o]=vx(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.Se(h)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,rd.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Bm(Yt.min(),o,new Xe(he),wa(),de())}}class rd{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new rd(s,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class bA{constructor(t,n){this.targetId=t,this.Ce=n}}class wA{constructor(t,n,s=Kn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Tx{constructor(){this.ve=0,this.Fe=bx(),this.Me=Kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=de(),n=de(),s=de();return this.Fe.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:qt(38017,{changeType:c})}}),new rd(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=bx()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pO{constructor(t){this.Ge=t,this.ze=new Map,this.je=wa(),this.Je=xf(),this.He=xf(),this.Ye=new Xe(he)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:qt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Vy(c))if(s===0){const h=new Vt(c.path);this.et(n,h,ai.newNoDocument(h,Yt.min()))}else xe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(t),y=m?this.ct(m,t,h):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=Uo(s).toUint8Array()}catch(y){if(y instanceof ZS)return qc("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new K_(h,o,c)}catch(y){return qc(y instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.et(n,c,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Vy(m.target)){const y=new Vt(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,ai.newNoDocument(y,t))}c.Be&&(n.set(h,c.ke()),c.qe())}});let s=de();this.He.forEach((c,h)=>{let m=!0;h.forEachWhile(y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.je.forEach((c,h)=>h.setReadTime(t));const o=new Bm(t,n,this.Ye,this.je,s);return this.je=wa(),this.Je=xf(),this.He=xf(),this.Ye=new Xe(he),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Tx,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Rn(he),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Rn(he),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Pt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Tx),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xf(){return new Xe(Vt.comparator)}function bx(){return new Xe(Vt.comparator)}const gO={asc:"ASCENDING",desc:"DESCENDING"},yO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_O={and:"AND",or:"OR"};class vO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Uy(e,t){return e.useProto3Json||Dm(t)?t:{value:t}}function um(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function TO(e,t){return um(e,t.toTimestamp())}function Pr(e){return xe(!!e,49232),Yt.fromTimestamp(function(n){const s=jo(n);return new Fe(s.seconds,s.nanos)}(e))}function X_(e,t){return zy(e,t).canonicalString()}function zy(e,t){const n=function(o){return new Ue(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function EA(e){const t=Ue.fromString(e);return xe(IA(t),10190,{key:t.toString()}),t}function By(e,t){return X_(e.databaseId,t.path)}function Jg(e,t){const n=EA(t);if(n.get(1)!==e.databaseId.projectId)throw new Rt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vt(AA(n))}function SA(e,t){return X_(e.databaseId,t)}function bO(e){const t=EA(e);return t.length===4?Ue.emptyPath():AA(t)}function Fy(e){return new Ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AA(e){return xe(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function wx(e,t,n){return{name:By(e,t),fields:n.value.mapValue.fields}}function wO(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:qt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(xe(w===void 0||typeof w=="string",58123),Kn.fromBase64String(w||"")):(xe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Kn.fromUint8Array(w||new Uint8Array))}(e,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(v){const w=v.code===void 0?pt.UNKNOWN:TA(v.code);return new Rt(w,v.message||"")}(h);n=new wA(s,o,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jg(e,s.document.name),c=Pr(s.document.updateTime),h=s.document.createTime?Pr(s.document.createTime):Yt.min(),m=new Li({mapValue:{fields:s.document.fields}}),y=ai.newFoundDocument(o,c,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new qf(v,w,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Jg(e,s.document),c=s.readTime?Pr(s.readTime):Yt.min(),h=ai.newNoDocument(o,c),m=s.removedTargetIds||[];n=new qf([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Jg(e,s.document),c=s.removedTargetIds||[];n=new qf([],c,o,null)}else{if(!("filter"in t))return qt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new hO(o,c),m=s.targetId;n=new bA(m,h)}}return n}function xO(e,t){let n;if(t instanceof sd)n={update:wx(e,t.key,t.value)};else if(t instanceof $_)n={delete:By(e,t.key)};else if(t instanceof Zo)n={update:wx(e,t.key,t.data),updateMask:LO(t.fieldMask)};else{if(!(t instanceof lO))return qt(16599,{Vt:t.type});n={verify:By(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof jh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cm)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw qt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:TO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:qt(27497)}(e,t.precondition)),n}function EO(e,t){return e&&e.length>0?(xe(t!==void 0,14353),e.map(n=>function(o,c){let h=o.updateTime?Pr(o.updateTime):Pr(c);return h.isEqual(Yt.min())&&(h=Pr(c)),new rO(h,o.transformResults||[])}(n,t))):[]}function SO(e,t){return{documents:[SA(e,t.path)]}}function AO(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SA(e,o);const c=function(v){if(v.length!==0)return RA(sr.create(v,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const h=function(v){if(v.length!==0)return v.map(w=>function(E){return{field:Lc(E.field),direction:IO(E.dir)}}(w))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Uy(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:n,parent:o}}function CO(e){let t=bO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){xe(s===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:t=t.child(w.collectionId)}let c=[];n.where&&(c=function(A){const E=CA(A);return E instanceof sr&&iA(E)?E.getFilters():[E]}(n.where));let h=[];n.orderBy&&(h=function(A){return A.map(E=>function(V){return new Vh(Mc(V.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(E))}(n.orderBy));let m=null;n.limit&&(m=function(A){let E;return E=typeof A=="object"?A.value:A,Dm(E)?null:E}(n.limit));let y=null;n.startAt&&(y=function(A){const E=!!A.before,N=A.values||[];return new om(N,E)}(n.startAt));let v=null;return n.endAt&&(v=function(A){const E=!A.before,N=A.values||[];return new om(N,E)}(n.endAt)),Gk(t,o,h,c,m,"F",y,v)}function RO(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function CA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Mc(n.unaryFilter.field);return wn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Mc(n.unaryFilter.field);return wn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Mc(n.unaryFilter.field);return wn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Mc(n.unaryFilter.field);return wn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}}(e):e.fieldFilter!==void 0?function(n){return wn.create(Mc(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(s=>CA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qt(1026)}}(n.compositeFilter.op))}(e):qt(30097,{filter:e})}function IO(e){return gO[e]}function PO(e){return yO[e]}function NO(e){return _O[e]}function Lc(e){return{fieldPath:e.canonicalString()}}function Mc(e){return Yn.fromServerFormat(e.fieldPath)}function RA(e){return e instanceof wn?function(n){if(n.op==="=="){if(cx(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NAN"}};if(lx(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cx(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NOT_NAN"}};if(lx(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(n.field),op:PO(n.op),value:n.value}}}(e):e instanceof sr?function(n){const s=n.getFilters().map(o=>RA(o));return s.length===1?s[0]:{compositeFilter:{op:NO(n.op),filters:s}}}(e):qt(54877,{filter:e})}function LO(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function IA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,s,o,c=Yt.min(),h=Yt.min(),m=Kn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Io(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.yt=t}}function DO(e){const t=CO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.Cn=new OO}addToCollectionParentIndex(t,n){return this.Cn.add(n),vt.resolve()}getCollectionParents(t,n){return vt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return vt.resolve()}deleteFieldIndex(t,n){return vt.resolve()}deleteAllFieldIndexes(t){return vt.resolve()}createTargetIndexes(t,n){return vt.resolve()}getDocumentsMatchingTarget(t,n){return vt.resolve(null)}getIndexType(t,n){return vt.resolve(0)}getFieldIndexes(t,n){return vt.resolve([])}getNextCollectionGroupToUpdate(t){return vt.resolve(null)}getMinOffset(t,n){return vt.resolve(Vo.min())}getMinOffsetFromCollectionGroup(t,n){return vt.resolve(Vo.min())}updateCollectionGroup(t,n,s){return vt.resolve()}updateIndexEntries(t,n){return vt.resolve()}}class OO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Rn(Ue.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Rn(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PA=41943040;class Pi{static withCacheSize(t){return new Pi(t,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(PA,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $c(0)}static cr(){return new $c(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="LruGarbageCollector",NA=1048576;function Sx([e,t],[n,s]){const o=he(e,n);return o===0?he(t,s):o}class VO{constructor(t){this.Ir=t,this.buffer=new Rn(Sx),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Sx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Pt(Ex,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){au(n)?Pt(Ex,"Ignoring IndexedDB error during garbage collection: ",n):await ru(n)}await this.Vr(3e5)})}}class UO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return vt.resolve(Mm.ce);const s=new VO(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(xx)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xx):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,c,h,m,y,v;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(v=Date.now(),Pc()<=ue.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A})))}}function zO(e,t){return new UO(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.changes=new ql(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ai.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?vt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&bh(s.mutation,o,ss.empty(),Fe.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,de()).next(()=>s))}getLocalViewOfDocuments(t,n,s=de()){const o=Nl();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(c=>{let h=ch();return c.forEach((m,y)=>{h=h.insert(m,y.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const s=Nl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,de()))}populateOverlays(t,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,s,o){let c=wa();const h=Th(),m=function(){return Th()}();return n.forEach((y,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Zo)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),bh(w.mutation,v,w.mutation.getFieldMask(),Fe.now())):h.set(v.key,ss.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((v,w)=>h.set(v,w)),n.forEach((v,w)=>m.set(v,new FO(w,h.get(v)??null))),m))}recalculateAndSaveOverlays(t,n){const s=Th();let o=new Xe((h,m)=>h-m),c=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||ss.empty();w=m.applyToLocalView(v,w),s.set(y,w);const A=(o.get(m.batchId)||de()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,A=dA();w.forEach(E=>{if(!c.has(E)){const N=_A(n.get(E),s.get(E));N!==null&&A.set(E,N),c=c.add(E)}}),h.push(this.documentOverlayCache.saveOverlays(t,v,A))}return vt.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(h){return Vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):vt.resolve(Nl());let m=Lh,y=c;return h.next(v=>vt.forEach(v,(w,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(w)?vt.resolve():this.remoteDocumentCache.getEntry(t,w).next(E=>{y=y.insert(w,E)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,y,v,de())).next(w=>({batchId:m,changes:hA(w)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Vt(n)).next(s=>{let o=ch();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let h=ch();return this.indexManager.getCollectionParents(t,c).next(m=>vt.forEach(m,y=>{const v=function(A,E){return new ou(E,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,o).next(w=>{w.forEach((A,E)=>{h=h.insert(A,E)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o))).next(h=>{c.forEach((y,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,ai.newInvalidDocument(w)))});let m=ch();return h.forEach((y,v)=>{const w=c.get(y);w!==void 0&&bh(w.mutation,v,ss.empty(),Fe.now()),jm(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return vt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}}(n)),vt.resolve()}getNamedQuery(t,n){return vt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:DO(o.bundledQuery),readTime:Pr(o.readTime)}}(n)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.overlays=new Xe(Vt.comparator),this.qr=new Map}getOverlay(t,n){return vt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Nl();return vt.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,c)=>{this.St(t,n,c)}),vt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),vt.resolve()}getOverlaysForCollection(t,n,s){const o=Nl(),c=n.length+1,h=new Vt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return vt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new Xe((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Nl(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Nl(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=o)););return vt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new uO(n,s));let c=this.qr.get(n);c===void 0&&(c=de(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(t){return vt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.Qr=new Rn(jn.$r),this.Ur=new Rn(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new jn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new jn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Vt(new Ue([])),s=new jn(n,t),o=new jn(n,t+1),c=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),c.push(h.key)}),c}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Vt(new Ue([])),s=new jn(n,t),o=new jn(n,t+1);let c=de();return this.Ur.forEachInRange([s,o],h=>{c=c.add(h.key)}),c}containsKey(t){const n=new jn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class jn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Vt.comparator(t.key,n.key)||he(t.Yr,n.Yr)}static Kr(t,n){return he(t.Yr,n.Yr)||Vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rn(jn.$r)}checkEmpty(t){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cO(c,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jn(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return vt.resolve(h)}lookupMutationBatch(t,n){return vt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return vt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?F_:this.tr-1)}getAllMutationBatches(t){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new jn(n,0),o=new jn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);c.push(m)}),vt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Rn(he);return n.forEach(o=>{const c=new jn(o,0),h=new jn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],m=>{s=s.add(m.Yr)})}),vt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;Vt.isDocumentKey(c)||(c=c.child(""));const h=new jn(new Vt(c),0);let m=new Rn(he);return this.Zr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.Yr)),!0)},h),vt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return vt.forEach(n.mutations,o=>{const c=new jn(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new jn(n,0),o=this.Zr.firstAfterOrEqual(s);return vt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,vt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t){this.ri=t,this.docs=function(){return new Xe(Vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return vt.resolve(s?s.document.mutableCopy():ai.newInvalidDocument(n))}getEntries(t,n){let s=wa();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ai.newInvalidDocument(o))}),vt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=wa();const h=n.path,m=new Vt(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||xk(wk(w),s)<=0||(o.has(w.key)||jm(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return vt.resolve(c)}getAllFromCollectionGroup(t,n,s,o){qt(9500)}ii(t,n){return vt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new YO(this)}getSize(t){return vt.resolve(this.size)}}class YO extends BO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),vt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t){this.persistence=t,this.si=new ql(n=>G_(n),W_),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Q_,this.targetCount=0,this.ai=$c.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),vt.resolve()}getLastRemoteSnapshotVersion(t){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return vt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),vt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new $c(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,vt.resolve()}updateTargetData(t,n){return this.Pr(n),vt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,vt.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),vt.waitFor(c).next(()=>o)}getTargetCount(t){return vt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return vt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),vt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(h=>{c.push(o.markPotentiallyOrphaned(t,h))}),vt.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),vt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return vt.resolve(s)}containsKey(t,n){return vt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Mm(0),this.li=!1,this.li=!0,this.hi=new WO,this.referenceDelegate=t(this),this.Pi=new KO(this),this.indexManager=new kO,this.remoteDocumentCache=function(o){return new $O(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new MO(n),this.Ii=new qO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new ZO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Pt("MemoryPersistence","Starting transaction:",t);const o=new XO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(t,n){return vt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class XO extends Sk{constructor(t){super(),this.currentSequenceNumber=t}}class J_{constructor(t){this.persistence=t,this.Ri=new Q_,this.Vi=null}static mi(t){return new J_(t)}get fi(){if(this.Vi)return this.Vi;throw qt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),vt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),vt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),vt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,s=>{const o=Vt.fromPath(s);return this.gi(t,o).next(c=>{c||n.removeEntry(o,Yt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return vt.or([()=>vt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class hm{constructor(t,n){this.persistence=t,this.pi=new ql(s=>Rk(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=zO(this,n)}static mi(t,n){return new hm(t,n)}Ei(){}di(t){return vt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return vt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(c=>c?vt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,h=>this.br(t,h,n).next(m=>{m||(s++,c.removeEntry(h,Yt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),vt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),vt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),vt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),vt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Bf(t.data.value)),n}br(t,n,s){return vt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return vt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=de(),o=de();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tv(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AN()?8:Ak(oi())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ys(t,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ws(t,n,o,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new QO;return this.Ss(t,n,h).next(m=>{if(c.result=m,this.Vs)return this.bs(t,n,h,m.size)})}).next(()=>c.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(Pc()<=ue.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",Nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(Pc()<=ue.DEBUG&&Pt("QueryEngine","Query:",Nc(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Pc()<=ue.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",Nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ir(n))):vt.resolve())}ys(t,n){if(fx(n))return vt.resolve(null);let s=Ir(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lm(n,null,"F"),s=Ir(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const h=de(...c);return this.ps.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const v=this.Ds(n,m);return this.Cs(n,v,h,y.readTime)?this.ys(t,lm(n,null,"F")):this.vs(t,v,n,y)}))})))}ws(t,n,s,o){return fx(n)||o.isEqual(Yt.min())?vt.resolve(null):this.ps.getDocuments(t,s).next(c=>{const h=this.Ds(n,c);return this.Cs(n,h,s,o)?vt.resolve(null):(Pc()<=ue.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Nc(n)),this.vs(t,h,n,bk(o,Lh)).next(m=>m))})}Ds(t,n){let s=new Rn(cA(t));return n.forEach((o,c)=>{jm(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,n,s){return Pc()<=ue.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Nc(n)),this.ps.getDocumentsMatchingQuery(t,n,Vo.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LocalStore",tV=3e8;class eV{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Xe(he),this.xs=new ql(c=>G_(c),W_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function nV(e,t,n,s){return new eV(e,t,n,s)}async function MA(e,t){const n=Kt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let y=de();for(const v of o){h.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ls:v,removedBatchIds:h,addedBatchIds:m}))})})}function iV(e,t){const n=Kt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,v,w){const A=v.batch,E=A.keys();let N=vt.resolve();return E.forEach(V=>{N=N.next(()=>w.getEntry(y,V)).next(q=>{const Z=v.docVersions.get(V);xe(Z!==null,48541),q.version.compareTo(Z)<0&&(A.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),w.addEntry(q)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=de();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function DA(e){const t=Kt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function sV(e,t){const n=Kt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((w,A)=>{const E=o.get(A);if(!E)return;m.push(n.Pi.removeMatchingKeys(c,w.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(c,w.addedDocuments,A)));let N=E.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?N=N.withResumeToken(Kn.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,s)),o=o.insert(A,N),function(q,Z,$){return q.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=tV?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(E,N,w)&&m.push(n.Pi.updateTargetData(c,N))});let y=wa(),v=de();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(rV(c,h,t.documentUpdates).next(w=>{y=w.ks,v=w.qs})),!s.isEqual(Yt.min())){const w=n.Pi.getLastRemoteSnapshotVersion(c).next(A=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return vt.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.Ms=o,c))}function rV(e,t,n){let s=de(),o=de();return n.forEach(c=>s=s.add(c)),t.getEntries(e,s).next(c=>{let h=wa();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Yt.min())?(t.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),h=h.insert(m,y)):Pt(ev,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{ks:h,qs:o}})}function aV(e,t){const n=Kt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=F_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function oV(e,t){const n=Kt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(c=>c?(o=c,vt.resolve(o)):n.Pi.allocateTargetId(s).next(h=>(o=new Io(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Hy(e,t,n){const s=Kt(e),o=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!au(h))throw h;Pt(ev,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Ax(e,t,n){const s=Kt(e);let o=Yt.min(),c=de();return s.persistence.runTransaction("Execute query","readwrite",h=>function(y,v,w){const A=Kt(y),E=A.xs.get(w);return E!==void 0?vt.resolve(A.Ms.get(E)):A.Pi.getTargetData(v,w)}(s,h,Ir(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(y=>{c=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,t,n?o:Yt.min(),n?c:de())).next(m=>(lV(s,Zk(t),m),{documents:m,Qs:c})))}function lV(e,t,n){let s=e.Os.get(t)||Yt.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),e.Os.set(t,s)}class Cx{constructor(){this.activeTargetIds=Jk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cV{constructor(){this.Mo=new Cx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Cx,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="ConnectivityMonitor";class Ix{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pt(Rx,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Pt(Rx,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=null;function qy(){return Ef===null?Ef=function(){return 268435456+Math.round(2147483648*Math.random())}():Ef++,"0x"+Ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="RestConnection",hV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,c){const h=qy(),m=this.zo(t,n.toUriEncodedString());Pt(ty,`Sending RPC '${t}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:v}=new URL(m),w=qo(v);return this.Jo(t,m,y,s,w).then(A=>(Pt(ty,`Received RPC '${t}' ${h}: `,A),A),A=>{throw qc(ty,`RPC '${t}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(t,n,s,o,c,h){return this.Go(t,n,s,o,c)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}zo(t,n){const s=hV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="WebChannelConnection";class mV extends dV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,c){const h=qy();return new Promise((m,y)=>{const v=new OS;v.setWithCredentials(!0),v.listenOnce(VS.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case zf.NO_ERROR:const A=v.getResponseJson();Pt(si,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(A)),m(A);break;case zf.TIMEOUT:Pt(si,`RPC '${t}' ${h} timed out`),y(new Rt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const E=v.getStatus();if(Pt(si,`RPC '${t}' ${h} failed with status:`,E,"response text:",v.getResponseText()),E>0){let N=v.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N?.error;if(V&&V.status&&V.message){const q=function($){const ct=$.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(ct)>=0?ct:pt.UNKNOWN}(V.status);y(new Rt(q,V.message))}else y(new Rt(pt.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new Rt(pt.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:t,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Pt(si,`RPC '${t}' ${h} completed.`)}});const w=JSON.stringify(o);Pt(si,`RPC '${t}' ${h} sending request:`,o),v.send(n,"POST",w,s,15)})}T_(t,n,s){const o=qy(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=zS(),m=US(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");Pt(si,`Creating RPC '${t}' stream ${o}: ${w}`,y);const A=h.createWebChannel(w,y);this.I_(A);let E=!1,N=!1;const V=new fV({Yo:Z=>{N?Pt(si,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(E||(Pt(si,`Opening RPC '${t}' stream ${o} transport.`),A.open(),E=!0),Pt(si,`RPC '${t}' stream ${o} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),q=(Z,$,ct)=>{Z.listen($,J=>{try{ct(J)}catch(dt){setTimeout(()=>{throw dt},0)}})};return q(A,lh.EventType.OPEN,()=>{N||(Pt(si,`RPC '${t}' stream ${o} transport opened.`),V.o_())}),q(A,lh.EventType.CLOSE,()=>{N||(N=!0,Pt(si,`RPC '${t}' stream ${o} transport closed`),V.a_(),this.E_(A))}),q(A,lh.EventType.ERROR,Z=>{N||(N=!0,qc(si,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),V.a_(new Rt(pt.UNAVAILABLE,"The operation could not be completed")))}),q(A,lh.EventType.MESSAGE,Z=>{if(!N){const $=Z.data[0];xe(!!$,16349);const ct=$,J=ct?.error||ct[0]?.error;if(J){Pt(si,`RPC '${t}' stream ${o} received error:`,J);const dt=J.status;let tt=function(k){const j=Tn[k];if(j!==void 0)return TA(j)}(dt),wt=J.message;tt===void 0&&(tt=pt.INTERNAL,wt="Unknown error status: "+dt+" with message "+J.message),N=!0,V.a_(new Rt(tt,wt)),A.close()}else Pt(si,`RPC '${t}' stream ${o} received:`,$),V.u_($)}}),q(m,jS.STAT_EVENT,Z=>{Z.stat===Ly.PROXY?Pt(si,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Ly.NOPROXY&&Pt(si,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(e){return new vO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="PersistentStream";class OA{constructor(t,n,s,o,c,h,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(ba(n.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new Rt(pt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Pt(Px,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Pt(Px,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pV extends OA{constructor(t,n,s,o,c,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=wO(this.serializer,t),s=function(c){if(!("targetChange"in c))return Yt.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Yt.min():h.readTime?Pr(h.readTime):Yt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Fy(this.serializer),n.addTarget=function(c,h){let m;const y=h.target;if(m=Vy(y)?{documents:SO(c,y)}:{query:AO(c,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=xA(c,h.resumeToken);const v=Uy(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Yt.min())>0){m.readTime=um(c,h.snapshotVersion.toTimestamp());const v=Uy(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,t);const s=RO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Fy(this.serializer),n.removeTarget=t,this.q_(n)}}class gV extends OA{constructor(t,n,s,o,c,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return xe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,xe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){xe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=EO(t.writeResults,t.commitTime),s=Pr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Fy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>xO(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{}class _V extends yV{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Rt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Go(t,zy(n,s),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Rt(pt.UNKNOWN,c.toString())})}Ho(t,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(t,zy(n,s),o,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Rt(pt.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(n),this.aa=!1):Pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="RemoteStore";class TV{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{Gl(this)&&(Pt(Fl,"Restarting streams for network reachability change."),await async function(y){const v=Kt(y);v.Ea.add(4),await ad(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Hm(v)}(this))})}),this.Ra=new vV(s,o)}}async function Hm(e){if(Gl(e))for(const t of e.da)await t(!0)}async function ad(e){for(const t of e.da)await t(!1)}function VA(e,t){const n=Kt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),rv(n)?sv(n):lu(n).O_()&&iv(n,t))}function nv(e,t){const n=Kt(e),s=lu(n);n.Ia.delete(t),s.O_()&&jA(n,t),n.Ia.size===0&&(s.O_()?s.L_():Gl(n)&&n.Ra.set("Unknown"))}function iv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lu(e).Y_(t)}function jA(e,t){e.Va.Ue(t),lu(e).Z_(t)}function sv(e){e.Va=new pO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),lu(e).start(),e.Ra.ua()}function rv(e){return Gl(e)&&!lu(e).x_()&&e.Ia.size>0}function Gl(e){return Kt(e).Ea.size===0}function UA(e){e.Va=void 0}async function bV(e){e.Ra.set("Online")}async function wV(e){e.Ia.forEach((t,n)=>{iv(e,t)})}async function xV(e,t){UA(e),rv(e)?(e.Ra.ha(t),sv(e)):e.Ra.set("Unknown")}async function EV(e,t,n){if(e.Ra.set("Online"),t instanceof wA&&t.state===2&&t.cause)try{await async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(e,t)}catch(s){Pt(Fl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await dm(e,s)}else if(t instanceof qf?e.Va.Ze(t):t instanceof bA?e.Va.st(t):e.Va.tt(t),!n.isEqual(Yt.min()))try{const s=await DA(e.localStore);n.compareTo(s)>=0&&await function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(y.resumeToken,h))}}),m.targetMismatches.forEach((y,v)=>{const w=c.Ia.get(y);if(!w)return;c.Ia.set(y,w.withResumeToken(Kn.EMPTY_BYTE_STRING,w.snapshotVersion)),jA(c,y);const A=new Io(w.target,y,v,w.sequenceNumber);iv(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Pt(Fl,"Failed to raise snapshot:",s),await dm(e,s)}}async function dm(e,t,n){if(!au(t))throw t;e.Ea.add(1),await ad(e),e.Ra.set("Offline"),n||(n=()=>DA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Pt(Fl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Hm(e)})}function zA(e,t){return t().catch(n=>dm(e,n,t))}async function qm(e){const t=Kt(e),n=Bo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:F_;for(;SV(t);)try{const o=await aV(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,AV(t,o)}catch(o){await dm(t,o)}BA(t)&&FA(t)}function SV(e){return Gl(e)&&e.Ta.length<10}function AV(e,t){e.Ta.push(t);const n=Bo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function BA(e){return Gl(e)&&!Bo(e).x_()&&e.Ta.length>0}function FA(e){Bo(e).start()}async function CV(e){Bo(e).ra()}async function RV(e){const t=Bo(e);for(const n of e.Ta)t.ea(n.mutations)}async function IV(e,t,n){const s=e.Ta.shift(),o=Y_.from(s,t,n);await zA(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await qm(e)}async function PV(e,t){t&&Bo(e).X_&&await async function(s,o){if(function(h){return dO(h)&&h!==pt.ABORTED}(o.code)){const c=s.Ta.shift();Bo(s).B_(),await zA(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await qm(s)}}(e,t),BA(e)&&FA(e)}async function Nx(e,t){const n=Kt(e);n.asyncQueue.verifyOperationInProgress(),Pt(Fl,"RemoteStore received new credentials");const s=Gl(n);n.Ea.add(3),await ad(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Hm(n)}async function NV(e,t){const n=Kt(e);t?(n.Ea.delete(2),await Hm(n)):t||(n.Ea.add(2),await ad(n),n.Ra.set("Unknown"))}function lu(e){return e.ma||(e.ma=function(n,s,o){const c=Kt(n);return c.sa(),new pV(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(e.datastore,e.asyncQueue,{Xo:bV.bind(null,e),t_:wV.bind(null,e),r_:xV.bind(null,e),H_:EV.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),rv(e)?sv(e):e.Ra.set("Unknown")):(await e.ma.stop(),UA(e))})),e.ma}function Bo(e){return e.fa||(e.fa=function(n,s,o){const c=Kt(n);return c.sa(),new gV(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:CV.bind(null,e),r_:PV.bind(null,e),ta:RV.bind(null,e),na:IV.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await qm(e)):(await e.fa.stop(),e.Ta.length>0&&(Pt(Fl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const h=Date.now()+s,m=new av(t,n,h,o,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(e,t){if(ba("AsyncQueue",`${t}: ${e}`),au(e))return new Rt(pt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{static emptySet(t){return new Fc(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Vt.comparator(n.key,s.key):(n,s)=>Vt.comparator(n.key,s.key),this.keyedMap=ch(),this.sortedSet=new Xe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Fc;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.ga=new Xe(Vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):qt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Yc{constructor(t,n,s,o,c,h,m,y,v){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,n,s,o,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Yc(t,n,Fc.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class MV{constructor(){this.queries=Mx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Kt(n),c=o.queries;o.queries=Mx(),c.forEach((h,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new Rt(pt.ABORTED,"Firestore shutting down"))}}function Mx(){return new ql(e=>lA(e),Vm)}async function lv(e,t){const n=Kt(e);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new LV,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ov(h,`Initialization of query '${Nc(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&uv(n)}async function cv(e,t){const n=Kt(e),s=t.query;let o=3;const c=n.queries.get(s);if(c){const h=c.Sa.indexOf(t);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function DV(e,t){const n=Kt(e);let s=!1;for(const o of t){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&uv(n)}function kV(e,t,n){const s=Kt(e),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(t)}function uv(e){e.Ca.forEach(t=>{t.next()})}var Gy,Dx;(Dx=Gy||(Gy={})).Ma="default",Dx.Cache="cache";class hv{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Yc(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Yc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.key=t}}class qA{constructor(t){this.key=t}}class OV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=cA(t),this.tu=new Fc(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Lx,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((w,A)=>{const E=o.get(w),N=jm(this.query,A)?A:null,V=!!E&&this.mutatedKeys.has(E.key),q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Z=!1;E&&N?E.data.isEqual(N.data)?V!==q&&(s.track({type:3,doc:N}),Z=!0):this.su(E,N)||(s.track({type:2,doc:N}),Z=!0,(y&&this.eu(N,y)>0||v&&this.eu(N,v)<0)&&(m=!0)):!E&&N?(s.track({type:0,doc:N}),Z=!0):E&&!N&&(s.track({type:1,doc:E}),Z=!0,(y||v)&&(m=!0)),Z&&(N?(h=h.add(N),c=q?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:m,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((w,A)=>function(N,V){const q=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Rt:Z})}};return q(N)-q(V)}(w.type,A.type)||this.eu(w.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new Yc(this.query,t.tu,c,h,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=de(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new qA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new HA(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=de();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dv="SyncEngine";class VV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class jV{constructor(t){this.key=t,this.hu=!1}}class UV{constructor(t,n,s,o,c,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ql(m=>lA(m),Vm),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(Vt.comparator),this.Au=new Map,this.Ru=new Q_,this.Vu={},this.mu=new Map,this.fu=$c.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zV(e,t,n=!0){const s=KA(e);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await GA(s,t,n,!0),o}async function BV(e,t){const n=KA(e);await GA(n,t,!0,!1)}async function GA(e,t,n,s){const o=await oV(e.localStore,Ir(t)),c=o.targetId,h=e.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await FV(e,t,c,h==="current",o.resumeToken)),e.isPrimaryClient&&n&&VA(e.remoteStore,o),m}async function FV(e,t,n,s,o){e.pu=(A,E,N)=>async function(q,Z,$,ct){let J=Z.view.ru($);J.Cs&&(J=await Ax(q.localStore,Z.query,!1).then(({documents:z})=>Z.view.ru(z,J)));const dt=ct&&ct.targetChanges.get(Z.targetId),tt=ct&&ct.targetMismatches.get(Z.targetId)!=null,wt=Z.view.applyChanges(J,q.isPrimaryClient,dt,tt);return Ox(q,Z.targetId,wt.au),wt.snapshot}(e,A,E,N);const c=await Ax(e.localStore,t,!0),h=new OV(t,c.Qs),m=h.ru(c.documents),y=rd.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),v=h.applyChanges(m,e.isPrimaryClient,y);Ox(e,n,v.au);const w=new VV(t,n,h);return e.Tu.set(t,w),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),v.snapshot}async function HV(e,t,n){const s=Kt(e),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(h=>!Vm(h,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hy(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&nv(s.remoteStore,o.targetId),Wy(s,o.targetId)}).catch(ru)):(Wy(s,o.targetId),await Hy(s.localStore,o.targetId,!0))}async function qV(e,t){const n=Kt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),nv(n.remoteStore,s.targetId))}async function GV(e,t,n){const s=QV(e);try{const o=await function(h,m){const y=Kt(h),v=Fe.now(),w=m.reduce((N,V)=>N.add(V.key),de());let A,E;return y.persistence.runTransaction("Locally write mutations","readwrite",N=>{let V=wa(),q=de();return y.Ns.getEntries(N,w).next(Z=>{V=Z,V.forEach(($,ct)=>{ct.isValidDocument()||(q=q.add($))})}).next(()=>y.localDocuments.getOverlayedDocuments(N,V)).next(Z=>{A=Z;const $=[];for(const ct of m){const J=oO(ct,A.get(ct.key).overlayedDocument);J!=null&&$.push(new Zo(ct.key,J,tA(J.value.mapValue),Ns.exists(!0)))}return y.mutationQueue.addMutationBatch(N,v,$,m)}).next(Z=>{E=Z;const $=Z.applyToLocalDocumentSet(A,q);return y.documentOverlayCache.saveOverlays(N,Z.batchId,$)})}).then(()=>({batchId:E.batchId,changes:hA(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new Xe(he)),v=v.insert(m,y),h.Vu[h.currentUser.toKey()]=v}(s,o.batchId,n),await od(s,o.changes),await qm(s.remoteStore)}catch(o){const c=ov(o,"Failed to persist write");n.reject(c)}}async function WA(e,t){const n=Kt(e);try{const s=await sV(n.localStore,t);t.targetChanges.forEach((o,c)=>{const h=n.Au.get(c);h&&(xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?xe(h.hu,14607):o.removedDocuments.size>0&&(xe(h.hu,42227),h.hu=!1))}),await od(n,s,t)}catch(s){await ru(s)}}function kx(e,t,n){const s=Kt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((c,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const y=Kt(h);y.onlineState=m;let v=!1;y.queries.forEach((w,A)=>{for(const E of A.Sa)E.va(m)&&(v=!0)}),v&&uv(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function WV(e,t,n){const s=Kt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),c=o&&o.key;if(c){let h=new Xe(Vt.comparator);h=h.insert(c,ai.newNoDocument(c,Yt.min()));const m=de().add(c),y=new Bm(Yt.min(),new Map,new Xe(he),h,m);await WA(s,y),s.du=s.du.remove(c),s.Au.delete(t),fv(s)}else await Hy(s.localStore,t,!1).then(()=>Wy(s,t,n)).catch(ru)}async function ZV(e,t){const n=Kt(e),s=t.batch.batchId;try{const o=await iV(n.localStore,t);$A(n,s,null),ZA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await od(n,o)}catch(o){await ru(o)}}async function $V(e,t,n){const s=Kt(e);try{const o=await function(h,m){const y=Kt(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next(A=>(xe(A!==null,37113),w=A.keys(),y.mutationQueue.removeMutationBatch(v,A))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>y.localDocuments.getDocuments(v,w))})}(s.localStore,t);$A(s,t,n),ZA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await od(s,o)}catch(o){await ru(o)}}function ZA(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function $A(e,t,n){const s=Kt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Wy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||YA(e,s)})}function YA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(nv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),fv(e))}function Ox(e,t,n){for(const s of n)s instanceof HA?(e.Ru.addReference(s.key,t),YV(e,s)):s instanceof qA?(Pt(dv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||YA(e,s.key)):qt(19791,{wu:s})}function YV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Pt(dv,"New document in limbo: "+n),e.Eu.add(s),fv(e))}function fv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Vt(Ue.fromString(t)),s=e.fu.next();e.Au.set(s,new jV(n)),e.du=e.du.insert(n,s),VA(e.remoteStore,new Io(Ir(Om(n.path)),s,"TargetPurposeLimboResolution",Mm.ce))}}async function od(e,t,n){const s=Kt(e),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{h.push(s.pu(y,t,n).then(v=>{if((v||n)&&s.isPrimaryClient){const w=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(v){o.push(v);const w=tv.As(y.targetId,v);c.push(w)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(y,v){const w=Kt(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>vt.forEach(v,E=>vt.forEach(E.Es,N=>w.persistence.referenceDelegate.addReference(A,E.targetId,N)).next(()=>vt.forEach(E.ds,N=>w.persistence.referenceDelegate.removeReference(A,E.targetId,N)))))}catch(A){if(!au(A))throw A;Pt(ev,"Failed to update sequence numbers: "+A)}for(const A of v){const E=A.targetId;if(!A.fromCache){const N=w.Ms.get(E),V=N.snapshotVersion,q=N.withLastLimboFreeSnapshotVersion(V);w.Ms=w.Ms.insert(E,q)}}}(s.localStore,c))}async function KV(e,t){const n=Kt(e);if(!n.currentUser.isEqual(t)){Pt(dv,"User change. New user:",t.toKey());const s=await MA(n.localStore,t);n.currentUser=t,function(c,h){c.mu.forEach(m=>{m.forEach(y=>{y.reject(new Rt(pt.CANCELLED,h))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await od(n,s.Ls)}}function XV(e,t){const n=Kt(e),s=n.Au.get(t);if(s&&s.hu)return de().add(s.key);{let o=de();const c=n.Iu.get(t);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function KA(e){const t=Kt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WV.bind(null,t),t.Pu.H_=DV.bind(null,t.eventManager),t.Pu.yu=kV.bind(null,t.eventManager),t}function QV(e){const t=Kt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$V.bind(null,t),t}class fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return nV(this.persistence,new JO,t.initialUser,this.serializer)}Cu(t){return new LA(J_.mi,this.serializer)}Du(t){return new cV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fm.provider={build:()=>new fm};class JV extends fm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){xe(this.persistence.referenceDelegate instanceof hm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new LA(s=>hm.mi(s,n),this.serializer)}}class Zy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>kx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,this.syncEngine),await NV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MV}()}createDatastore(t){const n=Fm(t.databaseInfo.databaseId),s=function(c){return new mV(c)}(t.databaseInfo);return function(c,h,m,y){return new _V(c,h,m,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,c,h,m){return new TV(s,o,c,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>kx(this.syncEngine,n,0),function(){return Ix.v()?new Ix:new uV}())}createSyncEngine(t,n){return function(o,c,h,m,y,v,w){const A=new UV(o,c,h,m,y,v);return w&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Kt(n);Pt(Fl,"RemoteStore shutting down."),s.Ea.add(5),await ad(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zy.provider={build:()=>new Zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ba("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="FirestoreClient";class tj{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ri.UNAUTHENTICATED,this.clientId=B_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{Pt(Fo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(Pt(Fo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ov(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ny(e,t){e.asyncQueue.verifyOperationInProgress(),Pt(Fo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await MA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Vx(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ej(e);Pt(Fo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>Nx(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>Nx(t.remoteStore,o)),e._onlineComponents=t}async function ej(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pt(Fo,"Using user provided OfflineComponentProvider");try{await ny(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===pt.FAILED_PRECONDITION||o.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;qc("Error using user provided cache. Falling back to memory cache: "+n),await ny(e,new fm)}}else Pt(Fo,"Using default OfflineComponentProvider"),await ny(e,new JV(void 0));return e._offlineComponents}async function XA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pt(Fo,"Using user provided OnlineComponentProvider"),await Vx(e,e._uninitializedComponentsProvider._online)):(Pt(Fo,"Using default OnlineComponentProvider"),await Vx(e,new Zy))),e._onlineComponents}function nj(e){return XA(e).then(t=>t.syncEngine)}async function mm(e){const t=await XA(e),n=t.eventManager;return n.onListen=zV.bind(null,t.syncEngine),n.onUnlisten=HV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=BV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qV.bind(null,t.syncEngine),n}function ij(e,t,n={}){const s=new ya;return e.asyncQueue.enqueueAndForget(async()=>function(c,h,m,y,v){const w=new mv({next:E=>{w.Nu(),h.enqueueAndForget(()=>cv(c,A));const N=E.docs.has(m);!N&&E.fromCache?v.reject(new Rt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&E.fromCache&&y&&y.source==="server"?v.reject(new Rt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(E)},error:E=>v.reject(E)}),A=new hv(Om(m.path),w,{includeMetadataChanges:!0,qa:!0});return lv(c,A)}(await mm(e),e.asyncQueue,t,n,s)),s.promise}function sj(e,t,n={}){const s=new ya;return e.asyncQueue.enqueueAndForget(async()=>function(c,h,m,y,v){const w=new mv({next:E=>{w.Nu(),h.enqueueAndForget(()=>cv(c,A)),E.fromCache&&y.source==="server"?v.reject(new Rt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(E)},error:E=>v.reject(E)}),A=new hv(m,w,{includeMetadataChanges:!0,qa:!0});return lv(c,A)}(await mm(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firestore.googleapis.com",Ux=!0;class zx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JA,this.ssl=Ux}else this.host=t.host,this.ssl=t.ssl??Ux;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NA)throw new Rt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QA(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Rt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gm{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ck;switch(s.type){case"firstParty":return new fk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Rt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=jx.get(n);s&&(Pt("ComponentProvider","Removing Datastore"),jx.delete(n),s.terminate())}(this),Promise.resolve()}}function rj(e,t,n,s={}){e=Oi(e,Gm);const o=qo(t),c=e._getSettings(),h={...c,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(Rm(`https://${m}`),A_("Firestore",!0)),c.host!==JA&&c.host!==m&&qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:s};if(!Do(y,h)&&(e._setSettings(y),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=ri.MOCK_USER;else{v=yN(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new Rt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ri(A)}e._authCredentials=new uk(new FS(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ia(this.firestore,t,this._query)}}class nn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new nn(this.firestore,t,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(id(n,nn._jsonSchema))return new nn(t,s||null,new Vt(Ue.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:xn("string",nn._jsonSchemaVersion),referencePath:xn("string")};class Mo extends Ia{constructor(t,n,s){super(t,n,Om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new nn(this.firestore,null,new Vt(t))}withConverter(t){return new Mo(this.firestore,t,this._path)}}function hh(e,t,...n){if(e=sn(e),HS("collection","path",t),e instanceof Gm){const s=Ue.fromString(t,...n);return Jw(s),new Mo(e,null,s)}{if(!(e instanceof nn||e instanceof Mo))throw new Rt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ue.fromString(t,...n));return Jw(s),new Mo(e.firestore,null,s)}}function Vr(e,t,...n){if(e=sn(e),arguments.length===1&&(t=B_.newId()),HS("doc","path",t),e instanceof Gm){const s=Ue.fromString(t,...n);return Qw(s),new nn(e,null,new Vt(s))}{if(!(e instanceof nn||e instanceof Mo))throw new Rt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ue.fromString(t,...n));return Qw(s),new nn(e.firestore,e instanceof Mo?e.converter:null,new Vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="AsyncQueue";class Fx{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kA(this,"async_queue_retry"),this._c=()=>{const s=ey();s&&Pt(Bx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ey();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ya;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!au(t))throw t;Pt(Bx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",Hx(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=av.createAndSchedule(this,t,n,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&qt(47125,{Pc:Hx(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Hx(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(e){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(e,["next","error","complete"])}class xa extends Gm{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Fx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fx(t),this._firestoreClient=void 0,await t}}}function aj(e,t,n){n||(n=Dh);const s=Qh(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),c=s.getOptions(n);if(Do(c,t))return o;throw new Rt(pt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Rt(pt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NA)throw new Rt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&qo(t.host)&&Rm(t.host),s.initialize({options:t,instanceIdentifier:n})}function oj(e,t){const n=typeof e=="object"?e:I_(),s=typeof e=="string"?e:Dh,o=Qh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=$1("firestore");c&&rj(o,...c)}return o}function Wm(e){if(e._terminated)throw new Rt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lj(e),e._firestoreClient}function lj(e){const t=e._freezeSettings(),n=function(o,c,h,m){return new Nk(o,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,QA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new tj(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ps(Kn.fromBase64String(t))}catch(n){throw new Rt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ps(Kn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(id(t,Ps._jsonSchema))return Ps.fromBase64String(t.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:xn("string",Ps._jsonSchemaVersion),bytes:xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Rt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Rt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return he(this._lat,t._lat)||he(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(t){if(id(t,Nr._jsonSchema))return new Nr(t.latitude,t.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:xn("string",Nr._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(id(t,Lr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Lr(t.vectorValues);throw new Rt(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:xn("string",Lr._jsonSchemaVersion),vectorValues:xn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=/^__.*__$/;class uj{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms):new sd(t,this.data,n,this.fieldTransforms)}}class tC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function eC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ac:e})}}class pv{constructor(t,n,s,o,c,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new pv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return pm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(eC(this.Ac)&&cj.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class hj{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Fm(t)}Cc(t,n,s,o=!1){return new pv({Ac:t,methodName:n,Dc:s,path:Yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(e){const t=e._freezeSettings(),n=Fm(e._databaseId);return new hj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nC(e,t,n,s,o,c={}){const h=e.Cc(c.merge||c.mergeFields?2:0,t,n,o);yv("Data must be an object, but it was:",h,s);const m=iC(s,h);let y,v;if(c.merge)y=new ss(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const A of c.mergeFields){const E=$y(t,A,n);if(!h.contains(E))throw new Rt(pt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);rC(w,E)||w.push(E)}y=new ss(w),v=h.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,v=h.fieldTransforms;return new uj(new Li(m),y,v)}class Km extends $m{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Km}}class gv extends $m{_toFieldTransform(t){return new iO(t.path,new jh)}isEqual(t){return t instanceof gv}}function dj(e,t,n,s){const o=e.Cc(1,t,n);yv("Data must be an object, but it was:",o,s);const c=[],h=Li.empty();Wo(s,(y,v)=>{const w=_v(t,y,n);v=sn(v);const A=o.yc(w);if(v instanceof Km)c.push(w);else{const E=ld(v,A);E!=null&&(c.push(w),h.set(w,E))}});const m=new ss(c);return new tC(h,m,o.fieldTransforms)}function fj(e,t,n,s,o,c){const h=e.Cc(1,t,n),m=[$y(t,s,n)],y=[o];if(c.length%2!=0)throw new Rt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<c.length;E+=2)m.push($y(t,c[E])),y.push(c[E+1]);const v=[],w=Li.empty();for(let E=m.length-1;E>=0;--E)if(!rC(v,m[E])){const N=m[E];let V=y[E];V=sn(V);const q=h.yc(N);if(V instanceof Km)v.push(N);else{const Z=ld(V,q);Z!=null&&(v.push(N),w.set(N,Z))}}const A=new ss(v);return new tC(w,A,h.fieldTransforms)}function mj(e,t,n,s=!1){return ld(n,e.Cc(s?4:3,t))}function ld(e,t){if(sC(e=sn(e)))return yv("Unsupported field value:",t,e),iC(e,t);if(e instanceof $m)return function(s,o){if(!eC(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const c=[];let h=0;for(const m of s){let y=ld(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}}(e,t)}return function(s,o){if((s=sn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Fe.fromDate(s);return{timestampValue:um(o.serializer,c)}}if(s instanceof Fe){const c=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:um(o.serializer,c)}}if(s instanceof Nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ps)return{bytesValue:xA(o.serializer,s._byteString)};if(s instanceof nn){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:X_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lr)return function(h,m){return{mapValue:{fields:{[QS]:{stringValue:JS},[am]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return Z_(m.serializer,v)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Lm(s)}`)}(e,t)}function iC(e,t){const n={};return WS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wo(e,(s,o)=>{const c=ld(o,t.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function sC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Fe||e instanceof Nr||e instanceof Ps||e instanceof nn||e instanceof $m||e instanceof Lr)}function yv(e,t,n){if(!sC(n)||!qS(n)){const s=Lm(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function $y(e,t,n){if((t=sn(t))instanceof Zm)return t._internalPath;if(typeof t=="string")return _v(e,t);throw pm("Field path arguments must be of type string or ",e,!1,void 0,n)}const pj=new RegExp("[~\\*/\\[\\]]");function _v(e,t,n){if(t.search(pj)>=0)throw pm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Zm(...t.split("."))._internalPath}catch{throw pm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function pm(e,t,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new Rt(pt.INVALID_ARGUMENT,m+e+y)}function rC(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Xm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gj extends aC{data(){return super.data()}}function Xm(e,t){return typeof t=="string"?_v(e,t):t instanceof Zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Rt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vv{}class Tv extends vv{}function Yy(e,t,...n){let s=[];t instanceof vv&&s.push(t),s=s.concat(n),function(c){const h=c.filter(y=>y instanceof bv).length,m=c.filter(y=>y instanceof Qm).length;if(h>1||h>0&&m>0)throw new Rt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class Qm extends Tv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Qm(t,n,s)}_apply(t){const n=this._parse(t);return lC(t._query,n),new Ia(t.firestore,t.converter,jy(t._query,n))}_parse(t){const n=Ym(t.firestore);return function(c,h,m,y,v,w,A){let E;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Rt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Zx(A,w);const V=[];for(const q of A)V.push(Wx(y,c,q));E={arrayValue:{values:V}}}else E=Wx(y,c,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Zx(A,w),E=mj(m,h,A,w==="in"||w==="not-in");return wn.create(v,w,E)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Gx(e,t,n){const s=t,o=Xm("where",e);return Qm._create(o,s,n)}class bv extends vv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new bv(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,c){let h=o;const m=c.getFlattenedFilters();for(const y of m)lC(h,y),h=jy(h,y)}(t._query,n),new Ia(t.firestore,t.converter,jy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wv extends Tv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new wv(t,n)}_apply(t){const n=function(o,c,h){if(o.startAt!==null)throw new Rt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Rt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vh(c,h)}(t._query,this._field,this._direction);return new Ia(t.firestore,t.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new ou(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function yj(e,t="asc"){const n=t,s=Xm("orderBy",e);return wv._create(s,n)}class xv extends Tv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new xv(t,n,s)}_apply(t){return new Ia(t.firestore,t.converter,lm(t._query,this._limit,this._limitType))}}function _j(e){return Tk("limit",e),xv._create("limit",e,"F")}function Wx(e,t,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new Rt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oA(t)&&n.indexOf("/")!==-1)throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Ue.fromString(n));if(!Vt.isDocumentKey(s))throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ox(e,new Vt(s))}if(n instanceof nn)return ox(e,n._key);throw new Rt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(n)}.`)}function Zx(e,t){if(!Array.isArray(e)||e.length===0)throw new Rt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lC(e,t){const n=function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Rt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vj{convertValue(t,n="none"){switch(zo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw qt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Wo(t,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(t){const n=t.fields?.[am].arrayValue?.values?.map(s=>dn(s.doubleValue));return new Lr(n)}convertGeoPoint(t){return new Nr(dn(t.latitude),dn(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=km(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mh(t));default:return null}}convertTimestamp(t){const n=jo(t);return new Fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Ue.fromString(t);xe(IA(s),9688,{name:t});const o=new kh(s.get(1),s.get(3)),c=new Vt(s.popFirst(5));return o.isEqual(n)||ba(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class dh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kl extends aC{constructor(t,n,s,o,c,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Xm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=kl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",kl._jsonSchema={type:xn("string",kl._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class Gf extends kl{data(t={}){return super.data(t)}}class Ol{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new dh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Gf(this._firestore,this._userDataWriter,s.key,s,new dh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const y=new Gf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Gf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:Tj(m.type),doc:y,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ol._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=B_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Tj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(e){e=Oi(e,nn);const t=Oi(e.firestore,xa);return ij(Wm(t),e._key).then(n=>uC(t,e,n))}Ol._jsonSchemaVersion="firestore/querySnapshot/1.0",Ol._jsonSchema={type:xn("string",Ol._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};class Ev extends vj{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ps(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function n9(e){e=Oi(e,Ia);const t=Oi(e.firestore,xa),n=Wm(t),s=new Ev(t);return oC(e._query),sj(n,e._query).then(o=>new Ol(t,s,e,o))}function Ky(e,t,n){e=Oi(e,nn);const s=Oi(e.firestore,xa),o=cC(e.converter,t,n);return Jm(s,[nC(Ym(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Ns.none())])}function i9(e,t,n,...s){e=Oi(e,nn);const o=Oi(e.firestore,xa),c=Ym(o);let h;return h=typeof(t=sn(t))=="string"||t instanceof Zm?fj(c,"updateDoc",e._key,t,n,s):dj(c,"updateDoc",e._key,t),Jm(o,[h.toMutation(e._key,Ns.exists(!0))])}function s9(e){return Jm(Oi(e.firestore,xa),[new $_(e._key,Ns.none())])}function r9(e,t){const n=Oi(e.firestore,xa),s=Vr(e),o=cC(e.converter,t);return Jm(n,[nC(Ym(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,Ns.exists(!1))]).then(()=>s)}function Ll(e,...t){e=sn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||qx(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qx(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,h,m;if(e instanceof nn)h=Oi(e.firestore,xa),m=Om(e._key.path),c={next:y=>{t[s]&&t[s](uC(h,e,y))},error:t[s+1],complete:t[s+2]};else{const y=Oi(e,Ia);h=Oi(y.firestore,xa),m=y._query;const v=new Ev(h);c={next:w=>{t[s]&&t[s](new Ol(h,v,y,w))},error:t[s+1],complete:t[s+2]},oC(e._query)}return function(v,w,A,E){const N=new mv(E),V=new hv(w,N,A);return v.asyncQueue.enqueueAndForget(async()=>lv(await mm(v),V)),()=>{N.Nu(),v.asyncQueue.enqueueAndForget(async()=>cv(await mm(v),V))}}(Wm(h),m,o,c)}function Jm(e,t){return function(s,o){const c=new ya;return s.asyncQueue.enqueueAndForget(async()=>GV(await nj(s),o,c)),c.promise}(Wm(e),t)}function uC(e,t,n){const s=n.docs.get(t._key),o=new Ev(e);return new kl(e,o,t._key,s,new dh(n.hasPendingWrites,n.fromCache),t.converter)}function a9(){return new gv("serverTimestamp")}(function(t,n=!0){(function(o){su=o})(eu),Ul(new ko("firestore",(s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new xa(new hk(s.getProvider("auth-internal")),new mk(h,s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Rt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kh(v.options.projectId,w)}(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ar($w,Yw,t),Ar($w,Yw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="type.googleapis.com/google.protobuf.Int64Value",wj="type.googleapis.com/google.protobuf.UInt64Value";function hC(e,t){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}function gm(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>gm(t));if(typeof e=="function"||typeof e=="object")return hC(e,t=>gm(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Kc(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case bj:case wj:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Kc(t)):typeof e=="function"||typeof e=="object"?hC(e,t=>Kc(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Di extends Ur{constructor(t,n,s){super(`${Sv}/${t}`,n||""),this.details=s,Object.setPrototypeOf(this,Di.prototype)}}function xj(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ym(e,t){let n=xj(e),s=n,o;try{const c=t&&t.error;if(c){const h=c.status;if(typeof h=="string"){if(!$x[h])return new Di("internal","internal");n=$x[h],s=h}const m=c.message;typeof m=="string"&&(s=m),o=c.details,o!==void 0&&(o=Kc(o))}}catch{}return n==="ok"?null:new Di(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ti(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="us-central1",Sj=/^data: (.*?)(?:\n|$)/;function Aj(e){let t=null;return{promise:new Promise((n,s)=>{t=setTimeout(()=>{s(new Di("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Cj{constructor(t,n,s,o,c=Xy,h=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new Ej(t,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(c);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Xy}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Rj(e,t,n){const s=qo(t);e.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Rm(e.emulatorOrigin),A_("Functions",!0))}function Ij(e,t,n){const s=o=>Nj(e,t,o,{});return s.stream=(o,c)=>Mj(e,t,o,c),s}async function Pj(e,t,n,s){n["Content-Type"]="application/json";let o;try{o=await s(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function dC(e,t){const n={},s=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function Nj(e,t,n,s){const o=e._url(t);return Lj(e,o,n,s)}async function Lj(e,t,n,s){n=gm(n);const o={data:n},c=await dC(e,s),h=s.timeout||7e4,m=Aj(h),y=await Promise.race([Pj(t,o,c,e.fetchImpl),m.promise,e.cancelAllRequests]);if(m.cancel(),!y)throw new Di("cancelled","Firebase Functions instance was deleted.");const v=ym(y.status,y.json);if(v)throw v;if(!y.json)throw new Di("internal","Response is not valid JSON object.");let w=y.json.data;if(typeof w>"u"&&(w=y.json.result),typeof w>"u")throw new Di("internal","Response is missing data field.");return{data:Kc(w)}}function Mj(e,t,n,s){const o=e._url(t);return Dj(e,o,n,s||{})}async function Dj(e,t,n,s){n=gm(n);const o={data:n},c=await dC(e,s);c["Content-Type"]="application/json",c.Accept="text/event-stream";let h;try{h=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:c,signal:s?.signal})}catch(E){if(E instanceof Error&&E.name==="AbortError"){const V=new Di("cancelled","Request was cancelled.");return{data:Promise.reject(V),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(V)}}}}}}const N=ym(0,null);return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}let m,y;const v=new Promise((E,N)=>{m=E,y=N});s?.signal?.addEventListener("abort",()=>{const E=new Di("cancelled","Request was cancelled.");y(E)});const w=h.body.getReader(),A=kj(w,m,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const E=A.getReader();return{async next(){const{value:N,done:V}=await E.read();return{value:N,done:V}},async return(){return await E.cancel(),{done:!0,value:void 0}}}}},data:v}}function kj(e,t,n,s){const o=(h,m)=>{const y=h.match(Sj);if(!y)return;const v=y[1];try{const w=JSON.parse(v);if("result"in w){t(Kc(w.result));return}if("message"in w){m.enqueue(Kc(w.message));return}if("error"in w){const A=ym(0,w);m.error(A),n(A);return}}catch(w){if(w instanceof Di){m.error(w),n(w);return}}},c=new TextDecoder;return new ReadableStream({start(h){let m="";return y();async function y(){if(s?.aborted){const v=new Di("cancelled","Request was cancelled");return h.error(v),n(v),Promise.resolve()}try{const{value:v,done:w}=await e.read();if(w){m.trim()&&o(m.trim(),h),h.close();return}if(s?.aborted){const E=new Di("cancelled","Request was cancelled");h.error(E),n(E),await e.cancel();return}m+=c.decode(v,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const E of A)E.trim()&&o(E.trim(),h);return y()}catch(v){const w=v instanceof Di?v:ym(0,null);h.error(w),n(w)}}},cancel(){return e.cancel()}})}const Yx="@firebase/functions",Kx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="auth-internal",Vj="app-check-internal",jj="messaging-internal";function Uj(e){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(Oj),h=n.getProvider(jj),m=n.getProvider(Vj);return new Cj(o,c,h,m,s)};Ul(new ko(Sv,t,"PUBLIC").setMultipleInstances(!0)),Ar(Yx,Kx,e),Ar(Yx,Kx,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(e=I_(),t=Xy){const s=Qh(sn(e),Sv).getImmediate({identifier:t}),o=$1("functions");return o&&zj(s,...o),s}function zj(e,t,n){Rj(sn(e),t,n)}function fa(e,t,n){return Ij(sn(e),t)}Uj();const mC={apiKey:"AIzaSyBh-nePsQ50f6ZMZ1PaLUUfhD3hExxgRsI",authDomain:"findmyhistory.firebaseapp.com",projectId:"findmyhistory",storageBucket:"findmyhistory.firebasestorage.app",messagingSenderId:"951487481110",appId:"1:951487481110:web:242bd9188bb043df177c37"},ud=J1(mC),nr=ok(ud),Bj=new da;try{aj(ud,{experimentalForceLongPolling:!0,useFetchStreams:!1})}catch{}const Mi=oj(ud),Ro=fC(ud);mC.apiKey||console.warn("Firebase API key not found in environment variables");const Zn={SETUP_FEE_PER_TAG:15,BASE_MONTHLY_PRICE:10,ANNUAL_BILLING_DISCOUNT:.05,VOLUME_TIERS:[{min:10,max:16,discountRate:0},{min:17,max:32,discountRate:.15},{min:33,max:79,discountRate:.2},{min:80,max:1/0,discountRate:.25}]},te={MONTHLY:"monthly",ANNUAL:"annual"},Xx={initial:{MIN_TAGS:10,MAX_TAGS:Number.MAX_SAFE_INTEGER},tags_only:{MIN_TAGS:10,MAX_TAGS:Number.MAX_SAFE_INTEGER}},pC=(e="initial")=>e==="tags_only"?Xx.tags_only:Xx.initial,gC=e=>{const t=Math.max(1,Number(e)||1),n=Zn.VOLUME_TIERS.find(s=>t>=s.min&&t<=s.max);return n?n.discountRate:0},yC=e=>{const t=Zn.BASE_MONTHLY_PRICE,n=gC(e);return Number((t*(1-n)).toFixed(2))},Hc=e=>e===te.ANNUAL?te.ANNUAL:te.MONTHLY,Fj=(e=te.MONTHLY)=>Hc(e)===te.ANNUAL?Zn.ANNUAL_BILLING_DISCOUNT:0,_C=(e,t=te.MONTHLY)=>{const n=yC(e),s=Fj(t);return Number((n*(1-s)).toFixed(2))},Hj="G-3J35H2ZZB8",qj=e=>{typeof gtag>"u"||!e||gtag("config",Hj,{user_id:e})},Gj=e=>{typeof window.clarity!="function"||!e||window.clarity("identify",e)},Wj=e=>{typeof window.clarity=="function"&&window.clarity("event",e)},cu=(e,t={})=>{typeof gtag<"u"?(gtag("event",e,t),console.log("GA4 Event tracked:",e,t)):console.warn("GA4 not loaded - event would be:",e,t)},Zj=()=>{cu("sign_up",{method:"google"})},$j=()=>{cu("login",{method:"google"})},tp=(e=1,t=te.MONTHLY)=>{const n=Math.max(1,Number(e)||1),s=Hc(t),o=Zn.SETUP_FEE_PER_TAG,c=_C(n,s),h=s===te.ANNUAL?Number((c*12).toFixed(2)):c,m=Number((o*n).toFixed(2)),y=Number((h*n).toFixed(2));return{normalizedCount:n,billingCycle:s,setupFeePerTag:o,subscriptionPerTag:h,subscriptionPerTagMonthly:c,setupValue:m,subscriptionValue:y}},vC=(e,t,n,s)=>[{item_id:"setup_fee",item_name:"AirTag Setup & Activation",category:"setup",quantity:e,price:t},{item_id:"monthly_subscription",item_name:"AirTag Monthly Service Subscription",category:"subscription",quantity:e,price:n,billing_cycle:s}],Yj=(e=1,t=te.MONTHLY)=>{const{normalizedCount:n,billingCycle:s,setupFeePerTag:o,subscriptionPerTag:c,setupValue:h,subscriptionValue:m}=tp(e,t);cu("begin_checkout",{currency:"USD",value:h,setup_value:h,subscription_value:m,billing_cycle:s,items:vC(n,o,c,s)})},Kj=(e=1,t,n=te.MONTHLY)=>{const{normalizedCount:s,billingCycle:o,setupFeePerTag:c,subscriptionPerTag:h,setupValue:m,subscriptionValue:y}=tp(e,n);cu("purchase",{transaction_id:t,currency:"USD",value:m,setup_value:m,subscription_value:y,billing_cycle:o,items:vC(s,c,h,o)})},Xj=(e,t)=>{cu("cta_click",{cta_location:e,cta_text:t})},Av=(e,t={})=>{if(typeof fbq<"u"){const n=`${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate event",e,t);return}fbq("track",e,t),console.log("Meta Pixel Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - event would be:",e,t)},TC=(e,t={})=>{if(typeof fbq<"u"){const n=`custom_${e}_${JSON.stringify(t)}`,s=Date.now();if(window._lastMetaPixelEvents&&window._lastMetaPixelEvents[n]&&s-window._lastMetaPixelEvents[n]<1e3){console.log("Meta Pixel: Preventing duplicate custom event",e,t);return}fbq("trackCustom",e,t),console.log("Meta Pixel Custom Event tracked:",e,t),window._lastMetaPixelEvents||(window._lastMetaPixelEvents={}),window._lastMetaPixelEvents[n]=s}else console.warn("Meta Pixel not loaded - custom event would be:",e,t)},Qx=()=>{Zj(),Av("CompleteRegistration",{content_name:"User Registration",content_category:"signup"})},Jx=()=>{$j(),TC("UserLogin",{content_name:"User Login",content_category:"authentication"})},Qj=(e=1,t=te.MONTHLY)=>{Yj(e,t);const{normalizedCount:n,billingCycle:s,setupFeePerTag:o,subscriptionPerTag:c,setupValue:h,subscriptionValue:m}=tp(e,t);Av("InitiateCheckout",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:h,currency:"USD",billing_cycle:s,num_items:n,setup_value:h,subscription_value:m,contents:[{id:"setup_fee",quantity:n,item_price:o,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:n,item_price:c,item_name:"AirTag Monthly Service Subscription"}]})},Jj=(e=1,t,n=te.MONTHLY)=>{Kj(e,t,n);const{normalizedCount:s,billingCycle:o,setupFeePerTag:c,subscriptionPerTag:h,setupValue:m,subscriptionValue:y}=tp(e,n);Av("Purchase",{content_name:"AirTag Tracking Service Bundle",content_category:"subscription",content_ids:["setup_fee","monthly_subscription"],content_type:"product",value:m,currency:"USD",billing_cycle:o,num_items:s,transaction_id:t,setup_value:m,subscription_value:y,contents:[{id:"setup_fee",quantity:s,item_price:c,item_name:"AirTag Setup & Activation"},{id:"monthly_subscription",quantity:s,item_price:h,item_name:"AirTag Monthly Service Subscription"}]})},t4=(e,t)=>{Xj(e,t),TC("CTAClick",{content_name:t,content_category:"cta",cta_location:e})},bC=D.createContext();function wC(){return D.useContext(bC)}function e4({children:e}){const[t,n]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>ed(nr,m=>{n(m),m?.uid&&(qj(m.uid),Gj(m.uid)),o(!1)}),[]);const c={user:t,loading:s};return _.jsx(bC.Provider,{value:c,children:!s&&e})}function n4({scrollYProgress:e}){const t=ks(),n=Vi(),[s,o]=D.useState(0),{user:c}=wC();D.useEffect(()=>{if(o(1),n.pathname==="/"&&e&&typeof e.on=="function")return e.on("change",y=>{if(y>=.7){const v=Math.min(1,(y-.7)/.1);o(v)}else o(0)})},[e,n.pathname]);const h=async()=>{await KM(nr),t("/")};return _.jsxs("div",{className:"global-header",style:{opacity:s},children:[_.jsx("h1",{className:"global-header-title clickable",onClick:()=>t("/"),children:"TagLogger"}),_.jsx("div",{className:"header-login-btn",children:c?_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"login-btn",onClick:()=>t("/dashboard"),children:"Dashboard"}),_.jsx("button",{className:"login-btn",onClick:h,style:{marginLeft:"0.5rem"},children:"Logout"})]}):_.jsx("button",{className:"login-btn",onClick:()=>t("/login"),children:"Login"})})]})}function xC(){const{user:e}=wC(),[t,n]=D.useState({isEntitled:!1,hasPurchaseHistory:!1,loading:!0,error:null});return D.useEffect(()=>{if(!e){n(c=>({...c,isEntitled:!1,hasPurchaseHistory:!1,loading:!1,error:null}));return}n(c=>({...c,loading:!0,error:null}));const s=Vr(Mi,"users",e.uid),o=Ll(s,c=>{try{const h=c.data(),m=h&&(h.lastPurchaseAt||h.stripeCustomerId),y=!!m;console.log(" useEntitlement: Purchase history check",{userId:e.uid,hasPurchaseHistory:m,lastPurchaseAt:h?.lastPurchaseAt,stripeCustomerId:h?.stripeCustomerId,isEntitled:y}),n({isEntitled:y,hasPurchaseHistory:!!m,loading:!1,error:null})}catch(h){console.error(" useEntitlement: User document read failed:",h),n(m=>({...m,loading:!1,error:h.message,isEntitled:!1,hasPurchaseHistory:!1}))}},c=>{console.error(" useEntitlement: User document listener error:",c),n(h=>({...h,loading:!1,error:c.message,isEntitled:!1,hasPurchaseHistory:!1}))});return()=>o()},[e]),t}function Sf({children:e,adminOnly:t=!1,requireEntitlement:n=!0}){const[s,o]=D.useState(null),[c,h]=D.useState(!0),[m,y]=D.useState(!1),[v,w]=D.useState(!1),{isEntitled:A,loading:E}=xC();return D.useEffect(()=>{try{const N=new URLSearchParams(window.location.search),V=N.get("success")==="true"||N.get("purchase")==="success";if(V){console.log(" ProtectedRoute: Activating grace period for checkout success",{hasCheckoutSuccess:V,pathname:window.location.pathname}),w(!0);const q=window.gracePeriodTimer;return q&&clearTimeout(q),window.gracePeriodTimer=setTimeout(()=>{console.log(" ProtectedRoute: Grace period expired"),w(!1),window.gracePeriodTimer=null},6e4),()=>{window.gracePeriodTimer&&(clearTimeout(window.gracePeriodTimer),window.gracePeriodTimer=null)}}}catch(N){console.error(" ProtectedRoute: Error setting up grace period",N)}},[]),D.useEffect(()=>{const N=ed(nr,async V=>{if(o(V),V)try{const q=Vr(Mi,"users",V.uid),Z=await cd(q);y(Z.exists()&&Z.data().isAdmin===!0)}catch{y(!1)}else y(!1);h(!1)});return()=>N()},[]),c?null:s?t?m?e:_.jsx(Mf,{to:"/dashboard"}):n&&!E&&!A&&!v?(console.log(" ProtectedRoute: Redirecting to purchase - no entitlement and grace period expired"),_.jsx(Mf,{to:"/purchase"})):e:_.jsx(Mf,{to:"/login"})}function i4({onScrollProgress:e}){const t=ks();D.useEffect(()=>{e&&e(null)},[e]);const n=o=>{const c=document.getElementById(o);if(!c)return;const m=c.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:Math.max(0,m),behavior:"smooth"}),window.history.pushState&&window.history.pushState(null,"",`#${o}`)},s=(o,c)=>{if(o.preventDefault(),!document.getElementById(c)){t(`/#${c}`);return}n(c)};return _.jsx("section",{id:"hero",className:"landing-root hero-static",role:"banner","aria-labelledby":"hero-title",children:_.jsxs("div",{className:"hero-static-inner",children:[_.jsxs("div",{className:"hero-static-copy",children:[_.jsx("p",{className:"hero-kicker",children:"Built For Operations Teams"}),_.jsx("h1",{id:"hero-title",className:"hero-static-title",children:"Operational visibility for tools, vehicles, and field equipment"}),_.jsx("p",{className:"hero-static-subtitle",children:"TagLogger gives your team location history, geofence alerts, and inventory workflows in one web platform, without heavy GPS hardware overhead."}),_.jsxs("div",{className:"hero-cta-row",children:[_.jsx("a",{href:"#get-in-touch",className:"hero-cta hero-cta-primary",onClick:o=>s(o,"get-in-touch"),children:"Book Demo"}),_.jsx("a",{href:"#pricing",className:"hero-cta hero-cta-secondary",onClick:o=>s(o,"pricing"),children:"See Pricing"})]}),_.jsxs("ul",{className:"hero-proof-strip","aria-label":"Core platform benefits",children:[_.jsx("li",{children:"Pre-configured tags shipped ready"}),_.jsx("li",{children:"Web app on mobile + desktop"}),_.jsx("li",{children:"Multi-site visibility in one place"})]}),_.jsx("p",{className:"hero-legal-note",children:"An independent service, not affiliated with Apple Inc."})]}),_.jsxs("aside",{className:"hero-business-panel","aria-label":"Platform snapshot",children:[_.jsx("h2",{className:"hero-business-panel-title",children:"Why teams switch from GPS trackers"}),_.jsxs("div",{className:"hero-business-metric-grid",children:[_.jsxs("div",{className:"hero-business-metric",children:[_.jsx("span",{className:"hero-business-metric-value",children:"Unlimited"}),_.jsx("span",{className:"hero-business-metric-label",children:"History retention"})]}),_.jsxs("div",{className:"hero-business-metric",children:[_.jsx("span",{className:"hero-business-metric-value",children:"1 yr"}),_.jsx("span",{className:"hero-business-metric-label",children:"Battery life"})]}),_.jsxs("div",{className:"hero-business-metric",children:[_.jsx("span",{className:"hero-business-metric-value",children:"2B+"}),_.jsx("span",{className:"hero-business-metric-label",children:"Find My devices"})]}),_.jsxs("div",{className:"hero-business-metric",children:[_.jsx("span",{className:"hero-business-metric-value",children:"24/7"}),_.jsx("span",{className:"hero-business-metric-label",children:"Web access"})]})]}),_.jsxs("ul",{className:"hero-business-bullets",children:[_.jsx("li",{children:"Location history with timeline playback"}),_.jsx("li",{children:"Geofence entry and exit notifications"}),_.jsx("li",{children:"Inventory check-in and check-out workflows"})]})]})]})})}const tE=[{feature:"Size",taglogger:"3131 mm",apple:"",gps:"4060mm+, bulky"},{feature:"Tech",taglogger:"AirTag",apple:"",gps:"GPS, SIM"},{feature:"Device Support",taglogger:"Android, iOS, Web",apple:"Apple only",gps:"Often agnostic"},{feature:"Battery Life",taglogger:"~1 yr",apple:"",gps:"Daysweeks"},{feature:"Cost",taglogger:"Low",apple:"",gps:"High"},{feature:"History/Export",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Alerts/Geofencing",taglogger:"Yes",apple:"Limited",gps:"Extra fees"},{feature:"Inventory Mgmt",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Scalability",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Max Tags",taglogger:"Unlimited",apple:"32 items",gps:"Many"}];function eE(e){return e.apple||"Same as TagLogger"}function s4(){return _.jsx("section",{id:"feature-comparison",className:"feature-comparison-section",role:"region","aria-labelledby":"feature-comparison-title",children:_.jsxs("div",{className:"feature-comparison-content",children:[_.jsx("h2",{id:"feature-comparison-title",className:"feature-comparison-title",children:"How We Compare"}),_.jsx("p",{className:"feature-comparison-description",children:"See how our solution compares to other tracking options on the market. Those who have tried AirTags know nothing else is quite like it."}),_.jsx("div",{className:"feature-comparison-card feature-comparison-desktop",children:_.jsx("div",{className:"feature-comparison-table-wrap",children:_.jsxs("table",{className:"feature-comparison-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{className:"feature-comparison-th feature-comparison-th--feature",children:"Feature"}),_.jsx("th",{className:"feature-comparison-th feature-comparison-th--us",children:"TagLogger"}),_.jsx("th",{className:"feature-comparison-th",children:"Apple Find My"}),_.jsx("th",{className:"feature-comparison-th",children:"GPS Trackers"})]})}),_.jsx("tbody",{children:tE.map((e,t)=>_.jsxs("tr",{className:"feature-comparison-tr",children:[_.jsx("td",{className:"feature-comparison-td feature-comparison-td--feature",children:e.feature}),_.jsx("td",{className:"feature-comparison-td feature-comparison-td--us",children:e.taglogger}),_.jsx("td",{className:"feature-comparison-td",children:eE(e)}),_.jsx("td",{className:"feature-comparison-td",children:e.gps})]},t))})]})})}),_.jsx("div",{className:"feature-comparison-mobile-list",role:"list","aria-label":"Comparison by feature",children:tE.map(e=>_.jsxs("article",{className:"feature-comparison-mobile-item",role:"listitem",children:[_.jsx("h3",{className:"feature-comparison-mobile-title",children:e.feature}),_.jsxs("dl",{className:"feature-comparison-mobile-grid",children:[_.jsx("dt",{className:"feature-comparison-mobile-label",children:"TagLogger"}),_.jsx("dd",{className:"feature-comparison-mobile-value feature-comparison-mobile-value--us",children:e.taglogger}),_.jsx("dt",{className:"feature-comparison-mobile-label",children:"Apple Find My"}),_.jsx("dd",{className:"feature-comparison-mobile-value",children:eE(e)}),_.jsx("dt",{className:"feature-comparison-mobile-label",children:"GPS Trackers"}),_.jsx("dd",{className:"feature-comparison-mobile-value",children:e.gps})]})]},e.feature))})]})})}const EC=D.createContext({});function Cv(e){const t=D.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rv=typeof window<"u",SC=Rv?D.useLayoutEffect:D.useEffect,Iv=D.createContext(null);function Pv(e,t){e.indexOf(t)===-1&&e.push(t)}function Nv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ea=(e,t,n)=>n>t?t:n<e?e:n;let Lv=()=>{};const Sa={},AC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function CC(e){return typeof e=="object"&&e!==null}const RC=e=>/^0[^.\s]+$/u.test(e);function Mv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ls=e=>e,r4=(e,t)=>n=>t(e(n)),hd=(...e)=>e.reduce(r4),Bh=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Dv{constructor(){this.subscriptions=[]}add(t){return Pv(this.subscriptions,t),()=>Nv(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let c=0;c<o;c++){const h=this.subscriptions[c];h&&h(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mr=e=>e*1e3,Dr=e=>e/1e3;function IC(e,t){return t?e*(1e3/t):0}const PC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,a4=1e-7,o4=12;function l4(e,t,n,s,o){let c,h,m=0;do h=t+(n-t)/2,c=PC(h,s,o)-e,c>0?n=h:t=h;while(Math.abs(c)>a4&&++m<o4);return h}function dd(e,t,n,s){if(e===t&&n===s)return Ls;const o=c=>l4(c,0,1,e,n);return c=>c===0||c===1?c:PC(o(c),t,s)}const NC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,LC=e=>t=>1-e(1-t),MC=dd(.33,1.53,.69,.99),kv=LC(MC),DC=NC(kv),kC=e=>(e*=2)<1?.5*kv(e):.5*(2-Math.pow(2,-10*(e-1))),Ov=e=>1-Math.sin(Math.acos(e)),OC=LC(Ov),VC=NC(Ov),c4=dd(.42,0,1,1),u4=dd(0,0,.58,1),jC=dd(.42,0,.58,1),h4=e=>Array.isArray(e)&&typeof e[0]!="number",UC=e=>Array.isArray(e)&&typeof e[0]=="number",d4={linear:Ls,easeIn:c4,easeInOut:jC,easeOut:u4,circIn:Ov,circInOut:VC,circOut:OC,backIn:kv,backInOut:DC,backOut:MC,anticipate:kC},f4=e=>typeof e=="string",nE=e=>{if(UC(e)){Lv(e.length===4);const[t,n,s,o]=e;return dd(t,n,s,o)}else if(f4(e))return d4[e];return e},Af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function m4(e,t){let n=new Set,s=new Set,o=!1,c=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(w){h.has(w)&&(v.schedule(w),e()),w(m)}const v={schedule:(w,A=!1,E=!1)=>{const V=E&&o?n:s;return A&&h.add(w),V.has(w)||V.add(w),w},cancel:w=>{s.delete(w),h.delete(w)},process:w=>{if(m=w,o){c=!0;return}o=!0,[n,s]=[s,n],n.forEach(y),n.clear(),o=!1,c&&(c=!1,v.process(w))}};return v}const p4=40;function zC(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,h=Af.reduce((J,dt)=>(J[dt]=m4(c),J),{}),{setup:m,read:y,resolveKeyframes:v,preUpdate:w,update:A,preRender:E,render:N,postRender:V}=h,q=()=>{const J=Sa.useManualTiming?o.timestamp:performance.now();n=!1,Sa.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(J-o.timestamp,p4),1)),o.timestamp=J,o.isProcessing=!0,m.process(o),y.process(o),v.process(o),w.process(o),A.process(o),E.process(o),N.process(o),V.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(q))},Z=()=>{n=!0,s=!0,o.isProcessing||e(q)};return{schedule:Af.reduce((J,dt)=>{const tt=h[dt];return J[dt]=(wt,z=!1,k=!1)=>(n||Z(),tt.schedule(wt,z,k)),J},{}),cancel:J=>{for(let dt=0;dt<Af.length;dt++)h[Af[dt]].cancel(J)},state:o,steps:h}}const{schedule:ze,cancel:Aa,state:Wn,steps:iy}=zC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ls,!0);let Wf;function g4(){Wf=void 0}const ki={now:()=>(Wf===void 0&&ki.set(Wn.isProcessing||Sa.useManualTiming?Wn.timestamp:performance.now()),Wf),set:e=>{Wf=e,queueMicrotask(g4)}},BC=e=>t=>typeof t=="string"&&t.startsWith(e),Vv=BC("--"),y4=BC("var(--"),jv=e=>y4(e)?_4.test(e.split("/*")[0].trim()):!1,_4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fh={...uu,transform:e=>Ea(0,1,e)},Cf={...uu,default:1},wh=e=>Math.round(e*1e5)/1e5,Uv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v4(e){return e==null}const T4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zv=(e,t)=>n=>!!(typeof n=="string"&&T4.test(n)&&n.startsWith(e)||t&&!v4(n)&&Object.prototype.hasOwnProperty.call(n,t)),FC=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,c,h,m]=s.match(Uv);return{[e]:parseFloat(o),[t]:parseFloat(c),[n]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},b4=e=>Ea(0,255,e),sy={...uu,transform:e=>Math.round(b4(e))},Ml={test:zv("rgb","red"),parse:FC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+sy.transform(e)+", "+sy.transform(t)+", "+sy.transform(n)+", "+wh(Fh.transform(s))+")"};function w4(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Qy={test:zv("#"),parse:w4,transform:Ml.transform},fd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Eo=fd("deg"),kr=fd("%"),Wt=fd("px"),x4=fd("vh"),E4=fd("vw"),iE={...kr,parse:e=>kr.parse(e)/100,transform:e=>kr.transform(e*100)},Dc={test:zv("hsl","hue"),parse:FC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+kr.transform(wh(t))+", "+kr.transform(wh(n))+", "+wh(Fh.transform(s))+")"},bn={test:e=>Ml.test(e)||Qy.test(e)||Dc.test(e),parse:e=>Ml.test(e)?Ml.parse(e):Dc.test(e)?Dc.parse(e):Qy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ml.transform(e):Dc.transform(e),getAnimatableNone:e=>{const t=bn.parse(e);return t.alpha=0,bn.transform(t)}},S4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Uv)?.length||0)+(e.match(S4)?.length||0)>0}const HC="number",qC="color",C4="var",R4="var(",sE="${}",I4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let c=0;const m=t.replace(I4,y=>(bn.test(y)?(s.color.push(c),o.push(qC),n.push(bn.parse(y))):y.startsWith(R4)?(s.var.push(c),o.push(C4),n.push(y)):(s.number.push(c),o.push(HC),n.push(parseFloat(y))),++c,sE)).split(sE);return{values:n,split:m,indexes:s,types:o}}function GC(e){return Hh(e).values}function WC(e){const{split:t,types:n}=Hh(e),s=t.length;return o=>{let c="";for(let h=0;h<s;h++)if(c+=t[h],o[h]!==void 0){const m=n[h];m===HC?c+=wh(o[h]):m===qC?c+=bn.transform(o[h]):c+=o[h]}return c}}const P4=e=>typeof e=="number"?0:bn.test(e)?bn.getAnimatableNone(e):e;function N4(e){const t=GC(e);return WC(e)(t.map(P4))}const Ho={test:A4,parse:GC,createTransformer:WC,getAnimatableNone:N4};function ry(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function L4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,c=0,h=0;if(!t)o=c=h=n;else{const m=n<.5?n*(1+t):n+t-n*t,y=2*n-m;o=ry(y,m,e+1/3),c=ry(y,m,e),h=ry(y,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(h*255),alpha:s}}function _m(e,t){return n=>n>0?t:e}const Ke=(e,t,n)=>e+(t-e)*n,ay=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},M4=[Qy,Ml,Dc],D4=e=>M4.find(t=>t.test(e));function rE(e){const t=D4(e);if(!t)return!1;let n=t.parse(e);return t===Dc&&(n=L4(n)),n}const aE=(e,t)=>{const n=rE(e),s=rE(t);if(!n||!s)return _m(e,t);const o={...n};return c=>(o.red=ay(n.red,s.red,c),o.green=ay(n.green,s.green,c),o.blue=ay(n.blue,s.blue,c),o.alpha=Ke(n.alpha,s.alpha,c),Ml.transform(o))},Jy=new Set(["none","hidden"]);function k4(e,t){return Jy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function O4(e,t){return n=>Ke(e,t,n)}function Bv(e){return typeof e=="number"?O4:typeof e=="string"?jv(e)?_m:bn.test(e)?aE:U4:Array.isArray(e)?ZC:typeof e=="object"?bn.test(e)?aE:V4:_m}function ZC(e,t){const n=[...e],s=n.length,o=e.map((c,h)=>Bv(c)(c,t[h]));return c=>{for(let h=0;h<s;h++)n[h]=o[h](c);return n}}function V4(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Bv(e[o])(e[o],t[o]));return o=>{for(const c in s)n[c]=s[c](o);return n}}function j4(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],h=e.indexes[c][s[c]],m=e.values[h]??0;n[o]=m,s[c]++}return n}const U4=(e,t)=>{const n=Ho.createTransformer(t),s=Hh(e),o=Hh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Jy.has(e)&&!o.values.length||Jy.has(t)&&!s.values.length?k4(e,t):hd(ZC(j4(s,o),o.values),n):_m(e,t)};function $C(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ke(e,t,n):Bv(e)(e,t)}const z4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ze.update(t,n),stop:()=>Aa(t),now:()=>Wn.isProcessing?Wn.timestamp:ki.now()}},YC=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let c=0;c<o;c++)s+=Math.round(e(c/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vm=2e4;function Fv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<vm;)t+=n,s=e.next(t);return t>=vm?1/0:t}function B4(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Fv(s),vm);return{type:"keyframes",ease:c=>s.next(o*c).value/t,duration:Dr(o)}}const F4=5;function KC(e,t,n){const s=Math.max(t-F4,0);return IC(n-e(s),t-s)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oy=.001;function H4({duration:e=en.duration,bounce:t=en.bounce,velocity:n=en.velocity,mass:s=en.mass}){let o,c,h=1-t;h=Ea(en.minDamping,en.maxDamping,h),e=Ea(en.minDuration,en.maxDuration,Dr(e)),h<1?(o=v=>{const w=v*h,A=w*e,E=w-n,N=t_(v,h),V=Math.exp(-A);return oy-E/N*V},c=v=>{const A=v*h*e,E=A*n+n,N=Math.pow(h,2)*Math.pow(v,2)*e,V=Math.exp(-A),q=t_(Math.pow(v,2),h);return(-o(v)+oy>0?-1:1)*((E-N)*V)/q}):(o=v=>{const w=Math.exp(-v*e),A=(v-n)*e+1;return-oy+w*A},c=v=>{const w=Math.exp(-v*e),A=(n-v)*(e*e);return w*A});const m=5/e,y=G4(o,c,m);if(e=Mr(e),isNaN(y))return{stiffness:en.stiffness,damping:en.damping,duration:e};{const v=Math.pow(y,2)*s;return{stiffness:v,damping:h*2*Math.sqrt(s*v),duration:e}}}const q4=12;function G4(e,t,n){let s=n;for(let o=1;o<q4;o++)s=s-e(s)/t(s);return s}function t_(e,t){return e*Math.sqrt(1-t*t)}const W4=["duration","bounce"],Z4=["stiffness","damping","mass"];function oE(e,t){return t.some(n=>e[n]!==void 0)}function $4(e){let t={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...e};if(!oE(e,Z4)&&oE(e,W4))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,c=2*Ea(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:en.mass,stiffness:o,damping:c}}else{const n=H4(e);t={...t,...n,mass:en.mass},t.isResolvedFromDuration=!0}return t}function Tm(e=en.visualDuration,t=en.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const c=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],m={done:!1,value:c},{stiffness:y,damping:v,mass:w,duration:A,velocity:E,isResolvedFromDuration:N}=$4({...n,velocity:-Dr(n.velocity||0)}),V=E||0,q=v/(2*Math.sqrt(y*w)),Z=h-c,$=Dr(Math.sqrt(y/w)),ct=Math.abs(Z)<5;s||(s=ct?en.restSpeed.granular:en.restSpeed.default),o||(o=ct?en.restDelta.granular:en.restDelta.default);let J;if(q<1){const tt=t_($,q);J=wt=>{const z=Math.exp(-q*$*wt);return h-z*((V+q*$*Z)/tt*Math.sin(tt*wt)+Z*Math.cos(tt*wt))}}else if(q===1)J=tt=>h-Math.exp(-$*tt)*(Z+(V+$*Z)*tt);else{const tt=$*Math.sqrt(q*q-1);J=wt=>{const z=Math.exp(-q*$*wt),k=Math.min(tt*wt,300);return h-z*((V+q*$*Z)*Math.sinh(k)+tt*Z*Math.cosh(k))/tt}}const dt={calculatedDuration:N&&A||null,next:tt=>{const wt=J(tt);if(N)m.done=tt>=A;else{let z=tt===0?V:0;q<1&&(z=tt===0?Mr(V):KC(J,tt,wt));const k=Math.abs(z)<=s,j=Math.abs(h-wt)<=o;m.done=k&&j}return m.value=m.done?h:wt,m},toString:()=>{const tt=Math.min(Fv(dt),vm),wt=YC(z=>dt.next(tt*z).value,tt,30);return tt+"ms "+wt},toTransition:()=>{}};return dt}Tm.applyToOptions=e=>{const t=B4(e,100,Tm);return e.ease=t.ease,e.duration=Mr(t.duration),e.type="keyframes",e};function e_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:h,min:m,max:y,restDelta:v=.5,restSpeed:w}){const A=e[0],E={done:!1,value:A},N=k=>m!==void 0&&k<m||y!==void 0&&k>y,V=k=>m===void 0?y:y===void 0||Math.abs(m-k)<Math.abs(y-k)?m:y;let q=n*t;const Z=A+q,$=h===void 0?Z:h(Z);$!==Z&&(q=$-A);const ct=k=>-q*Math.exp(-k/s),J=k=>$+ct(k),dt=k=>{const j=ct(k),G=J(k);E.done=Math.abs(j)<=v,E.value=E.done?$:G};let tt,wt;const z=k=>{N(E.value)&&(tt=k,wt=Tm({keyframes:[E.value,V(E.value)],velocity:KC(J,k,E.value),damping:o,stiffness:c,restDelta:v,restSpeed:w}))};return z(0),{calculatedDuration:null,next:k=>{let j=!1;return!wt&&tt===void 0&&(j=!0,dt(k),z(k)),tt!==void 0&&k>=tt?wt.next(k-tt):(!j&&dt(k),E)}}}function Y4(e,t,n){const s=[],o=n||Sa.mix||$C,c=e.length-1;for(let h=0;h<c;h++){let m=o(e[h],e[h+1]);if(t){const y=Array.isArray(t)?t[h]||Ls:t;m=hd(y,m)}s.push(m)}return s}function XC(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const c=e.length;if(Lv(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const h=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=Y4(t,s,o),y=m.length,v=w=>{if(h&&w<e[0])return t[0];let A=0;if(y>1)for(;A<e.length-2&&!(w<e[A+1]);A++);const E=Bh(e[A],e[A+1],w);return m[A](E)};return n?w=>v(Ea(e[0],e[c-1],w)):v}function K4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Bh(0,t,s);e.push(Ke(n,1,o))}}function X4(e){const t=[0];return K4(t,e.length-1),t}function Q4(e,t){return e.map(n=>n*t)}function J4(e,t){return e.map(()=>t||jC).splice(0,e.length-1)}function xh({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=h4(s)?s.map(nE):nE(s),c={done:!1,value:t[0]},h=Q4(n&&n.length===t.length?n:X4(t),e),m=XC(h,t,{ease:Array.isArray(o)?o:J4(t,o)});return{calculatedDuration:e,next:y=>(c.value=m(y),c.done=y>=e,c)}}const t6=e=>e!==null;function Hv(e,{repeat:t,repeatType:n="loop"},s,o=1){const c=e.filter(t6),m=o<0||t&&n!=="loop"&&t%2===1?0:c.length-1;return!m||s===void 0?c[m]:s}const e6={decay:e_,inertia:e_,tween:xh,keyframes:xh,spring:Tm};function QC(e){typeof e.type=="string"&&(e.type=e6[e.type])}class qv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const n6=e=>e/100;class ep extends qv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ki.now()&&this.tick(ki.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;QC(t);const{type:n=xh,repeat:s=0,repeatDelay:o=0,repeatType:c,velocity:h=0}=t;let{keyframes:m}=t;const y=n||xh;y!==xh&&typeof m[0]!="number"&&(this.mixKeyframes=hd(n6,$C(m[0],m[1])),m=[0,100]);const v=y({...t,keyframes:m});c==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=Fv(v));const{calculatedDuration:w}=v;this.calculatedDuration=w,this.resolvedDuration=w+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=v}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:c,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:v=0,keyframes:w,repeat:A,repeatType:E,repeatDelay:N,type:V,onUpdate:q,finalKeyframe:Z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const $=this.currentTime-v*(this.playbackSpeed>=0?1:-1),ct=this.playbackSpeed>=0?$<0:$>o;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let J=this.currentTime,dt=s;if(A){const k=Math.min(this.currentTime,o)/m;let j=Math.floor(k),G=k%1;!G&&k>=1&&(G=1),G===1&&j--,j=Math.min(j,A+1),!!(j%2)&&(E==="reverse"?(G=1-G,N&&(G-=N/m)):E==="mirror"&&(dt=h)),J=Ea(0,1,G)*m}const tt=ct?{done:!1,value:w[0]}:dt.next(J);c&&(tt.value=c(tt.value));let{done:wt}=tt;!ct&&y!==null&&(wt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&wt);return z&&V!==e_&&(tt.value=Hv(w,this.options,Z,this.speed)),q&&q(tt.value),z&&this.finish(),tt}then(t,n){return this.finished.then(t,n)}get duration(){return Dr(this.calculatedDuration)}get time(){return Dr(this.currentTime)}set time(t){t=Mr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ki.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Dr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=z4,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ki.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function i6(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Dl=e=>e*180/Math.PI,n_=e=>{const t=Dl(Math.atan2(e[1],e[0]));return i_(t)},s6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:n_,rotateZ:n_,skewX:e=>Dl(Math.atan(e[1])),skewY:e=>Dl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},i_=e=>(e=e%360,e<0&&(e+=360),e),lE=n_,cE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),uE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),r6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cE,scaleY:uE,scale:e=>(cE(e)+uE(e))/2,rotateX:e=>i_(Dl(Math.atan2(e[6],e[5]))),rotateY:e=>i_(Dl(Math.atan2(-e[2],e[0]))),rotateZ:lE,rotate:lE,skewX:e=>Dl(Math.atan(e[4])),skewY:e=>Dl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function s_(e){return e.includes("scale")?1:0}function r_(e,t){if(!e||e==="none")return s_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=r6,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=s6,o=m}if(!o)return s_(t);const c=s[t],h=o[1].split(",").map(o6);return typeof c=="function"?c(h):h[c]}const a6=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return r_(n,t)};function o6(e){return parseFloat(e.trim())}const hu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],du=new Set(hu),hE=e=>e===uu||e===Wt,l6=new Set(["x","y","z"]),c6=hu.filter(e=>!l6.has(e));function u6(e){const t=[];return c6.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Vl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>r_(t,"x"),y:(e,{transform:t})=>r_(t,"y")};Vl.translateX=Vl.x;Vl.translateY=Vl.y;const jl=new Set;let a_=!1,o_=!1,l_=!1;function JC(){if(o_){const e=Array.from(jl).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=u6(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([c,h])=>{s.getValue(c)?.set(h)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}o_=!1,a_=!1,jl.forEach(e=>e.complete(l_)),jl.clear()}function tR(){jl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(o_=!0)})}function h6(){l_=!0,tR(),JC(),l_=!1}class Gv{constructor(t,n,s,o,c,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=c,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(jl.add(this),a_||(a_=!0,ze.read(tR),ze.resolveKeyframes(JC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const c=o?.get(),h=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&n){const m=s.readValue(n,h);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=h),o&&c===void 0&&o.set(t[0])}i6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jl.delete(this)}cancel(){this.state==="scheduled"&&(jl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const d6=e=>e.startsWith("--");function f6(e,t,n){d6(t)?e.style.setProperty(t,n):e.style[t]=n}const m6=Mv(()=>window.ScrollTimeline!==void 0),p6={};function g6(e,t){const n=Mv(e);return()=>p6[t]??n()}const eR=g6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fh=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,dE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fh([0,.65,.55,1]),circOut:fh([.55,0,1,.45]),backIn:fh([.31,.01,.66,-.59]),backOut:fh([.33,1.53,.69,.99])};function nR(e,t){if(e)return typeof e=="function"?eR()?YC(e,t):"ease-out":UC(e)?fh(e):Array.isArray(e)?e.map(n=>nR(n,t)||dE.easeOut):dE[e]}function y6(e,t,n,{delay:s=0,duration:o=300,repeat:c=0,repeatType:h="loop",ease:m="easeOut",times:y}={},v=void 0){const w={[t]:n};y&&(w.offset=y);const A=nR(m,o);Array.isArray(A)&&(w.easing=A);const E={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:c+1,direction:h==="reverse"?"alternate":"normal"};return v&&(E.pseudoElement=v),e.animate(w,E)}function iR(e){return typeof e=="function"&&"applyToOptions"in e}function _6({type:e,...t}){return iR(e)&&eR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class v6 extends qv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:c,allowFlatten:h=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!c,this.allowFlatten=h,this.options=t,Lv(typeof t.type!="string");const v=_6(t);this.animation=y6(n,s,o,v,c),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const w=Hv(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(w):f6(n,s,w),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Dr(Number(t))}get time(){return Dr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Mr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&m6()?(this.animation.timeline=t,Ls):n(this)}}const sR={anticipate:kC,backInOut:DC,circInOut:VC};function T6(e){return e in sR}function b6(e){typeof e.ease=="string"&&T6(e.ease)&&(e.ease=sR[e.ease])}const fE=10;class w6 extends v6{constructor(t){b6(t),QC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:c,...h}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new ep({...h,autoplay:!1}),y=Mr(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-fE).value,m.sample(y).value,fE),m.stop()}}const mE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ho.test(e)||e==="0")&&!e.startsWith("url("));function x6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function E6(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],h=mE(o,t),m=mE(c,t);return!h||!m?!1:x6(e)||(n==="spring"||iR(n))&&s}const S6=new Set(["opacity","clipPath","filter","transform"]),A6=Mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C6(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:c,type:h}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:v}=t.owner.getProps();return A6()&&n&&S6.has(n)&&(n!=="transform"||!v)&&!y&&!s&&o!=="mirror"&&c!==0&&h!=="inertia"}const R6=40;class I6 extends qv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:h="loop",keyframes:m,name:y,motionValue:v,element:w,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ki.now();const E={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:c,repeatType:h,name:y,motionValue:v,element:w,...A},N=w?.KeyframeResolver||Gv;this.keyframeResolver=new N(m,(V,q,Z)=>this.onKeyframesResolved(V,q,E,!Z),y,v,w),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:c,type:h,velocity:m,delay:y,isHandoff:v,onUpdate:w}=s;this.resolvedAt=ki.now(),E6(t,c,h,m)||((Sa.instantAnimations||!y)&&w?.(Hv(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>R6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},N=!v&&C6(E)?new w6({...E,element:E.motionValue.owner.current}):new ep(E);N.finished.then(()=>this.notifyFinished()).catch(Ls),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),h6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const P6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N6(e){const t=P6.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function rR(e,t,n=1){const[s,o]=N6(e);if(!s)return;const c=window.getComputedStyle(t).getPropertyValue(s);if(c){const h=c.trim();return AC(h)?parseFloat(h):h}return jv(o)?rR(o,t,n+1):o}function Wv(e,t){return e?.[t]??e?.default??e}const aR=new Set(["width","height","top","left","right","bottom",...hu]),L6={test:e=>e==="auto",parse:e=>e},oR=e=>t=>t.test(e),lR=[uu,Wt,kr,Eo,E4,x4,L6],pE=e=>lR.find(oR(e));function M6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||RC(e):!0}const D6=new Set(["brightness","contrast","saturate","opacity"]);function k6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Uv)||[];if(!s)return e;const o=n.replace(s,"");let c=D6.has(t)?1:0;return s!==n&&(c*=100),t+"("+c+o+")"}const O6=/\b([a-z-]*)\(.*?\)/gu,c_={...Ho,getAnimatableNone:e=>{const t=e.match(O6);return t?t.map(k6).join(" "):e}},gE={...uu,transform:Math.round},V6={rotate:Eo,rotateX:Eo,rotateY:Eo,rotateZ:Eo,scale:Cf,scaleX:Cf,scaleY:Cf,scaleZ:Cf,skew:Eo,skewX:Eo,skewY:Eo,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Fh,originX:iE,originY:iE,originZ:Wt},Zv={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt,...V6,zIndex:gE,fillOpacity:Fh,strokeOpacity:Fh,numOctaves:gE},j6={...Zv,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:c_,WebkitFilter:c_},cR=e=>j6[e];function uR(e,t){let n=cR(e);return n!==c_&&(n=Ho),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const U6=new Set(["auto","none","0"]);function z6(e,t,n){let s=0,o;for(;s<e.length&&!o;){const c=e[s];typeof c=="string"&&!U6.has(c)&&Hh(c).values.length&&(o=e[s]),s++}if(o&&n)for(const c of t)e[c]=uR(n,o)}class B6 extends Gv{constructor(t,n,s,o,c){super(t,n,s,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),jv(v))){const w=rR(v,n.current);w!==void 0&&(t[y]=w),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!aR.has(s)||t.length!==2)return;const[o,c]=t,h=pE(o),m=pE(c);if(h!==m)if(hE(h)&&hE(m))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Vl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||M6(t[o]))&&s.push(o);s.length&&z6(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=s.length-1,h=s[c];s[c]=Vl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function F6(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=n?.[e]??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const hR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function H6(e){return CC(e)&&"offsetHeight"in e}const yE=30,q6=e=>!isNaN(parseFloat(e)),Eh={current:void 0};class G6{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const c=ki.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ki.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=q6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dv);const s=this.events[t].add(n);return t==="change"?()=>{s(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Eh.current&&Eh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ki.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yE);return IC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hl(e,t){return new G6(e,t)}const{schedule:$v}=zC(queueMicrotask,!1),tr={x:!1,y:!1};function dR(){return tr.x||tr.y}function W6(e){return e==="x"||e==="y"?tr[e]?null:(tr[e]=!0,()=>{tr[e]=!1}):tr.x||tr.y?null:(tr.x=tr.y=!0,()=>{tr.x=tr.y=!1})}function fR(e,t){const n=F6(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function _E(e){return!(e.pointerType==="touch"||dR())}function Z6(e,t,n={}){const[s,o,c]=fR(e,n),h=m=>{if(!_E(m))return;const{target:y}=m,v=t(y,m);if(typeof v!="function"||!y)return;const w=A=>{_E(A)&&(v(A),y.removeEventListener("pointerleave",w))};y.addEventListener("pointerleave",w,o)};return s.forEach(m=>{m.addEventListener("pointerenter",h,o)}),c}const mR=(e,t)=>t?e===t?!0:mR(e,t.parentElement):!1,Yv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Y6(e){return $6.has(e.tagName)||e.tabIndex!==-1}const Zf=new WeakSet;function vE(e){return t=>{t.key==="Enter"&&e(t)}}function ly(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const K6=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=vE(()=>{if(Zf.has(n))return;ly(n,"down");const o=vE(()=>{ly(n,"up")}),c=()=>ly(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",c,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function TE(e){return Yv(e)&&!dR()}function X6(e,t,n={}){const[s,o,c]=fR(e,n),h=m=>{const y=m.currentTarget;if(!TE(m))return;Zf.add(y);const v=t(y,m),w=(N,V)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",E),Zf.has(y)&&Zf.delete(y),TE(N)&&typeof v=="function"&&v(N,{success:V})},A=N=>{w(N,y===window||y===document||n.useGlobalTarget||mR(y,N.target))},E=N=>{w(N,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",E,o)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",h,o),H6(m)&&(m.addEventListener("focus",v=>K6(v,o)),!Y6(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function pR(e){return CC(e)&&"ownerSVGElement"in e}function Q6(e){return pR(e)&&e.tagName==="svg"}function J6(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],c=e[2+n],h=e[3+n],m=XC(o,c,h);return t?m(s):m}const Un=e=>!!(e&&e.getVelocity);function t3(e,t,n){const s=e.get();let o=null,c=s,h;const m=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,y=()=>{o&&(o.stop(),o=null)},v=()=>{y(),o=new ep({keyframes:[wE(e.get()),wE(c)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:h})};e.attach((A,E)=>(c=A,h=N=>E(bE(N,m)),ze.postRender(v),e.get()),y);let w;return Un(t)&&(w=t.on("change",A=>e.set(bE(A,m))),e.on("destroy",w)),w}function bE(e,t){return t?e+t:e}function wE(e){return typeof e=="number"?e:parseFloat(e)}const e3=[...lR,bn,Ho],n3=e=>e3.find(oR(e)),np=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function i3(e=!0){const t=D.useContext(Iv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,c=D.useId();D.useEffect(()=>{if(e)return o(c)},[e]);const h=D.useCallback(()=>e&&s&&s(c),[c,s,e]);return!n&&s?[!1,h]:[!0]}const gR=D.createContext({strict:!1}),xE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xc={};for(const e in xE)Xc[e]={isEnabled:t=>xE[e].some(n=>!!t[n])};function s3(e){for(const t in e)Xc[t]={...Xc[t],...e[t]}}const r3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||r3.has(e)}let yR=e=>!bm(e);function a3(e){typeof e=="function"&&(yR=t=>t.startsWith("on")?!bm(t):e(t))}try{a3(require("@emotion/is-prop-valid").default)}catch{}function o3(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(yR(o)||n===!0&&bm(o)||!t&&!bm(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const ip=D.createContext({});function sp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qh(e){return typeof e=="string"||Array.isArray(e)}const Kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xv=["initial",...Kv];function rp(e){return sp(e.animate)||Xv.some(t=>qh(e[t]))}function _R(e){return!!(rp(e)||e.variants)}function l3(e,t){if(rp(e)){const{initial:n,animate:s}=e;return{initial:n===!1||qh(n)?n:void 0,animate:qh(s)?s:void 0}}return e.inherit!==!1?t:{}}function c3(e){const{initial:t,animate:n}=l3(e,D.useContext(ip));return D.useMemo(()=>({initial:t,animate:n}),[EE(t),EE(n)])}function EE(e){return Array.isArray(e)?e.join(" "):e}const Gh={};function u3(e){for(const t in e)Gh[t]=e[t],Vv(t)&&(Gh[t].isCSSVariable=!0)}function vR(e,{layout:t,layoutId:n}){return du.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gh[e]||e==="opacity")}const h3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d3=hu.length;function f3(e,t,n){let s="",o=!0;for(let c=0;c<d3;c++){const h=hu[c],m=e[h];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(h.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const v=hR(m,Zv[h]);if(!y){o=!1;const w=h3[h]||h;s+=`${w}(${v}) `}n&&(t[h]=v)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Qv(e,t,n){const{style:s,vars:o,transformOrigin:c}=e;let h=!1,m=!1;for(const y in t){const v=t[y];if(du.has(y)){h=!0;continue}else if(Vv(y)){o[y]=v;continue}else{const w=hR(v,Zv[y]);y.startsWith("origin")?(m=!0,c[y]=w):s[y]=w}}if(t.transform||(h||n?s.transform=f3(t,e.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:v="50%",originZ:w=0}=c;s.transformOrigin=`${y} ${v} ${w}`}}const Jv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TR(e,t,n){for(const s in t)!Un(t[s])&&!vR(s,n)&&(e[s]=t[s])}function m3({transformTemplate:e},t){return D.useMemo(()=>{const n=Jv();return Qv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function p3(e,t){const n=e.style||{},s={};return TR(s,n,e),Object.assign(s,m3(e,t)),s}function g3(e,t){const n={},s=p3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const y3={offset:"stroke-dashoffset",array:"stroke-dasharray"},_3={offset:"strokeDashoffset",array:"strokeDasharray"};function v3(e,t,n=1,s=0,o=!0){e.pathLength=1;const c=o?y3:_3;e[c.offset]=Wt.transform(-s);const h=Wt.transform(t),m=Wt.transform(n);e[c.array]=`${h} ${m}`}function bR(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:c=1,pathOffset:h=0,...m},y,v,w){if(Qv(e,m,v),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:E}=e;A.transform&&(E.transform=A.transform,delete A.transform),(E.transform||A.transformOrigin)&&(E.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),E.transform&&(E.transformBox=w?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&v3(A,o,c,h,!1)}const wR=()=>({...Jv(),attrs:{}}),xR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function T3(e,t,n,s){const o=D.useMemo(()=>{const c=wR();return bR(c,t,xR(s),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};TR(c,e.style,e),o.style={...c,...o.style}}return o}const b3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t0(e){return typeof e!="string"||e.includes("-")?!1:!!(b3.indexOf(e)>-1||/[A-Z]/u.test(e))}function w3(e,t,n,{latestValues:s},o,c=!1){const m=(t0(e)?T3:g3)(t,s,o,e),y=o3(t,typeof e=="string",c),v=e!==D.Fragment?{...y,...m,ref:n}:{},{children:w}=t,A=D.useMemo(()=>Un(w)?w.get():w,[w]);return D.createElement(e,{...v,children:A})}function SE(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function e0(e,t,n,s){if(typeof t=="function"){const[o,c]=SE(s);t=t(n!==void 0?n:e.custom,o,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,c]=SE(s);t=t(n!==void 0?n:e.custom,o,c)}return t}function $f(e){return Un(e)?e.get():e}function x3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:E3(n,s,o,e),renderState:t()}}function E3(e,t,n,s){const o={},c=s(e,{});for(const E in c)o[E]=$f(c[E]);let{initial:h,animate:m}=e;const y=rp(e),v=_R(e);t&&v&&!y&&e.inherit!==!1&&(h===void 0&&(h=t.initial),m===void 0&&(m=t.animate));let w=n?n.initial===!1:!1;w=w||h===!1;const A=w?m:h;if(A&&typeof A!="boolean"&&!sp(A)){const E=Array.isArray(A)?A:[A];for(let N=0;N<E.length;N++){const V=e0(e,E[N]);if(V){const{transitionEnd:q,transition:Z,...$}=V;for(const ct in $){let J=$[ct];if(Array.isArray(J)){const dt=w?J.length-1:0;J=J[dt]}J!==null&&(o[ct]=J)}for(const ct in q)o[ct]=q[ct]}}}return o}const ER=e=>(t,n)=>{const s=D.useContext(ip),o=D.useContext(Iv),c=()=>x3(e,t,s,o);return n?c():Cv(c)};function n0(e,t,n){const{style:s}=e,o={};for(const c in s)(Un(s[c])||t.style&&Un(t.style[c])||vR(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(o[c]=s[c]);return o}const S3=ER({scrapeMotionValuesFromProps:n0,createRenderState:Jv});function SR(e,t,n){const s=n0(e,t,n);for(const o in e)if(Un(e[o])||Un(t[o])){const c=hu.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[c]=e[o]}return s}const A3=ER({scrapeMotionValuesFromProps:SR,createRenderState:wR}),C3=Symbol.for("motionComponentSymbol");function kc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function R3(e,t,n){return D.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):kc(n)&&(n.current=s))},[t])}const i0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),I3="framerAppearId",AR="data-"+i0(I3),CR=D.createContext({});function P3(e,t,n,s,o){const{visualElement:c}=D.useContext(ip),h=D.useContext(gR),m=D.useContext(Iv),y=D.useContext(np).reducedMotion,v=D.useRef(null);s=s||h.renderer,!v.current&&s&&(v.current=s(e,{visualState:t,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const w=v.current,A=D.useContext(CR);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&N3(v.current,n,o,A);const E=D.useRef(!1);D.useInsertionEffect(()=>{w&&E.current&&w.update(n,m)});const N=n[AR],V=D.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return SC(()=>{w&&(E.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),V.current&&w.animationState&&w.animationState.animateChanges())}),D.useEffect(()=>{w&&(!V.current&&w.animationState&&w.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),V.current=!1))}),w}function N3(e,t,n,s){const{layoutId:o,layout:c,drag:h,dragConstraints:m,layoutScroll:y,layoutRoot:v,layoutCrossfade:w}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RR(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!h||m&&kc(m),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:w,layoutScroll:y,layoutRoot:v})}function RR(e){if(e)return e.options.allowProjection!==!1?e.projection:RR(e.parent)}function cy(e,{forwardMotionProps:t=!1}={},n,s){n&&s3(n);const o=t0(e)?A3:S3;function c(m,y){let v;const w={...D.useContext(np),...m,layoutId:L3(m)},{isStatic:A}=w,E=c3(m),N=o(m,A);if(!A&&Rv){M3();const V=D3(w);v=V.MeasureLayout,E.visualElement=P3(e,N,w,s,V.ProjectionNode)}return _.jsxs(ip.Provider,{value:E,children:[v&&E.visualElement?_.jsx(v,{visualElement:E.visualElement,...w}):null,w3(e,m,R3(N,E.visualElement,y),N,A,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const h=D.forwardRef(c);return h[C3]=e,h}function L3({layoutId:e}){const t=D.useContext(EC).id;return t&&e!==void 0?t+"-"+e:e}function M3(e,t){D.useContext(gR).strict}function D3(e){const{drag:t,layout:n}=Xc;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function k3(e,t){if(typeof Proxy>"u")return cy;const n=new Map,s=(c,h)=>cy(c,h,e,t),o=(c,h)=>s(c,h);return new Proxy(o,{get:(c,h)=>h==="create"?s:(n.has(h)||n.set(h,cy(h,void 0,e,t)),n.get(h))})}function IR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function O3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function V3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function uy(e){return e===void 0||e===1}function u_({scale:e,scaleX:t,scaleY:n}){return!uy(e)||!uy(t)||!uy(n)}function Il(e){return u_(e)||PR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function PR(e){return AE(e.x)||AE(e.y)}function AE(e){return e&&e!=="0%"}function wm(e,t,n){const s=e-n,o=t*s;return n+o}function CE(e,t,n,s,o){return o!==void 0&&(e=wm(e,o,s)),wm(e,n,s)+t}function h_(e,t=0,n=1,s,o){e.min=CE(e.min,t,n,s,o),e.max=CE(e.max,t,n,s,o)}function NR(e,{x:t,y:n}){h_(e.x,t.translate,t.scale,t.originPoint),h_(e.y,n.translate,n.scale,n.originPoint)}const RE=.999999999999,IE=1.0000000000001;function j3(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let c,h;for(let m=0;m<o;m++){c=n[m],h=c.projectionDelta;const{visualElement:y}=c.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Vc(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,NR(e,h)),s&&Il(c.latestValues)&&Vc(e,c.latestValues))}t.x<IE&&t.x>RE&&(t.x=1),t.y<IE&&t.y>RE&&(t.y=1)}function Oc(e,t){e.min=e.min+t,e.max=e.max+t}function PE(e,t,n,s,o=.5){const c=Ke(e.min,e.max,o);h_(e,t,n,c,s)}function Vc(e,t){PE(e.x,t.x,t.scaleX,t.scale,t.originX),PE(e.y,t.y,t.scaleY,t.scale,t.originY)}function LR(e,t){return IR(V3(e.getBoundingClientRect(),t))}function U3(e,t,n){const s=LR(e,n),{scroll:o}=t;return o&&(Oc(s.x,o.offset.x),Oc(s.y,o.offset.y)),s}const NE=()=>({translate:0,scale:1,origin:0,originPoint:0}),jc=()=>({x:NE(),y:NE()}),LE=()=>({min:0,max:0}),hn=()=>({x:LE(),y:LE()}),xm={current:null},s0={current:!1};function MR(){if(s0.current=!0,!!Rv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xm.current=e.matches;e.addEventListener("change",t),t()}else xm.current=!1}const z3=new WeakMap;function B3(e,t,n){for(const s in t){const o=t[s],c=n[s];if(Un(o))e.addValue(s,o);else if(Un(c))e.addValue(s,Hl(o,{owner:e}));else if(c!==o)if(e.hasValue(s)){const h=e.getValue(s);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=e.getStaticValue(s);e.addValue(s,Hl(h!==void 0?h:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const ME=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class F3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:c,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=ki.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ze.render(this.render,!1,!0))};const{latestValues:y,renderState:v}=h;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=rp(n),this.isVariantNode=_R(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:w,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in A){const N=A[E];y[E]!==void 0&&Un(N)&&N.set(y[E],!1)}}mount(t){this.current=t,z3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),s0.current||MR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Aa(this.notifyUpdate),Aa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=du.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),c=n.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),c(),h&&h(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xc){const n=Xc[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ME.length;s++){const o=ME[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,h=t[c];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=B3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Hl(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(AC(s)||RC(s))?s=parseFloat(s):!n3(s)&&Ho.test(n)&&(s=uR(t,n)),this.setBaseTarget(t,Un(s)?s.get():s)),Un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=e0(this.props,n,this.presenceContext?.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Un(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){$v.render(this.render)}}class DR extends F3{constructor(){super(...arguments),this.KeyframeResolver=B6}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kR(e,{style:t,vars:n},s,o){const c=e.style;let h;for(h in t)c[h]=t[h];o?.applyProjectionStyles(c,s);for(h in n)c.setProperty(h,n[h])}function H3(e){return window.getComputedStyle(e)}class q3 extends DR{constructor(){super(...arguments),this.type="html",this.renderInstance=kR}readValueFromInstance(t,n){if(du.has(n))return this.projection?.isProjecting?s_(n):a6(t,n);{const s=H3(t),o=(Vv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LR(t,n)}build(t,n,s){Qv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return n0(t,n,s)}}const OR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G3(e,t,n,s){kR(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(OR.has(o)?o:i0(o),t.attrs[o])}class W3 extends DR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(du.has(n)){const s=cR(n);return s&&s.default||0}return n=OR.has(n)?n:i0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return SR(t,n,s)}build(t,n,s){bR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){G3(t,n,s,o)}mount(t){this.isSVGTag=xR(t.tagName),super.mount(t)}}const Z3=(e,t)=>t0(e)?new W3(t):new q3(t,{allowProjection:e!==D.Fragment});function Wh(e,t,n){const s=e.getProps();return e0(s,t,n!==void 0?n:s.custom,e)}const d_=e=>Array.isArray(e);function $3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hl(n))}function Y3(e){return d_(e)?e[e.length-1]||0:e}function K3(e,t){const n=Wh(e,t);let{transitionEnd:s={},transition:o={},...c}=n||{};c={...c,...s};for(const h in c){const m=Y3(c[h]);$3(e,h,m)}}function X3(e){return!!(Un(e)&&e.add)}function f_(e,t){const n=e.getValue("willChange");if(X3(n))return n.add(t);if(!n&&Sa.WillChange){const s=new Sa.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function VR(e){return e.props[AR]}const Q3=e=>e!==null;function J3(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(Q3),c=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[c]}const tU={type:"spring",stiffness:500,damping:25,restSpeed:10},eU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nU={type:"keyframes",duration:.8},iU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sU=(e,{keyframes:t})=>t.length>2?nU:du.has(e)?e.startsWith("scale")?eU(t[1]):tU:iU;function rU({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:c,repeatType:h,repeatDelay:m,from:y,elapsed:v,...w}){return!!Object.keys(w).length}const r0=(e,t,n,s={},o,c)=>h=>{const m=Wv(s,e)||{},y=m.delay||s.delay||0;let{elapsed:v=0}=s;v=v-Mr(y);const w={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-v,onUpdate:E=>{t.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:c?void 0:o};rU(m)||Object.assign(w,sU(e,w)),w.duration&&(w.duration=Mr(w.duration)),w.repeatDelay&&(w.repeatDelay=Mr(w.repeatDelay)),w.from!==void 0&&(w.keyframes[0]=w.from);let A=!1;if((w.type===!1||w.duration===0&&!w.repeatDelay)&&(w.duration=0,w.delay===0&&(A=!0)),(Sa.instantAnimations||Sa.skipAnimations)&&(A=!0,w.duration=0,w.delay=0),w.allowFlatten=!m.type&&!m.ease,A&&!c&&t.get()!==void 0){const E=J3(w.keyframes,m);if(E!==void 0){ze.update(()=>{w.onUpdate(E),w.onComplete()});return}}return m.isSync?new ep(w):new I6(w)};function aU({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function jR(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:h,...m}=t;s&&(c=s);const y=[],v=o&&e.animationState&&e.animationState.getState()[o];for(const w in m){const A=e.getValue(w,e.latestValues[w]??null),E=m[w];if(E===void 0||v&&aU(v,w))continue;const N={delay:n,...Wv(c||{},w)},V=A.get();if(V!==void 0&&!A.isAnimating&&!Array.isArray(E)&&E===V&&!N.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const $=VR(e);if($){const ct=window.MotionHandoffAnimation($,w,ze);ct!==null&&(N.startTime=ct,q=!0)}}f_(e,w),A.start(r0(w,A,E,e.shouldReduceMotion&&aR.has(w)?{type:!1}:N,e,q));const Z=A.animation;Z&&y.push(Z)}return h&&Promise.all(y).then(()=>{ze.update(()=>{h&&K3(e,h)})}),y}function m_(e,t,n={}){const s=Wh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const c=s?()=>Promise.all(jR(e,s,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:A}=o;return oU(e,t,y,v,w,A,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,v]=m==="beforeChildren"?[c,h]:[h,c];return y().then(()=>v())}else return Promise.all([c(),h(n.delay)])}function oU(e,t,n=0,s=0,o=0,c=1,h){const m=[],y=e.variantChildren.size,v=(y-1)*o,w=typeof s=="function",A=w?E=>s(E,y):c===1?(E=0)=>E*o:(E=0)=>v-E*o;return Array.from(e.variantChildren).sort(lU).forEach((E,N)=>{E.notify("AnimationStart",t),m.push(m_(E,t,{...h,delay:n+(w?0:s)+A(N)}).then(()=>E.notify("AnimationComplete",t)))}),Promise.all(m)}function lU(e,t){return e.sortNodePosition(t)}function cU(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(c=>m_(e,c,n));s=Promise.all(o)}else if(typeof t=="string")s=m_(e,t,n);else{const o=typeof t=="function"?Wh(e,t,n.custom):t;s=Promise.all(jR(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function UR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const uU=Xv.length;function zR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uU;n++){const s=Xv[n],o=e.props[s];(qh(o)||o===!1)&&(t[s]=o)}return t}const hU=[...Kv].reverse(),dU=Kv.length;function fU(e){return t=>Promise.all(t.map(({animation:n,options:s})=>cU(e,n,s)))}function mU(e){let t=fU(e),n=DE(),s=!0;const o=y=>(v,w)=>{const A=Wh(e,w,y==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:E,transitionEnd:N,...V}=A;v={...v,...V,...N}}return v};function c(y){t=y(e)}function h(y){const{props:v}=e,w=zR(e.parent)||{},A=[],E=new Set;let N={},V=1/0;for(let Z=0;Z<dU;Z++){const $=hU[Z],ct=n[$],J=v[$]!==void 0?v[$]:w[$],dt=qh(J),tt=$===y?ct.isActive:null;tt===!1&&(V=Z);let wt=J===w[$]&&J!==v[$]&&dt;if(wt&&s&&e.manuallyAnimateOnMount&&(wt=!1),ct.protectedKeys={...N},!ct.isActive&&tt===null||!J&&!ct.prevProp||sp(J)||typeof J=="boolean")continue;const z=pU(ct.prevProp,J);let k=z||$===y&&ct.isActive&&!wt&&dt||Z>V&&dt,j=!1;const G=Array.isArray(J)?J:[J];let W=G.reduce(o($),{});tt===!1&&(W={});const{prevResolvedValues:Y={}}=ct,B={...Y,...W},jt=at=>{k=!0,E.has(at)&&(j=!0,E.delete(at)),ct.needsAnimating[at]=!0;const rt=e.getValue(at);rt&&(rt.liveStyle=!1)};for(const at in B){const rt=W[at],Et=Y[at];if(N.hasOwnProperty(at))continue;let O=!1;d_(rt)&&d_(Et)?O=!UR(rt,Et):O=rt!==Et,O?rt!=null?jt(at):E.add(at):rt!==void 0&&E.has(at)?jt(at):ct.protectedKeys[at]=!0}ct.prevProp=J,ct.prevResolvedValues=W,ct.isActive&&(N={...N,...W}),s&&e.blockInitialAnimation&&(k=!1),k&&(!(wt&&z)||j)&&A.push(...G.map(at=>({animation:at,options:{type:$}})))}if(E.size){const Z={};if(typeof v.initial!="boolean"){const $=Wh(e,Array.isArray(v.initial)?v.initial[0]:v.initial);$&&$.transition&&(Z.transition=$.transition)}E.forEach($=>{const ct=e.getBaseTarget($),J=e.getValue($);J&&(J.liveStyle=!0),Z[$]=ct??null}),A.push({animation:Z})}let q=!!A.length;return s&&(v.initial===!1||v.initial===v.animate)&&!e.manuallyAnimateOnMount&&(q=!1),s=!1,q?t(A):Promise.resolve()}function m(y,v){if(n[y].isActive===v)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(y,v)),n[y].isActive=v;const w=h(y);for(const A in n)n[A].protectedKeys={};return w}return{animateChanges:h,setActive:m,setAnimateFunction:c,getState:()=>n,reset:()=>{n=DE(),s=!0}}}function pU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!UR(t,e):!1}function Cl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DE(){return{animate:Cl(!0),whileInView:Cl(),whileHover:Cl(),whileTap:Cl(),whileDrag:Cl(),whileFocus:Cl(),exit:Cl()}}class $o{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gU extends $o{constructor(t){super(t),t.animationState||(t.animationState=mU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yU=0;class _U extends $o{constructor(){super(...arguments),this.id=yU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vU={animation:{Feature:gU},exit:{Feature:_U}};function Zh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function md(e){return{point:{x:e.pageX,y:e.pageY}}}const TU=e=>t=>Yv(t)&&e(t,md(t));function Sh(e,t,n,s){return Zh(e,t,TU(n),s)}const BR=1e-4,bU=1-BR,wU=1+BR,FR=.01,xU=0-FR,EU=0+FR;function bi(e){return e.max-e.min}function SU(e,t,n){return Math.abs(e-t)<=n}function kE(e,t,n,s=.5){e.origin=s,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=bi(n)/bi(t),e.translate=Ke(n.min,n.max,e.origin)-e.originPoint,(e.scale>=bU&&e.scale<=wU||isNaN(e.scale))&&(e.scale=1),(e.translate>=xU&&e.translate<=EU||isNaN(e.translate))&&(e.translate=0)}function Ah(e,t,n,s){kE(e.x,t.x,n.x,s?s.originX:void 0),kE(e.y,t.y,n.y,s?s.originY:void 0)}function OE(e,t,n){e.min=n.min+t.min,e.max=e.min+bi(t)}function AU(e,t,n){OE(e.x,t.x,n.x),OE(e.y,t.y,n.y)}function VE(e,t,n){e.min=t.min-n.min,e.max=e.min+bi(t)}function Ch(e,t,n){VE(e.x,t.x,n.x),VE(e.y,t.y,n.y)}function Is(e){return[e("x"),e("y")]}const HR=({current:e})=>e?e.ownerDocument.defaultView:null,jE=(e,t)=>Math.abs(e-t);function CU(e,t){const n=jE(e.x,t.x),s=jE(e.y,t.y);return Math.sqrt(n**2+s**2)}class qR{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=dy(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,V=CU(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!V)return;const{point:q}=E,{timestamp:Z}=Wn;this.history.push({...q,timestamp:Z});const{onStart:$,onMove:ct}=this.handlers;N||($&&$(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),ct&&ct(this.lastMoveEvent,E)},this.handlePointerMove=(E,N)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=hy(N,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(E,N)=>{this.end();const{onEnd:V,onSessionEnd:q,resumeAnimation:Z}=this.handlers;if(this.dragSnapToOrigin&&Z&&Z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=dy(E.type==="pointercancel"?this.lastMoveEventInfo:hy(N,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,$),q&&q(E,$)},!Yv(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=h,this.contextWindow=o||window;const m=md(t),y=hy(m,this.transformPagePoint),{point:v}=y,{timestamp:w}=Wn;this.history=[{...v,timestamp:w}];const{onSessionStart:A}=n;A&&A(t,dy(y,this.history)),this.removeListeners=hd(Sh(this.contextWindow,"pointermove",this.handlePointerMove),Sh(this.contextWindow,"pointerup",this.handlePointerUp),Sh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Aa(this.updatePoint)}}function hy(e,t){return t?{point:t(e.point)}:e}function UE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dy({point:e},t){return{point:e,delta:UE(e,GR(t)),offset:UE(e,RU(t)),velocity:IU(t,.1)}}function RU(e){return e[0]}function GR(e){return e[e.length-1]}function IU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=GR(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Mr(t)));)n--;if(!s)return{x:0,y:0};const c=Dr(o.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const h={x:(o.x-s.x)/c,y:(o.y-s.y)/c};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function PU(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Ke(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Ke(n,e,s.max):Math.min(e,n)),e}function zE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function NU(e,{top:t,left:n,bottom:s,right:o}){return{x:zE(e.x,n,o),y:zE(e.y,t,s)}}function BE(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function LU(e,t){return{x:BE(e.x,t.x),y:BE(e.y,t.y)}}function MU(e,t){let n=.5;const s=bi(e),o=bi(t);return o>s?n=Bh(t.min,t.max-s,e.min):s>o&&(n=Bh(e.min,e.max-o,t.min)),Ea(0,1,n)}function DU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const p_=.35;function kU(e=p_){return e===!1?e=0:e===!0&&(e=p_),{x:FE(e,"left","right"),y:FE(e,"top","bottom")}}function FE(e,t,n){return{min:HE(e,t),max:HE(e,n)}}function HE(e,t){return typeof e=="number"?e:e[t]||0}const OU=new WeakMap;class VU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=A=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(md(A).point)},h=(A,E)=>{const{drag:N,dragPropagation:V,onDragStart:q}=this.getProps();if(N&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W6(N),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is($=>{let ct=this.getAxisMotionValue($).get()||0;if(kr.test(ct)){const{projection:J}=this.visualElement;if(J&&J.layout){const dt=J.layout.layoutBox[$];dt&&(ct=bi(dt)*(parseFloat(ct)/100))}}this.originPoint[$]=ct}),q&&ze.postRender(()=>q(A,E)),f_(this.visualElement,"transform");const{animationState:Z}=this.visualElement;Z&&Z.setActive("whileDrag",!0)},m=(A,E)=>{this.latestPointerEvent=A,this.latestPanInfo=E;const{dragPropagation:N,dragDirectionLock:V,onDirectionLock:q,onDrag:Z}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:$}=E;if(V&&this.currentDirection===null){this.currentDirection=jU($),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",E.point,$),this.updateAxis("y",E.point,$),this.visualElement.render(),Z&&Z(A,E)},y=(A,E)=>{this.latestPointerEvent=A,this.latestPanInfo=E,this.stop(A,E),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Is(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:w}=this.getProps();this.panSession=new qR(t,{onSessionStart:c,onStart:h,onMove:m,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,distanceThreshold:s,contextWindow:HR(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!s)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&ze.postRender(()=>m(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Rf(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let h=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(h=PU(h,this.constraints[t],this.elastic[t])),c.set(h)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&kc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=NU(s.layoutBox,t):this.constraints=!1,this.elastic=kU(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Is(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=DU(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kc(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=U3(s,o.root,this.visualElement.getTransformPagePoint());let h=LU(o.layout.layoutBox,c);if(n){const m=n(O3(h));this.hasMutatedConstraints=!!m,m&&(h=IR(m))}return h}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:c,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},v=Is(w=>{if(!Rf(w,n,this.currentDirection))return;let A=y&&y[w]||{};h&&(A={min:0,max:0});const E=o?200:1e6,N=o?40:1e7,V={type:"inertia",velocity:s?t[w]:0,bounceStiffness:E,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...c,...A};return this.startAxisValueAnimation(w,V)});return Promise.all(v).then(m)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return f_(this.visualElement,t),s.start(r0(t,s,0,n,this.visualElement,!1))}stopAnimation(){Is(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Is(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Is(n=>{const{drag:s}=this.getProps();if(!Rf(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(n);if(o&&o.layout){const{min:h,max:m}=o.layout.layoutBox[n];c.set(t[n]-Ke(h,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!kc(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Is(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const y=m.get();o[h]=MU({min:y,max:y},this.constraints[h])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Is(h=>{if(!Rf(h,t,null))return;const m=this.getAxisMotionValue(h),{min:y,max:v}=this.constraints[h];m.set(Ke(y,v,o[h]))})}addListeners(){if(!this.visualElement.current)return;OU.set(this.visualElement,this);const t=this.visualElement.current,n=Sh(t,"pointerdown",y=>{const{drag:v,dragListener:w=!0}=this.getProps();v&&w&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();kc(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ze.read(s);const h=Zh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v})=>{this.isDragging&&v&&(Is(w=>{const A=this.getAxisMotionValue(w);A&&(this.originPoint[w]+=y[w].translate,A.set(A.get()+y[w].translate))}),this.visualElement.render())});return()=>{h(),n(),c(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:h=p_,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:c,dragElastic:h,dragMomentum:m}}}function Rf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UU extends $o{constructor(t){super(t),this.removeGroupControls=Ls,this.removeListeners=Ls,this.controls=new VU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const qE=e=>(t,n)=>{e&&ze.postRender(()=>e(t,n))};class zU extends $o{constructor(){super(...arguments),this.removePointerDownListener=Ls}onPointerDown(t){this.session=new qR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:qE(t),onStart:qE(n),onMove:s,onEnd:(c,h)=>{delete this.session,o&&ze.postRender(()=>o(c,h))}}}mount(){this.removePointerDownListener=Sh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=GE(e,t.target.x),s=GE(e,t.target.y);return`${n}% ${s}%`}},BU={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Ho.parse(e);if(o.length>5)return s;const c=Ho.createTransformer(e),h=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,y=n.y.scale*t.y;o[0+h]/=m,o[1+h]/=y;const v=Ke(m,y,.5);return typeof o[2+h]=="number"&&(o[2+h]/=v),typeof o[3+h]=="number"&&(o[3+h]/=v),c(o)}};let WE=!1;class FU extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:c}=t;u3(HU),c&&(n.group&&n.group.add(c),s&&s.register&&o&&s.register(c),WE&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:c}=this.props,{projection:h}=s;return h&&(h.isPresent=c,WE=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==c?h.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?h.promote():h.relegate()||ze.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$v.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WR(e){const[t,n]=i3(),s=D.useContext(EC);return _.jsx(FU,{...e,layoutGroup:s,switchLayoutGroup:D.useContext(CR),isPresent:t,safeToRemove:n})}const HU={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:BU};function qU(e,t,n){const s=Un(e)?e:Hl(e);return s.start(r0("",s,t,n)),s.animation}const GU=(e,t)=>e.depth-t.depth;class WU{constructor(){this.children=[],this.isDirty=!1}add(t){Pv(this.children,t),this.isDirty=!0}remove(t){Nv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GU),this.isDirty=!1,this.children.forEach(t)}}function ZU(e,t){const n=ki.now(),s=({timestamp:o})=>{const c=o-n;c>=t&&(Aa(s),e(c-t))};return ze.setup(s,!0),()=>Aa(s)}const ZR=["TopLeft","TopRight","BottomLeft","BottomRight"],$U=ZR.length,ZE=e=>typeof e=="string"?parseFloat(e):e,$E=e=>typeof e=="number"||Wt.test(e);function YU(e,t,n,s,o,c){o?(e.opacity=Ke(0,n.opacity??1,KU(s)),e.opacityExit=Ke(t.opacity??1,0,XU(s))):c&&(e.opacity=Ke(t.opacity??1,n.opacity??1,s));for(let h=0;h<$U;h++){const m=`border${ZR[h]}Radius`;let y=YE(t,m),v=YE(n,m);if(y===void 0&&v===void 0)continue;y||(y=0),v||(v=0),y===0||v===0||$E(y)===$E(v)?(e[m]=Math.max(Ke(ZE(y),ZE(v),s),0),(kr.test(v)||kr.test(y))&&(e[m]+="%")):e[m]=v}(t.rotate||n.rotate)&&(e.rotate=Ke(t.rotate||0,n.rotate||0,s))}function YE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const KU=$R(0,.5,OC),XU=$R(.5,.95,Ls);function $R(e,t,n){return s=>s<e?0:s>t?1:n(Bh(e,t,s))}function KE(e,t){e.min=t.min,e.max=t.max}function Cs(e,t){KE(e.x,t.x),KE(e.y,t.y)}function XE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function QE(e,t,n,s,o){return e-=t,e=wm(e,1/n,s),o!==void 0&&(e=wm(e,1/o,s)),e}function QU(e,t=0,n=1,s=.5,o,c=e,h=e){if(kr.test(t)&&(t=parseFloat(t),t=Ke(h.min,h.max,t/100)-h.min),typeof t!="number")return;let m=Ke(c.min,c.max,s);e===c&&(m-=t),e.min=QE(e.min,t,n,m,o),e.max=QE(e.max,t,n,m,o)}function JE(e,t,[n,s,o],c,h){QU(e,t[n],t[s],t[o],t.scale,c,h)}const JU=["x","scaleX","originX"],tz=["y","scaleY","originY"];function t1(e,t,n,s){JE(e.x,t,JU,n?n.x:void 0,s?s.x:void 0),JE(e.y,t,tz,n?n.y:void 0,s?s.y:void 0)}function e1(e){return e.translate===0&&e.scale===1}function YR(e){return e1(e.x)&&e1(e.y)}function n1(e,t){return e.min===t.min&&e.max===t.max}function ez(e,t){return n1(e.x,t.x)&&n1(e.y,t.y)}function i1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function KR(e,t){return i1(e.x,t.x)&&i1(e.y,t.y)}function s1(e){return bi(e.x)/bi(e.y)}function r1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nz{constructor(){this.members=[]}add(t){Pv(this.members,t),t.scheduleRender()}remove(t){if(Nv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iz(e,t,n){let s="";const o=e.x.translate/t.x,c=e.y.translate/t.y,h=n?.z||0;if((o||c||h)&&(s=`translate3d(${o}px, ${c}px, ${h}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:v,rotate:w,rotateX:A,rotateY:E,skewX:N,skewY:V}=n;v&&(s=`perspective(${v}px) ${s}`),w&&(s+=`rotate(${w}deg) `),A&&(s+=`rotateX(${A}deg) `),E&&(s+=`rotateY(${E}deg) `),N&&(s+=`skewX(${N}deg) `),V&&(s+=`skewY(${V}deg) `)}const m=e.x.scale*t.x,y=e.y.scale*t.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const fy=["","X","Y","Z"],sz=1e3;let rz=0;function my(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function XR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(o||c))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&XR(s)}function QR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(h={},m=t?.()){this.id=rz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lz),this.nodes.forEach(dz),this.nodes.forEach(fz),this.nodes.forEach(cz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new WU)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new Dv),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const y=this.eventHandlers.get(h);y&&y.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=pR(h)&&!Q6(h),this.instance=h;const{layoutId:m,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),e){let w,A=0;const E=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{A=window.innerWidth}),e(h,()=>{const N=window.innerWidth;N!==A&&(A=N,this.root.updateBlockedByResize=!0,w&&w(),w=ZU(E,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(l1)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||y)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:A,hasRelativeLayoutChanged:E,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||v.getDefaultTransition()||_z,{onLayoutAnimationStart:q,onLayoutAnimationComplete:Z}=v.getProps(),$=!this.targetLayout||!KR(this.targetLayout,N),ct=!A&&E;if(this.options.layoutRoot||this.resumeFrom||ct||A&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Wv(V,"layout"),onPlay:q,onComplete:Z};(v.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(w,ct)}else A||l1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mz),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const A=this.path[w];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hz),this.nodes.forEach(az),this.nodes.forEach(oz)):this.nodes.forEach(o1),this.clearAllSnapshots();const m=ki.now();Wn.delta=Ea(0,1e3/60,m-Wn.timestamp),Wn.timestamp=m,Wn.isProcessing=!0,iy.update.process(Wn),iy.preRender.process(Wn),iy.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$v.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uz),this.sharedNodes.forEach(pz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bi(this.snapshot.measuredBox.x)&&!bi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!YR(this.projectionDelta),y=this.getTransformTemplate(),v=y?y(this.latestValues,""):void 0,w=v!==this.prevTransformTemplateValue;h&&this.instance&&(m||Il(this.latestValues)||w)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return h&&(y=this.removeTransform(y)),vz(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return hn();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Tz))){const{scroll:v}=this.root;v&&(Oc(m.x,v.offset.x),Oc(m.y,v.offset.y))}return m}removeElementScroll(h){const m=hn();if(Cs(m,h),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:w,options:A}=v;v!==this.root&&w&&A.layoutScroll&&(w.wasRoot&&Cs(m,h),Oc(m.x,w.offset.x),Oc(m.y,w.offset.y))}return m}applyTransform(h,m=!1){const y=hn();Cs(y,h);for(let v=0;v<this.path.length;v++){const w=this.path[v];!m&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Vc(y,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),Il(w.latestValues)&&Vc(y,w.latestValues)}return Il(this.latestValues)&&Vc(y,this.latestValues),y}removeTransform(h){const m=hn();Cs(m,h);for(let y=0;y<this.path.length;y++){const v=this.path[y];if(!v.instance||!Il(v.latestValues))continue;u_(v.latestValues)&&v.updateSnapshot();const w=hn(),A=v.measurePageBox();Cs(w,A),t1(m,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,w)}return Il(this.latestValues)&&t1(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(h||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:A}=this.options;if(!(!this.layout||!(w||A))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Ch(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cs(this.target,this.layout.layoutBox),NR(this.target,this.targetDelta)):Cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Ch(this.relativeTargetOrigin,this.target,E.target),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||u_(this.parent.latestValues)||PR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(y=!1),y)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Cs(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,E=this.treeScale.y;j3(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=hn());const{target:N}=h;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XE(this.prevProjectionDelta.x,this.projectionDelta.x),XE(this.prevProjectionDelta.y,this.projectionDelta.y)),Ah(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==E||!r1(this.projectionDelta.x,this.prevProjectionDelta.x)||!r1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jc(),this.projectionDelta=jc(),this.projectionDeltaWithTransform=jc()}setAnimationOrigin(h,m=!1){const y=this.snapshot,v=y?y.latestValues:{},w={...this.latestValues},A=jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=hn(),N=y?y.source:void 0,V=this.layout?this.layout.source:void 0,q=N!==V,Z=this.getStack(),$=!Z||Z.members.length<=1,ct=!!(q&&!$&&this.options.crossfade===!0&&!this.path.some(yz));this.animationProgress=0;let J;this.mixTargetDelta=dt=>{const tt=dt/1e3;c1(A.x,h.x,tt),c1(A.y,h.y,tt),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ch(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gz(this.relativeTarget,this.relativeTargetOrigin,E,tt),J&&ez(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=hn()),Cs(J,this.relativeTarget)),q&&(this.animationValues=w,YU(w,v,this.latestValues,tt,ct,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hl(0)),this.currentAnimation=qU(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:y,layout:v,latestValues:w}=h;if(!(!m||!y||!v)){if(this!==h&&this.layout&&v&&JR(this.options.animationType,this.layout.layoutBox,v.layoutBox)){y=this.target||hn();const A=bi(this.layout.layoutBox.x);y.x.min=h.target.x.min,y.x.max=y.x.min+A;const E=bi(this.layout.layoutBox.y);y.y.min=h.target.y.min,y.y.max=y.y.min+E}Cs(m,y),Vc(m,w),Ah(this.projectionDeltaWithTransform,this.layoutCorrected,m,w)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new nz),this.sharedNodes.get(h).add(m);const v=m.options.initialPromotionConfig;m.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:y}={}){const v=this.getStack();v&&v.promote(this,y),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:y}=h;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const v={};y.z&&my("z",h,v,this.animationValues);for(let w=0;w<fy.length;w++)my(`rotate${fy[w]}`,h,v,this.animationValues),my(`skew${fy[w]}`,h,v,this.animationValues);h.render();for(const w in v)h.setStaticValue(w,v[w]),this.animationValues&&(this.animationValues[w]=v[w]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=$f(m?.pointerEvents)||"",h.transform=y?y(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=$f(m?.pointerEvents)||""),this.hasProjected&&!Il(this.latestValues)&&(h.transform=y?y({},""):"none",this.hasProjected=!1);return}h.visibility="";const w=v.animationValues||v.latestValues;this.applyTransformsToTarget();let A=iz(this.projectionDeltaWithTransform,this.treeScale,w);y&&(A=y(w,A)),h.transform=A;const{x:E,y:N}=this.projectionDelta;h.transformOrigin=`${E.origin*100}% ${N.origin*100}% 0`,v.animationValues?h.opacity=v===this?w.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:h.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const V in Gh){if(w[V]===void 0)continue;const{correct:q,applyTo:Z,isCSSVariable:$}=Gh[V],ct=A==="none"?w[V]:q(w[V],v);if(Z){const J=Z.length;for(let dt=0;dt<J;dt++)h[Z[dt]]=ct}else $?this.options.visualElement.renderState.vars[V]=ct:h[V]=ct}this.options.layoutId&&(h.pointerEvents=v===this?$f(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(a1),this.root.sharedNodes.clear()}}}function az(e){e.updateLayout()}function oz(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,c=t.source!==e.layout.source;o==="size"?Is(w=>{const A=c?t.measuredBox[w]:t.layoutBox[w],E=bi(A);A.min=n[w].min,A.max=A.min+E}):JR(o,t.layoutBox,n)&&Is(w=>{const A=c?t.measuredBox[w]:t.layoutBox[w],E=bi(n[w]);A.max=A.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[w].max=e.relativeTarget[w].min+E)});const h=jc();Ah(h,n,t.layoutBox);const m=jc();c?Ah(m,e.applyTransform(s,!0),t.measuredBox):Ah(m,n,t.layoutBox);const y=!YR(h);let v=!1;if(!e.resumeFrom){const w=e.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:A,layout:E}=w;if(A&&E){const N=hn();Ch(N,t.layoutBox,A.layoutBox);const V=hn();Ch(V,n,E.layoutBox),KR(N,V)||(v=!0),w.options.layoutRoot&&(e.relativeTarget=V,e.relativeTargetOrigin=N,e.relativeParent=w)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function lz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uz(e){e.clearSnapshot()}function a1(e){e.clearMeasurements()}function o1(e){e.isLayoutDirty=!1}function hz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dz(e){e.resolveTargetDelta()}function fz(e){e.calcProjection()}function mz(e){e.resetSkewAndRotation()}function pz(e){e.removeLeadSnapshot()}function c1(e,t,n){e.translate=Ke(t.translate,0,n),e.scale=Ke(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function u1(e,t,n,s){e.min=Ke(t.min,n.min,s),e.max=Ke(t.max,n.max,s)}function gz(e,t,n,s){u1(e.x,t.x,n.x,s),u1(e.y,t.y,n.y,s)}function yz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _z={duration:.45,ease:[.4,0,.1,1]},h1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),d1=h1("applewebkit/")&&!h1("chrome/")?Math.round:Ls;function f1(e){e.min=d1(e.min),e.max=d1(e.max)}function vz(e){f1(e.x),f1(e.y)}function JR(e,t,n){return e==="position"||e==="preserve-aspect"&&!SU(s1(t),s1(n),.2)}function Tz(e){return e!==e.root&&e.scroll?.wasRoot}const bz=QR({attachResizeListener:(e,t)=>Zh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),py={current:void 0},tI=QR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!py.current){const e=new bz({});e.mount(window),e.setOptions({layoutScroll:!0}),py.current=e}return py.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wz={pan:{Feature:zU},drag:{Feature:UU,ProjectionNode:tI,MeasureLayout:WR}};function m1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,c=s[o];c&&ze.postRender(()=>c(t,md(t)))}class xz extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=Z6(t,(n,s)=>(m1(this.node,s,"Start"),o=>m1(this.node,o,"End"))))}unmount(){}}class Ez extends $o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hd(Zh(this.node.current,"focus",()=>this.onFocus()),Zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p1(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),c=s[o];c&&ze.postRender(()=>c(t,md(t)))}class Sz extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=X6(t,(n,s)=>(p1(this.node,s,"Start"),(o,{success:c})=>p1(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g_=new WeakMap,gy=new WeakMap,Az=e=>{const t=g_.get(e.target);t&&t(e)},Cz=e=>{e.forEach(Az)};function Rz({root:e,...t}){const n=e||document;gy.has(n)||gy.set(n,{});const s=gy.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(Cz,{root:e,...t})),s[o]}function Iz(e,t,n){const s=Rz(t);return g_.set(e,n),s.observe(e),()=>{g_.delete(e),s.unobserve(e)}}const Pz={some:0,all:1};class Nz extends $o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:c}=t,h={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Pz[o]},m=y=>{const{isIntersecting:v}=y;if(this.isInView===v||(this.isInView=v,c&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:w,onViewportLeave:A}=this.node.getProps(),E=v?w:A;E&&E(y)};return Iz(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lz(t,n))&&this.startObserver()}unmount(){}}function Lz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Mz={inView:{Feature:Nz},tap:{Feature:Sz},focus:{Feature:Ez},hover:{Feature:xz}},Dz={layout:{ProjectionNode:tI,MeasureLayout:WR}},kz={...vU,...Mz,...wz,...Dz},Ni=k3(kz,Z3);function Em(e){const t=Cv(()=>Hl(e)),{isStatic:n}=D.useContext(np);if(n){const[,s]=D.useState(e);D.useEffect(()=>t.on("change",s),[])}return t}function eI(e,t){const n=Em(t()),s=()=>n.set(t());return s(),SC(()=>{const o=()=>ze.preRender(s,!1,!0),c=e.map(h=>h.on("change",o));return()=>{c.forEach(h=>h()),Aa(s)}}),n}function Oz(e){Eh.current=[],e();const t=eI(Eh.current,e);return Eh.current=void 0,t}function y_(e,t,n,s){if(typeof e=="function")return Oz(e);const o=typeof t=="function"?t:J6(t,n,s);return Array.isArray(e)?g1(e,o):g1([e],([c])=>o(c))}function g1(e,t){const n=Cv(()=>[]);return eI(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function y1(e,t={}){const{isStatic:n}=D.useContext(np),s=()=>Un(e)?e.get():e;if(n)return y_(s);const o=Em(s());return D.useInsertionEffect(()=>t3(o,e,t),[o,JSON.stringify(t)]),o}function Vz(){!s0.current&&MR();const[e]=D.useState(xm.current);return e}/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=e=>{const t=Uz(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...m},y)=>D.createElement("svg",{ref:y,...zz,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:nI("lucide",o),...!c&&!Bz(m)&&{"aria-hidden":"true"},...m},[...h.map(([v,w])=>D.createElement(v,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=(e,t)=>{const n=D.forwardRef(({className:s,...o},c)=>D.createElement(Fz,{ref:c,iconNode:t,className:nI(`lucide-${jz(_1(e))}`,`lucide-${e}`,s),...o}));return n.displayName=_1(e),n};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],iI=Pa("arrow-up-right",Hz);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gz=Pa("bell",qz);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Zz=Pa("factory",Wz);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Yz=Pa("hard-hat",$z);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xz=Pa("map-pin",Kz);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Jz=Pa("package",Qz);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],eB=Pa("stethoscope",tB);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],iB=Pa("trending-up",nB);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],rB=Pa("truck",sB),aB=[{id:"construction",title:"Construction",subtitle:"",description:"Know where every tool is across all your job sites. Prevent theft and eliminate time wasted searching.",image:"/images/construction.webp",icon:Yz,stat:"",statLabel:"",features:[],size:"large"},{id:"logistics",title:"Logistics",subtitle:"",description:"End-to-end visibility from warehouse to delivery.",image:"/images/logistics.webp",icon:rB,stat:"",statLabel:"",features:[],size:"medium"},{id:"healthcare",title:"Healthcare",subtitle:"",description:"Find medical equipment instantly. Reduce loss and improve patient care.",image:"/images/healthcare-wheelchair.jpg",icon:eB,stat:"",statLabel:"",features:[],size:"medium"},{id:"manufacturing",title:"Manufacturing",subtitle:"",description:"Optimize production floor efficiency.",image:"/images/manufacturing.webp",icon:Zz,stat:"",statLabel:"",features:[],size:"small"},{id:"rental",title:"Equipment Rental",subtitle:"",description:"Maximize ROI on rental inventory.",image:"/images/rental-equipment.jpg",icon:Jz,stat:"",statLabel:"",features:[],size:"small"}];function oB({children:e,className:t}){const n=D.useRef(null),s=Em(0),o=Em(0),c=y1(s,{stiffness:150,damping:15}),h=y1(o,{stiffness:150,damping:15}),m=y_(h,[-.5,.5],["7deg","-7deg"]),y=y_(c,[-.5,.5],["-7deg","7deg"]),v=A=>{if(!n.current)return;const E=n.current.getBoundingClientRect(),N=(A.clientX-E.left)/E.width-.5,V=(A.clientY-E.top)/E.height-.5;s.set(N),o.set(V)},w=()=>{s.set(0),o.set(0)};return _.jsx(Ni.div,{ref:n,onMouseMove:v,onMouseLeave:w,style:{rotateX:m,rotateY:y,transformStyle:"preserve-3d"},className:t,children:e})}function yy({icon:e,delay:t,className:n,reduceMotion:s}){const o=e;return _.jsx(Ni.div,{className:`use-cases-floating-icon ${n||""}`,animate:s?void 0:{y:[0,-15,0],rotate:[0,5,-5,0]},transition:s?void 0:{duration:4,delay:t,repeat:1/0,ease:"easeInOut"},children:_.jsx("div",{className:"use-cases-floating-icon-box",children:_.jsx(o,{className:"use-cases-floating-icon-svg",strokeWidth:1.5})})})}function lB({useCase:e,index:t}){const n=e.size==="large",s=e.size==="medium",o=e.icon;return _.jsx(Ni.div,{initial:{opacity:0,y:60},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.7,delay:t*.1,ease:[.25,.1,.25,1]},className:`use-case-bento-card ${n?"use-case-bento-card--large":""} ${s?"use-case-bento-card--medium":""}`,children:_.jsxs(oB,{className:"use-case-bento-card-tilt",children:[_.jsxs("div",{className:"use-case-bento-card-bg",children:[_.jsx(Ni.img,{src:e.image,alt:e.title,className:"use-case-bento-card-img",whileHover:{scale:1.08},transition:{duration:.6,ease:"easeOut"}}),_.jsx("div",{className:"use-case-bento-card-overlay","aria-hidden":"true"})]}),_.jsxs("div",{className:"use-case-bento-card-content",children:[_.jsxs("div",{className:"use-case-bento-card-top",children:[_.jsx(Ni.div,{className:"use-case-bento-card-icon-wrap",whileHover:{scale:1.1},transition:{duration:.2},children:_.jsx(o,{className:"use-case-bento-card-icon",strokeWidth:1.5})}),_.jsx("div",{className:"use-case-bento-card-arrow",children:_.jsx(iI,{className:"use-case-bento-card-arrow-svg",strokeWidth:1.5})})]}),_.jsxs("div",{className:"use-case-bento-card-bottom",children:[(e.stat||e.statLabel)&&_.jsxs("div",{className:"use-case-bento-card-stat-wrap",children:[e.stat&&_.jsx(Ni.span,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"use-case-bento-card-stat",children:e.stat}),e.statLabel&&_.jsx("p",{className:"use-case-bento-card-stat-label",children:e.statLabel})]}),_.jsxs("div",{className:"use-case-bento-card-text",children:[e.subtitle&&_.jsx("span",{className:"use-case-bento-card-subtitle",children:e.subtitle}),_.jsx("h3",{className:`use-case-bento-card-title ${n?"use-case-bento-card-title--large":""} ${s?"use-case-bento-card-title--medium":""}`,children:e.title}),_.jsx("p",{className:`use-case-bento-card-desc ${n?"use-case-bento-card-desc--large":""}`,children:e.description})]}),e.features&&e.features.length>0&&_.jsx(Ni.div,{className:"use-case-bento-card-pills",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.4},children:e.features.map((c,h)=>_.jsx(Ni.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.5+h*.1},className:"use-case-bento-card-pill",children:c},h))})]})]})]})})}function cB(){const e=Vz();return _.jsx("section",{id:"use-cases",className:"use-cases-section",role:"region","aria-labelledby":"use-cases-title",children:_.jsxs("div",{className:"use-cases-content use-cases-content--bento",children:[_.jsxs("div",{className:"use-cases-header-wrap",children:[_.jsx(yy,{icon:Xz,delay:0,className:"use-cases-floating-icon--left",reduceMotion:e}),_.jsx(yy,{icon:Gz,delay:1,className:"use-cases-floating-icon--right1",reduceMotion:e}),_.jsx(yy,{icon:iB,delay:2,className:"use-cases-floating-icon--right2",reduceMotion:e}),_.jsxs(Ni.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},className:"use-cases-header",children:[_.jsxs("h2",{id:"use-cases-title",className:"use-cases-title use-cases-title--bento",children:["Built for every"," ",_.jsxs(Ni.span,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3},className:"use-cases-title-underline-wrap",children:["industry",_.jsx(Ni.svg,{initial:{pathLength:0},whileInView:{pathLength:1},viewport:{once:!0},transition:{duration:.8,delay:.5},className:"use-cases-title-underline",viewBox:"0 0 200 12",fill:"none",children:_.jsx("path",{d:"M2 10C50 2 150 2 198 10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})})]})]}),_.jsx(Ni.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"use-cases-subtitle-bento",children:"From delivery verification and equipment monitoring to fleet management, TagLogger helps businesses track what matters most."})]})]}),_.jsx("div",{className:"use-cases-bento",children:aB.map((t,n)=>_.jsx(lB,{useCase:t,index:n},t.id))}),_.jsx(Ni.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7,delay:.3},className:"use-cases-cta",children:_.jsxs(Ni.a,{href:"#get-in-touch",className:"use-cases-cta-btn",whileHover:{scale:1.03},whileTap:{scale:.98},transition:{duration:.2},onClick:t=>{t.preventDefault();const n=document.getElementById("get-in-touch");if(n){const s=n.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:Math.max(0,s),behavior:"smooth"})}window.history.replaceState?window.history.replaceState(null,"","#get-in-touch"):window.location.hash="get-in-touch"},children:["Get a Free Demo",_.jsx(iI,{className:"use-cases-cta-btn-icon",strokeWidth:1.5})]})})]})})}function uB(e,t){const n=D.useRef(t);D.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function hB(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const dB=1;function fB(e){return Object.freeze({__version:dB,map:e})}function a0(e,t){return Object.freeze({...e,...t})}const o0=D.createContext(null);function sI(){const e=D.use(o0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function rI(e){function t(n,s){const{instance:o,context:c}=e(n).current;D.useImperativeHandle(s,()=>o);const{children:h}=n;return h==null?null:vy.createElement(o0,{value:c},h)}return D.forwardRef(t)}function mB(e){function t(n,s){const{instance:o}=e(n).current;return D.useImperativeHandle(s,()=>o),null}return D.forwardRef(t)}function aI(e,t){const n=D.useRef(void 0);D.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function l0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var mh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var pB=mh.exports,v1;function gB(){return v1||(v1=1,function(e,t){(function(n,s){s(t)})(pB,function(n){var s="1.9.4";function o(a){var u,p,b,S;for(p=1,b=arguments.length;p<b;p++){S=arguments[p];for(u in S)a[u]=S[u]}return a}var c=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function h(a,u){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var b=p.call(arguments,2);return function(){return a.apply(u,b.length?b.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function v(a,u,p){var b,S,I,F;return F=function(){b=!1,S&&(I.apply(p,S),S=!1)},I=function(){b?S=arguments:(a.apply(p,arguments),setTimeout(F,u),b=!0)},I}function w(a,u,p){var b=u[1],S=u[0],I=b-S;return a===b&&p?a:((a-S)%I+I)%I+S}function A(){return!1}function E(a,u){if(u===!1)return a;var p=Math.pow(10,u===void 0?6:u);return Math.round(a*p)/p}function N(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function V(a){return N(a).split(/\s+/)}function q(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var p in u)a.options[p]=u[p];return a.options}function Z(a,u,p){var b=[];for(var S in a)b.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function ct(a,u){return a.replace($,function(p,b){var S=u[b];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(u)),S})}var J=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function dt(a,u){for(var p=0;p<a.length;p++)if(a[p]===u)return p;return-1}var tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function wt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var z=0;function k(a){var u=+new Date,p=Math.max(0,16-(u-z));return z=u+p,window.setTimeout(a,p)}var j=window.requestAnimationFrame||wt("RequestAnimationFrame")||k,G=window.cancelAnimationFrame||wt("CancelAnimationFrame")||wt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function W(a,u,p){if(p&&j===k)a.call(u);else return j.call(window,h(a,u))}function Y(a){a&&G.call(window,a)}var B={__proto__:null,extend:o,create:c,bind:h,get lastId(){return m},stamp:y,throttle:v,wrapNum:w,falseFn:A,formatNum:E,trim:N,splitWords:V,setOptions:q,getParamString:Z,template:ct,isArray:J,indexOf:dt,emptyImageUrl:tt,requestFn:j,cancelFn:G,requestAnimFrame:W,cancelAnimFrame:Y};function jt(){}jt.extend=function(a){var u=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,b=c(p);b.constructor=u,u.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(X(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=p.options?c(p.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,F=b._initHooks.length;I<F;I++)b._initHooks[I].call(this)}},u},jt.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},jt.mergeOptions=function(a){return o(this.prototype.options,a),this},jt.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function X(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=J(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(a,u,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],u);else{a=V(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],u,p)}return this},off:function(a,u,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],u);else{a=V(a);for(var S=arguments.length===1,I=0,F=a.length;I<F;I++)S?this._off(a[I]):this._off(a[I],u,p)}return this},_on:function(a,u,p,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,p)===!1){p===this&&(p=void 0);var S={fn:u,ctx:p};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,p){var b,S,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,I=b.length;S<I;S++)b[S].fn=A;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var F=this._listens(a,u,p);if(F!==!1){var nt=b[F];this._firingCount&&(nt.fn=A,this._events[a]=b=b.slice()),b.splice(F,1)}}},fire:function(a,u,p){if(!this.listens(a,p))return this;var b=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var I=0,F=S.length;I<F;I++){var nt=S[I],ht=nt.fn;nt.once&&this.off(a,ht,nt.ctx),ht.call(nt.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(a,u,p,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(b=!!u,S=void 0,p=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,S,p)!==!1)return!0;if(b){for(var F in this._eventParents)if(this._eventParents[F].listens(a,u,p,b))return!0}return!1},_listens:function(a,u,p){if(!this._events)return!1;var b=this._events[a]||[];if(!u)return!!b.length;p===this&&(p=void 0);for(var S=0,I=b.length;S<I;S++)if(b[S].fn===u&&b[S].ctx===p)return S;return!1},once:function(a,u,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],u,!0);else{a=V(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],u,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var at=jt.extend(U);function rt(a,u,p){this.x=p?Math.round(a):a,this.y=p?Math.round(u):u}var Et=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};rt.prototype={clone:function(){return new rt(this.x,this.y)},add:function(a){return this.clone()._add(O(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(O(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new rt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new rt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Et(this.x),this.y=Et(this.y),this},distanceTo:function(a){a=O(a);var u=a.x-this.x,p=a.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(a){return a=O(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=O(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function O(a,u,p){return a instanceof rt?a:J(a)?new rt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new rt(a.x,a.y):new rt(a,u,p)}function ot(a,u){if(a)for(var p=u?[a,u]:a,b=0,S=p.length;b<S;b++)this.extend(p[b])}ot.prototype={extend:function(a){var u,p;if(!a)return this;if(a instanceof rt||typeof a[0]=="number"||"x"in a)u=p=O(a);else if(a=bt(a),u=a.min,p=a.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,p;return typeof a[0]=="number"||a instanceof rt?a=O(a):a=bt(a),a instanceof ot?(u=a.min,p=a.max):u=p=a,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=bt(a);var u=this.min,p=this.max,b=a.min,S=a.max,I=S.x>=u.x&&b.x<=p.x,F=S.y>=u.y&&b.y<=p.y;return I&&F},overlaps:function(a){a=bt(a);var u=this.min,p=this.max,b=a.min,S=a.max,I=S.x>u.x&&b.x<p.x,F=S.y>u.y&&b.y<p.y;return I&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,p=this.max,b=Math.abs(u.x-p.x)*a,S=Math.abs(u.y-p.y)*a;return bt(O(u.x-b,u.y-S),O(p.x+b,p.y+S))},equals:function(a){return a?(a=bt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function bt(a,u){return!a||a instanceof ot?a:new ot(a,u)}function yt(a,u){if(a)for(var p=u?[a,u]:a,b=0,S=p.length;b<S;b++)this.extend(p[b])}yt.prototype={extend:function(a){var u=this._southWest,p=this._northEast,b,S;if(a instanceof Ct)b=a,S=a;else if(a instanceof yt){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(St(a)||xt(a)):this;return!u&&!p?(this._southWest=new Ct(b.lat,b.lng),this._northEast=new Ct(S.lat,S.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var u=this._southWest,p=this._northEast,b=Math.abs(u.lat-p.lat)*a,S=Math.abs(u.lng-p.lng)*a;return new yt(new Ct(u.lat-b,u.lng-S),new Ct(p.lat+b,p.lng+S))},getCenter:function(){return new Ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ct||"lat"in a?a=St(a):a=xt(a);var u=this._southWest,p=this._northEast,b,S;return a instanceof yt?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=u.lat&&S.lat<=p.lat&&b.lng>=u.lng&&S.lng<=p.lng},intersects:function(a){a=xt(a);var u=this._southWest,p=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>=u.lat&&b.lat<=p.lat,F=S.lng>=u.lng&&b.lng<=p.lng;return I&&F},overlaps:function(a){a=xt(a);var u=this._southWest,p=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>u.lat&&b.lat<p.lat,F=S.lng>u.lng&&b.lng<p.lng;return I&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=xt(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xt(a,u){return a instanceof yt?a:new yt(a,u)}function Ct(a,u,p){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,p!==void 0&&(this.alt=+p)}Ct.prototype={equals:function(a,u){if(!a)return!1;a=St(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+E(this.lat,a)+", "+E(this.lng,a)+")"},distanceTo:function(a){return re.distance(this,St(a))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,p=u/Math.cos(Math.PI/180*this.lat);return xt([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Ct(this.lat,this.lng,this.alt)}};function St(a,u,p){return a instanceof Ct?a:J(a)&&typeof a[0]!="object"?a.length===3?new Ct(a[0],a[1],a[2]):a.length===2?new Ct(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ct(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ct(a,u,p)}var ge={latLngToPoint:function(a,u){var p=this.projection.project(a),b=this.scale(u);return this.transformation._transform(p,b)},pointToLatLng:function(a,u){var p=this.scale(u),b=this.transformation.untransform(a,p);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(a),b=this.transformation.transform(u.min,p),S=this.transformation.transform(u.max,p);return new ot(b,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Ct(p,u,b)},wrapLatLngBounds:function(a){var u=a.getCenter(),p=this.wrapLatLng(u),b=u.lat-p.lat,S=u.lng-p.lng;if(b===0&&S===0)return a;var I=a.getSouthWest(),F=a.getNorthEast(),nt=new Ct(I.lat-b,I.lng-S),ht=new Ct(F.lat-b,F.lng-S);return new yt(nt,ht)}},re=o({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var p=Math.PI/180,b=a.lat*p,S=u.lat*p,I=Math.sin((u.lat-a.lat)*p/2),F=Math.sin((u.lng-a.lng)*p/2),nt=I*I+Math.cos(b)*Math.cos(S)*F*F,ht=2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt));return this.R*ht}}),li=6378137,wi={R:li,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,a.lat),-p),S=Math.sin(b*u);return new rt(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Ct((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=li*Math.PI;return new ot([-a,-a],[a,a])}()};function ci(a,u,p,b){if(J(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=p,this._d=b}ci.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new rt((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function ui(a,u,p,b){return new ci(a,u,p,b)}var ji=o({},re,{code:"EPSG:3857",projection:wi,transformation:function(){var a=.5/(Math.PI*wi.R);return ui(a,.5,-a,.5)}()}),Os=o({},ji,{code:"EPSG:900913"});function ve(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function We(a,u){var p="",b,S,I,F,nt,ht;for(b=0,I=a.length;b<I;b++){for(nt=a[b],S=0,F=nt.length;S<F;S++)ht=nt[S],p+=(S?"L":"M")+ht.x+" "+ht.y;p+=u?kt.svg?"z":"x":""}return p||"M0 0"}var fn=document.documentElement.style,rs="ActiveXObject"in window,zr=rs&&!document.addEventListener,as="msLaunchUri"in navigator&&!("documentMode"in document),hi=Xn("webkit"),Br=Xn("android"),os=Xn("android 2")||Xn("android 3"),Fr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ar=Br&&Xn("Google")&&Fr<537&&!("AudioNode"in window),Te=!!window.opera,ne=!as&&Xn("chrome"),mn=Xn("gecko")&&!hi&&!Te&&!rs,pn=!ne&&Xn("safari"),Xt=Xn("phantom"),Dt="OTransition"in fn,Ee=navigator.platform.indexOf("Win")===0,rn=rs&&"transition"in fn,an="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!os,In="MozPerspective"in fn,Vs=!window.L_DISABLE_3D&&(rn||an||In)&&!Dt&&!Xt,Ui=typeof orientation<"u"||Xn("mobile"),Yo=Ui&&hi,Ko=Ui&&an,Na=!window.PointerEvent&&window.MSPointerEvent,ls=!!(window.PointerEvent||Na),cs="ontouchstart"in window||!!window.TouchEvent,Xo=!window.L_NO_TOUCH&&(cs||ls),us=Ui&&Te,Qo=Ui&&mn,or=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,La=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,u),window.removeEventListener("testPassiveEventSupport",A,u)}catch{}return a}(),lr=function(){return!!document.createElement("canvas").getContext}(),Ma=!!(document.createElementNS&&ve("svg").createSVGRect),De=!!Ma&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),on=!Ma&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Qe=navigator.platform.indexOf("Mac")===0,xi=navigator.platform.indexOf("Linux")===0;function Xn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var kt={ie:rs,ielt9:zr,edge:as,webkit:hi,android:Br,android23:os,androidStock:ar,opera:Te,chrome:ne,gecko:mn,safari:pn,phantom:Xt,opera12:Dt,win:Ee,ie3d:rn,webkit3d:an,gecko3d:In,any3d:Vs,mobile:Ui,mobileWebkit:Yo,mobileWebkit3d:Ko,msPointer:Na,pointer:ls,touch:Xo,touchNative:cs,mobileOpera:us,mobileGecko:Qo,retina:or,passiveEvents:La,canvas:lr,svg:Ma,vml:on,inlineSvg:De,mac:Qe,linux:xi},js=kt.msPointer?"MSPointerDown":"pointerdown",Jo=kt.msPointer?"MSPointerMove":"pointermove",cr=kt.msPointer?"MSPointerUp":"pointerup",Us=kt.msPointer?"MSPointerCancel":"pointercancel",zi={touchstart:js,touchmove:Jo,touchend:cr,touchcancel:Us},Bi={touchstart:qr,touchmove:Hr,touchend:Hr,touchcancel:Hr},zn={},Pn=!1;function Ze(a,u,p){return u==="touchstart"&&Wl(),Bi[u]?(p=Bi[u].bind(this,p),a.addEventListener(zi[u],p,!1),p):(console.warn("wrong event specified:",u),A)}function tl(a,u,p){if(!zi[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(zi[u],p,!1)}function Da(a){zn[a.pointerId]=a}function Fi(a){zn[a.pointerId]&&(zn[a.pointerId]=a)}function hs(a){delete zn[a.pointerId]}function Wl(){Pn||(document.addEventListener(js,Da,!0),document.addEventListener(Jo,Fi,!0),document.addEventListener(cr,hs,!0),document.addEventListener(Us,hs,!0),Pn=!0)}function Hr(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in zn)u.touches.push(zn[p]);u.changedTouches=[u],a(u)}}function qr(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Re(u),Hr(a,u)}function Zl(a){var u={},p,b;for(b in a)p=a[b],u[b]=p&&p.bind?p.bind(a):p;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ur=200;function ds(a,u){a.addEventListener("dblclick",u);var p=0,b;function S(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var F=Va(I);if(!(F.some(function(ht){return ht instanceof HTMLLabelElement&&ht.attributes.for})&&!F.some(function(ht){return ht instanceof HTMLInputElement||ht instanceof HTMLSelectElement}))){var nt=Date.now();nt-p<=ur?(b++,b===2&&u(Zl(I))):b=1,p=nt}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function En(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var zs=Hi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hr=Hi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fs=hr==="webkitTransition"||hr==="OTransition"?hr+"End":"transitionend";function Gr(a){return typeof a=="string"?document.getElementById(a):a}function ms(a,u){var p=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);p=b?b[u]:null}return p==="auto"?null:p}function ie(a,u,p){var b=document.createElement(a);return b.className=u||"",p&&p.appendChild(b),b}function be(a){var u=a.parentNode;u&&u.removeChild(a)}function gn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ps(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function dr(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function fr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var p=Be(a);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function $t(a,u){if(a.classList!==void 0)for(var p=V(u),b=0,S=p.length;b<S;b++)a.classList.add(p[b]);else if(!fr(a,u)){var I=Be(a);el(a,(I?I+" ":"")+u)}}function Se(a,u){a.classList!==void 0?a.classList.remove(u):el(a,N((" "+Be(a)+" ").replace(" "+u+" "," ")))}function el(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Be(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ke(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Wr(a,u)}function Wr(a,u){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):a.style.filter+=" progid:"+b+"(opacity="+u+")"}function Hi(a){for(var u=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in u)return a[p];return!1}function Bn(a,u,p){var b=u||new rt(0,0);a.style[zs]=(kt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function Ft(a,u){a._leaflet_pos=u,kt.any3d?Bn(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function di(a){return a._leaflet_pos||new rt(0,0)}var Nn,qi,ka;if("onselectstart"in document)Nn=function(){Ut(window,"selectstart",Re)},qi=function(){fe(window,"selectstart",Re)};else{var Bs=Hi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(Bs){var a=document.documentElement.style;ka=a[Bs],a[Bs]="none"}},qi=function(){Bs&&(document.documentElement.style[Bs]=ka,ka=void 0)}}function Zr(){Ut(window,"dragstart",Re)}function nl(){fe(window,"dragstart",Re)}var Oa,mr;function Gi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Fn(),Oa=a,mr=a.style.outlineStyle,a.style.outlineStyle="none",Ut(window,"keydown",Fn))}function Fn(){Oa&&(Oa.style.outlineStyle=mr,Oa=void 0,mr=void 0,fe(window,"keydown",Fn))}function gs(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Wi(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var il={__proto__:null,TRANSFORM:zs,TRANSITION:hr,TRANSITION_END:fs,get:Gr,getStyle:ms,create:ie,remove:be,empty:gn,toFront:ps,toBack:dr,hasClass:fr,addClass:$t,removeClass:Se,setClass:el,getClass:Be,setOpacity:ke,testProp:Hi,setTransform:Bn,setPosition:Ft,getPosition:di,get disableTextSelection(){return Nn},get enableTextSelection(){return qi},disableImageDrag:Zr,enableImageDrag:nl,preventOutline:Gi,restoreOutline:Fn,getSizedParentNode:gs,getScale:Wi};function Ut(a,u,p,b){if(u&&typeof u=="object")for(var S in u)Fs(a,S,u[S],p);else{u=V(u);for(var I=0,F=u.length;I<F;I++)Fs(a,u[I],p,b)}return this}var fi="_leaflet_events";function fe(a,u,p,b){if(arguments.length===1)Ei(a),delete a[fi];else if(u&&typeof u=="object")for(var S in u)Si(a,S,u[S],p);else if(u=V(u),arguments.length===2)Ei(a,function(nt){return dt(u,nt)!==-1});else for(var I=0,F=u.length;I<F;I++)Si(a,u[I],p,b);return this}function Ei(a,u){for(var p in a[fi]){var b=p.split(/\d/)[0];(!u||u(b))&&Si(a,b,null,null,p)}}var Qn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fs(a,u,p,b){var S=u+y(p)+(b?"_"+y(b):"");if(a[fi]&&a[fi][S])return this;var I=function(nt){return p.call(b||a,nt||window.event)},F=I;!kt.touchNative&&kt.pointer&&u.indexOf("touch")===0?I=Ze(a,u,I):kt.touch&&u==="dblclick"?I=ds(a,I):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Qn[u]||u,I,kt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(I=function(nt){nt=nt||window.event,qs(a,nt)&&F(nt)},a.addEventListener(Qn[u],I,!1)):a.addEventListener(u,F,!1):a.attachEvent("on"+u,I),a[fi]=a[fi]||{},a[fi][S]=I}function Si(a,u,p,b,S){S=S||u+y(p)+(b?"_"+y(b):"");var I=a[fi]&&a[fi][S];if(!I)return this;!kt.touchNative&&kt.pointer&&u.indexOf("touch")===0?tl(a,u,I):kt.touch&&u==="dblclick"?En(a,I):"removeEventListener"in a?a.removeEventListener(Qn[u]||u,I,!1):a.detachEvent("on"+u,I),a[fi][S]=null}function Jn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Zi(a){return Fs(a,"wheel",Jn),this}function Hs(a){return Ut(a,"mousedown touchstart dblclick contextmenu",Jn),a._leaflet_disable_click=!0,this}function Re(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ln(a){return Re(a),Jn(a),this}function Va(a){if(a.composedPath)return a.composedPath();for(var u=[],p=a.target;p;)u.push(p),p=p.parentNode;return u}function ln(a,u){if(!u)return new rt(a.clientX,a.clientY);var p=Wi(u),b=p.boundingClientRect;return new rt((a.clientX-b.left)/p.x-u.clientLeft,(a.clientY-b.top)/p.y-u.clientTop)}var ye=kt.linux&&kt.chrome?window.devicePixelRatio:kt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $r(a){return kt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ye:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function qs(a,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var $l={__proto__:null,on:Ut,off:fe,stopPropagation:Jn,disableScrollPropagation:Zi,disableClickPropagation:Hs,preventDefault:Re,stop:Ln,getPropagationPath:Va,getMousePosition:ln,getWheelDelta:$r,isExternalTarget:qs,addListener:Ut,removeListener:fe},Yr=at.extend({run:function(a,u,p,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=di(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var p=this._startPos.add(this._offset.multiplyBy(a));u&&p._round(),Ft(this._el,p),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Qt=at.extend({options:{crs:ji,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=q(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(St(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hr&&kt.any3d&&!kt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,fs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(St(a),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,p.zoom):this._tryAnimatedPan(a,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,p){var b=this.getZoomScale(u),S=this.getSize().divideBy(2),I=a instanceof rt?a:this.latLngToContainerPoint(a),F=I.subtract(S).multiplyBy(1-1/b),nt=this.containerPointToLatLng(S.add(F));return this.setView(nt,u,{zoom:p})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():xt(a);var p=O(u.paddingTopLeft||u.padding||[0,0]),b=O(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(b));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var I=b.subtract(p).divideBy(2),F=this.project(a.getSouthWest(),S),nt=this.project(a.getNorthEast(),S),ht=this.unproject(F.add(nt).divideBy(2).add(I),S);return{center:ht,zoom:S}},fitBounds:function(a,u){if(a=xt(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=O(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){$t(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,p){if(p=p||{},p.animate===!1||!kt.any3d)return this.setView(a,u,p);this._stop();var b=this.project(this.getCenter()),S=this.project(a),I=this.getSize(),F=this._zoom;a=St(a),u=u===void 0?F:u;var nt=Math.max(I.x,I.y),ht=nt*this.getZoomScale(F,u),Tt=S.distanceTo(b)||1,It=1.42,Nt=It*It;function Mt(He){var xs=He?-1:1,Ks=He?ht:nt,Tr=ht*ht-nt*nt+xs*Nt*Nt*Tt*Tt,Xs=2*Ks*Nt*Tt,_l=Tr/Xs,oc=Math.sqrt(_l*_l+1)-_l,vl=oc<1e-9?-18:Math.log(oc);return vl}function Zt(He){return(Math.exp(He)-Math.exp(-He))/2}function Ve(He){return(Math.exp(He)+Math.exp(-He))/2}function $e(He){return Zt(He)/Ve(He)}var Dn=Mt(0);function Ai(He){return nt*(Ve(Dn)/Ve(Dn+It*He))}function bd(He){return nt*(Ve(Dn)*$e(Dn+It*He)-Zt(Dn))/Nt}function wd(He){return 1-Math.pow(1-He,1.5)}var yl=Date.now(),to=(Mt(1)-Dn)/It,xd=p.duration?1e3*p.duration:1e3*to*.8;function eo(){var He=(Date.now()-yl)/xd,xs=wd(He)*to;He<=1?(this._flyToFrame=W(eo,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(bd(xs)/Tt)),F),this.getScaleZoom(nt/Ai(xs),F),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),eo.call(this),this},flyToBounds:function(a,u){var p=this._getBoundsCenterZoom(a,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(a){return a=xt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,xt(a));return p.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var p=O(u.paddingTopLeft||u.padding||[0,0]),b=O(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),I=this.project(a),F=this.getPixelBounds(),nt=bt([F.min.add(p),F.max.subtract(b)]),ht=nt.getSize();if(!nt.contains(I)){this._enforcingBounds=!0;var Tt=I.subtract(nt.getCenter()),It=nt.extend(I).getSize().subtract(ht);S.x+=Tt.x<0?-It.x:It.x,S.y+=Tt.y<0?-It.y:It.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=u.divideBy(2).round(),S=p.divideBy(2).round(),I=b.subtract(S);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=h(this._handleGeolocationResponse,this),p=h(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,a):navigator.geolocation.getCurrentPosition(u,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,p=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,p=a.coords.longitude,b=new Ct(u,p),S=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var F=this.getBoundsZoom(S);this.setView(b,I.maxZoom?Math.min(F,I.maxZoom):F)}var nt={latlng:b,bounds:S,timestamp:a.timestamp};for(var ht in a.coords)typeof a.coords[ht]=="number"&&(nt[ht]=a.coords[ht]);this.fire("locationfound",nt)}},addHandler:function(a,u){if(!u)return this;var p=this[a]=new u(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)be(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=ie("div",p,u||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new yt(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,p){a=xt(a),p=O(p||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),I=this.getMaxZoom(),F=a.getNorthWest(),nt=a.getSouthEast(),ht=this.getSize().subtract(p),Tt=bt(this.project(nt,b),this.project(F,b)).getSize(),It=kt.any3d?this.options.zoomSnap:1,Nt=ht.x/Tt.x,Mt=ht.y/Tt.y,Zt=u?Math.max(Nt,Mt):Math.min(Nt,Mt);return b=this.getScaleZoom(Zt,b),It&&(b=Math.round(b/(It/100))*(It/100),b=u?Math.ceil(b/It)*It:Math.floor(b/It)*It),Math.max(S,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new rt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var p=this._getTopLeftPoint(a,u);return new ot(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(a)/p.scale(u)},getScaleZoom:function(a,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var b=p.zoom(a*p.scale(u));return isNaN(b)?1/0:b},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(St(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(O(a),u)},layerPointToLatLng:function(a){var u=O(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(St(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(St(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(xt(a))},distance:function(a,u){return this.options.crs.distance(St(a),St(u))},containerPointToLayerPoint:function(a){return O(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return O(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(O(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(St(a)))},mouseEventToContainerPoint:function(a){return ln(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Gr(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&kt.any3d,$t(a,"leaflet-container"+(kt.touch?" leaflet-touch":"")+(kt.retina?" leaflet-retina":"")+(kt.ielt9?" leaflet-oldie":"")+(kt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ms(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new rt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||($t(a.markerPane,"leaflet-zoom-hide"),$t(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,p){Ft(this._mapPane,new rt(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,p)._move(a,u)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,p,b){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ft(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var u=a?fe:Ut;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),kt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var p=[],b,S=u==="mouseout"||u==="mouseover",I=a.target||a.srcElement,F=!1;I;){if(b=this._targets[y(I)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){F=!0;break}if(b&&b.listens(u,!0)&&(S&&!qs(I,a)||(p.push(b),S))||I===this._container)break;I=I.parentNode}return!p.length&&!F&&!S&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var p=a.type;p==="mousedown"&&Gi(u),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,p){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var S=this._findEventTargets(a,u);if(p){for(var I=[],F=0;F<p.length;F++)p[F].listens(u,!0)&&I.push(p[F]);S=I.concat(S)}if(S.length){u==="contextmenu"&&Re(a);var nt=S[0],ht={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Tt=nt.getLatLng&&(!nt._radius||nt._radius<=10);ht.containerPoint=Tt?this.latLngToContainerPoint(nt.getLatLng()):this.mouseEventToContainerPoint(a),ht.layerPoint=this.containerPointToLayerPoint(ht.containerPoint),ht.latlng=Tt?nt.getLatLng():this.layerPointToLatLng(ht.layerPoint)}for(F=0;F<S.length;F++)if(S[F].fire(u,ht,!0),ht.originalEvent._stopped||S[F].options.bubblingMouseEvents===!1&&dt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return di(this._mapPane)||new rt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var p=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var p=this.getSize()._divideBy(2);return this.project(a,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,p){var b=this._getNewPixelOrigin(p,u);return this.project(a,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,u,p){var b=this._getNewPixelOrigin(p,u);return bt([this.project(a.getSouthWest(),u)._subtract(b),this.project(a.getNorthWest(),u)._subtract(b),this.project(a.getSouthEast(),u)._subtract(b),this.project(a.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,p){if(!p)return a;var b=this.project(a,u),S=this.getSize().divideBy(2),I=new ot(b.subtract(S),b.add(S)),F=this._getBoundsOffset(I,p,u);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?a:this.unproject(b.add(F),u)},_limitOffset:function(a,u){if(!u)return a;var p=this.getPixelBounds(),b=new ot(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(a,u,p){var b=bt(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),S=b.min.subtract(a.min),I=b.max.subtract(a.max),F=this._rebound(S.x,-I.x),nt=this._rebound(S.y,-I.y);return new rt(F,nt)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),p=this.getMaxZoom(),b=kt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(u,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var p=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var a=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var p=zs,b=this._proxy.style[p];Bn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Bn(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(S)?!1:(W(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,$t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ys(a,u){return new Qt(a,u)}var Sn=jt.extend({options:{position:"topright"},initialize:function(a){q(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),p=this.getPosition(),b=a._controlCorners[p];return $t(u,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Mn=function(a){return new Sn(a)};Qt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",p=this._controlContainer=ie("div",u+"control-container",this._container);function b(S,I){var F=u+S+" "+u+I;a[S+I]=ie("div",F,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)be(this._controlCorners[a]);be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sl=Sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,p,b){return p<b?-1:b<p?1:0}},initialize:function(a,u,p){q(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Sn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){$t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?($t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=ie("div",a),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Hs(u),Zi(u);var b=this._section=ie("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ut(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ie("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ut(S,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Re(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=ie("div",a+"-base",b),this._separator=ie("div",a+"-separator",b),this._overlaysList=ie("div",a+"-overlays",b),u.appendChild(b)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(h(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var a,u,p,b,S=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),u=u||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(y(a.target)),p=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(a,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(a){var u=document.createElement("label"),p=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(b),b.layerId=y(a.layer),Ut(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var I=document.createElement("span");u.appendChild(I),I.appendChild(b),I.appendChild(S);var F=a.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,p,b=[],S=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)u=a[I],p=this._getLayer(u.layerId).layer,u.checked?b.push(p):u.checked||S.push(p);for(I=0;I<S.length;I++)this._map.hasLayer(S[I])&&this._map.removeLayer(S[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,p,b=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ut(a,"click",Re),this.expand();var u=this;setTimeout(function(){fe(a,"click",Re),u._preventClick=!1})}}),mu=function(a,u,p){return new sl(a,u,p)},Gs=Sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",p=ie("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,p,b,S){var I=ie("a",p,b);return I.innerHTML=a,I.href="#",I.title=u,I.setAttribute("role","button"),I.setAttribute("aria-label",u),Hs(I),Ut(I,"click",Ln),Ut(I,"click",S,this),Ut(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Se(this._zoomInButton,u),Se(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&($t(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&($t(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gs,this.addControl(this.zoomControl))});var ja=function(a){return new Gs(a)},Ua=Sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",p=ie("div",u),b=this.options;return this._addScales(b,u+"-line",p),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,p){a.metric&&(this._mScale=ie("div",u,p)),a.imperial&&(this._iScale=ie("div",u,p))},_update:function(){var a=this._map,u=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/a)},_updateImperial:function(a){var u=a*3.2808399,p,b,S;u>5280?(p=u/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),p=a/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),za=function(a){return new Ua(a)},Yl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pr=Sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(kt.inlineSvg?Yl+" ":"")+"Leaflet</a>"},initialize:function(a){q(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),Hs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new pr().addTo(this)});var pu=function(a){return new pr(a)};Sn.Layers=sl,Sn.Zoom=Gs,Sn.Scale=Ua,Sn.Attribution=pr,Mn.layers=mu,Mn.zoom=ja,Mn.scale=za,Mn.attribution=pu;var ti=jt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ti.addTo=function(a,u){return a.addHandler(u,this),this};var Kr={Events:U},rl=kt.touch?"touchstart mousedown":"mousedown",$i=at.extend({options:{clickTolerance:3},initialize:function(a,u,p,b){q(this,b),this._element=a,this._dragStartTarget=u||a,this._preventOutline=p},enable:function(){this._enabled||(Ut(this._dragStartTarget,rl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($i._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,rl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!fr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){$i._dragging===this&&this.finishDrag();return}if(!($i._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&($i._dragging=this,this._preventOutline&&Gi(this._element),Zr(),Nn(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,p=gs(this._element);this._startPoint=new rt(u.clientX,u.clientY),this._startPos=di(this._element),this._parentScale=Wi(p);var b=a.type==="mousedown";Ut(document,b?"mousemove":"touchmove",this._onMove,this),Ut(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,p=new rt(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Re(a),this._moved||(this.fire("dragstart"),this._moved=!0,$t(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),$t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ft(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Se(document.body,"leaflet-dragging"),this._lastTarget&&(Se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),nl(),qi();var u=this._moved&&this._moving;this._moving=!1,$i._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ba(a,u,p){var b,S=[1,4,2,8],I,F,nt,ht,Tt,It,Nt,Mt;for(I=0,It=a.length;I<It;I++)a[I]._code=_s(a[I],u);for(nt=0;nt<4;nt++){for(Nt=S[nt],b=[],I=0,It=a.length,F=It-1;I<It;F=I++)ht=a[I],Tt=a[F],ht._code&Nt?Tt._code&Nt||(Mt=yn(Tt,ht,Nt,u,p),Mt._code=_s(Mt,u),b.push(Mt)):(Tt._code&Nt&&(Mt=yn(Tt,ht,Nt,u,p),Mt._code=_s(Mt,u),b.push(Mt)),b.push(ht));a=b}return a}function gr(a,u){var p,b,S,I,F,nt,ht,Tt,It;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Nt=St([0,0]),Mt=xt(a),Zt=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Zt<1700&&(Nt=Fa(a));var Ve=a.length,$e=[];for(p=0;p<Ve;p++){var Dn=St(a[p]);$e.push(u.project(St([Dn.lat-Nt.lat,Dn.lng-Nt.lng])))}for(nt=ht=Tt=0,p=0,b=Ve-1;p<Ve;b=p++)S=$e[p],I=$e[b],F=S.y*I.x-I.y*S.x,ht+=(S.x+I.x)*F,Tt+=(S.y+I.y)*F,nt+=F*3;nt===0?It=$e[0]:It=[ht/nt,Tt/nt];var Ai=u.unproject(O(It));return St([Ai.lat+Nt.lat,Ai.lng+Nt.lng])}function Fa(a){for(var u=0,p=0,b=0,S=0;S<a.length;S++){var I=St(a[S]);u+=I.lat,p+=I.lng,b++}return St([u/b,p/b])}var Ha={__proto__:null,clipPolygon:Ba,polygonCenter:gr,centroid:Fa};function al(a,u){if(!u||!a.length)return a.slice();var p=u*u;return a=Xl(a,p),a=Kl(a,p),a}function qa(a,u,p){return Math.sqrt(ei(a,u,p,!0))}function Ws(a,u,p){return ei(a,u,p)}function Kl(a,u){var p=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(p);S[0]=S[p-1]=1,Ga(a,S,u,0,p-1);var I,F=[];for(I=0;I<p;I++)S[I]&&F.push(a[I]);return F}function Ga(a,u,p,b,S){var I=0,F,nt,ht;for(nt=b+1;nt<=S-1;nt++)ht=ei(a[nt],a[b],a[S],!0),ht>I&&(F=nt,I=ht);I>p&&(u[F]=1,Ga(a,u,p,b,F),Ga(a,u,p,F,S))}function Xl(a,u){for(var p=[a[0]],b=1,S=0,I=a.length;b<I;b++)Ql(a[b],a[S])>u&&(p.push(a[b]),S=b);return S<I-1&&p.push(a[I-1]),p}var ol;function Xr(a,u,p,b,S){var I=b?ol:_s(a,p),F=_s(u,p),nt,ht,Tt;for(ol=F;;){if(!(I|F))return[a,u];if(I&F)return!1;nt=I||F,ht=yn(a,u,nt,p,S),Tt=_s(ht,p),nt===I?(a=ht,I=Tt):(u=ht,F=Tt)}}function yn(a,u,p,b,S){var I=u.x-a.x,F=u.y-a.y,nt=b.min,ht=b.max,Tt,It;return p&8?(Tt=a.x+I*(ht.y-a.y)/F,It=ht.y):p&4?(Tt=a.x+I*(nt.y-a.y)/F,It=nt.y):p&2?(Tt=ht.x,It=a.y+F*(ht.x-a.x)/I):p&1&&(Tt=nt.x,It=a.y+F*(nt.x-a.x)/I),new rt(Tt,It,S)}function _s(a,u){var p=0;return a.x<u.min.x?p|=1:a.x>u.max.x&&(p|=2),a.y<u.min.y?p|=4:a.y>u.max.y&&(p|=8),p}function Ql(a,u){var p=u.x-a.x,b=u.y-a.y;return p*p+b*b}function ei(a,u,p,b){var S=u.x,I=u.y,F=p.x-S,nt=p.y-I,ht=F*F+nt*nt,Tt;return ht>0&&(Tt=((a.x-S)*F+(a.y-I)*nt)/ht,Tt>1?(S=p.x,I=p.y):Tt>0&&(S+=F*Tt,I+=nt*Tt)),F=a.x-S,nt=a.y-I,b?F*F+nt*nt:new rt(S,I)}function f(a){return!J(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function x(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(a)}function C(a,u){var p,b,S,I,F,nt,ht,Tt;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var It=St([0,0]),Nt=xt(a),Mt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Mt<1700&&(It=Fa(a));var Zt=a.length,Ve=[];for(p=0;p<Zt;p++){var $e=St(a[p]);Ve.push(u.project(St([$e.lat-It.lat,$e.lng-It.lng])))}for(p=0,b=0;p<Zt-1;p++)b+=Ve[p].distanceTo(Ve[p+1])/2;if(b===0)Tt=Ve[0];else for(p=0,I=0;p<Zt-1;p++)if(F=Ve[p],nt=Ve[p+1],S=F.distanceTo(nt),I+=S,I>b){ht=(I-b)/S,Tt=[nt.x-ht*(nt.x-F.x),nt.y-ht*(nt.y-F.y)];break}var Dn=u.unproject(O(Tt));return St([Dn.lat+It.lat,Dn.lng+It.lng])}var M={__proto__:null,simplify:al,pointToSegmentDistance:qa,closestPointOnSegment:Ws,clipSegment:Xr,_getEdgeIntersection:yn,_getBitCode:_s,_sqClosestPointOnSegment:ei,isFlat:f,_flat:x,polylineCenter:C},et={project:function(a){return new rt(a.lng,a.lat)},unproject:function(a){return new Ct(a.y,a.x)},bounds:new ot([-180,-90],[180,90])},ft={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,p=this.R,b=a.lat*u,S=this.R_MINOR/p,I=Math.sqrt(1-S*S),F=I*Math.sin(b),nt=Math.tan(Math.PI/4-b/2)/Math.pow((1-F)/(1+F),I/2);return b=-p*Math.log(Math.max(nt,1e-10)),new rt(a.lng*u*p,b)},unproject:function(a){for(var u=180/Math.PI,p=this.R,b=this.R_MINOR/p,S=Math.sqrt(1-b*b),I=Math.exp(-a.y/p),F=Math.PI/2-2*Math.atan(I),nt=0,ht=.1,Tt;nt<15&&Math.abs(ht)>1e-7;nt++)Tt=S*Math.sin(F),Tt=Math.pow((1-Tt)/(1+Tt),S/2),ht=Math.PI/2-2*Math.atan(I*Tt)-F,F+=ht;return new Ct(F*u,a.x*u/p)}},At={__proto__:null,LonLat:et,Mercator:ft,SphericalMercator:wi},le=o({},re,{code:"EPSG:3395",projection:ft,transformation:function(){var a=.5/(Math.PI*ft.R);return ui(a,.5,-a,.5)}()}),Je=o({},re,{code:"EPSG:4326",projection:et,transformation:ui(1/180,1,-1/180,.5)}),ce=o({},ge,{projection:et,transformation:ui(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var p=u.lng-a.lng,b=u.lat-a.lat;return Math.sqrt(p*p+b*b)},infinite:!0});ge.Earth=re,ge.EPSG3395=le,ge.EPSG3857=ji,ge.EPSG900913=Os,ge.EPSG4326=Je,ge.Simple=ce;var we=at.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=y(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},_addLayers:function(a){a=a?J(a)?a:[a]:[];for(var u=0,p=a.length;u<p;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=y(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Oe=we.extend({initialize:function(a,u){q(this,u),this._layers={};var p,b;if(a)for(p=0,b=a.length;p<b;p++)this.addLayer(a[p])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[a]&&b[a].apply(b,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),Zs=function(a,u){return new Oe(a,u)},Le=Oe.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Oe.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Oe.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new yt;for(var u in this._layers){var p=this._layers[u];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),vs=function(a,u){return new Le(a,u)},Ts=jt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){q(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,u){var p=this.options,b=p[u+"Size"];typeof b=="number"&&(b=[b,b]);var S=O(b),I=O(u==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(p.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return kt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Jl(a){return new Ts(a)}var Wa=Ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Wa.imagePath!="string"&&(Wa.imagePath=this._detectIconPath()),(this.options.imagePath||Wa.imagePath)+Ts.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(p,b,S){var I=b.exec(p);return I&&I[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ie("div","leaflet-default-icon-path",document.body),u=ms(a,"background-image")||ms(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),gu=ti.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new $i(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),$t(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,p=u._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,I=di(u._icon),F=p.getPixelBounds(),nt=p.getPixelOrigin(),ht=bt(F.min._subtract(nt).add(S),F.max._subtract(nt).subtract(S));if(!ht.contains(I)){var Tt=O((Math.max(ht.max.x,I.x)-ht.max.x)/(F.max.x-ht.max.x)-(Math.min(ht.min.x,I.x)-ht.min.x)/(F.min.x-ht.min.x),(Math.max(ht.max.y,I.y)-ht.max.y)/(F.max.y-ht.max.y)-(Math.min(ht.min.y,I.y)-ht.min.y)/(F.min.y-ht.min.y)).multiplyBy(b);p.panBy(Tt,{animate:!1}),this._draggable._newPos._add(Tt),this._draggable._startPos._add(Tt),Ft(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=W(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,p=u._shadow,b=di(u._icon),S=u._map.layerPointToLatLng(b);p&&Ft(p,b),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Za=we.extend({options:{icon:new Wa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){q(this,u),this._latlng=St(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=St(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),$t(p,u),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),I=!1;S!==this._shadow&&(this._removeShadow(),I=!0),S&&($t(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&be(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ft(this._icon,a),this._shadow&&Ft(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&($t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gu)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gu(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ke(this._icon,a),this._shadow&&ke(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,p=u.iconSize?O(u.iconSize):O(0,0),b=u.iconAnchor?O(u.iconAnchor):O(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yu(a,u){return new Za(a,u)}var $s=we.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return q(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ll=$s.extend({options:{fill:!0,radius:10},initialize:function(a,u){q(this,u),this._latlng=St(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=St(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return $s.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,p=this._clickTolerance(),b=[a+p,u+p];this._pxBounds=new ot(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pd(a,u){return new ll(a,u)}var _u=ll.extend({initialize:function(a,u,p){if(typeof u=="number"&&(u=o({},p,{radius:u})),q(this,u),this._latlng=St(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new yt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:$s.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===re.distance){var S=Math.PI/180,I=this._mRadius/re.R/S,F=p.project([u+I,a]),nt=p.project([u-I,a]),ht=F.add(nt).divideBy(2),Tt=p.unproject(ht).lat,It=Math.acos((Math.cos(I*S)-Math.sin(u*S)*Math.sin(Tt*S))/(Math.cos(u*S)*Math.cos(Tt*S)))/S;(isNaN(It)||It===0)&&(It=I/Math.cos(Math.PI/180*u)),this._point=ht.subtract(p.getPixelOrigin()),this._radius=isNaN(It)?0:ht.x-p.project([Tt,a-It]).x,this._radiusY=ht.y-F.y}else{var Nt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Nt).x}this._updateBounds()}});function op(a,u,p){return new _u(a,u,p)}var Ys=$s.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){q(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,p=null,b=ei,S,I,F=0,nt=this._parts.length;F<nt;F++)for(var ht=this._parts[F],Tt=1,It=ht.length;Tt<It;Tt++){S=ht[Tt-1],I=ht[Tt];var Nt=b(a,S,I,!0);Nt<u&&(u=Nt,p=b(a,S,I))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=St(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new yt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],p=f(a),b=0,S=a.length;b<S;b++)p?(u[b]=St(a[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(a[b]);return u},_project:function(){var a=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new rt(a,a);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,p){var b=a[0]instanceof Ct,S=a.length,I,F;if(b){for(F=[],I=0;I<S;I++)F[I]=this._map.latLngToLayerPoint(a[I]),p.extend(F[I]);u.push(F)}else for(I=0;I<S;I++)this._projectLatlngs(a[I],u,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,b,S,I,F,nt,ht;for(p=0,S=0,I=this._rings.length;p<I;p++)for(ht=this._rings[p],b=0,F=ht.length;b<F-1;b++)nt=Xr(ht[b],ht[b+1],a,b,!0),nt&&(u[S]=u[S]||[],u[S].push(nt[0]),(nt[1]!==ht[b+1]||b===F-2)&&(u[S].push(nt[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,p=0,b=a.length;p<b;p++)a[p]=al(a[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var p,b,S,I,F,nt,ht=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,I=this._parts.length;p<I;p++)for(nt=this._parts[p],b=0,F=nt.length,S=F-1;b<F;S=b++)if(!(!u&&b===0)&&qa(a,nt[S],nt[b])<=ht)return!0;return!1}});function lp(a,u){return new Ys(a,u)}Ys._flat=x;var $a=Ys.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Ys.prototype._convertLatLngs.call(this,a),p=u.length;return p>=2&&u[0]instanceof Ct&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(a){Ys.prototype._setLatLngs.call(this,a),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,p=new rt(u,u);if(a=new ot(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,I;b<S;b++)I=Ba(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,p,b,S,I,F,nt,ht,Tt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,ht=this._parts.length;I<ht;I++)for(p=this._parts[I],F=0,Tt=p.length,nt=Tt-1;F<Tt;nt=F++)b=p[F],S=p[nt],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(u=!u);return u||Ys.prototype._containsPoint.call(this,a,!0)}});function mi(a,u){return new $a(a,u)}var pi=Le.extend({initialize:function(a,u){q(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=J(a)?a:a.features,p,b,S;if(u){for(p=0,b=u.length;p<b;p++)S=u[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var F=cl(a,I);return F?(F.feature=Ya(a),F.defaultOptions=F.options,this.resetStyle(F),I.onEachFeature&&I.onEachFeature(a,F),this.addLayer(F)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function cl(a,u){var p=a.type==="Feature"?a.geometry:a,b=p?p.coordinates:null,S=[],I=u&&u.pointToLayer,F=u&&u.coordsToLatLng||tc,nt,ht,Tt,It;if(!b&&!p)return null;switch(p.type){case"Point":return nt=F(b),vu(I,a,nt,u);case"MultiPoint":for(Tt=0,It=b.length;Tt<It;Tt++)nt=F(b[Tt]),S.push(vu(I,a,nt,u));return new Le(S);case"LineString":case"MultiLineString":return ht=ul(b,p.type==="LineString"?0:1,F),new Ys(ht,u);case"Polygon":case"MultiPolygon":return ht=ul(b,p.type==="Polygon"?1:2,F),new $a(ht,u);case"GeometryCollection":for(Tt=0,It=p.geometries.length;Tt<It;Tt++){var Nt=cl({geometry:p.geometries[Tt],type:"Feature",properties:a.properties},u);Nt&&S.push(Nt)}return new Le(S);case"FeatureCollection":for(Tt=0,It=p.features.length;Tt<It;Tt++){var Mt=cl(p.features[Tt],u);Mt&&S.push(Mt)}return new Le(S);default:throw new Error("Invalid GeoJSON object.")}}function vu(a,u,p,b){return a?a(u,p):new Za(p,b&&b.markersInheritOptions&&b)}function tc(a){return new Ct(a[1],a[0],a[2])}function ul(a,u,p){for(var b=[],S=0,I=a.length,F;S<I;S++)F=u?ul(a[S],u-1,p):(p||tc)(a[S]),b.push(F);return b}function hl(a,u){return a=St(a),a.alt!==void 0?[E(a.lng,u),E(a.lat,u),E(a.alt,u)]:[E(a.lng,u),E(a.lat,u)]}function ec(a,u,p,b){for(var S=[],I=0,F=a.length;I<F;I++)S.push(u?ec(a[I],f(a[I])?0:u-1,p,b):hl(a[I],b));return!u&&p&&S.length>0&&S.push(S[0].slice()),S}function Yi(a,u){return a.feature?o({},a.feature,{geometry:u}):Ya(u)}function Ya(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Qr={toGeoJSON:function(a){return Yi(this,{type:"Point",coordinates:hl(this.getLatLng(),a)})}};Za.include(Qr),_u.include(Qr),ll.include(Qr),Ys.include({toGeoJSON:function(a){var u=!f(this._latlngs),p=ec(this._latlngs,u?1:0,!1,a);return Yi(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),$a.include({toGeoJSON:function(a){var u=!f(this._latlngs),p=u&&!f(this._latlngs[0]),b=ec(this._latlngs,p?2:u?1:0,!0,a);return u||(b=[b]),Yi(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Oe.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(a).geometry.coordinates)}),Yi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var p=u==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var I=S.toGeoJSON(a);if(p)b.push(I.geometry);else{var F=Ya(I);F.type==="FeatureCollection"?b.push.apply(b,F.features):b.push(F)}}}),p?Yi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function nc(a,u){return new pi(a,u)}var gd=nc,bs=we.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,p){this._url=a,this._bounds=xt(u),q(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&($t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ps(this._image),this},bringToBack:function(){return this._map&&dr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=xt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:ie("img");if($t(u,"leaflet-image-layer"),this._zoomAnimated&&$t(u,"leaflet-zoom-animated"),this.options.className&&$t(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onload=h(this.fire,this,"load"),u.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Bn(this._image,p,u)},_reset:function(){var a=this._image,u=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();Ft(a,u.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Ka=function(a,u,p){return new bs(a,u,p)},ic=bs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:ie("video");if($t(u,"leaflet-image-layer"),this._zoomAnimated&&$t(u,"leaflet-zoom-animated"),this.options.className&&$t(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onloadeddata=h(this.fire,this,"load"),a){for(var p=u.getElementsByTagName("source"),b=[],S=0;S<p.length;S++)b.push(p[S].src);this._url=p.length>0?b:[u.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var F=ie("source");F.src=this._url[I],u.appendChild(F)}}});function yd(a,u,p){return new ic(a,u,p)}var yr=bs.extend({_initImage:function(){var a=this._image=this._url;$t(a,"leaflet-image-layer"),this._zoomAnimated&&$t(a,"leaflet-zoom-animated"),this.options.className&&$t(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function _d(a,u,p){return new yr(a,u,p)}var Ki=we.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ct||J(a))?(this._latlng=St(a),q(this,u)):(q(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&($t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(h(be,void 0,this._container),200)):be(this._container),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=St(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ps(this._container),this},bringToBack:function(){return this._map&&dr(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Le){u=null;var p=this._source._layers;for(var b in p)if(p[b]._map){u=p[b];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=O(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ft(this._container,a.add(p)):u=u.add(a).add(p);var b=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(a,u,p,b){var S=u;return S instanceof a||(S=new a(b).setContent(u)),p&&S.setLatLng(p),S}}),we.include({_initOverlay:function(a,u,p,b){var S=p;return S instanceof a?(q(S,b),S._source=this):(S=u&&!b?u:new a(b,this),S.setContent(p)),S}});var dl=Ki.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ki.prototype.openOn.call(this,a)},onAdd:function(a){Ki.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $s||this._source.on("preclick",Jn))},onRemove:function(a){Ki.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $s||this._source.off("preclick",Jn))},getEvents:function(){var a=Ki.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=ie("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=ie("div",a+"-content-wrapper",u);if(this._contentNode=ie("div",a+"-content",p),Hs(u),Zi(this._contentNode),Ut(u,"contextmenu",Jn),this._tipContainer=ie("div",a+"-tip-container",u),this._tip=ie("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ie("a",a+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(b,"click",function(S){Re(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var b=a.offsetHeight,S=this.options.maxHeight,I="leaflet-popup-scrolled";S&&b>S?(u.height=S+"px",$t(a,I)):Se(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ft(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(ms(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,b=this._containerWidth,S=new rt(this._containerLeft,-p-this._containerBottom);S._add(di(this._container));var I=a.layerPointToContainerPoint(S),F=O(this.options.autoPanPadding),nt=O(this.options.autoPanPaddingTopLeft||F),ht=O(this.options.autoPanPaddingBottomRight||F),Tt=a.getSize(),It=0,Nt=0;I.x+b+ht.x>Tt.x&&(It=I.x+b-Tt.x+ht.x),I.x-It-nt.x<0&&(It=I.x-nt.x),I.y+p+ht.y>Tt.y&&(Nt=I.y+p-Tt.y+ht.y),I.y-Nt-nt.y<0&&(Nt=I.y-nt.y),(It||Nt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([It,Nt]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cp=function(a,u){return new dl(a,u)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(a,u,p){return this._initOverlay(dl,a,u,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),we.include({bindPopup:function(a,u){return this._popup=this._initOverlay(dl,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Le||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ln(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof $s)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var sc=Ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ki.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ki.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ki.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,p,b=this._map,S=this._container,I=b.latLngToContainerPoint(b.getCenter()),F=b.layerPointToContainerPoint(a),nt=this.options.direction,ht=S.offsetWidth,Tt=S.offsetHeight,It=O(this.options.offset),Nt=this._getAnchor();nt==="top"?(u=ht/2,p=Tt):nt==="bottom"?(u=ht/2,p=0):nt==="center"?(u=ht/2,p=Tt/2):nt==="right"?(u=0,p=Tt/2):nt==="left"?(u=ht,p=Tt/2):F.x<I.x?(nt="right",u=0,p=Tt/2):(nt="left",u=ht+(It.x+Nt.x)*2,p=Tt/2),a=a.subtract(O(u,p,!0)).add(It).add(Nt),Se(S,"leaflet-tooltip-right"),Se(S,"leaflet-tooltip-left"),Se(S,"leaflet-tooltip-top"),Se(S,"leaflet-tooltip-bottom"),$t(S,"leaflet-tooltip-"+nt),Ft(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ke(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),up=function(a,u){return new sc(a,u)};Qt.include({openTooltip:function(a,u,p){return this._initOverlay(sc,a,u,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),we.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sc,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Le||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Ut(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ut(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,p,b;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var Tu=Ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(gn(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=O(p.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function vd(a){return new Tu(a)}Ts.Default=Wa;var Jr=we.extend({options:{tileSize:256,opacity:1,updateWhenIdle:kt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){q(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),be(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ps(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof rt?a:new rt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,p=-a(-1/0,1/0),b=0,S=u.length,I;b<S;b++)I=u[b].style.zIndex,u[b]!==this._container&&I&&(p=a(p,+I));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!kt.ielt9){ke(this._container,this.options.opacity);var a=+new Date,u=!1,p=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var I=Math.min(1,(a-S.loaded)/200);ke(S.el,I),I<1?u=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(Y(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=u-Math.abs(a-p),this._onUpdateLevel(p)):(be(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),A(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)be(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,p,b){var S=Math.floor(a/2),I=Math.floor(u/2),F=p-1,nt=new rt(+S,+I);nt.z=+F;var ht=this._tileCoordsToKey(nt),Tt=this._tiles[ht];return Tt&&Tt.active?(Tt.retain=!0,!0):(Tt&&Tt.loaded&&(Tt.retain=!0),F>b?this._retainParent(S,I,F,b):!1)},_retainChildren:function(a,u,p,b){for(var S=2*a;S<2*a+2;S++)for(var I=2*u;I<2*u+2;I++){var F=new rt(S,I);F.z=p+1;var nt=this._tileCoordsToKey(F),ht=this._tiles[nt];if(ht&&ht.active){ht.retain=!0;continue}else ht&&ht.loaded&&(ht.retain=!0);p+1<b&&this._retainChildren(S,I,p+1,b)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,p,b){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var I=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||I)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,u)},_setZoomTransform:function(a,u,p){var b=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,p)).round();kt.any3d?Bn(a.el,S,b):Ft(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],b).x/p.x),Math.ceil(a.project([0,u.wrapLng[1]],b).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],b).y/p.x),Math.ceil(a.project([u.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(p,this._tileZoom),S=u.project(a,this._tileZoom).floor(),I=u.getSize().divideBy(b*2);return new ot(S.subtract(I),S.add(I))},_update:function(a){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),I=S.getCenter(),F=[],nt=this.options.keepBuffer,ht=new ot(S.getBottomLeft().subtract([nt,-nt]),S.getTopRight().add([nt,-nt]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Tt in this._tiles){var It=this._tiles[Tt].coords;(It.z!==this._tileZoom||!ht.contains(new rt(It.x,It.y)))&&(this._tiles[Tt].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Nt=S.min.y;Nt<=S.max.y;Nt++)for(var Mt=S.min.x;Mt<=S.max.x;Mt++){var Zt=new rt(Mt,Nt);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var Ve=this._tiles[this._tileCoordsToKey(Zt)];Ve?Ve.current=!0:F.push(Zt)}}if(F.sort(function(Dn,Ai){return Dn.distanceTo(I)-Ai.distanceTo(I)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $e=document.createDocumentFragment();for(Mt=0;Mt<F.length;Mt++)this._addTile(F[Mt],$e);this._level.el.appendChild($e)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!u.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return xt(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,p=this.getTileSize(),b=a.scaleBy(p),S=b.add(p),I=u.unproject(b,a.z),F=u.unproject(S,a.z);return[I,F]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),p=new yt(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),p=new rt(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(a){var u=this._tiles[a];u&&(be(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){$t(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=A,a.onmousemove=A,kt.ielt9&&this.options.opacity<1&&ke(a,this.options.opacity)},_addTile:function(a,u){var p=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),h(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&W(h(this._tileReady,this,a,null,S)),Ft(S,p),this._tiles[b]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:a});var b=this._tileCoordsToKey(a);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(ke(p.el,0),Y(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||($t(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),kt.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new rt(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new ot(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Xi(a){return new Jr(a)}var ta=Jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=q(this,u),u.detectRetina&&kt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var p=document.createElement("img");return Ut(p,"load",h(this._tileOnLoad,this,u,p)),Ut(p,"error",h(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var u={r:kt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=p),u["-y"]=p}return ct(this._url,o(u,this.options))},_tileOnLoad:function(a,u){kt.ielt9?setTimeout(h(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,p){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),a(p,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(a=u-a),a+b},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=A,u.onerror=A,!u.complete)){u.src=tt;var p=this._tiles[a].coords;be(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",tt),Jr.prototype._removeTile.call(this,a)},_tileReady:function(a,u,p){if(!(!this._map||p&&p.getAttribute("src")===tt))return Jr.prototype._tileReady.call(this,a,u,p)}});function gi(a,u){return new ta(a,u)}var yi=ta.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var p=o({},this.defaultWmsParams);for(var b in u)b in this.options||(p[b]=u[b]);u=q(this,u);var S=u.detectRetina&&kt.retina?2:1,I=this.getTileSize();p.width=I.x*S,p.height=I.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ta.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),p=this._crs,b=bt(p.project(u[0]),p.project(u[1])),S=b.min,I=b.max,F=(this._wmsVersion>=1.3&&this._crs===Je?[S.y,S.x,I.y,I.x]:[S.x,S.y,I.x,I.y]).join(","),nt=ta.prototype.getTileUrl.call(this,a);return nt+Z(this.wmsParams,nt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Xa(a,u){return new yi(a,u)}ta.WMS=yi,gi.wms=Xa;var Qi=we.extend({options:{padding:.1},initialize:function(a){q(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),$t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var p=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),I=b.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,u));kt.any3d?Bn(this._container,I,p):Ft(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new ot(p,p.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fl=Qi.extend({options:{tolerance:0},getEvents:function(){var a=Qi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ut(a,"mousemove",this._onMouseMove,this),Ut(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,be(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qi.prototype._update.call(this);var a=this._bounds,u=this._container,p=a.getSize(),b=kt.retina?2:1;Ft(u,a.min),u.width=b*p.x,u.height=b*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",kt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Qi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,p=u.next,b=u.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),p=[],b,S;for(S=0;S<u.length;S++){if(b=Number(u[S]),isNaN(b))return;p.push(b)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var p,b,S,I,F=a._parts,nt=F.length,ht=this._ctx;if(nt){for(ht.beginPath(),p=0;p<nt;p++){for(b=0,S=F[p].length;b<S;b++)I=F[p][b],ht[b?"lineTo":"moveTo"](I.x,I.y);u&&ht.closePath()}this._fillStroke(ht,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,p=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(u.x,u.y/S,b,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,u){var p=u.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Se(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&($t(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,p){this._map._fireDOMEvent(u,p||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var p=u.next,b=u.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var p=u.next,b=u.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function ml(a){return kt.canvas?new fl(a):null}var ea=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qa={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=ea("shape");$t(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=ea("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;be(u),a.removeInteractiveTarget(u),delete this._layers[y(a)]},_updateStyle:function(a){var u=a._stroke,p=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(u||(u=a._stroke=ea("stroke")),S.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=J(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(S.removeChild(u),a._stroke=null),b.fill?(p||(p=a._fill=ea("fill")),S.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),p=Math.round(a._radius),b=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){ps(a._container)},_bringToBack:function(a){dr(a._container)}},pl=kt.vml?ea:ve,_r=Qi.extend({_initContainer:function(){this._container=pl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){be(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qi.prototype._update.call(this);var a=this._bounds,u=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),Ft(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=pl("path");a.options.className&&$t(u,a.options.className),a.options.interactive&&$t(u,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){be(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,p=a.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,We(a._parts,u))},_updateCircle:function(a){var u=a._point,p=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(u.x-p)+","+u.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,I)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){ps(a._path)},_bringToBack:function(a){dr(a._path)}});kt.vml&&_r.include(Qa);function na(a){return kt.svg||kt.vml?new _r(a):null}Qt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&ml(a)||na(a)}});var Td=$a.extend({initialize:function(a,u){$a.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=xt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function _i(a,u){return new Td(a,u)}_r.create=pl,_r.pointsToPath=We,pi.geometryToLayer=cl,pi.coordsToLatLng=tc,pi.coordsToLatLngs=ul,pi.latLngToCoords=hl,pi.latLngsToCoords=ec,pi.getFeature=Yi,pi.asFeature=Ya,Qt.mergeOptions({boxZoom:!0});var rc=ti.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),Zr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ut(document,{contextmenu:Ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),$t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new ot(this._point,this._startPoint),p=u.getSize();Ft(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(be(this._box),Se(this._container,"leaflet-crosshair")),qi(),nl(),fe(document,{contextmenu:Ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var u=new yt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",rc),Qt.mergeOptions({doubleClickZoom:!0});var ws=ti.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,p=u.getZoom(),b=u.options.zoomDelta,S=a.originalEvent.shiftKey?p-b:p+b;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});Qt.addInitHook("addHandler","doubleClickZoom",ws),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bu=ti.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new $i(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}$t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Se(this._map._container,"leaflet-grab"),Se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=xt(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-u+p)%a+u-p,I=(b+u+p)%a-u-p,F=Math.abs(S+p)<Math.abs(I+p)?S:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(a){var u=this._map,p=u.options,b=!p.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),b)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,F=p.easeLinearity,nt=S.multiplyBy(F/I),ht=nt.distanceTo([0,0]),Tt=Math.min(p.inertiaMaxSpeed,ht),It=nt.multiplyBy(Tt/ht),Nt=Tt/(p.inertiaDeceleration*F),Mt=It.multiplyBy(-Nt/2).round();!Mt.x&&!Mt.y?u.fire("moveend"):(Mt=u._limitOffset(Mt,u.options.maxBounds),W(function(){u.panBy(Mt,{duration:Nt,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",bu),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gl=ti.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ut(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,p=a.scrollTop||u.scrollTop,b=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},p=this.keyCodes,b,S;for(b=0,S=p.left.length;b<S;b++)u[p.left[b]]=[-1*a,0];for(b=0,S=p.right.length;b<S;b++)u[p.right[b]]=[a,0];for(b=0,S=p.down.length;b<S;b++)u[p.down[b]]=[0,a];for(b=0,S=p.up.length;b<S;b++)u[p.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},p=this.keyCodes,b,S;for(b=0,S=p.zoomIn.length;b<S;b++)u[p.zoomIn[b]]=a;for(b=0,S=p.zoomOut.length;b<S;b++)u[p.zoomOut[b]]=-a},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,p=this._map,b;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[u],a.shiftKey&&(b=O(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(O(b),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(S)}else p.panBy(b)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Ln(a)}}});Qt.addInitHook("addHandler","keyboard",gl),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vr=ti.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=$r(a),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),b),Ln(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=p?Math.ceil(S/p)*p:S,F=a._limitZoom(u+(this._delta>0?I:-I))-u;this._delta=0,this._startTime=null,F&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+F):a.setZoomAround(this._lastMousePos,u+F))}});Qt.addInitHook("addHandler","scrollWheelZoom",vr);var wu=600;Qt.mergeOptions({tapHold:kt.touchNative&&kt.safari&&kt.mobile,tapTolerance:15});var ac=ti.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new rt(u.clientX,u.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Re),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),wu),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){fe(document,"touchend",Re),fe(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new rt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Qt.addInitHook("addHandler","tapHold",ac),Qt.mergeOptions({touchZoom:kt.touch,bounceAtZoomLimits:!0});var ia=ti.extend({addHooks:function(){$t(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Re(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var I=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&I.x===0&&I.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var F=h(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(F,this,!0),Re(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",ia),Qt.BoxZoom=rc,Qt.DoubleClickZoom=ws,Qt.Drag=bu,Qt.Keyboard=gl,Qt.ScrollWheelZoom=vr,Qt.TapHold=ac,Qt.TouchZoom=ia,n.Bounds=ot,n.Browser=kt,n.CRS=ge,n.Canvas=fl,n.Circle=_u,n.CircleMarker=ll,n.Class=jt,n.Control=Sn,n.DivIcon=Tu,n.DivOverlay=Ki,n.DomEvent=$l,n.DomUtil=il,n.Draggable=$i,n.Evented=at,n.FeatureGroup=Le,n.GeoJSON=pi,n.GridLayer=Jr,n.Handler=ti,n.Icon=Ts,n.ImageOverlay=bs,n.LatLng=Ct,n.LatLngBounds=yt,n.Layer=we,n.LayerGroup=Oe,n.LineUtil=M,n.Map=Qt,n.Marker=Za,n.Mixin=Kr,n.Path=$s,n.Point=rt,n.PolyUtil=Ha,n.Polygon=$a,n.Polyline=Ys,n.Popup=dl,n.PosAnimation=Yr,n.Projection=At,n.Rectangle=Td,n.Renderer=Qi,n.SVG=_r,n.SVGOverlay=yr,n.TileLayer=ta,n.Tooltip=sc,n.Transformation=ci,n.Util=B,n.VideoOverlay=ic,n.bind=h,n.bounds=bt,n.canvas=ml,n.circle=op,n.circleMarker=pd,n.control=Mn,n.divIcon=vd,n.extend=o,n.featureGroup=vs,n.geoJSON=nc,n.geoJson=gd,n.gridLayer=Xi,n.icon=Jl,n.imageOverlay=Ka,n.latLng=St,n.latLngBounds=xt,n.layerGroup=Zs,n.map=ys,n.marker=yu,n.point=O,n.polygon=mi,n.polyline=lp,n.popup=cp,n.rectangle=_i,n.setOptions=q,n.stamp=y,n.svg=na,n.svgOverlay=_d,n.tileLayer=gi,n.tooltip=up,n.transformation=ui,n.version=s,n.videoOverlay=yd;var Ja=window.L;n.noConflict=function(){return window.L=Ja,this},window.L=n})}(mh,mh.exports)),mh.exports}var fu=gB();const c0=R1(fu);function ap(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function u0(e,t){return t==null?function(s,o){const c=D.useRef(void 0);return c.current||(c.current=e(s,o)),c}:function(s,o){const c=D.useRef(void 0);c.current||(c.current=e(s,o));const h=D.useRef(s),{instance:m}=c.current;return D.useEffect(function(){h.current!==s&&(t(m,s,h.current),h.current=s)},[m,s,t]),c}}function oI(e,t){D.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function lI(e){return function(n){const s=sI(),o=e(l0(n,s),s);return uB(s.map,n.attribution),aI(o.current,n.eventHandlers),oI(o.current,s),o}}function yB(e,t){const n=D.useRef(void 0);D.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function _B(e){return function(n){const s=sI(),o=e(l0(n,s),s);return aI(o.current,n.eventHandlers),oI(o.current,s),yB(o.current,n),o}}function vB(e,t){const n=u0(e,t),s=lI(n);return rI(s)}function cI(e,t){const n=u0(e,t),s=_B(n);return rI(s)}function TB(e,t){const n=u0(e,t),s=lI(n);return mB(s)}function bB(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}const uI=cI(function({center:t,children:n,...s},o){const c=new fu.Circle(t,s);return ap(c,a0(o,{overlayContainer:c}))},hB);function wB({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:c,placeholder:h,style:m,whenReady:y,zoom:v,...w},A){const[E]=D.useState({className:o,id:c,style:m}),[N,V]=D.useState(null),q=D.useRef(void 0);D.useImperativeHandle(A,()=>N?.map??null,[N]);const Z=D.useCallback(ct=>{if(ct!==null&&!q.current){const J=new fu.Map(ct,w);q.current=J,n!=null&&v!=null?J.setView(n,v):e!=null&&J.fitBounds(e,t),y!=null&&J.whenReady(y),V(fB(J))}},[]);D.useEffect(()=>()=>{N?.map.remove()},[N]);const $=N?vy.createElement(o0,{value:N},s):h??null;return vy.createElement("div",{...E,ref:Z},$)}const h0=D.forwardRef(wB),d0=vB(function({position:t,...n},s){const o=new fu.Marker(t,n);return ap(o,a0(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),xB=cI(function({positions:t,...n},s){const o=new fu.Polyline(t,n);return ap(o,a0(s,{overlayContainer:o}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),f0=TB(function({url:t,...n},s){const o=new fu.TileLayer(t,l0(n,s));return ap(o,s)},function(t,n,s){bB(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)}),Ic=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194],[37.7549,-122.4194],[37.7499,-122.4194]];function EB(){const[e,t]=D.useState([]),[n,s]=D.useState(Ic[0]);D.useEffect(()=>{let c=0;const h=setInterval(()=>{c<Ic.length?(t(Ic.slice(0,c+1)),s(Ic[c]),c++):(c=0,t([]),s(Ic[0]))},300);return()=>clearInterval(h)},[]);const o=c0.divIcon({className:"demo-marker",iconSize:[20,20],iconAnchor:[10,10],html:'<div class="marker-dot"></div>'});return _.jsx("div",{className:"platform-demo",children:_.jsxs("div",{className:"browser-window",children:[_.jsxs("div",{className:"browser-header",children:[_.jsxs("div",{className:"browser-buttons",children:[_.jsx("div",{className:"browser-button red"}),_.jsx("div",{className:"browser-button yellow"}),_.jsx("div",{className:"browser-button green"})]}),_.jsx("div",{className:"browser-url",children:"taglogger.com/dashboard"})]}),_.jsx("div",{className:"browser-content",children:_.jsxs(h0,{center:Ic[0],zoom:13,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%",background:"#f0f0f0"},children:[_.jsx(f0,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),e.length>0&&_.jsx(xB,{positions:e,color:"#0066cc",weight:6,opacity:.8}),n&&_.jsx(d0,{position:n,icon:o})]},"platform-demo-map")})]})})}const If=[37.7749,-122.4194],T1=500,Pf=[[37.7749,-122.4194],[37.7749,-122.415],[37.7749,-122.41],[37.7749,-122.405],[37.7749,-122.41],[37.7749,-122.415],[37.7749,-122.4194]];function SB(){const[e,t]=D.useState(Pf[0]),[n,s]=D.useState(!0),[o,c]=D.useState(!1),[h,m]=D.useState(""),y=(A,E,N,V)=>{const Z=A*Math.PI/180,$=N*Math.PI/180,ct=(N-A)*Math.PI/180,J=(V-E)*Math.PI/180,dt=Math.sin(ct/2)*Math.sin(ct/2)+Math.cos(Z)*Math.cos($)*Math.sin(J/2)*Math.sin(J/2);return 6371e3*(2*Math.atan2(Math.sqrt(dt),Math.sqrt(1-dt)))},v=A=>y(A[0],A[1],If[0],If[1])<=T1;D.useEffect(()=>{let A=0;const E=setInterval(()=>{if(A<Pf.length){const N=Pf[A];t(N);const V=n,q=v(N);V!==q&&(s(q),m(q?" AirTag entered geofence zone!":" AirTag left geofence zone!"),c(!0),setTimeout(()=>c(!1),2e3)),A++}else A=0,t(Pf[0]),s(!0)},670);return()=>clearInterval(E)},[n]);const w=c0.divIcon({className:"geofence-marker",iconSize:[24,24],iconAnchor:[12,12],html:`<div class="marker-dot ${n?"inside":"outside"}"></div>`});return _.jsx("div",{className:"geofence-demo",children:_.jsxs("div",{className:"browser-window",children:[_.jsxs("div",{className:"browser-header",children:[_.jsxs("div",{className:"browser-buttons",children:[_.jsx("div",{className:"browser-button red"}),_.jsx("div",{className:"browser-button yellow"}),_.jsx("div",{className:"browser-button green"})]}),_.jsx("div",{className:"browser-url",children:"taglogger.com/geofencing"})]}),_.jsxs("div",{className:"browser-content",children:[_.jsxs(h0,{center:If,zoom:14,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%",background:"#f0f0f0"},children:[_.jsx(f0,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),_.jsx(uI,{center:If,radius:T1,pathOptions:{color:"#0066cc",fillColor:"#0066cc",fillOpacity:.1,weight:2,opacity:.8}}),e&&_.jsx(d0,{position:e,icon:w})]},"geofence-demo-map"),o&&_.jsx("div",{className:"geofence-alert",children:_.jsxs("div",{className:`alert-content${n?" blue":""}`,children:[_.jsx("span",{className:"alert-icon",children:""}),_.jsx("span",{className:"alert-text",children:h})]})}),_.jsx("div",{className:"geofence-status",children:_.jsx("div",{className:`status-indicator ${n?"inside":"outside"}`,children:n?" Inside Geofence":" Outside Geofence"})})]})]})})}const Nf={yard:[37.7749,-122.4194],"site-a":[37.7849,-122.4094],"site-b":[37.7649,-122.4294],"site-c":[37.7949,-122.3994]},AB=[{id:1,name:"Excavator #EX-001",type:"excavator",status:"checked-out",location:"site-a",user:"Mike Rodriguez",lastUpdate:"2 hours ago"},{id:2,name:"Bulldozer #BD-045",type:"bulldozer",status:"checked-in",location:"yard",user:null,lastUpdate:"1 day ago"},{id:3,name:"Crane #CR-012",type:"crane",status:"checked-out",location:"site-b",user:"Sarah Johnson",lastUpdate:"30 min ago"},{id:4,name:"Loader #LD-023",type:"loader",status:"checked-out",location:"site-c",user:"Tom Wilson",lastUpdate:"5 hours ago"}];function CB(){const[e,t]=D.useState(AB),[n,s]=D.useState(null),[o,c]=D.useState(new Date);D.useEffect(()=>{const E=setInterval(()=>{c(new Date)},1e3);return()=>clearInterval(E)},[]);const h=E=>Nf[E]||Nf.warehouse,m=E=>E==="checked-in"?"":"",y=E=>({excavator:"",bulldozer:"",crane:"",loader:""})[E]||"",v=E=>{s(n?.id===E.id?null:E)},w=E=>{t(N=>N.map(V=>{if(V.id===E){const q=V.status==="checked-in"?"checked-out":"checked-in";return{...V,status:q,user:q==="checked-out"?"Current User":null,lastUpdate:"Just now"}}return V}))},A=(E,N)=>c0.divIcon({className:"inventory-marker",iconSize:[30,30],iconAnchor:[15,15],html:`<div class="marker-content ${N}">
               <div class="marker-icon">${y(E)}</div>
               <div class="marker-status">${m(N)}</div>
             </div>`});return _.jsx("div",{className:"inventory-demo",children:_.jsxs("div",{className:"browser-window",children:[_.jsxs("div",{className:"browser-header",children:[_.jsxs("div",{className:"browser-buttons",children:[_.jsx("div",{className:"browser-button red"}),_.jsx("div",{className:"browser-button yellow"}),_.jsx("div",{className:"browser-button green"})]}),_.jsx("div",{className:"browser-url",children:"taglogger.com/equipment"})]}),_.jsxs("div",{className:"browser-content",children:[_.jsxs("div",{className:"inventory-layout",children:[_.jsxs("div",{className:"inventory-sidebar",children:[_.jsxs("div",{className:"sidebar-header",children:[_.jsx("h3",{children:"Equipment Inventory"}),_.jsx("div",{className:"time-display",children:o.toLocaleTimeString()})]}),_.jsx("div",{className:"asset-list",children:e.map(E=>_.jsxs("div",{className:`asset-item ${n?.id===E.id?"selected":""} ${E.status}`,onClick:()=>v(E),children:[_.jsx("div",{className:"asset-icon",children:y(E.type)}),_.jsxs("div",{className:"asset-info",children:[_.jsx("div",{className:"asset-name",children:E.name}),_.jsxs("div",{className:"asset-details",children:[_.jsxs("span",{className:`status-badge ${E.status}`,children:[m(E.status)," ",E.status]}),_.jsxs("span",{className:"asset-location",children:[" ",E.location]})]}),E.user&&_.jsxs("div",{className:"asset-user",children:[" ",E.user]})]}),_.jsx("button",{className:`check-btn ${E.status}`,onClick:N=>{N.stopPropagation(),w(E.id)},children:E.status==="checked-in"?"Check Out":"Check In"})]},E.id))})]}),_.jsx("div",{className:"inventory-map",children:_.jsxs(h0,{center:Nf.yard,zoom:12,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%",background:"#f0f0f0"},children:[_.jsx(f0,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap contributors & CartoDB"}),Object.entries(Nf).map(([E,N])=>_.jsx(uI,{center:N,radius:200,pathOptions:{color:"#0066cc",fillColor:"#0066cc",fillOpacity:.1,weight:1,opacity:.5}},E)),e.map(E=>{const N=h(E.location);return N?_.jsx(d0,{position:N,icon:A(E.type,E.status)},E.id):null})]},"inventory-demo-map")})]}),n&&_.jsxs("div",{className:"asset-details-panel",children:[_.jsxs("div",{className:"details-header",children:[_.jsx("h4",{children:n.name}),_.jsx("button",{className:"close-btn",onClick:()=>s(null),children:""})]}),_.jsxs("div",{className:"details-content",children:[_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"detail-label",children:"Type:"}),_.jsx("span",{className:"detail-value",children:n.type})]}),_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"detail-label",children:"Status:"}),_.jsxs("span",{className:`detail-value status-${n.status}`,children:[m(n.status)," ",n.status]})]}),_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"detail-label",children:"Location:"}),_.jsxs("span",{className:"detail-value",children:[" ",n.location]})]}),n.user&&_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"detail-label",children:"Assigned to:"}),_.jsxs("span",{className:"detail-value",children:[" ",n.user]})]}),_.jsxs("div",{className:"detail-row",children:[_.jsx("span",{className:"detail-label",children:"Last updated:"}),_.jsx("span",{className:"detail-value",children:n.lastUpdate})]})]})]})]})]})})}function RB(){const[e,t]=D.useState(0),n=[{title:"Complete Location History",description:"Interactive timeline with unlimited history. Analyze movement patterns and routes with timeline playback.",demo:_.jsx(EB,{})},{title:"Geofencing",description:"Virtual boundaries with automated alerts. Custom radius 100m-5km with email/SMS notifications.",demo:_.jsx(SB,{})},{title:"Inventory Check-In/Out",description:"Automate asset management with location-based status updates and inventory system integration.",demo:_.jsx(CB,{})}];return _.jsx("section",{id:"platform-features",className:"platform-features-section",role:"region","aria-labelledby":"platform-features-title",children:_.jsxs("div",{className:"platform-features-content",children:[_.jsx("h2",{id:"platform-features-title",className:"platform-features-title",children:"Platform Features"}),_.jsxs("div",{className:"platform-features-layout",children:[_.jsx("div",{className:"features-selector",children:n.map((s,o)=>_.jsx("button",{className:`feature-selector-btn ${e===o?"selected":""}`,onClick:()=>t(o),children:s.title},o))}),_.jsxs("div",{className:"demo-section",children:[_.jsx("p",{className:"feature-description",children:n[e].description}),_.jsx("div",{className:"demo-placeholder",children:n[e].demo})]})]})]})})}const hI="/assets/tag-CZQAlck_.webp",IB=[{id:"power",title:"Power",specs:[{label:"Battery",value:"CR2032 Lithium"},{label:"Life",value:"1 Year"},{label:"Service",value:"User Replaceable"}]},{id:"network",title:"Network",specs:[{label:"Platform",value:"Find My Network"},{label:"Devices",value:"2B+ Worldwide"},{label:"Protocol",value:"BLE 5.0"}]},{id:"physical",title:"Physical",specs:[{label:"Diameter",value:"31MM"},{label:"Height",value:"8MM"},{label:"Weight",value:"8G"}]}];function PB(){return _.jsx("section",{id:"tag-hardware",className:"tag-hardware-section",role:"region","aria-labelledby":"tag-hardware-title",children:_.jsxs("div",{className:"tag-hardware-content",children:[_.jsx("h2",{id:"tag-hardware-title",className:"tag-hardware-title",children:"Tag Hardware"}),_.jsx("p",{className:"tag-hardware-description",children:"Powered by Apple's Find My network. Up to 1-year battery life and global coverage."}),_.jsxs("div",{className:"tag-hardware-hero",children:[_.jsx("div",{className:"tag-hardware-image-wrap",children:_.jsx("img",{src:hI,alt:"",className:"tag-hardware-image",width:240,height:240})}),_.jsx("div",{className:"tag-hardware-specs",children:IB.map(e=>_.jsxs("div",{className:"tag-hardware-spec-block",children:[_.jsx("h3",{className:"tag-hardware-spec-block-title",children:e.title}),_.jsx("dl",{className:"tag-hardware-spec-list",children:e.specs.map(({label:t,value:n})=>_.jsxs("div",{className:"tag-hardware-spec-row",children:[_.jsx("dt",{className:"tag-hardware-spec-label",children:t}),_.jsx("dd",{className:"tag-hardware-spec-value",children:n})]},t))})]},e.id))})]})]})})}function NB(){const[e,t]=D.useState(3),n=[{icon:"",title:"Order tags",description:"Purchase directly from the dashboard or request an invoice.",tags:["Minimum 10 tags","1-year battery","Free shipping included"]},{icon:"",title:"Receive Pre-Configured Hardware",description:"We ship tags already configuredno setup or pairing required.",tags:["No setup","Ready to use"]},{icon:"",title:"Attach to assets",description:"Stick, mount, or place tags on any equipment, tools, vehicles, or inventory to track.",tags:["Adhesive backing","Keyring attachment","Magnetic mounts available"]},{icon:"",title:"Track",description:"View location history, geofencing, and inventory on the dashboard and map.",isEndStage:!0,tags:["Location history","Geofencing"]}],s=o=>{t(c=>c===o?null:o)};return _.jsx("section",{id:"how-it-works",className:"how-it-works-section",role:"region","aria-labelledby":"how-it-works-title",children:_.jsxs("div",{className:"how-it-works-content",children:[_.jsx("p",{className:"how-it-works-label",children:"4 simple steps"}),_.jsx("h2",{id:"how-it-works-title",className:"how-it-works-title",children:"How it works"}),_.jsx("div",{className:"how-it-works-accordion",role:"list",children:n.map((o,c)=>{const h=e===c,m=o.isEndStage===!0;return _.jsxs("div",{className:`how-it-works-accordion-item ${h?"is-expanded":""} ${m?"is-end-stage":""}`,role:"listitem",children:[_.jsxs("button",{type:"button",className:"how-it-works-accordion-header",onClick:()=>s(c),"aria-expanded":h,"aria-controls":`how-it-works-panel-${c}`,id:`how-it-works-trigger-${c}`,children:[_.jsx("span",{className:"how-it-works-accordion-num",children:c+1}),_.jsx("span",{className:"how-it-works-accordion-title",children:o.title}),_.jsx("span",{className:"how-it-works-accordion-icon","aria-hidden":"true",children:o.icon})]}),_.jsx("div",{className:`how-it-works-accordion-content-wrapper ${h?"is-expanded":""}`,id:`how-it-works-panel-${c}`,role:"region","aria-labelledby":`how-it-works-trigger-${c}`,"aria-hidden":!h,children:_.jsxs("div",{className:"how-it-works-accordion-content",children:[_.jsx("p",{className:"how-it-works-accordion-description",children:o.description}),o.tags&&o.tags.length>0&&_.jsx("div",{className:"how-it-works-accordion-tags",children:o.tags.map((y,v)=>_.jsx("span",{className:"how-it-works-accordion-tag",children:y},v))})]})})]},c)})})]})})}function vi(e){return`$${e.toFixed(2)}`}function LB(e){return e.max===1/0?`${e.min}+`:`${e.min}-${e.max}`}function MB(){const{MIN_TAGS:e}=pC("initial"),[t,n]=D.useState(e),[s,o]=D.useState(te.MONTHLY),c=ks(),h=Math.max(...Zn.VOLUME_TIERS.map(v=>v.discountRate)),m=v=>{const w=Math.floor(Number(v)||e);return Math.max(e,w)},y=D.useMemo(()=>{const v=Zn.VOLUME_TIERS.find(k=>t>=k.min&&t<=k.max)||Zn.VOLUME_TIERS[0],w=Zn.BASE_MONTHLY_PRICE,A=w*t,E=gC(t),N=yC(t),V=N*t,q=A-V,Z=s===te.ANNUAL?Zn.ANNUAL_BILLING_DISCOUNT:0,$=V*Z,ct=V-$,J=ct/t,dt=Zn.SETUP_FEE_PER_TAG,tt=dt*t,wt=ct*12,z=A>0?1-ct/A:0;return{activeTier:v,setupFeePerTag:dt,setupFeeTotal:tt,monthlyBasePerTag:w,monthlyBaseTotal:A,volumeDiscountRate:E,volumeDiscountAmount:q,monthlyAfterVolumePerTag:N,billingDiscountRate:Z,billingDiscountAmount:$,finalMonthlyPerTag:J,finalMonthlyTotal:ct,annualTotal:wt,effectiveDiscountRate:z}},[t,s]);return _.jsx("section",{id:"pricing",className:"pricing-section",role:"region","aria-labelledby":"pricing-title",children:_.jsxs("div",{className:"pricing-content",children:[_.jsx("h2",{id:"pricing-title",className:"pricing-title",children:"Simple, Transparent Pricing"}),_.jsxs("p",{className:"pricing-subtitle",children:["One-time setup: ",vi(Zn.SETUP_FEE_PER_TAG)," per tag. Monthly service starts at"," ",vi(Zn.BASE_MONTHLY_PRICE)," per tag."," ",_.jsxs("span",{className:"pricing-v2-inline-wrap","aria-label":"Discount highlights",children:[_.jsxs("span",{className:"pricing-v2-inline-accent",children:["Up to ",Math.round(h*100),"% off"]}),_.jsxs("span",{className:"pricing-v2-inline-accent",children:["Save ",Math.round(Zn.ANNUAL_BILLING_DISCOUNT*100),"% with annual billing"]})]})]}),_.jsx("div",{className:"pricing-calculator",children:_.jsxs("div",{className:"calculator-card pricing-v2-card",children:[_.jsx("div",{className:"pricing-v2-controls-grid",children:_.jsxs("div",{className:"pricing-v2-count-panel",children:[_.jsxs("div",{className:"pricing-v2-count-panel-top",children:[_.jsxs("div",{className:"pricing-v2-count-heading",children:[_.jsx("h3",{className:"pricing-v2-count-title",children:"Tag quantity"}),y.volumeDiscountRate>0&&_.jsxs("span",{className:"pricing-v2-count-tier-pill",children:[Math.round(y.volumeDiscountRate*100),"% off"]})]}),_.jsxs("div",{className:"pricing-v2-billing-inline",children:[_.jsx("span",{className:"pricing-v2-billing-inline-caption",children:"Billing"}),_.jsxs("div",{className:"pricing-v2-billing-switch-row",children:[_.jsx("span",{className:`pricing-v2-billing-switch-label ${s===te.MONTHLY?"active":""}`,children:"Monthly"}),_.jsx("button",{type:"button",role:"switch","aria-checked":s===te.ANNUAL,"aria-label":"Toggle yearly billing discount",className:`pricing-v2-billing-switch ${s===te.ANNUAL?"active":""}`,onClick:()=>o(v=>v===te.ANNUAL?te.MONTHLY:te.ANNUAL),children:_.jsx("span",{className:"pricing-v2-billing-switch-thumb"})}),_.jsx("span",{className:`pricing-v2-billing-switch-label ${s===te.ANNUAL?"active":""}`,children:"Annual (save 5%)"})]})]})]}),_.jsxs("div",{className:"pricing-v2-count-main",children:[_.jsx("button",{className:"counter-btn pricing-v2-count-btn",onClick:()=>n(v=>m(v-1)),disabled:t<=e,"aria-label":"Decrease tag count",children:"-"}),_.jsxs("div",{className:"pricing-v2-count-readout",children:[_.jsx("input",{className:"pricing-v2-count-input",type:"number",min:e,step:"1",value:t,onChange:v=>n(m(v.target.value)),"aria-label":"Tag quantity"}),_.jsx("span",{className:"pricing-v2-count-label",children:"tags"})]}),_.jsx("button",{className:"counter-btn pricing-v2-count-btn",onClick:()=>n(v=>m(v+1)),"aria-label":"Increase tag count",children:"+"})]}),_.jsxs("div",{className:"pricing-v2-count-shortcuts","aria-label":"Increase quantity shortcuts",children:[_.jsx("button",{type:"button",className:"pricing-v2-count-chip",onClick:()=>n(v=>m(v+10)),children:"+10"}),_.jsx("button",{type:"button",className:"pricing-v2-count-chip",onClick:()=>n(v=>m(v+50)),children:"+50"}),_.jsx("button",{type:"button",className:"pricing-v2-count-chip",onClick:()=>n(v=>m(v+100)),children:"+100"}),_.jsx("button",{type:"button",className:"pricing-v2-count-chip",onClick:()=>n(e),children:"Reset"})]})]})}),_.jsxs("div",{className:"pricing-v2-overview-split",children:[_.jsxs("div",{className:"pricing-v2-overview-card",children:[_.jsx("p",{className:"pricing-v2-overview-kicker",children:"Pre-configured tags (one-time)"}),_.jsx("p",{className:"pricing-v2-overview-amount",children:vi(y.setupFeeTotal)}),_.jsxs("p",{className:"pricing-v2-overview-meta",children:[t," x ",vi(y.setupFeePerTag)]}),_.jsx("div",{className:"pricing-v2-overview-image-wrap","aria-hidden":"true",children:_.jsx("img",{src:hI,alt:"",className:"pricing-v2-overview-image"})})]}),_.jsxs("div",{className:"pricing-v2-overview-card pricing-v2-overview-card-subscription",children:[_.jsx("p",{className:"pricing-v2-overview-kicker",children:s===te.ANNUAL?"Yearly subscription":"Monthly subscription"}),_.jsx("p",{className:"pricing-v2-overview-amount",children:vi(y.finalMonthlyTotal)}),_.jsxs("p",{className:"pricing-v2-overview-meta",children:[vi(y.finalMonthlyPerTag)," per tag / month",s===te.ANNUAL?" (billed annually)":""]}),y.effectiveDiscountRate>0&&_.jsxs("span",{className:"pricing-v2-overview-badge",children:["Saving ",(y.effectiveDiscountRate*100).toFixed(2),"%"]})]})]}),_.jsxs("div",{className:"pricing-v2-block pricing-v2-block-muted",children:[_.jsx("h3",{className:"pricing-v2-block-title",children:"Volume discount tiers"}),_.jsx("div",{className:"volume-discounts pricing-v2-table-wrap",children:_.jsxs("table",{className:"discount-table pricing-v2-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Tag Volume"}),_.jsx("th",{children:"Discount"})]})}),_.jsx("tbody",{children:Zn.VOLUME_TIERS.map(v=>{const w=v.min===y.activeTier.min&&v.max===y.activeTier.max;return _.jsxs("tr",{className:w?"pricing-v2-tier-active-row":"",children:[_.jsx("td",{children:LB(v)}),_.jsx("td",{children:v.discountRate>0?`${Math.round(v.discountRate*100)}% off`:"Base price"})]},`${v.min}-${v.max}`)})})]})})]}),_.jsxs("div",{className:"pricing-display-card compact pricing-v2-summary",children:[_.jsxs("div",{className:"pricing-v2-summary-row",children:[_.jsxs("span",{className:"pricing-v2-summary-label",children:["One-time setup (",t,"  ",vi(y.setupFeePerTag),")"]}),_.jsx("span",{className:"pricing-v2-summary-value",children:vi(y.setupFeeTotal)})]}),_.jsxs("div",{className:"pricing-v2-summary-row",children:[_.jsxs("span",{className:"pricing-v2-summary-label",children:["Base monthly (",t,"  ",vi(y.monthlyBasePerTag),")"]}),_.jsx("span",{className:"pricing-v2-summary-value",children:vi(y.monthlyBaseTotal)})]}),_.jsxs("div",{className:"pricing-v2-summary-row pricing-v2-summary-row-discount",children:[_.jsx("span",{className:"pricing-v2-summary-label",children:"Volume discount"}),_.jsxs("span",{className:"pricing-v2-summary-value",children:["-",vi(y.volumeDiscountAmount)]})]}),y.billingDiscountRate>0&&_.jsxs("div",{className:"pricing-v2-summary-row pricing-v2-summary-row-discount",children:[_.jsx("span",{className:"pricing-v2-summary-label",children:"Yearly billing discount"}),_.jsxs("span",{className:"pricing-v2-summary-value",children:["-",vi(y.billingDiscountAmount)]})]}),_.jsxs("div",{className:"pricing-v2-summary-row pricing-v2-summary-row-total",children:[_.jsx("span",{className:"pricing-v2-summary-label",children:s===te.ANNUAL?"Final monthly equivalent":"Final monthly"}),_.jsx("span",{className:"pricing-v2-summary-value",children:vi(y.finalMonthlyTotal)})]}),_.jsxs("div",{className:"pricing-v2-summary-row",children:[_.jsx("span",{className:"pricing-v2-summary-label",children:"Effective per tag"}),_.jsx("span",{className:"pricing-v2-summary-value",children:vi(y.finalMonthlyPerTag)})]}),s===te.ANNUAL&&_.jsxs("div",{className:"pricing-v2-summary-row",children:[_.jsx("span",{className:"pricing-v2-summary-label",children:"Billed yearly"}),_.jsx("span",{className:"pricing-v2-summary-value",children:vi(y.annualTotal)})]}),_.jsxs("p",{className:"pricing-v2-summary-note",children:["Total effective discount: ",(y.effectiveDiscountRate*100).toFixed(2),"%"]})]}),_.jsxs("div",{className:"pricing-v2-minimum-note",children:["Minimum order: ",e," tags"]}),_.jsxs("button",{className:"pricing-cta",onClick:()=>{t4("pricing_section",`Start Tracking ${t} Tags (${s})`);const v=m(t);c(`/login?tagCount=${v}&billingCycle=${s}&mode=register`)},children:["Start Tracking ",t," Tag",t>1?"s":""]})]})})]})})}const DB="get_in_touch",b1="taglogger-recaptcha-script",w1=8e3;function x1(e){if(typeof window>"u"||window.grecaptcha&&window.grecaptcha.execute)return Promise.resolve();const t=document.getElementById(b1);return t?new Promise((n,s)=>{const o=window.setTimeout(()=>{s(new Error("Verification timed out. Please retry."))},w1),c=()=>window.clearTimeout(o);t.addEventListener("load",()=>{c(),n()},{once:!0}),t.addEventListener("error",()=>{c(),s(new Error("reCAPTCHA script failed to load"))},{once:!0})}):new Promise((n,s)=>{const o=window.setTimeout(()=>{s(new Error("Verification timed out. Please retry."))},w1),c=document.createElement("script");c.id=b1,c.src=`https://www.google.com/recaptcha/api.js?render=${encodeURIComponent(e)}`,c.async=!0,c.onload=()=>{window.clearTimeout(o),n()},c.onerror=()=>{window.clearTimeout(o),s(new Error("reCAPTCHA script failed to load"))},document.head.appendChild(c)})}function kB(e){const t=String(e||"").toLowerCase();return t.includes("recaptcha")||t.includes("captcha")||t.includes("verification")||t.includes("temporarily unavailable")}function OB(){const e="6Lekj28sAAAAANo3NNkAzdShjD9zJRpSW_CCkDB6",[t,n]=D.useState(""),[s,o]=D.useState(""),[c,h]=D.useState(""),[m,y]=D.useState(!1),[v,w]=D.useState(!1),[A,E]=D.useState(!1),[N,V]=D.useState(""),[q,Z]=D.useState("");D.useEffect(()=>{x1(e).catch(()=>{})},[e]);const $=async()=>(await x1(e),new Promise((dt,tt)=>{if(!window.grecaptcha||!window.grecaptcha.execute){tt(new Error("Verification unavailable. Please retry."));return}window.grecaptcha.ready(()=>{window.grecaptcha.execute(e,{action:DB}).then(dt).catch(tt)})})),ct=async()=>{w(!0),V(""),Z("");try{await $(),Z("Verification is ready. Submit your request again.")}catch(dt){const tt=dt?.message||dt?.details||"Verification unavailable. Please try again.";V(String(tt).replace(/^Firebase:\s*/i,""))}finally{w(!1)}},J=async dt=>{if(dt.preventDefault(),!m){if(!t.trim()||!s.trim()){V("Name and work email are required.");return}y(!0),V(""),E(!1),Z("");try{const tt=await $();await fa(Ro,"submitGetInTouchRequest")({name:t.trim(),email:s.trim(),message:c.trim(),recaptchaToken:tt,origin:window.location.origin}),n(""),o(""),h(""),E(!0)}catch(tt){console.error("Get in touch submit error:",tt);const wt=tt?.message||tt?.details||(tt?.code&&tt.code!=="functions/internal"?tt.code:null)||"Something went wrong. Please try again.";V(String(wt).replace(/^Firebase:\s*/i,""))}finally{y(!1)}}};return _.jsx("section",{id:"get-in-touch",className:"get-in-touch-section",role:"region","aria-labelledby":"get-in-touch-title",children:_.jsxs("div",{className:"get-in-touch-content",children:[_.jsx("h2",{id:"get-in-touch-title",className:"get-in-touch-title",children:"Talk to our team"}),_.jsx("p",{className:"get-in-touch-subtitle",children:"Share your asset-tracking needs and we'll send tailored pricing."}),_.jsxs("div",{className:"get-in-touch-card",children:[q&&_.jsx("p",{className:"get-in-touch-info",role:"status",children:q}),A&&_.jsx("p",{className:"get-in-touch-success",role:"status",children:"Request received. We'll follow up within 1 business day."}),N&&_.jsx("p",{className:"get-in-touch-error",role:"alert",children:N}),kB(N)&&_.jsxs("div",{className:"get-in-touch-help",role:"status","aria-live":"polite",children:[_.jsx("p",{className:"get-in-touch-help-text",children:"Ad-blockers, privacy extensions, or VPN settings can block verification."}),_.jsx("button",{type:"button",className:"get-in-touch-retry",onClick:ct,disabled:v,children:v?"Retrying":"Retry verification"})]}),_.jsxs("form",{onSubmit:J,className:"get-in-touch-form",children:[_.jsxs("div",{className:"get-in-touch-field",children:[_.jsx("label",{htmlFor:"get-in-touch-name",className:"get-in-touch-label",children:"Name"}),_.jsx("input",{id:"get-in-touch-name",type:"text",value:t,onChange:dt=>n(dt.target.value),className:"get-in-touch-input",placeholder:"Contact name",autoComplete:"name",disabled:m})]}),_.jsxs("div",{className:"get-in-touch-field",children:[_.jsx("label",{htmlFor:"get-in-touch-email",className:"get-in-touch-label",children:"Work email"}),_.jsx("input",{id:"get-in-touch-email",type:"email",value:s,onChange:dt=>o(dt.target.value),className:"get-in-touch-input",placeholder:"email@company.com",autoComplete:"email",required:!0,disabled:m})]}),_.jsxs("div",{className:"get-in-touch-field",children:[_.jsx("label",{htmlFor:"get-in-touch-message",className:"get-in-touch-label",children:"Tracking needs"}),_.jsx("textarea",{id:"get-in-touch-message",value:c,onChange:dt=>h(dt.target.value),className:"get-in-touch-textarea",placeholder:"Company, asset types, site count, and estimated tag volume...",rows:4,disabled:m})]}),_.jsx("button",{type:"submit",className:"get-in-touch-submit",disabled:m,children:m?"Sending":"Request demo"})]})]})]})})}function VB(){const e=[{q:"Does the platform support Android?",a:"Yes, since we set up the tags for you and provide a web app, they can be used from Android."},{q:"What devices are compatible with the platform?",a:"The web app works on any modern browser, including Chrome, Safari, Firefox, and Edge, on both desktop and mobile devices."},{q:"What is the battery lifetime?",a:"Around 1 to 1.5 years. The battery can be replaced with a standard CR2032 coin cell."},{q:"Can we use our own tags?",a:"Tags must be onboarded to our platform before shipping. Once received, they are yours to keep and can be factory reset at any time."},{q:"Is location data private and secure?",a:"Yes, we use industry-standard encryption and never share your data with third parties. Only you have access to your location history."},{q:"Can location data be exported?",a:"Yes, location history can be exported in CSV or JSON format for records or analysis."},{q:"Can tags be reset?",a:"Yes, tags can be factory reset at any time and used as needed."},{q:"How many tags can be tracked simultaneously?",a:"There's no limit. For larger orders, contact us."},{q:"Shipping fee",a:"Shipping is free within the continental US. For other locations, see pricing at checkout."},{q:"Can location-specific email alerts be configured?",a:"Yes, location-based email alerts can be set up directly in the platform."},{q:"How far back does the location history go?",a:"There's no practical limitlocation history is available as far back as needed."},{q:"How is the application accessed?",a:"The platform is accessed via a web app that works on mobile and desktop browsers."}],[t,n]=D.useState(null),s=o=>n(t===o?null:o);return _.jsx("section",{id:"faq",className:"faq-section",role:"region","aria-labelledby":"faq-title",children:_.jsxs("div",{className:"faq-content",children:[_.jsx("h2",{id:"faq-title",className:"faq-title",children:"FAQ"}),_.jsx("div",{className:"faq-list",children:e.map((o,c)=>_.jsxs("div",{className:`faq-item${t===c?" open":""}`,children:[_.jsxs("button",{className:"faq-question",onClick:()=>s(c),"aria-expanded":t===c,"aria-controls":`faq-answer-${c}`,children:[_.jsx("span",{children:o.q}),_.jsx("span",{className:`faq-chevron${t===c?" open":""}`,"aria-hidden":"true",children:""})]}),t===c&&_.jsx("div",{id:`faq-answer-${c}`,className:"faq-answer",role:"region","aria-labelledby":`faq-question-${c}`,children:o.a})]},c))})]})})}const Lf=[{id:"hero",label:"Home"},{id:"platform-features",label:"Platform"},{id:"use-cases",label:"Use cases"},{id:"tag-hardware",label:"Tag Hardware"},{id:"feature-comparison",label:"How We Compare"},{id:"how-it-works",label:"How It Works"},{id:"pricing",label:"Pricing"},{id:"get-in-touch",label:"Get in touch"},{id:"faq",label:"FAQ"}];function jB(){const[e,t]=D.useState("hero"),[n,s]=D.useState(!1),o=D.useCallback(c=>{const h=document.getElementById(c);if(h){const y=c==="feature-comparison"?104:80,v=h.offsetTop-y;window.scrollTo({top:v,behavior:"smooth"}),t(c),window.history.pushState(null,null,`#${c}`)}},[]);return D.useEffect(()=>{const c=()=>{const h=window.location.hash.slice(1);h&&Lf.find(m=>m.id===h)&&(t(h),o(h))};return window.location.hash&&c(),window.addEventListener("hashchange",c),()=>window.removeEventListener("hashchange",c)},[o]),D.useEffect(()=>{const c={rootMargin:"-20% 0px -80% 0px",threshold:0},h=new IntersectionObserver(m=>{m.forEach(y=>{y.isIntersecting&&t(y.target.id)})},c);return Lf.forEach(({id:m})=>{const y=document.getElementById(m);y&&h.observe(y)}),()=>h.disconnect()},[]),D.useEffect(()=>{const c=()=>{const m=window.scrollY,y=document.getElementById("hero");if(y){const v=y.offsetHeight;s(m>v*.8)}else s(m>500)},h=setTimeout(()=>{c()},100);return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c),clearTimeout(h)}},[]),_.jsx("nav",{className:`section-navigation ${n?"visible":""}`,role:"navigation","aria-label":"Page sections",children:_.jsxs("div",{className:"nav-container",children:[_.jsxs("div",{className:"nav-mobile-select-wrap",children:[_.jsx("label",{htmlFor:"section-nav-select",className:"nav-mobile-select-label",children:"Jump to section"}),_.jsx("select",{id:"section-nav-select",className:"nav-mobile-select",value:e,onChange:c=>o(c.target.value),"aria-label":"Jump to page section",children:Lf.map(({id:c,label:h})=>_.jsx("option",{value:c,children:h},c))})]}),_.jsx("ul",{className:"nav-list",children:Lf.map(({id:c,label:h})=>_.jsx("li",{className:"nav-item",children:_.jsx("button",{className:`nav-link ${e===c?"active":""}`,onClick:()=>o(c),"aria-current":e===c?"true":"false","aria-label":`Go to ${h} section`,children:h})},c))})]})})}function E1({onScrollProgress:e}){const[t,n]=D.useState(null),s=Vi(),h=(s.hash||(typeof window<"u"?window.location.hash:"")).replace(/^#?/,"#")==="#get-in-touch",m=100;return D.useEffect(()=>{if(!h)return;const y=()=>{const E=document.getElementById("get-in-touch");if(!E)return!1;const N=E.getBoundingClientRect().top+window.scrollY-m;return window.scrollTo({top:Math.max(0,N),behavior:"smooth"}),!0};let v,w,A;return v=requestAnimationFrame(()=>{y()||(w=setTimeout(()=>{y()},100),A=setTimeout(y,300))}),()=>{cancelAnimationFrame(v),clearTimeout(w),clearTimeout(A)}},[h,s.hash]),D.useEffect(()=>{e&&e(t)},[t,e]),_.jsxs("main",{id:"main-content",role:"main",tabIndex:"-1",children:[_.jsx(jB,{}),_.jsx(i4,{onScrollProgress:n}),_.jsx(RB,{}),_.jsx(cB,{}),_.jsx(PB,{}),_.jsx(s4,{}),_.jsx(NB,{}),_.jsx(MB,{}),_.jsx(OB,{}),_.jsx(VB,{})]})}function UB(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?e.state.tagCount:t.has("tagCount")?t.get("tagCount"):""}function S1(e){return new URLSearchParams(e.search).get("mode")==="register"?"register":"login"}function zB(e){const t=new URLSearchParams(e.search),n=e.state&&e.state.billingCycle,s=t.get("billingCycle"),o=n||s;return o==="annual"||o==="monthly"?o:""}function _y(e,t){const n=new URLSearchParams;e&&n.set("tagCount",String(e)),t&&n.set("billingCycle",t);const s=n.toString();return s?`/purchase?${s}`:"/purchase"}function BB(){const e=Vi(),t=ks(),[n,s]=D.useState(S1(e)),[o,c]=D.useState(""),[h,m]=D.useState(""),[y,v]=D.useState(""),[w,A]=D.useState(""),[E,N]=D.useState(!1),V=UB(e),q=zB(e),{isEntitled:Z,loading:$}=xC();D.useEffect(()=>{s(S1(e))},[e]),D.useEffect(()=>{nr.currentUser&&!$&&(Z?(console.log(" LoginPage: User entitled, navigating to dashboard"),t("/dashboard")):(console.log(" LoginPage: User not entitled, navigating to purchase"),t(_y(V,q))))},[Z,$,t,V,q]);const ct=async dt=>{dt.preventDefault(),A(""),N(!0);try{if(n==="register"){if(h!==y){A("Passwords do not match."),N(!1);return}const tt=await WM(nr,o,h);Qx(),await Ky(Vr(Mi,"users",tt.user.uid),{email:tt.user.email}),console.log("User document written to Firestore:",tt.user.uid),t(_y(V,q))}else await ZM(nr,o,h),Jx()}catch(tt){console.error("Registration error:",tt),A(tt.message.replace("Firebase: ",""))}finally{N(!1)}},J=async()=>{A(""),N(!0);try{const dt=await gD(nr,Bj),tt=Vr(Mi,"users",dt.user.uid);(await cd(tt)).exists()?Jx():(Qx(),await Ky(tt,{email:dt.user.email,displayName:dt.user.displayName||null,createdAt:dt.user.metadata.creationTime}),console.log("New user document created in Firestore for Google sign-in:",dt.user.uid),t(_y(V,q)))}catch(dt){A(dt.message.replace("Firebase: ",""))}finally{N(!1)}};return _.jsx("div",{className:"login-page-root",children:_.jsxs("div",{className:"login-card",children:[_.jsxs("div",{className:"login-toggle",children:[_.jsx("button",{className:n==="login"?"active":"",onClick:()=>s("login"),children:"Login"}),_.jsx("button",{className:n==="register"?"active":"",onClick:()=>s("register"),children:"Register"})]}),_.jsx("h2",{className:"login-title",children:n==="login"?"Login to your account":"Create an account"}),V&&_.jsx("div",{className:"login-tagcount-info",children:n==="register"?`Registering for ${V} tag${V>1?"s":""}`:""}),_.jsxs("form",{className:"login-form",onSubmit:ct,children:[_.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:dt=>c(dt.target.value),required:!0,disabled:E}),_.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:dt=>m(dt.target.value),required:!0,disabled:E}),n==="register"&&_.jsx("input",{type:"password",placeholder:"Confirm Password",value:y,onChange:dt=>v(dt.target.value),required:!0,disabled:E}),w&&_.jsx("div",{className:"login-error",children:w}),_.jsx("button",{type:"submit",className:"login-submit-btn",disabled:E,children:E?n==="login"?"Logging in...":"Registering...":n==="login"?"Login":"Register"}),n==="register"&&_.jsxs("p",{className:"terms-acknowledgement",children:["By registering, you acknowledge you have read and agree to our ",_.jsx("a",{href:"/terms",target:"_blank",children:"Terms of Service"})," and ",_.jsx("a",{href:"/privacy",target:"_blank",children:"Privacy Policy"}),"."]})]}),_.jsx("div",{className:"login-divider",children:"or"}),_.jsxs("button",{className:"google-auth-btn",type:"button",onClick:J,disabled:E,children:[_.jsx("span",{className:"google-icon",children:"G"})," Sign in with Google"]})]})})}function A1(){return _.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[_.jsx("path",{d:"M10.325 3.317C11.1 1.894 12.9 1.894 13.675 3.317L14.198 4.278C14.5 4.832 15.096 5.134 15.715 5.059L16.789 4.929C18.379 4.736 19.649 6.006 19.456 7.596L19.326 8.67C19.251 9.289 19.553 9.885 20.107 10.187L21.068 10.71C22.491 11.485 22.491 13.285 21.068 14.06L20.107 14.583C19.553 14.885 19.251 15.481 19.326 16.1L19.456 17.174C19.649 18.764 18.379 20.034 16.789 19.841L15.715 19.711C15.096 19.636 14.5 19.938 14.198 20.492L13.675 21.453C12.9 22.876 11.1 22.876 10.325 21.453L9.802 20.492C9.5 19.938 8.904 19.636 8.285 19.711L7.211 19.841C5.621 20.034 4.351 18.764 4.544 17.174L4.674 16.1C4.749 15.481 4.447 14.885 3.893 14.583L2.932 14.06C1.509 13.285 1.509 11.485 2.932 10.71L3.893 10.187C4.447 9.885 4.749 9.289 4.674 8.67L4.544 7.596C4.351 6.006 5.621 4.736 7.211 4.929L8.285 5.059C8.904 5.134 9.5 4.832 9.802 4.278L10.325 3.317Z",stroke:"currentColor",strokeWidth:"1.6"}),_.jsx("circle",{cx:"12",cy:"12.385",r:"3.2",stroke:"currentColor",strokeWidth:"1.6"})]})}function FB({user:e,compact:t=!1,editRequest:n=null}){const s=ks(),[o,c]=D.useState([]),[h,m]=D.useState([]),[y,v]=D.useState(0),[w,A]=D.useState(new Set),[E,N]=D.useState(null),[V,q]=D.useState(""),[Z,$]=D.useState("#0066cc"),[ct,J]=D.useState(!0),[dt,tt]=D.useState(""),[wt,z]=D.useState("name_az");D.useEffect(()=>{if(e)return k(e.uid)},[e]),D.useEffect(()=>{if(!t||!n?.tagId)return;const X=o.find(U=>U.id===n.tagId);X&&(N(X.id),q(X.customName||""),$(X.color||"#0066cc"),tt(X.customName||`Tag ${X.id.slice(-4)}`))},[t,n,o]);const k=X=>{try{J(!0);const U=Vr(Mi,"users",X),at=Ll(U,O=>{if(O.exists()){const ot=O.data();v(ot.subscriptionQuantity||0)}}),rt=hh(Mi,"users",X,"tags"),Et=Ll(Yy(rt),O=>{const ot=O.docs.map(xt=>({id:xt.id,...xt.data()})),bt=ot.filter((xt,Ct,St)=>St.findIndex(ge=>ge.id===xt.id)===Ct);bt.length!==ot.length&&console.warn("Removed duplicate tags:",ot.length-bt.length),c(bt);const yt=bt.filter(xt=>xt.isActive).map(xt=>xt.id);console.log(" onSnapshot: activeTagIds from Firestore:",yt),m(yt),J(!1)});return()=>{at(),Et()}}catch(U){console.error("Error loading data:",U),J(!1)}},j=async X=>{if(console.log(" handleTagToggle called with tagId:",X),!e){console.error("No user logged in");return}const U=o.find(Et=>Et.id===X);if(!U){console.warn("Tag not found in current user tags:",X);return}if(U.status==="pending_hardware"){console.warn("Cannot toggle tag pending hardware assignment:",X);return}const at=h.includes(X),rt=!at;if(console.log("Current state - isSelected:",at,"newIsActive:",rt),rt&&h.length>=y){console.warn("Cannot activate - would exceed subscription limit");return}A(Et=>new Set([...Et,X]));try{console.log("Calling setTagActivation for:",`users/${e.uid}/tags/${X}`),console.log("New isActive value:",rt),await fa(Ro,"setTagActivation")({tagId:X,isActive:rt}),console.log(" setTagActivation completed successfully")}catch(Et){console.error("Error updating tag status:",Et);const O=Et?.message||"Failed to update tag status. Please try again.";alert(O)}finally{A(Et=>{const O=new Set(Et);return O.delete(X),O})}},G=X=>{N(X.id),q(X.customName||""),$(X.color||"#0066cc")},W=async X=>{if(!(!e||!E)){A(U=>new Set([...U,X]));try{const U=Vr(Mi,"users",e.uid,"tags",X);await Ky(U,{customName:V.trim()||null,color:Z,updatedAt:new Date},{merge:!0}),cu("rename_tag",{}),Wj("rename_tag"),console.log(" Tag customization saved successfully"),N(null)}catch(U){console.error("Error saving tag customization:",U),alert("Failed to save tag customization. Please try again.")}finally{A(U=>{const at=new Set(U);return at.delete(X),at})}}},Y=()=>{N(null),q(""),$("#0066cc")},B=["#0066cc","#0d47a1","#1565c0","#1976d2","#0288d1","#00695c","#00796b","#00897b","#26a69a","#c62828","#d84315","#455a64","#546e7a","#607d8b","#2e7d32","#388e3c"],jt=D.useMemo(()=>{const X=dt.trim().toLowerCase(),U=o.filter(at=>{const rt=(at.customName||`Tag ${at.id.slice(-4)}`).toLowerCase();return X?rt.includes(X):!0});return U.sort((at,rt)=>{const Et=(at.customName||`Tag ${at.id.slice(-4)}`).toLowerCase(),O=(rt.customName||`Tag ${rt.id.slice(-4)}`).toLowerCase();return wt==="name_za"?O.localeCompare(Et):Et.localeCompare(O)}),U},[o,dt,wt]);return ct?_.jsx("div",{style:{background:"#fff",border:"1px solid #e9ecef",borderRadius:"12px",padding:"24px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.06)"},children:_.jsx("div",{style:{color:"#6c757d"},children:"Loading tag information..."})}):_.jsxs("div",{style:{background:"#fff",border:"1px solid #e9ecef",borderRadius:"12px",overflow:"hidden",marginBottom:t?"0":"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.06)"},children:[_.jsxs("div",{style:{padding:t?"10px 12px":"20px 24px",borderBottom:"1px solid #e9ecef",background:"#fafbfc"},children:[_.jsxs("h3",{style:{color:"#1a1a1a",fontSize:t?"15px":"18px",fontWeight:"600",margin:0,letterSpacing:"-0.01em"},children:["Manage Tags (",o.length,")"]}),!t&&_.jsx("p",{style:{color:"#6c757d",fontSize:"14px",margin:0,lineHeight:1.4},children:"Activate/deactivate tags, customize names and colors, and manage your subscription slots"})]}),_.jsx("div",{style:{padding:t?"10px 12px":"20px 24px"},children:o.length===0?_.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"12px",padding:t?"14px":"24px",textAlign:"center"},children:[_.jsx("p",{style:{color:"#495057",marginBottom:t?"12px":"20px",fontSize:t?"13px":"16px"},children:"No tags purchased yet. Purchase your first tags to get started."}),_.jsx("button",{onClick:()=>s("/purchase"),style:{background:"#0066cc",color:"#fff",border:"none",padding:t?"8px 14px":"12px 24px",borderRadius:"8px",fontSize:t?"13px":"16px",fontWeight:"600",cursor:"pointer"},children:"Purchase Tags"})]}):_.jsx(_.Fragment,{children:t?_.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:10,background:"#f8f9fa",overflow:"hidden"},children:[_.jsxs("div",{style:{padding:"8px 10px",borderBottom:"1px solid #dee2e6",fontWeight:700,color:"#1a1a1a",display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[_.jsx("span",{children:"Tags"}),_.jsxs("span",{style:{fontSize:12,color:"#6c757d"},children:[jt.length,dt.trim()?` / ${o.length}`:""]})]}),_.jsxs("div",{style:{borderBottom:"1px solid #dee2e6",padding:10,display:"grid",gap:8},children:[_.jsx("input",{type:"text",value:dt,onChange:X=>tt(X.target.value),placeholder:"Search tags",style:{width:"100%",minHeight:36,padding:"8px 10px",borderRadius:8,border:"1px solid #d4dbe2",background:"#fff",color:"#1a1a1a",fontSize:13,boxSizing:"border-box"}}),_.jsxs("select",{value:wt,onChange:X=>z(X.target.value),style:{width:"100%",minHeight:34,padding:"6px 8px",borderRadius:8,border:"1px solid #d4dbe2",background:"#fff",color:"#1a1a1a",fontSize:12},children:[_.jsx("option",{value:"name_az",children:"Name A-Z"}),_.jsx("option",{value:"name_za",children:"Name Z-A"})]})]}),_.jsx("div",{style:{maxHeight:"52vh",overflowY:"auto"},children:jt.length===0?_.jsx("div",{style:{padding:10,fontSize:12,color:"#6c757d"},children:dt.trim()?"No tags match the current filters.":"No linked tags are available yet."}):_.jsx("ul",{style:{listStyle:"none",margin:0,padding:0},children:jt.map((X,U)=>{const at=h.includes(X.id),rt=X.status==="pending_hardware"?"Waiting for hardware assignment":at?"Active - Subscription billing":"Inactive - No charges";return _.jsx("li",{style:{display:"grid",gridTemplateColumns:E===X.id?"1fr":"1fr auto",alignItems:"center",gap:8,padding:"10px 10px",borderBottom:U<jt.length-1?"1px solid #e8ecef":"none"},children:E===X.id?_.jsxs("div",{style:{display:"grid",gap:8},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[_.jsx("div",{style:{width:20,height:20,borderRadius:"50%",background:Z,border:"1px solid #dee2e6",flexShrink:0},title:"Selected color"}),_.jsx("input",{type:"text",value:V,onChange:Et=>q(Et.target.value),placeholder:"Tag name (e.g., Car Keys)",maxLength:50,style:{flex:"1 1 180px",minWidth:0,padding:"6px 10px",background:"#fff",border:"1px solid #dee2e6",borderRadius:6,color:"#1a1a1a",fontSize:12}})]}),_.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:B.map(Et=>_.jsx("div",{onClick:()=>$(Et),style:{width:18,height:18,borderRadius:"50%",background:Et,border:Z===Et?"2px solid #1a1a1a":"1px solid #adb5bd",cursor:"pointer"},title:Et},`compact-edit-${X.id}-${Et}`))}),_.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[_.jsx("button",{onClick:Y,style:{padding:"6px 10px",border:"1px solid #dee2e6",borderRadius:6,background:"#e9ecef",color:"#1a1a1a",fontSize:11,cursor:"pointer"},children:"Cancel"}),_.jsx("button",{onClick:()=>W(X.id),disabled:w.has(X.id),style:{padding:"6px 10px",border:"none",borderRadius:6,background:"#0d9488",color:"#fff",fontSize:11,fontWeight:600,cursor:w.has(X.id)?"not-allowed":"pointer",opacity:w.has(X.id)?.7:1},children:w.has(X.id)?"Saving...":"Save"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{minWidth:0},children:[_.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:7,maxWidth:"100%"},children:[_.jsx("span",{style:{width:8,height:8,borderRadius:9999,background:X.color||"#0066cc",flexShrink:0}}),_.jsx("span",{style:{fontSize:13,fontWeight:700,color:"#1a1a1a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:X.customName||`Tag ${X.id.slice(-4)}`}),!at&&_.jsx("span",{style:{fontSize:10,fontWeight:700,color:"#6c757d",background:"#e9ecef",borderRadius:9999,padding:"2px 6px",flexShrink:0},children:"Inactive"})]}),_.jsx("div",{style:{fontSize:12,color:"#6c757d",marginTop:2},children:rt})]}),_.jsx("button",{onClick:()=>G(X),style:{width:32,minHeight:32,borderRadius:8,border:"none",background:"transparent",color:"#0066cc",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:0},title:"Open tag settings","aria-label":`Open settings for ${X.customName||`Tag ${X.id.slice(-4)}`}`,children:_.jsx(A1,{})})]})},`settings-list-${X.id}`)})})})]}):_.jsxs(_.Fragment,{children:[t&&_.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:8,background:"#f8f9fa",padding:8,marginBottom:8,display:"grid",gap:6},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:6},children:[_.jsx("span",{style:{fontSize:12,fontWeight:700,color:"#1a1a1a"},children:"Tags"}),_.jsxs("span",{style:{fontSize:11,color:"#6c757d"},children:[jt.length,dt.trim()?` / ${o.length}`:""]})]}),_.jsx("input",{type:"text",value:dt,onChange:X=>tt(X.target.value),placeholder:"Search tags",style:{width:"100%",minHeight:30,padding:"6px 8px",borderRadius:7,border:"1px solid #d4dbe2",background:"#fff",color:"#1a1a1a",fontSize:12,boxSizing:"border-box"}}),_.jsxs("select",{value:wt,onChange:X=>z(X.target.value),style:{width:"100%",minHeight:30,padding:"6px 8px",borderRadius:7,border:"1px solid #d4dbe2",background:"#fff",color:"#1a1a1a",fontSize:12},children:[_.jsx("option",{value:"name_az",children:"Name A-Z"}),_.jsx("option",{value:"name_za",children:"Name Z-A"})]})]}),_.jsx("div",{style:{display:"grid",gap:t?"6px":"12px",...t?{}:{maxHeight:"60vh",overflowY:"auto"}},children:jt.length===0?_.jsx("div",{style:{padding:"10px 8px",fontSize:12,color:"#6c757d"},children:dt.trim()?"No tags match the current search.":"No tags available."}):jt.map(X=>_.jsx("div",{style:{padding:t?"8px":"16px",background:h.includes(X.id)?"#f0f7ff":"#f8f9fa",border:h.includes(X.id)?"1px solid #0066cc":"1px solid #e9ecef",borderRadius:"10px"},children:E===X.id?_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:t?"8px":"12px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t?"8px":"12px",flexWrap:t?"wrap":"nowrap"},children:[_.jsx("div",{style:{width:t?"24px":"32px",height:t?"24px":"32px",borderRadius:"50%",background:Z,border:t?"1px solid #dee2e6":"2px solid #dee2e6",flexShrink:0},title:"Selected color"}),_.jsx("input",{type:"text",value:V,onChange:U=>q(U.target.value),placeholder:"Tag name (e.g., Car Keys)",style:{flex:t?"1 1 100%":1,minWidth:0,padding:t?"6px 10px":"8px 12px",background:"#fff",border:"1px solid #dee2e6",borderRadius:"6px",color:"#1a1a1a",fontSize:t?"0.82rem":"0.9rem"},maxLength:50})]}),_.jsx("div",{style:{display:"flex",gap:t?"6px":"8px",flexWrap:"wrap"},children:B.map(U=>_.jsx("div",{onClick:()=>$(U),style:{width:t?"20px":"24px",height:t?"20px":"24px",borderRadius:"50%",background:U,border:Z===U?t?"1px solid #1a1a1a":"2px solid #1a1a1a":"1px solid #adb5bd",cursor:"pointer",transform:Z===U?t?"scale(1.05)":"scale(1.1)":"scale(1)",transition:"all 0.2s ease"},title:U},U))}),_.jsxs("div",{style:{display:"flex",gap:t?"6px":"8px",justifyContent:t?"flex-start":"flex-end",flexWrap:"wrap"},children:[_.jsx("button",{onClick:Y,style:{padding:t?"5px 9px":"6px 12px",border:"1px solid #dee2e6",borderRadius:"6px",background:"#e9ecef",color:"#1a1a1a",fontSize:t?"0.72rem":"0.8rem",cursor:"pointer"},children:"Cancel"}),_.jsx("button",{onClick:()=>W(X.id),disabled:w.has(X.id),style:{padding:t?"5px 9px":"6px 12px",border:"none",borderRadius:"6px",background:"#0d9488",color:"#fff",fontSize:t?"0.72rem":"0.8rem",fontWeight:600,cursor:w.has(X.id)?"not-allowed":"pointer",opacity:w.has(X.id)?.7:1},children:w.has(X.id)?"Saving...":"Save"})]})]}):t?_.jsxs("div",{style:{display:"grid",gap:"6px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",minWidth:0},children:[_.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:X.color||"#0066cc",flexShrink:0}}),_.jsxs("div",{style:{flex:1,minWidth:0},children:[_.jsx("div",{style:{fontWeight:600,marginBottom:"1px",color:"#1a1a1a",fontSize:"0.82rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:X.customName||`Tag ${X.id.slice(-4)}`}),_.jsx("div",{style:{fontSize:"0.74rem",color:"#6c757d",lineHeight:1.25},children:X.status==="pending_hardware"?"Waiting for hardware assignment":(X.status==="linked",h.includes(X.id)?"Active - Subscription billing":"Inactive - No charges")})]}),_.jsx("div",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"0.62rem",fontWeight:700,background:h.includes(X.id)?"#ccfbf1":"#e9ecef",color:h.includes(X.id)?"#0d9488":"#6c757d",flexShrink:0},children:h.includes(X.id)?"ACTIVE":"INACTIVE"})]}),_.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:_.jsx("button",{onClick:()=>G(X),style:{width:28,minHeight:28,border:"1px solid #dee2e6",borderRadius:"5px",background:"#e9ecef",color:"#1a1a1a",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:0,flexShrink:0},title:"Edit tag","aria-label":`Edit ${X.customName||`Tag ${X.id.slice(-4)}`}`,children:_.jsx(A1,{})})})]}):_.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[_.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:X.color||"#0066cc",marginRight:"12px",flexShrink:0}}),_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{fontWeight:600,marginBottom:"2px",color:"#1a1a1a"},children:X.customName||`Tag ${X.id.slice(-4)}`}),_.jsx("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:X.status==="pending_hardware"?"Waiting for hardware assignment":(X.status==="linked",h.includes(X.id)?"Active - Subscription billing":"Inactive - No charges")})]}),_.jsx("button",{onClick:()=>G(X),style:{padding:"6px 12px",border:"1px solid #dee2e6",borderRadius:"6px",background:"#e9ecef",color:"#1a1a1a",fontSize:"0.8rem",cursor:"pointer",marginRight:"8px"},children:"Edit"}),_.jsx("div",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:600,background:h.includes(X.id)?"#ccfbf1":"#e9ecef",color:h.includes(X.id)?"#0d9488":"#6c757d",marginRight:"12px"},children:h.includes(X.id)?"ACTIVE":"INACTIVE"}),_.jsx("button",{onClick:()=>j(X.id),disabled:X.status==="pending_hardware"||w.has(X.id)||(h.includes(X.id)?!1:h.length>=y),style:{padding:"8px 16px",border:"none",borderRadius:"6px",background:X.status==="pending_hardware"?"#6c757d":w.has(X.id)?"#adb5bd":h.includes(X.id)?"#dc3545":"#0d9488",color:"#fff",fontSize:"0.9rem",fontWeight:600,cursor:X.status==="pending_hardware"||w.has(X.id)?"not-allowed":h.includes(X.id)?"pointer":h.length>=y?"not-allowed":"pointer",opacity:X.status==="pending_hardware"||w.has(X.id)?.7:h.includes(X.id)?1:h.length>=y?.5:1},children:X.status==="pending_hardware"?"Pending Hardware":w.has(X.id)?"Updating...":h.includes(X.id)?"Deactivate":"Activate"})]})},X.id))})]})})})]})}function HB(){const e=ks(),[t,n]=D.useState(!1),[s,o]=D.useState(""),c=async()=>{if(!t){n(!0),o("");try{const y=(await fa(Ro,"createCustomerPortalSession")({origin:window.location.origin})).data?.url;if(!y||typeof y!="string")throw new Error("No billing portal URL was returned.");window.location.assign(y)}catch(h){console.error("Failed to open billing portal:",h);const m=h?.message||"Unable to open billing portal right now. Please try again.";o(String(m).replace("Firebase: ","")),n(!1)}}};return _.jsxs("div",{style:{background:"#fff",border:"1px solid #e9ecef",borderRadius:"12px",overflow:"hidden",marginBottom:"40px",boxShadow:"0 1px 3px rgba(0,0,0,0.06)"},children:[_.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e9ecef",background:"#fafbfc"},children:[_.jsx("h3",{style:{color:"#1a1a1a",fontSize:"18px",fontWeight:"600",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:"Subscription & Billing"}),_.jsx("p",{style:{color:"#6c757d",fontSize:"14px",margin:0,lineHeight:1.4},children:"Manage your subscription, purchase additional tags, and access billing information"})]}),_.jsxs("div",{style:{padding:"24px",textAlign:"center"},children:[_.jsxs("div",{className:"subscription-buttons-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px",justifyItems:"center",maxWidth:"600px",margin:"0 auto"},children:[_.jsx("button",{onClick:()=>e("/purchase?purchaseType=tags_only"),disabled:t,style:{background:"#0d9488",color:"#fff",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px"},children:"Purchase More Tags"}),_.jsx("button",{onClick:c,disabled:t,style:{background:"#eab308",color:"#1a1a1a",border:"none",padding:"12px 16px",borderRadius:"8px",cursor:t?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",width:"100%",maxWidth:"160px",opacity:t?.7:1},children:t?"Opening":"Change Subscription"}),_.jsx("button",{onClick:c,disabled:t,style:{background:"#0066cc",color:"#fff",border:"none",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:t?"not-allowed":"pointer",width:"100%",maxWidth:"160px",opacity:t?.7:1},children:t?"Opening":"Billing Portal"})]}),s&&_.jsx("p",{style:{color:"#dc3545",fontSize:"0.9rem",marginTop:"12px",marginBottom:0},children:s}),_.jsx("p",{style:{color:"#6c757d",fontSize:"0.9rem",marginTop:"16px"},children:"Use the Billing Portal to view invoices and update payment methods. Use Change Subscription to modify your plan quantity."})]})]})}function C1(){const[e,t]=D.useState(null),[n,s]=D.useState(!0),[o,c]=D.useState(!1),[h,m]=D.useState(()=>window.location.pathname==="/settings"?"settings":"status"),[y,v]=D.useState({geofences:[],outsideTags:[],recentEvents:[],loading:!0,error:null}),[w,A]=D.useState(null),[E,N]=D.useState(!1),[V,q]=D.useState(""),[Z,$]=D.useState(""),[ct,J]=D.useState(""),dt=ks(),[tt,wt]=J2(),z=D.useRef(!1),k=D.useRef(null),j=y.recentEvents||[],G=D.useMemo(()=>{const X=new Set;return j.filter(U=>U.tagId==null||X.has(U.tagId)?!1:(X.add(U.tagId),!0)).map(U=>({id:U.tagId,name:U.tagName||`Tag ${String(U.tagId).slice(-4)}`})).sort((U,at)=>(U.name||"").localeCompare(at.name||""))},[j]),W=D.useMemo(()=>{const X=new Set;return j.filter(U=>U.geofenceId==null||X.has(U.geofenceId)?!1:(X.add(U.geofenceId),!0)).map(U=>({id:U.geofenceId,name:U.geofenceName||"Unknown"})).sort((U,at)=>(U.name||"").localeCompare(at.name||""))},[j]),Y=D.useMemo(()=>j.filter(X=>!(V&&X.eventType!==V||Z&&X.tagId!==Z||ct&&X.geofenceId!==ct)),[j,V,Z,ct]);D.useEffect(()=>{const X=ed(nr,async U=>{U?t(U):dt("/login"),s(!1)});return()=>X()},[dt]),D.useEffect(()=>{if(!e){k.current=null,z.current=!1,A(null);return}z.current=!1,A(null),v(ve=>({...ve,loading:!0,error:null}));let X=!1,U=null,at=!1,rt=!1,Et=!1,O=[];const ot={geofences:null,states:null,tags:null,events:null},bt=()=>{O.forEach(ve=>ve()),O=[]},yt=()=>!!ot.geofences&&!!ot.states&&!!ot.tags&&!!ot.events,xt=async({forceLoading:ve=!1}={})=>{if(X){bt();return}if(!yt()){ve&&v(We=>({...We,loading:!0,error:null})),bt();return}if(at){rt=!0,Et=Et||ve;return}at=!0,(ve||!z.current)&&v(We=>({...We,loading:!0,error:null}));try{const We=ot.geofences,fn=ot.states,rs=ot.tags,zr=ot.events,as=new Map;We.docs.forEach(Xt=>{as.set(Xt.id,{id:Xt.id,...Xt.data()})});const hi=new Map;rs.docs.forEach(Xt=>{hi.set(Xt.id,{id:Xt.id,...Xt.data()})});const Br=[],os=new Map;rs.docs.forEach(Xt=>{const Dt=Xt.data();Dt.hardwareId&&(os.set(Dt.hardwareId,Xt.id),Br.push(cd(Vr(Mi,"airtags",Dt.hardwareId))))});const Fr=await Promise.all(Br),ar=new Map;Fr.forEach(Xt=>{if(Xt.exists()){const Dt=Xt.data(),Ee=os.get(Xt.id);Dt.lastLocationTs&&Ee&&ar.set(Ee,new Date(Dt.lastLocationTs))}});const Te=[],ne=new Map;We.docs.forEach(Xt=>{const Dt={id:Xt.id,...Xt.data()};Dt.active&&Te.push({id:Dt.id,name:Dt.name,color:Dt.color||"#0066cc",tags:[]})}),fn.docs.forEach(Xt=>{const Dt={id:Xt.id,...Xt.data()},Ee=hi.get(Dt.tagId);if(Ee){const rn=Dt.lastChecked?.toDate?Dt.lastChecked.toDate():new Date(Dt.lastChecked),an={tagId:Dt.tagId,tagName:Ee.customName||`Tag ${Ee.id.slice(-4)}`,tagColor:Ee.color||"#0066cc",currentState:Dt.currentState,lastChecked:rn,location:Dt.lastLocation,geofenceId:Dt.geofenceId};ne.has(Dt.tagId)||ne.set(Dt.tagId,[]),ne.get(Dt.tagId).push(an)}}),Te.forEach(Xt=>{ne.forEach((Dt,Ee)=>{const rn=Dt.find(an=>an.geofenceId===Xt.id);rn&&rn.currentState==="inside"&&Xt.tags.push({tagId:rn.tagId,tagName:rn.tagName,tagColor:rn.tagColor,lastChecked:rn.lastChecked,lastSeen:ar.get(Ee)||null,location:rn.location})}),Xt.tags.sort((Dt,Ee)=>!Dt.lastSeen&&!Ee.lastSeen?Ee.lastChecked-Dt.lastChecked:Dt.lastSeen?Ee.lastSeen?Ee.lastSeen-Dt.lastSeen:-1:1)});const mn=[];rs.docs.forEach(Xt=>{const Dt={id:Xt.id,...Xt.data()},Ee=ne.get(Dt.id);if(!(Ee&&Ee.some(an=>an.currentState==="inside"))){const an=Ee?Ee.reduce((In,Vs)=>!In||Vs.lastChecked>In.lastChecked?Vs:In,null):null;mn.push({tagId:Dt.id,tagName:Dt.customName||`Tag ${Dt.id.slice(-4)}`,tagColor:Dt.color||"#0066cc",lastChecked:an?.lastChecked||null,lastSeen:ar.get(Dt.id)||null,location:an?.location||null,status:an?"Outside all geofences":"Never checked"})}}),mn.sort((Xt,Dt)=>!Xt.lastChecked&&!Dt.lastChecked?0:Xt.lastChecked?Dt.lastChecked?Dt.lastChecked-Xt.lastChecked:-1:1);const pn=zr.docs.map(Xt=>{const Dt={id:Xt.id,...Xt.data()};return{id:Dt.id,tagId:Dt.tagId,geofenceId:Dt.geofenceId,eventType:Dt.eventType,timestamp:Dt.timestamp?.toDate?Dt.timestamp.toDate():new Date(Dt.timestamp?.seconds*1e3),location:Dt.location,geofenceName:as.get(Dt.geofenceId)?.name||"Unknown",tagName:hi.get(Dt.tagId)?.customName||`Tag ${Dt.tagId.slice(-4)}`}});X||(v({geofences:Te,outsideTags:mn,recentEvents:pn,loading:!1,error:null}),A(new Date),z.current=!0)}catch(We){X||(console.error("Error building live dashboard data:",We),v(fn=>({...fn,loading:!1,error:We.message||"Unable to refresh geofence status"})))}finally{if(at=!1,bt(),rt&&!X){const We=Et;rt=!1,Et=!1,xt({forceLoading:We})}}},Ct=({forceLoading:ve=!1}={})=>{if(!X){if(ve){U&&(clearTimeout(U),U=null),xt({forceLoading:!0});return}U&&clearTimeout(U),U=setTimeout(()=>{U=null,xt()},120)}},St=ve=>{X||(console.error("Live dashboard listener error:",ve),v(We=>({...We,loading:!1,error:ve.message||"Live updates disconnected. Please refresh."})),bt())};k.current=({forceLoading:ve=!1}={})=>new Promise(We=>{O.push(We),Ct({forceLoading:ve})});const ge=hh(Mi,"users",e.uid,"geofences"),re=hh(Mi,"users",e.uid,"geofenceStates"),li=Yy(hh(Mi,"users",e.uid,"tags"),Gx("status","==","linked"),Gx("isActive","==",!0)),wi=Yy(hh(Mi,"users",e.uid,"geofenceEvents"),yj("timestamp","desc"),_j(30)),ci=Ll(ge,ve=>{ot.geofences=ve,Ct()},St),ui=Ll(re,ve=>{ot.states=ve,Ct()},St),ji=Ll(li,ve=>{ot.tags=ve,Ct()},St),Os=Ll(wi,ve=>{ot.events=ve,Ct()},St);return()=>{X=!0,U&&clearTimeout(U),bt(),k.current=null,ci(),ui(),ji(),Os()}},[e]);const B=async()=>{if(!(!k.current||E)){N(!0);try{await k.current({forceLoading:!0})}catch(X){console.error("Manual dashboard refresh failed:",X)}finally{N(!1)}}},jt=X=>{if(!X)return"Never checked";const at=new Date-X,rt=Math.floor(at/(1e3*60)),Et=Math.floor(at/(1e3*60*60)),O=Math.floor(at/(1e3*60*60*24));return rt<1?"Just now":rt<60?`${rt}m ago`:Et<24?`${Et}h ago`:`${O}d ago`};return D.useEffect(()=>{if(tt.get("success")==="true"||tt.get("purchase")==="success"){c(!0);const U=tt.get("tag_count")||"1",at=tt.get("session_id"),rt=tt.get("billing_cycle")||"monthly";Jj(parseInt(U),at,rt);const Et=new URLSearchParams(tt);Et.delete("success"),Et.delete("purchase"),Et.delete("tag_count"),Et.delete("session_id"),Et.delete("billing_cycle"),wt(Et);const O=setTimeout(()=>{c(!1)},5e3);return()=>clearTimeout(O)}if(tt.get("subscription")==="success"){const U=new URLSearchParams(tt);U.delete("subscription"),U.delete("tag_count"),wt(U)}},[tt,wt]),n?_.jsx("div",{className:"loading",children:"Loading..."}):_.jsxs("div",{className:"dashboard-page",children:[_.jsxs("header",{className:"dashboard-header",children:[_.jsxs("div",{className:"dashboard-header-main",children:[_.jsx("h1",{children:"Dashboard"}),_.jsx("div",{className:"dashboard-accent-bar"})]}),_.jsxs("div",{className:"user-info",children:[_.jsx("span",{className:"user-icon",children:""}),_.jsxs("span",{children:["Welcome, ",e?.email]})]})]}),o&&_.jsx("div",{style:{background:"var(--color-accent)",color:"#fff",padding:"16px 24px",margin:"0 auto 24px auto",maxWidth:"600px",borderRadius:"12px",textAlign:"center",fontSize:"16px",fontWeight:"600",boxShadow:"var(--shadow-md)",animation:"slideIn 0.3s ease-out"},children:" Payment successful! Your tags are being prepared and you'll be notified once they're shipped."}),_.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px",padding:"0 20px"},children:_.jsxs("div",{style:{background:"var(--color-bg-alt)",border:"1px solid var(--color-border-light)",borderRadius:"12px",padding:"4px",display:"flex",gap:"4px",maxWidth:"400px",width:"100%"},children:[_.jsx("button",{onClick:()=>m("status"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:h==="status"?"var(--color-accent)":"transparent",color:h==="status"?"#fff":"var(--color-text)",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Status"}),_.jsx("button",{onClick:()=>m("map"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:h==="map"?"var(--color-accent)":"transparent",color:h==="map"?"#fff":"var(--color-text)",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Map"}),_.jsx("button",{onClick:()=>m("settings"),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"8px",background:h==="settings"?"var(--color-accent)":"transparent",color:h==="settings"?"#fff":"var(--color-text)",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:" Settings"})]})}),_.jsxs("main",{className:"dashboard-content",children:[h==="status"&&_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 24px 0"},children:_.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",flexWrap:"wrap",marginBottom:"12px"},children:[_.jsxs("div",{style:{color:"var(--color-text-secondary)",fontSize:"13px"},children:["Last updated: ",w?w.toLocaleString():"Waiting for live data..."]}),_.jsx("button",{onClick:B,disabled:E,style:{border:"1px solid var(--color-border)",background:E?"var(--color-surface-hover)":"var(--color-accent-muted)",color:E?"var(--color-text-muted)":"var(--color-accent)",borderRadius:"8px",padding:"8px 14px",fontSize:"13px",fontWeight:"600",cursor:E?"not-allowed":"pointer"},children:E?"Refreshing...":"Refresh now"})]}),y.error&&_.jsxs("div",{style:{background:"var(--color-error)",color:"#fff",padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",textAlign:"center"},children:["Error loading geofence data: ",y.error]}),y.loading?_.jsx("div",{style:{background:"var(--color-bg-alt)",border:"1px solid var(--color-border-light)",borderRadius:"12px",padding:"24px",textAlign:"center",color:"var(--color-text-muted)"},children:"Loading geofence status..."}):_.jsx("div",{style:{display:"grid",gap:"24px"},children:_.jsxs("div",{style:{background:"#fff",border:"1px solid #e9ecef",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.06)"},children:[_.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e9ecef",background:"#fafbfc"},children:[_.jsx("h2",{style:{color:"#1a1a1a",fontSize:"18px",fontWeight:"600",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:"Geofence Status"}),_.jsx("p",{style:{color:"#6c757d",fontSize:"14px",margin:0,lineHeight:1.4},children:"Current location status of all your tags across active geofences"})]}),_.jsxs("div",{style:{padding:"20px 24px",display:"flex",flexDirection:"column",gap:"16px",maxHeight:"70vh",overflowY:"auto"},children:[y.geofences.map(X=>_.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"10px",overflow:"hidden"},children:[_.jsxs("div",{style:{background:`linear-gradient(90deg, ${X.color}, ${X.color}dd)`,color:"#000",padding:"12px 16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px"},children:[X.name," (",X.tags.length,")"]}),X.tags.length===0?_.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#6c757d",fontSize:"14px"},children:"No tags currently inside this geofence"}):_.jsx("div",{style:{overflowX:"auto"},children:_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[_.jsx("thead",{children:_.jsxs("tr",{style:{background:"#f1f3f5",borderBottom:"1px solid #dee2e6"},children:[_.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Tag"}),_.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Last Seen"})]})}),_.jsx("tbody",{children:X.tags.map((U,at)=>_.jsxs("tr",{style:{borderBottom:"1px solid #e9ecef",background:at%2===0?"#fff":"#fafbfc"},children:[_.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("div",{style:{width:"12px",height:"12px",background:U.tagColor,borderRadius:"2px"}}),_.jsx("span",{style:{color:"#1a1a1a"},children:U.tagName})]}),_.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#6c757d",fontSize:"14px"},children:U.lastSeen?jt(U.lastSeen):"Unknown"})]},U.tagId))})]})})]},X.id)),_.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"10px",overflow:"hidden"},children:[_.jsxs("div",{style:{background:"#5a6268",color:"#fff",padding:"12px 16px",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:["Outside All Geofences (",y.outsideTags.length,")"]}),y.outsideTags.length===0?_.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#6c757d",fontSize:"14px"},children:"All tags are inside geofences"}):_.jsx("div",{style:{overflowX:"auto"},children:_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[_.jsx("thead",{children:_.jsxs("tr",{style:{background:"#f1f3f5",borderBottom:"1px solid #dee2e6"},children:[_.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Tag"}),_.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Last Seen"})]})}),_.jsx("tbody",{children:y.outsideTags.map((X,U)=>_.jsxs("tr",{style:{borderBottom:"1px solid #e9ecef",background:U%2===0?"#fff":"#fafbfc"},children:[_.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("div",{style:{width:"12px",height:"12px",background:X.tagColor,borderRadius:"2px"}}),_.jsx("span",{style:{color:"#1a1a1a"},children:X.tagName})]}),_.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#6c757d",fontSize:"14px"},children:X.lastSeen?jt(X.lastSeen):"Unknown"})]},X.tagId))})]})})]})]})]})})]})}),_.jsxs("div",{style:{background:"#fff",border:"1px solid #e9ecef",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.06)"},children:[_.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e9ecef",background:"#fafbfc"},children:[_.jsx("h2",{style:{color:"#1a1a1a",fontSize:"18px",fontWeight:"600",margin:"0 0 4px 0",letterSpacing:"-0.01em"},children:"Recent Activity"}),_.jsxs("p",{style:{color:"#6c757d",fontSize:"14px",margin:0,lineHeight:1.4},children:["Latest geofence entry and exit events from your tags",j.length>0?` (${Y.length}${Y.length!==j.length?` of ${j.length}`:""})`:""]})]}),_.jsx("div",{style:{padding:"20px 24px",maxHeight:"50vh",overflowY:"auto"},children:j.length===0?_.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#6c757d",fontSize:"14px"},children:"No recent geofence activity"}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",marginBottom:"12px",alignItems:"center"},children:[_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#495057"},children:["Event",_.jsxs("select",{value:V,onChange:X=>q(X.target.value),style:{padding:"6px 10px",borderRadius:"6px",border:"1px solid #dee2e6",background:"#fff",color:"#1a1a1a",fontSize:"13px",minWidth:"100px"},children:[_.jsx("option",{value:"",children:"All"}),_.jsx("option",{value:"entry",children:"Entered"}),_.jsx("option",{value:"exit",children:"Exited"})]})]}),_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#495057"},children:["Tag",_.jsxs("select",{value:Z,onChange:X=>$(X.target.value),style:{padding:"6px 10px",borderRadius:"6px",border:"1px solid #dee2e6",background:"#fff",color:"#1a1a1a",fontSize:"13px",minWidth:"120px"},children:[_.jsx("option",{value:"",children:"All"}),G.map(X=>_.jsx("option",{value:X.id,children:X.name},X.id))]})]}),_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#495057"},children:["Geofence",_.jsxs("select",{value:ct,onChange:X=>J(X.target.value),style:{padding:"6px 10px",borderRadius:"6px",border:"1px solid #dee2e6",background:"#fff",color:"#1a1a1a",fontSize:"13px",minWidth:"120px"},children:[_.jsx("option",{value:"",children:"All"}),W.map(X=>_.jsx("option",{value:X.id,children:X.name},X.id))]})]})]}),Y.length===0?_.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#6c757d",fontSize:"14px"},children:"No events match the selected filters"}):_.jsx("div",{style:{overflowX:"auto"},children:_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[_.jsx("thead",{children:_.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[_.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Event"}),_.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Tag"}),_.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Geofence"}),_.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"#495057",fontSize:"13px",fontWeight:"600"},children:"Time"})]})}),_.jsx("tbody",{children:Y.map((X,U)=>_.jsxs("tr",{style:{borderBottom:"1px solid #e9ecef",background:U%2===0?"#fff":"#fafbfc"},children:[_.jsx("td",{style:{padding:"12px 16px"},children:_.jsx("span",{style:{background:X.eventType==="entry"?"#0d9488":"#dc3545",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:X.eventType==="entry"?"Entered":"Exited"})}),_.jsxs("td",{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#0066cc",flexShrink:0}}),_.jsx("span",{style:{color:"#1a1a1a"},children:X.tagName})]}),_.jsx("td",{style:{padding:"12px 16px",color:"#1a1a1a"},children:X.geofenceName}),_.jsx("td",{style:{padding:"12px 16px",textAlign:"right",color:"#6c757d",fontSize:"14px"},children:jt(X.timestamp)})]},X.id))})]})})]})})]})]}),h==="map"&&_.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:_.jsxs("div",{style:{width:"100%",maxWidth:1200,background:"var(--color-surface)",border:"1px solid var(--color-border-light)",borderRadius:"12px",padding:"24px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),_.jsx("h3",{style:{color:"var(--color-accent)",margin:"0 0 8px 0"},children:"Interactive Map View"}),_.jsx("p",{style:{color:"var(--color-text-secondary)",margin:"0 0 24px 0"},children:"View your tags, draw geofences, and manage assets on an interactive map."}),_.jsx("button",{className:"dashboard-btn",onClick:()=>dt("/map"),style:{padding:"12px 24px",fontSize:"16px"},children:"Open Full Map"})]})}),h==="settings"&&_.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"24px 0"},children:_.jsxs("div",{style:{width:"100%",maxWidth:1e3},children:[_.jsx(FB,{user:e}),_.jsx(HB,{})]})})]})]})}function qB(){const e=ks(),[t,n]=D.useState(!0),[s,o]=D.useState(null),[c,h]=D.useState(!1),[m,y]=D.useState(""),[v,w]=D.useState(!1),[A,E]=D.useState(""),[N,V]=D.useState(!1),[q,Z]=D.useState(!1),[$,ct]=D.useState(null),[J,dt]=D.useState(!0),[tt,wt]=D.useState(!1),[z,k]=D.useState(""),[j,G]=D.useState(""),[W,Y]=D.useState("2");D.useEffect(()=>{const U=ed(nr,async at=>{if(!at){n(!1),o(null),h(!1);return}o(at);const rt=await cd(Vr(Mi,"users",at.uid)),Et=rt.exists()&&rt.data().isAdmin===!0;h(Et),n(!1),Et&&B()});return()=>U()},[]);const B=async()=>{try{dt(!0);const at=await fa(Ro,"adminGetGeofenceSchedulerStatus")({});ct(at.data.config)}catch(U){k(String(U?.message||U))}finally{dt(!1)}},jt=async U=>{try{wt(!0),k(""),G("");const rt=await fa(Ro,"adminUpdateGeofenceScheduler")(U);G(rt.data.message),await B()}catch(at){k(String(at?.message||at))}finally{wt(!1)}},X=U=>{if(!U)return"Never";try{let at;if(U.toDate&&typeof U.toDate=="function")at=U.toDate();else if(U.seconds)at=new Date(U.seconds*1e3);else if(typeof U=="string"||typeof U=="number")at=new Date(U);else return"Unknown";const Et=new Date-at;if(isNaN(Et))return"Invalid date";const O=Math.floor(Et/(1e3*60));if(O<1)return"Just now";if(O<60)return`${O}m ago`;const ot=Math.floor(Et/(1e3*60*60));return ot<24?`${ot}h ago`:`${Math.floor(Et/(1e3*60*60*24))}d ago`}catch(at){return console.error("Error formatting lastRun:",at,U),"Error"}};return t?_.jsx("div",{className:"loading",children:"Loading"}):s?c?_.jsxs("div",{className:"dashboard-page",children:[_.jsxs("header",{className:"dashboard-header",children:[_.jsxs("div",{className:"dashboard-header-main",children:[_.jsx("h1",{children:"Admin Page"}),_.jsx("div",{className:"dashboard-accent-bar"})]}),_.jsxs("div",{className:"user-info",children:[_.jsx("span",{className:"user-icon",children:""}),_.jsxs("span",{children:["Welcome, ",s?.email]})]})]}),_.jsx("main",{className:"dashboard-content",children:_.jsxs("div",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[z&&_.jsx("div",{style:{marginBottom:12,color:"var(--color-error)"},children:z}),j&&_.jsx("div",{style:{marginBottom:12,color:"var(--color-success)"},children:j}),_.jsxs("div",{style:{display:"grid",gap:20},children:[_.jsxs("div",{style:{border:"1px solid var(--color-border-light)",borderRadius:8,padding:16,background:"var(--color-surface)"},children:[_.jsx("h3",{style:{fontWeight:700,margin:"0 0 12px 0",color:"var(--color-text)"},children:"Sign in as customer"}),_.jsx("p",{style:{fontSize:14,color:"var(--color-text-secondary)",margin:"0 0 12px 0"},children:"Get a token for a user UID and sign in as them on this browser. Use for support/debugging. Sign out when done to return to your admin account."}),A&&_.jsx("div",{style:{marginBottom:12,color:"var(--color-error)",fontSize:14},children:A}),_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[_.jsx("input",{type:"text",placeholder:"Customer UID",value:m,onChange:U=>{y(U.target.value.trim()),E("")},disabled:v,style:{padding:"10px 12px",borderRadius:6,border:"1px solid var(--color-border-light)",background:"var(--color-bg-alt)",color:"var(--color-text)",minWidth:280,fontSize:14}}),_.jsx("button",{type:"button",disabled:v||!m,onClick:async()=>{E(""),w(!0);try{const rt=(await fa(Ro,"adminCreateImpersonationToken")({targetUid:m})).data?.token;if(!rt)throw new Error("No token returned");await GM(nr,rt),e("/map",{replace:!0})}catch(U){E(U?.message||String(U))}finally{w(!1)}},style:{padding:"10px 20px",borderRadius:6,border:"1px solid #0066cc",background:"#0066cc",color:"#fff",fontWeight:600,cursor:v||!m?"not-allowed":"pointer",opacity:v||!m?.7:1,fontSize:14},children:v?"Signing in":"Sign in as this user"})]})]}),_.jsxs("div",{style:{border:"1px solid var(--color-border-light)",borderRadius:8,padding:16,background:"var(--color-surface)"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[_.jsx("h3",{style:{fontWeight:700,margin:0,color:"var(--color-text)"},children:"Manual Geofence Check"}),_.jsx("button",{disabled:N,onClick:async()=>{try{V(!0),k(""),G("");const at=await fa(Ro,"adminTriggerGeofenceMonitor")({});G(` Geofence check complete! Checked: ${at.data?.checked||0}, Events: ${at.data?.events||0}`),await B()}catch(U){k(String(U?.message||U))}finally{V(!1)}},style:{padding:"12px 20px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"var(--color-text)",fontWeight:700,cursor:N?"not-allowed":"pointer",opacity:N?.7:1,fontSize:"14px"},children:N?" Checking...":" Run Check Now"})]}),_.jsx("div",{style:{fontSize:14,color:"var(--color-text-secondary)"},children:"Manually trigger an immediate geofence check for all active geofences and tags"})]}),_.jsxs("div",{style:{border:"1px solid var(--color-border-light)",borderRadius:8,padding:16,background:"var(--color-surface)"},children:[_.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:_.jsx("h3",{style:{fontWeight:700,margin:0,color:"var(--color-text)"},children:"Geofence Scheduler"})}),J?_.jsx("div",{style:{color:"var(--color-text-muted)",textAlign:"center",padding:"20px 0"},children:"Loading scheduler status..."}):_.jsxs("div",{style:{display:"grid",gap:"16px"},children:[_.jsx("div",{style:{background:"var(--color-bg-alt)",border:"1px solid var(--color-border-light)",borderRadius:"8px",padding:"12px"},children:_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"4px"},children:"Status"}),_.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",background:$?.enabled?"#4ade80":"#f87171",color:$?.enabled?"#000":"#fff",fontSize:"14px",fontWeight:"600"},children:[_.jsx("span",{children:$?.enabled?"":""}),$?.enabled?"Running":"Stopped"]})]}),_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"4px"},children:"Schedule"}),_.jsx("div",{style:{color:"var(--color-text)",fontWeight:"600"},children:$?.displaySchedule||"Every 15 minutes"})]}),_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"4px"},children:"Last Run"}),_.jsx("div",{style:{color:"var(--color-text)"},children:X($?.lastRun)})]}),_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"4px"},children:"Total Runs"}),_.jsx("div",{style:{color:"var(--color-text)",fontWeight:"600"},children:$?.totalRuns||0})]})]})}),_.jsxs("div",{style:{display:"grid",gap:"16px"},children:[_.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[_.jsx("button",{disabled:tt,onClick:()=>{jt({enabled:!$?.enabled})},style:{padding:"12px 20px",borderRadius:6,border:"1px solid "+($?.enabled?"#f87171":"#4ade80"),background:$?.enabled?"#f87171":"#4ade80",color:"var(--color-text)",fontWeight:"700",cursor:tt?"not-allowed":"pointer",opacity:tt?.7:1,fontSize:"14px",flex:"1 1 auto"},children:tt?"Updating...":$?.enabled?" Stop Scheduler":" Start Scheduler"}),_.jsx("button",{disabled:tt,onClick:B,style:{padding:"12px 20px",borderRadius:6,border:"1px solid #6b7280",background:"var(--color-bg-alt)",color:"var(--color-text)",fontWeight:"700",cursor:"pointer",fontSize:"14px"},children:" Refresh Status"})]}),_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"8px",fontWeight:"600"},children:"Quick Presets:"}),_.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[_.jsx("button",{disabled:tt,onClick:()=>{jt({schedule:"*/2 * * * *",displaySchedule:"Every 2 minutes (Optimized)"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"var(--color-text)",fontWeight:"700",cursor:tt?"not-allowed":"pointer",opacity:tt?.7:1,fontSize:"13px"},children:" Optimized (2min)"}),_.jsx("button",{disabled:tt,onClick:()=>{jt({schedule:"*/5 * * * *",displaySchedule:"Every 5 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"var(--color-text)",fontWeight:"700",cursor:tt?"not-allowed":"pointer",opacity:tt?.7:1,fontSize:"13px"},children:" Fast (5min)"}),_.jsx("button",{disabled:tt,onClick:()=>{jt({schedule:"*/10 * * * *",displaySchedule:"Every 10 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #3b82f6",background:"#3b82f6",color:"var(--color-text)",fontWeight:"700",cursor:tt?"not-allowed":"pointer",opacity:tt?.7:1,fontSize:"13px"},children:" Normal (10min)"}),_.jsx("button",{disabled:tt,onClick:()=>{jt({schedule:"*/15 * * * *",displaySchedule:"Every 15 minutes"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #f59e0b",background:"#f59e0b",color:"var(--color-text)",fontWeight:"700",cursor:tt?"not-allowed":"pointer",opacity:tt?.7:1,fontSize:"13px"},children:" Battery Saver (15min)"}),_.jsx("button",{disabled:tt,onClick:()=>{jt({schedule:"0 * * * *",displaySchedule:"Every 60 min (approx)"})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #6b7280",background:"#6b7280",color:"var(--color-text)",fontWeight:"700",cursor:tt?"not-allowed":"pointer",opacity:tt?.7:1,fontSize:"13px"},children:" 60min (approx)"})]})]}),_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"8px",fontWeight:"600"},children:"Custom Interval (minutes):"}),_.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[_.jsx("input",{type:"number",min:"1",max:"1440",value:W,onChange:U=>Y(U.target.value),placeholder:"2",style:{padding:"10px 12px",borderRadius:6,border:"1px solid var(--color-border)",background:"var(--color-bg-alt)",color:"var(--color-text)",fontSize:"14px",width:"100px"}}),_.jsx("button",{disabled:tt||!W||W<1,onClick:()=>{const U=parseInt(W);U&&U>0&&jt({schedule:`*/${U} * * * *`,displaySchedule:`Every ${U} minute${U>1?"s":""} (Custom)`})},style:{padding:"10px 16px",borderRadius:6,border:"1px solid #8b5cf6",background:"#8b5cf6",color:"var(--color-text)",fontWeight:"700",cursor:tt||!W||W<1?"not-allowed":"pointer",opacity:tt||!W||W<1?.5:1,fontSize:"14px"},children:" Apply Custom"}),_.jsx("span",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"(1-1440 min)"})]})]})]}),_.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"var(--color-text-secondary)"},children:[_.jsxs("div",{style:{marginBottom:"6px"},children:[" ",_.jsx("strong",{children:"Stats:"})," Created ",$?.totalEventsCreated||0," geofence events"]}),_.jsxs("div",{style:{marginBottom:"6px"},children:[" ",_.jsx("strong",{children:"Checks Performed:"})," ",$?.checked||0," tag/geofence combinations"]}),_.jsxs("div",{children:[" ",_.jsx("strong",{children:"Last Modified:"})," ",$?.lastModified?.toDate?new Date($.lastModified.toDate()).toLocaleString():"Unknown"]})]}),_.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",padding:"12px",fontSize:"12px",color:"var(--color-text-muted)"},children:[_.jsx("div",{style:{fontWeight:"600",color:"#10b981",marginBottom:"6px"},children:" Optimization Active"}),_.jsxs("div",{children:["The geofence monitor uses smart filtering to only check tags with location updates in the last 2 minutes, dramatically reducing database operations and costs. For best results, use the ",_.jsx("strong",{children:"2-minute optimized schedule"}),"."]})]})]})]}),_.jsxs("div",{style:{border:"1px solid var(--color-border-light)",borderRadius:8,padding:16},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[_.jsx("h3",{style:{fontWeight:700,margin:0,color:"var(--color-text)"},children:"Tag Auto-Assignment"}),_.jsx("button",{disabled:q,onClick:async()=>{try{Z(!0),await fa(Ro,"adminTriggerTagAssignment")({})}catch(U){k(String(U?.message||U))}finally{Z(!1)}},style:{padding:"8px 16px",borderRadius:6,border:"1px solid #10b981",background:"#10b981",color:"var(--color-text)",fontWeight:700,cursor:q?"not-allowed":"pointer",opacity:q?.7:1},children:q?"Assigning...":"Run Tag Assignment"})]}),_.jsx("div",{style:{fontSize:14,color:"var(--color-text-secondary)",marginBottom:16},children:"Manually trigger automatic AirTag-to-user assignment based on naming convention"}),_.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Matches AirTags named with Firebase user IDs to user accounts"})]}),_.jsxs("div",{style:{padding:20,background:"var(--color-surface)",borderRadius:8,border:"1px solid var(--color-border-light)"},children:[_.jsx("h2",{style:{fontWeight:700,marginBottom:16,color:"var(--color-text)",fontSize:18},children:" Email Monitoring"}),_.jsxs("div",{style:{padding:20,textAlign:"center",color:"var(--color-text-muted)",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:8},children:[_.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:8,color:"#8b5cf6"},children:" Use Firebase Console for Email Monitoring"}),_.jsx("div",{style:{fontSize:14,marginBottom:16},children:"Email monitoring functions have been removed from the Admin UI due to CORS configuration issues."}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,alignItems:"center"},children:[_.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_emailErrors",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#8b5cf6",color:"var(--color-text)",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:" View Email Errors in Firestore"}),_.jsx("a",{href:"https://console.firebase.google.com/project/findmyhistory/firestore/data/~2F_admin~2FemailStats",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",background:"#10b981",color:"var(--color-text)",textDecoration:"none",borderRadius:6,fontWeight:600,fontSize:14},children:" View Email Stats in Firestore"})]})]})]})]})]})})]}):_.jsx("div",{style:{padding:24,color:"var(--color-text)"},children:"Not authorized."}):_.jsx("div",{style:{padding:24,color:"var(--color-text)"},children:"Please sign in."})}function GB(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?Number(e.state.tagCount):t.has("tagCount")?Number(t.get("tagCount")):1}function WB(e){const t=new URLSearchParams(e.search),n=e.state&&e.state.purchaseType||t.get("purchaseType");return n==="initial"||n==="tags_only"?n:null}function ZB(e){const t=new URLSearchParams(e.search),n=e.state&&e.state.billingCycle||t.get("billingCycle");return Hc(n)}function $B(){const e=Vi(),t=ks(),n=WB(e),[s,o]=D.useState(!1),c=s?"tags_only":n||"initial",{MIN_TAGS:h}=pC(c),m=D.useCallback(rt=>Math.max(h,Math.floor(Number(rt)||h)),[h]),[y,v]=D.useState(null),[w,A]=D.useState(()=>m(GB(e))),[E,N]=D.useState(()=>ZB(e)),[V,q]=D.useState(!1),[Z,$]=D.useState(""),[ct,J]=D.useState(!0),dt=m(w),tt=dt,wt=c==="initial",z=wt?Hc(E):te.MONTHLY,k=wt?dt:0,j=Zn.SETUP_FEE_PER_TAG,G=wt?_C(k,z):0,W=G*12,Y=z===te.ANNUAL?Zn.ANNUAL_BILLING_DISCOUNT:0,B=j*tt,jt=G*k,X=z===te.ANNUAL?jt*12:jt,U=wt&&dt>=h?Math.round((1-G/Zn.BASE_MONTHLY_PRICE)*100):0;D.useEffect(()=>{const rt=ed(nr,async Et=>{if(v(Et),Et)try{const O=Vr(Mi,"users",Et.uid),ot=await cd(O),bt=ot.exists()?Math.max(0,Number(ot.data()?.subscriptionQuantity||0)):0;o(bt>0);const yt=new URLSearchParams(e.search),xt=yt.get("tagCount"),Ct=yt.get("billingCycle");xt&&A(m(xt)),Ct&&N(Hc(Ct))}catch(O){console.error("Error loading purchase page:",O),o(!1)}else o(!1),t("/login",{replace:!0});J(!1)});return()=>rt()},[e,t,m]);const at=async()=>{if(!y){$("You must be logged in to make a purchase");return}q(!0),$(""),Qj(dt,z);try{const rt=fC(ud),O=await fa(rt,"createCheckoutSession")({tagCount:dt,purchaseType:c,billingCycle:z});if(O.data?.url)window.location.href=O.data.url;else throw new Error("No checkout URL returned")}catch(rt){console.error("Purchase error:",rt),$("Error: "+(rt.message||"Unknown error")),q(!1)}};return ct?_.jsx("div",{style:{minHeight:"100vh",background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:_.jsx("div",{style:{color:"#1a1a1a",fontSize:"1.2rem"},children:"Checking your account..."})}):_.jsx("div",{style:{minHeight:"100vh",background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:_.jsxs("div",{className:"calculator-card",style:{background:"#fff",border:"1px solid #dee2e6",borderRadius:20,padding:"50px 40px",textAlign:"center",maxWidth:400,width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[_.jsx("h2",{style:{color:"#1a1a1a",fontSize:"2.2rem",fontWeight:600,margin:"0 0 18px 0",letterSpacing:"-0.01em"},children:wt?"Purchase Tags":"Purchase Additional Tags"}),_.jsx("p",{style:{color:"#495057",fontSize:"1.1rem",fontWeight:400,margin:"0 0 32px 0"},children:wt?"Select the number of tags you want to purchase and proceed to secure checkout.":"Purchase additional AirTags with setup fees. Subscriptions can be managed separately."}),_.jsxs("div",{style:{marginBottom:32},children:[_.jsx("label",{style:{color:"#1a1a1a",fontWeight:500,fontSize:16,marginBottom:10,display:"block"},children:"Number of tags:"}),_.jsx("input",{type:"number",min:h,value:w,onChange:rt=>A(m(rt.target.value)),disabled:V,style:{width:90,fontSize:18,padding:8,borderRadius:8,border:"1px solid #dee2e6",textAlign:"center",fontWeight:600,background:"#f8f9fa",color:"#1a1a1a",outline:"none",marginTop:4}}),w<h&&_.jsxs("div",{style:{color:"#b45309",fontSize:13,marginTop:8,fontWeight:500},children:[" Minimum order is ",h," tags"]})]}),wt&&_.jsxs("div",{style:{marginBottom:22,border:"1px solid #dee2e6",borderRadius:12,padding:"10px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[_.jsx("span",{style:{color:"#495057",fontSize:13,fontWeight:600},children:"Billing cycle"}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,border:"1px solid #dee2e6",borderRadius:999,padding:"4px 8px",background:"#fff"},children:[_.jsx("span",{style:{color:z===te.MONTHLY?"#1a1a1a":"#6c757d",fontSize:12,fontWeight:600},children:"Monthly"}),_.jsx("button",{type:"button",role:"switch","aria-checked":z===te.ANNUAL,"aria-label":"Toggle billing cycle",onClick:()=>N(rt=>Hc(rt)===te.ANNUAL?te.MONTHLY:te.ANNUAL),disabled:V,style:{width:46,height:24,borderRadius:999,border:"1px solid #cbd5e1",background:z===te.ANNUAL?"#dbeafe":"#f1f5f9",padding:2,cursor:V?"not-allowed":"pointer",display:"inline-flex",alignItems:"center"},children:_.jsx("span",{style:{width:18,height:18,borderRadius:999,background:z===te.ANNUAL?"#0066cc":"#64748b",transform:z===te.ANNUAL?"translateX(22px)":"translateX(0)",transition:"transform 0.2s ease"}})}),_.jsx("span",{style:{color:z===te.ANNUAL?"#1a1a1a":"#6c757d",fontSize:12,fontWeight:600},children:"Annual (save 5%)"})]})]}),_.jsxs("div",{style:{background:"#f0f7ff",border:"1px solid #0066cc",borderRadius:16,padding:"20px 18px",color:"#1a1a1a",textAlign:"left",marginBottom:28},children:[B>0&&_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:wt?12:0},children:[_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#1a1a1a"},children:"Due today"}),_.jsx("div",{style:{fontSize:13,color:"#6c757d"},children:"One-time setup & activation"})]}),_.jsxs("div",{style:{fontSize:20,fontWeight:700,color:"#1a1a1a"},children:["$",B.toFixed(2)]})]}),wt&&_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#1a1a1a"},children:z===te.ANNUAL?"Yearly billing (starts in 7 days)":"Monthly billing (starts in 7 days)"}),_.jsxs("div",{style:{fontSize:13,color:"#6c757d"},children:[`$${G.toFixed(2)} per tag / month`,z===te.ANNUAL&&`  $${W.toFixed(2)} per tag / year`,U>0&&`  ${U}% total discount`,Y>0&&` (incl. ${(Y*100).toFixed(0)}% yearly)`]})]}),_.jsxs("div",{style:{fontSize:20,fontWeight:700,color:"#1a1a1a",textAlign:"right"},children:["$",X.toFixed(2),_.jsxs("div",{style:{color:"#6c757d",fontSize:12,fontWeight:600,marginTop:2},children:["/",z===te.ANNUAL?"year":"month"]})]})]}),_.jsx("p",{style:{fontSize:13,color:"#6c757d",marginTop:16,lineHeight:1.5},children:wt?`Setup fees are charged today. Subscription charges begin in 7 days on a ${z} billing cycle.`:"Setup fees are charged today. You can activate subscriptions for these tags through your account settings."})]}),_.jsx("button",{className:"pricing-cta",onClick:at,disabled:V||dt<h,style:{background:dt<h?"#e9ecef":"#0066cc",color:dt<h?"#6c757d":"#fff",border:"none",borderRadius:12,padding:"16px 0",fontSize:20,fontWeight:700,cursor:V||dt<h?"not-allowed":"pointer",width:"100%",marginBottom:10,boxShadow:"0 2px 8px rgba(0,102,204,0.25)",transition:"background 0.2s",letterSpacing:"-0.01em"},onMouseOver:rt=>{dt>=h&&!V&&(rt.currentTarget.style.background="#0052a3")},onMouseOut:rt=>{dt>=h&&!V&&(rt.currentTarget.style.background="#0066cc")},children:V?"Redirecting...":`Proceed with ${dt} Tag${dt>1?"s":""}`}),Z&&_.jsx("div",{style:{color:"#dc3545",marginTop:18,fontWeight:500},children:Z})]})})}function YB(){return D.useEffect(()=>{window.scrollTo(0,0)},[]),_.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"var(--color-bg)",color:"var(--color-text)",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:_.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[_.jsx("h1",{style:{color:"var(--color-accent)",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Terms and Conditions"}),_.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-muted)",marginBottom:"32px"},children:_.jsx("strong",{children:"Last updated: October 8, 2025"})}),_.jsx("hr",{style:{border:"none",borderTop:"1px solid var(--color-border-light)",margin:"32px 0"}}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"1. Acceptance of Terms"}),_.jsx("p",{children:"By registering for or using TagLoggers platform (Service), you agree to be bound by these Terms and our Privacy Policy. If you do not agree, do not use the Service."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"2. Service Description"}),_.jsx("p",{children:"TagLogger provides a webbased platform to track Apple AirTag devices, offering realtime location, historical playback, geofencing, data export, and customizable alerts. We are an independent service and are not affiliated with Apple Inc."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"3. Eligibility & Account Registration"}),_.jsxs("ul",{children:[_.jsx("li",{children:"You must be at least 18 years old and able to form a binding contract."}),_.jsx("li",{children:"You agree to provide accurate, current, and complete information during registration and to keep your account credentials secure."}),_.jsx("li",{children:"You are responsible for all activity under your account."})]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"4. Fees & Payment"}),_.jsxs("ul",{children:[_.jsxs("li",{children:[_.jsx("strong",{children:"Tag Purchase"}),": Onetime fee per AirTag, at prices shown in your dashboard (free continental U.S. shipping)."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Subscription"}),": Recurring fee per tag billed on your selected cycle (monthly or yearly). Volume discounts apply to newly purchased tags only (see Pricing Page)."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Payment Methods"}),": Major credit/debit cards and PayPal."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"NonRefundable"}),": All fees are nonrefundable except as required by law."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Late or Failed Payments"}),": We may suspend your Service until payment is received."]})]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"5. Use Restrictions"}),_.jsxs("p",{children:[_.jsx("strong",{children:"5.1 Lawful and Authorized Use Only."})," You may use the Service only to track assets, equipment, or property that you own, lease, or are otherwise authorized to track. You must not use the Service to track or monitor any person, vehicle, or property without the knowledge and affirmative consent of the individual(s) involved or the lawful owner. You are solely responsible for obtaining and maintaining all necessary permissions and consents under applicable privacy, dataprotection, and antistalking laws."]}),_.jsxs("p",{children:[_.jsx("strong",{children:"5.2 Prohibited Conduct."})," You agree not to use the Service in any manner that:"]}),_.jsxs("ul",{children:[_.jsx("li",{children:"(a) violates or circumvents any law or regulation related to electronic surveillance, stalking, or harassment;"}),_.jsx("li",{children:"(b) invades another persons privacy or misuses location data; or"}),_.jsx("li",{children:"(c) interferes with the rights or safety of others."})]}),_.jsx("p",{children:"TagLogger reserves the right to suspend or terminate your account and cooperate with law enforcement if we reasonably believe the Service is being used unlawfully or without consent."}),_.jsx("p",{children:"You must not disable, modify, or attempt to circumvent antistalking or unwantedtracking safeguards (including altering tag speakers, firmware, or alerts), or aid others to do so."}),_.jsx("p",{children:"You must not use the Service to evade or defeat safety features or unwantedtracking alerts."}),_.jsx("p",{children:"If you use the Service to track assets involving employees or contractors, you represent you have provided required notices and obtained all consents under applicable labor, privacy, and surveillance laws."}),_.jsx("p",{children:_.jsx("strong",{children:"Additionally, you agree not to:"})}),_.jsxs("ul",{children:[_.jsx("li",{children:"Reverse engineer, decompile, or otherwise attempt to derive source code."}),_.jsx("li",{children:"Scrape, harvest, or extract data from the Service."}),_.jsx("li",{children:"Interfere with the operation or security of the Service."}),_.jsx("li",{children:"Use the Service for any unlawful purpose or without obtaining all required consents."})]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"6. Ownership & License"}),_.jsxs("ul",{children:[_.jsx("li",{children:"TagLogger and its licensors retain all rights in the Service, including software, trademarks, and content."}),_.jsx("li",{children:"You own your location and account data (Customer Data) but grant us a worldwide, royaltyfree license to host, process, and display it as necessary to provide the Service."})]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"7. Privacy & Data Security"}),_.jsx("p",{children:"Our Privacy Policy explains how we collect, use, share, and protect Customer Data. You are responsible for ensuring your use of the Service complies with all applicable privacy and surveillance laws."}),_.jsx("p",{children:"TagLogger provides tools for lawful location tracking. We do not monitor how you use the Service, but you are solely responsible for ensuring your use and collection of location data comply with privacy and surveillance laws in all jurisdictions where tracking occurs."}),_.jsx("p",{children:"You represent and warrant that you will obtain and maintain all required consents from tracked individuals and provide any legally required notices."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"8. Disclaimers"}),_.jsx("p",{children:"The Service is provided ASIS and ASAVAILABLE, with all faults. TAGLOGGER AND ITS AFFILIATES, LICENSORS, AND SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Any warranty of merchantability or fitness for a particular purpose;"}),_.jsx("li",{children:"Any warranty of uninterrupted, errorfree, secure, or virusfree operation;"}),_.jsx("li",{children:"Any warranty as to the accuracy, completeness, or timeliness of location data or other information;"}),_.jsx("li",{children:"Any warranty that the Service complies with applicable laws or regulations."})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"No Emergency Use."})," The Service is not a lifesafety or emergency service and must not be relied upon for emergency response."]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"9. Limitation of Liability"}),_.jsxs("p",{children:[_.jsx("strong",{children:"9.1 EXCLUSION OF DAMAGES."})," TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL TAGLOGGER OR ITS AFFILIATES, LICENSORS, OR SUPPLIERS BE LIABLE FOR ANY:"]}),_.jsxs("ul",{children:[_.jsx("li",{children:"INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR GOODWILL), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES;"}),_.jsx("li",{children:"DAMAGES ARISING FROM THIRDPARTY CLAIMS OR ACTIONS."})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"9.2 DAMAGE CAP."})," TAGLOGGERS AGGREGATE LIABILITY FOR ALL CLAIMS ARISING OUT OF OR RELATING TO THE SERVICE, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, SHALL NOT EXCEED THE GREATER OF:"]}),_.jsxs("ul",{children:[_.jsx("li",{children:"(A) THE TOTAL SUBSCRIPTION FEES YOU PAID IN THE THREE (3) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM; OR"}),_.jsx("li",{children:"(B) ONE HUNDRED DOLLARS (US$100)."})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"9.3 FORCE MAJEURE."})," TAGLOGGER SHALL NOT BE LIABLE FOR FAILURE OR DELAY IN PERFORMANCE DUE TO CAUSES BEYOND ITS REASONABLE CONTROL, INCLUDING NATURAL DISASTERS, WAR, TERRORISM, RIOTS, EMBARGOES, GOVERNMENT ACTIONS, LABOR DISPUTES, OR INTERNET/NETWORK FAILURES."]}),_.jsxs("p",{children:[_.jsx("strong",{children:"9.4 ALLOCATION OF RISK."})," THESE LIMITATIONS ARE AN ESSENTIAL PART OF THE BARGAIN BETWEEN YOU AND TAGLOGGER. YOU ACKNOWLEDGE THAT WITHOUT THEM, THE SUBSCRIPTION FEES WOULD BE SUBSTANTIALLY HIGHER."]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"10. Indemnification"}),_.jsx("p",{children:"You agree to indemnify, defend, and hold harmless TagLogger and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys fees) arising out of:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Your use of the Service;"}),_.jsx("li",{children:"Your violation of these Terms; or"}),_.jsx("li",{children:"Any thirdparty claim alleging infringement of intellectual property or privacy rights."})]}),_.jsx("p",{children:"In addition to the above, you specifically agree to indemnify, defend, and hold harmless TagLogger from any claims, investigations, or legal actions arising out of or related to:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Your failure to obtain consent before tracking any individual or property; or"}),_.jsx("li",{children:"Your unlawful or unauthorized use of location data collected through the Service."})]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"11. Termination"}),_.jsxs("ul",{children:[_.jsxs("li",{children:[_.jsx("strong",{children:"By You:"})," You may cancel your subscription at any time via the dashboard; cancellation is effective at the end of your current billing cycle."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"By Us:"})," We may suspend or terminate your account for nonpayment, breach of these Terms, compliance with legal or regulatory requirements, or if we detect or receive credible reports of unlawful tracking activity or use without required consent, and we may cooperate with law enforcement."]}),_.jsx("li",{children:"Upon termination, your right to access the Service ends immediately, and we may delete your Customer Data."})]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"12. Changes to Service or Terms"}),_.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue the Service or any part thereof at any time. We may update these Terms by posting the revised version with a new Last updated date. Your continued use after changes constitutes acceptance."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"13. Governing Law & Dispute Resolution"}),_.jsx("p",{children:"These Terms are governed by California law (excluding conflictoflaw rules). Any dispute arising under these Terms will be resolved by binding arbitration in Los Angeles County under the American Arbitration Associations rules. You and TagLogger each waive the right to a jury trial and to participate in any classaction lawsuit."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"14. Legal Compliance"}),_.jsx("p",{children:"TagLoggers Service is intended for lawful assettracking purposes. TagLogger does not condone or facilitate the use of its technology for stalking, harassment, or unauthorized surveillance. Users are solely responsible for ensuring their use complies with all applicable laws."}),_.jsxs("p",{children:[_.jsx("strong",{children:"Export Control & Sanctions."})," You represent you are not located in, under control of, or a national/resident of any embargoed country or prohibited party list, and you will comply with U.S./EU export control and sanctions laws."]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"15. Severability & Waiver"}),_.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, the remaining provisions remain in full force. Our failure to enforce any right or provision will not constitute a waiver of future enforcement."}),_.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),_.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",textAlign:"center"},children:_.jsx("em",{children:"End of Terms and Conditions"})})]})})}function KB(){return D.useEffect(()=>{window.scrollTo(0,0)},[]),_.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"var(--color-bg)",color:"var(--color-text)",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:_.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[_.jsx("h1",{style:{color:"var(--color-accent)",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Privacy Policy"}),_.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-muted)",marginBottom:"32px"},children:_.jsx("strong",{children:"Effective Date: October 8, 2025"})}),_.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-muted)",marginBottom:"32px"},children:_.jsx("strong",{children:"Version: 1.0"})}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Introduction"}),_.jsx("p",{children:"At TagLogger, we are committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our services. By using TagLogger, you agree to the practices described in this policy."}),_.jsxs("p",{children:[_.jsx("strong",{children:"Data Controller:"})," TagLogger is the data controller responsible for your personal information. For any questions or concerns about this policy or your data, please contact us via the in-app support form or through our Contact Us page."]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Information We Collect"}),_.jsx("p",{children:"We collect the following types of information to provide and improve our services:"}),_.jsxs("ul",{children:[_.jsxs("li",{children:[_.jsx("strong",{children:"Location Data:"})," Latitude, longitude, and timestamps associated with your AirTags for location history and tracking features."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"User Identification:"})," Account details like your email address or username to link location data to your account."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Used to authenticate users, remember preferences, and analyze website usage."]})]}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Use Your Information"}),_.jsx("p",{children:"We use your information to:"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Provide the TagLogger service, including location history, geofencing, inventory management, and interactive timelines."}),_.jsx("li",{children:"Improve our services, troubleshoot issues, and develop new features."}),_.jsx("li",{children:"Communicate with you about your account, updates, or support matters."})]}),_.jsx("p",{children:"TagLogger processes location data solely on behalf of the account holder and for the purpose of providing the tracking features you request."}),_.jsx("p",{children:"You are responsible for ensuring that any collection or sharing of location data with respect to other individuals complies with applicable privacy and surveillance laws, including obtaining consent where required."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Share Your Information"}),_.jsx("p",{children:"We do not share your location data with third parties, except as follows:"}),_.jsxs("ul",{children:[_.jsxs("li",{children:[_.jsx("strong",{children:"Trusted Service Providers:"})," We may share data with trusted vendors (e.g., for hosting, analytics, or payment processing) who are bound by confidentiality obligations and use your data only to perform services for us."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Legal Requirements:"})," When required by law, such as a subpoena or court order."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Protection of Rights:"})," To protect TagLogger, our users, or others."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"With Your Consent:"})," If you explicitly agree to share your data."]})]}),_.jsx("p",{children:"We may suspend or terminate access to the Service or cooperate with law enforcement if we detect or receive credible reports of unlawful tracking activity."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Your Choices and Rights"}),_.jsx("p",{children:"You can:"}),_.jsxs("ul",{children:[_.jsxs("li",{children:[_.jsx("strong",{children:"Access:"})," View your data through your account dashboard."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Correct:"})," Update inaccuracies in your account settings."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Delete:"})," Request data deletion, subject to legal retention obligations."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"Object:"})," Opt out of certain data processing where permitted by law."]})]}),_.jsx("p",{children:"To exercise these rights, use the in-app support form or visit our Contact Us page."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Security"}),_.jsx("p",{children:"We use industry-standard encryption, access controls, and secure servers to protect your data. However, no system is fully immune to risks."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"International Data Transfers"}),_.jsx("p",{children:"Your data may be processed in other countries, with safeguards to comply with applicable laws."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Childrens Privacy"}),_.jsx("p",{children:"Our services are not intended for anyone under 18. We do not knowingly collect data from individuals under 18, and we will delete such data if discovered."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Business Use"}),_.jsx("p",{children:"If you use TagLogger for business (e.g., tracking shipments), you must comply with privacy laws and obtain necessary consents."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Data Retention"}),_.jsx("p",{children:"We keep your data while your account is active or as needed for the service. Upon deletion requests, we remove it unless legally required to retain it."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Cookies and Tracking Technologies"}),_.jsx("p",{children:"Cookies help with authentication, preferences, and analytics. Manage them via your browser settings, though this may limit functionality."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Changes to This Policy"}),_.jsx("p",{children:"We may update this policy and will notify you of significant changes via our website. Continued use after updates implies acceptance."}),_.jsx("h2",{style:{color:"var(--color-text)",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Contact Us"}),_.jsx("p",{children:"For questions or requests, reach us via the in-app support form or Contact Us."})]})})}function XB(){return _.jsx("footer",{className:"global-footer",role:"contentinfo",children:_.jsxs("div",{className:"footer-content",children:[_.jsx("div",{className:"footer-brand",children:"TagLogger"}),_.jsxs("nav",{className:"footer-nav","aria-label":"Footer",children:[_.jsx(ph,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),_.jsx(ph,{to:"/privacy",className:"footer-link",children:"Data Privacy"}),_.jsx(ph,{to:{pathname:"/",hash:"get-in-touch"},className:"footer-link",children:"Contact"})]}),_.jsxs("div",{className:"footer-copy",children:[" ",new Date().getFullYear()," TagLogger. All rights reserved."]}),_.jsx("div",{className:"footer-disclaimer",style:{fontSize:"0.6rem",color:"var(--color-text-muted)",marginTop:"0px"},children:"An independent service, not affiliated with Apple Inc."})]})})}const QB=D.lazy(()=>oN(()=>import("./MapPage-Bitzc8N7.js"),__vite__mapDeps([0,1])));function JB(){const e=Vi(),[t,n]=D.useState(null),s=/^\/map(\/|$)/.test(e.pathname);return _.jsxs(_.Fragment,{children:[_.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),_.jsx(n4,{scrollYProgress:t}),_.jsxs(E2,{children:[_.jsx(Rs,{path:"/",element:_.jsx(E1,{onScrollProgress:n})}),_.jsx(Rs,{path:"/login",element:_.jsx(BB,{})}),_.jsx(Rs,{path:"/purchase",element:_.jsx($B,{})}),_.jsx(Rs,{path:"/map",element:_.jsx(Sf,{children:_.jsx(D.Suspense,{fallback:null,children:_.jsx(QB,{})})})}),_.jsx(Rs,{path:"/dashboard",element:_.jsx(Sf,{children:_.jsx(C1,{})})}),_.jsx(Rs,{path:"/settings",element:_.jsx(Sf,{children:_.jsx(C1,{})})}),_.jsx(Rs,{path:"/admin",element:_.jsx(Sf,{adminOnly:!0,requireEntitlement:!1,children:_.jsx(qB,{})})}),_.jsx(Rs,{path:"/terms",element:_.jsx(YB,{})}),_.jsx(Rs,{path:"/privacy",element:_.jsx(KB,{})}),_.jsx(Rs,{path:"/contact",element:_.jsx(Mf,{to:{pathname:"/",hash:"get-in-touch"},replace:!0})}),_.jsx(Rs,{path:"*",element:_.jsx(E1,{onScrollProgress:n})})]}),!s&&_.jsx(XB,{})]})}DP.createRoot(document.getElementById("root")).render(_.jsx(D.StrictMode,{children:_.jsx($2,{children:_.jsx(e4,{children:_.jsx(JB,{})})})}));export{h0 as M,f0 as T,ks as a,hh as b,t9 as c,Mi as d,Ll as e,nr as f,ed as g,Vr as h,Wj as i,_ as j,i9 as k,_j as l,a9 as m,cd as n,yj as o,n9 as p,Yy as q,D as r,Ky as s,cu as t,sI as u,fu as v,Gx as w,r9 as x,s9 as y};
