(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function rA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sg={exports:{}},Zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function rP(){if(UE)return Zc;UE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Zc.Fragment=t,Zc.jsx=n,Zc.jsxs=n,Zc}var jE;function aP(){return jE||(jE=1,Sg.exports=rP()),Sg.exports}var S=aP(),Ag={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function oP(){if(zE)return Kt;zE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function W(O,lt,vt){this.props=O,this.context=lt,this.refs=F,this.updater=vt||D}W.prototype.isReactComponent={},W.prototype.setState=function(O,lt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,lt,"setState")},W.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Z(){}Z.prototype=W.prototype;function nt(O,lt,vt){this.props=O,this.context=lt,this.refs=F,this.updater=vt||D}var J=nt.prototype=new Z;J.constructor=nt,U(J,W.prototype),J.isPureReactComponent=!0;var Et=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},At=Object.prototype.hasOwnProperty;function H(O,lt,vt,yt,bt,Ct){return vt=Ct.ref,{$$typeof:e,type:O,key:lt,ref:vt!==void 0?vt:null,props:Ct}}function N(O,lt){return H(O.type,lt,void 0,void 0,void 0,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function q(O){var lt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(vt){return lt[vt]})}var G=/\/+/g;function Y(O,lt){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):lt.toString(36)}function B(){}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(B,B):(O.status="pending",O.then(function(lt){O.status==="pending"&&(O.status="fulfilled",O.value=lt)},function(lt){O.status==="pending"&&(O.status="rejected",O.reason=lt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Oe(O,lt,vt,yt,bt){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var wt=!1;if(O===null)wt=!0;else switch(Ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(O.$$typeof){case e:case t:wt=!0;break;case E:return wt=O._init,Oe(wt(O._payload),lt,vt,yt,bt)}}if(wt)return bt=bt(O),wt=yt===""?"."+Y(O,0):yt,Et(bt)?(vt="",wt!=null&&(vt=wt.replace(G,"$&/")+"/"),Oe(bt,lt,vt,"",function(vi){return vi})):bt!=null&&(V(bt)&&(bt=N(bt,vt+(bt.key==null||O&&O.key===bt.key?"":(""+bt.key).replace(G,"$&/")+"/")+wt)),lt.push(bt)),1;wt=0;var Ee=yt===""?".":yt+":";if(Et(O))for(var ae=0;ae<O.length;ae++)yt=O[ae],Ct=Ee+Y(yt,ae),wt+=Oe(yt,lt,vt,Ct,bt);else if(ae=x(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(yt=O.next()).done;)yt=yt.value,Ct=Ee+Y(yt,ae++),wt+=Oe(yt,lt,vt,Ct,bt);else if(Ct==="object"){if(typeof O.then=="function")return Oe(de(O),lt,vt,yt,bt);throw lt=String(O),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function ot(O,lt,vt){if(O==null)return O;var yt=[],bt=0;return Oe(O,yt,"","",function(Ct){return lt.call(vt,Ct,bt++)}),yt}function _t(O){if(O._status===-1){var lt=O._result;lt=lt(),lt.then(function(vt){(O._status===0||O._status===-1)&&(O._status=1,O._result=vt)},function(vt){(O._status===0||O._status===-1)&&(O._status=2,O._result=vt)}),O._status===-1&&(O._status=0,O._result=lt)}if(O._status===1)return O._result.default;throw O._result}var pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function $t(){}return Kt.Children={map:ot,forEach:function(O,lt,vt){ot(O,function(){lt.apply(this,arguments)},vt)},count:function(O){var lt=0;return ot(O,function(){lt++}),lt},toArray:function(O){return ot(O,function(lt){return lt})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Kt.Component=W,Kt.Fragment=n,Kt.Profiler=o,Kt.PureComponent=nt,Kt.StrictMode=s,Kt.Suspense=y,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return mt.H.useMemoCache(O)}},Kt.cache=function(O){return function(){return O.apply(null,arguments)}},Kt.cloneElement=function(O,lt,vt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var yt=U({},O.props),bt=O.key,Ct=void 0;if(lt!=null)for(wt in lt.ref!==void 0&&(Ct=void 0),lt.key!==void 0&&(bt=""+lt.key),lt)!At.call(lt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&lt.ref===void 0||(yt[wt]=lt[wt]);var wt=arguments.length-2;if(wt===1)yt.children=vt;else if(1<wt){for(var Ee=Array(wt),ae=0;ae<wt;ae++)Ee[ae]=arguments[ae+2];yt.children=Ee}return H(O.type,bt,void 0,void 0,Ct,yt)},Kt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Kt.createElement=function(O,lt,vt){var yt,bt={},Ct=null;if(lt!=null)for(yt in lt.key!==void 0&&(Ct=""+lt.key),lt)At.call(lt,yt)&&yt!=="key"&&yt!=="__self"&&yt!=="__source"&&(bt[yt]=lt[yt]);var wt=arguments.length-2;if(wt===1)bt.children=vt;else if(1<wt){for(var Ee=Array(wt),ae=0;ae<wt;ae++)Ee[ae]=arguments[ae+2];bt.children=Ee}if(O&&O.defaultProps)for(yt in wt=O.defaultProps,wt)bt[yt]===void 0&&(bt[yt]=wt[yt]);return H(O,Ct,void 0,void 0,null,bt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(O){return{$$typeof:m,render:O}},Kt.isValidElement=V,Kt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:_t}},Kt.memo=function(O,lt){return{$$typeof:_,type:O,compare:lt===void 0?null:lt}},Kt.startTransition=function(O){var lt=mt.T,vt={};mt.T=vt;try{var yt=O(),bt=mt.S;bt!==null&&bt(vt,yt),typeof yt=="object"&&yt!==null&&typeof yt.then=="function"&&yt.then($t,pt)}catch(Ct){pt(Ct)}finally{mt.T=lt}},Kt.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},Kt.use=function(O){return mt.H.use(O)},Kt.useActionState=function(O,lt,vt){return mt.H.useActionState(O,lt,vt)},Kt.useCallback=function(O,lt){return mt.H.useCallback(O,lt)},Kt.useContext=function(O){return mt.H.useContext(O)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(O,lt){return mt.H.useDeferredValue(O,lt)},Kt.useEffect=function(O,lt,vt){var yt=mt.H;if(typeof vt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return yt.useEffect(O,lt)},Kt.useId=function(){return mt.H.useId()},Kt.useImperativeHandle=function(O,lt,vt){return mt.H.useImperativeHandle(O,lt,vt)},Kt.useInsertionEffect=function(O,lt){return mt.H.useInsertionEffect(O,lt)},Kt.useLayoutEffect=function(O,lt){return mt.H.useLayoutEffect(O,lt)},Kt.useMemo=function(O,lt){return mt.H.useMemo(O,lt)},Kt.useOptimistic=function(O,lt){return mt.H.useOptimistic(O,lt)},Kt.useReducer=function(O,lt,vt){return mt.H.useReducer(O,lt,vt)},Kt.useRef=function(O){return mt.H.useRef(O)},Kt.useState=function(O){return mt.H.useState(O)},Kt.useSyncExternalStore=function(O,lt,vt){return mt.H.useSyncExternalStore(O,lt,vt)},Kt.useTransition=function(){return mt.H.useTransition()},Kt.version="19.1.0",Kt}var BE;function s_(){return BE||(BE=1,Ag.exports=oP()),Ag.exports}var k=s_();const Bd=rA(k);var xg={exports:{}},Wc={},Rg={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function lP(){return FE||(FE=1,function(e){function t(ot,_t){var pt=ot.length;ot.push(_t);t:for(;0<pt;){var $t=pt-1>>>1,O=ot[$t];if(0<o(O,_t))ot[$t]=_t,ot[pt]=O,pt=$t;else break t}}function n(ot){return ot.length===0?null:ot[0]}function s(ot){if(ot.length===0)return null;var _t=ot[0],pt=ot.pop();if(pt!==_t){ot[0]=pt;t:for(var $t=0,O=ot.length,lt=O>>>1;$t<lt;){var vt=2*($t+1)-1,yt=ot[vt],bt=vt+1,Ct=ot[bt];if(0>o(yt,pt))bt<O&&0>o(Ct,yt)?(ot[$t]=Ct,ot[bt]=pt,$t=bt):(ot[$t]=yt,ot[vt]=pt,$t=vt);else if(bt<O&&0>o(Ct,pt))ot[$t]=Ct,ot[bt]=pt,$t=bt;else break t}}return _t}function o(ot,_t){var pt=ot.sortIndex-_t.sortIndex;return pt!==0?pt:ot.id-_t.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var y=[],_=[],E=1,A=null,x=3,D=!1,U=!1,F=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function Et(ot){for(var _t=n(_);_t!==null;){if(_t.callback===null)s(_);else if(_t.startTime<=ot)s(_),_t.sortIndex=_t.expirationTime,t(y,_t);else break;_t=n(_)}}function mt(ot){if(F=!1,Et(ot),!U)if(n(y)!==null)U=!0,At||(At=!0,Y());else{var _t=n(_);_t!==null&&Oe(mt,_t.startTime-ot)}}var At=!1,H=-1,N=5,V=-1;function q(){return W?!0:!(e.unstable_now()-V<N)}function G(){if(W=!1,At){var ot=e.unstable_now();V=ot;var _t=!0;try{t:{U=!1,F&&(F=!1,nt(H),H=-1),D=!0;var pt=x;try{e:{for(Et(ot),A=n(y);A!==null&&!(A.expirationTime>ot&&q());){var $t=A.callback;if(typeof $t=="function"){A.callback=null,x=A.priorityLevel;var O=$t(A.expirationTime<=ot);if(ot=e.unstable_now(),typeof O=="function"){A.callback=O,Et(ot),_t=!0;break e}A===n(y)&&s(y),Et(ot)}else s(y);A=n(y)}if(A!==null)_t=!0;else{var lt=n(_);lt!==null&&Oe(mt,lt.startTime-ot),_t=!1}}break t}finally{A=null,x=pt,D=!1}_t=void 0}}finally{_t?Y():At=!1}}}var Y;if(typeof J=="function")Y=function(){J(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,de=B.port2;B.port1.onmessage=G,Y=function(){de.postMessage(null)}}else Y=function(){Z(G,0)};function Oe(ot,_t){H=Z(function(){ot(e.unstable_now())},_t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ot){ot.callback=null},e.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ot?Math.floor(1e3/ot):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(ot){switch(x){case 1:case 2:case 3:var _t=3;break;default:_t=x}var pt=x;x=_t;try{return ot()}finally{x=pt}},e.unstable_requestPaint=function(){W=!0},e.unstable_runWithPriority=function(ot,_t){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var pt=x;x=ot;try{return _t()}finally{x=pt}},e.unstable_scheduleCallback=function(ot,_t,pt){var $t=e.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?$t+pt:$t):pt=$t,ot){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pt+O,ot={id:E++,callback:_t,priorityLevel:ot,startTime:pt,expirationTime:O,sortIndex:-1},pt>$t?(ot.sortIndex=pt,t(_,ot),n(y)===null&&ot===n(_)&&(F?(nt(H),H=-1):F=!0,Oe(mt,pt-$t))):(ot.sortIndex=O,t(y,ot),U||D||(U=!0,At||(At=!0,Y()))),ot},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(ot){var _t=x;return function(){var pt=x;x=_t;try{return ot.apply(this,arguments)}finally{x=pt}}}}(Cg)),Cg}var HE;function uP(){return HE||(HE=1,Rg.exports=lP()),Rg.exports}var Ig={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function cP(){if(qE)return Zn;qE=1;var e=s_();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,E)},Zn.flushSync=function(y){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=E,s.d.f()}},Zn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Zn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Zn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,D=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:D}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:x,fetchPriority:D,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Zn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Zn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=m(E,_.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Zn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=m(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Zn.requestFormReset=function(y){s.d.r(y)},Zn.unstable_batchedUpdates=function(y,_){return y(_)},Zn.useFormState=function(y,_,E){return f.H.useFormState(y,_,E)},Zn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zn.version="19.1.0",Zn}var GE;function aA(){if(GE)return Ig.exports;GE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ig.exports=cP(),Ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function hP(){if(ZE)return Wc;ZE=1;var e=uP(),t=s_(),n=aA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return m(g),i;if(v===h)return m(g),r;v=v.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=v;else{for(var C=!1,P=g.child;P;){if(P===l){C=!0,l=g,h=v;break}if(P===h){C=!0,h=g,l=v;break}P=P.sibling}if(!C){for(P=v.child;P;){if(P===l){C=!0,l=v,h=g;break}if(P===h){C=!0,h=v,l=g;break}P=P.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),J=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case W:return"Profiler";case F:return"StrictMode";case mt:return"Suspense";case At:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case J:return(i.displayName||"Context")+".Provider";case nt:return(i._context.displayName||"Context")+".Consumer";case Et:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case N:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var Oe=Array.isArray,ot=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},$t=[],O=-1;function lt(i){return{current:i}}function vt(i){0>O||(i.current=$t[O],$t[O]=null,O--)}function yt(i,r){O++,$t[O]=i.current,i.current=r}var bt=lt(null),Ct=lt(null),wt=lt(null),Ee=lt(null);function ae(i,r){switch(yt(wt,r),yt(Ct,i),yt(bt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?fE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=fE(r),i=dE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}vt(bt),yt(bt,i)}function vi(){vt(bt),vt(Ct),vt(wt)}function Bi(i){i.memoizedState!==null&&yt(Ee,i);var r=bt.current,l=dE(r,i.type);r!==l&&(yt(Ct,i),yt(bt,l))}function Ti(i){Ct.current===i&&(vt(bt),vt(Ct)),Ee.current===i&&(vt(Ee),Bc._currentValue=pt)}var Ei=Object.prototype.hasOwnProperty,ms=e.unstable_scheduleCallback,Tr=e.unstable_cancelCallback,oa=e.unstable_shouldYield,xo=e.unstable_requestPaint,Un=e.unstable_now,la=e.unstable_getCurrentPriorityLevel,Ro=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,ps=e.unstable_NormalPriority,Pl=e.unstable_LowPriority,wr=e.unstable_IdlePriority,Co=e.log,Ll=e.unstable_setDisableYieldValue,Ce=null,ce=null;function jn(i){if(typeof Co=="function"&&Ll(i),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(Ce,i)}catch{}}var yn=Math.clz32?Math.clz32:br,Io=Math.log,Ml=Math.LN2;function br(i){return i>>>=0,i===0?32:31-(Io(i)/Ml|0)|0}var Bs=256,gs=4194304;function ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ua(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var P=h&134217727;return P!==0?(h=P&~v,h!==0?g=ai(h):(C&=P,C!==0?g=ai(C):l||(l=P&~i,l!==0&&(g=ai(l))))):(P=h&~v,P!==0?g=ai(P):C!==0?g=ai(C):l||(l=h&~i,l!==0&&(g=ai(l)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:g}function wi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Po(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var i=Bs;return Bs<<=1,(Bs&4194048)===0&&(Bs=256),i}function ca(){var i=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),i}function Fi(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Hi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Mo(i,r,l,h,g,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,z=i.expirationTimes,et=i.hiddenUpdates;for(l=C&~l;0<l;){var ut=31-yn(l),ft=1<<ut;P[ut]=0,z[ut]=-1;var it=et[ut];if(it!==null)for(et[ut]=null,ut=0;ut<it.length;ut++){var st=it[ut];st!==null&&(st.lane&=-536870913)}l&=~ft}h!==0&&qi(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function qi(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-yn(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Do(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-yn(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function Fs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hs(){var i=_t.p;return i!==0?i:(i=window.event,i===void 0?32:ME(i.type))}function fa(i,r){var l=_t.p;try{return _t.p=i,r()}finally{_t.p=l}}var Ie=Math.random().toString(36).slice(2),$e="__reactFiber$"+Ie,Ze="__reactProps$"+Ie,oi="__reactContainer$"+Ie,zn="__reactEvents$"+Ie,Mt="__reactListeners$"+Ie,ys="__reactHandles$"+Ie,No="__reactResources$"+Ie,qs="__reactMarker$"+Ie;function _s(i){delete i[$e],delete i[Ze],delete i[zn],delete i[Mt],delete i[ys]}function bi(i){var r=i[$e];if(r)return r;for(var l=i.parentNode;l;){if(r=l[oi]||l[$e]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=yE(i);i!==null;){if(l=i[$e])return l;i=yE(i)}return r}i=l,l=i.parentNode}return null}function Si(i){if(i=i[$e]||i[oi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function _n(i){var r=i[No];return r||(r=i[No]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Be(i){i[qs]=!0}var Oo=new Set,da={};function Ai(i,r){Gi(i,r),Gi(i+"Capture",r)}function Gi(i,r){for(da[i]=r,i=0;i<r.length;i++)Oo.add(r[i])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sr={},Ar={};function Nl(i){return Ei.call(Ar,i)?!0:Ei.call(Sr,i)?!1:Dl.test(i)?Ar[i]=!0:(Sr[i]=!0,!1)}function Gs(i,r,l){if(Nl(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Zi(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function fn(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var vs,Zs;function Wi(i){if(vs===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);vs=r&&r[1]||"",Zs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+i+Zs}var xr=!1;function Ki(i,r){if(!i||xr)return"";xr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(st){var it=st}Reflect.construct(i,[],ft)}else{try{ft.call()}catch(st){it=st}i.call(ft.prototype)}}else{try{throw Error()}catch(st){it=st}(ft=i())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(st){if(st&&it&&typeof st.stack=="string")return[st.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],P=v[1];if(C&&P){var z=C.split(`
`),et=P.split(`
`);for(g=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;g<et.length&&!et[g].includes("DetermineComponentFrameRoot");)g++;if(h===z.length||g===et.length)for(h=z.length-1,g=et.length-1;1<=h&&0<=g&&z[h]!==et[g];)g--;for(;1<=h&&0<=g;h--,g--)if(z[h]!==et[g]){if(h!==1||g!==1)do if(h--,g--,0>g||z[h]!==et[g]){var ut=`
`+z[h].replace(" at new "," at ");return i.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",i.displayName)),ut}while(1<=h&&0<=g);break}}}finally{xr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Wi(l):""}function Xt(i){switch(i.tag){case 26:case 27:case 5:return Wi(i.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return Ki(i.type,!1);case 11:return Ki(i.type.render,!1);case 1:return Ki(i.type,!0);case 31:return Wi("Activity");default:return""}}function me(i){try{var r="";do r+=Xt(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function nn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yi(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ws(i){var r=Yi(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ks(i){i._valueTracker||(i._valueTracker=Ws(i))}function qt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=Yi(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function ye(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ko=/[\n"\\]/g;function ke(i){return i.replace(ko,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pe(i,r,l,h,g,v,C,P){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+nn(r)):i.value!==""+nn(r)&&(i.value=""+nn(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?xi(i,C,nn(r)):l!=null?xi(i,C,nn(l)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+nn(P):i.removeAttribute("name")}function Rr(i,r,l,h,g,v,C,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+nn(l):"",r=r!=null?""+nn(r):l,P||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=P?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function xi(i,r,l){r==="number"&&ye(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+nn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Ut(i,r,l){if(r!=null&&(r=""+nn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+nn(l):""}function Qn(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Oe(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=nn(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function vn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ma(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Ri.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Ts(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&ma(i,g,h)}else for(var v in r)r.hasOwnProperty(v)&&ma(i,v,r[v])}function Cr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(i){return pa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ci=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $i=null,Ii=null;function Uo(i){var r=Si(i);if(r&&(i=r.stateNode)){var l=i[Ze]||null;t:switch(i=r.stateNode,r.type){case"input":if(Pe(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ke(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[Ze]||null;if(!g)throw Error(s(90));Pe(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&qt(h)}break t;case"textarea":Ut(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Pn(i,!!l.multiple,r,!1)}}}var Ot=!1;function Jn(i,r,l){if(Ot)return i(r,l);Ot=!0;try{var h=i(r);return h}finally{if(Ot=!1,($i!==null||Ii!==null)&&(jf(),$i&&(r=$i,i=Ii,Ii=$i=null,Uo(r),i)))for(r=0;r<i.length;r++)Uo(i[r])}}function oe(i,r){var l=i.stateNode;if(l===null)return null;var h=l[Ze]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(li)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Bn=!1}var ui=null,Fn=null,Pi=null;function ws(){if(Pi)return Pi;var i,r=Fn,l=r.length,h,g="value"in ui?ui.value:ui.textContent,v=g.length;for(i=0;i<l&&r[i]===g[i];i++);var C=l-i;for(h=1;h<=C&&r[l-h]===g[v-h];h++);return Pi=g.slice(i,1<h?1-h:void 0)}function we(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Tn(){return!0}function ga(){return!1}function Xe(i){function r(l,h,g,v,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Tn:ga,this.isPropagationStopped=ga,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),r}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ir=Xe(he),bs=E({},he,{view:0,detail:0}),Ol=Xe(bs),Pr,Wt,Xi,dn=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(Pr=i.screenX-Xi.screenX,Wt=i.screenY-Xi.screenY):Wt=Pr=0,Xi=i),Pr)},movementY:function(i){return"movementY"in i?i.movementY:Wt}}),En=Xe(dn),jo=E({},dn,{dataTransfer:0}),sc=Xe(jo),Ss=E({},bs,{relatedTarget:0}),ya=Xe(Ss),_a=E({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Xe(_a),kl=E({},he,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$s=Xe(kl),rc=E({},he,{data:0}),Hn=Xe(rc),Lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Li={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ta(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Li[i])?!!r[i]:!1}function Xs(){return Ta}var Ea=E({},bs,{key:function(i){if(i.key){var r=Lr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=we(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(i){return i.type==="keypress"?we(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?we(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wa=Xe(Ea),Bo=E({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ba=Xe(Bo),As=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),Vl=Xe(As),Sa=E({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ul=Xe(Sa),Fo=E({},dn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=Xe(Fo),sn=E({},he,{newState:0,oldState:0}),Qi=Xe(sn),jl=[9,13,27,32],qn=li&&"CompositionEvent"in window,d=null;li&&"documentMode"in document&&(d=document.documentMode);var w=li&&"TextEvent"in window&&!d,R=li&&(!qn||d&&8<d&&11>=d),M=" ",X=!1;function at(i,r){switch(i){case"keyup":return jl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ee=!1;function We(i,r){switch(i){case"compositionend":return Tt(r);case"keypress":return r.which!==32?null:(X=!0,M);case"textInput":return i=r.data,i===M&&X?null:i;default:return null}}function ne(i,r){if(ee)return i==="compositionend"||!qn&&at(i,r)?(i=ws(),Pi=Fn=ui=null,ee=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R&&r.locale!=="ko"?null:r.data;default:return null}}var pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!pe[i.type]:r==="textarea"}function xs(i,r,l,h){$i?Ii?Ii.push(h):Ii=[h]:$i=h,r=Gf(r,"onChange"),0<r.length&&(l=new Ir("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var xe=null,Ji=null;function ts(i){oE(i,0)}function zl(i){var r=In(i);if(qt(r))return i}function Aa(i,r){if(i==="change")return r}var ac=!1;if(li){var xa;if(li){var oc="oninput"in document;if(!oc){var Rs=document.createElement("div");Rs.setAttribute("oninput","return;"),oc=typeof Rs.oninput=="function"}xa=oc}else xa=!1;ac=xa&&(!document.documentMode||9<document.documentMode)}function Ho(){xe&&(xe.detachEvent("onpropertychange",sf),Ji=xe=null)}function sf(i){if(i.propertyName==="value"&&zl(Ji)){var r=[];xs(r,Ji,i,Ln(i)),Jn(ts,r)}}function lc(i,r,l){i==="focusin"?(Ho(),xe=r,Ji=l,xe.attachEvent("onpropertychange",sf)):i==="focusout"&&Ho()}function Km(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zl(Ji)}function Cs(i,r){if(i==="click")return zl(r)}function Ym(i,r){if(i==="input"||i==="change")return zl(r)}function Ra(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ti=typeof Object.is=="function"?Object.is:Ra;function ei(i,r){if(ti(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Ei.call(r,g)||!ti(i[g],r[g]))return!1}return!0}function qo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uc(i,r){var l=qo(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=qo(l)}}function Bl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Bl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Go(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ye(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=ye(i.document)}return r}function Zo(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Fl=li&&"documentMode"in document&&11>=document.documentMode,Mi=null,Ca=null,Dr=null,Hl=!1;function rf(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hl||Mi==null||Mi!==ye(h)||(h=Mi,"selectionStart"in h&&Zo(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Dr&&ei(Dr,h)||(Dr=h,h=Gf(Ca,"onSelect"),0<h.length&&(r=new Ir("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Mi)))}function es(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Ia={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},ql={},af={};li&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Qs(i){if(ql[i])return ql[i];if(!Ia[i])return i;var r=Ia[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in af)return ql[i]=r[l];return i}var of=Qs("animationend"),Di=Qs("animationiteration"),Wo=Qs("animationstart"),$m=Qs("transitionrun"),Gl=Qs("transitionstart"),Xm=Qs("transitioncancel"),cc=Qs("transitionend"),lf=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function Ni(i,r){lf.set(i,r),Ai(r,[i])}var Or=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var l=Or.get(i);return l!==void 0?l:(r={value:i,source:r,stack:me(r)},Or.set(i,r),r)}return{value:i,source:r,stack:me(r)}}var ii=[],Pa=0,Oi=0;function Ko(){for(var i=Pa,r=Oi=Pa=0;r<i;){var l=ii[r];ii[r++]=null;var h=ii[r];ii[r++]=null;var g=ii[r];ii[r++]=null;var v=ii[r];if(ii[r++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}v!==0&&$o(l,g,v)}}function Yo(i,r,l,h){ii[Pa++]=i,ii[Pa++]=r,ii[Pa++]=l,ii[Pa++]=h,Oi|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function kr(i,r,l,h){return Yo(i,r,l,h),Js(i)}function La(i,r){return Yo(i,null,null,r),Js(i)}function $o(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-yn(l),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),v):null}function Js(i){if(50<Dc)throw Dc=0,Kp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Vr={};function uf(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,r,l,h){return new uf(i,r,l,h)}function Zl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,r){var l=i.alternate;return l===null?(l=si(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function hc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Xo(i,r,l,h,g,v){var C=0;if(h=i,typeof i=="function")Zl(i)&&(C=1);else if(typeof i=="string")C=ZI(i,l,bt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case V:return i=si(31,l,r,g),i.elementType=V,i.lanes=v,i;case U:return tr(l.children,g,v,r);case F:C=8,g|=24;break;case W:return i=si(12,l,r,g|2),i.elementType=W,i.lanes=v,i;case mt:return i=si(13,l,r,g),i.elementType=mt,i.lanes=v,i;case At:return i=si(19,l,r,g),i.elementType=At,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:case J:C=10;break t;case nt:C=9;break t;case Et:C=11;break t;case H:C=14;break t;case N:C=16,h=null;break t}C=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=si(C,l,r,g),r.elementType=i,r.type=h,r.lanes=v,r}function tr(i,r,l,h){return i=si(7,i,h,r),i.lanes=l,i}function fc(i,r,l){return i=si(6,i,null,r),i.lanes=l,i}function Wl(i,r,l){return r=si(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ur=[],Ma=0,a=null,c=0,p=[],T=0,b=null,I=1,j="";function Q(i,r){Ur[Ma++]=c,Ur[Ma++]=a,a=i,c=r}function rt(i,r,l){p[T++]=I,p[T++]=j,p[T++]=b,b=i;var h=I;i=j;var g=32-yn(h)-1;h&=~(1<<g),l+=1;var v=32-yn(r)+g;if(30<v){var C=g-g%5;v=(h&(1<<C)-1).toString(32),h>>=C,g-=C,I=1<<32-yn(r)+g|l<<g|h,j=v+i}else I=1<<v|l<<g|h,j=i}function gt(i){i.return!==null&&(Q(i,1),rt(i,1,0))}function St(i){for(;i===a;)a=Ur[--Ma],Ur[Ma]=null,c=Ur[--Ma],Ur[Ma]=null;for(;i===b;)b=p[--T],p[T]=null,j=p[--T],p[T]=null,I=p[--T],p[T]=null}var It=null,Lt=null,Ht=!1,Me=null,Fe=!1,wn=Error(s(519));function ci(i){var r=Error(s(418,""));throw Na(ni(r,i)),wn}function cf(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[$e]=i,r[Ze]=h,l){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(l=0;l<Oc.length;l++)te(Oc[l],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":te("invalid",r),Rr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ks(r);break;case"select":te("invalid",r);break;case"textarea":te("invalid",r),Qn(r,h.value,h.defaultValue,h.children),Ks(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||hE(r.textContent,l)?(h.popover!=null&&(te("beforetoggle",r),te("toggle",r)),h.onScroll!=null&&te("scroll",r),h.onScrollEnd!=null&&te("scrollend",r),h.onClick!=null&&(r.onclick=Zf),r=!0):r=!1,r||ci(i)}function hf(i){for(It=i.return;It;)switch(It.tag){case 5:case 13:Fe=!1;return;case 27:case 3:Fe=!0;return;default:It=It.return}}function Qo(i){if(i!==It)return!1;if(!Ht)return hf(i),Ht=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||cg(i.type,i.memoizedProps)),l=!l),l&&Lt&&ci(i),hf(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Lt=Ms(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Lt=null}}else r===27?(r=Lt,Ya(i.type)?(i=mg,mg=null,Lt=i):Lt=r):Lt=It?Ms(i.stateNode.nextSibling):null;return!0}function Da(){Lt=It=null,Ht=!1}function ff(){var i=Me;return i!==null&&(di===null?di=i:di.push.apply(di,i),Me=null),i}function Na(i){Me===null?Me=[i]:Me.push(i)}var Ue=lt(null),is=null,Is=null;function er(i,r,l){yt(Ue,r._currentValue),r._currentValue=l}function Ps(i){i._currentValue=Ue.current,vt(Ue)}function Jo(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Kl(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var P=v;v=g;for(var z=0;z<r.length;z++)if(P.context===r[z]){v.lanes|=l,P=v.alternate,P!==null&&(P.lanes|=l),Jo(v.return,l,i),h||(C=null);break t}v=P.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(s(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),Jo(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function tl(i,r,l,h){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var P=g.type;ti(g.pendingProps.value,C.value)||(i!==null?i.push(P):i=[P])}}else if(g===Ee.current){if(C=g.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Bc):i=[Bc])}g=g.return}i!==null&&Kl(r,i,l,h),r.flags|=262144}function df(i){for(i=i.firstContext;i!==null;){if(!ti(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function el(i){is=i,Is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gn(i){return Xv(is,i)}function mf(i,r){return is===null&&el(i),Xv(i,r)}function Xv(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Is===null){if(i===null)throw Error(s(308));Is=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Is=Is.next=r;return l}var GC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},ZC=e.unstable_scheduleCallback,WC=e.unstable_NormalPriority,mn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new GC,data:new Map,refCount:0}}function dc(i){i.refCount--,i.refCount===0&&ZC(WC,function(){i.controller.abort()})}var mc=null,Jm=0,Yl=0,$l=null;function KC(i,r){if(mc===null){var l=mc=[];Jm=0,Yl=eg(),$l={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Jm++,r.then(Qv,Qv),r}function Qv(){if(--Jm===0&&mc!==null){$l!==null&&($l.status="fulfilled");var i=mc;mc=null,Yl=0,$l=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function YC(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Jv=ot.S;ot.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&KC(i,r),Jv!==null&&Jv(i,r)};var nl=lt(null);function tp(){var i=nl.current;return i!==null?i:De.pooledCache}function pf(i,r){r===null?yt(nl,nl.current):yt(nl,r.pool)}function tT(){var i=tp();return i===null?null:{parent:mn._currentValue,pool:i}}var pc=Error(s(460)),eT=Error(s(474)),gf=Error(s(542)),ep={then:function(){}};function nT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function yf(){}function iT(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(yf,yf),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rT(i),i;default:if(typeof r.status=="string")r.then(yf,yf);else{if(i=De,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rT(i),i}throw gc=r,pc}}var gc=null;function sT(){if(gc===null)throw Error(s(459));var i=gc;return gc=null,i}function rT(i){if(i===pc||i===gf)throw Error(s(483))}var Oa=!1;function np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ka(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Va(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(_e&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=Js(i),$o(i,null,l),r}return Yo(i,h,r,l),Js(i)}function yc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Do(i,l)}}function sp(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=r:v=v.next=r}else g=v=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var rp=!1;function _c(){if(rp){var i=$l;if(i!==null)throw i}}function vc(i,r,l,h){rp=!1;var g=i.updateQueue;Oa=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var z=P,et=z.next;z.next=null,C===null?v=et:C.next=et,C=z;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,P=ut.lastBaseUpdate,P!==C&&(P===null?ut.firstBaseUpdate=et:P.next=et,ut.lastBaseUpdate=z))}if(v!==null){var ft=g.baseState;C=0,ut=et=z=null,P=v;do{var it=P.lane&-536870913,st=it!==P.lane;if(st?(le&it)===it:(h&it)===it){it!==0&&it===Yl&&(rp=!0),ut!==null&&(ut=ut.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Bt=i,kt=P;it=r;var Ae=l;switch(kt.tag){case 1:if(Bt=kt.payload,typeof Bt=="function"){ft=Bt.call(Ae,ft,it);break t}ft=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=kt.payload,it=typeof Bt=="function"?Bt.call(Ae,ft,it):Bt,it==null)break t;ft=E({},ft,it);break t;case 2:Oa=!0}}it=P.callback,it!==null&&(i.flags|=64,st&&(i.flags|=8192),st=g.callbacks,st===null?g.callbacks=[it]:st.push(it))}else st={lane:it,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ut===null?(et=ut=st,z=ft):ut=ut.next=st,C|=it;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;st=P,P=st.next,st.next=null,g.lastBaseUpdate=st,g.shared.pending=null}}while(!0);ut===null&&(z=ft),g.baseState=z,g.firstBaseUpdate=et,g.lastBaseUpdate=ut,v===null&&(g.shared.lanes=0),Ga|=C,i.lanes=C,i.memoizedState=ft}}function aT(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function oT(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)aT(l[i],r)}var Xl=lt(null),_f=lt(0);function lT(i,r){i=Gr,yt(_f,i),yt(Xl,r),Gr=i|r.baseLanes}function ap(){yt(_f,Gr),yt(Xl,Xl.current)}function op(){Gr=_f.current,vt(Xl),vt(_f)}var Ua=0,Yt=null,be=null,rn=null,vf=!1,Ql=!1,il=!1,Tf=0,Tc=0,Jl=null,$C=0;function Qe(){throw Error(s(321))}function lp(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!ti(i[l],r[l]))return!1;return!0}function up(i,r,l,h,g,v){return Ua=v,Yt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ot.H=i===null||i.memoizedState===null?GT:ZT,il=!1,v=l(h,g),il=!1,Ql&&(v=cT(r,l,h,g)),uT(i),v}function uT(i){ot.H=xf;var r=be!==null&&be.next!==null;if(Ua=0,rn=be=Yt=null,vf=!1,Tc=0,Jl=null,r)throw Error(s(300));i===null||bn||(i=i.dependencies,i!==null&&df(i)&&(bn=!0))}function cT(i,r,l,h){Yt=i;var g=0;do{if(Ql&&(Jl=null),Tc=0,Ql=!1,25<=g)throw Error(s(301));if(g+=1,rn=be=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ot.H=iI,v=r(l,h)}while(Ql);return v}function XC(){var i=ot.H,r=i.useState()[0];return r=typeof r.then=="function"?Ec(r):r,i=i.useState()[0],(be!==null?be.memoizedState:null)!==i&&(Yt.flags|=1024),r}function cp(){var i=Tf!==0;return Tf=0,i}function hp(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function fp(i){if(vf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vf=!1}Ua=0,rn=be=Yt=null,Ql=!1,Tc=Tf=0,Jl=null}function hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Yt.memoizedState=rn=i:rn=rn.next=i,rn}function an(){if(be===null){var i=Yt.alternate;i=i!==null?i.memoizedState:null}else i=be.next;var r=rn===null?Yt.memoizedState:rn.next;if(r!==null)rn=r,be=i;else{if(i===null)throw Yt.alternate===null?Error(s(467)):Error(s(310));be=i,i={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},rn===null?Yt.memoizedState=rn=i:rn=rn.next=i}return rn}function dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(i){var r=Tc;return Tc+=1,Jl===null&&(Jl=[]),i=iT(Jl,i,r),r=Yt,(rn===null?r.memoizedState:rn.next)===null&&(r=r.alternate,ot.H=r===null||r.memoizedState===null?GT:ZT),i}function Ef(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ec(i);if(i.$$typeof===J)return Gn(i)}throw Error(s(438,String(i)))}function mp(i){var r=null,l=Yt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Yt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=dp(),Yt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=q;return r.index++,l}function jr(i,r){return typeof r=="function"?r(i):r}function wf(i){var r=an();return pp(r,be,i)}function pp(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}r.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var P=C=null,z=null,et=r,ut=!1;do{var ft=et.lane&-536870913;if(ft!==et.lane?(le&ft)===ft:(Ua&ft)===ft){var it=et.revertLane;if(it===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),ft===Yl&&(ut=!0);else if((Ua&it)===it){et=et.next,it===Yl&&(ut=!0);continue}else ft={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},z===null?(P=z=ft,C=v):z=z.next=ft,Yt.lanes|=it,Ga|=it;ft=et.action,il&&l(v,ft),v=et.hasEagerState?et.eagerState:l(v,ft)}else it={lane:ft,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},z===null?(P=z=it,C=v):z=z.next=it,Yt.lanes|=ft,Ga|=ft;et=et.next}while(et!==null&&et!==r);if(z===null?C=v:z.next=P,!ti(v,i.memoizedState)&&(bn=!0,ut&&(l=$l,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=z,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function gp(i){var r=an(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,v=r.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);ti(v,r.memoizedState)||(bn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,h]}function hT(i,r,l){var h=Yt,g=an(),v=Ht;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var C=!ti((be||g).memoizedState,l);C&&(g.memoizedState=l,bn=!0),g=g.queue;var P=mT.bind(null,h,g,i);if(wc(2048,8,P,[i]),g.getSnapshot!==r||C||rn!==null&&rn.memoizedState.tag&1){if(h.flags|=2048,tu(9,bf(),dT.bind(null,h,g,l,r),null),De===null)throw Error(s(349));v||(Ua&124)!==0||fT(h,r,l)}return l}function fT(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Yt.updateQueue,r===null?(r=dp(),Yt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function dT(i,r,l,h){r.value=l,r.getSnapshot=h,pT(r)&&gT(i)}function mT(i,r,l){return l(function(){pT(r)&&gT(i)})}function pT(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!ti(i,l)}catch{return!0}}function gT(i){var r=La(i,2);r!==null&&zi(r,i,2)}function yp(i){var r=hi();if(typeof i=="function"){var l=i;if(i=l(),il){jn(!0);try{l()}finally{jn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:i},r}function yT(i,r,l,h){return i.baseState=l,pp(i,be,typeof h=="function"?h:jr)}function QC(i,r,l,h,g){if(Af(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};ot.T!==null?l(!0):v.isTransition=!1,h(v),l=r.pending,l===null?(v.next=r.pending=v,_T(r,v)):(v.next=l.next,r.pending=l.next=v)}}function _T(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var v=ot.T,C={};ot.T=C;try{var P=l(g,h),z=ot.S;z!==null&&z(C,P),vT(i,r,P)}catch(et){_p(i,r,et)}finally{ot.T=v}}else try{v=l(g,h),vT(i,r,v)}catch(et){_p(i,r,et)}}function vT(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){TT(i,r,h)},function(h){return _p(i,r,h)}):TT(i,r,l)}function TT(i,r,l){r.status="fulfilled",r.value=l,ET(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,_T(i,l)))}function _p(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,ET(r),r=r.next;while(r!==h)}i.action=null}function ET(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function wT(i,r){return r}function bT(i,r){if(Ht){var l=De.formState;if(l!==null){t:{var h=Yt;if(Ht){if(Lt){e:{for(var g=Lt,v=Fe;g.nodeType!==8;){if(!v){g=null;break e}if(g=Ms(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Lt=Ms(g.nextSibling),h=g.data==="F!";break t}}ci(h)}h=!1}h&&(r=l[0])}}return l=hi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wT,lastRenderedState:r},l.queue=h,l=FT.bind(null,Yt,h),h.dispatch=l,h=yp(!1),v=bp.bind(null,Yt,!1,h.queue),h=hi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=QC.bind(null,Yt,g,v,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function ST(i){var r=an();return AT(r,be,i)}function AT(i,r,l){if(r=pp(i,r,wT)[0],i=wf(jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Ec(r)}catch(C){throw C===pc?gf:C}else h=r;r=an();var g=r.queue,v=g.dispatch;return l!==r.memoizedState&&(Yt.flags|=2048,tu(9,bf(),JC.bind(null,g,l),null)),[h,v,i]}function JC(i,r){i.action=r}function xT(i){var r=an(),l=be;if(l!==null)return AT(r,l,i);an(),r=r.memoizedState,l=an();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function tu(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Yt.updateQueue,r===null&&(r=dp(),Yt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function bf(){return{destroy:void 0,resource:void 0}}function RT(){return an().memoizedState}function Sf(i,r,l,h){var g=hi();h=h===void 0?null:h,Yt.flags|=i,g.memoizedState=tu(1|r,bf(),l,h)}function wc(i,r,l,h){var g=an();h=h===void 0?null:h;var v=g.memoizedState.inst;be!==null&&h!==null&&lp(h,be.memoizedState.deps)?g.memoizedState=tu(r,v,l,h):(Yt.flags|=i,g.memoizedState=tu(1|r,v,l,h))}function CT(i,r){Sf(8390656,8,i,r)}function IT(i,r){wc(2048,8,i,r)}function PT(i,r){return wc(4,2,i,r)}function LT(i,r){return wc(4,4,i,r)}function MT(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function DT(i,r,l){l=l!=null?l.concat([i]):null,wc(4,4,MT.bind(null,r,i),l)}function vp(){}function NT(i,r){var l=an();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&lp(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function OT(i,r){var l=an();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&lp(r,h[1]))return h[0];if(h=i(),il){jn(!0);try{i()}finally{jn(!1)}}return l.memoizedState=[h,r],h}function Tp(i,r,l){return l===void 0||(Ua&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=U0(),Yt.lanes|=i,Ga|=i,l)}function kT(i,r,l,h){return ti(l,r)?l:Xl.current!==null?(i=Tp(i,l,h),ti(i,r)||(bn=!0),i):(Ua&42)===0?(bn=!0,i.memoizedState=l):(i=U0(),Yt.lanes|=i,Ga|=i,r)}function VT(i,r,l,h,g){var v=_t.p;_t.p=v!==0&&8>v?v:8;var C=ot.T,P={};ot.T=P,bp(i,!1,r,l);try{var z=g(),et=ot.S;if(et!==null&&et(P,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ut=YC(z,h);bc(i,r,ut,ji(i))}else bc(i,r,h,ji(i))}catch(ft){bc(i,r,{then:function(){},status:"rejected",reason:ft},ji())}finally{_t.p=v,ot.T=C}}function tI(){}function Ep(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=UT(i).queue;VT(i,g,r,pt,l===null?tI:function(){return jT(i),l(h)})}function UT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:pt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function jT(i){var r=UT(i).next.queue;bc(i,r,{},ji())}function wp(){return Gn(Bc)}function zT(){return an().memoizedState}function BT(){return an().memoizedState}function eI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ji();i=ka(l);var h=Va(r,i,l);h!==null&&(zi(h,r,l),yc(h,r,l)),r={cache:Qm()},i.payload=r;return}r=r.return}}function nI(i,r,l){var h=ji();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Af(i)?HT(r,l):(l=kr(i,r,l,h),l!==null&&(zi(l,i,h),qT(l,r,h)))}function FT(i,r,l){var h=ji();bc(i,r,l,h)}function bc(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Af(i))HT(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,P=v(C,l);if(g.hasEagerState=!0,g.eagerState=P,ti(P,C))return Yo(i,r,g,0),De===null&&Ko(),!1}catch{}finally{}if(l=kr(i,r,g,h),l!==null)return zi(l,i,h),qT(l,r,h),!0}return!1}function bp(i,r,l,h){if(h={lane:2,revertLane:eg(),action:h,hasEagerState:!1,eagerState:null,next:null},Af(i)){if(r)throw Error(s(479))}else r=kr(i,l,h,2),r!==null&&zi(r,i,2)}function Af(i){var r=i.alternate;return i===Yt||r!==null&&r===Yt}function HT(i,r){Ql=vf=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function qT(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Do(i,l)}}var xf={readContext:Gn,use:Ef,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},GT={readContext:Gn,use:Ef,useCallback:function(i,r){return hi().memoizedState=[i,r===void 0?null:r],i},useContext:Gn,useEffect:CT,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Sf(4194308,4,MT.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Sf(4194308,4,i,r)},useInsertionEffect:function(i,r){Sf(4,2,i,r)},useMemo:function(i,r){var l=hi();r=r===void 0?null:r;var h=i();if(il){jn(!0);try{i()}finally{jn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=hi();if(l!==void 0){var g=l(r);if(il){jn(!0);try{l(r)}finally{jn(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=nI.bind(null,Yt,i),[h.memoizedState,i]},useRef:function(i){var r=hi();return i={current:i},r.memoizedState=i},useState:function(i){i=yp(i);var r=i.queue,l=FT.bind(null,Yt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:vp,useDeferredValue:function(i,r){var l=hi();return Tp(l,i,r)},useTransition:function(){var i=yp(!1);return i=VT.bind(null,Yt,i.queue,!0,!1),hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Yt,g=hi();if(Ht){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),De===null)throw Error(s(349));(le&124)!==0||fT(h,r,l)}g.memoizedState=l;var v={value:l,getSnapshot:r};return g.queue=v,CT(mT.bind(null,h,v,i),[i]),h.flags|=2048,tu(9,bf(),dT.bind(null,h,v,l,r),null),l},useId:function(){var i=hi(),r=De.identifierPrefix;if(Ht){var l=j,h=I;l=(h&~(1<<32-yn(h)-1)).toString(32)+l,r="«"+r+"R"+l,l=Tf++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=$C++,r="«"+r+"r"+l.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:wp,useFormState:bT,useActionState:bT,useOptimistic:function(i){var r=hi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=bp.bind(null,Yt,!0,l),l.dispatch=r,[i,r]},useMemoCache:mp,useCacheRefresh:function(){return hi().memoizedState=eI.bind(null,Yt)}},ZT={readContext:Gn,use:Ef,useCallback:NT,useContext:Gn,useEffect:IT,useImperativeHandle:DT,useInsertionEffect:PT,useLayoutEffect:LT,useMemo:OT,useReducer:wf,useRef:RT,useState:function(){return wf(jr)},useDebugValue:vp,useDeferredValue:function(i,r){var l=an();return kT(l,be.memoizedState,i,r)},useTransition:function(){var i=wf(jr)[0],r=an().memoizedState;return[typeof i=="boolean"?i:Ec(i),r]},useSyncExternalStore:hT,useId:zT,useHostTransitionStatus:wp,useFormState:ST,useActionState:ST,useOptimistic:function(i,r){var l=an();return yT(l,be,i,r)},useMemoCache:mp,useCacheRefresh:BT},iI={readContext:Gn,use:Ef,useCallback:NT,useContext:Gn,useEffect:IT,useImperativeHandle:DT,useInsertionEffect:PT,useLayoutEffect:LT,useMemo:OT,useReducer:gp,useRef:RT,useState:function(){return gp(jr)},useDebugValue:vp,useDeferredValue:function(i,r){var l=an();return be===null?Tp(l,i,r):kT(l,be.memoizedState,i,r)},useTransition:function(){var i=gp(jr)[0],r=an().memoizedState;return[typeof i=="boolean"?i:Ec(i),r]},useSyncExternalStore:hT,useId:zT,useHostTransitionStatus:wp,useFormState:xT,useActionState:xT,useOptimistic:function(i,r){var l=an();return be!==null?yT(l,be,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:mp,useCacheRefresh:BT},eu=null,Sc=0;function Rf(i){var r=Sc;return Sc+=1,eu===null&&(eu=[]),iT(eu,i,r)}function Ac(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Cf(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function WT(i){var r=i._init;return r(i._payload)}function KT(i){function r($,K){if(i){var tt=$.deletions;tt===null?($.deletions=[K],$.flags|=16):tt.push(K)}}function l($,K){if(!i)return null;for(;K!==null;)r($,K),K=K.sibling;return null}function h($){for(var K=new Map;$!==null;)$.key!==null?K.set($.key,$):K.set($.index,$),$=$.sibling;return K}function g($,K){return $=ns($,K),$.index=0,$.sibling=null,$}function v($,K,tt){return $.index=tt,i?(tt=$.alternate,tt!==null?(tt=tt.index,tt<K?($.flags|=67108866,K):tt):($.flags|=67108866,K)):($.flags|=1048576,K)}function C($){return i&&$.alternate===null&&($.flags|=67108866),$}function P($,K,tt,ct){return K===null||K.tag!==6?(K=fc(tt,$.mode,ct),K.return=$,K):(K=g(K,tt),K.return=$,K)}function z($,K,tt,ct){var Pt=tt.type;return Pt===U?ut($,K,tt.props.children,ct,tt.key):K!==null&&(K.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===N&&WT(Pt)===K.type)?(K=g(K,tt.props),Ac(K,tt),K.return=$,K):(K=Xo(tt.type,tt.key,tt.props,null,$.mode,ct),Ac(K,tt),K.return=$,K)}function et($,K,tt,ct){return K===null||K.tag!==4||K.stateNode.containerInfo!==tt.containerInfo||K.stateNode.implementation!==tt.implementation?(K=Wl(tt,$.mode,ct),K.return=$,K):(K=g(K,tt.children||[]),K.return=$,K)}function ut($,K,tt,ct,Pt){return K===null||K.tag!==7?(K=tr(tt,$.mode,ct,Pt),K.return=$,K):(K=g(K,tt),K.return=$,K)}function ft($,K,tt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=fc(""+K,$.mode,tt),K.return=$,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return tt=Xo(K.type,K.key,K.props,null,$.mode,tt),Ac(tt,K),tt.return=$,tt;case D:return K=Wl(K,$.mode,tt),K.return=$,K;case N:var ct=K._init;return K=ct(K._payload),ft($,K,tt)}if(Oe(K)||Y(K))return K=tr(K,$.mode,tt,null),K.return=$,K;if(typeof K.then=="function")return ft($,Rf(K),tt);if(K.$$typeof===J)return ft($,mf($,K),tt);Cf($,K)}return null}function it($,K,tt,ct){var Pt=K!==null?K.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Pt!==null?null:P($,K,""+tt,ct);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return tt.key===Pt?z($,K,tt,ct):null;case D:return tt.key===Pt?et($,K,tt,ct):null;case N:return Pt=tt._init,tt=Pt(tt._payload),it($,K,tt,ct)}if(Oe(tt)||Y(tt))return Pt!==null?null:ut($,K,tt,ct,null);if(typeof tt.then=="function")return it($,K,Rf(tt),ct);if(tt.$$typeof===J)return it($,K,mf($,tt),ct);Cf($,tt)}return null}function st($,K,tt,ct,Pt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return $=$.get(tt)||null,P(K,$,""+ct,Pt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case x:return $=$.get(ct.key===null?tt:ct.key)||null,z(K,$,ct,Pt);case D:return $=$.get(ct.key===null?tt:ct.key)||null,et(K,$,ct,Pt);case N:var Qt=ct._init;return ct=Qt(ct._payload),st($,K,tt,ct,Pt)}if(Oe(ct)||Y(ct))return $=$.get(tt)||null,ut(K,$,ct,Pt,null);if(typeof ct.then=="function")return st($,K,tt,Rf(ct),Pt);if(ct.$$typeof===J)return st($,K,tt,mf(K,ct),Pt);Cf(K,ct)}return null}function Bt($,K,tt,ct){for(var Pt=null,Qt=null,Dt=K,Vt=K=0,An=null;Dt!==null&&Vt<tt.length;Vt++){Dt.index>Vt?(An=Dt,Dt=null):An=Dt.sibling;var fe=it($,Dt,tt[Vt],ct);if(fe===null){Dt===null&&(Dt=An);break}i&&Dt&&fe.alternate===null&&r($,Dt),K=v(fe,K,Vt),Qt===null?Pt=fe:Qt.sibling=fe,Qt=fe,Dt=An}if(Vt===tt.length)return l($,Dt),Ht&&Q($,Vt),Pt;if(Dt===null){for(;Vt<tt.length;Vt++)Dt=ft($,tt[Vt],ct),Dt!==null&&(K=v(Dt,K,Vt),Qt===null?Pt=Dt:Qt.sibling=Dt,Qt=Dt);return Ht&&Q($,Vt),Pt}for(Dt=h(Dt);Vt<tt.length;Vt++)An=st(Dt,$,Vt,tt[Vt],ct),An!==null&&(i&&An.alternate!==null&&Dt.delete(An.key===null?Vt:An.key),K=v(An,K,Vt),Qt===null?Pt=An:Qt.sibling=An,Qt=An);return i&&Dt.forEach(function(to){return r($,to)}),Ht&&Q($,Vt),Pt}function kt($,K,tt,ct){if(tt==null)throw Error(s(151));for(var Pt=null,Qt=null,Dt=K,Vt=K=0,An=null,fe=tt.next();Dt!==null&&!fe.done;Vt++,fe=tt.next()){Dt.index>Vt?(An=Dt,Dt=null):An=Dt.sibling;var to=it($,Dt,fe.value,ct);if(to===null){Dt===null&&(Dt=An);break}i&&Dt&&to.alternate===null&&r($,Dt),K=v(to,K,Vt),Qt===null?Pt=to:Qt.sibling=to,Qt=to,Dt=An}if(fe.done)return l($,Dt),Ht&&Q($,Vt),Pt;if(Dt===null){for(;!fe.done;Vt++,fe=tt.next())fe=ft($,fe.value,ct),fe!==null&&(K=v(fe,K,Vt),Qt===null?Pt=fe:Qt.sibling=fe,Qt=fe);return Ht&&Q($,Vt),Pt}for(Dt=h(Dt);!fe.done;Vt++,fe=tt.next())fe=st(Dt,$,Vt,fe.value,ct),fe!==null&&(i&&fe.alternate!==null&&Dt.delete(fe.key===null?Vt:fe.key),K=v(fe,K,Vt),Qt===null?Pt=fe:Qt.sibling=fe,Qt=fe);return i&&Dt.forEach(function(sP){return r($,sP)}),Ht&&Q($,Vt),Pt}function Ae($,K,tt,ct){if(typeof tt=="object"&&tt!==null&&tt.type===U&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:t:{for(var Pt=tt.key;K!==null;){if(K.key===Pt){if(Pt=tt.type,Pt===U){if(K.tag===7){l($,K.sibling),ct=g(K,tt.props.children),ct.return=$,$=ct;break t}}else if(K.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===N&&WT(Pt)===K.type){l($,K.sibling),ct=g(K,tt.props),Ac(ct,tt),ct.return=$,$=ct;break t}l($,K);break}else r($,K);K=K.sibling}tt.type===U?(ct=tr(tt.props.children,$.mode,ct,tt.key),ct.return=$,$=ct):(ct=Xo(tt.type,tt.key,tt.props,null,$.mode,ct),Ac(ct,tt),ct.return=$,$=ct)}return C($);case D:t:{for(Pt=tt.key;K!==null;){if(K.key===Pt)if(K.tag===4&&K.stateNode.containerInfo===tt.containerInfo&&K.stateNode.implementation===tt.implementation){l($,K.sibling),ct=g(K,tt.children||[]),ct.return=$,$=ct;break t}else{l($,K);break}else r($,K);K=K.sibling}ct=Wl(tt,$.mode,ct),ct.return=$,$=ct}return C($);case N:return Pt=tt._init,tt=Pt(tt._payload),Ae($,K,tt,ct)}if(Oe(tt))return Bt($,K,tt,ct);if(Y(tt)){if(Pt=Y(tt),typeof Pt!="function")throw Error(s(150));return tt=Pt.call(tt),kt($,K,tt,ct)}if(typeof tt.then=="function")return Ae($,K,Rf(tt),ct);if(tt.$$typeof===J)return Ae($,K,mf($,tt),ct);Cf($,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,K!==null&&K.tag===6?(l($,K.sibling),ct=g(K,tt),ct.return=$,$=ct):(l($,K),ct=fc(tt,$.mode,ct),ct.return=$,$=ct),C($)):l($,K)}return function($,K,tt,ct){try{Sc=0;var Pt=Ae($,K,tt,ct);return eu=null,Pt}catch(Dt){if(Dt===pc||Dt===gf)throw Dt;var Qt=si(29,Dt,null,$.mode);return Qt.lanes=ct,Qt.return=$,Qt}finally{}}}var nu=KT(!0),YT=KT(!1),ss=lt(null),nr=null;function ja(i){var r=i.alternate;yt(pn,pn.current&1),yt(ss,i),nr===null&&(r===null||Xl.current!==null||r.memoizedState!==null)&&(nr=i)}function $T(i){if(i.tag===22){if(yt(pn,pn.current),yt(ss,i),nr===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(nr=i)}}else za()}function za(){yt(pn,pn.current),yt(ss,ss.current)}function zr(i){vt(ss),nr===i&&(nr=null),vt(pn)}var pn=lt(0);function If(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||dg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Sp(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ap={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=ji(),g=ka(h);g.payload=r,l!=null&&(g.callback=l),r=Va(i,g,h),r!==null&&(zi(r,i,h),yc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=ji(),g=ka(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Va(i,g,h),r!==null&&(zi(r,i,h),yc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ji(),h=ka(l);h.tag=2,r!=null&&(h.callback=r),r=Va(i,h,l),r!==null&&(zi(r,i,l),yc(r,i,l))}};function XT(i,r,l,h,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):r.prototype&&r.prototype.isPureReactComponent?!ei(l,h)||!ei(g,v):!0}function QT(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Ap.enqueueReplaceState(r,r.state,null)}function sl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Pf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function JT(i){Pf(i)}function t0(i){console.error(i)}function e0(i){Pf(i)}function Lf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function n0(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function xp(i,r,l){return l=ka(l),l.tag=3,l.payload={element:null},l.callback=function(){Lf(i,r)},l}function i0(i){return i=ka(i),i.tag=3,i}function s0(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){n0(r,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){n0(r,l,h),typeof g!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function sI(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&tl(r,l,g,!0),l=ss.current,l!==null){switch(l.tag){case 13:return nr===null?$p():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===ep?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),Qp(i,h,g)),!1;case 22:return l.flags|=65536,h===ep?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),Qp(i,h,g)),!1}throw Error(s(435,l.tag))}return Qp(i,h,g),$p(),!1}if(Ht)return r=ss.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==wn&&(i=Error(s(422),{cause:h}),Na(ni(i,l)))):(h!==wn&&(r=Error(s(423),{cause:h}),Na(ni(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=ni(h,l),g=xp(i.stateNode,h,g),sp(i,g),Ke!==4&&(Ke=2)),!1;var v=Error(s(520),{cause:h});if(v=ni(v,l),Mc===null?Mc=[v]:Mc.push(v),Ke!==4&&(Ke=2),r===null)return!0;h=ni(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=xp(l.stateNode,h,i),sp(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Za===null||!Za.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=i0(g),s0(g,i,l,h),sp(l,g),!1}l=l.return}while(l!==null);return!1}var r0=Error(s(461)),bn=!1;function Mn(i,r,l,h){r.child=i===null?YT(r,null,l,h):nu(r,i.child,l,h)}function a0(i,r,l,h,g){l=l.render;var v=r.ref;if("ref"in h){var C={};for(var P in h)P!=="ref"&&(C[P]=h[P])}else C=h;return el(r),h=up(i,r,l,C,v,g),P=cp(),i!==null&&!bn?(hp(i,r,g),Br(i,r,g)):(Ht&&P&&gt(r),r.flags|=1,Mn(i,r,h,g),r.child)}function o0(i,r,l,h,g){if(i===null){var v=l.type;return typeof v=="function"&&!Zl(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,l0(i,r,v,h,g)):(i=Xo(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Np(i,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:ei,l(C,h)&&i.ref===r.ref)return Br(i,r,g)}return r.flags|=1,i=ns(v,h),i.ref=r.ref,i.return=r,r.child=i}function l0(i,r,l,h,g){if(i!==null){var v=i.memoizedProps;if(ei(v,h)&&i.ref===r.ref)if(bn=!1,r.pendingProps=h=v,Np(i,g))(i.flags&131072)!==0&&(bn=!0);else return r.lanes=i.lanes,Br(i,r,g)}return Rp(i,r,l,h,g)}function u0(i,r,l){var h=r.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|l:l,i!==null){for(g=r.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return c0(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&pf(r,v!==null?v.cachePool:null),v!==null?lT(r,v):ap(),$T(r);else return r.lanes=r.childLanes=536870912,c0(i,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(pf(r,v.cachePool),lT(r,v),za(),r.memoizedState=null):(i!==null&&pf(r,null),ap(),za());return Mn(i,r,g,l),r.child}function c0(i,r,l,h){var g=tp();return g=g===null?null:{parent:mn._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&pf(r,null),ap(),$T(r),i!==null&&tl(i,r,h,!0),null}function Mf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Rp(i,r,l,h,g){return el(r),l=up(i,r,l,h,void 0,g),h=cp(),i!==null&&!bn?(hp(i,r,g),Br(i,r,g)):(Ht&&h&&gt(r),r.flags|=1,Mn(i,r,l,g),r.child)}function h0(i,r,l,h,g,v){return el(r),r.updateQueue=null,l=cT(r,h,l,g),uT(i),h=cp(),i!==null&&!bn?(hp(i,r,v),Br(i,r,v)):(Ht&&h&&gt(r),r.flags|=1,Mn(i,r,l,v),r.child)}function f0(i,r,l,h,g){if(el(r),r.stateNode===null){var v=Vr,C=l.contextType;typeof C=="object"&&C!==null&&(v=Gn(C)),v=new l(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ap,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},np(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?Gn(C):Vr,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Sp(r,l,C,h),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Ap.enqueueReplaceState(v,v.state,null),vc(r,h,v,g),_c(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){v=r.stateNode;var P=r.memoizedProps,z=sl(l,P);v.props=z;var et=v.context,ut=l.contextType;C=Vr,typeof ut=="object"&&ut!==null&&(C=Gn(ut));var ft=l.getDerivedStateFromProps;ut=typeof ft=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,ut||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||et!==C)&&QT(r,v,h,C),Oa=!1;var it=r.memoizedState;v.state=it,vc(r,h,v,g),_c(),et=r.memoizedState,P||it!==et||Oa?(typeof ft=="function"&&(Sp(r,l,ft,h),et=r.memoizedState),(z=Oa||XT(r,l,z,h,it,et,C))?(ut||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=et),v.props=h,v.state=et,v.context=C,h=z):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,ip(i,r),C=r.memoizedProps,ut=sl(l,C),v.props=ut,ft=r.pendingProps,it=v.context,et=l.contextType,z=Vr,typeof et=="object"&&et!==null&&(z=Gn(et)),P=l.getDerivedStateFromProps,(et=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ft||it!==z)&&QT(r,v,h,z),Oa=!1,it=r.memoizedState,v.state=it,vc(r,h,v,g),_c();var st=r.memoizedState;C!==ft||it!==st||Oa||i!==null&&i.dependencies!==null&&df(i.dependencies)?(typeof P=="function"&&(Sp(r,l,P,h),st=r.memoizedState),(ut=Oa||XT(r,l,ut,h,it,st,z)||i!==null&&i.dependencies!==null&&df(i.dependencies))?(et||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,st,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,st,z)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=st),v.props=h,v.state=st,v.context=z,h=ut):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&it===i.memoizedState||(r.flags|=1024),h=!1)}return v=h,Mf(i,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&h?(r.child=nu(r,i.child,null,g),r.child=nu(r,null,l,g)):Mn(i,r,l,g),r.memoizedState=v.state,i=r.child):i=Br(i,r,g),i}function d0(i,r,l,h){return Da(),r.flags|=256,Mn(i,r,l,h),r.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ip(i){return{baseLanes:i,cachePool:tT()}}function Pp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=rs),i}function m0(i,r,l){var h=r.pendingProps,g=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(pn.current&2)!==0),C&&(g=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ht){if(g?ja(r):za(),Ht){var P=Lt,z;if(z=P){t:{for(z=P,P=Fe;z.nodeType!==8;){if(!P){P=null;break t}if(z=Ms(z.nextSibling),z===null){P=null;break t}}P=z}P!==null?(r.memoizedState={dehydrated:P,treeContext:b!==null?{id:I,overflow:j}:null,retryLane:536870912,hydrationErrors:null},z=si(18,null,null,0),z.stateNode=P,z.return=r,r.child=z,It=r,Lt=null,z=!0):z=!1}z||ci(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return dg(P)?r.lanes=32:r.lanes=536870912,null;zr(r)}return P=h.children,h=h.fallback,g?(za(),g=r.mode,P=Df({mode:"hidden",children:P},g),h=tr(h,g,l,null),P.return=r,h.return=r,P.sibling=h,r.child=P,g=r.child,g.memoizedState=Ip(l),g.childLanes=Pp(i,C,l),r.memoizedState=Cp,h):(ja(r),Lp(r,P))}if(z=i.memoizedState,z!==null&&(P=z.dehydrated,P!==null)){if(v)r.flags&256?(ja(r),r.flags&=-257,r=Mp(i,r,l)):r.memoizedState!==null?(za(),r.child=i.child,r.flags|=128,r=null):(za(),g=h.fallback,P=r.mode,h=Df({mode:"visible",children:h.children},P),g=tr(g,P,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,nu(r,i.child,null,l),h=r.child,h.memoizedState=Ip(l),h.childLanes=Pp(i,C,l),r.memoizedState=Cp,r=g);else if(ja(r),dg(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var et=C.dgst;C=et,h=Error(s(419)),h.stack="",h.digest=C,Na({value:h,source:null,stack:null}),r=Mp(i,r,l)}else if(bn||tl(i,r,l,!1),C=(l&i.childLanes)!==0,bn||C){if(C=De,C!==null&&(h=l&-l,h=(h&42)!==0?1:Fs(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==z.retryLane))throw z.retryLane=h,La(i,h),zi(C,i,h),r0;P.data==="$?"||$p(),r=Mp(i,r,l)}else P.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=z.treeContext,Lt=Ms(P.nextSibling),It=r,Ht=!0,Me=null,Fe=!1,i!==null&&(p[T++]=I,p[T++]=j,p[T++]=b,I=i.id,j=i.overflow,b=r),r=Lp(r,h.children),r.flags|=4096);return r}return g?(za(),g=h.fallback,P=r.mode,z=i.child,et=z.sibling,h=ns(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,et!==null?g=ns(et,g):(g=tr(g,P,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,P=i.child.memoizedState,P===null?P=Ip(l):(z=P.cachePool,z!==null?(et=mn._currentValue,z=z.parent!==et?{parent:et,pool:et}:z):z=tT(),P={baseLanes:P.baseLanes|l,cachePool:z}),g.memoizedState=P,g.childLanes=Pp(i,C,l),r.memoizedState=Cp,h):(ja(r),l=i.child,i=l.sibling,l=ns(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=l,r.memoizedState=null,l)}function Lp(i,r){return r=Df({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Df(i,r){return i=si(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Mp(i,r,l){return nu(r,i.child,null,l),i=Lp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function p0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Jo(i.return,r,l)}function Dp(i,r,l,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function g0(i,r,l){var h=r.pendingProps,g=h.revealOrder,v=h.tail;if(Mn(i,r,h.children,l),h=pn.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&p0(i,l,r);else if(i.tag===19)p0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(yt(pn,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&If(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Dp(r,!1,g,l,v);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&If(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Dp(r,!0,l,null,v);break;case"together":Dp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Br(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Ga|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(tl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=ns(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=ns(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Np(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&df(i)))}function rI(i,r,l){switch(r.tag){case 3:ae(r,r.stateNode.containerInfo),er(r,mn,i.memoizedState.cache),Da();break;case 27:case 5:Bi(r);break;case 4:ae(r,r.stateNode.containerInfo);break;case 10:er(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(ja(r),r.flags|=128,null):(l&r.child.childLanes)!==0?m0(i,r,l):(ja(r),i=Br(i,r,l),i!==null?i.sibling:null);ja(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(tl(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return g0(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(pn,pn.current),h)break;return null;case 22:case 23:return r.lanes=0,u0(i,r,l);case 24:er(r,mn,i.memoizedState.cache)}return Br(i,r,l)}function y0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)bn=!0;else{if(!Np(i,l)&&(r.flags&128)===0)return bn=!1,rI(i,r,l);bn=(i.flags&131072)!==0}else bn=!1,Ht&&(r.flags&1048576)!==0&&rt(r,c,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")Zl(h)?(i=sl(h,i),r.tag=1,r=f0(null,r,h,i,l)):(r.tag=0,r=Rp(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===Et){r.tag=11,r=a0(null,r,h,i,l);break t}else if(g===H){r.tag=14,r=o0(null,r,h,i,l);break t}}throw r=de(h)||h,Error(s(306,r,""))}}return r;case 0:return Rp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=sl(h,r.pendingProps),f0(i,r,h,g,l);case 3:t:{if(ae(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var v=r.memoizedState;g=v.element,ip(i,r),vc(r,h,null,l);var C=r.memoizedState;if(h=C.cache,er(r,mn,h),h!==v.cache&&Kl(r,[mn],l,!0),_c(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=d0(i,r,h,l);break t}else if(h!==g){g=ni(Error(s(424)),r),Na(g),r=d0(i,r,h,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=Ms(i.firstChild),It=r,Ht=!0,Me=null,Fe=!0,l=YT(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Da(),h===g){r=Br(i,r,l);break t}Mn(i,r,h,l)}r=r.child}return r;case 26:return Mf(i,r),i===null?(l=EE(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ht||(l=r.type,i=r.pendingProps,h=Wf(wt.current).createElement(l),h[$e]=r,h[Ze]=i,Nn(h,l,i),Be(h),r.stateNode=h):r.memoizedState=EE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Bi(r),i===null&&Ht&&(h=r.stateNode=_E(r.type,r.pendingProps,wt.current),It=r,Fe=!0,g=Lt,Ya(r.type)?(mg=g,Lt=Ms(h.firstChild)):Lt=g),Mn(i,r,r.pendingProps.children,l),Mf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ht&&((g=h=Lt)&&(h=DI(h,r.type,r.pendingProps,Fe),h!==null?(r.stateNode=h,It=r,Lt=Ms(h.firstChild),Fe=!1,g=!0):g=!1),g||ci(r)),Bi(r),g=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,cg(g,v)?h=null:C!==null&&cg(g,C)&&(r.flags|=32),r.memoizedState!==null&&(g=up(i,r,XC,null,null,l),Bc._currentValue=g),Mf(i,r),Mn(i,r,h,l),r.child;case 6:return i===null&&Ht&&((i=l=Lt)&&(l=NI(l,r.pendingProps,Fe),l!==null?(r.stateNode=l,It=r,Lt=null,i=!0):i=!1),i||ci(r)),null;case 13:return m0(i,r,l);case 4:return ae(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=nu(r,null,h,l):Mn(i,r,h,l),r.child;case 11:return a0(i,r,r.type,r.pendingProps,l);case 7:return Mn(i,r,r.pendingProps,l),r.child;case 8:return Mn(i,r,r.pendingProps.children,l),r.child;case 12:return Mn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,er(r,r.type,h.value),Mn(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,el(r),g=Gn(g),h=h(g),r.flags|=1,Mn(i,r,h,l),r.child;case 14:return o0(i,r,r.type,r.pendingProps,l);case 15:return l0(i,r,r.type,r.pendingProps,l);case 19:return g0(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=Df(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ns(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return u0(i,r,l);case 24:return el(r),h=Gn(mn),i===null?(g=tp(),g===null&&(g=De,v=Qm(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),r.memoizedState={parent:h,cache:g},np(r),er(r,mn,g)):((i.lanes&l)!==0&&(ip(i,r),vc(r,null,null,l),_c()),g=i.memoizedState,v=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),er(r,mn,h)):(h=v.cache,er(r,mn,h),h!==g.cache&&Kl(r,[mn],l,!0))),Mn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fr(i){i.flags|=4}function _0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xE(r)){if(r=ss.current,r!==null&&((le&4194048)===le?nr!==null:(le&62914560)!==le&&(le&536870912)===0||r!==nr))throw gc=ep,eT;i.flags|=8192}}function Nf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ca():536870912,i.lanes|=r,au|=r)}function xc(i,r){if(!Ht)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function He(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function aI(i,r,l){var h=r.pendingProps;switch(St(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Ps(mn),vi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Qo(r)?Fr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ff())),He(r),null;case 26:return l=r.memoizedState,i===null?(Fr(r),l!==null?(He(r),_0(r,l)):(He(r),r.flags&=-16777217)):l?l!==i.memoizedState?(Fr(r),He(r),_0(r,l)):(He(r),r.flags&=-16777217):(i.memoizedProps!==h&&Fr(r),He(r),r.flags&=-16777217),null;case 27:Ti(r),l=wt.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Fr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}i=bt.current,Qo(r)?cf(r):(i=_E(g,h,l),r.stateNode=i,Fr(r))}return He(r),null;case 5:if(Ti(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Fr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}if(i=bt.current,Qo(r))cf(r);else{switch(g=Wf(wt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[$e]=r,i[Ze]=h;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Nn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Fr(r)}}return He(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Fr(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=wt.current,Qo(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=It,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[$e]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||hE(i.nodeValue,l)),i||ci(r)}else i=Wf(i).createTextNode(h),i[$e]=r,r.stateNode=i}return He(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Qo(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[$e]=r}else Da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),g=!1}else g=ff(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(zr(r),r):(zr(r),null)}if(zr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Nf(r,r.updateQueue),He(r),null;case 4:return vi(),i===null&&rg(r.stateNode.containerInfo),He(r),null;case 10:return Ps(r.type),He(r),null;case 19:if(vt(pn),g=r.memoizedState,g===null)return He(r),null;if(h=(r.flags&128)!==0,v=g.rendering,v===null)if(h)xc(g,!1);else{if(Ke!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=If(i),v!==null){for(r.flags|=128,xc(g,!1),i=v.updateQueue,r.updateQueue=i,Nf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)hc(l,i),l=l.sibling;return yt(pn,pn.current&1|2),r.child}i=i.sibling}g.tail!==null&&Un()>Vf&&(r.flags|=128,h=!0,xc(g,!1),r.lanes=4194304)}else{if(!h)if(i=If(v),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,Nf(r,i),xc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Ht)return He(r),null}else 2*Un()-g.renderingStartTime>Vf&&l!==536870912&&(r.flags|=128,h=!0,xc(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(i=g.last,i!==null?i.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Un(),r.sibling=null,i=pn.current,yt(pn,h?i&1|2:i&1),r):(He(r),null);case 22:case 23:return zr(r),op(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),l=r.updateQueue,l!==null&&Nf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&vt(nl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ps(mn),He(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function oI(i,r){switch(St(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ps(mn),vi(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ti(r),null;case 13:if(zr(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Da()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return vt(pn),null;case 4:return vi(),null;case 10:return Ps(r.type),null;case 22:case 23:return zr(r),op(),i!==null&&vt(nl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ps(mn),null;case 25:return null;default:return null}}function v0(i,r){switch(St(r),r.tag){case 3:Ps(mn),vi();break;case 26:case 27:case 5:Ti(r);break;case 4:vi();break;case 13:zr(r);break;case 19:vt(pn);break;case 10:Ps(r.type);break;case 22:case 23:zr(r),op(),i!==null&&vt(nl);break;case 24:Ps(mn)}}function Rc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var v=l.create,C=l.inst;h=v(),C.destroy=h}l=l.next}while(l!==g)}}catch(P){Re(r,r.return,P)}}function Ba(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var C=h.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,g=r;var z=l,et=P;try{et()}catch(ut){Re(g,z,ut)}}}h=h.next}while(h!==v)}}catch(ut){Re(r,r.return,ut)}}function T0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{oT(r,l)}catch(h){Re(i,i.return,h)}}}function E0(i,r,l){l.props=sl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Re(i,r,h)}}function Cc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Re(i,r,g)}}function ir(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Re(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Re(i,r,g)}else l.current=null}function w0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Re(i,i.return,g)}}function Op(i,r,l){try{var h=i.stateNode;CI(h,i.type,l,r),h[Ze]=r}catch(g){Re(i,i.return,g)}}function b0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ya(i.type)||i.tag===4}function kp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||b0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ya(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vp(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Zf));else if(h!==4&&(h===27&&Ya(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Vp(i,r,l),i=i.sibling;i!==null;)Vp(i,r,l),i=i.sibling}function Of(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&Ya(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Of(i,r,l),i=i.sibling;i!==null;)Of(i,r,l),i=i.sibling}function S0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Nn(r,h,l),r[$e]=i,r[Ze]=l}catch(v){Re(i,i.return,v)}}var Hr=!1,Je=!1,Up=!1,A0=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function lI(i,r){if(i=i.containerInfo,lg=Jf,i=Go(i),Zo(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,P=-1,z=-1,et=0,ut=0,ft=i,it=null;e:for(;;){for(var st;ft!==l||g!==0&&ft.nodeType!==3||(P=C+g),ft!==v||h!==0&&ft.nodeType!==3||(z=C+h),ft.nodeType===3&&(C+=ft.nodeValue.length),(st=ft.firstChild)!==null;)it=ft,ft=st;for(;;){if(ft===i)break e;if(it===l&&++et===g&&(P=C),it===v&&++ut===h&&(z=C),(st=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=st}l=P===-1||z===-1?null:{start:P,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(ug={focusedElem:i,selectionRange:l},Jf=!1,Sn=r;Sn!==null;)if(r=Sn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Sn=i;else for(;Sn!==null;){switch(r=Sn,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,g=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var Bt=sl(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Bt,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(kt){Re(l,l.return,kt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)fg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Sn=i;break}Sn=r.return}}function x0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Fa(i,l),h&4&&Rc(5,l);break;case 1:if(Fa(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(C){Re(l,l.return,C)}else{var g=sl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Re(l,l.return,C)}}h&64&&T0(l),h&512&&Cc(l,l.return);break;case 3:if(Fa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{oT(i,r)}catch(C){Re(l,l.return,C)}}break;case 27:r===null&&h&4&&S0(l);case 26:case 5:Fa(i,l),r===null&&h&4&&w0(l),h&512&&Cc(l,l.return);break;case 12:Fa(i,l);break;case 13:Fa(i,l),h&4&&I0(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=yI.bind(null,l),OI(i,l))));break;case 22:if(h=l.memoizedState!==null||Hr,!h){r=r!==null&&r.memoizedState!==null||Je,g=Hr;var v=Je;Hr=h,(Je=r)&&!v?Ha(i,l,(l.subtreeFlags&8772)!==0):Fa(i,l),Hr=g,Je=v}break;case 30:break;default:Fa(i,l)}}function R0(i){var r=i.alternate;r!==null&&(i.alternate=null,R0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&_s(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var je=null,fi=!1;function qr(i,r,l){for(l=l.child;l!==null;)C0(i,r,l),l=l.sibling}function C0(i,r,l){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(Ce,l)}catch{}switch(l.tag){case 26:Je||ir(l,r),qr(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Je||ir(l,r);var h=je,g=fi;Ya(l.type)&&(je=l.stateNode,fi=!1),qr(i,r,l),Vc(l.stateNode),je=h,fi=g;break;case 5:Je||ir(l,r);case 6:if(h=je,g=fi,je=null,qr(i,r,l),je=h,fi=g,je!==null)if(fi)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(l.stateNode)}catch(v){Re(l,r,v)}else try{je.removeChild(l.stateNode)}catch(v){Re(l,r,v)}break;case 18:je!==null&&(fi?(i=je,gE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Gc(i)):gE(je,l.stateNode));break;case 4:h=je,g=fi,je=l.stateNode.containerInfo,fi=!0,qr(i,r,l),je=h,fi=g;break;case 0:case 11:case 14:case 15:Je||Ba(2,l,r),Je||Ba(4,l,r),qr(i,r,l);break;case 1:Je||(ir(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&E0(l,r,h)),qr(i,r,l);break;case 21:qr(i,r,l);break;case 22:Je=(h=Je)||l.memoizedState!==null,qr(i,r,l),Je=h;break;default:qr(i,r,l)}}function I0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Gc(i)}catch(l){Re(r,r.return,l)}}function uI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new A0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new A0),r;default:throw Error(s(435,i.tag))}}function jp(i,r){var l=uI(i);r.forEach(function(h){var g=_I.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function ki(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],v=i,C=r,P=C;t:for(;P!==null;){switch(P.tag){case 27:if(Ya(P.type)){je=P.stateNode,fi=!1;break t}break;case 5:je=P.stateNode,fi=!1;break t;case 3:case 4:je=P.stateNode.containerInfo,fi=!0;break t}P=P.return}if(je===null)throw Error(s(160));C0(v,C,g),je=null,fi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)P0(r,i),r=r.sibling}var Ls=null;function P0(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ki(r,i),Vi(i),h&4&&(Ba(3,i,i.return),Rc(3,i),Ba(5,i,i.return));break;case 1:ki(r,i),Vi(i),h&512&&(Je||l===null||ir(l,l.return)),h&64&&Hr&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Ls;if(ki(r,i),Vi(i),h&512&&(Je||l===null||ir(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[qs]||v[$e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Nn(v,h,l),v[$e]=i,Be(v),h=v;break t;case"link":var C=SE("link","href",g).get(h+(l.href||""));if(C){for(var P=0;P<C.length;P++)if(v=C[P],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(P,1);break e}}v=g.createElement(h),Nn(v,h,l),g.head.appendChild(v);break;case"meta":if(C=SE("meta","content",g).get(h+(l.content||""))){for(P=0;P<C.length;P++)if(v=C[P],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(P,1);break e}}v=g.createElement(h),Nn(v,h,l),g.head.appendChild(v);break;default:throw Error(s(468,h))}v[$e]=i,Be(v),h=v}i.stateNode=h}else AE(g,i.type,i.stateNode);else i.stateNode=bE(g,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?AE(g,i.type,i.stateNode):bE(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Op(i,i.memoizedProps,l.memoizedProps)}break;case 27:ki(r,i),Vi(i),h&512&&(Je||l===null||ir(l,l.return)),l!==null&&h&4&&Op(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ki(r,i),Vi(i),h&512&&(Je||l===null||ir(l,l.return)),i.flags&32){g=i.stateNode;try{vn(g,"")}catch(st){Re(i,i.return,st)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Op(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Up=!0);break;case 6:if(ki(r,i),Vi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(st){Re(i,i.return,st)}}break;case 3:if($f=null,g=Ls,Ls=Kf(r.containerInfo),ki(r,i),Ls=g,Vi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Gc(r.containerInfo)}catch(st){Re(i,i.return,st)}Up&&(Up=!1,L0(i));break;case 4:h=Ls,Ls=Kf(i.stateNode.containerInfo),ki(r,i),Vi(i),Ls=h;break;case 12:ki(r,i),Vi(i);break;case 13:ki(r,i),Vi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gp=Un()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,jp(i,h)));break;case 22:g=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,et=Hr,ut=Je;if(Hr=et||g,Je=ut||z,ki(r,i),Je=ut,Hr=et,Vi(i),h&8192)t:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||z||Hr||Je||rl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){z=l=r;try{if(v=z.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=z.stateNode;var ft=z.memoizedProps.style,it=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;P.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(st){Re(z,z.return,st)}}}else if(r.tag===6){if(l===null){z=r;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(st){Re(z,z.return,st)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,jp(i,l))));break;case 19:ki(r,i),Vi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,jp(i,h)));break;case 30:break;case 21:break;default:ki(r,i),Vi(i)}}function Vi(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(b0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,v=kp(i);Of(i,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(vn(C,""),l.flags&=-33);var P=kp(i);Of(i,P,C);break;case 3:case 4:var z=l.stateNode.containerInfo,et=kp(i);Vp(i,et,z);break;default:throw Error(s(161))}}catch(ut){Re(i,i.return,ut)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function L0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;L0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Fa(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)x0(i,r.alternate,r),r=r.sibling}function rl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ba(4,r,r.return),rl(r);break;case 1:ir(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&E0(r,r.return,l),rl(r);break;case 27:Vc(r.stateNode);case 26:case 5:ir(r,r.return),rl(r);break;case 22:r.memoizedState===null&&rl(r);break;case 30:rl(r);break;default:rl(r)}i=i.sibling}}function Ha(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:Ha(g,v,l),Rc(4,v);break;case 1:if(Ha(g,v,l),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(et){Re(h,h.return,et)}if(h=v,g=h.updateQueue,g!==null){var P=h.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)aT(z[g],P)}catch(et){Re(h,h.return,et)}}l&&C&64&&T0(v),Cc(v,v.return);break;case 27:S0(v);case 26:case 5:Ha(g,v,l),l&&h===null&&C&4&&w0(v),Cc(v,v.return);break;case 12:Ha(g,v,l);break;case 13:Ha(g,v,l),l&&C&4&&I0(g,v);break;case 22:v.memoizedState===null&&Ha(g,v,l),Cc(v,v.return);break;case 30:break;default:Ha(g,v,l)}r=r.sibling}}function zp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&dc(l))}function Bp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dc(i))}function sr(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M0(i,r,l,h),r=r.sibling}function M0(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:sr(i,r,l,h),g&2048&&Rc(9,r);break;case 1:sr(i,r,l,h);break;case 3:sr(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dc(i)));break;case 12:if(g&2048){sr(i,r,l,h),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,P=v.onPostCommit;typeof P=="function"&&P(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Re(r,r.return,z)}}else sr(i,r,l,h);break;case 13:sr(i,r,l,h);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?sr(i,r,l,h):Ic(i,r):v._visibility&2?sr(i,r,l,h):(v._visibility|=2,iu(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&zp(C,r);break;case 24:sr(i,r,l,h),g&2048&&Bp(r.alternate,r);break;default:sr(i,r,l,h)}}function iu(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,C=r,P=l,z=h,et=C.flags;switch(C.tag){case 0:case 11:case 15:iu(v,C,P,z,g),Rc(8,C);break;case 23:break;case 22:var ut=C.stateNode;C.memoizedState!==null?ut._visibility&2?iu(v,C,P,z,g):Ic(v,C):(ut._visibility|=2,iu(v,C,P,z,g)),g&&et&2048&&zp(C.alternate,C);break;case 24:iu(v,C,P,z,g),g&&et&2048&&Bp(C.alternate,C);break;default:iu(v,C,P,z,g)}r=r.sibling}}function Ic(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:Ic(l,h),g&2048&&zp(h.alternate,h);break;case 24:Ic(l,h),g&2048&&Bp(h.alternate,h);break;default:Ic(l,h)}r=r.sibling}}var Pc=8192;function su(i){if(i.subtreeFlags&Pc)for(i=i.child;i!==null;)D0(i),i=i.sibling}function D0(i){switch(i.tag){case 26:su(i),i.flags&Pc&&i.memoizedState!==null&&KI(Ls,i.memoizedState,i.memoizedProps);break;case 5:su(i);break;case 3:case 4:var r=Ls;Ls=Kf(i.stateNode.containerInfo),su(i),Ls=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Pc,Pc=16777216,su(i),Pc=r):su(i));break;default:su(i)}}function N0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Lc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Sn=h,k0(h,i)}N0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)O0(i),i=i.sibling}function O0(i){switch(i.tag){case 0:case 11:case 15:Lc(i),i.flags&2048&&Ba(9,i,i.return);break;case 3:Lc(i);break;case 12:Lc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,kf(i)):Lc(i);break;default:Lc(i)}}function kf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Sn=h,k0(h,i)}N0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ba(8,r,r.return),kf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,kf(r));break;default:kf(r)}i=i.sibling}}function k0(i,r){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Ba(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:dc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Sn=h;else t:for(l=i;Sn!==null;){h=Sn;var g=h.sibling,v=h.return;if(R0(h),h===l){Sn=null;break t}if(g!==null){g.return=v,Sn=g;break t}Sn=v}}}var cI={getCacheForType:function(i){var r=Gn(mn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},hI=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,Jt=null,le=0,ve=0,Ui=null,qa=!1,ru=!1,Fp=!1,Gr=0,Ke=0,Ga=0,al=0,Hp=0,rs=0,au=0,Mc=null,di=null,qp=!1,Gp=0,Vf=1/0,Uf=null,Za=null,Dn=0,Wa=null,ou=null,lu=0,Zp=0,Wp=null,V0=null,Dc=0,Kp=null;function ji(){if((_e&2)!==0&&le!==0)return le&-le;if(ot.T!==null){var i=Yl;return i!==0?i:eg()}return Hs()}function U0(){rs===0&&(rs=(le&536870912)===0||Ht?Lo():536870912);var i=ss.current;return i!==null&&(i.flags|=32),rs}function zi(i,r,l){(i===De&&(ve===2||ve===9)||i.cancelPendingCommit!==null)&&(uu(i,0),Ka(i,le,rs,!1)),Hi(i,l),((_e&2)===0||i!==De)&&(i===De&&((_e&2)===0&&(al|=l),Ke===4&&Ka(i,le,rs,!1)),rr(i))}function j0(i,r,l){if((_e&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||wi(i,r),g=h?mI(i,r):Xp(i,r,!0),v=h;do{if(g===0){ru&&!h&&Ka(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!fI(l)){g=Xp(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var P=i;g=Mc;var z=P.current.memoizedState.isDehydrated;if(z&&(uu(P,C).flags|=256),C=Xp(P,C,!1),C!==2){if(Fp&&!z){P.errorRecoveryDisabledLanes|=v,al|=v,g=4;break t}v=di,di=g,v!==null&&(di===null?di=v:di.push.apply(di,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){uu(i,0),Ka(i,r,0,!0);break}t:{switch(h=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ka(h,r,rs,!qa);break t;case 2:di=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=Gp+300-Un(),10<g)){if(Ka(h,r,rs,!qa),ua(h,0,!0)!==0)break t;h.timeoutHandle=mE(z0.bind(null,h,l,di,Uf,qp,r,rs,al,au,qa,v,2,-0,0),g);break t}z0(h,l,di,Uf,qp,r,rs,al,au,qa,v,0,-0,0)}}break}while(!0);rr(i)}function z0(i,r,l,h,g,v,C,P,z,et,ut,ft,it,st){if(i.timeoutHandle=-1,ft=r.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(zc={stylesheets:null,count:0,unsuspend:WI},D0(r),ft=YI(),ft!==null)){i.cancelPendingCommit=ft(W0.bind(null,i,r,v,l,h,g,C,P,z,ut,1,it,st)),Ka(i,v,C,!et);return}W0(i,r,v,l,h,g,C,P,z)}function fI(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!ti(v(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ka(i,r,l,h){r&=~Hp,r&=~al,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var v=31-yn(g),C=1<<v;h[v]=-1,g&=~C}l!==0&&qi(i,l,r)}function jf(){return(_e&6)===0?(Nc(0),!1):!0}function Yp(){if(Jt!==null){if(ve===0)var i=Jt.return;else i=Jt,Is=is=null,fp(i),eu=null,Sc=0,i=Jt;for(;i!==null;)v0(i.alternate,i),i=i.return;Jt=null}}function uu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,PI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Yp(),De=i,Jt=l=ns(i.current,null),le=r,ve=0,Ui=null,qa=!1,ru=wi(i,r),Fp=!1,au=rs=Hp=al=Ga=Ke=0,di=Mc=null,qp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-yn(h),v=1<<g;r|=i[g],h&=~v}return Gr=r,Ko(),l}function B0(i,r){Yt=null,ot.H=xf,r===pc||r===gf?(r=sT(),ve=3):r===eT?(r=sT(),ve=4):ve=r===r0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ui=r,Jt===null&&(Ke=1,Lf(i,ni(r,i.current)))}function F0(){var i=ot.H;return ot.H=xf,i===null?xf:i}function H0(){var i=ot.A;return ot.A=cI,i}function $p(){Ke=4,qa||(le&4194048)!==le&&ss.current!==null||(ru=!0),(Ga&134217727)===0&&(al&134217727)===0||De===null||Ka(De,le,rs,!1)}function Xp(i,r,l){var h=_e;_e|=2;var g=F0(),v=H0();(De!==i||le!==r)&&(Uf=null,uu(i,r)),r=!1;var C=Ke;t:do try{if(ve!==0&&Jt!==null){var P=Jt,z=Ui;switch(ve){case 8:Yp(),C=6;break t;case 3:case 2:case 9:case 6:ss.current===null&&(r=!0);var et=ve;if(ve=0,Ui=null,cu(i,P,z,et),l&&ru){C=0;break t}break;default:et=ve,ve=0,Ui=null,cu(i,P,z,et)}}dI(),C=Ke;break}catch(ut){B0(i,ut)}while(!0);return r&&i.shellSuspendCounter++,Is=is=null,_e=h,ot.H=g,ot.A=v,Jt===null&&(De=null,le=0,Ko()),C}function dI(){for(;Jt!==null;)q0(Jt)}function mI(i,r){var l=_e;_e|=2;var h=F0(),g=H0();De!==i||le!==r?(Uf=null,Vf=Un()+500,uu(i,r)):ru=wi(i,r);t:do try{if(ve!==0&&Jt!==null){r=Jt;var v=Ui;e:switch(ve){case 1:ve=0,Ui=null,cu(i,r,v,1);break;case 2:case 9:if(nT(v)){ve=0,Ui=null,G0(r);break}r=function(){ve!==2&&ve!==9||De!==i||(ve=7),rr(i)},v.then(r,r);break t;case 3:ve=7;break t;case 4:ve=5;break t;case 7:nT(v)?(ve=0,Ui=null,G0(r)):(ve=0,Ui=null,cu(i,r,v,7));break;case 5:var C=null;switch(Jt.tag){case 26:C=Jt.memoizedState;case 5:case 27:var P=Jt;if(!C||xE(C)){ve=0,Ui=null;var z=P.sibling;if(z!==null)Jt=z;else{var et=P.return;et!==null?(Jt=et,zf(et)):Jt=null}break e}}ve=0,Ui=null,cu(i,r,v,5);break;case 6:ve=0,Ui=null,cu(i,r,v,6);break;case 8:Yp(),Ke=6;break t;default:throw Error(s(462))}}pI();break}catch(ut){B0(i,ut)}while(!0);return Is=is=null,ot.H=h,ot.A=g,_e=l,Jt!==null?0:(De=null,le=0,Ko(),Ke)}function pI(){for(;Jt!==null&&!oa();)q0(Jt)}function q0(i){var r=y0(i.alternate,i,Gr);i.memoizedProps=i.pendingProps,r===null?zf(i):Jt=r}function G0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=h0(l,r,r.pendingProps,r.type,void 0,le);break;case 11:r=h0(l,r,r.pendingProps,r.type.render,r.ref,le);break;case 5:fp(r);default:v0(l,r),r=Jt=hc(r,Gr),r=y0(l,r,Gr)}i.memoizedProps=i.pendingProps,r===null?zf(i):Jt=r}function cu(i,r,l,h){Is=is=null,fp(r),eu=null,Sc=0;var g=r.return;try{if(sI(i,g,r,l,le)){Ke=1,Lf(i,ni(l,i.current)),Jt=null;return}}catch(v){if(g!==null)throw Jt=g,v;Ke=1,Lf(i,ni(l,i.current)),Jt=null;return}r.flags&32768?(Ht||h===1?i=!0:ru||(le&536870912)!==0?i=!1:(qa=i=!0,(h===2||h===9||h===3||h===6)&&(h=ss.current,h!==null&&h.tag===13&&(h.flags|=16384))),Z0(r,i)):zf(r)}function zf(i){var r=i;do{if((r.flags&32768)!==0){Z0(r,qa);return}i=r.return;var l=aI(r.alternate,r,Gr);if(l!==null){Jt=l;return}if(r=r.sibling,r!==null){Jt=r;return}Jt=r=i}while(r!==null);Ke===0&&(Ke=5)}function Z0(i,r){do{var l=oI(i.alternate,i);if(l!==null){l.flags&=32767,Jt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Jt=i;return}Jt=i=l}while(i!==null);Ke=6,Jt=null}function W0(i,r,l,h,g,v,C,P,z){i.cancelPendingCommit=null;do Bf();while(Dn!==0);if((_e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=Oi,Mo(i,l,v,C,P,z),i===De&&(Jt=De=null,le=0),ou=r,Wa=i,lu=l,Zp=v,Wp=g,V0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,vI(ps,function(){return Q0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=ot.T,ot.T=null,g=_t.p,_t.p=2,C=_e,_e|=4;try{lI(i,r,l)}finally{_e=C,_t.p=g,ot.T=h}}Dn=1,K0(),Y0(),$0()}}function K0(){if(Dn===1){Dn=0;var i=Wa,r=ou,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ot.T,ot.T=null;var h=_t.p;_t.p=2;var g=_e;_e|=4;try{P0(r,i);var v=ug,C=Go(i.containerInfo),P=v.focusedElem,z=v.selectionRange;if(C!==P&&P&&P.ownerDocument&&Bl(P.ownerDocument.documentElement,P)){if(z!==null&&Zo(P)){var et=z.start,ut=z.end;if(ut===void 0&&(ut=et),"selectionStart"in P)P.selectionStart=et,P.selectionEnd=Math.min(ut,P.value.length);else{var ft=P.ownerDocument||document,it=ft&&ft.defaultView||window;if(it.getSelection){var st=it.getSelection(),Bt=P.textContent.length,kt=Math.min(z.start,Bt),Ae=z.end===void 0?kt:Math.min(z.end,Bt);!st.extend&&kt>Ae&&(C=Ae,Ae=kt,kt=C);var $=uc(P,kt),K=uc(P,Ae);if($&&K&&(st.rangeCount!==1||st.anchorNode!==$.node||st.anchorOffset!==$.offset||st.focusNode!==K.node||st.focusOffset!==K.offset)){var tt=ft.createRange();tt.setStart($.node,$.offset),st.removeAllRanges(),kt>Ae?(st.addRange(tt),st.extend(K.node,K.offset)):(tt.setEnd(K.node,K.offset),st.addRange(tt))}}}}for(ft=[],st=P;st=st.parentNode;)st.nodeType===1&&ft.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ft.length;P++){var ct=ft[P];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Jf=!!lg,ug=lg=null}finally{_e=g,_t.p=h,ot.T=l}}i.current=r,Dn=2}}function Y0(){if(Dn===2){Dn=0;var i=Wa,r=ou,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ot.T,ot.T=null;var h=_t.p;_t.p=2;var g=_e;_e|=4;try{x0(i,r.alternate,r)}finally{_e=g,_t.p=h,ot.T=l}}Dn=3}}function $0(){if(Dn===4||Dn===3){Dn=0,xo();var i=Wa,r=ou,l=lu,h=V0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Dn=5:(Dn=0,ou=Wa=null,X0(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Za=null),ha(l),r=r.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(Ce,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=ot.T,g=_t.p,_t.p=2,ot.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var P=h[C];v(P.value,{componentStack:P.stack})}}finally{ot.T=r,_t.p=g}}(lu&3)!==0&&Bf(),rr(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Kp?Dc++:(Dc=0,Kp=i):Dc=0,Nc(0)}}function X0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,dc(r)))}function Bf(i){return K0(),Y0(),$0(),Q0()}function Q0(){if(Dn!==5)return!1;var i=Wa,r=Zp;Zp=0;var l=ha(lu),h=ot.T,g=_t.p;try{_t.p=32>l?32:l,ot.T=null,l=Wp,Wp=null;var v=Wa,C=lu;if(Dn=0,ou=Wa=null,lu=0,(_e&6)!==0)throw Error(s(331));var P=_e;if(_e|=4,O0(v.current),M0(v,v.current,C,l),_e=P,Nc(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(Ce,v)}catch{}return!0}finally{_t.p=g,ot.T=h,X0(i,r)}}function J0(i,r,l){r=ni(l,r),r=xp(i.stateNode,r,2),i=Va(i,r,2),i!==null&&(Hi(i,2),rr(i))}function Re(i,r,l){if(i.tag===3)J0(i,i,l);else for(;r!==null;){if(r.tag===3){J0(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Za===null||!Za.has(h))){i=ni(l,i),l=i0(2),h=Va(r,l,2),h!==null&&(s0(l,h,r,i),Hi(h,2),rr(h));break}}r=r.return}}function Qp(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new hI;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(Fp=!0,g.add(l),i=gI.bind(null,i,r,l),r.then(i,i))}function gI(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,De===i&&(le&l)===l&&(Ke===4||Ke===3&&(le&62914560)===le&&300>Un()-Gp?(_e&2)===0&&uu(i,0):Hp|=l,au===le&&(au=0)),rr(i)}function tE(i,r){r===0&&(r=ca()),i=La(i,r),i!==null&&(Hi(i,r),rr(i))}function yI(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),tE(i,l)}function _I(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),tE(i,l)}function vI(i,r){return ms(i,r)}var Ff=null,hu=null,Jp=!1,Hf=!1,tg=!1,ol=0;function rr(i){i!==hu&&i.next===null&&(hu===null?Ff=hu=i:hu=hu.next=i),Hf=!0,Jp||(Jp=!0,EI())}function Nc(i,r){if(!tg&&Hf){tg=!0;do for(var l=!1,h=Ff;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var C=h.suspendedLanes,P=h.pingedLanes;v=(1<<31-yn(42|i)+1)-1,v&=g&~(C&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,sE(h,v))}else v=le,v=ua(h,h===De?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||wi(h,v)||(l=!0,sE(h,v));h=h.next}while(l);tg=!1}}function TI(){eE()}function eE(){Hf=Jp=!1;var i=0;ol!==0&&(II()&&(i=ol),ol=0);for(var r=Un(),l=null,h=Ff;h!==null;){var g=h.next,v=nE(h,r);v===0?(h.next=null,l===null?Ff=g:l.next=g,g===null&&(hu=l)):(l=h,(i!==0||(v&3)!==0)&&(Hf=!0)),h=g}Nc(i)}function nE(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-yn(v),P=1<<C,z=g[C];z===-1?((P&l)===0||(P&h)!==0)&&(g[C]=Po(P,r)):z<=r&&(i.expiredLanes|=P),v&=~P}if(r=De,l=le,l=ua(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(ve===2||ve===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Tr(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||wi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Tr(h),ha(l)){case 2:case 8:l=Er;break;case 32:l=ps;break;case 268435456:l=wr;break;default:l=ps}return h=iE.bind(null,i),l=ms(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Tr(h),i.callbackPriority=2,i.callbackNode=null,2}function iE(i,r){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Bf()&&i.callbackNode!==l)return null;var h=le;return h=ua(i,i===De?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(j0(i,h,r),nE(i,Un()),i.callbackNode!=null&&i.callbackNode===l?iE.bind(null,i):null)}function sE(i,r){if(Bf())return null;j0(i,r,!0)}function EI(){LI(function(){(_e&6)!==0?ms(Ro,TI):eE()})}function eg(){return ol===0&&(ol=Lo()),ol}function rE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ys(""+i)}function aE(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function wI(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var v=rE((g[Ze]||null).action),C=h.submitter;C&&(r=(r=C[Ze]||null)?rE(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var P=new Ir("action","action",null,h,g);i.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ol!==0){var z=C?aE(g,C):new FormData(g);Ep(l,{pending:!0,data:z,method:g.method,action:v},null,z)}}else typeof v=="function"&&(P.preventDefault(),z=C?aE(g,C):new FormData(g),Ep(l,{pending:!0,data:z,method:g.method,action:v},v,z))},currentTarget:g}]})}}for(var ng=0;ng<Nr.length;ng++){var ig=Nr[ng],bI=ig.toLowerCase(),SI=ig[0].toUpperCase()+ig.slice(1);Ni(bI,"on"+SI)}Ni(of,"onAnimationEnd"),Ni(Di,"onAnimationIteration"),Ni(Wo,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni($m,"onTransitionRun"),Ni(Gl,"onTransitionStart"),Ni(Xm,"onTransitionCancel"),Ni(cc,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function oE(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var C=h.length-1;0<=C;C--){var P=h[C],z=P.instance,et=P.currentTarget;if(P=P.listener,z!==v&&g.isPropagationStopped())break t;v=P,g.currentTarget=et;try{v(g)}catch(ut){Pf(ut)}g.currentTarget=null,v=z}else for(C=0;C<h.length;C++){if(P=h[C],z=P.instance,et=P.currentTarget,P=P.listener,z!==v&&g.isPropagationStopped())break t;v=P,g.currentTarget=et;try{v(g)}catch(ut){Pf(ut)}g.currentTarget=null,v=z}}}}function te(i,r){var l=r[zn];l===void 0&&(l=r[zn]=new Set);var h=i+"__bubble";l.has(h)||(lE(r,i,2,!1),l.add(h))}function sg(i,r,l){var h=0;r&&(h|=4),lE(l,i,h,r)}var qf="_reactListening"+Math.random().toString(36).slice(2);function rg(i){if(!i[qf]){i[qf]=!0,Oo.forEach(function(l){l!=="selectionchange"&&(AI.has(l)||sg(l,!1,i),sg(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[qf]||(r[qf]=!0,sg("selectionchange",!1,r))}}function lE(i,r,l,h){switch(ME(r)){case 2:var g=QI;break;case 8:g=JI;break;default:g=vg}l=g.bind(null,r,l,i),g=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function ag(i,r,l,h,g){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var P=h.stateNode.containerInfo;if(P===g)break;if(C===4)for(C=h.return;C!==null;){var z=C.tag;if((z===3||z===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;P!==null;){if(C=bi(P),C===null)return;if(z=C.tag,z===5||z===6||z===26||z===27){h=v=C;continue t}P=P.parentNode}}h=h.return}Jn(function(){var et=v,ut=Ln(l),ft=[];t:{var it=lf.get(i);if(it!==void 0){var st=Ir,Bt=i;switch(i){case"keypress":if(we(l)===0)break t;case"keydown":case"keyup":st=wa;break;case"focusin":Bt="focus",st=ya;break;case"focusout":Bt="blur",st=ya;break;case"beforeblur":case"afterblur":st=ya;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Vl;break;case of:case Di:case Wo:st=va;break;case cc:st=Ul;break;case"scroll":case"scrollend":st=Ol;break;case"wheel":st=Mr;break;case"copy":case"cut":case"paste":st=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=ba;break;case"toggle":case"beforetoggle":st=Qi}var kt=(r&4)!==0,Ae=!kt&&(i==="scroll"||i==="scrollend"),$=kt?it!==null?it+"Capture":null:it;kt=[];for(var K=et,tt;K!==null;){var ct=K;if(tt=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||tt===null||$===null||(ct=oe(K,$),ct!=null&&kt.push(kc(K,ct,tt))),Ae)break;K=K.return}0<kt.length&&(it=new st(it,Bt,null,l,ut),ft.push({event:it,listeners:kt}))}}if((r&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",it&&l!==Ci&&(Bt=l.relatedTarget||l.fromElement)&&(bi(Bt)||Bt[oi]))break t;if((st||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,st?(Bt=l.relatedTarget||l.toElement,st=et,Bt=Bt?bi(Bt):null,Bt!==null&&(Ae=u(Bt),kt=Bt.tag,Bt!==Ae||kt!==5&&kt!==27&&kt!==6)&&(Bt=null)):(st=null,Bt=et),st!==Bt)){if(kt=En,ct="onMouseLeave",$="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(kt=ba,ct="onPointerLeave",$="onPointerEnter",K="pointer"),Ae=st==null?it:In(st),tt=Bt==null?it:In(Bt),it=new kt(ct,K+"leave",st,l,ut),it.target=Ae,it.relatedTarget=tt,ct=null,bi(ut)===et&&(kt=new kt($,K+"enter",Bt,l,ut),kt.target=tt,kt.relatedTarget=Ae,ct=kt),Ae=ct,st&&Bt)e:{for(kt=st,$=Bt,K=0,tt=kt;tt;tt=fu(tt))K++;for(tt=0,ct=$;ct;ct=fu(ct))tt++;for(;0<K-tt;)kt=fu(kt),K--;for(;0<tt-K;)$=fu($),tt--;for(;K--;){if(kt===$||$!==null&&kt===$.alternate)break e;kt=fu(kt),$=fu($)}kt=null}else kt=null;st!==null&&uE(ft,it,st,kt,!1),Bt!==null&&Ae!==null&&uE(ft,Ae,Bt,kt,!0)}}t:{if(it=et?In(et):window,st=it.nodeName&&it.nodeName.toLowerCase(),st==="select"||st==="input"&&it.type==="file")var Pt=Aa;else if(Le(it))if(ac)Pt=Ym;else{Pt=Km;var Qt=lc}else st=it.nodeName,!st||st.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&Cr(et.elementType)&&(Pt=Aa):Pt=Cs;if(Pt&&(Pt=Pt(i,et))){xs(ft,Pt,l,ut);break t}Qt&&Qt(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&xi(it,"number",it.value)}switch(Qt=et?In(et):window,i){case"focusin":(Le(Qt)||Qt.contentEditable==="true")&&(Mi=Qt,Ca=et,Dr=null);break;case"focusout":Dr=Ca=Mi=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,rf(ft,l,ut);break;case"selectionchange":if(Fl)break;case"keydown":case"keyup":rf(ft,l,ut)}var Dt;if(qn)t:{switch(i){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ee?at(i,l)&&(Vt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Vt="onCompositionStart");Vt&&(R&&l.locale!=="ko"&&(ee||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ee&&(Dt=ws()):(ui=ut,Fn="value"in ui?ui.value:ui.textContent,ee=!0)),Qt=Gf(et,Vt),0<Qt.length&&(Vt=new Hn(Vt,i,null,l,ut),ft.push({event:Vt,listeners:Qt}),Dt?Vt.data=Dt:(Dt=Tt(l),Dt!==null&&(Vt.data=Dt)))),(Dt=w?We(i,l):ne(i,l))&&(Vt=Gf(et,"onBeforeInput"),0<Vt.length&&(Qt=new Hn("onBeforeInput","beforeinput",null,l,ut),ft.push({event:Qt,listeners:Vt}),Qt.data=Dt)),wI(ft,i,et,l,ut)}oE(ft,r)})}function kc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Gf(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=oe(i,l),g!=null&&h.unshift(kc(i,g,v)),g=oe(i,r),g!=null&&h.push(kc(i,g,v))),i.tag===3)return h;i=i.return}return[]}function fu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function uE(i,r,l,h,g){for(var v=r._reactName,C=[];l!==null&&l!==h;){var P=l,z=P.alternate,et=P.stateNode;if(P=P.tag,z!==null&&z===h)break;P!==5&&P!==26&&P!==27||et===null||(z=et,g?(et=oe(l,v),et!=null&&C.unshift(kc(l,et,z))):g||(et=oe(l,v),et!=null&&C.push(kc(l,et,z)))),l=l.return}C.length!==0&&i.push({event:r,listeners:C})}var xI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function cE(i){return(typeof i=="string"?i:""+i).replace(xI,`
`).replace(RI,"")}function hE(i,r){return r=cE(r),cE(i)===r}function Zf(){}function Se(i,r,l,h,g,v){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||vn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&vn(i,""+h);break;case"className":Zi(i,"class",h);break;case"tabIndex":Zi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(i,l,h);break;case"style":Ts(i,h,v);break;case"data":if(r!=="object"){Zi(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ys(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Se(i,r,"name",g.name,g,null),Se(i,r,"formEncType",g.formEncType,g,null),Se(i,r,"formMethod",g.formMethod,g,null),Se(i,r,"formTarget",g.formTarget,g,null)):(Se(i,r,"encType",g.encType,g,null),Se(i,r,"method",g.method,g,null),Se(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ys(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Zf);break;case"onScroll":h!=null&&te("scroll",i);break;case"onScrollEnd":h!=null&&te("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ys(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":te("beforetoggle",i),te("toggle",i),Gs(i,"popover",h);break;case"xlinkActuate":fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":fn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":fn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":fn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":fn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Gs(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vo.get(l)||l,Gs(i,l,h))}}function og(i,r,l,h,g,v){switch(l){case"style":Ts(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?vn(i,h):(typeof h=="number"||typeof h=="bigint")&&vn(i,""+h);break;case"onScroll":h!=null&&te("scroll",i);break;case"onScrollEnd":h!=null&&te("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),v=i[Ze]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Gs(i,l,h)}}}function Nn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",i),te("load",i);var h=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Se(i,r,v,C,l,null)}}g&&Se(i,r,"srcSet",l.srcSet,l,null),h&&Se(i,r,"src",l.src,l,null);return;case"input":te("invalid",i);var P=v=C=g=null,z=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ut=l[h];if(ut!=null)switch(h){case"name":g=ut;break;case"type":C=ut;break;case"checked":z=ut;break;case"defaultChecked":et=ut;break;case"value":v=ut;break;case"defaultValue":P=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(s(137,r));break;default:Se(i,r,h,ut,l,null)}}Rr(i,v,P,z,et,C,g,!1),Ks(i);return;case"select":te("invalid",i),h=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(P=l[g],P!=null))switch(g){case"value":v=P;break;case"defaultValue":C=P;break;case"multiple":h=P;default:Se(i,r,g,P,l,null)}r=v,l=C,i.multiple=!!h,r!=null?Pn(i,!!h,r,!1):l!=null&&Pn(i,!!h,l,!0);return;case"textarea":te("invalid",i),v=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(P=l[C],P!=null))switch(C){case"value":h=P;break;case"defaultValue":g=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:Se(i,r,C,P,l,null)}Qn(i,h,g,v),Ks(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(h=l[z],h!=null))switch(z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Se(i,r,z,h,l,null)}return;case"dialog":te("beforetoggle",i),te("toggle",i),te("cancel",i),te("close",i);break;case"iframe":case"object":te("load",i);break;case"video":case"audio":for(h=0;h<Oc.length;h++)te(Oc[h],i);break;case"image":te("error",i),te("load",i);break;case"details":te("toggle",i);break;case"embed":case"source":case"link":te("error",i),te("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Se(i,r,et,h,l,null)}return;default:if(Cr(r)){for(ut in l)l.hasOwnProperty(ut)&&(h=l[ut],h!==void 0&&og(i,r,ut,h,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(h=l[P],h!=null&&Se(i,r,P,h,l,null))}function CI(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,P=null,z=null,et=null,ut=null;for(st in l){var ft=l[st];if(l.hasOwnProperty(st)&&ft!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":z=ft;default:h.hasOwnProperty(st)||Se(i,r,st,null,h,ft)}}for(var it in h){var st=h[it];if(ft=l[it],h.hasOwnProperty(it)&&(st!=null||ft!=null))switch(it){case"type":v=st;break;case"name":g=st;break;case"checked":et=st;break;case"defaultChecked":ut=st;break;case"value":C=st;break;case"defaultValue":P=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,r));break;default:st!==ft&&Se(i,r,it,st,h,ft)}}Pe(i,C,P,z,et,ut,v,g);return;case"select":st=C=P=it=null;for(v in l)if(z=l[v],l.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":st=z;default:h.hasOwnProperty(v)||Se(i,r,v,null,h,z)}for(g in h)if(v=h[g],z=l[g],h.hasOwnProperty(g)&&(v!=null||z!=null))switch(g){case"value":it=v;break;case"defaultValue":P=v;break;case"multiple":C=v;default:v!==z&&Se(i,r,g,v,h,z)}r=P,l=C,h=st,it!=null?Pn(i,!!l,it,!1):!!h!=!!l&&(r!=null?Pn(i,!!l,r,!0):Pn(i,!!l,l?[]:"",!1));return;case"textarea":st=it=null;for(P in l)if(g=l[P],l.hasOwnProperty(P)&&g!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Se(i,r,P,null,h,g)}for(C in h)if(g=h[C],v=l[C],h.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":it=g;break;case"defaultValue":st=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&Se(i,r,C,g,h,v)}Ut(i,it,st);return;case"option":for(var Bt in l)if(it=l[Bt],l.hasOwnProperty(Bt)&&it!=null&&!h.hasOwnProperty(Bt))switch(Bt){case"selected":i.selected=!1;break;default:Se(i,r,Bt,null,h,it)}for(z in h)if(it=h[z],st=l[z],h.hasOwnProperty(z)&&it!==st&&(it!=null||st!=null))switch(z){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Se(i,r,z,it,h,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in l)it=l[kt],l.hasOwnProperty(kt)&&it!=null&&!h.hasOwnProperty(kt)&&Se(i,r,kt,null,h,it);for(et in h)if(it=h[et],st=l[et],h.hasOwnProperty(et)&&it!==st&&(it!=null||st!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,r));break;default:Se(i,r,et,it,h,st)}return;default:if(Cr(r)){for(var Ae in l)it=l[Ae],l.hasOwnProperty(Ae)&&it!==void 0&&!h.hasOwnProperty(Ae)&&og(i,r,Ae,void 0,h,it);for(ut in h)it=h[ut],st=l[ut],!h.hasOwnProperty(ut)||it===st||it===void 0&&st===void 0||og(i,r,ut,it,h,st);return}}for(var $ in l)it=l[$],l.hasOwnProperty($)&&it!=null&&!h.hasOwnProperty($)&&Se(i,r,$,null,h,it);for(ft in h)it=h[ft],st=l[ft],!h.hasOwnProperty(ft)||it===st||it==null&&st==null||Se(i,r,ft,it,h,st)}var lg=null,ug=null;function Wf(i){return i.nodeType===9?i:i.ownerDocument}function fE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function cg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hg=null;function II(){var i=window.event;return i&&i.type==="popstate"?i===hg?!1:(hg=i,!0):(hg=null,!1)}var mE=typeof setTimeout=="function"?setTimeout:void 0,PI=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,LI=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(i){return pE.resolve(null).then(i).catch(MI)}:mE;function MI(i){setTimeout(function(){throw i})}function Ya(i){return i==="head"}function gE(i,r){var l=r,h=0,g=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&Vc(C.documentElement),l&2&&Vc(C.body),l&4)for(l=C.head,Vc(l),C=l.firstChild;C;){var P=C.nextSibling,z=C.nodeName;C[qs]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=P}}if(g===0){i.removeChild(v),Gc(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=v}while(l);Gc(r)}function fg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fg(l),_s(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function DI(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[qs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Ms(i.nextSibling),i===null)break}return null}function NI(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ms(i.nextSibling),i===null))return null;return i}function dg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function OI(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ms(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var mg=null;function yE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function _E(i,r,l){switch(r=Wf(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Vc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);_s(i)}var as=new Map,vE=new Set;function Kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zr=_t.d;_t.d={f:kI,r:VI,D:UI,C:jI,L:zI,m:BI,X:HI,S:FI,M:qI};function kI(){var i=Zr.f(),r=jf();return i||r}function VI(i){var r=Si(i);r!==null&&r.tag===5&&r.type==="form"?jT(r):Zr.r(i)}var du=typeof document>"u"?null:document;function TE(i,r,l){var h=du;if(h&&typeof r=="string"&&r){var g=ke(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),vE.has(g)||(vE.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Nn(r,"link",i),Be(r),h.head.appendChild(r)))}}function UI(i){Zr.D(i),TE("dns-prefetch",i,null)}function jI(i,r){Zr.C(i,r),TE("preconnect",i,r)}function zI(i,r,l){Zr.L(i,r,l);var h=du;if(h&&i&&r){var g='link[rel="preload"][as="'+ke(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ke(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ke(l.imageSizes)+'"]')):g+='[href="'+ke(i)+'"]';var v=g;switch(r){case"style":v=mu(i);break;case"script":v=pu(i)}as.has(v)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),as.set(v,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Uc(v))||r==="script"&&h.querySelector(jc(v))||(r=h.createElement("link"),Nn(r,"link",i),Be(r),h.head.appendChild(r)))}}function BI(i,r){Zr.m(i,r);var l=du;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+ke(h)+'"][href="'+ke(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=pu(i)}if(!as.has(v)&&(i=E({rel:"modulepreload",href:i},r),as.set(v,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jc(v)))return}h=l.createElement("link"),Nn(h,"link",i),Be(h),l.head.appendChild(h)}}}function FI(i,r,l){Zr.S(i,r,l);var h=du;if(h&&i){var g=_n(h).hoistableStyles,v=mu(i);r=r||"default";var C=g.get(v);if(!C){var P={loading:0,preload:null};if(C=h.querySelector(Uc(v)))P.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=as.get(v))&&pg(i,l);var z=C=h.createElement("link");Be(z),Nn(z,"link",i),z._p=new Promise(function(et,ut){z.onload=et,z.onerror=ut}),z.addEventListener("load",function(){P.loading|=1}),z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Yf(C,r,h)}C={type:"stylesheet",instance:C,count:1,state:P},g.set(v,C)}}}function HI(i,r){Zr.X(i,r);var l=du;if(l&&i){var h=_n(l).hoistableScripts,g=pu(i),v=h.get(g);v||(v=l.querySelector(jc(g)),v||(i=E({src:i,async:!0},r),(r=as.get(g))&&gg(i,r),v=l.createElement("script"),Be(v),Nn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function qI(i,r){Zr.M(i,r);var l=du;if(l&&i){var h=_n(l).hoistableScripts,g=pu(i),v=h.get(g);v||(v=l.querySelector(jc(g)),v||(i=E({src:i,async:!0,type:"module"},r),(r=as.get(g))&&gg(i,r),v=l.createElement("script"),Be(v),Nn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function EE(i,r,l,h){var g=(g=wt.current)?Kf(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=mu(l.href),l=_n(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=mu(l.href);var v=_n(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(Uc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),as.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},as.set(i,l),v||GI(g,i,l,C.state))),r&&h===null)throw Error(s(528,""));return C}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=pu(l),l=_n(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function mu(i){return'href="'+ke(i)+'"'}function Uc(i){return'link[rel="stylesheet"]['+i+"]"}function wE(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function GI(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Nn(r,"link",l),Be(r),i.head.appendChild(r))}function pu(i){return'[src="'+ke(i)+'"]'}function jc(i){return"script[async]"+i}function bE(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+ke(l.href)+'"]');if(h)return r.instance=h,Be(h),h;var g=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Be(h),Nn(h,"style",g),Yf(h,l.precedence,i),r.instance=h;case"stylesheet":g=mu(l.href);var v=i.querySelector(Uc(g));if(v)return r.state.loading|=4,r.instance=v,Be(v),v;h=wE(l),(g=as.get(g))&&pg(h,g),v=(i.ownerDocument||i).createElement("link"),Be(v);var C=v;return C._p=new Promise(function(P,z){C.onload=P,C.onerror=z}),Nn(v,"link",h),r.state.loading|=4,Yf(v,l.precedence,i),r.instance=v;case"script":return v=pu(l.src),(g=i.querySelector(jc(v)))?(r.instance=g,Be(g),g):(h=l,(g=as.get(v))&&(h=E({},l),gg(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Be(g),Nn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,Yf(h,l.precedence,i));return r.instance}function Yf(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,C=0;C<h.length;C++){var P=h[C];if(P.dataset.precedence===r)v=P;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function pg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function gg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var $f=null;function SE(i,r,l){if($f===null){var h=new Map,g=$f=new Map;g.set(l,h)}else g=$f,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[qs]||v[$e]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var P=h.get(C);P?P.push(v):h.set(C,[v])}}return h}function AE(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function ZI(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var zc=null;function WI(){}function KI(i,r,l){if(zc===null)throw Error(s(475));var h=zc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=mu(l.href),v=i.querySelector(Uc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Xf.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=v,Be(v);return}v=i.ownerDocument||i,l=wE(l),(g=as.get(g))&&pg(l,g),v=v.createElement("link"),Be(v);var C=v;C._p=new Promise(function(P,z){C.onload=P,C.onerror=z}),Nn(v,"link",l),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=Xf.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function YI(){if(zc===null)throw Error(s(475));var i=zc;return i.stylesheets&&i.count===0&&yg(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&yg(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Xf(){if(this.count--,this.count===0){if(this.stylesheets)yg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qf=null;function yg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qf=new Map,r.forEach($I,i),Qf=null,Xf.call(i))}function $I(i,r){if(!(r.state.loading&4)){var l=Qf.get(i);if(l)var h=l.get(null);else{l=new Map,Qf.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=r.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||h,v===h&&l.set(null,g),l.set(C,g),this.count++,h=Xf.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Bc={$$typeof:J,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function XI(i,r,l,h,g,v,C,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function RE(i,r,l,h,g,v,C,P,z,et,ut,ft){return i=new XI(i,r,l,C,P,z,et,ft),r=1,v===!0&&(r|=24),v=si(3,null,null,r),i.current=v,v.stateNode=i,r=Qm(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:r},np(v),i}function CE(i){return i?(i=Vr,i):Vr}function IE(i,r,l,h,g,v){g=CE(g),h.context===null?h.context=g:h.pendingContext=g,h=ka(r),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=Va(i,h,r),l!==null&&(zi(l,i,r),yc(l,i,r))}function PE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function _g(i,r){PE(i,r),(i=i.alternate)&&PE(i,r)}function LE(i){if(i.tag===13){var r=La(i,67108864);r!==null&&zi(r,i,67108864),_g(i,67108864)}}var Jf=!0;function QI(i,r,l,h){var g=ot.T;ot.T=null;var v=_t.p;try{_t.p=2,vg(i,r,l,h)}finally{_t.p=v,ot.T=g}}function JI(i,r,l,h){var g=ot.T;ot.T=null;var v=_t.p;try{_t.p=8,vg(i,r,l,h)}finally{_t.p=v,ot.T=g}}function vg(i,r,l,h){if(Jf){var g=Tg(h);if(g===null)ag(i,r,h,td,l),DE(i,h);else if(eP(g,i,r,l,h))h.stopPropagation();else if(DE(i,h),r&4&&-1<tP.indexOf(i)){for(;g!==null;){var v=Si(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=ai(v.pendingLanes);if(C!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var z=1<<31-yn(C);P.entanglements[1]|=z,C&=~z}rr(v),(_e&6)===0&&(Vf=Un()+500,Nc(0))}}break;case 13:P=La(v,2),P!==null&&zi(P,v,2),jf(),_g(v,2)}if(v=Tg(h),v===null&&ag(i,r,h,td,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else ag(i,r,h,null,l)}}function Tg(i){return i=Ln(i),Eg(i)}var td=null;function Eg(i){if(td=null,i=bi(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return td=i,null}function ME(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(la()){case Ro:return 2;case Er:return 8;case ps:case Pl:return 32;case wr:return 268435456;default:return 32}default:return 32}}var wg=!1,$a=null,Xa=null,Qa=null,Fc=new Map,Hc=new Map,Ja=[],tP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DE(i,r){switch(i){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Fc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(r.pointerId)}}function qc(i,r,l,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},r!==null&&(r=Si(r),r!==null&&LE(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function eP(i,r,l,h,g){switch(r){case"focusin":return $a=qc($a,i,r,l,h,g),!0;case"dragenter":return Xa=qc(Xa,i,r,l,h,g),!0;case"mouseover":return Qa=qc(Qa,i,r,l,h,g),!0;case"pointerover":var v=g.pointerId;return Fc.set(v,qc(Fc.get(v)||null,i,r,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Hc.set(v,qc(Hc.get(v)||null,i,r,l,h,g)),!0}return!1}function NE(i){var r=bi(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,fa(i.priority,function(){if(l.tag===13){var h=ji();h=Fs(h);var g=La(l,h);g!==null&&zi(g,l,h),_g(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ed(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Tg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ci=h,l.target.dispatchEvent(h),Ci=null}else return r=Si(l),r!==null&&LE(r),i.blockedOn=l,!1;r.shift()}return!0}function OE(i,r,l){ed(i)&&l.delete(r)}function nP(){wg=!1,$a!==null&&ed($a)&&($a=null),Xa!==null&&ed(Xa)&&(Xa=null),Qa!==null&&ed(Qa)&&(Qa=null),Fc.forEach(OE),Hc.forEach(OE)}function nd(i,r){i.blockedOn===r&&(i.blockedOn=null,wg||(wg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nP)))}var id=null;function kE(i){id!==i&&(id=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){id===i&&(id=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(Eg(h||l)===null)continue;break}var v=Si(l);v!==null&&(i.splice(r,3),r-=3,Ep(v,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Gc(i){function r(z){return nd(z,i)}$a!==null&&nd($a,i),Xa!==null&&nd(Xa,i),Qa!==null&&nd(Qa,i),Fc.forEach(r),Hc.forEach(r);for(var l=0;l<Ja.length;l++){var h=Ja[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ja.length&&(l=Ja[0],l.blockedOn===null);)NE(l),l.blockedOn===null&&Ja.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],v=l[h+1],C=g[Ze]||null;if(typeof v=="function")C||kE(l);else if(C){var P=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[Ze]||null)P=C.formAction;else if(Eg(g)!==null)continue}else P=C.action;typeof P=="function"?l[h+1]=P:(l.splice(h,3),h-=3),kE(l)}}}function bg(i){this._internalRoot=i}sd.prototype.render=bg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=ji();IE(l,h,i,r,null,null)},sd.prototype.unmount=bg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;IE(i.current,2,null,i,null,null),jf(),r[oi]=null}};function sd(i){this._internalRoot=i}sd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Hs();i={blockedOn:null,target:i,priority:r};for(var l=0;l<Ja.length&&r!==0&&r<Ja[l].priority;l++);Ja.splice(l,0,i),l===0&&NE(i)}};var VE=t.version;if(VE!=="19.1.0")throw Error(s(527,VE,"19.1.0"));_t.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var iP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ot,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{Ce=rd.inject(iP),ce=rd}catch{}}return Wc.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=JT,v=t0,C=e0,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=RE(i,1,!1,null,null,l,h,g,v,C,P,null),i[oi]=r.current,rg(i),new bg(r)},Wc.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",v=JT,C=t0,P=e0,z=null,et=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(et=l.formState)),r=RE(i,1,!0,r,l??null,h,g,v,C,P,z,et),r.context=CE(null),l=r.current,h=ji(),h=Fs(h),g=ka(h),g.callback=null,Va(l,g,h),l=h,r.current.lanes=l,Hi(r,l),rr(r),i[oi]=r.current,rg(i),new sd(r)},Wc.version="19.1.0",Wc}var WE;function fP(){if(WE)return xg.exports;WE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xg.exports=hP(),xg.exports}var dP=fP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KE="popstate";function mP(e={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return ay("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Eh(o)}return gP(t,n,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pP(){return Math.random().toString(36).substring(2,10)}function YE(e,t){return{usr:e.state,key:e.key,idx:t}}function ay(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qu(t):t,state:n,key:t&&t.key||s||pP()}}function Eh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function gP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,_=E();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let W=E(),Z=W==null?null:W-_;_=W,y&&y({action:m,location:F.location,delta:Z})}function x(W,Z){m="PUSH";let nt=ay(F.location,W,Z);_=E()+1;let J=YE(nt,_),Et=F.createHref(nt);try{f.pushState(J,"",Et)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;o.location.assign(Et)}u&&y&&y({action:m,location:F.location,delta:1})}function D(W,Z){m="REPLACE";let nt=ay(F.location,W,Z);_=E();let J=YE(nt,_),Et=F.createHref(nt);f.replaceState(J,"",Et),u&&y&&y({action:m,location:F.location,delta:0})}function U(W){return yP(W)}let F={get action(){return m},get location(){return e(o,f)},listen(W){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(KE,A),y=W,()=>{o.removeEventListener(KE,A),y=null}},createHref(W){return t(o,W)},createURL:U,encodeLocation(W){let Z=U(W);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:x,replace:D,go(W){return f.go(W)}};return F}function yP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Eh(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function oA(e,t,n="/"){return _P(e,t,n,!1)}function _P(e,t,n,s){let o=typeof t=="string"?qu(t):t,u=ea(o.pathname||"/",n);if(u==null)return null;let f=lA(e);vP(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=PP(u);m=CP(f[y],_,s)}return m}function lA(e,t=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(ze(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let _=Xr([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),lA(u.children,t,E,_)),!(u.path==null&&!u.index)&&t.push({path:_,score:xP(_,u.index),routesMeta:E})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of uA(u.path))o(u,f,m)}),t}function uA(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=uA(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function vP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:RP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TP=/^:[\w-]+$/,EP=3,wP=2,bP=1,SP=10,AP=-2,$E=e=>e==="*";function xP(e,t){let n=e.split("/"),s=n.length;return n.some($E)&&(s+=AP),t&&(s+=wP),n.filter(o=>!$E(o)).reduce((o,u)=>o+(TP.test(u)?EP:u===""?bP:SP),s)}function RP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function CP(e,t,n=!1){let{routesMeta:s}=e,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Fd({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},E),x=y.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=Fd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Xr([u,A.pathname]),pathnameBase:NP(Xr([u,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(u=Xr([u,A.pathnameBase]))}return f}function Fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=IP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:A},x)=>{if(E==="*"){let U=m[x]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const D=m[x];return A&&!D?_[E]=void 0:_[E]=(D||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:e}}function IP(e,t=!1,n=!0){hs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function PP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function LP(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?qu(e):e;return{pathname:n?n.startsWith("/")?n:MP(n,t):t,search:OP(s),hash:kP(o)}}function MP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r_(e){let t=DP(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function a_(e,t,n,s=!1){let o;typeof e=="string"?o=qu(e):(o={...e},ze(!o.pathname||!o.pathname.includes("?"),Pg("?","pathname","search",o)),ze(!o.pathname||!o.pathname.includes("#"),Pg("#","pathname","hash",o)),ze(!o.search||!o.search.includes("#"),Pg("#","search","hash",o)));let u=e===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}m=A>=0?t[A]:"/"}let y=LP(o,m),_=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||E)&&(y.pathname+="/"),y}var Xr=e=>e.join("/").replace(/\/\/+/g,"/"),NP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var cA=["POST","PUT","PATCH","DELETE"];new Set(cA);var UP=["GET",...cA];new Set(UP);var Gu=k.createContext(null);Gu.displayName="DataRouter";var gm=k.createContext(null);gm.displayName="DataRouterState";k.createContext(!1);var hA=k.createContext({isTransitioning:!1});hA.displayName="ViewTransition";var jP=k.createContext(new Map);jP.displayName="Fetchers";var zP=k.createContext(null);zP.displayName="Await";var zs=k.createContext(null);zs.displayName="Navigation";var Uh=k.createContext(null);Uh.displayName="Location";var _r=k.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var o_=k.createContext(null);o_.displayName="RouteError";function BP(e,{relative:t}={}){ze(Zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(zs),{hash:o,pathname:u,search:f}=jh(e,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Xr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Zu(){return k.useContext(Uh)!=null}function ds(){return ze(Zu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Uh).location}var fA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dA(e){k.useContext(zs).static||k.useLayoutEffect(e)}function Eo(){let{isDataRoute:e}=k.useContext(_r);return e?tL():FP()}function FP(){ze(Zu(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Gu),{basename:t,navigator:n}=k.useContext(zs),{matches:s}=k.useContext(_r),{pathname:o}=ds(),u=JSON.stringify(r_(s)),f=k.useRef(!1);return dA(()=>{f.current=!0}),k.useCallback((y,_={})=>{if(hs(f.current,fA),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=a_(y,JSON.parse(u),o,_.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Xr([t,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[t,n,u,o,e])}k.createContext(null);function jh(e,{relative:t}={}){let{matches:n}=k.useContext(_r),{pathname:s}=ds(),o=JSON.stringify(r_(n));return k.useMemo(()=>a_(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function HP(e,t){return mA(e,t)}function mA(e,t,n,s){ze(Zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(zs),{matches:u}=k.useContext(_r),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let Z=E&&E.path||"";pA(y,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=ds(),x;if(t){let Z=typeof t=="string"?qu(t):t;ze(_==="/"||Z.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),x=Z}else x=A;let D=x.pathname||"/",U=D;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");U="/"+D.replace(/^\//,"").split("/").slice(Z.length).join("/")}let F=oA(e,{pathname:U});hs(E||F!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),hs(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=KP(F&&F.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:Xr([_,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:Xr([_,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,s);return t&&W?k.createElement(Uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function qP(){let e=JP(),t=VP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:o},n):null,f)}var GP=k.createElement(qP,null),ZP=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?k.createElement(_r.Provider,{value:this.props.routeContext},k.createElement(o_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WP({routeContext:e,match:t,children:n}){let s=k.useContext(Gu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(_r.Provider,{value:e},n)}function KP(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:A}=n,x=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,_,E)=>{let A,x=!1,D=null,U=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,D=_.route.errorElement||GP,f&&(m<0&&E===0?(pA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,U=null):m===E&&(x=!0,U=_.route.hydrateFallbackElement||null)));let F=t.concat(o.slice(0,E+1)),W=()=>{let Z;return A?Z=D:x?Z=U:_.route.Component?Z=k.createElement(_.route.Component,null):_.route.element?Z=_.route.element:Z=y,k.createElement(WP,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:Z})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?k.createElement(ZP,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:W(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):W()},null)}function l_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YP(e){let t=k.useContext(Gu);return ze(t,l_(e)),t}function $P(e){let t=k.useContext(gm);return ze(t,l_(e)),t}function XP(e){let t=k.useContext(_r);return ze(t,l_(e)),t}function u_(e){let t=XP(e),n=t.matches[t.matches.length-1];return ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function QP(){return u_("useRouteId")}function JP(){let e=k.useContext(o_),t=$P("useRouteError"),n=u_("useRouteError");return e!==void 0?e:t.errors?.[n]}function tL(){let{router:e}=YP("useNavigate"),t=u_("useNavigate"),n=k.useRef(!1);return dA(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{hs(n.current,fA),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var XE={};function pA(e,t,n){!t&&!XE[e]&&(XE[e]=!0,hs(!1,n))}k.memo(eL);function eL({routes:e,future:t,state:n}){return mA(e,void 0,n,t)}function QE({to:e,replace:t,state:n,relative:s}){ze(Zu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(zs);hs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(_r),{pathname:f}=ds(),m=Eo(),y=a_(e,r_(u),f,s==="path"),_=JSON.stringify(y);return k.useEffect(()=>{m(JSON.parse(_),{replace:t,state:n,relative:s})},[m,_,s,t,n]),null}function Wr(e){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nL({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ze(!Zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=qu(n));let{pathname:y="/",search:_="",hash:E="",state:A=null,key:x="default"}=n,D=k.useMemo(()=>{let U=ea(y,f);return U==null?null:{location:{pathname:U,search:_,hash:E,state:A,key:x},navigationType:s}},[f,y,_,E,A,x,s]);return hs(D!=null,`<Router basename="${f}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:k.createElement(zs.Provider,{value:m},k.createElement(Uh.Provider,{children:t,value:D}))}function iL({children:e,location:t}){return HP(oy(e),t)}function oy(e,t=[]){let n=[];return k.Children.forEach(e,(s,o)=>{if(!k.isValidElement(s))return;let u=[...t,o];if(s.type===k.Fragment){n.push.apply(n,oy(s.props.children,u));return}ze(s.type===Wr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=oy(s.props.children,u)),n.push(f)}),n}var wd="get",bd="application/x-www-form-urlencoded";function ym(e){return e!=null&&typeof e.tagName=="string"}function sL(e){return ym(e)&&e.tagName.toLowerCase()==="button"}function rL(e){return ym(e)&&e.tagName.toLowerCase()==="form"}function aL(e){return ym(e)&&e.tagName.toLowerCase()==="input"}function oL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lL(e,t){return e.button===0&&(!t||t==="_self")&&!oL(e)}function ly(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function uL(e,t){let n=ly(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ad=null;function cL(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var hL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(e){return e!=null&&!hL.has(e)?(hs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bd}"`),null):e}function fL(e,t){let n,s,o,u,f;if(rL(e)){let m=e.getAttribute("action");s=m?ea(m,t):null,n=e.getAttribute("method")||wd,o=Lg(e.getAttribute("enctype"))||bd,u=new FormData(e)}else if(sL(e)||aL(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(s=y?ea(y,t):null,n=e.getAttribute("formmethod")||m.getAttribute("method")||wd,o=Lg(e.getAttribute("formenctype"))||Lg(m.getAttribute("enctype"))||bd,u=new FormData(m,e),!cL()){let{name:_,type:E,value:A}=e;if(E==="image"){let x=_?`${_}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else _&&u.append(_,A)}}else{if(ym(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wd,s=null,o=bd,f=e}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dL(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ea(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mL(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gL(e,t,n){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await mL(u,n);return f.links?f.links():[]}return[]}));return TL(s.flat(1).filter(pL).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function JE(e,t,n,s,o,u){let f=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,m=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,_)=>f(y,_)||m(y,_)):u==="data"?t.filter((y,_)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,_)||m(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function yL(e,t,{includeHydrateFallback:n}={}){return _L(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _L(e){return[...new Set(e)]}function vL(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function TL(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(vL(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function gA(){let e=k.useContext(Gu);return c_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function EL(){let e=k.useContext(gm);return c_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var h_=k.createContext(void 0);h_.displayName="FrameworkContext";function yA(){let e=k.useContext(h_);return c_(e,"You must render this element inside a <HydratedRouter> element"),e}function wL(e,t){let n=k.useContext(h_),[s,o]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:_,onMouseLeave:E,onTouchStart:A}=t,x=k.useRef(null);k.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let F=Z=>{Z.forEach(nt=>{f(nt.isIntersecting)})},W=new IntersectionObserver(F,{threshold:.5});return x.current&&W.observe(x.current),()=>{W.disconnect()}}},[e]),k.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let D=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?e!=="intent"?[u,x,{}]:[u,x,{onFocus:Kc(m,D),onBlur:Kc(y,U),onMouseEnter:Kc(_,D),onMouseLeave:Kc(E,U),onTouchStart:Kc(A,D)}]:[!1,x,{}]}function Kc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function bL({page:e,...t}){let{router:n}=gA(),s=k.useMemo(()=>oA(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?k.createElement(AL,{page:e,matches:s,...t}):null}function SL(e){let{manifest:t,routeModules:n}=yA(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return gL(e,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[e,t,n]),s}function AL({page:e,matches:t,...n}){let s=ds(),{manifest:o,routeModules:u}=yA(),{basename:f}=gA(),{loaderData:m,matches:y}=EL(),_=k.useMemo(()=>JE(e,t,y,o,s,"data"),[e,t,y,o,s]),E=k.useMemo(()=>JE(e,t,y,o,s,"assets"),[e,t,y,o,s]),A=k.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let U=new Set,F=!1;if(t.forEach(Z=>{let nt=o.routes[Z.route.id];!nt||!nt.hasLoader||(!_.some(J=>J.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||nt.hasClientLoader?F=!0:U.add(Z.route.id))}),U.size===0)return[];let W=dL(e,f,"data");return F&&U.size>0&&W.searchParams.set("_routes",t.filter(Z=>U.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[W.pathname+W.search]},[f,m,s,o,_,t,e,u]),x=k.useMemo(()=>yL(E,o),[E,o]),D=SL(E);return k.createElement(k.Fragment,null,A.map(U=>k.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),x.map(U=>k.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),D.map(({key:U,link:F})=>k.createElement("link",{key:U,...F})))}function xL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_A&&(window.__reactRouterVersion="7.7.0")}catch{}function RL({basename:e,children:t,window:n}){let s=k.useRef();s.current==null&&(s.current=mP({window:n,v5Compat:!0}));let o=s.current,[u,f]=k.useState({action:o.action,location:o.location}),m=k.useCallback(y=>{k.startTransition(()=>f(y))},[f]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(nL,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var vA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lh=k.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:_,preventScrollReset:E,viewTransition:A,...x},D){let{basename:U}=k.useContext(zs),F=typeof _=="string"&&vA.test(_),W,Z=!1;if(typeof _=="string"&&F&&(W=_,_A))try{let V=new URL(window.location.href),q=_.startsWith("//")?new URL(V.protocol+_):new URL(_),G=ea(q.pathname,U);q.origin===V.origin&&G!=null?_=G+q.search+q.hash:Z=!0}catch{hs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=BP(_,{relative:o}),[J,Et,mt]=wL(s,x),At=LL(_,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A});function H(V){t&&t(V),V.defaultPrevented||At(V)}let N=k.createElement("a",{...x,...mt,href:W||nt,onClick:Z||u?t:H,ref:xL(D,Et),target:y,"data-discover":!F&&n==="render"?"true":void 0});return J&&!F?k.createElement(k.Fragment,null,N,k.createElement(bL,{page:nt})):N});lh.displayName="Link";var CL=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,..._},E){let A=jh(f,{relative:_.relative}),x=ds(),D=k.useContext(gm),{navigator:U,basename:F}=k.useContext(zs),W=D!=null&&VL(A)&&m===!0,Z=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,nt=x.pathname,J=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(nt=nt.toLowerCase(),J=J?J.toLowerCase():null,Z=Z.toLowerCase()),J&&F&&(J=ea(J,F)||J);const Et=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let mt=nt===Z||!o&&nt.startsWith(Z)&&nt.charAt(Et)==="/",At=J!=null&&(J===Z||!o&&J.startsWith(Z)&&J.charAt(Z.length)==="/"),H={isActive:mt,isPending:At,isTransitioning:W},N=mt?t:void 0,V;typeof s=="function"?V=s(H):V=[s,mt?"active":null,At?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let q=typeof u=="function"?u(H):u;return k.createElement(lh,{..._,"aria-current":N,className:V,ref:E,style:q,to:f,viewTransition:m},typeof y=="function"?y(H):y)});CL.displayName="NavLink";var IL=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=wd,action:m,onSubmit:y,relative:_,preventScrollReset:E,viewTransition:A,...x},D)=>{let U=OL(),F=kL(m,{relative:_}),W=f.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&vA.test(m),nt=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let Et=J.nativeEvent.submitter,mt=Et?.getAttribute("formmethod")||f;U(Et||J.currentTarget,{fetcherKey:t,method:mt,navigate:n,replace:o,state:u,relative:_,preventScrollReset:E,viewTransition:A})};return k.createElement("form",{ref:D,method:W,action:F,onSubmit:s?y:nt,...x,"data-discover":!Z&&e==="render"?"true":void 0})});IL.displayName="Form";function PL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(e){let t=k.useContext(Gu);return ze(t,PL(e)),t}function LL(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Eo(),y=ds(),_=jh(e,{relative:u});return k.useCallback(E=>{if(lL(E,t)){E.preventDefault();let A=n!==void 0?n:Eh(y)===Eh(_);m(e,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,_,n,s,t,e,o,u,f])}function ML(e){hs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(ly(e)),n=k.useRef(!1),s=ds(),o=k.useMemo(()=>uL(s.search,n.current?null:t.current),[s.search]),u=Eo(),f=k.useCallback((m,y)=>{const _=ly(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+_,y)},[u,o]);return[o,f]}var DL=0,NL=()=>`__${String(++DL)}__`;function OL(){let{router:e}=TA("useSubmit"),{basename:t}=k.useContext(zs),n=QP();return k.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:_}=fL(s,t);if(o.navigate===!1){let E=o.fetcherKey||NL();await e.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function kL(e,{relative:t}={}){let{basename:n}=k.useContext(zs),s=k.useContext(_r);ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...jh(e||".",{relative:t})},f=ds();if(e==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xr([n,u.pathname])),Eh(u)}function VL(e,t={}){let n=k.useContext(hA);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=TA("useViewTransitionState"),o=jh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ea(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ea(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fd(o.pathname,f)!=null||Fd(o.pathname,u)!=null}aA();const UL=()=>{};var tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},jL=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],f=e[n++],m=e[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},wA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,m=f?e[o+1]:0,y=o+2<e.length,_=y?e[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let x=(m&15)<<2|_>>6,D=_&63;y||(D=64,f||(x=64)),s.push(n[E],n[A],n[x],n[D])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(EA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):jL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const _=o<e.length?n[e.charAt(o)]:64;++o;const A=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||_==null||A==null)throw new zL;const x=u<<2|m>>4;if(s.push(x),_!==64){const D=m<<4&240|_>>2;if(s.push(D),A!==64){const U=_<<6&192|A;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BL=function(e){const t=EA(e);return wA.encodeByteArray(t,!0)},Hd=function(e){return BL(e).replace(/\./g,"")},bA=function(e){try{return wA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=()=>FL().__FIREBASE_DEFAULTS__,qL=()=>{if(typeof process>"u"||typeof tw>"u")return;const e=tw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},GL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bA(e[1]);return t&&JSON.parse(t)},_m=()=>{try{return UL()||HL()||qL()||GL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},SA=e=>_m()?.emulatorHosts?.[e],AA=e=>{const t=SA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},xA=()=>_m()?.config,RA=e=>_m()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f_(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Hd(JSON.stringify(n)),Hd(JSON.stringify(f)),""].join(".")}const uh={};function KL(){const e={prod:[],emulator:[]};for(const t of Object.keys(uh))uh[t]?e.emulator.push(t):e.prod.push(t);return e}function YL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ew=!1;function d_(e,t){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||uh[e]===t||uh[e]||ew)return;uh[e]=t;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=KL().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,D){x.setAttribute("width","24"),x.setAttribute("id",D),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{ew=!0,f()},x}function E(x,D){x.setAttribute("id",D),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=YL(s),D=n("text"),U=document.getElementById(D)||document.createElement("span"),F=n("learnmore"),W=document.getElementById(F)||document.createElement("a"),Z=n("preprendIcon"),nt=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const J=x.element;m(J),E(W,F);const Et=_();y(nt,Z),J.append(nt,U,W,Et),document.body.appendChild(J)}u?(U.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $L(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function XL(){const e=_m()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eM(){const e=Xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nM(){return!XL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iM(){try{return typeof indexedDB=="object"}catch{return!1}}function sM(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="FirebaseError";class vr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=rM,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zh.prototype.create)}}class zh{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?aM(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new vr(o,m,s)}}function aM(e,t){return e.replace(oM,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const oM=/\{\$([^}]+)}/g;function lM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _l(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],f=t[o];if(nw(u)&&nw(f)){if(!_l(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nw(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function th(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function eh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function uM(e,t){const n=new cM(e,t);return n.subscribe.bind(n)}class cM{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hM(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Mg),o.error===void 0&&(o.error=Mg),o.complete===void 0&&(o.complete=Mg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Mg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e){return e&&e._delegate?e._delegate:e}class fo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ZL;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mM(t))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ul){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ul){return this.instances.has(t)}getOptions(t=ul){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dM(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ul){return this.component?this.component.multipleInstances?t:ul:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dM(e){return e===ul?void 0:e}function mM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ie||(ie={}));const gM={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},yM=ie.INFO,_M={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},vM=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=_M[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class m_{constructor(t){this.name=t,this._logLevel=yM,this._logHandler=vM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const TM=(e,t)=>t.some(n=>e instanceof n);let iw,sw;function EM(){return iw||(iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wM(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CA=new WeakMap,uy=new WeakMap,IA=new WeakMap,Dg=new WeakMap,p_=new WeakMap;function bM(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(oo(e.result)),o()},f=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&CA.set(n,e)}).catch(()=>{}),p_.set(t,e),t}function SM(e){if(uy.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});uy.set(e,t)}let cy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return uy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||IA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function AM(e){cy=e(cy)}function xM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Ng(this),t,...n);return IA.set(s,t.sort?t.sort():[t]),oo(s)}:wM().includes(e)?function(...t){return e.apply(Ng(this),t),oo(CA.get(this))}:function(...t){return oo(e.apply(Ng(this),t))}}function RM(e){return typeof e=="function"?xM(e):(e instanceof IDBTransaction&&SM(e),TM(e,EM())?new Proxy(e,cy):e)}function oo(e){if(e instanceof IDBRequest)return bM(e);if(Dg.has(e))return Dg.get(e);const t=RM(e);return t!==e&&(Dg.set(e,t),p_.set(t,e)),t}const Ng=e=>p_.get(e);function CM(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),m=oo(f);return s&&f.addEventListener("upgradeneeded",y=>{s(oo(f.result),y.oldVersion,y.newVersion,oo(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const IM=["get","getKey","getAll","getAllKeys","count"],PM=["put","add","delete","clear"],Og=new Map;function rw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Og.get(t))return Og.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=PM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||IM.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&y.done]))[0]};return Og.set(t,u),u}AM(e=>({...e,get:(t,n,s)=>rw(t,n)||e.get(t,n,s),has:(t,n)=>!!rw(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function MM(e){return e.getComponent()?.type==="VERSION"}const hy="@firebase/app",aw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new m_("@firebase/app"),DM="@firebase/app-compat",NM="@firebase/analytics-compat",OM="@firebase/analytics",kM="@firebase/app-check-compat",VM="@firebase/app-check",UM="@firebase/auth",jM="@firebase/auth-compat",zM="@firebase/database",BM="@firebase/data-connect",FM="@firebase/database-compat",HM="@firebase/functions",qM="@firebase/functions-compat",GM="@firebase/installations",ZM="@firebase/installations-compat",WM="@firebase/messaging",KM="@firebase/messaging-compat",YM="@firebase/performance",$M="@firebase/performance-compat",XM="@firebase/remote-config",QM="@firebase/remote-config-compat",JM="@firebase/storage",tD="@firebase/storage-compat",eD="@firebase/firestore",nD="@firebase/ai",iD="@firebase/firestore-compat",sD="firebase",rD="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",aD={[hy]:"fire-core",[DM]:"fire-core-compat",[OM]:"fire-analytics",[NM]:"fire-analytics-compat",[VM]:"fire-app-check",[kM]:"fire-app-check-compat",[UM]:"fire-auth",[jM]:"fire-auth-compat",[zM]:"fire-rtdb",[BM]:"fire-data-connect",[FM]:"fire-rtdb-compat",[HM]:"fire-fn",[qM]:"fire-fn-compat",[GM]:"fire-iid",[ZM]:"fire-iid-compat",[WM]:"fire-fcm",[KM]:"fire-fcm-compat",[YM]:"fire-perf",[$M]:"fire-perf-compat",[XM]:"fire-rc",[QM]:"fire-rc-compat",[JM]:"fire-gcs",[tD]:"fire-gcs-compat",[eD]:"fire-fst",[iD]:"fire-fst-compat",[nD]:"fire-vertex","fire-js":"fire-js",[sD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,oD=new Map,dy=new Map;function ow(e,t){try{e.container.addComponent(t)}catch(n){na.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function vl(e){const t=e.name;if(dy.has(t))return na.debug(`There were multiple attempts to register component ${t}.`),!1;dy.set(t,e);for(const n of qd.values())ow(n,e);for(const n of oD.values())ow(n,e);return!0}function vm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new zh("app","Firebase",lD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=rD;function PA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:fy,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw lo.create("bad-app-name",{appName:String(o)});if(n||(n=xA()),!n)throw lo.create("no-options");const u=qd.get(o);if(u){if(_l(n,u.options)&&_l(s,u.config))return u;throw lo.create("duplicate-app",{appName:o})}const f=new pM(o);for(const y of dy.values())f.addComponent(y);const m=new uD(n,s,f);return qd.set(o,m),m}function g_(e=fy){const t=qd.get(e);if(!t&&e===fy&&xA())return PA();if(!t)throw lo.create("no-app",{appName:e});return t}function or(e,t,n){let s=aD[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),na.warn(f.join(" "));return}vl(new fo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="firebase-heartbeat-database",hD=1,wh="firebase-heartbeat-store";let kg=null;function LA(){return kg||(kg=CM(cD,hD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(wh)}catch(n){console.warn(n)}}}}).catch(e=>{throw lo.create("idb-open",{originalErrorMessage:e.message})})),kg}async function fD(e){try{const n=(await LA()).transaction(wh),s=await n.objectStore(wh).get(MA(e));return await n.done,s}catch(t){if(t instanceof vr)na.warn(t.message);else{const n=lo.create("idb-get",{originalErrorMessage:t?.message});na.warn(n.message)}}}async function lw(e,t){try{const s=(await LA()).transaction(wh,"readwrite");await s.objectStore(wh).put(t,MA(e)),await s.done}catch(n){if(n instanceof vr)na.warn(n.message);else{const s=lo.create("idb-set",{originalErrorMessage:n?.message});na.warn(s.message)}}}function MA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1024,mD=30;class pD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mD){const o=_D(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){na.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uw(),{heartbeatsToSend:n,unsentEntries:s}=gD(this._heartbeatsCache.heartbeats),o=Hd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return na.warn(t),""}}}function uw(){return new Date().toISOString().substring(0,10)}function gD(e,t=dD){const n=[];let s=e.slice();for(const o of e){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cw(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cw(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iM()?sM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function cw(e){return Hd(JSON.stringify({version:2,heartbeats:e})).length}function _D(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(e){vl(new fo("platform-logger",t=>new LM(t),"PRIVATE")),vl(new fo("heartbeat",t=>new pD(t),"PRIVATE")),or(hy,aw,e),or(hy,aw,"esm2020"),or("fire-js","")}vD("");var TD="firebase",ED="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(TD,ED,"app");function DA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wD=DA,NA=new zh("auth","Firebase",DA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new m_("@firebase/auth");function bD(e,...t){Gd.logLevel<=ie.WARN&&Gd.warn(`Auth (${Wu}): ${e}`,...t)}function Sd(e,...t){Gd.logLevel<=ie.ERROR&&Gd.error(`Auth (${Wu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(e,...t){throw __(e,...t)}function Vs(e,...t){return __(e,...t)}function y_(e,t,n){const s={...wD(),[t]:n};return new zh("auth","Firebase",s).create(t,{appName:e.name})}function Qr(e){return y_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SD(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&fs(e,"argument-error"),y_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function __(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return NA.create(e,...t)}function jt(e,t,...n){if(!e)throw __(t,...n)}function Yr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sd(t),new Error(t)}function ia(e,t){e||Yr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){return typeof self<"u"&&self.location?.href||""}function AD(){return hw()==="http:"||hw()==="https:"}function hw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AD()||JL()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n){this.shortDelay=t,this.longDelay=n,ia(n>t,"Short delay should be less than long delay!"),this.isMobile=$L()||tM()}get(){return xD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(e,t){ia(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PD=new Fh(3e4,6e4);function wo(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function bo(e,t,n,s,o={}){return kA(e,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Bh({key:e.config.apiKey,...f}).slice(1),y=await e._getAdditionalHeaders();y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode);const _={method:t,headers:y,...u};return QL()||(_.referrerPolicy="no-referrer"),e.emulatorConfig&&Al(e.emulatorConfig.host)&&(_.credentials="include"),OA.fetch()(await VA(e,e.config.apiHost,n,m),_)})}async function kA(e,t,n){e._canInitEmulator=!1;const s={...CD,...t};try{const o=new MD(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw od(e,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(e,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw od(e,"email-already-in-use",f);if(y==="USER_DISABLED")throw od(e,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw y_(e,E,_);fs(e,E)}}catch(o){if(o instanceof vr)throw o;fs(e,"network-request-failed",{message:String(o)})}}async function Hh(e,t,n,s,o={}){const u=await bo(e,t,n,s,o);return"mfaPendingCredential"in u&&fs(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function VA(e,t,n,s){const o=`${t}${n}?${s}`,u=e,f=u.config.emulator?v_(e.config,o):`${e.config.apiScheme}://${o}`;return ID.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function LD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vs(this.auth,"network-request-failed")),PD.get())})}}function od(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vs(e,t,s);return o.customData._tokenResponse=n,o}function fw(e){return e!==void 0&&e.enterprise!==void 0}class DD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return LD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ND(e,t){return bo(e,"GET","/v2/recaptchaConfig",wo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e,t){return bo(e,"POST","/v1/accounts:delete",t)}async function Zd(e,t){return bo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kD(e,t=!1){const n=Cn(e),s=await n.getIdToken(t),o=T_(s);jt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ch(Vg(o.auth_time)),issuedAtTime:ch(Vg(o.iat)),expirationTime:ch(Vg(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vg(e){return Number(e)*1e3}function T_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const o=bA(n);return o?JSON.parse(o):(Sd("Failed to decode base64 JWT payload"),null)}catch(o){return Sd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function dw(e){const t=T_(e);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof vr&&VD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function VD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ch(this.lastLoginAt),this.creationTime=ch(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(e){const t=e.auth,n=await e.getIdToken(),s=await bh(e,Zd(t,{idToken:n}));jt(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?UA(o.providerUserInfo):[],f=zD(e.providerData,u),m=e.isAnonymous,y=!(e.email&&o.passwordHash)&&!f?.length,_=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new py(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(e,E)}async function jD(e){const t=Cn(e);await Wd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zD(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function UA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(e,t){const n=await kA(e,{},async()=>{const s=Bh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,f=await VA(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return e.emulatorConfig&&Al(e.emulatorConfig.host)&&(y.credentials="include"),OA.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FD(e,t){return bo(e,"POST","/v2/accounts:revokeToken",wo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=dw(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await BD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Cu;return s&&(jt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(jt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(jt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Cu,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e,t){jt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ns{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new UD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new py(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await bh(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kD(this,t)}reload(){return jD(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ns({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Wd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Qr(this.auth));const t=await this.getIdToken();return await bh(this,OD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:D,providerData:U,stsTokenManager:F}=n;jt(A&&F,t,"internal-error");const W=Cu.fromJSON(this.name,F);jt(typeof A=="string",t,"internal-error"),eo(s,t.name),eo(o,t.name),jt(typeof x=="boolean",t,"internal-error"),jt(typeof D=="boolean",t,"internal-error"),eo(u,t.name),eo(f,t.name),eo(m,t.name),eo(y,t.name),eo(_,t.name),eo(E,t.name);const Z=new Ns({uid:A,auth:t,email:o,emailVerified:x,displayName:s,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:W,createdAt:_,lastLoginAt:E});return U&&Array.isArray(U)&&(Z.providerData=U.map(nt=>({...nt}))),y&&(Z._redirectEventId=y),Z}static async _fromIdTokenResponse(t,n,s=!1){const o=new Cu;o.updateFromServerResponse(n);const u=new Ns({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Wd(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];jt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Cu;m.updateFromIdToken(s);const y=new Ns({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new py(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;function $r(e){ia(e instanceof Function,"Expected a class definition");let t=mw.get(e);return t?(ia(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mw.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}jA.type="NONE";const pw=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(e,t,n){return`firebase:${e}:${t}:${n}`}class Iu{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ad(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ad("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zd(this.auth,{idToken:t}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,t):null}return Ns._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Iu($r(pw),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||$r(pw);const f=Ad(s,t.config.apiKey,t.name);let m=null;for(const _ of n)try{const E=await _._get(f);if(E){let A;if(typeof E=="string"){const x=await Zd(t,{idToken:E}).catch(()=>{});if(!x)break;A=await Ns._fromGetAccountInfoResponse(t,x,E)}else A=Ns._fromJSON(t,E);_!==u&&(m=A),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Iu(u,t,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Iu(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GA(t))return"Blackberry";if(ZA(t))return"Webos";if(BA(t))return"Safari";if((t.includes("chrome/")||FA(t))&&!t.includes("edge/"))return"Chrome";if(qA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function zA(e=Xn()){return/firefox\//i.test(e)}function BA(e=Xn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FA(e=Xn()){return/crios\//i.test(e)}function HA(e=Xn()){return/iemobile/i.test(e)}function qA(e=Xn()){return/android/i.test(e)}function GA(e=Xn()){return/blackberry/i.test(e)}function ZA(e=Xn()){return/webos/i.test(e)}function E_(e=Xn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function HD(e=Xn()){return E_(e)&&!!window.navigator?.standalone}function qD(){return eM()&&document.documentMode===10}function WA(e=Xn()){return E_(e)||qA(e)||ZA(e)||GA(e)||/windows phone/i.test(e)||HA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e,t=[]){let n;switch(e){case"Browser":n=gw(Xn());break;case"Worker":n=`${gw(Xn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(e,t={}){return bo(e,"GET","/v2/passwordPolicy",wo(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=6;class KD{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new GD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Iu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zd(this,{idToken:t}),s=await Ns._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(pi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wd(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(pi(this.app))return Promise.reject(Qr(this));const n=t?Cn(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return pi(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZD(this),n=new KD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zh("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&$r(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await Iu.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function So(e){return Cn(e)}class yw{constructor(t){this.auth=t,this.observer=null,this.addObserver=uM(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $D(e){Tm=e}function YA(e){return Tm.loadJS(e)}function XD(){return Tm.recaptchaEnterpriseScript}function QD(){return Tm.gapiScript}function JD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class t2{constructor(){this.enterprise=new e2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class e2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const n2="recaptcha-enterprise",$A="NO_RECAPTCHA";class i2{constructor(t){this.type=n2,this.auth=So(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{ND(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new DD(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;fw(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f($A)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&fw(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=XD();y.length!==0&&(y+=m),YA(y).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function _w(e,t,n,s=!1,o=!1){const u=new i2(e);let f;if(o)f=$A;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gy(e,t,n,s,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _w(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await _w(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(e,t){const n=vm(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_l(u,t??{}))return o;fs(o,"already-initialized")}return n.initialize({options:t})}function r2(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map($r);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function a2(e,t,n){const s=So(e);jt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=XA(t),{host:f,port:m}=o2(t),y=m===null?"":`:${m}`,_={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){jt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),jt(_l(_,s.config.emulator)&&_l(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Al(f)?(f_(`${u}//${f}${y}`),d_("Auth",!0)):l2()}function XA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function o2(e){const t=XA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vw(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:vw(f)}}}function vw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function l2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(t){return Yr("not implemented")}_linkToIdToken(t,n){return Yr("not implemented")}_getReauthenticationResolver(t){return Yr("not implemented")}}async function u2(e,t){return bo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(e,t){return Hh(e,"POST","/v1/accounts:signInWithPassword",wo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(e,t){return Hh(e,"POST","/v1/accounts:signInWithEmailLink",wo(e,t))}async function f2(e,t){return Hh(e,"POST","/v1/accounts:signInWithEmailLink",wo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends w_{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Sh(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Sh(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(t,n,"signInWithPassword",c2);case"emailLink":return h2(t,{email:this._email,oobCode:this._password});default:fs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(t,s,"signUpPassword",u2);case"emailLink":return f2(t,{idToken:n,email:this._email,oobCode:this._password});default:fs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(e,t){return Hh(e,"POST","/v1/accounts:signInWithIdp",wo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="http://localhost";class Tl extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Tl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Pu(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Pu(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Pu(t,n)}buildRequest(){const t={requestUri:d2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p2(e){const t=th(eh(e)).link,n=t?th(eh(t)).deep_link_id:null,s=th(eh(e)).deep_link_id;return(s?th(eh(s)).link:null)||s||n||t||e}class b_{constructor(t){const n=th(eh(t)),s=n.apiKey??null,o=n.oobCode??null,u=m2(n.mode??null);jt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=p2(t);try{return new b_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.providerId=Ku.PROVIDER_ID}static credential(t,n){return Sh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=b_.parseLink(n);return jt(s,"argument-error"),Sh._fromEmailAndCode(t,s.code,s.tenantId)}}Ku.PROVIDER_ID="password";Ku.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ku.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends S_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends qh{constructor(){super("facebook.com")}static credential(t){return Tl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return io.credentialFromTaggedObject(t)}static credentialFromError(t){return io.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return io.credential(t.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Tl._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends qh{constructor(){super("github.com")}static credential(t){return Tl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return so.credentialFromTaggedObject(t)}static credentialFromError(t){return so.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return so.credential(t.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends qh{constructor(){super("twitter.com")}static credential(t,n){return Tl._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ro.credentialFromTaggedObject(t)}static credentialFromError(t){return ro.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ro.credential(n,s)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(e,t){return Hh(e,"POST","/v1/accounts:signUp",wo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ns._fromIdTokenResponse(t,s,o),f=Tw(s);return new El({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Tw(s);return new El({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Tw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends vr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Kd(t,n,s,o)}}function QA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(e,u,t,s):u})}async function y2(e,t,n=!1){const s=await bh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return El._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(e,t,n=!1){const{auth:s}=e;if(pi(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const u=await bh(e,QA(s,o,t,e),n);jt(u.idToken,s,"internal-error");const f=T_(u.idToken);jt(f,s,"internal-error");const{sub:m}=f;return jt(e.uid===m,s,"user-mismatch"),El._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(e,t,n=!1){if(pi(e.app))return Promise.reject(Qr(e));const s="signIn",o=await QA(e,s,t),u=await El._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function v2(e,t){return JA(So(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(e){const t=So(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function T2(e,t,n){if(pi(e.app))return Promise.reject(Qr(e));const s=So(e),f=await gy(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&tx(e),y}),m=await El._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function E2(e,t,n){return pi(e.app)?Promise.reject(Qr(e)):v2(Cn(e),Ku.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tx(e),s})}function w2(e,t,n,s){return Cn(e).onIdTokenChanged(t,n,s)}function b2(e,t,n){return Cn(e).beforeAuthStateChanged(t,n)}function Em(e,t,n,s){return Cn(e).onAuthStateChanged(t,n,s)}function S2(e){return Cn(e).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=1e3,x2=10;class nx extends ex{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);qD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,x2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}nx.type="LOCAL";const R2=nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends ex{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ix.type="SESSION";const sx=ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new wm(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),y=await C2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const _=A_("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function P2(e){lr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function L2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M2(){return navigator?.serviceWorker?.controller||null}function D2(){return rx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebaseLocalStorageDb",N2=1,$d="firebaseLocalStorage",ox="fbase_key";class Gh{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bm(e,t){return e.transaction([$d],t?"readwrite":"readonly").objectStore($d)}function O2(){const e=indexedDB.deleteDatabase(ax);return new Gh(e).toPromise()}function yy(){const e=indexedDB.open(ax,N2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore($d,{keyPath:ox})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains($d)?t(s):(s.close(),await O2(),t(await yy()))})})}async function Ew(e,t,n){const s=bm(e,!0).put({[ox]:t,value:n});return new Gh(s).toPromise()}async function k2(e,t){const n=bm(e,!1).get(t),s=await new Gh(n).toPromise();return s===void 0?null:s.value}function ww(e,t){const n=bm(e,!0).delete(t);return new Gh(n).toPromise()}const V2=800,U2=3;class lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>U2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wm._getInstance(D2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L2(),!this.activeServiceWorker)return;this.sender=new I2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||M2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yy();return await Ew(t,Yd,"1"),await ww(t,Yd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ew(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>k2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ww(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=bm(o,!1).getAll();return new Gh(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lx.type="LOCAL";const j2=lx;new Fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(e,t){return t?$r(t):(jt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends w_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Pu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Pu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function z2(e){return JA(e.auth,new x_(e),e.bypassAuthState)}function B2(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),_2(n,new x_(e),e.bypassAuthState)}async function F2(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),y2(n,new x_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return z2;case"linkViaPopup":case"linkViaRedirect":return F2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:fs(this.auth,"internal-error")}}resolve(t){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Fh(2e3,1e4);async function q2(e,t,n){if(pi(e.app))return Promise.reject(Vs(e,"operation-not-supported-in-this-environment"));const s=So(e);SD(e,t,S_);const o=ux(s,n);return new hl(s,"signInViaPopup",t,o).executeNotNull()}class hl extends cx{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const t=A_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,H2.get())};t()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="pendingRedirect",xd=new Map;class Z2 extends cx{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=xd.get(this.auth._key());if(!t){try{const s=await W2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}xd.set(this.auth._key(),t)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W2(e,t){const n=$2(t),s=Y2(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function K2(e,t){xd.set(e._key(),t)}function Y2(e){return $r(e._redirectPersistence)}function $2(e){return Ad(G2,e.config.apiKey,e.name)}async function X2(e,t,n=!1){if(pi(e.app))return Promise.reject(Qr(e));const s=So(e),o=ux(s,t),f=await new Z2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=600*1e3;class J2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!hx(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Vs(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(bw(t))}saveEventToCache(t){this.cachedEventUids.add(bw(t)),this.lastProcessedEventTime=Date.now()}}function bw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function hx({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function tN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hx(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(e,t={}){return bo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function sN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await eN(e);for(const n of t)try{if(rN(n))return}catch{}fs(e,"unauthorized-domain")}function rN(e){const t=my(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const f=new URL(e);return f.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!iN.test(n))return!1;if(nN.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Fh(3e4,6e4);function Sw(){const e=lr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function oN(e){return new Promise((t,n)=>{function s(){Sw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sw(),n(Vs(e,"network-request-failed"))},timeout:aN.get()})}if(lr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(lr().gapi?.load)s();else{const o=JD("iframefcb");return lr()[o]=()=>{gapi.load?s():n(Vs(e,"network-request-failed"))},YA(`${QD()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Rd=null,t})}let Rd=null;function lN(e){return Rd=Rd||oN(e),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Fh(5e3,15e3),cN="__/auth/iframe",hN="emulator/auth/iframe",fN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mN(e){const t=e.config;jt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?v_(t,hN):`https://${e.config.authDomain}/${cN}`,s={apiKey:t.apiKey,appName:e.name,v:Wu},o=dN.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bh(s).slice(1)}`}async function pN(e){const t=await lN(e),n=lr().gapi;return jt(n,e,"internal-error"),t.open({where:document.body,url:mN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vs(e,"network-request-failed"),m=lr().setTimeout(()=>{u(f)},uN.get());function y(){lr().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,_N=600,vN="_blank",TN="http://localhost";class Aw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EN(e,t,n,s=yN,o=_N){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...gN,width:s.toString(),height:o.toString(),top:u,left:f},_=Xn().toLowerCase();n&&(m=FA(_)?vN:n),zA(_)&&(t=t||TN,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[D,U])=>`${x}${D}=${U},`,"");if(HD(_)&&m!=="_self")return wN(t||"",m),new Aw(null);const A=window.open(t||"",m,E);jt(A,e,"popup-blocked");try{A.focus()}catch{}return new Aw(A)}function wN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",SN="emulator/auth/handler",AN=encodeURIComponent("fac");async function xw(e,t,n,s,o,u){jt(e.config.authDomain,e,"auth-domain-config-required"),jt(e.config.apiKey,e,"invalid-api-key");const f={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Wu,eventId:o};if(t instanceof S_){t.setDefaultLanguage(e.languageCode),f.providerId=t.providerId||"",lM(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof qh){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}e.tenantId&&(f.tid=e.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await e._getAppCheckToken(),_=y?`#${AN}=${encodeURIComponent(y)}`:"";return`${xN(e)}?${Bh(m).slice(1)}${_}`}function xN({config:e}){return e.emulator?v_(e,SN):`https://${e.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sx,this._completeRedirectFn=X2,this._overrideRedirectResult=K2}async _openPopup(t,n,s,o){ia(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await xw(t,n,s,my(),o);return EN(t,u,A_())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await xw(t,n,s,my(),o);return P2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ia(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await pN(t),s=new J2(t);return n.register("authEvent",o=>(jt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ug,{type:Ug},o=>{const u=o?.[0]?.[Ug];u!==void 0&&n(!!u),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return WA()||BA()||E_()}}const CN=RN;var Rw="@firebase/auth",Cw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LN(e){vl(new fo("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;jt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KA(e)},_=new YD(s,o,u,y);return r2(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),vl(new fo("auth-internal",t=>{const n=So(t.getProvider("auth").getImmediate());return(s=>new IN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Rw,Cw,PN(e)),or(Rw,Cw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=300,DN=RA("authIdTokenMaxAge")||MN;let Iw=null;const NN=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DN)return;const o=n?.token;Iw!==o&&(Iw=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ON(e=g_()){const t=vm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=s2(e,{popupRedirectResolver:CN,persistence:[j2,R2,sx]}),s=RA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=NN(u.toString());b2(n,f,()=>f(n.currentUser)),w2(n,m=>f(m))}}const o=SA("auth");return o&&a2(n,`http://${o}`),n}function kN(){return document.getElementsByTagName("head")?.[0]??document}$D({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Vs("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",kN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LN("Browser");var Pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,fx;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(H,N){function V(){}V.prototype=N.prototype,H.D=N.prototype,H.prototype=new V,H.prototype.constructor=H,H.C=function(q,G,Y){for(var B=Array(arguments.length-2),de=2;de<arguments.length;de++)B[de-2]=arguments[de];return N.prototype[G].apply(q,B)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(H,N,V){V||(V=0);var q=Array(16);if(typeof N=="string")for(var G=0;16>G;++G)q[G]=N.charCodeAt(V++)|N.charCodeAt(V++)<<8|N.charCodeAt(V++)<<16|N.charCodeAt(V++)<<24;else for(G=0;16>G;++G)q[G]=N[V++]|N[V++]<<8|N[V++]<<16|N[V++]<<24;N=H.g[0],V=H.g[1],G=H.g[2];var Y=H.g[3],B=N+(Y^V&(G^Y))+q[0]+3614090360&4294967295;N=V+(B<<7&4294967295|B>>>25),B=Y+(G^N&(V^G))+q[1]+3905402710&4294967295,Y=N+(B<<12&4294967295|B>>>20),B=G+(V^Y&(N^V))+q[2]+606105819&4294967295,G=Y+(B<<17&4294967295|B>>>15),B=V+(N^G&(Y^N))+q[3]+3250441966&4294967295,V=G+(B<<22&4294967295|B>>>10),B=N+(Y^V&(G^Y))+q[4]+4118548399&4294967295,N=V+(B<<7&4294967295|B>>>25),B=Y+(G^N&(V^G))+q[5]+1200080426&4294967295,Y=N+(B<<12&4294967295|B>>>20),B=G+(V^Y&(N^V))+q[6]+2821735955&4294967295,G=Y+(B<<17&4294967295|B>>>15),B=V+(N^G&(Y^N))+q[7]+4249261313&4294967295,V=G+(B<<22&4294967295|B>>>10),B=N+(Y^V&(G^Y))+q[8]+1770035416&4294967295,N=V+(B<<7&4294967295|B>>>25),B=Y+(G^N&(V^G))+q[9]+2336552879&4294967295,Y=N+(B<<12&4294967295|B>>>20),B=G+(V^Y&(N^V))+q[10]+4294925233&4294967295,G=Y+(B<<17&4294967295|B>>>15),B=V+(N^G&(Y^N))+q[11]+2304563134&4294967295,V=G+(B<<22&4294967295|B>>>10),B=N+(Y^V&(G^Y))+q[12]+1804603682&4294967295,N=V+(B<<7&4294967295|B>>>25),B=Y+(G^N&(V^G))+q[13]+4254626195&4294967295,Y=N+(B<<12&4294967295|B>>>20),B=G+(V^Y&(N^V))+q[14]+2792965006&4294967295,G=Y+(B<<17&4294967295|B>>>15),B=V+(N^G&(Y^N))+q[15]+1236535329&4294967295,V=G+(B<<22&4294967295|B>>>10),B=N+(G^Y&(V^G))+q[1]+4129170786&4294967295,N=V+(B<<5&4294967295|B>>>27),B=Y+(V^G&(N^V))+q[6]+3225465664&4294967295,Y=N+(B<<9&4294967295|B>>>23),B=G+(N^V&(Y^N))+q[11]+643717713&4294967295,G=Y+(B<<14&4294967295|B>>>18),B=V+(Y^N&(G^Y))+q[0]+3921069994&4294967295,V=G+(B<<20&4294967295|B>>>12),B=N+(G^Y&(V^G))+q[5]+3593408605&4294967295,N=V+(B<<5&4294967295|B>>>27),B=Y+(V^G&(N^V))+q[10]+38016083&4294967295,Y=N+(B<<9&4294967295|B>>>23),B=G+(N^V&(Y^N))+q[15]+3634488961&4294967295,G=Y+(B<<14&4294967295|B>>>18),B=V+(Y^N&(G^Y))+q[4]+3889429448&4294967295,V=G+(B<<20&4294967295|B>>>12),B=N+(G^Y&(V^G))+q[9]+568446438&4294967295,N=V+(B<<5&4294967295|B>>>27),B=Y+(V^G&(N^V))+q[14]+3275163606&4294967295,Y=N+(B<<9&4294967295|B>>>23),B=G+(N^V&(Y^N))+q[3]+4107603335&4294967295,G=Y+(B<<14&4294967295|B>>>18),B=V+(Y^N&(G^Y))+q[8]+1163531501&4294967295,V=G+(B<<20&4294967295|B>>>12),B=N+(G^Y&(V^G))+q[13]+2850285829&4294967295,N=V+(B<<5&4294967295|B>>>27),B=Y+(V^G&(N^V))+q[2]+4243563512&4294967295,Y=N+(B<<9&4294967295|B>>>23),B=G+(N^V&(Y^N))+q[7]+1735328473&4294967295,G=Y+(B<<14&4294967295|B>>>18),B=V+(Y^N&(G^Y))+q[12]+2368359562&4294967295,V=G+(B<<20&4294967295|B>>>12),B=N+(V^G^Y)+q[5]+4294588738&4294967295,N=V+(B<<4&4294967295|B>>>28),B=Y+(N^V^G)+q[8]+2272392833&4294967295,Y=N+(B<<11&4294967295|B>>>21),B=G+(Y^N^V)+q[11]+1839030562&4294967295,G=Y+(B<<16&4294967295|B>>>16),B=V+(G^Y^N)+q[14]+4259657740&4294967295,V=G+(B<<23&4294967295|B>>>9),B=N+(V^G^Y)+q[1]+2763975236&4294967295,N=V+(B<<4&4294967295|B>>>28),B=Y+(N^V^G)+q[4]+1272893353&4294967295,Y=N+(B<<11&4294967295|B>>>21),B=G+(Y^N^V)+q[7]+4139469664&4294967295,G=Y+(B<<16&4294967295|B>>>16),B=V+(G^Y^N)+q[10]+3200236656&4294967295,V=G+(B<<23&4294967295|B>>>9),B=N+(V^G^Y)+q[13]+681279174&4294967295,N=V+(B<<4&4294967295|B>>>28),B=Y+(N^V^G)+q[0]+3936430074&4294967295,Y=N+(B<<11&4294967295|B>>>21),B=G+(Y^N^V)+q[3]+3572445317&4294967295,G=Y+(B<<16&4294967295|B>>>16),B=V+(G^Y^N)+q[6]+76029189&4294967295,V=G+(B<<23&4294967295|B>>>9),B=N+(V^G^Y)+q[9]+3654602809&4294967295,N=V+(B<<4&4294967295|B>>>28),B=Y+(N^V^G)+q[12]+3873151461&4294967295,Y=N+(B<<11&4294967295|B>>>21),B=G+(Y^N^V)+q[15]+530742520&4294967295,G=Y+(B<<16&4294967295|B>>>16),B=V+(G^Y^N)+q[2]+3299628645&4294967295,V=G+(B<<23&4294967295|B>>>9),B=N+(G^(V|~Y))+q[0]+4096336452&4294967295,N=V+(B<<6&4294967295|B>>>26),B=Y+(V^(N|~G))+q[7]+1126891415&4294967295,Y=N+(B<<10&4294967295|B>>>22),B=G+(N^(Y|~V))+q[14]+2878612391&4294967295,G=Y+(B<<15&4294967295|B>>>17),B=V+(Y^(G|~N))+q[5]+4237533241&4294967295,V=G+(B<<21&4294967295|B>>>11),B=N+(G^(V|~Y))+q[12]+1700485571&4294967295,N=V+(B<<6&4294967295|B>>>26),B=Y+(V^(N|~G))+q[3]+2399980690&4294967295,Y=N+(B<<10&4294967295|B>>>22),B=G+(N^(Y|~V))+q[10]+4293915773&4294967295,G=Y+(B<<15&4294967295|B>>>17),B=V+(Y^(G|~N))+q[1]+2240044497&4294967295,V=G+(B<<21&4294967295|B>>>11),B=N+(G^(V|~Y))+q[8]+1873313359&4294967295,N=V+(B<<6&4294967295|B>>>26),B=Y+(V^(N|~G))+q[15]+4264355552&4294967295,Y=N+(B<<10&4294967295|B>>>22),B=G+(N^(Y|~V))+q[6]+2734768916&4294967295,G=Y+(B<<15&4294967295|B>>>17),B=V+(Y^(G|~N))+q[13]+1309151649&4294967295,V=G+(B<<21&4294967295|B>>>11),B=N+(G^(V|~Y))+q[4]+4149444226&4294967295,N=V+(B<<6&4294967295|B>>>26),B=Y+(V^(N|~G))+q[11]+3174756917&4294967295,Y=N+(B<<10&4294967295|B>>>22),B=G+(N^(Y|~V))+q[2]+718787259&4294967295,G=Y+(B<<15&4294967295|B>>>17),B=V+(Y^(G|~N))+q[9]+3951481745&4294967295,H.g[0]=H.g[0]+N&4294967295,H.g[1]=H.g[1]+(G+(B<<21&4294967295|B>>>11))&4294967295,H.g[2]=H.g[2]+G&4294967295,H.g[3]=H.g[3]+Y&4294967295}s.prototype.u=function(H,N){N===void 0&&(N=H.length);for(var V=N-this.blockSize,q=this.B,G=this.h,Y=0;Y<N;){if(G==0)for(;Y<=V;)o(this,H,Y),Y+=this.blockSize;if(typeof H=="string"){for(;Y<N;)if(q[G++]=H.charCodeAt(Y++),G==this.blockSize){o(this,q),G=0;break}}else for(;Y<N;)if(q[G++]=H[Y++],G==this.blockSize){o(this,q),G=0;break}}this.h=G,this.o+=N},s.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var N=1;N<H.length-8;++N)H[N]=0;var V=8*this.o;for(N=H.length-8;N<H.length;++N)H[N]=V&255,V/=256;for(this.u(H),H=Array(16),N=V=0;4>N;++N)for(var q=0;32>q;q+=8)H[V++]=this.g[N]>>>q&255;return H};function u(H,N){var V=m;return Object.prototype.hasOwnProperty.call(V,H)?V[H]:V[H]=N(H)}function f(H,N){this.h=N;for(var V=[],q=!0,G=H.length-1;0<=G;G--){var Y=H[G]|0;q&&Y==N||(V[G]=Y,q=!1)}this.g=V}var m={};function y(H){return-128<=H&&128>H?u(H,function(N){return new f([N|0],0>N?-1:0)}):new f([H|0],0>H?-1:0)}function _(H){if(isNaN(H)||!isFinite(H))return A;if(0>H)return W(_(-H));for(var N=[],V=1,q=0;H>=V;q++)N[q]=H/V|0,V*=4294967296;return new f(N,0)}function E(H,N){if(H.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(H.charAt(0)=="-")return W(E(H.substring(1),N));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=_(Math.pow(N,8)),q=A,G=0;G<H.length;G+=8){var Y=Math.min(8,H.length-G),B=parseInt(H.substring(G,G+Y),N);8>Y?(Y=_(Math.pow(N,Y)),q=q.j(Y).add(_(B))):(q=q.j(V),q=q.add(_(B)))}return q}var A=y(0),x=y(1),D=y(16777216);e=f.prototype,e.m=function(){if(F(this))return-W(this).m();for(var H=0,N=1,V=0;V<this.g.length;V++){var q=this.i(V);H+=(0<=q?q:4294967296+q)*N,N*=4294967296}return H},e.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(U(this))return"0";if(F(this))return"-"+W(this).toString(H);for(var N=_(Math.pow(H,6)),V=this,q="";;){var G=Et(V,N).g;V=Z(V,G.j(N));var Y=((0<V.g.length?V.g[0]:V.h)>>>0).toString(H);if(V=G,U(V))return Y+q;for(;6>Y.length;)Y="0"+Y;q=Y+q}},e.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function U(H){if(H.h!=0)return!1;for(var N=0;N<H.g.length;N++)if(H.g[N]!=0)return!1;return!0}function F(H){return H.h==-1}e.l=function(H){return H=Z(this,H),F(H)?-1:U(H)?0:1};function W(H){for(var N=H.g.length,V=[],q=0;q<N;q++)V[q]=~H.g[q];return new f(V,~H.h).add(x)}e.abs=function(){return F(this)?W(this):this},e.add=function(H){for(var N=Math.max(this.g.length,H.g.length),V=[],q=0,G=0;G<=N;G++){var Y=q+(this.i(G)&65535)+(H.i(G)&65535),B=(Y>>>16)+(this.i(G)>>>16)+(H.i(G)>>>16);q=B>>>16,Y&=65535,B&=65535,V[G]=B<<16|Y}return new f(V,V[V.length-1]&-2147483648?-1:0)};function Z(H,N){return H.add(W(N))}e.j=function(H){if(U(this)||U(H))return A;if(F(this))return F(H)?W(this).j(W(H)):W(W(this).j(H));if(F(H))return W(this.j(W(H)));if(0>this.l(D)&&0>H.l(D))return _(this.m()*H.m());for(var N=this.g.length+H.g.length,V=[],q=0;q<2*N;q++)V[q]=0;for(q=0;q<this.g.length;q++)for(var G=0;G<H.g.length;G++){var Y=this.i(q)>>>16,B=this.i(q)&65535,de=H.i(G)>>>16,Oe=H.i(G)&65535;V[2*q+2*G]+=B*Oe,nt(V,2*q+2*G),V[2*q+2*G+1]+=Y*Oe,nt(V,2*q+2*G+1),V[2*q+2*G+1]+=B*de,nt(V,2*q+2*G+1),V[2*q+2*G+2]+=Y*de,nt(V,2*q+2*G+2)}for(q=0;q<N;q++)V[q]=V[2*q+1]<<16|V[2*q];for(q=N;q<2*N;q++)V[q]=0;return new f(V,0)};function nt(H,N){for(;(H[N]&65535)!=H[N];)H[N+1]+=H[N]>>>16,H[N]&=65535,N++}function J(H,N){this.g=H,this.h=N}function Et(H,N){if(U(N))throw Error("division by zero");if(U(H))return new J(A,A);if(F(H))return N=Et(W(H),N),new J(W(N.g),W(N.h));if(F(N))return N=Et(H,W(N)),new J(W(N.g),N.h);if(30<H.g.length){if(F(H)||F(N))throw Error("slowDivide_ only works with positive integers.");for(var V=x,q=N;0>=q.l(H);)V=mt(V),q=mt(q);var G=At(V,1),Y=At(q,1);for(q=At(q,2),V=At(V,2);!U(q);){var B=Y.add(q);0>=B.l(H)&&(G=G.add(V),Y=B),q=At(q,1),V=At(V,1)}return N=Z(H,G.j(N)),new J(G,N)}for(G=A;0<=H.l(N);){for(V=Math.max(1,Math.floor(H.m()/N.m())),q=Math.ceil(Math.log(V)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),Y=_(V),B=Y.j(N);F(B)||0<B.l(H);)V-=q,Y=_(V),B=Y.j(N);U(Y)&&(Y=x),G=G.add(Y),H=Z(H,B)}return new J(G,H)}e.A=function(H){return Et(this,H).h},e.and=function(H){for(var N=Math.max(this.g.length,H.g.length),V=[],q=0;q<N;q++)V[q]=this.i(q)&H.i(q);return new f(V,this.h&H.h)},e.or=function(H){for(var N=Math.max(this.g.length,H.g.length),V=[],q=0;q<N;q++)V[q]=this.i(q)|H.i(q);return new f(V,this.h|H.h)},e.xor=function(H){for(var N=Math.max(this.g.length,H.g.length),V=[],q=0;q<N;q++)V[q]=this.i(q)^H.i(q);return new f(V,this.h^H.h)};function mt(H){for(var N=H.g.length+1,V=[],q=0;q<N;q++)V[q]=H.i(q)<<1|H.i(q-1)>>>31;return new f(V,H.h)}function At(H,N){var V=N>>5;N%=32;for(var q=H.g.length-V,G=[],Y=0;Y<q;Y++)G[Y]=0<N?H.i(Y+V)>>>N|H.i(Y+V+1)<<32-N:H.i(Y+V);return new f(G,H.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fx=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,uo=f}).apply(typeof Pw<"u"?Pw:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dx,nh,mx,Cd,_y,px,gx,yx;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,R){return d==Array.prototype||d==Object.prototype||(d[w]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var w=0;w<d.length;++w){var R=d[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function o(d,w){if(w)t:{var R=s;d=d.split(".");for(var M=0;M<d.length-1;M++){var X=d[M];if(!(X in R))break t;R=R[X]}d=d[d.length-1],M=R[d],w=w(M),w!=M&&w!=null&&t(R,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var R=0,M=!1,X={next:function(){if(!M&&R<d.length){var at=R++;return{value:w(at,d[at]),done:!1}}return M=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(d){return d||function(){return u(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function _(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function E(d,w,R){return d.call.apply(d.bind,arguments)}function A(d,w,R){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,M),d.apply(w,X)}}return function(){return d.apply(w,arguments)}}function x(d,w,R){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,x.apply(null,arguments)}function D(d,w){var R=Array.prototype.slice.call(arguments,1);return function(){var M=R.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function U(d,w){function R(){}R.prototype=w.prototype,d.aa=w.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(M,X,at){for(var Tt=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)Tt[ee-2]=arguments[ee];return w.prototype[X].apply(M,Tt)}}function F(d){const w=d.length;if(0<w){const R=Array(w);for(let M=0;M<w;M++)R[M]=d[M];return R}return[]}function W(d,w){for(let R=1;R<arguments.length;R++){const M=arguments[R];if(y(M)){const X=d.length||0,at=M.length||0;d.length=X+at;for(let Tt=0;Tt<at;Tt++)d[X+Tt]=M[Tt]}else d.push(M)}}class Z{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function nt(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function Et(d){return Et[" "](d),d}Et[" "]=function(){};var mt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function At(d,w,R){for(const M in d)w.call(R,d[M],M,d)}function H(d,w){for(const R in d)w.call(void 0,d[R],R,d)}function N(d){const w={};for(const R in d)w[R]=d[R];return w}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(d,w){let R,M;for(let X=1;X<arguments.length;X++){M=arguments[X];for(R in M)d[R]=M[R];for(let at=0;at<V.length;at++)R=V[at],Object.prototype.hasOwnProperty.call(M,R)&&(d[R]=M[R])}}function G(d){var w=1;d=d.split(":");const R=[];for(;0<w&&d.length;)R.push(d.shift()),w--;return d.length&&R.push(d.join(":")),R}function Y(d){m.setTimeout(()=>{throw d},0)}function B(){var d=$t;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class de{constructor(){this.h=this.g=null}add(w,R){const M=Oe.get();M.set(w,R),this.h?this.h.next=M:this.g=M,this.h=M}}var Oe=new Z(()=>new ot,d=>d.reset());class ot{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,pt=!1,$t=new de,O=()=>{const d=m.Promise.resolve(void 0);_t=()=>{d.then(lt)}};var lt=()=>{for(var d;d=B();){try{d.h.call(d.g)}catch(R){Y(R)}var w=Oe;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}pt=!1};function vt(){this.s=this.s,this.C=this.C}vt.prototype.s=!1,vt.prototype.ma=function(){this.s||(this.s=!0,this.N())},vt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,w),m.removeEventListener("test",R,w)}catch{}return d}();function Ct(d,w){if(yt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(mt){t:{try{Et(w.nodeName);var X=!0;break t}catch{}X=!1}X||(w=null)}}else R=="mouseover"?w=d.fromElement:R=="mouseout"&&(w=d.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:wt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ct.aa.h.call(this)}}U(Ct,yt);var wt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),ae=0;function vi(d,w,R,M,X){this.listener=d,this.proxy=null,this.src=w,this.type=R,this.capture=!!M,this.ha=X,this.key=++ae,this.da=this.fa=!1}function Bi(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ti(d){this.src=d,this.g={},this.h=0}Ti.prototype.add=function(d,w,R,M,X){var at=d.toString();d=this.g[at],d||(d=this.g[at]=[],this.h++);var Tt=ms(d,w,M,X);return-1<Tt?(w=d[Tt],R||(w.fa=!1)):(w=new vi(w,this.src,at,!!M,X),w.fa=R,d.push(w)),w};function Ei(d,w){var R=w.type;if(R in d.g){var M=d.g[R],X=Array.prototype.indexOf.call(M,w,void 0),at;(at=0<=X)&&Array.prototype.splice.call(M,X,1),at&&(Bi(w),d.g[R].length==0&&(delete d.g[R],d.h--))}}function ms(d,w,R,M){for(var X=0;X<d.length;++X){var at=d[X];if(!at.da&&at.listener==w&&at.capture==!!R&&at.ha==M)return X}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),oa={};function xo(d,w,R,M,X){if(Array.isArray(w)){for(var at=0;at<w.length;at++)xo(d,w[at],R,M,X);return null}return R=Ll(R),d&&d[Ee]?d.K(w,R,_(M)?!!M.capture:!1,X):Un(d,w,R,!1,M,X)}function Un(d,w,R,M,X,at){if(!w)throw Error("Invalid event type");var Tt=_(X)?!!X.capture:!!X,ee=wr(d);if(ee||(d[Tr]=ee=new Ti(d)),R=ee.add(w,R,M,Tt,at),R.proxy)return R;if(M=la(),R.proxy=M,M.src=d,M.listener=R,d.addEventListener)bt||(X=Tt),X===void 0&&(X=!1),d.addEventListener(w.toString(),M,X);else if(d.attachEvent)d.attachEvent(ps(w.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return R}function la(){function d(R){return w.call(d.src,d.listener,R)}const w=Pl;return d}function Ro(d,w,R,M,X){if(Array.isArray(w))for(var at=0;at<w.length;at++)Ro(d,w[at],R,M,X);else M=_(M)?!!M.capture:!!M,R=Ll(R),d&&d[Ee]?(d=d.i,w=String(w).toString(),w in d.g&&(at=d.g[w],R=ms(at,R,M,X),-1<R&&(Bi(at[R]),Array.prototype.splice.call(at,R,1),at.length==0&&(delete d.g[w],d.h--)))):d&&(d=wr(d))&&(w=d.g[w.toString()],d=-1,w&&(d=ms(w,R,M,X)),(R=-1<d?w[d]:null)&&Er(R))}function Er(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ee])Ei(w.i,d);else{var R=d.type,M=d.proxy;w.removeEventListener?w.removeEventListener(R,M,d.capture):w.detachEvent?w.detachEvent(ps(R),M):w.addListener&&w.removeListener&&w.removeListener(M),(R=wr(w))?(Ei(R,d),R.h==0&&(R.src=null,w[Tr]=null)):Bi(d)}}}function ps(d){return d in oa?oa[d]:oa[d]="on"+d}function Pl(d,w){if(d.da)d=!0;else{w=new Ct(w,this);var R=d.listener,M=d.ha||d.src;d.fa&&Er(d),d=R.call(M,w)}return d}function wr(d){return d=d[Tr],d instanceof Ti?d:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ll(d){return typeof d=="function"?d:(d[Co]||(d[Co]=function(w){return d.handleEvent(w)}),d[Co])}function Ce(){vt.call(this),this.i=new Ti(this),this.M=this,this.F=null}U(Ce,vt),Ce.prototype[Ee]=!0,Ce.prototype.removeEventListener=function(d,w,R,M){Ro(this,d,w,R,M)};function ce(d,w){var R,M=d.F;if(M)for(R=[];M;M=M.F)R.push(M);if(d=d.M,M=w.type||w,typeof w=="string")w=new yt(w,d);else if(w instanceof yt)w.target=w.target||d;else{var X=w;w=new yt(M,d),q(w,X)}if(X=!0,R)for(var at=R.length-1;0<=at;at--){var Tt=w.g=R[at];X=jn(Tt,M,!0,w)&&X}if(Tt=w.g=d,X=jn(Tt,M,!0,w)&&X,X=jn(Tt,M,!1,w)&&X,R)for(at=0;at<R.length;at++)Tt=w.g=R[at],X=jn(Tt,M,!1,w)&&X}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var R=d.g[w],M=0;M<R.length;M++)Bi(R[M]);delete d.g[w],d.h--}}this.F=null},Ce.prototype.K=function(d,w,R,M){return this.i.add(String(d),w,!1,R,M)},Ce.prototype.L=function(d,w,R,M){return this.i.add(String(d),w,!0,R,M)};function jn(d,w,R,M){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,at=0;at<w.length;++at){var Tt=w[at];if(Tt&&!Tt.da&&Tt.capture==R){var ee=Tt.listener,We=Tt.ha||Tt.src;Tt.fa&&Ei(d.i,Tt),X=ee.call(We,M)!==!1&&X}}return X&&!M.defaultPrevented}function yn(d,w,R){if(typeof d=="function")R&&(d=x(d,R));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:m.setTimeout(d,w||0)}function Io(d){d.g=yn(()=>{d.g=null,d.i&&(d.i=!1,Io(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Ml extends vt{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(d){vt.call(this),this.h=d,this.g={}}U(br,vt);var Bs=[];function gs(d){At(d.g,function(w,R){this.g.hasOwnProperty(R)&&Er(w)},d),d.g={}}br.prototype.N=function(){br.aa.N.call(this),gs(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=m.JSON.stringify,ua=m.JSON.parse,wi=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Po(){}Po.prototype.h=null;function Lo(d){return d.h||(d.h=d.i())}function ca(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hi(){yt.call(this,"d")}U(Hi,yt);function Mo(){yt.call(this,"c")}U(Mo,yt);var qi={},Do=null;function Fs(){return Do=Do||new Ce}qi.La="serverreachability";function ha(d){yt.call(this,qi.La,d)}U(ha,yt);function Hs(d){const w=Fs();ce(w,new ha(w))}qi.STAT_EVENT="statevent";function fa(d,w){yt.call(this,qi.STAT_EVENT,d),this.stat=w}U(fa,yt);function Ie(d){const w=Fs();ce(w,new fa(w,d))}qi.Ma="timingevent";function $e(d,w){yt.call(this,qi.Ma,d),this.size=w}U($e,yt);function Ze(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},w)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function zn(d,w,R,M,X,at){d.info(function(){if(d.g)if(at)for(var Tt="",ee=at.split("&"),We=0;We<ee.length;We++){var ne=ee[We].split("=");if(1<ne.length){var pe=ne[0];ne=ne[1];var Le=pe.split("_");Tt=2<=Le.length&&Le[1]=="type"?Tt+(pe+"="+ne+"&"):Tt+(pe+"=redacted&")}}else Tt=null;else Tt=at;return"XMLHTTP REQ ("+M+") [attempt "+X+"]: "+w+`
`+R+`
`+Tt})}function Mt(d,w,R,M,X,at,Tt){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+X+"]: "+w+`
`+R+`
`+at+" "+Tt})}function ys(d,w,R,M){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+qs(d,R)+(M?" "+M:"")})}function No(d,w){d.info(function(){return"TIMEOUT: "+w})}oi.prototype.info=function(){};function qs(d,w){if(!d.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var M=R[d];if(!(2>M.length)){var X=M[1];if(Array.isArray(X)&&!(1>X.length)){var at=X[0];if(at!="noop"&&at!="stop"&&at!="close")for(var Tt=1;Tt<X.length;Tt++)X[Tt]=""}}}}return ai(R)}catch{return w}}var _s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Si;function In(){}U(In,Po),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},Si=new In;function _n(d,w,R,M){this.j=d,this.i=w,this.l=R,this.R=M||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Oo={},da={};function Ai(d,w,R){d.L=1,d.v=Qn(Pe(w)),d.m=R,d.P=!0,Gi(d,null)}function Gi(d,w){d.F=Date.now(),Ar(d),d.A=Pe(d.v);var R=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),Uo(R.i,"t",M),d.C=0,R=d.j.J,d.h=new Be,d.g=Ul(d.j,R?w:null,!d.m),0<d.O&&(d.M=new Ml(x(d.Y,d,d.g),d.O)),w=d.U,R=d.g,M=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(Bs[0]=X.toString()),X=Bs);for(var at=0;at<X.length;at++){var Tt=xo(R,X[at],M||w.handleEvent,!1,w.h||w);if(!Tt)break;w.g[Tt.key]=Tt}w=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Hs(),zn(d.i,d.u,d.A,d.l,d.R,d.m)}_n.prototype.ca=function(d){d=d.target;const w=this.M;w&&En(d)==3?w.j():this.Y(d)},_n.prototype.Y=function(d){try{if(d==this.g)t:{const Le=En(this.g);var w=this.g.Ba();const xs=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||jo(this.g)))){this.J||Le!=4||w==7||(w==8||0>=xs?Hs(3):Hs(2)),Gs(this);var R=this.g.Z();this.X=R;e:if(Dl(this)){var M=jo(this.g);d="";var X=M.length,at=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Zi(this);var Tt="";break e}this.h.i=new m.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,d+=this.h.i.decode(M[w],{stream:!(at&&w==X-1)});M.length=0,this.h.g+=d,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=R==200,Mt(this.i,this.u,this.A,this.l,this.R,Le,R),this.o){if(this.T&&!this.K){e:{if(this.g){var ee,We=this.g;if((ee=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(ee)){var ne=ee;break e}}ne=null}if(R=ne)ys(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,R);else{this.o=!1,this.s=3,Ie(12),fn(this),Zi(this);break t}}if(this.P){R=!0;let xe;for(;!this.J&&this.C<Tt.length;)if(xe=Sr(this,Tt),xe==da){Le==4&&(this.s=4,Ie(14),R=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Oo){this.s=4,Ie(15),ys(this.i,this.l,Tt,"[Invalid Chunk]"),R=!1;break}else ys(this.i,this.l,xe,null),vs(this,xe);if(Dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||Tt.length!=0||this.h.h||(this.s=1,Ie(16),R=!1),this.o=this.o&&R,!R)ys(this.i,this.l,Tt,"[Invalid Chunked Response]"),fn(this),Zi(this);else if(0<Tt.length&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.ba&&!pe.M&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),Xs(pe),pe.M=!0,Ie(11))}}else ys(this.i,this.l,Tt,null),vs(this,Tt);Le==4&&fn(this),this.o&&!this.J&&(Le==4?Bo(this.j,this):(this.o=!1,Ar(this)))}else sc(this.g),R==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),fn(this),Zi(this)}}}catch{}finally{}};function Dl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Sr(d,w){var R=d.C,M=w.indexOf(`
`,R);return M==-1?da:(R=Number(w.substring(R,M)),isNaN(R)?Oo:(M+=1,M+R>w.length?da:(w=w.slice(M,M+R),d.C=M+R,w)))}_n.prototype.cancel=function(){this.J=!0,fn(this)};function Ar(d){d.S=Date.now()+d.I,Nl(d,d.I)}function Nl(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ze(x(d.ba,d),w)}function Gs(d){d.B&&(m.clearTimeout(d.B),d.B=null)}_n.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(No(this.i,this.A),this.L!=2&&(Hs(),Ie(17)),fn(this),this.s=2,Zi(this)):Nl(this,this.S-d)};function Zi(d){d.j.G==0||d.J||Bo(d.j,d)}function fn(d){Gs(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,gs(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function vs(d,w){try{var R=d.j;if(R.G!=0&&(R.g==d||Xt(R.h,d))){if(!d.K&&Xt(R.h,d)&&R.G==3){try{var M=R.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var X=M;if(X[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)wa(R),va(R);else break t;Ta(R),Ie(18)}}else R.za=X[1],0<R.za-R.T&&37500>X[2]&&R.F&&R.v==0&&!R.C&&(R.C=Ze(x(R.Za,R),6e3));if(1>=Ki(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else As(R,11)}else if((d.K||R.g==d)&&wa(R),!nt(w))for(X=R.Da.g.parse(w),w=0;w<X.length;w++){let ne=X[w];if(R.T=ne[0],ne=ne[1],R.G==2)if(ne[0]=="c"){R.K=ne[1],R.ia=ne[2];const pe=ne[3];pe!=null&&(R.la=pe,R.j.info("VER="+R.la));const Le=ne[4];Le!=null&&(R.Aa=Le,R.j.info("SVER="+R.Aa));const xs=ne[5];xs!=null&&typeof xs=="number"&&0<xs&&(M=1.5*xs,R.L=M,R.j.info("backChannelRequestTimeoutMs_="+M)),M=R;const xe=d.g;if(xe){const Ji=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var at=M.h;at.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(me(at,at.h),at.h=null))}if(M.D){const ts=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;ts&&(M.ya=ts,Ut(M.I,M.D,ts))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),M=R;var Tt=d;if(M.qa=Sa(M,M.J?M.ia:null,M.W),Tt.K){nn(M.h,Tt);var ee=Tt,We=M.L;We&&(ee.I=We),ee.B&&(Gs(ee),Ar(ee)),M.g=Tt}else Li(M);0<R.i.length&&$s(R)}else ne[0]!="stop"&&ne[0]!="close"||As(R,7);else R.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?As(R,7):_a(R):ne[0]!="noop"&&R.l&&R.l.ta(ne),R.v=0)}}Hs(4)}catch{}}var Zs=class{constructor(d,w){this.g=d,this.map=w}};function Wi(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ki(d){return d.h?1:d.g?d.g.size:0}function Xt(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function me(d,w){d.g?d.g.add(w):d.h=w}function nn(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Wi.prototype.cancel=function(){if(this.i=Yi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Yi(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const R of d.g.values())w=w.concat(R.D);return w}return F(d.i)}function Ws(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var w=[],R=d.length,M=0;M<R;M++)w.push(d[M]);return w}w=[],R=0;for(M in d)w[R++]=d[M];return w}function Ks(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var w=[];d=d.length;for(var R=0;R<d;R++)w.push(R);return w}w=[],R=0;for(const M in d)w[R++]=M;return w}}}function qt(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var R=Ks(d),M=Ws(d),X=M.length,at=0;at<X;at++)w.call(void 0,M[at],R&&R[at],d)}var ye=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(d,w){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var M=d[R].indexOf("="),X=null;if(0<=M){var at=d[R].substring(0,M);X=d[R].substring(M+1)}else at=d[R];w(at,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ke(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ke){this.h=d.h,Rr(this,d.j),this.o=d.o,this.g=d.g,xi(this,d.s),this.l=d.l;var w=d.i,R=new Ci;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),Pn(this,R),this.m=d.m}else d&&(w=String(d).match(ye))?(this.h=!1,Rr(this,w[1]||"",!0),this.o=vn(w[2]||""),this.g=vn(w[3]||"",!0),xi(this,w[4]),this.l=vn(w[5]||"",!0),Pn(this,w[6]||"",!0),this.m=vn(w[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}ke.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Ri(w,Ts,!0),":");var R=this.g;return(R||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Ri(w,Ts,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(Ri(R,R.charAt(0)=="/"?Vo:Cr,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",Ri(R,Ys)),d.join("")};function Pe(d){return new ke(d)}function Rr(d,w,R){d.j=R?vn(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function xi(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Pn(d,w,R){w instanceof Ci?(d.i=w,Jn(d.i,d.h)):(R||(w=Ri(w,pa)),d.i=new Ci(w,d.h))}function Ut(d,w,R){d.i.set(w,R)}function Qn(d){return Ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function vn(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ri(d,w,R){return typeof d=="string"?(d=encodeURI(d).replace(w,ma),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ma(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ts=/[#\/\?@]/g,Cr=/[#\?:]/g,Vo=/[#\?]/g,pa=/[#\?@]/g,Ys=/#/g;function Ci(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Ln(d){d.g||(d.g=new Map,d.h=0,d.i&&ko(d.i,function(w,R){d.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}e=Ci.prototype,e.add=function(d,w){Ln(this),this.i=null,d=Ot(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(w),this.h+=1,this};function $i(d,w){Ln(d),w=Ot(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Ii(d,w){return Ln(d),w=Ot(d,w),d.g.has(w)}e.forEach=function(d,w){Ln(this),this.g.forEach(function(R,M){R.forEach(function(X){d.call(w,X,M,this)},this)},this)},e.na=function(){Ln(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let M=0;M<w.length;M++){const X=d[M];for(let at=0;at<X.length;at++)R.push(w[M])}return R},e.V=function(d){Ln(this);let w=[];if(typeof d=="string")Ii(this,d)&&(w=w.concat(this.g.get(Ot(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)w=w.concat(d[R])}return w},e.set=function(d,w){return Ln(this),this.i=null,d=Ot(this,d),Ii(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},e.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Uo(d,w,R){$i(d,w),0<R.length&&(d.i=null,d.g.set(Ot(d,w),F(R)),d.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var M=w[R];const at=encodeURIComponent(String(M)),Tt=this.V(M);for(M=0;M<Tt.length;M++){var X=at;Tt[M]!==""&&(X+="="+encodeURIComponent(String(Tt[M]))),d.push(X)}}return this.i=d.join("&")};function Ot(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Jn(d,w){w&&!d.j&&(Ln(d),d.i=null,d.g.forEach(function(R,M){var X=M.toLowerCase();M!=X&&($i(this,M),Uo(this,X,R))},d)),d.j=w}function oe(d,w){const R=new oi;if(m.Image){const M=new Image;M.onload=D(Bn,R,"TestLoadImage: loaded",!0,w,M),M.onerror=D(Bn,R,"TestLoadImage: error",!1,w,M),M.onabort=D(Bn,R,"TestLoadImage: abort",!1,w,M),M.ontimeout=D(Bn,R,"TestLoadImage: timeout",!1,w,M),m.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else w(!1)}function li(d,w){const R=new oi,M=new AbortController,X=setTimeout(()=>{M.abort(),Bn(R,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:M.signal}).then(at=>{clearTimeout(X),at.ok?Bn(R,"TestPingServer: ok",!0,w):Bn(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),Bn(R,"TestPingServer: error",!1,w)})}function Bn(d,w,R,M,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),M(R)}catch{}}function Es(){this.g=new wi}function ui(d,w,R){const M=R||"";try{qt(d,function(X,at){let Tt=X;_(X)&&(Tt=ai(X)),w.push(M+at+"="+encodeURIComponent(Tt))})}catch(X){throw w.push(M+"type="+encodeURIComponent("_badmap")),X}}function Fn(d){this.l=d.Ub||null,this.j=d.eb||!1}U(Fn,Po),Fn.prototype.g=function(){return new Pi(this.l,this.j)},Fn.prototype.i=function(d){return function(){return d}}({});function Pi(d,w){Ce.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Pi,Ce),e=Pi.prototype,e.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Tn(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||m).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ws(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ws(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?we(this):Tn(this),this.readyState==3&&ws(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,we(this))},e.Qa=function(d){this.g&&(this.response=d,we(this))},e.ga=function(){this.g&&we(this)};function we(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Tn(d)}e.setRequestHeader=function(d,w){this.u.append(d,w)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=w.next();return d.join(`\r
`)};function Tn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ga(d){let w="";return At(d,function(R,M){w+=M,w+=":",w+=R,w+=`\r
`}),w}function Xe(d,w,R){t:{for(M in R){var M=!1;break t}M=!0}M||(R=ga(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):Ut(d,w,R))}function he(d){Ce.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(he,Ce);var Ir=/^https?$/i,bs=["POST","PUT"];e=he.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,w,R,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Si.g(),this.v=this.o?Lo(this.o):Lo(Si),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(at){Ol(this,at);return}if(d=R||"",R=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var X in M)R.set(X,M[X]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const at of M.keys())R.set(at,M.get(at));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(R.keys()).find(at=>at.toLowerCase()=="content-type"),X=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,w,void 0))||M||X||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,Tt]of R)this.g.setRequestHeader(at,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dn(this),this.u=!0,this.g.send(d),this.u=!1}catch(at){Ol(this,at)}};function Ol(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,Pr(d),Xi(d)}function Pr(d){d.A||(d.A=!0,ce(d,"complete"),ce(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ce(this,"complete"),ce(this,"abort"),Xi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),he.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Wt(this):this.bb())},e.bb=function(){Wt(this)};function Wt(d){if(d.h&&typeof f<"u"&&(!d.v[1]||En(d)!=4||d.Z()!=2)){if(d.u&&En(d)==4)yn(d.Ea,0,d);else if(ce(d,"readystatechange"),En(d)==4){d.h=!1;try{const Tt=d.Z();t:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var M;if(M=Tt===0){var X=String(d.D).match(ye)[1]||null;!X&&m.self&&m.self.location&&(X=m.self.location.protocol.slice(0,-1)),M=!Ir.test(X?X.toLowerCase():"")}R=M}if(R)ce(d,"complete"),ce(d,"success");else{d.m=6;try{var at=2<En(d)?d.g.statusText:""}catch{at=""}d.l=at+" ["+d.Z()+"]",Pr(d)}}finally{Xi(d)}}}}function Xi(d,w){if(d.g){dn(d);const R=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||ce(d,"ready");try{R.onreadystatechange=M}catch{}}}function dn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function En(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),ua(w)}};function jo(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function sc(d){const w={};d=(d.g&&2<=En(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(nt(d[M]))continue;var R=G(d[M]);const X=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const at=w[X]||[];w[X]=at,at.push(R)}H(w,function(M){return M.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(d,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||w}function ya(d){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,d),this.cb=Ss("retryDelaySeedMs",1e4,d),this.Wa=Ss("forwardChannelMaxRetries",2,d),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(d&&d.concurrentRequestLimit),this.Da=new Es,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ya.prototype,e.la=8,e.G=1,e.connect=function(d,w,R,M){Ie(0),this.W=d,this.H=w||{},R&&M!==void 0&&(this.H.OSID=R,this.H.OAID=M),this.F=this.X,this.I=Sa(this,null,this.W),$s(this)};function _a(d){if(kl(d),d.G==3){var w=d.U++,R=Pe(d.I);if(Ut(R,"SID",d.K),Ut(R,"RID",w),Ut(R,"TYPE","terminate"),Lr(d,R),w=new _n(d,d.j,w),w.L=2,w.v=Qn(Pe(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=w.v,R=!0),R||(w.g=Ul(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ar(w)}Vl(d)}function va(d){d.g&&(Xs(d),d.g.cancel(),d.g=null)}function kl(d){va(d),d.u&&(m.clearTimeout(d.u),d.u=null),wa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function $s(d){if(!xr(d.h)&&!d.s){d.s=!0;var w=d.Ga;_t||O(),pt||(_t(),pt=!0),$t.add(w,d),d.B=0}}function rc(d,w){return Ki(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ze(x(d.Ga,d,w),ba(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new _n(this,this.j,d);let at=this.o;if(this.S&&(at?(at=N(at),q(at,this.S)):at=this.S),this.m!==null||this.O||(X.H=at,at=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var M=this.i[R];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=zo(this,X,w),R=Pe(this.I),Ut(R,"RID",d),Ut(R,"CVER",22),this.D&&Ut(R,"X-HTTP-Session-Id",this.D),Lr(this,R),at&&(this.O?w="headers="+encodeURIComponent(String(ga(at)))+"&"+w:this.m&&Xe(R,this.m,at)),me(this.h,X),this.Ua&&Ut(R,"TYPE","init"),this.P?(Ut(R,"$req",w),Ut(R,"SID","null"),X.T=!0,Ai(X,R,null)):Ai(X,R,w),this.G=2}}else this.G==3&&(d?Hn(this,d):this.i.length==0||xr(this.h)||Hn(this))};function Hn(d,w){var R;w?R=w.l:R=d.U++;const M=Pe(d.I);Ut(M,"SID",d.K),Ut(M,"RID",R),Ut(M,"AID",d.T),Lr(d,M),d.m&&d.o&&Xe(M,d.m,d.o),R=new _n(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),w&&(d.i=w.D.concat(d.i)),w=zo(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),me(d.h,R),Ai(R,M,w)}function Lr(d,w){d.H&&At(d.H,function(R,M){Ut(w,M,R)}),d.l&&qt({},function(R,M){Ut(w,M,R)})}function zo(d,w,R){R=Math.min(d.i.length,R);var M=d.l?x(d.l.Na,d.l,d):null;t:{var X=d.i;let at=-1;for(;;){const Tt=["count="+R];at==-1?0<R?(at=X[0].g,Tt.push("ofs="+at)):at=0:Tt.push("ofs="+at);let ee=!0;for(let We=0;We<R;We++){let ne=X[We].g;const pe=X[We].map;if(ne-=at,0>ne)at=Math.max(0,X[We].g-100),ee=!1;else try{ui(pe,Tt,"req"+ne+"_")}catch{M&&M(pe)}}if(ee){M=Tt.join("&");break t}}}return d=d.i.splice(0,R),w.D=d,M}function Li(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;_t||O(),pt||(_t(),pt=!0),$t.add(w,d),d.v=0}}function Ta(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ze(x(d.Fa,d),ba(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,Ea(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ze(x(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),va(this),Ea(this))};function Xs(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Ea(d){d.g=new _n(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Pe(d.qa);Ut(w,"RID","rpc"),Ut(w,"SID",d.K),Ut(w,"AID",d.T),Ut(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ut(w,"TO",d.ja),Ut(w,"TYPE","xmlhttp"),Lr(d,w),d.m&&d.o&&Xe(w,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=Qn(Pe(w)),R.m=null,R.P=!0,Gi(R,d)}e.Za=function(){this.C!=null&&(this.C=null,va(this),Ta(this),Ie(19))};function wa(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function Bo(d,w){var R=null;if(d.g==w){wa(d),Xs(d),d.g=null;var M=2}else if(Xt(d.h,w))R=w.D,nn(d.h,w),M=1;else return;if(d.G!=0){if(w.o)if(M==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var X=d.B;M=Fs(),ce(M,new $e(M,R)),$s(d)}else Li(d);else if(X=w.s,X==3||X==0&&0<w.X||!(M==1&&rc(d,w)||M==2&&Ta(d)))switch(R&&0<R.length&&(w=d.h,w.i=w.i.concat(R)),X){case 1:As(d,5);break;case 4:As(d,10);break;case 3:As(d,6);break;default:As(d,2)}}}function ba(d,w){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*w}function As(d,w){if(d.j.info("Error code "+w),w==2){var R=x(d.fb,d),M=d.Xa;const X=!M;M=new ke(M||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rr(M,"https"),Qn(M),X?oe(M.toString(),R):li(M.toString(),R)}else Ie(2);d.G=0,d.l&&d.l.sa(w),Vl(d),kl(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function Vl(d){if(d.G=0,d.ka=[],d.l){const w=Yi(d.h);(w.length!=0||d.i.length!=0)&&(W(d.ka,w),W(d.ka,d.i),d.h.i.length=0,F(d.i),d.i.length=0),d.l.ra()}}function Sa(d,w,R){var M=R instanceof ke?Pe(R):new ke(R);if(M.g!="")w&&(M.g=w+"."+M.g),xi(M,M.s);else{var X=m.location;M=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var at=new ke(null);M&&Rr(at,M),w&&(at.g=w),X&&xi(at,X),R&&(at.l=R),M=at}return R=d.D,w=d.ya,R&&w&&Ut(M,R,w),Ut(M,"VER",d.la),Lr(d,M),M}function Ul(d,w,R){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new he(new Fn({eb:R})):new he(d.pa),w.Ha(d.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}e=Fo.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Mr(){}Mr.prototype.g=function(d,w){return new sn(d,w)};function sn(d,w){Ce.call(this),this.g=new ya(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!nt(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!nt(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new qn(this)}U(sn,Ce),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){_a(this.g)},sn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=ai(d),d=R);w.i.push(new Zs(w.Ya++,d)),w.G==3&&$s(w)},sn.prototype.N=function(){this.g.l=null,delete this.j,_a(this.g),delete this.g,sn.aa.N.call(this)};function Qi(d){Hi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const R in w){d=R;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}U(Qi,Hi);function jl(){Mo.call(this),this.status=1}U(jl,Mo);function qn(d){this.g=d}U(qn,Fo),qn.prototype.ua=function(){ce(this.g,"a")},qn.prototype.ta=function(d){ce(this.g,new Qi(d))},qn.prototype.sa=function(d){ce(this.g,new jl)},qn.prototype.ra=function(){ce(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,yx=function(){return new Mr},gx=function(){return Fs()},px=qi,_y={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Cd=_s,bi.COMPLETE="complete",mx=bi,ca.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,nh=ca,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,dx=he}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const Lw="@firebase/firestore",Mw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new m_("@firebase/firestore");function _u(){return wl.logLevel}function Rt(e,...t){if(wl.logLevel<=ie.DEBUG){const n=t.map(R_);wl.debug(`Firestore (${Yu}): ${e}`,...n)}}function sa(e,...t){if(wl.logLevel<=ie.ERROR){const n=t.map(R_);wl.error(`Firestore (${Yu}): ${e}`,...n)}}function Du(e,...t){if(wl.logLevel<=ie.WARN){const n=t.map(R_);wl.warn(`Firestore (${Yu}): ${e}`,...n)}}function R_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,_x(e,s,n)}function _x(e,t,n){let s=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sa(s),new Error(s)}function ge(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||_x(t,o,s)}function Zt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends vr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class UN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jN{constructor(t){this.t=t,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ge(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ge(typeof s.accessToken=="string",31837,{l:s}),new vx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ge(t===null||typeof t=="string",2055,{h:t}),new Kn(t)}}class zN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new zN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ge(this.o===void 0,3512);const s=u=>{u.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function se(e,t){return e<t?-1:e>t?1:0}function vy(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return jg(o)===jg(u)?se(o,u):jg(o)?1:-1}return se(e.length,t.length)}const qN=55296,GN=57343;function jg(e){const t=e.charCodeAt(0);return t>=qN&&t<=GN}function Nu(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__name__";class ar{constructor(t,n,s){n===void 0?n=0:n>t.length&&zt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&zt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ar.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ar?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ar.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return se(t.length,n.length)}static compareSegments(t,n){const s=ar.isNumericId(t),o=ar.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ar.extractNumericId(t).compare(ar.extractNumericId(n)):vy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return uo.fromString(t.substring(4,t.length-2))}}class Ne extends ar{construct(t,n,s){return new Ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new xt(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends ar{construct(t,n,s){return new kn(t,n,s)}static isValidIdentifier(t){return ZN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nw}static keyField(){return new kn([Nw])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new xt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new xt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new xt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new xt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(Ne.fromString(t))}static fromName(t){return new Nt(Ne.fromString(t).popFirst(5))}static empty(){return new Nt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new Ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e,t,n){if(!n)throw new xt(ht.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function WN(e,t,n,s){if(t===!0&&s===!0)throw new xt(ht.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ow(e){if(!Nt.isDocumentKey(e))throw new xt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function kw(e){if(Nt.isDocumentKey(e))throw new xt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ex(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Sm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":zt(12329,{type:typeof e})}function bl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sm(e);throw new xt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Zh(e,t){if(!Ex(e))throw new xt(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const f=e[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new xt(ht.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=-62135596800,Uw=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Uw);return new Ve(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new xt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Vw)throw new xt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uw}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zh(t,Ve._jsonSchema))return new Ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Vw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:cn("string",Ve._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(t){return new Gt(t)}static min(){return new Gt(new Ve(0,0))}static max(){return new Gt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function KN(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=Gt.fromTimestamp(s===1e9?new Ve(n+1,0):new Ve(n,s));return new mo(o,Nt.empty(),t)}function YN(e){return new mo(e.readTime,e.key,Ah)}class mo{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new mo(Gt.min(),Nt.empty(),Ah)}static max(){return new mo(Gt.max(),Nt.empty(),Ah)}}function $N(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Nt.comparator(e.documentKey,t.documentKey),n!==0?n:se(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(e){if(e.code!==ht.FAILED_PRECONDITION||e.message!==XN)throw e;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new dt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof dt?n:dt.resolve(n)}catch(n){return dt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.reject(n)}static resolve(t){return new dt((n,s)=>{n(t)})}static reject(t){return new dt((n,s)=>{s(t)})}static waitFor(t){return new dt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(t){let n=dt.resolve(!1);for(const s of t)n=n.next(o=>o?dt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new dt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;n(t[_]).next(E=>{f[_]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new dt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function JN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-1;function xm(e){return e==null}function Xd(e){return e===0&&1/e==-1/0}function tO(e){return typeof e=="number"&&Number.isInteger(e)&&!Xd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="";function eO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=jw(t)),t=nO(e.get(n),t);return jw(t)}function nO(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case wx:n+="";break;default:n+=u}}return n}function jw(e){return e+wx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){this.comparator=t,this.root=n||On.EMPTY}insert(t,n){return new Ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(t){return new Ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,On.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ud(this.root,t,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ud(this.root,t,this.comparator,!0)}}class ud{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class On{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??On.RED,this.left=o??On.EMPTY,this.right=u??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new On(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return On.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw zt(27949);return t+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new On(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.comparator=t,this.data=new Ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(t){return new Bw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof gn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new gn(this.comparator);return n.data=t,n}}class Bw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.fields=t,t.sort(kn.comparator)}static empty(){return new Os([])}unionWith(t){let n=new gn(kn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Os(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Nu(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Sx("Invalid base64 string: "+u):u}}(t);return new Vn(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Vn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const iO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(e){if(ge(!!e,39018),typeof e=="string"){let t=0;const n=iO.exec(e);if(ge(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:en(e.seconds),nanos:en(e.nanos)}}function en(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function go(e){return typeof e=="string"?Vn.fromBase64String(e):Vn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="server_timestamp",xx="__type__",Rx="__previous_value__",Cx="__local_write_time__";function P_(e){return(e?.mapValue?.fields||{})[xx]?.stringValue===Ax}function Rm(e){const t=e.mapValue.fields[Rx];return P_(t)?Rm(t):t}function xh(e){const t=po(e.mapValue.fields[Cx].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t,n,s,o,u,f,m,y,_,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Qd="(default)";class Rh{constructor(t,n){this.projectId=t,this.database=n||Qd}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(t){return t instanceof Rh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="__type__",rO="__max__",cd={mapValue:{}},Px="__vector__",Jd="value";function yo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?P_(e)?4:oO(e)?9007199254740991:aO(e)?10:11:zt(28295,{value:e})}function gr(e,t){if(e===t)return!0;const n=yo(e);if(n!==yo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xh(e).isEqual(xh(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=po(o.timestampValue),m=po(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return go(o.bytesValue).isEqual(go(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return en(o.geoPointValue.latitude)===en(u.geoPointValue.latitude)&&en(o.geoPointValue.longitude)===en(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return en(o.integerValue)===en(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=en(o.doubleValue),m=en(u.doubleValue);return f===m?Xd(f)===Xd(m):isNaN(f)&&isNaN(m)}return!1}(e,t);case 9:return Nu(e.arrayValue.values||[],t.arrayValue.values||[],gr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(zw(f)!==zw(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!gr(f[y],m[y])))return!1;return!0}(e,t);default:return zt(52216,{left:e})}}function Ch(e,t){return(e.values||[]).find(n=>gr(n,t))!==void 0}function Ou(e,t){if(e===t)return 0;const n=yo(e),s=yo(t);if(n!==s)return se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(e.booleanValue,t.booleanValue);case 2:return function(u,f){const m=en(u.integerValue||u.doubleValue),y=en(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(e,t);case 3:return Fw(e.timestampValue,t.timestampValue);case 4:return Fw(xh(e),xh(t));case 5:return vy(e.stringValue,t.stringValue);case 6:return function(u,f){const m=go(u),y=go(f);return m.compareTo(y)}(e.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const E=se(m[_],y[_]);if(E!==0)return E}return se(m.length,y.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,f){const m=se(en(u.latitude),en(f.latitude));return m!==0?m:se(en(u.longitude),en(f.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Hw(e.arrayValue,t.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},_=m[Jd]?.arrayValue,E=y[Jd]?.arrayValue,A=se(_?.values?.length||0,E?.values?.length||0);return A!==0?A:Hw(_,E)}(e.mapValue,t.mapValue);case 11:return function(u,f){if(u===cd.mapValue&&f===cd.mapValue)return 0;if(u===cd.mapValue)return 1;if(f===cd.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=f.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const x=vy(y[A],E[A]);if(x!==0)return x;const D=Ou(m[y[A]],_[E[A]]);if(D!==0)return D}return se(y.length,E.length)}(e.mapValue,t.mapValue);default:throw zt(23264,{he:n})}}function Fw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return se(e,t);const n=po(e),s=po(t),o=se(n.seconds,s.seconds);return o!==0?o:se(n.nanos,s.nanos)}function Hw(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ou(n[o],s[o]);if(u)return u}return se(n.length,s.length)}function ku(e){return Ty(e)}function Ty(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=po(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return go(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Nt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ty(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ty(n.fields[f])}`;return o+"}"}(e.mapValue):zt(61005,{value:e})}function Id(e){switch(yo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rm(e);return t?16+Id(t):16;case 5:return 2*e.stringValue.length;case 6:return go(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Id(u),0)}(e.arrayValue);case 10:case 11:return function(s){let o=0;return xl(s.fields,(u,f)=>{o+=u.length+Id(f)}),o}(e.mapValue);default:throw zt(13486,{value:e})}}function qw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ey(e){return!!e&&"integerValue"in e}function L_(e){return!!e&&"arrayValue"in e}function Gw(e){return!!e&&"nullValue"in e}function Zw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pd(e){return!!e&&"mapValue"in e}function aO(e){return(e?.mapValue?.fields||{})[Ix]?.stringValue===Px}function hh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return xl(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=hh(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hh(e.arrayValue.values[n]);return t}return{...e}}function oO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.value=t}static empty(){return new us({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Pd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hh(n)}setAll(t){let n=kn.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=hh(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Pd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){xl(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new us(hh(this.value))}}function Lx(e){const t=[];return xl(e.fields,(n,s)=>{const o=new kn([n]);if(Pd(s)){const u=Lx(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Os(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Yn(t,0,Gt.min(),Gt.min(),Gt.min(),us.empty(),0)}static newFoundDocument(t,n,s,o){return new Yn(t,1,n,Gt.min(),s,o,0)}static newNoDocument(t,n){return new Yn(t,2,n,Gt.min(),Gt.min(),us.empty(),0)}static newUnknownDocument(t,n){return new Yn(t,3,n,Gt.min(),Gt.min(),us.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,n){this.position=t,this.inclusive=n}}function Ww(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],f=e.position[o];if(u.field.isKeyField()?s=Nt.comparator(Nt.fromName(f.referenceValue),n.key):s=Ou(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Kw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,n="asc"){this.field=t,this.dir=n}}function lO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class un extends Mx{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new cO(t,n,s):n==="array-contains"?new dO(t,s):n==="in"?new mO(t,s):n==="not-in"?new pO(t,s):n==="array-contains-any"?new gO(t,s):new un(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new hO(t,s):new fO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ou(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(Ou(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Us extends Mx{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Us(t,n)}matches(t){return Dx(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dx(e){return e.op==="and"}function Nx(e){return uO(e)&&Dx(e)}function uO(e){for(const t of e.filters)if(t instanceof Us)return!1;return!0}function wy(e){if(e instanceof un)return e.field.canonicalString()+e.op.toString()+ku(e.value);if(Nx(e))return e.filters.map(t=>wy(t)).join(",");{const t=e.filters.map(n=>wy(n)).join(",");return`${e.op}(${t})`}}function Ox(e,t){return e instanceof un?function(s,o){return o instanceof un&&s.op===o.op&&s.field.isEqual(o.field)&&gr(s.value,o.value)}(e,t):e instanceof Us?function(s,o){return o instanceof Us&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Ox(f,o.filters[m]),!0):!1}(e,t):void zt(19439)}function kx(e){return e instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${ku(n.value)}`}(e):e instanceof Us?function(n){return n.op.toString()+" {"+n.getFilters().map(kx).join(" ,")+"}"}(e):"Filter"}class cO extends un{constructor(t,n,s){super(t,n,s),this.key=Nt.fromName(s.referenceValue)}matches(t){const n=Nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class hO extends un{constructor(t,n){super(t,"in",n),this.keys=Vx("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class fO extends un{constructor(t,n){super(t,"not-in",n),this.keys=Vx("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Vx(e,t){return(t.arrayValue?.values||[]).map(n=>Nt.fromName(n.referenceValue))}class dO extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return L_(n)&&Ch(n.arrayValue,this.value)}}class mO extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ch(this.value.arrayValue,n)}}class pO extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ch(this.value.arrayValue,n)}}class gO extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!L_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ch(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Yw(e,t=null,n=[],s=[],o=null,u=null,f=null){return new yO(e,t,n,s,o,u,f)}function M_(e){const t=Zt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>wy(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),xm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ku(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ku(s)).join(",")),t.Te=n}return t.Te}function D_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ox(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kw(e.startAt,t.startAt)&&Kw(e.endAt,t.endAt)}function by(e){return Nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _O(e,t,n,s,o,u,f,m){return new Wh(e,t,n,s,o,u,f,m)}function N_(e){return new Wh(e)}function $w(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ux(e){return e.collectionGroup!==null}function fh(e){const t=Zt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new gn(kn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new em(u,s))}),n.has(kn.keyField().canonicalString())||t.Ie.push(new em(kn.keyField(),s))}return t.Ie}function ur(e){const t=Zt(e);return t.Ee||(t.Ee=vO(t,fh(e))),t.Ee}function vO(e,t){if(e.limitType==="F")return Yw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new em(o.field,u)});const n=e.endAt?new tm(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new tm(e.startAt.position,e.startAt.inclusive):null;return Yw(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Sy(e,t){const n=e.filters.concat([t]);return new Wh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ay(e,t,n){return new Wh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cm(e,t){return D_(ur(e),ur(t))&&e.limitType===t.limitType}function jx(e){return`${M_(ur(e))}|lt:${e.limitType}`}function vu(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>kx(o)).join(", ")}]`),xm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ku(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ku(o)).join(",")),`Target(${s})`}(ur(e))}; limitType=${e.limitType})`}function Im(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Nt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of fh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(f,m,y){const _=Ww(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,fh(s),o)||s.endAt&&!function(f,m,y){const _=Ww(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,fh(s),o))}(e,t)}function TO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zx(e){return(t,n)=>{let s=!1;for(const o of fh(e)){const u=EO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EO(e,t,n){const s=e.field.isKeyField()?Nt.comparator(t.key,n.key):function(u,f,m){const y=f.data.field(u),_=m.data.field(u);return y!==null&&_!==null?Ou(y,_):zt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return zt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){xl(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return bx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new Ge(Nt.comparator);function ra(){return wO}const Bx=new Ge(Nt.comparator);function ih(...e){let t=Bx;for(const n of e)t=t.insert(n.key,n);return t}function Fx(e){let t=Bx;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function fl(){return dh()}function Hx(){return dh()}function dh(){return new Rl(e=>e.toString(),(e,t)=>e.isEqual(t))}const bO=new Ge(Nt.comparator),SO=new gn(Nt.comparator);function re(...e){let t=SO;for(const n of e)t=t.add(n);return t}const AO=new gn(se);function xO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(t)?"-0":t}}function qx(e){return{integerValue:""+e}}function RO(e,t){return tO(t)?qx(t):O_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this._=void 0}}function CO(e,t,n){return e instanceof nm?function(o,u){const f={fields:{[xx]:{stringValue:Ax},[Cx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&P_(u)&&(u=Rm(u)),u&&(f.fields[Rx]=u),{mapValue:f}}(n,t):e instanceof Ih?Zx(e,t):e instanceof Ph?Wx(e,t):function(o,u){const f=Gx(o,u),m=Xw(f)+Xw(o.Ae);return Ey(f)&&Ey(o.Ae)?qx(m):O_(o.serializer,m)}(e,t)}function IO(e,t,n){return e instanceof Ih?Zx(e,t):e instanceof Ph?Wx(e,t):n}function Gx(e,t){return e instanceof im?function(s){return Ey(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class nm extends Pm{}class Ih extends Pm{constructor(t){super(),this.elements=t}}function Zx(e,t){const n=Kx(t);for(const s of e.elements)n.some(o=>gr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ph extends Pm{constructor(t){super(),this.elements=t}}function Wx(e,t){let n=Kx(t);for(const s of e.elements)n=n.filter(o=>!gr(o,s));return{arrayValue:{values:n}}}class im extends Pm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Xw(e){return en(e.integerValue||e.doubleValue)}function Kx(e){return L_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function PO(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Ih&&o instanceof Ih||s instanceof Ph&&o instanceof Ph?Nu(s.elements,o.elements,gr):s instanceof im&&o instanceof im?gr(s.Ae,o.Ae):s instanceof nm&&o instanceof nm}(e.transform,t.transform)}class LO{constructor(t,n){this.version=t,this.transformResults=n}}class ta{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ta}static exists(t){return new ta(void 0,t)}static updateTime(t){return new ta(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ld(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lm{}function Yx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Xx(e.key,ta.none()):new Kh(e.key,e.data,ta.none());{const n=e.data,s=us.empty();let o=new gn(kn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Cl(e.key,s,new Os(o.toArray()),ta.none())}}function MO(e,t,n){e instanceof Kh?function(o,u,f){const m=o.value.clone(),y=Jw(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(e,t,n):e instanceof Cl?function(o,u,f){if(!Ld(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Jw(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll($x(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(e,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function mh(e,t,n,s){return e instanceof Kh?function(u,f,m,y){if(!Ld(u.precondition,f))return m;const _=u.value.clone(),E=tb(u.fieldTransforms,y,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(e,t,n,s):e instanceof Cl?function(u,f,m,y){if(!Ld(u.precondition,f))return m;const _=tb(u.fieldTransforms,y,f),E=f.data;return E.setAll($x(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(e,t,n,s):function(u,f,m){return Ld(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(e,t,n)}function DO(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=Gx(s.transform,o||null);u!=null&&(n===null&&(n=us.empty()),n.set(s.field,u))}return n||null}function Qw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Nu(s,o,(u,f)=>PO(u,f))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Kh extends Lm{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cl extends Lm{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $x(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Jw(e,t,n){const s=new Map;ge(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,IO(f,m,n[o]))}return s}function tb(e,t,n){const s=new Map;for(const o of e){const u=o.transform,f=n.data.field(o.field);s.set(o.field,CO(u,f,t))}return s}class Xx extends Lm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends Lm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&MO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=mh(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=mh(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Hx();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=Yx(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Gt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),re())}isEqual(t){return this.batchId===t.batchId&&Nu(this.mutations,t.mutations,(n,s)=>Qw(n,s))&&Nu(this.baseMutations,t.baseMutations,(n,s)=>Qw(n,s))}}class k_{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ge(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return bO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new k_(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,ue;function UO(e){switch(e){case ht.OK:return zt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return zt(15467,{code:e})}}function Qx(e){if(e===void 0)return sa("GRPC error has no .code"),ht.UNKNOWN;switch(e){case on.OK:return ht.OK;case on.CANCELLED:return ht.CANCELLED;case on.UNKNOWN:return ht.UNKNOWN;case on.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case on.INTERNAL:return ht.INTERNAL;case on.UNAVAILABLE:return ht.UNAVAILABLE;case on.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case on.NOT_FOUND:return ht.NOT_FOUND;case on.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case on.ABORTED:return ht.ABORTED;case on.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case on.DATA_LOSS:return ht.DATA_LOSS;default:return zt(39323,{code:e})}}(ue=on||(on={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new uo([4294967295,4294967295],0);function eb(e){const t=jO().encode(e),n=new fx;return n.update(t),new Uint8Array(n.digest())}function nb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new uo([n,s],0),new uo([o,u],0)]}class V_{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new sh(`Invalid padding: ${n}`);if(s<0)throw new sh(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new sh(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new sh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=uo.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(uo.fromNumber(s)));return o.compare(zO)===1&&(o=new uo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=eb(t),[s,o]=nb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new V_(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.ge===0)return;const n=eb(t),[s,o]=nb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Yh.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Mm(Gt.min(),o,new Ge(se),ra(),re())}}class Yh{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Yh(s,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Jx{constructor(t,n){this.targetId=t,this.Ce=n}}class t1{constructor(t,n,s=Vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class ib{constructor(){this.ve=0,this.Fe=sb(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=re(),n=re(),s=re();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:zt(38017,{changeType:u})}}),new Yh(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=sb()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ra(),this.Je=hd(),this.He=hd(),this.Ye=new Ge(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:zt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(by(u))if(s===0){const f=new Nt(u.path);this.et(n,f,Yn.newNoDocument(f,Gt.min()))}else ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=go(s).toUint8Array()}catch(y){if(y instanceof Sx)return Du("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new V_(f,o,u)}catch(y){return Du(y instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&by(m.target)){const y=new Nt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Yn.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=re();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Mm(t,n,this.Ye,this.je,s);return this.je=ra(),this.Je=hd(),this.He=hd(),this.Ye=new Ge(se),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new ib,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new gn(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new gn(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ib),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function hd(){return new Ge(Nt.comparator)}function sb(){return new Ge(Nt.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},HO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qO={and:"AND",or:"OR"};class GO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xy(e,t){return e.useProto3Json||xm(t)?t:{value:t}}function sm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function e1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ZO(e,t){return sm(e,t.toTimestamp())}function cr(e){return ge(!!e,49232),Gt.fromTimestamp(function(n){const s=po(n);return new Ve(s.seconds,s.nanos)}(e))}function U_(e,t){return Ry(e,t).canonicalString()}function Ry(e,t){const n=function(o){return new Ne(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function n1(e){const t=Ne.fromString(e);return ge(o1(t),10190,{key:t.toString()}),t}function Cy(e,t){return U_(e.databaseId,t.path)}function zg(e,t){const n=n1(t);if(n.get(1)!==e.databaseId.projectId)throw new xt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nt(s1(n))}function i1(e,t){return U_(e.databaseId,t)}function WO(e){const t=n1(e);return t.length===4?Ne.emptyPath():s1(t)}function Iy(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function s1(e){return ge(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function rb(e,t,n){return{name:Cy(e,t),fields:n.value.mapValue.fields}}function KO(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:zt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(ge(E===void 0||typeof E=="string",58123),Vn.fromBase64String(E||"")):(ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Vn.fromUint8Array(E||new Uint8Array))}(e,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(_){const E=_.code===void 0?ht.UNKNOWN:Qx(_.code);return new xt(E,_.message||"")}(f);n=new t1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=zg(e,s.document.name),u=cr(s.document.updateTime),f=s.document.createTime?cr(s.document.createTime):Gt.min(),m=new us({mapValue:{fields:s.document.fields}}),y=Yn.newFoundDocument(o,u,f,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new Md(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=zg(e,s.document),u=s.readTime?cr(s.readTime):Gt.min(),f=Yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Md([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=zg(e,s.document),u=s.removedTargetIds||[];n=new Md([],u,o,null)}else{if(!("filter"in t))return zt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new VO(o,u),m=s.targetId;n=new Jx(m,f)}}return n}function YO(e,t){let n;if(t instanceof Kh)n={update:rb(e,t.key,t.value)};else if(t instanceof Xx)n={delete:Cy(e,t.key)};else if(t instanceof Cl)n={update:rb(e,t.key,t.data),updateMask:sk(t.fieldMask)};else{if(!(t instanceof NO))return zt(16599,{Vt:t.type});n={verify:Cy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof nm)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof im)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw zt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ZO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:zt(27497)}(e,t.precondition)),n}function $O(e,t){return e&&e.length>0?(ge(t!==void 0,14353),e.map(n=>function(o,u){let f=o.updateTime?cr(o.updateTime):cr(u);return f.isEqual(Gt.min())&&(f=cr(u)),new LO(f,o.transformResults||[])}(n,t))):[]}function XO(e,t){return{documents:[i1(e,t.path)]}}function QO(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=i1(e,o);const u=function(_){if(_.length!==0)return a1(Us.create(_,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(x){return{field:Tu(x.field),direction:ek(x.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xy(e,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:o}}function JO(e){let t=WO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const x=r1(A);return x instanceof Us&&Nx(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(x=>function(U){return new em(Eu(U.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(A){let x;return x=typeof A=="object"?A.value:A,xm(x)?null:x}(n.limit));let y=null;n.startAt&&(y=function(A){const x=!!A.before,D=A.values||[];return new tm(D,x)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const x=!A.before,D=A.values||[];return new tm(D,x)}(n.endAt)),_O(t,o,f,u,m,"F",y,_)}function tk(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function r1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eu(n.unaryFilter.field);return un.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eu(n.unaryFilter.field);return un.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eu(n.unaryFilter.field);return un.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Eu(n.unaryFilter.field);return un.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}}(e):e.fieldFilter!==void 0?function(n){return un.create(Eu(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Us.create(n.compositeFilter.filters.map(s=>r1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return zt(1026)}}(n.compositeFilter.op))}(e):zt(30097,{filter:e})}function ek(e){return FO[e]}function nk(e){return HO[e]}function ik(e){return qO[e]}function Tu(e){return{fieldPath:e.canonicalString()}}function Eu(e){return kn.fromServerFormat(e.fieldPath)}function a1(e){return e instanceof un?function(n){if(n.op==="=="){if(Zw(n.value))return{unaryFilter:{field:Tu(n.field),op:"IS_NAN"}};if(Gw(n.value))return{unaryFilter:{field:Tu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zw(n.value))return{unaryFilter:{field:Tu(n.field),op:"IS_NOT_NAN"}};if(Gw(n.value))return{unaryFilter:{field:Tu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tu(n.field),op:nk(n.op),value:n.value}}}(e):e instanceof Us?function(n){const s=n.getFilters().map(o=>a1(o));return s.length===1?s[0]:{compositeFilter:{op:ik(n.op),filters:s}}}(e):zt(54877,{filter:e})}function sk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function o1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,n,s,o,u=Gt.min(),f=Gt.min(),m=Vn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new ao(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(t){this.yt=t}}function ak(e){const t=JO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ay(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.Cn=new lk}addToCollectionParentIndex(t,n){return this.Cn.add(n),dt.resolve()}getCollectionParents(t,n){return dt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return dt.resolve()}deleteFieldIndex(t,n){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,n){return dt.resolve()}getDocumentsMatchingTarget(t,n){return dt.resolve(null)}getIndexType(t,n){return dt.resolve(0)}getFieldIndexes(t,n){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,n){return dt.resolve(mo.min())}getMinOffsetFromCollectionGroup(t,n){return dt.resolve(mo.min())}updateCollectionGroup(t,n,s){return dt.resolve()}updateIndexEntries(t,n){return dt.resolve()}}class lk{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new gn(Ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new gn(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l1=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(l1,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Vu(0)}static cr(){return new Vu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="LruGarbageCollector",uk=1048576;function lb([e,t],[n,s]){const o=se(e,n);return o===0?se(t,s):o}class ck{constructor(t){this.Ir=t,this.buffer=new gn(lb),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hk{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Rt(ob,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xu(n)?Rt(ob,"Ignoring IndexedDB error during garbage collection: ",n):await $u(n)}await this.Vr(3e5)})}}class fk{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return dt.resolve(Am.ce);const s=new ck(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(ab)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(_=Date.now(),_u()<=ie.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function dk(e,t){return new fk(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.changes=new Rl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?dt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&mh(s.mutation,o,Os.empty(),Ve.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,re()).next(()=>s))}getLocalViewOfDocuments(t,n,s=re()){const o=fl();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=ih();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=fl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,re()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=ra();const f=dh(),m=function(){return dh()}();return n.forEach((y,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Cl)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),mh(E.mutation,_,E.mutation.getFieldMask(),Ve.now())):f.set(_.key,Os.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>m.set(_,new pk(E,f.get(_)??null))),m))}recalculateAndSaveOverlays(t,n){const s=dh();let o=new Ge((f,m)=>f-m),u=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let E=s.get(y)||Os.empty();E=m.applyToLocalView(_,E),s.set(y,E);const A=(o.get(m.batchId)||re()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,E=y.value,A=Hx();E.forEach(x=>{if(!u.has(x)){const D=Yx(n.get(x),s.get(x));D!==null&&A.set(x,D),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,A))}return dt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return Nt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ux(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):dt.resolve(fl());let m=Ah,y=u;return f.next(_=>dt.forEach(_,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?dt.resolve():this.remoteDocumentCache.getEntry(t,E).next(x=>{y=y.insert(E,x)}))).next(()=>this.populateOverlays(t,_,u)).next(()=>this.computeViews(t,y,_,re())).next(E=>({batchId:m,changes:Fx(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Nt(n)).next(s=>{let o=ih();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=ih();return this.indexManager.getCollectionParents(t,u).next(m=>dt.forEach(m,y=>{const _=function(A,x){return new Wh(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(E=>{E.forEach((A,x)=>{f=f.insert(A,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((y,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Yn.newInvalidDocument(E)))});let m=ih();return f.forEach((y,_)=>{const E=u.get(y);E!==void 0&&mh(E.mutation,_,Os.empty(),Ve.now()),Im(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return dt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}}(n)),dt.resolve()}getNamedQuery(t,n){return dt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:ak(o.bundledQuery),readTime:cr(o.readTime)}}(n)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.overlays=new Ge(Nt.comparator),this.qr=new Map}getOverlay(t,n){return dt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=fl();return dt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),dt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),dt.resolve()}getOverlaysForCollection(t,n,s){const o=fl(),u=n.length+1,f=new Nt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return dt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Ge((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=fl(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=fl(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return dt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kO(n,s));let u=this.qr.get(n);u===void 0&&(u=re(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.Qr=new gn(Rn.$r),this.Ur=new gn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Rn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Rn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Nt(new Ne([])),s=new Rn(n,t),o=new Rn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Nt(new Ne([])),s=new Rn(n,t),o=new Rn(n,t+1);let u=re();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Rn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Rn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Nt.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Nt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(Rn.$r)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Rn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return dt.resolve(f)}lookupMutationBatch(t,n){return dt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return dt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?I_:this.tr-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Rn(n,0),o=new Rn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),dt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new gn(se);return n.forEach(o=>{const u=new Rn(o,0),f=new Rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),dt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Nt.isDocumentKey(u)||(u=u.child(""));const f=new Rn(new Nt(u),0);let m=new gn(se);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Yr)),!0)},f),dt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return dt.forEach(n.mutations,o=>{const u=new Rn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Rn(n,0),o=this.Zr.firstAfterOrEqual(s);return dt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.ri=t,this.docs=function(){return new Ge(Nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return dt.resolve(s?s.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(t,n){let s=ra();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yn.newInvalidDocument(o))}),dt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ra();const f=n.path,m=new Nt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||$N(YN(E),s)<=0||(o.has(E.key)||Im(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return dt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){zt(9500)}ii(t,n){return dt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new wk(this)}getSize(t){return dt.resolve(this.size)}}class wk extends mk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),dt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t){this.persistence=t,this.si=new Rl(n=>M_(n),D_),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new j_,this.targetCount=0,this.ai=Vu.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),dt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Vu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,dt.resolve()}updateTargetData(t,n){return this.Pr(n),dt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),dt.waitFor(u).next(()=>o)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return dt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),dt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),dt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),dt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return dt.resolve(s)}containsKey(t,n){return dt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n){this.ui={},this.overlays={},this.ci=new Am(0),this.li=!1,this.li=!0,this.hi=new vk,this.referenceDelegate=t(this),this.Pi=new bk(this),this.indexManager=new ok,this.remoteDocumentCache=function(o){return new Ek(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new rk(n),this.Ii=new yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _k,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Tk(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Rt("MemoryPersistence","Starting transaction:",t);const o=new Sk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return dt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class Sk extends QN{constructor(t){super(),this.currentSequenceNumber=t}}class z_{constructor(t){this.persistence=t,this.Ri=new j_,this.Vi=null}static mi(t){return new z_(t)}get fi(){if(this.Vi)return this.Vi;throw zt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),dt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),dt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),dt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.fi,s=>{const o=Nt.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Gt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return dt.or([()=>dt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class rm{constructor(t,n){this.persistence=t,this.pi=new Rl(s=>eO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=dk(this,n)}static mi(t,n){return new rm(t,n)}Ei(){}di(t){return dt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return dt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?dt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Gt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),dt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),dt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),dt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Id(t.data.value)),n}br(t,n,s){return dt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return dt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=re(),o=re();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new B_(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nM()?8:JN(Xn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Ak;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(_u()<=ie.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",vu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),dt.resolve()):(_u()<=ie.DEBUG&&Rt("QueryEngine","Query:",vu(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(_u()<=ie.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",vu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ur(n))):dt.resolve())}ys(t,n){if($w(n))return dt.resolve(null);let s=ur(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ay(n,null,"F"),s=ur(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=re(...u);return this.ps.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const _=this.Ds(n,m);return this.Cs(n,_,f,y.readTime)?this.ys(t,Ay(n,null,"F")):this.vs(t,_,n,y)}))})))}ws(t,n,s,o){return $w(n)||o.isEqual(Gt.min())?dt.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?dt.resolve(null):(_u()<=ie.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vu(n)),this.vs(t,f,n,KN(o,Ah)).next(m=>m))})}Ds(t,n){let s=new gn(zx(t));return n.forEach((o,u)=>{Im(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return _u()<=ie.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",vu(n)),this.ps.getDocumentsMatchingQuery(t,n,mo.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LocalStore",Rk=3e8;class Ck{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Ge(se),this.xs=new Rl(u=>M_(u),D_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Ik(e,t,n,s){return new Ck(e,t,n,s)}async function c1(e,t){const n=Zt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=re();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:f,addedBatchIds:m}))})})}function Pk(e,t){const n=Zt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,_,E){const A=_.batch,x=A.keys();let D=dt.resolve();return x.forEach(U=>{D=D.next(()=>E.getEntry(y,U)).next(F=>{const W=_.docVersions.get(U);ge(W!==null,48541),F.version.compareTo(W)<0&&(A.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),E.addEntry(F)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=re();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function h1(e){const t=Zt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function Lk(e,t){const n=Zt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((E,A)=>{const x=o.get(A);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let D=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?D=D.withResumeToken(Vn.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(A,D),function(F,W,Z){return F.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=Rk?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(x,D,E)&&m.push(n.Pi.updateTargetData(u,D))});let y=ra(),_=re();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(Mk(u,f,t.documentUpdates).next(E=>{y=E.ks,_=E.qs})),!s.isEqual(Gt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return dt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(n.Ms=o,u))}function Mk(e,t,n){let s=re(),o=re();return n.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let f=ra();return n.forEach((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Gt.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):Rt(F_,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{ks:f,qs:o}})}function Dk(e,t){const n=Zt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=I_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Nk(e,t){const n=Zt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,dt.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new ao(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Py(e,t,n){const s=Zt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Xu(f))throw f;Rt(F_,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function ub(e,t,n){const s=Zt(e);let o=Gt.min(),u=re();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,E){const A=Zt(y),x=A.xs.get(E);return x!==void 0?dt.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,E)}(s,f,ur(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Gt.min(),n?u:re())).next(m=>(Ok(s,TO(t),m),{documents:m,Qs:u})))}function Ok(e,t,n){let s=e.Os.get(t)||Gt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.Os.set(t,s)}class cb{constructor(){this.activeTargetIds=xO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kk{constructor(){this.Mo=new cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new cb,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="ConnectivityMonitor";class fb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(hb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Rt(hb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd=null;function Ly(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="RestConnection",Uk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jk{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Qd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Ly(),m=this.zo(t,n.toUriEncodedString());Rt(Bg,`Sending RPC '${t}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(m),E=Al(_);return this.Jo(t,m,y,s,E).then(A=>(Rt(Bg,`Received RPC '${t}' ${f}: `,A),A),A=>{throw Du(Bg,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=Uk[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class Bk extends jk{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Ly();return new Promise((m,y)=>{const _=new dx;_.setWithCredentials(!0),_.listenOnce(mx.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Cd.NO_ERROR:const A=_.getResponseJson();Rt(Wn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Cd.TIMEOUT:Rt(Wn,`RPC '${t}' ${f} timed out`),y(new xt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const x=_.getStatus();if(Rt(Wn,`RPC '${t}' ${f} failed with status:`,x,"response text:",_.getResponseText()),x>0){let D=_.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D?.error;if(U&&U.status&&U.message){const F=function(Z){const nt=Z.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(nt)>=0?nt:ht.UNKNOWN}(U.status);y(new xt(F,U.message))}else y(new xt(ht.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new xt(ht.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Rt(Wn,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);Rt(Wn,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",E,s,15)})}T_(t,n,s){const o=Ly(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=yx(),m=gx(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");Rt(Wn,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let x=!1,D=!1;const U=new zk({Yo:W=>{D?Rt(Wn,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(x||(Rt(Wn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),x=!0),Rt(Wn,`RPC '${t}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),F=(W,Z,nt)=>{W.listen(Z,J=>{try{nt(J)}catch(Et){setTimeout(()=>{throw Et},0)}})};return F(A,nh.EventType.OPEN,()=>{D||(Rt(Wn,`RPC '${t}' stream ${o} transport opened.`),U.o_())}),F(A,nh.EventType.CLOSE,()=>{D||(D=!0,Rt(Wn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(A))}),F(A,nh.EventType.ERROR,W=>{D||(D=!0,Du(Wn,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),U.a_(new xt(ht.UNAVAILABLE,"The operation could not be completed")))}),F(A,nh.EventType.MESSAGE,W=>{if(!D){const Z=W.data[0];ge(!!Z,16349);const nt=Z,J=nt?.error||nt[0]?.error;if(J){Rt(Wn,`RPC '${t}' stream ${o} received error:`,J);const Et=J.status;let mt=function(N){const V=on[N];if(V!==void 0)return Qx(V)}(Et),At=J.message;mt===void 0&&(mt=ht.INTERNAL,At="Unknown error status: "+Et+" with message "+J.message),D=!0,U.a_(new xt(mt,At)),A.close()}else Rt(Wn,`RPC '${t}' stream ${o} received:`,Z),U.u_(Z)}}),F(m,px.STAT_EVENT,W=>{W.stat===_y.PROXY?Rt(Wn,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===_y.NOPROXY&&Rt(Wn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(e){return new GO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="PersistentStream";class d1{constructor(t,n,s,o,u,f,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(sa(n.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new xt(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Rt(db,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Rt(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fk extends d1{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=KO(this.serializer,t),s=function(u){if(!("targetChange"in u))return Gt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Gt.min():f.readTime?cr(f.readTime):Gt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Iy(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=by(y)?{documents:XO(u,y)}:{query:QO(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=e1(u,f.resumeToken);const _=xy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Gt.min())>0){m.readTime=sm(u,f.snapshotVersion.toTimestamp());const _=xy(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,t);const s=tk(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Iy(this.serializer),n.removeTarget=t,this.q_(n)}}class Hk extends d1{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ge(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ge(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ge(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=$O(t.writeResults,t.commitTime),s=cr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Iy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>YO(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{}class Gk extends qk{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new xt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,Ry(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(ht.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(t,Ry(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new xt(ht.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Zk{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sa(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RemoteStore";class Wk{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Il(this)&&(Rt(Sl,"Restarting streams for network reachability change."),await async function(y){const _=Zt(y);_.Ea.add(4),await $h(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nm(_)}(this))})}),this.Ra=new Zk(s,o)}}async function Nm(e){if(Il(e))for(const t of e.da)await t(!0)}async function $h(e){for(const t of e.da)await t(!1)}function m1(e,t){const n=Zt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Z_(n)?G_(n):Qu(n).O_()&&q_(n,t))}function H_(e,t){const n=Zt(e),s=Qu(n);n.Ia.delete(t),s.O_()&&p1(n,t),n.Ia.size===0&&(s.O_()?s.L_():Il(n)&&n.Ra.set("Unknown"))}function q_(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qu(e).Y_(t)}function p1(e,t){e.Va.Ue(t),Qu(e).Z_(t)}function G_(e){e.Va=new BO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Qu(e).start(),e.Ra.ua()}function Z_(e){return Il(e)&&!Qu(e).x_()&&e.Ia.size>0}function Il(e){return Zt(e).Ea.size===0}function g1(e){e.Va=void 0}async function Kk(e){e.Ra.set("Online")}async function Yk(e){e.Ia.forEach((t,n)=>{q_(e,t)})}async function $k(e,t){g1(e),Z_(e)?(e.Ra.ha(t),G_(e)):e.Ra.set("Unknown")}async function Xk(e,t,n){if(e.Ra.set("Online"),t instanceof t1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(e,t)}catch(s){Rt(Sl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await am(e,s)}else if(t instanceof Md?e.Va.Ze(t):t instanceof Jx?e.Va.st(t):e.Va.tt(t),!n.isEqual(Gt.min()))try{const s=await h1(e.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Vn.EMPTY_BYTE_STRING,E.snapshotVersion)),p1(u,y);const A=new ao(E.target,y,_,E.sequenceNumber);q_(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Rt(Sl,"Failed to raise snapshot:",s),await am(e,s)}}async function am(e,t,n){if(!Xu(t))throw t;e.Ea.add(1),await $h(e),e.Ra.set("Offline"),n||(n=()=>h1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Rt(Sl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Nm(e)})}function y1(e,t){return t().catch(n=>am(e,n,t))}async function Om(e){const t=Zt(e),n=_o(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:I_;for(;Qk(t);)try{const o=await Dk(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,Jk(t,o)}catch(o){await am(t,o)}_1(t)&&v1(t)}function Qk(e){return Il(e)&&e.Ta.length<10}function Jk(e,t){e.Ta.push(t);const n=_o(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _1(e){return Il(e)&&!_o(e).x_()&&e.Ta.length>0}function v1(e){_o(e).start()}async function tV(e){_o(e).ra()}async function eV(e){const t=_o(e);for(const n of e.Ta)t.ea(n.mutations)}async function nV(e,t,n){const s=e.Ta.shift(),o=k_.from(s,t,n);await y1(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Om(e)}async function iV(e,t){t&&_o(e).X_&&await async function(s,o){if(function(f){return UO(f)&&f!==ht.ABORTED}(o.code)){const u=s.Ta.shift();_o(s).B_(),await y1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Om(s)}}(e,t),_1(e)&&v1(e)}async function mb(e,t){const n=Zt(e);n.asyncQueue.verifyOperationInProgress(),Rt(Sl,"RemoteStore received new credentials");const s=Il(n);n.Ea.add(3),await $h(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Nm(n)}async function sV(e,t){const n=Zt(e);t?(n.Ea.delete(2),await Nm(n)):t||(n.Ea.add(2),await $h(n),n.Ra.set("Unknown"))}function Qu(e){return e.ma||(e.ma=function(n,s,o){const u=Zt(n);return u.sa(),new Fk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:Kk.bind(null,e),t_:Yk.bind(null,e),r_:$k.bind(null,e),H_:Xk.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Z_(e)?G_(e):e.Ra.set("Unknown")):(await e.ma.stop(),g1(e))})),e.ma}function _o(e){return e.fa||(e.fa=function(n,s,o){const u=Zt(n);return u.sa(),new Hk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:tV.bind(null,e),r_:iV.bind(null,e),ta:eV.bind(null,e),na:nV.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Om(e)):(await e.fa.stop(),e.Ta.length>0&&(Rt(Sl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new W_(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K_(e,t){if(sa("AsyncQueue",`${t}: ${e}`),Xu(e))return new xt(ht.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{static emptySet(t){return new Lu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Nt.comparator(n.key,s.key):(n,s)=>Nt.comparator(n.key,s.key),this.keyedMap=ih(),this.sortedSet=new Ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Lu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Lu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.ga=new Ge(Nt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):zt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Uu{constructor(t,n,s,o,u,f,m,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Uu(t,n,Lu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class aV{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Zt(n),u=o.queries;o.queries=gb(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new xt(ht.ABORTED,"Firestore shutting down"))}}function gb(){return new Rl(e=>jx(e),Cm)}async function T1(e,t){const n=Zt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new rV,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=K_(f,`Initialization of query '${vu(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Y_(n)}async function E1(e,t){const n=Zt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oV(e,t){const n=Zt(e);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Y_(n)}function lV(e,t,n){const s=Zt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Y_(e){e.Ca.forEach(t=>{t.next()})}var My,yb;(yb=My||(My={})).Ma="default",yb.Cache="cache";class w1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Uu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Uu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.key=t}}class S1{constructor(t){this.key=t}}class uV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=re(),this.mutatedKeys=re(),this.eu=zx(t),this.tu=new Lu(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new pb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const x=o.get(E),D=Im(this.query,A)?A:null,U=!!x&&this.mutatedKeys.has(x.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let W=!1;x&&D?x.data.isEqual(D.data)?U!==F&&(s.track({type:3,doc:D}),W=!0):this.su(x,D)||(s.track({type:2,doc:D}),W=!0,(y&&this.eu(D,y)>0||_&&this.eu(D,_)<0)&&(m=!0)):!x&&D?(s.track({type:0,doc:D}),W=!0):x&&!D&&(s.track({type:1,doc:x}),W=!0,(y||_)&&(m=!0)),W&&(D?(f=f.add(D),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,A)=>function(D,U){const F=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Rt:W})}};return F(D)-F(U)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new Uu(this.query,t.tu,u,f,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=re(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new S1(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new b1(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=re();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Uu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $_="SyncEngine";class cV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class hV{constructor(t){this.key=t,this.hu=!1}}class fV{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Rl(m=>jx(m),Cm),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(Nt.comparator),this.Au=new Map,this.Ru=new j_,this.Vu={},this.mu=new Map,this.fu=Vu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dV(e,t,n=!0){const s=P1(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await A1(s,t,n,!0),o}async function mV(e,t){const n=P1(e);await A1(n,t,!0,!1)}async function A1(e,t,n,s){const o=await Nk(e.localStore,ur(t)),u=o.targetId,f=e.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await pV(e,t,u,f==="current",o.resumeToken)),e.isPrimaryClient&&n&&m1(e.remoteStore,o),m}async function pV(e,t,n,s,o){e.pu=(A,x,D)=>async function(F,W,Z,nt){let J=W.view.ru(Z);J.Cs&&(J=await ub(F.localStore,W.query,!1).then(({documents:H})=>W.view.ru(H,J)));const Et=nt&&nt.targetChanges.get(W.targetId),mt=nt&&nt.targetMismatches.get(W.targetId)!=null,At=W.view.applyChanges(J,F.isPrimaryClient,Et,mt);return vb(F,W.targetId,At.au),At.snapshot}(e,A,x,D);const u=await ub(e.localStore,t,!0),f=new uV(t,u.Qs),m=f.ru(u.documents),y=Yh.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),_=f.applyChanges(m,e.isPrimaryClient,y);vb(e,n,_.au);const E=new cV(t,n,f);return e.Tu.set(t,E),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),_.snapshot}async function gV(e,t,n){const s=Zt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Cm(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Py(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&H_(s.remoteStore,o.targetId),Dy(s,o.targetId)}).catch($u)):(Dy(s,o.targetId),await Py(s.localStore,o.targetId,!0))}async function yV(e,t){const n=Zt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),H_(n.remoteStore,s.targetId))}async function _V(e,t,n){const s=AV(e);try{const o=await function(f,m){const y=Zt(f),_=Ve.now(),E=m.reduce((D,U)=>D.add(U.key),re());let A,x;return y.persistence.runTransaction("Locally write mutations","readwrite",D=>{let U=ra(),F=re();return y.Ns.getEntries(D,E).next(W=>{U=W,U.forEach((Z,nt)=>{nt.isValidDocument()||(F=F.add(Z))})}).next(()=>y.localDocuments.getOverlayedDocuments(D,U)).next(W=>{A=W;const Z=[];for(const nt of m){const J=DO(nt,A.get(nt.key).overlayedDocument);J!=null&&Z.push(new Cl(nt.key,J,Lx(J.value.mapValue),ta.exists(!0)))}return y.mutationQueue.addMutationBatch(D,_,Z,m)}).next(W=>{x=W;const Z=W.applyToLocalDocumentSet(A,F);return y.documentOverlayCache.saveOverlays(D,W.batchId,Z)})}).then(()=>({batchId:x.batchId,changes:Fx(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new Ge(se)),_=_.insert(m,y),f.Vu[f.currentUser.toKey()]=_}(s,o.batchId,n),await Xh(s,o.changes),await Om(s.remoteStore)}catch(o){const u=K_(o,"Failed to persist write");n.reject(u)}}async function x1(e,t){const n=Zt(e);try{const s=await Lk(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ge(f.hu,14607):o.removedDocuments.size>0&&(ge(f.hu,42227),f.hu=!1))}),await Xh(n,s,t)}catch(s){await $u(s)}}function _b(e,t,n){const s=Zt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Zt(f);y.onlineState=m;let _=!1;y.queries.forEach((E,A)=>{for(const x of A.Sa)x.va(m)&&(_=!0)}),_&&Y_(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function vV(e,t,n){const s=Zt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new Ge(Nt.comparator);f=f.insert(u,Yn.newNoDocument(u,Gt.min()));const m=re().add(u),y=new Mm(Gt.min(),new Map,new Ge(se),f,m);await x1(s,y),s.du=s.du.remove(u),s.Au.delete(t),X_(s)}else await Py(s.localStore,t,!1).then(()=>Dy(s,t,n)).catch($u)}async function TV(e,t){const n=Zt(e),s=t.batch.batchId;try{const o=await Pk(n.localStore,t);C1(n,s,null),R1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Xh(n,o)}catch(o){await $u(o)}}async function EV(e,t,n){const s=Zt(e);try{const o=await function(f,m){const y=Zt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return y.mutationQueue.lookupMutationBatch(_,m).next(A=>(ge(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>y.localDocuments.getDocuments(_,E))})}(s.localStore,t);C1(s,t,n),R1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Xh(s,o)}catch(o){await $u(o)}}function R1(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function C1(e,t,n){const s=Zt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Dy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||I1(e,s)})}function I1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(H_(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),X_(e))}function vb(e,t,n){for(const s of n)s instanceof b1?(e.Ru.addReference(s.key,t),wV(e,s)):s instanceof S1?(Rt($_,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||I1(e,s.key)):zt(19791,{wu:s})}function wV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Rt($_,"New document in limbo: "+n),e.Eu.add(s),X_(e))}function X_(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Nt(Ne.fromString(t)),s=e.fu.next();e.Au.set(s,new hV(n)),e.du=e.du.insert(n,s),m1(e.remoteStore,new ao(ur(N_(n.path)),s,"TargetPurposeLimboResolution",Am.ce))}}async function Xh(e,t,n){const s=Zt(e),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,t,n).then(_=>{if((_||n)&&s.isPrimaryClient){const E=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=B_.As(y.targetId,_);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,_){const E=Zt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>dt.forEach(_,x=>dt.forEach(x.Es,D=>E.persistence.referenceDelegate.addReference(A,x.targetId,D)).next(()=>dt.forEach(x.ds,D=>E.persistence.referenceDelegate.removeReference(A,x.targetId,D)))))}catch(A){if(!Xu(A))throw A;Rt(F_,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const D=E.Ms.get(x),U=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(x,F)}}}(s.localStore,u))}async function bV(e,t){const n=Zt(e);if(!n.currentUser.isEqual(t)){Rt($_,"User change. New user:",t.toKey());const s=await c1(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new xt(ht.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xh(n,s.Ls)}}function SV(e,t){const n=Zt(e),s=n.Au.get(t);if(s&&s.hu)return re().add(s.key);{let o=re();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function P1(e){const t=Zt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=x1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vV.bind(null,t),t.Pu.H_=oV.bind(null,t.eventManager),t.Pu.yu=lV.bind(null,t.eventManager),t}function AV(e){const t=Zt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EV.bind(null,t),t}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Ik(this.persistence,new xk,t.initialUser,this.serializer)}Cu(t){return new u1(z_.mi,this.serializer)}Du(t){return new kk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class xV extends om{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ge(this.persistence.referenceDelegate instanceof rm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hk(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new u1(s=>rm.mi(s,n),this.serializer)}}class Ny{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_b(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bV.bind(null,this.syncEngine),await sV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new aV}()}createDatastore(t){const n=Dm(t.databaseInfo.databaseId),s=function(u){return new Bk(u)}(t.databaseInfo);return function(u,f,m,y){return new Gk(u,f,m,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new Wk(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>_b(this.syncEngine,n,0),function(){return fb.v()?new fb:new Vk}())}createSyncEngine(t,n){return function(o,u,f,m,y,_,E){const A=new fV(o,u,f,m,y,_);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Zt(n);Rt(Sl,"RemoteStore shutting down."),s.Ea.add(5),await $h(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ny.provider={build:()=>new Ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="FirestoreClient";class RV{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Kn.UNAUTHENTICATED,this.clientId=C_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{Rt(vo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(Rt(vo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=K_(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Hg(e,t){e.asyncQueue.verifyOperationInProgress(),Rt(vo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await c1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Tb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await CV(e);Rt(vo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>mb(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,o)=>mb(t.remoteStore,o)),e._onlineComponents=t}async function CV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt(vo,"Using user provided OfflineComponentProvider");try{await Hg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Du("Error using user provided cache. Falling back to memory cache: "+n),await Hg(e,new om)}}else Rt(vo,"Using default OfflineComponentProvider"),await Hg(e,new xV(void 0));return e._offlineComponents}async function M1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt(vo,"Using user provided OnlineComponentProvider"),await Tb(e,e._uninitializedComponentsProvider._online)):(Rt(vo,"Using default OnlineComponentProvider"),await Tb(e,new Ny))),e._onlineComponents}function IV(e){return M1(e).then(t=>t.syncEngine)}async function D1(e){const t=await M1(e),n=t.eventManager;return n.onListen=dV.bind(null,t.syncEngine),n.onUnlisten=gV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yV.bind(null,t.syncEngine),n}function PV(e,t,n={}){const s=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new L1({next:x=>{E.Nu(),f.enqueueAndForget(()=>E1(u,A));const D=x.docs.has(m);!D&&x.fromCache?_.reject(new xt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&x.fromCache&&y&&y.source==="server"?_.reject(new xt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new w1(N_(m.path),E,{includeMetadataChanges:!0,qa:!0});return T1(u,A)}(await D1(e),e.asyncQueue,t,n,s)),s.promise}function LV(e,t,n={}){const s=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,_){const E=new L1({next:x=>{E.Nu(),f.enqueueAndForget(()=>E1(u,A)),x.fromCache&&y.source==="server"?_.reject(new xt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new w1(m,E,{includeMetadataChanges:!0,qa:!0});return T1(u,A)}(await D1(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firestore.googleapis.com",wb=!0;class bb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new xt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O1,this.ssl=wb}else this.host=t.host,this.ssl=t.ssl??wb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=l1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uk)throw new xt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N1(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class km{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VN;switch(s.type){case"firstParty":return new BN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Eb.get(n);s&&(Rt("ComponentProvider","Removing Datastore"),Eb.delete(n),s.terminate())}(this),Promise.resolve()}}function MV(e,t,n,s={}){e=bl(e,km);const o=Al(t),u=e._getSettings(),f={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${n}`;o&&(f_(`https://${m}`),d_("Firestore",!0)),u.host!==O1&&u.host!==m&&Du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!_l(y,f)&&(e._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=Kn.MOCK_USER;else{_=WL(s.mockUserToken,e._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new xt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Kn(A)}e._authCredentials=new UN(new vx(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ju(this.firestore,t,this._query)}}class hn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Zh(n,hn._jsonSchema))return new hn(t,s||null,new Nt(Ne.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:cn("string",hn._jsonSchemaVersion),referencePath:cn("string")};class co extends Ju{constructor(t,n,s){super(t,n,N_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new Nt(t))}withConverter(t){return new co(this.firestore,t,this._path)}}function Q_(e,t,...n){if(e=Cn(e),Tx("collection","path",t),e instanceof km){const s=Ne.fromString(t,...n);return kw(s),new co(e,null,s)}{if(!(e instanceof hn||e instanceof co))throw new xt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ne.fromString(t,...n));return kw(s),new co(e.firestore,null,s)}}function Oy(e,t,...n){if(e=Cn(e),arguments.length===1&&(t=C_.newId()),Tx("doc","path",t),e instanceof km){const s=Ne.fromString(t,...n);return Ow(s),new hn(e,null,new Nt(s))}{if(!(e instanceof hn||e instanceof co))throw new xt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ne.fromString(t,...n));return Ow(s),new hn(e.firestore,e instanceof co?e.converter:null,new Nt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="AsyncQueue";class Ab{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f1(this,"async_queue_retry"),this._c=()=>{const s=Fg();s&&Rt(Sb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Fg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xu(t))throw t;Rt(Sb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,sa("INTERNAL UNHANDLED ERROR: ",xb(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=W_.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&zt(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function xb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Vm extends km{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Ab,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ab(t),this._firestoreClient=void 0,await t}}}function DV(e,t){const n=typeof e=="object"?e:g_(),s=typeof e=="string"?e:Qd,o=vm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=AA("firestore");u&&MV(o,...u)}return o}function J_(e){if(e._terminated)throw new xt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||NV(e),e._firestoreClient}function NV(e){const t=e._freezeSettings(),n=function(o,u,f,m){return new sO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,N1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new RV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cs(Vn.fromBase64String(t))}catch(n){throw new xt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cs(Vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zh(t,cs._jsonSchema))return cs.fromBase64String(t.bytes)}}cs._jsonSchemaVersion="firestore/bytes/1.0",cs._jsonSchema={type:cn("string",cs._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new xt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new xt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hr._jsonSchemaVersion}}static fromJSON(t){if(Zh(t,hr._jsonSchema))return new hr(t.latitude,t.longitude)}}hr._jsonSchemaVersion="firestore/geoPoint/1.0",hr._jsonSchema={type:cn("string",hr._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zh(t,fr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new fr(t.vectorValues);throw new xt(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:cn("string",fr._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=/^__.*__$/;class kV{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Cl(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kh(t,this.data,n,this.fieldTransforms)}}function V1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ac:e})}}class ev{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ev({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(V1(this.Ac)&&OV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class VV{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Dm(t)}Cc(t,n,s,o=!1){return new ev({Ac:t,methodName:n,Dc:s,path:kn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U1(e){const t=e._freezeSettings(),n=Dm(e._databaseId);return new VV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function UV(e,t,n,s,o,u={}){const f=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);B1("Data must be an object, but it was:",f,s);const m=j1(s,f);let y,_;if(u.merge)y=new Os(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const x=zV(t,A,n);if(!f.contains(x))throw new xt(ht.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);FV(E,x)||E.push(x)}y=new Os(E),_=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,_=f.fieldTransforms;return new kV(new us(m),y,_)}function jV(e,t,n,s=!1){return nv(n,e.Cc(s?4:3,t))}function nv(e,t){if(z1(e=Cn(e)))return B1("Unsupported field value:",t,e),j1(e,t);if(e instanceof k1)return function(s,o){if(!V1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=nv(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=Cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ve.fromDate(s);return{timestampValue:sm(o.serializer,u)}}if(s instanceof Ve){const u=new Ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sm(o.serializer,u)}}if(s instanceof hr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof cs)return{bytesValue:e1(o.serializer,s._byteString)};if(s instanceof hn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:U_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fr)return function(f,m){return{mapValue:{fields:{[Ix]:{stringValue:Px},[Jd]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return O_(m.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Sm(s)}`)}(e,t)}function j1(e,t){const n={};return bx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xl(e,(s,o)=>{const u=nv(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function z1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof hr||e instanceof cs||e instanceof hn||e instanceof k1||e instanceof fr)}function B1(e,t,n){if(!z1(n)||!Ex(n)){const s=Sm(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function zV(e,t,n){if((t=Cn(t))instanceof tv)return t._internalPath;if(typeof t=="string")return F1(e,t);throw lm("Field path arguments must be of type string or ",e,!1,void 0,n)}const BV=new RegExp("[~\\*/\\[\\]]");function F1(e,t,n){if(t.search(BV)>=0)throw lm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tv(...t.split("."))._internalPath}catch{throw lm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function lm(e,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new xt(ht.INVALID_ARGUMENT,m+e+y)}function FV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(iv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HV extends H1{data(){return super.data()}}function iv(e,t){return typeof t=="string"?F1(e,t):t instanceof tv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new xt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sv{}class GV extends sv{}function rv(e,t,...n){let s=[];t instanceof sv&&s.push(t),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof av).length,m=u.filter(y=>y instanceof Um).length;if(f>1||f>0&&m>0)throw new xt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class Um extends GV{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Um(t,n,s)}_apply(t){const n=this._parse(t);return q1(t._query,n),new Ju(t.firestore,t.converter,Sy(t._query,n))}_parse(t){const n=U1(t.firestore);return function(u,f,m,y,_,E,A){let x;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new xt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Cb(A,E);const U=[];for(const F of A)U.push(Rb(y,u,F));x={arrayValue:{values:U}}}else x=Rb(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Cb(A,E),x=jV(m,f,A,E==="in"||E==="not-in");return un.create(_,E,x)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ju(e,t,n){const s=t,o=iv("where",e);return Um._create(o,s,n)}class av extends sv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new av(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Us.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)q1(f,y),f=Sy(f,y)}(t._query,n),new Ju(t.firestore,t.converter,Sy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rb(e,t,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new xt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ux(t)&&n.indexOf("/")!==-1)throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Ne.fromString(n));if(!Nt.isDocumentKey(s))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qw(e,new Nt(s))}if(n instanceof hn)return qw(e,n._key);throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(n)}.`)}function Cb(e,t){if(!Array.isArray(e)||e.length===0)throw new xt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function q1(e,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new xt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ZV{convertValue(t,n="none"){switch(yo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(go(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw zt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return xl(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[Jd].arrayValue?.values?.map(s=>en(s.doubleValue));return new fr(n)}convertGeoPoint(t){return new hr(en(t.latitude),en(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Rm(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xh(t));default:return null}}convertTimestamp(t){const n=po(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Ne.fromString(t);ge(o1(s),9688,{name:t});const o=new Rh(s.get(1),s.get(3)),u=new Nt(s.popFirst(5));return o.isEqual(n)||sa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class rh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pl extends H1{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(iv("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=pl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",pl._jsonSchema={type:cn("string",pl._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class Dd extends pl{data(t={}){return super.data(t)}}class Mu{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new rh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Dd(this._firestore,this._userDataWriter,s.key,s,new rh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new Dd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new rh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new Dd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new rh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:KV(m.type),doc:y,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=C_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function KV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(e){e=bl(e,hn);const t=bl(e.firestore,Vm);return PV(J_(t),e._key).then(n=>$V(t,e,n))}Mu._jsonSchemaVersion="firestore/querySnapshot/1.0",Mu._jsonSchema={type:cn("string",Mu._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class Z1 extends ZV{constructor(t){super(),this.firestore=t}convertBytes(t){return new cs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ov(e){e=bl(e,Ju);const t=bl(e.firestore,Vm),n=J_(t),s=new Z1(t);return qV(e._query),LV(n,e._query).then(o=>new Mu(t,s,e,o))}function Ib(e,t,n){e=bl(e,hn);const s=bl(e.firestore,Vm),o=WV(e.converter,t);return YV(s,[UV(U1(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ta.none())])}function YV(e,t){return function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget(async()=>_V(await IV(s),o,u)),u.promise}(J_(e),t)}function $V(e,t,n){const s=n.docs.get(t._key),o=new Z1(e);return new pl(e,o,t._key,s,new rh(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Yu=o})(Wu),vl(new fo("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Vm(new jN(s.getProvider("auth-internal")),new FN(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new xt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(_.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),or(Lw,Mw,t),or(Lw,Mw,"esm2020")})();const W1={apiKey:"AIzaSyBh-nePsQ50f6ZMZ1PaLUUfhD3hExxgRsI",authDomain:"findmyhistory.firebaseapp.com",projectId:"findmyhistory",storageBucket:"findmyhistory.firebasestorage.app",messagingSenderId:"951487481110",appId:"1:951487481110:web:242bd9188bb043df177c37"},lv=PA(W1),ho=ON(lv),XV=new Kr,zu=DV(lv);W1.apiKey||console.warn("Firebase API key not found in environment variables");const K1=k.createContext();function QV(){return k.useContext(K1)}function JV({children:e}){const[t,n]=k.useState(null),[s,o]=k.useState(!0);k.useEffect(()=>Em(ho,m=>{n(m),o(!1)}),[]);const u={user:t,loading:s};return S.jsx(K1.Provider,{value:u,children:!s&&e})}function t4({scrollYProgress:e}){const t=Eo(),n=ds(),[s,o]=k.useState(0),{user:u}=QV();k.useEffect(()=>{if(n.pathname==="/"){if(e)return e.on("change",y=>{if(y>=.7){const _=Math.min(1,(y-.7)/.1);o(_)}else o(0)})}else o(1)},[e,n.pathname]);const f=async()=>{await S2(ho),t("/")};return S.jsxs("div",{className:"global-header",style:{opacity:s},children:[S.jsx("h1",{className:"global-header-title clickable",onClick:()=>t("/"),children:"TagLogger"}),S.jsx("div",{className:"header-login-btn",children:u?S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"login-btn",onClick:()=>t("/dashboard"),children:"Dashboard"}),S.jsx("button",{className:"login-btn",onClick:f,style:{marginLeft:"0.5rem"},children:"Logout"})]}):S.jsx("button",{className:"login-btn",onClick:()=>t("/login"),children:"Login"})})]})}function e4({children:e}){const[t,n]=k.useState(null),[s,o]=k.useState(!0),[u,f]=k.useState(!1);return k.useEffect(()=>{const m=Em(ho,async y=>{if(n(y),y){const _=Q_(zu,"purchases"),E=rv(_,ju("userId","==",y.uid),ju("status","==","paid")),x=(await ov(E)).docs.reduce((D,U)=>D+(U.data().tagCount||0),0);f(x>0)}else f(!1);o(!1)});return()=>m()},[]),s?null:t?u?e:S.jsx(QE,{to:"/purchase"}):S.jsx(QE,{to:"/login"})}const Y1=k.createContext({});function jm(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const uv=typeof window<"u",cv=uv?k.useLayoutEffect:k.useEffect,hv=k.createContext(null);function fv(e,t){e.indexOf(t)===-1&&e.push(t)}function dv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const yr=(e,t,n)=>n>t?t:n<e?e:n;let Lh=()=>{};const aa={},$1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function X1(e){return typeof e=="object"&&e!==null}const Q1=e=>/^0[^.\s]+$/u.test(e);function mv(e){let t;return()=>(t===void 0&&(t=e()),t)}const _i=e=>e,n4=(e,t)=>n=>t(e(n)),Qh=(...e)=>e.reduce(n4),Bu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class pv{constructor(){this.subscriptions=[]}add(t){return fv(this.subscriptions,t),()=>dv(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dr=e=>e*1e3,mr=e=>e/1e3;function gv(e,t){return t?e*(1e3/t):0}const J1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,i4=1e-7,s4=12;function r4(e,t,n,s,o){let u,f,m=0;do f=t+(n-t)/2,u=J1(f,s,o)-e,u>0?n=f:t=f;while(Math.abs(u)>i4&&++m<s4);return f}function Jh(e,t,n,s){if(e===t&&n===s)return _i;const o=u=>r4(u,0,1,e,n);return u=>u===0||u===1?u:J1(o(u),t,s)}const tR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eR=e=>t=>1-e(1-t),nR=Jh(.33,1.53,.69,.99),yv=eR(nR),iR=tR(yv),sR=e=>(e*=2)<1?.5*yv(e):.5*(2-Math.pow(2,-10*(e-1))),_v=e=>1-Math.sin(Math.acos(e)),rR=eR(_v),aR=tR(_v),a4=Jh(.42,0,1,1),o4=Jh(0,0,.58,1),oR=Jh(.42,0,.58,1),l4=e=>Array.isArray(e)&&typeof e[0]!="number",lR=e=>Array.isArray(e)&&typeof e[0]=="number",u4={linear:_i,easeIn:a4,easeInOut:oR,easeOut:o4,circIn:_v,circInOut:aR,circOut:rR,backIn:yv,backInOut:iR,backOut:nR,anticipate:sR},c4=e=>typeof e=="string",Pb=e=>{if(lR(e)){Lh(e.length===4);const[t,n,s,o]=e;return Jh(t,n,s,o)}else if(c4(e))return u4[e];return e},dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h4(e,t){let n=new Set,s=new Set,o=!1,u=!1;const f=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(E){f.has(E)&&(_.schedule(E),e()),E(m)}const _={schedule:(E,A=!1,x=!1)=>{const U=x&&o?n:s;return A&&f.add(E),U.has(E)||U.add(E),E},cancel:E=>{s.delete(E),f.delete(E)},process:E=>{if(m=E,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,_.process(E))}};return _}const f4=40;function uR(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=dd.reduce((J,Et)=>(J[Et]=h4(u),J),{}),{setup:m,read:y,resolveKeyframes:_,preUpdate:E,update:A,preRender:x,render:D,postRender:U}=f,F=()=>{const J=aa.useManualTiming?o.timestamp:performance.now();n=!1,aa.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(J-o.timestamp,f4),1)),o.timestamp=J,o.isProcessing=!0,m.process(o),y.process(o),_.process(o),E.process(o),A.process(o),x.process(o),D.process(o),U.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(F))},W=()=>{n=!0,s=!0,o.isProcessing||e(F)};return{schedule:dd.reduce((J,Et)=>{const mt=f[Et];return J[Et]=(At,H=!1,N=!1)=>(n||W(),mt.schedule(At,H,N)),J},{}),cancel:J=>{for(let Et=0;Et<dd.length;Et++)f[dd[Et]].cancel(J)},state:o,steps:f}}const{schedule:Te,cancel:js,state:xn,steps:qg}=uR(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0);let Nd;function d4(){Nd=void 0}const gi={now:()=>(Nd===void 0&&gi.set(xn.isProcessing||aa.useManualTiming?xn.timestamp:performance.now()),Nd),set:e=>{Nd=e,queueMicrotask(d4)}},cR=e=>t=>typeof t=="string"&&t.startsWith(e),vv=cR("--"),m4=cR("var(--"),Tv=e=>m4(e)?p4.test(e.split("/*")[0].trim()):!1,p4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mh={...tc,transform:e=>yr(0,1,e)},md={...tc,default:1},ph=e=>Math.round(e*1e5)/1e5,Ev=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g4(e){return e==null}const y4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wv=(e,t)=>n=>!!(typeof n=="string"&&y4.test(n)&&n.startsWith(e)||t&&!g4(n)&&Object.prototype.hasOwnProperty.call(n,t)),hR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,f,m]=s.match(Ev);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},_4=e=>yr(0,255,e),Gg={...tc,transform:e=>Math.round(_4(e))},dl={test:wv("rgb","red"),parse:hR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Gg.transform(e)+", "+Gg.transform(t)+", "+Gg.transform(n)+", "+ph(Mh.transform(s))+")"};function v4(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ky={test:wv("#"),parse:v4,transform:dl.transform},tf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),no=tf("deg"),pr=tf("%"),Ft=tf("px"),T4=tf("vh"),E4=tf("vw"),Lb={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},wu={test:wv("hsl","hue"),parse:hR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+pr.transform(ph(t))+", "+pr.transform(ph(n))+", "+ph(Mh.transform(s))+")"},ln={test:e=>dl.test(e)||ky.test(e)||wu.test(e),parse:e=>dl.test(e)?dl.parse(e):wu.test(e)?wu.parse(e):ky.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?dl.transform(e):wu.transform(e),getAnimatableNone:e=>{const t=ln.parse(e);return t.alpha=0,ln.transform(t)}},w4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function b4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Ev)?.length||0)+(e.match(w4)?.length||0)>0}const fR="number",dR="color",S4="var",A4="var(",Mb="${}",x4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(x4,y=>(ln.test(y)?(s.color.push(u),o.push(dR),n.push(ln.parse(y))):y.startsWith(A4)?(s.var.push(u),o.push(S4),n.push(y)):(s.number.push(u),o.push(fR),n.push(parseFloat(y))),++u,Mb)).split(Mb);return{values:n,split:m,indexes:s,types:o}}function mR(e){return Dh(e).values}function pR(e){const{split:t,types:n}=Dh(e),s=t.length;return o=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],o[f]!==void 0){const m=n[f];m===fR?u+=ph(o[f]):m===dR?u+=ln.transform(o[f]):u+=o[f]}return u}}const R4=e=>typeof e=="number"?0:ln.test(e)?ln.getAnimatableNone(e):e;function C4(e){const t=mR(e);return pR(e)(t.map(R4))}const To={test:b4,parse:mR,createTransformer:pR,getAnimatableNone:C4};function Zg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function I4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,f=0;if(!t)o=u=f=n;else{const m=n<.5?n*(1+t):n+t-n*t,y=2*n-m;o=Zg(y,m,e+1/3),u=Zg(y,m,e),f=Zg(y,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function um(e,t){return n=>n>0?t:e}const qe=(e,t,n)=>e+(t-e)*n,Wg=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},P4=[ky,dl,wu],L4=e=>P4.find(t=>t.test(e));function Db(e){const t=L4(e);if(!t)return!1;let n=t.parse(e);return t===wu&&(n=I4(n)),n}const Nb=(e,t)=>{const n=Db(e),s=Db(t);if(!n||!s)return um(e,t);const o={...n};return u=>(o.red=Wg(n.red,s.red,u),o.green=Wg(n.green,s.green,u),o.blue=Wg(n.blue,s.blue,u),o.alpha=qe(n.alpha,s.alpha,u),dl.transform(o))},Vy=new Set(["none","hidden"]);function M4(e,t){return Vy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function D4(e,t){return n=>qe(e,t,n)}function bv(e){return typeof e=="number"?D4:typeof e=="string"?Tv(e)?um:ln.test(e)?Nb:k4:Array.isArray(e)?gR:typeof e=="object"?ln.test(e)?Nb:N4:um}function gR(e,t){const n=[...e],s=n.length,o=e.map((u,f)=>bv(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=o[f](u);return n}}function N4(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=bv(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function O4(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=e.indexes[u][s[u]],m=e.values[f]??0;n[o]=m,s[u]++}return n}const k4=(e,t)=>{const n=To.createTransformer(t),s=Dh(e),o=Dh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Vy.has(e)&&!o.values.length||Vy.has(t)&&!s.values.length?M4(e,t):Qh(gR(O4(s,o),o.values),n):um(e,t)};function yR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qe(e,t,n):bv(e)(e,t)}const V4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Te.update(t,n),stop:()=>js(t),now:()=>xn.isProcessing?xn.timestamp:gi.now()}},_R=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},cm=2e4;function Sv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<cm;)t+=n,s=e.next(t);return t>=cm?1/0:t}function U4(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Sv(s),cm);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:mr(o)}}const j4=5;function vR(e,t,n){const s=Math.max(t-j4,0);return gv(n-e(s),t-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kg=.001;function z4({duration:e=Ye.duration,bounce:t=Ye.bounce,velocity:n=Ye.velocity,mass:s=Ye.mass}){let o,u,f=1-t;f=yr(Ye.minDamping,Ye.maxDamping,f),e=yr(Ye.minDuration,Ye.maxDuration,mr(e)),f<1?(o=_=>{const E=_*f,A=E*e,x=E-n,D=Uy(_,f),U=Math.exp(-A);return Kg-x/D*U},u=_=>{const A=_*f*e,x=A*n+n,D=Math.pow(f,2)*Math.pow(_,2)*e,U=Math.exp(-A),F=Uy(Math.pow(_,2),f);return(-o(_)+Kg>0?-1:1)*((x-D)*U)/F}):(o=_=>{const E=Math.exp(-_*e),A=(_-n)*e+1;return-Kg+E*A},u=_=>{const E=Math.exp(-_*e),A=(n-_)*(e*e);return E*A});const m=5/e,y=F4(o,u,m);if(e=dr(e),isNaN(y))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:e};{const _=Math.pow(y,2)*s;return{stiffness:_,damping:f*2*Math.sqrt(s*_),duration:e}}}const B4=12;function F4(e,t,n){let s=n;for(let o=1;o<B4;o++)s=s-e(s)/t(s);return s}function Uy(e,t){return e*Math.sqrt(1-t*t)}const H4=["duration","bounce"],q4=["stiffness","damping","mass"];function Ob(e,t){return t.some(n=>e[n]!==void 0)}function G4(e){let t={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...e};if(!Ob(e,q4)&&Ob(e,H4))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*yr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ye.mass,stiffness:o,damping:u}}else{const n=z4(e);t={...t,...n,mass:Ye.mass},t.isResolvedFromDuration=!0}return t}function hm(e=Ye.visualDuration,t=Ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:_,mass:E,duration:A,velocity:x,isResolvedFromDuration:D}=G4({...n,velocity:-mr(n.velocity||0)}),U=x||0,F=_/(2*Math.sqrt(y*E)),W=f-u,Z=mr(Math.sqrt(y/E)),nt=Math.abs(W)<5;s||(s=nt?Ye.restSpeed.granular:Ye.restSpeed.default),o||(o=nt?Ye.restDelta.granular:Ye.restDelta.default);let J;if(F<1){const mt=Uy(Z,F);J=At=>{const H=Math.exp(-F*Z*At);return f-H*((U+F*Z*W)/mt*Math.sin(mt*At)+W*Math.cos(mt*At))}}else if(F===1)J=mt=>f-Math.exp(-Z*mt)*(W+(U+Z*W)*mt);else{const mt=Z*Math.sqrt(F*F-1);J=At=>{const H=Math.exp(-F*Z*At),N=Math.min(mt*At,300);return f-H*((U+F*Z*W)*Math.sinh(N)+mt*W*Math.cosh(N))/mt}}const Et={calculatedDuration:D&&A||null,next:mt=>{const At=J(mt);if(D)m.done=mt>=A;else{let H=mt===0?U:0;F<1&&(H=mt===0?dr(U):vR(J,mt,At));const N=Math.abs(H)<=s,V=Math.abs(f-At)<=o;m.done=N&&V}return m.value=m.done?f:At,m},toString:()=>{const mt=Math.min(Sv(Et),cm),At=_R(H=>Et.next(mt*H).value,mt,30);return mt+"ms "+At},toTransition:()=>{}};return Et}hm.applyToOptions=e=>{const t=U4(e,100,hm);return e.ease=t.ease,e.duration=dr(t.duration),e.type="keyframes",e};function jy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:m,max:y,restDelta:_=.5,restSpeed:E}){const A=e[0],x={done:!1,value:A},D=N=>m!==void 0&&N<m||y!==void 0&&N>y,U=N=>m===void 0?y:y===void 0||Math.abs(m-N)<Math.abs(y-N)?m:y;let F=n*t;const W=A+F,Z=f===void 0?W:f(W);Z!==W&&(F=Z-A);const nt=N=>-F*Math.exp(-N/s),J=N=>Z+nt(N),Et=N=>{const V=nt(N),q=J(N);x.done=Math.abs(V)<=_,x.value=x.done?Z:q};let mt,At;const H=N=>{D(x.value)&&(mt=N,At=hm({keyframes:[x.value,U(x.value)],velocity:vR(J,N,x.value),damping:o,stiffness:u,restDelta:_,restSpeed:E}))};return H(0),{calculatedDuration:null,next:N=>{let V=!1;return!At&&mt===void 0&&(V=!0,Et(N),H(N)),mt!==void 0&&N>=mt?At.next(N-mt):(!V&&Et(N),x)}}}function Z4(e,t,n){const s=[],o=n||aa.mix||yR,u=e.length-1;for(let f=0;f<u;f++){let m=o(e[f],e[f+1]);if(t){const y=Array.isArray(t)?t[f]||_i:t;m=Qh(y,m)}s.push(m)}return s}function Av(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Lh(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=Z4(t,s,o),y=m.length,_=E=>{if(f&&E<e[0])return t[0];let A=0;if(y>1)for(;A<e.length-2&&!(E<e[A+1]);A++);const x=Bu(e[A],e[A+1],E);return m[A](x)};return n?E=>_(yr(e[0],e[u-1],E)):_}function W4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Bu(0,t,s);e.push(qe(n,1,o))}}function TR(e){const t=[0];return W4(t,e.length-1),t}function K4(e,t){return e.map(n=>n*t)}function Y4(e,t){return e.map(()=>t||oR).splice(0,e.length-1)}function gh({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=l4(s)?s.map(Pb):Pb(s),u={done:!1,value:t[0]},f=K4(n&&n.length===t.length?n:TR(t),e),m=Av(f,t,{ease:Array.isArray(o)?o:Y4(t,o)});return{calculatedDuration:e,next:y=>(u.value=m(y),u.done=y>=e,u)}}const $4=e=>e!==null;function xv(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter($4),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const X4={decay:jy,inertia:jy,tween:gh,keyframes:gh,spring:hm};function ER(e){typeof e.type=="string"&&(e.type=X4[e.type])}class Rv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Q4=e=>e/100;class Cv extends Rv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gi.now()&&this.tick(gi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ER(t);const{type:n=gh,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:m}=t;const y=n||gh;y!==gh&&typeof m[0]!="number"&&(this.mixKeyframes=Qh(Q4,yR(m[0],m[1])),m=[0,100]);const _=y({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-f})),_.calculatedDuration===null&&(_.calculatedDuration=Sv(_));const{calculatedDuration:E}=_;this.calculatedDuration=E,this.resolvedDuration=E+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=_}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:_=0,keyframes:E,repeat:A,repeatType:x,repeatDelay:D,type:U,onUpdate:F,finalKeyframe:W}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-_*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?Z<0:Z>o;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let J=this.currentTime,Et=s;if(A){const N=Math.min(this.currentTime,o)/m;let V=Math.floor(N),q=N%1;!q&&N>=1&&(q=1),q===1&&V--,V=Math.min(V,A+1),!!(V%2)&&(x==="reverse"?(q=1-q,D&&(q-=D/m)):x==="mirror"&&(Et=f)),J=yr(0,1,q)*m}const mt=nt?{done:!1,value:E[0]}:Et.next(J);u&&(mt.value=u(mt.value));let{done:At}=mt;!nt&&y!==null&&(At=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&At);return H&&U!==jy&&(mt.value=xv(E,this.options,W,this.speed)),F&&F(mt.value),H&&this.finish(),mt}then(t,n){return this.finished.then(t,n)}get duration(){return mr(this.calculatedDuration)}get time(){return mr(this.currentTime)}set time(t){t=dr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=mr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=V4,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function J4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ml=e=>e*180/Math.PI,zy=e=>{const t=ml(Math.atan2(e[1],e[0]));return By(t)},t3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zy,rotateZ:zy,skewX:e=>ml(Math.atan(e[1])),skewY:e=>ml(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},By=e=>(e=e%360,e<0&&(e+=360),e),kb=zy,Vb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ub=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),e3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vb,scaleY:Ub,scale:e=>(Vb(e)+Ub(e))/2,rotateX:e=>By(ml(Math.atan2(e[6],e[5]))),rotateY:e=>By(ml(Math.atan2(-e[2],e[0]))),rotateZ:kb,rotate:kb,skewX:e=>ml(Math.atan(e[4])),skewY:e=>ml(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Fy(e){return e.includes("scale")?1:0}function Hy(e,t){if(!e||e==="none")return Fy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=e3,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=t3,o=m}if(!o)return Fy(t);const u=s[t],f=o[1].split(",").map(i3);return typeof u=="function"?u(f):f[u]}const n3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Hy(n,t)};function i3(e){return parseFloat(e.trim())}const ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nc=new Set(ec),jb=e=>e===tc||e===Ft,s3=new Set(["x","y","z"]),r3=ec.filter(e=>!s3.has(e));function a3(e){const t=[];return r3.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const gl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Hy(t,"x"),y:(e,{transform:t})=>Hy(t,"y")};gl.translateX=gl.x;gl.translateY=gl.y;const yl=new Set;let qy=!1,Gy=!1,Zy=!1;function wR(){if(Gy){const e=Array.from(yl).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=a3(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Gy=!1,qy=!1,yl.forEach(e=>e.complete(Zy)),yl.clear()}function bR(){yl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Gy=!0)})}function o3(){Zy=!0,bR(),wR(),Zy=!1}class Iv{constructor(t,n,s,o,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(yl.add(this),qy||(qy=!0,Te.read(bR),Te.resolveKeyframes(wR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const m=s.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}J4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),yl.delete(this)}cancel(){this.state==="scheduled"&&(yl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const l3=e=>e.startsWith("--");function u3(e,t,n){l3(t)?e.style.setProperty(t,n):e.style[t]=n}const SR=mv(()=>window.ScrollTimeline!==void 0),c3={};function h3(e,t){const n=mv(e);return()=>c3[t]??n()}const AR=h3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ah=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ah([0,.65,.55,1]),circOut:ah([.55,0,1,.45]),backIn:ah([.31,.01,.66,-.59]),backOut:ah([.33,1.53,.69,.99])};function xR(e,t){if(e)return typeof e=="function"?AR()?_R(e,t):"ease-out":lR(e)?ah(e):Array.isArray(e)?e.map(n=>xR(n,t)||zb.easeOut):zb[e]}function f3(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:m="easeOut",times:y}={},_=void 0){const E={[t]:n};y&&(E.offset=y);const A=xR(m,o);Array.isArray(A)&&(E.easing=A);const x={delay:s,duration:o,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return _&&(x.pseudoElement=_),e.animate(E,x)}function RR(e){return typeof e=="function"&&"applyToOptions"in e}function d3({type:e,...t}){return RR(e)&&AR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class m3 extends Rv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Lh(typeof t.type!="string");const _=d3(t);this.animation=f3(n,s,o,_,u),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const E=xv(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(E):u3(n,s,E),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return mr(Number(t))}get time(){return mr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=dr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&SR()?(this.animation.timeline=t,_i):n(this)}}const CR={anticipate:sR,backInOut:iR,circInOut:aR};function p3(e){return e in CR}function g3(e){typeof e.ease=="string"&&p3(e.ease)&&(e.ease=CR[e.ease])}const Bb=10;class y3 extends m3{constructor(t){g3(t),ER(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new Cv({...f,autoplay:!1}),y=dr(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-Bb).value,m.sample(y).value,Bb),m.stop()}}const Fb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(To.test(e)||e==="0")&&!e.startsWith("url("));function _3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function v3(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=Fb(o,t),m=Fb(u,t);return!f||!m?!1:_3(e)||(n==="spring"||RR(n))&&s}const T3=new Set(["opacity","clipPath","filter","transform"]),E3=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w3(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=t.owner.getProps();return E3()&&n&&T3.has(n)&&(n!=="transform"||!_)&&!y&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}const b3=40;class S3 extends Rv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:m,name:y,motionValue:_,element:E,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gi.now();const x={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:f,name:y,motionValue:_,element:E,...A},D=E?.KeyframeResolver||Iv;this.keyframeResolver=new D(m,(U,F,W)=>this.onKeyframesResolved(U,F,x,!W),y,_,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:m,delay:y,isHandoff:_,onUpdate:E}=s;this.resolvedAt=gi.now(),v3(t,u,f,m)||((aa.instantAnimations||!y)&&E?.(xv(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>b3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},D=!_&&w3(x)?new y3({...x,element:x.motionValue.owner.current}):new Cv(x);D.finished.then(()=>this.notifyFinished()).catch(_i),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),o3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const A3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x3(e){const t=A3.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function IR(e,t,n=1){const[s,o]=x3(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return $1(f)?parseFloat(f):f}return Tv(o)?IR(o,t,n+1):o}function Pv(e,t){return e?.[t]??e?.default??e}const PR=new Set(["width","height","top","left","right","bottom",...ec]),R3={test:e=>e==="auto",parse:e=>e},LR=e=>t=>t.test(e),MR=[tc,Ft,pr,no,E4,T4,R3],Hb=e=>MR.find(LR(e));function C3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Q1(e):!0}const I3=new Set(["brightness","contrast","saturate","opacity"]);function P3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Ev)||[];if(!s)return e;const o=n.replace(s,"");let u=I3.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const L3=/\b([a-z-]*)\(.*?\)/gu,Wy={...To,getAnimatableNone:e=>{const t=e.match(L3);return t?t.map(P3).join(" "):e}},qb={...tc,transform:Math.round},M3={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:md,scaleX:md,scaleY:md,scaleZ:md,skew:no,skewX:no,skewY:no,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:Mh,originX:Lb,originY:Lb,originZ:Ft},Lv={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,backgroundPositionX:Ft,backgroundPositionY:Ft,...M3,zIndex:qb,fillOpacity:Mh,strokeOpacity:Mh,numOctaves:qb},D3={...Lv,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Wy,WebkitFilter:Wy},DR=e=>D3[e];function NR(e,t){let n=DR(e);return n!==Wy&&(n=To),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const N3=new Set(["auto","none","0"]);function O3(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!N3.has(u)&&Dh(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=NR(n,o)}class k3 extends Iv{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Tv(_))){const E=IR(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!PR.has(s)||t.length!==2)return;const[o,u]=t,f=Hb(o),m=Hb(u);if(f!==m)if(jb(f)&&jb(m))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else gl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||C3(t[o]))&&s.push(o);s.length&&O3(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=gl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function OR(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const kR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function VR(e){return X1(e)&&"offsetHeight"in e}const Gb=30,V3=e=>!isNaN(parseFloat(e)),yh={current:void 0};class U3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const u=gi.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=gi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=V3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pv);const s=this.events[t].add(n);return t==="change"?()=>{s(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return yh.current&&yh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gb);return gv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ks(e,t){return new U3(e,t)}const{schedule:Mv}=uR(queueMicrotask,!1),Ds={x:!1,y:!1};function UR(){return Ds.x||Ds.y}function j3(e){return e==="x"||e==="y"?Ds[e]?null:(Ds[e]=!0,()=>{Ds[e]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function jR(e,t){const n=OR(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Zb(e){return!(e.pointerType==="touch"||UR())}function z3(e,t,n={}){const[s,o,u]=jR(e,n),f=m=>{if(!Zb(m))return;const{target:y}=m,_=t(y,m);if(typeof _!="function"||!y)return;const E=A=>{Zb(A)&&(_(A),y.removeEventListener("pointerleave",E))};y.addEventListener("pointerleave",E,o)};return s.forEach(m=>{m.addEventListener("pointerenter",f,o)}),u}const zR=(e,t)=>t?e===t?!0:zR(e,t.parentElement):!1,Dv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,B3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F3(e){return B3.has(e.tagName)||e.tabIndex!==-1}const Od=new WeakSet;function Wb(e){return t=>{t.key==="Enter"&&e(t)}}function Yg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H3=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Wb(()=>{if(Od.has(n))return;Yg(n,"down");const o=Wb(()=>{Yg(n,"up")}),u=()=>Yg(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Kb(e){return Dv(e)&&!UR()}function q3(e,t,n={}){const[s,o,u]=jR(e,n),f=m=>{const y=m.currentTarget;if(!Kb(m))return;Od.add(y);const _=t(y,m),E=(D,U)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",x),Od.has(y)&&Od.delete(y),Kb(D)&&typeof _=="function"&&_(D,{success:U})},A=D=>{E(D,y===window||y===document||n.useGlobalTarget||zR(y,D.target))},x=D=>{E(D,!1)};window.addEventListener("pointerup",A,o),window.addEventListener("pointercancel",x,o)};return s.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",f,o),VR(m)&&(m.addEventListener("focus",_=>H3(_,o)),!F3(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Nv(e){return X1(e)&&"ownerSVGElement"in e}const kd=new WeakMap;let Vd;const BR=(e,t,n)=>(s,o)=>o&&o[0]?o[0][e+"Size"]:Nv(s)&&"getBBox"in s?s.getBBox()[t]:s[n],G3=BR("inline","width","offsetWidth"),Z3=BR("block","height","offsetHeight");function W3({target:e,borderBoxSize:t}){kd.get(e)?.forEach(n=>{n(e,{get width(){return G3(e,t)},get height(){return Z3(e,t)}})})}function K3(e){e.forEach(W3)}function Y3(){typeof ResizeObserver>"u"||(Vd=new ResizeObserver(K3))}function $3(e,t){Vd||Y3();const n=OR(e);return n.forEach(s=>{let o=kd.get(s);o||(o=new Set,kd.set(s,o)),o.add(t),Vd?.observe(s)}),()=>{n.forEach(s=>{const o=kd.get(s);o?.delete(t),o?.size||Vd?.unobserve(s)})}}const Ud=new Set;let bu;function X3(){bu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ud.forEach(t=>t(e))},window.addEventListener("resize",bu)}function Q3(e){return Ud.add(e),bu||X3(),()=>{Ud.delete(e),!Ud.size&&typeof bu=="function"&&(window.removeEventListener("resize",bu),bu=void 0)}}function J3(e,t){return typeof e=="function"?Q3(e):$3(e,t)}function FR(e,t){let n;const s=()=>{const{currentTime:o}=t,f=(o===null?0:o.value)/100;n!==f&&e(f),n=f};return Te.preUpdate(s,!0),()=>js(s)}function tU(e){return Nv(e)&&e.tagName==="svg"}function eU(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],o=e[1+n],u=e[2+n],f=e[3+n],m=Av(o,u,f);return t?m(s):m}const $n=e=>!!(e&&e.getVelocity),nU=[...MR,ln,To],iU=e=>nU.find(LR(e)),Ov=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function sU(e=!0){const t=k.useContext(hv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=k.useId();k.useEffect(()=>{if(e)return o(u)},[e]);const f=k.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const HR=k.createContext({strict:!1}),Yb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fu={};for(const e in Yb)Fu[e]={isEnabled:t=>Yb[e].some(n=>!!t[n])};function rU(e){for(const t in e)Fu[t]={...Fu[t],...e[t]}}const aU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aU.has(e)}let qR=e=>!fm(e);function oU(e){typeof e=="function"&&(qR=t=>t.startsWith("on")?!fm(t):e(t))}try{oU(require("@emotion/is-prop-valid").default)}catch{}function lU(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(qR(o)||n===!0&&fm(o)||!t&&!fm(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const zm=k.createContext({});function Bm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nh(e){return typeof e=="string"||Array.isArray(e)}const kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vv=["initial",...kv];function Fm(e){return Bm(e.animate)||Vv.some(t=>Nh(e[t]))}function GR(e){return!!(Fm(e)||e.variants)}function uU(e,t){if(Fm(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Nh(n)?n:void 0,animate:Nh(s)?s:void 0}}return e.inherit!==!1?t:{}}function cU(e){const{initial:t,animate:n}=uU(e,k.useContext(zm));return k.useMemo(()=>({initial:t,animate:n}),[$b(t),$b(n)])}function $b(e){return Array.isArray(e)?e.join(" "):e}const Oh={};function hU(e){for(const t in e)Oh[t]=e[t],vv(t)&&(Oh[t].isCSSVariable=!0)}function ZR(e,{layout:t,layoutId:n}){return nc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Oh[e]||e==="opacity")}const fU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dU=ec.length;function mU(e,t,n){let s="",o=!0;for(let u=0;u<dU;u++){const f=ec[u],m=e[f];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(f.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const _=kR(m,Lv[f]);if(!y){o=!1;const E=fU[f]||f;s+=`${E}(${_}) `}n&&(t[f]=_)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Uv(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let f=!1,m=!1;for(const y in t){const _=t[y];if(nc.has(y)){f=!0;continue}else if(vv(y)){o[y]=_;continue}else{const E=kR(_,Lv[y]);y.startsWith("origin")?(m=!0,u[y]=E):s[y]=E}}if(t.transform||(f||n?s.transform=mU(t,e.transform,n):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:_="50%",originZ:E=0}=u;s.transformOrigin=`${y} ${_} ${E}`}}const jv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WR(e,t,n){for(const s in t)!$n(t[s])&&!ZR(s,n)&&(e[s]=t[s])}function pU({transformTemplate:e},t){return k.useMemo(()=>{const n=jv();return Uv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function gU(e,t){const n=e.style||{},s={};return WR(s,n,e),Object.assign(s,pU(e,t)),s}function yU(e,t){const n={},s=gU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const _U={offset:"stroke-dashoffset",array:"stroke-dasharray"},vU={offset:"strokeDashoffset",array:"strokeDasharray"};function TU(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?_U:vU;e[u.offset]=Ft.transform(-s);const f=Ft.transform(t),m=Ft.transform(n);e[u.array]=`${f} ${m}`}function KR(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...m},y,_,E){if(Uv(e,m,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:x}=e;A.transform&&(x.transform=A.transform,delete A.transform),(x.transform||A.transformOrigin)&&(x.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),x.transform&&(x.transformBox=E?.transformBox??"fill-box",delete A.transformBox),t!==void 0&&(A.x=t),n!==void 0&&(A.y=n),s!==void 0&&(A.scale=s),o!==void 0&&TU(A,o,u,f,!1)}const YR=()=>({...jv(),attrs:{}}),$R=e=>typeof e=="string"&&e.toLowerCase()==="svg";function EU(e,t,n,s){const o=k.useMemo(()=>{const u=YR();return KR(u,t,$R(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};WR(u,e.style,e),o.style={...u,...o.style}}return o}const wU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zv(e){return typeof e!="string"||e.includes("-")?!1:!!(wU.indexOf(e)>-1||/[A-Z]/u.test(e))}function bU(e,t,n,{latestValues:s},o,u=!1){const m=(zv(e)?EU:yU)(t,s,o,e),y=lU(t,typeof e=="string",u),_=e!==k.Fragment?{...y,...m,ref:n}:{},{children:E}=t,A=k.useMemo(()=>$n(E)?E.get():E,[E]);return k.createElement(e,{..._,children:A})}function Xb(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Bv(e,t,n,s){if(typeof t=="function"){const[o,u]=Xb(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Xb(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function jd(e){return $n(e)?e.get():e}function SU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:AU(n,s,o,e),renderState:t()}}function AU(e,t,n,s){const o={},u=s(e,{});for(const x in u)o[x]=jd(u[x]);let{initial:f,animate:m}=e;const y=Fm(e),_=GR(e);t&&_&&!y&&e.inherit!==!1&&(f===void 0&&(f=t.initial),m===void 0&&(m=t.animate));let E=n?n.initial===!1:!1;E=E||f===!1;const A=E?m:f;if(A&&typeof A!="boolean"&&!Bm(A)){const x=Array.isArray(A)?A:[A];for(let D=0;D<x.length;D++){const U=Bv(e,x[D]);if(U){const{transitionEnd:F,transition:W,...Z}=U;for(const nt in Z){let J=Z[nt];if(Array.isArray(J)){const Et=E?J.length-1:0;J=J[Et]}J!==null&&(o[nt]=J)}for(const nt in F)o[nt]=F[nt]}}}return o}const XR=e=>(t,n)=>{const s=k.useContext(zm),o=k.useContext(hv),u=()=>SU(e,t,s,o);return n?u():jm(u)};function Fv(e,t,n){const{style:s}=e,o={};for(const u in s)($n(s[u])||t.style&&$n(t.style[u])||ZR(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const xU=XR({scrapeMotionValuesFromProps:Fv,createRenderState:jv});function QR(e,t,n){const s=Fv(e,t,n);for(const o in e)if($n(e[o])||$n(t[o])){const u=ec.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const RU=XR({scrapeMotionValuesFromProps:QR,createRenderState:YR}),CU=Symbol.for("motionComponentSymbol");function Su(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IU(e,t,n){return k.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Su(n)&&(n.current=s))},[t])}const Hv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PU="framerAppearId",JR="data-"+Hv(PU),tC=k.createContext({});function LU(e,t,n,s,o){const{visualElement:u}=k.useContext(zm),f=k.useContext(HR),m=k.useContext(hv),y=k.useContext(Ov).reducedMotion,_=k.useRef(null);s=s||f.renderer,!_.current&&s&&(_.current=s(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,A=k.useContext(tC);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&MU(_.current,n,o,A);const x=k.useRef(!1);k.useInsertionEffect(()=>{E&&x.current&&E.update(n,m)});const D=n[JR],U=k.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return cv(()=>{E&&(x.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),U.current&&E.animationState&&E.animationState.animateChanges())}),k.useEffect(()=>{E&&(!U.current&&E.animationState&&E.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),U.current=!1))}),E}function MU(e,t,n,s){const{layoutId:o,layout:u,drag:f,dragConstraints:m,layoutScroll:y,layoutRoot:_,layoutCrossfade:E}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:eC(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||m&&Su(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:E,layoutScroll:y,layoutRoot:_})}function eC(e){if(e)return e.options.allowProjection!==!1?e.projection:eC(e.parent)}function $g(e,{forwardMotionProps:t=!1}={},n,s){n&&rU(n);const o=zv(e)?RU:xU;function u(m,y){let _;const E={...k.useContext(Ov),...m,layoutId:DU(m)},{isStatic:A}=E,x=cU(m),D=o(m,A);if(!A&&uv){NU();const U=OU(E);_=U.MeasureLayout,x.visualElement=LU(e,D,E,s,U.ProjectionNode)}return S.jsxs(zm.Provider,{value:x,children:[_&&x.visualElement?S.jsx(_,{visualElement:x.visualElement,...E}):null,bU(e,m,IU(D,x.visualElement,y),D,A,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=k.forwardRef(u);return f[CU]=e,f}function DU({layoutId:e}){const t=k.useContext(Y1).id;return t&&e!==void 0?t+"-"+e:e}function NU(e,t){k.useContext(HR).strict}function OU(e){const{drag:t,layout:n}=Fu;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function kU(e,t){if(typeof Proxy>"u")return $g;const n=new Map,s=(u,f)=>$g(u,f,e,t),o=(u,f)=>s(u,f);return new Proxy(o,{get:(u,f)=>f==="create"?s:(n.has(f)||n.set(f,$g(f,void 0,e,t)),n.get(f))})}function nC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function VU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Xg(e){return e===void 0||e===1}function Ky({scale:e,scaleX:t,scaleY:n}){return!Xg(e)||!Xg(t)||!Xg(n)}function cl(e){return Ky(e)||iC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iC(e){return Qb(e.x)||Qb(e.y)}function Qb(e){return e&&e!=="0%"}function dm(e,t,n){const s=e-n,o=t*s;return n+o}function Jb(e,t,n,s,o){return o!==void 0&&(e=dm(e,o,s)),dm(e,n,s)+t}function Yy(e,t=0,n=1,s,o){e.min=Jb(e.min,t,n,s,o),e.max=Jb(e.max,t,n,s,o)}function sC(e,{x:t,y:n}){Yy(e.x,t.translate,t.scale,t.originPoint),Yy(e.y,n.translate,n.scale,n.originPoint)}const tS=.999999999999,eS=1.0000000000001;function jU(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,f;for(let m=0;m<o;m++){u=n[m],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xu(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,sC(e,f)),s&&cl(u.latestValues)&&xu(e,u.latestValues))}t.x<eS&&t.x>tS&&(t.x=1),t.y<eS&&t.y>tS&&(t.y=1)}function Au(e,t){e.min=e.min+t,e.max=e.max+t}function nS(e,t,n,s,o=.5){const u=qe(e.min,e.max,o);Yy(e,t,n,u,s)}function xu(e,t){nS(e.x,t.x,t.scaleX,t.scale,t.originX),nS(e.y,t.y,t.scaleY,t.scale,t.originY)}function rC(e,t){return nC(UU(e.getBoundingClientRect(),t))}function zU(e,t,n){const s=rC(e,n),{scroll:o}=t;return o&&(Au(s.x,o.offset.x),Au(s.y,o.offset.y)),s}const iS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ru=()=>({x:iS(),y:iS()}),sS=()=>({min:0,max:0}),tn=()=>({x:sS(),y:sS()}),$y={current:null},aC={current:!1};function BU(){if(aC.current=!0,!!uv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$y.current=e.matches;e.addEventListener("change",t),t()}else $y.current=!1}const FU=new WeakMap;function HU(e,t,n){for(const s in t){const o=t[s],u=n[s];if($n(o))e.addValue(s,o);else if($n(u))e.addValue(s,ks(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=e.getStaticValue(s);e.addValue(s,ks(f!==void 0?f:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const rS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qU{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Iv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=gi.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Te.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Fm(n),this.isVariantNode=GR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...A}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in A){const D=A[x];y[x]!==void 0&&$n(D)&&D.set(y[x],!1)}}mount(t){this.current=t,FU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),aC.current||BU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$y.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),js(this.notifyUpdate),js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=nc.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&Te.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u(),f&&f(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fu){const n=Fu[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<rS.length;s++){const o=rS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=HU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ks(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&($1(s)||Q1(s))?s=parseFloat(s):!iU(s)&&To.test(n)&&(s=NR(t,n)),this.setBaseTarget(t,$n(s)?s.get():s)),$n(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=Bv(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!$n(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Mv.render(this.render)}}class oC extends qU{constructor(){super(...arguments),this.KeyframeResolver=k3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lC(e,{style:t,vars:n},s,o){const u=e.style;let f;for(f in t)u[f]=t[f];o?.applyProjectionStyles(u,s);for(f in n)u.setProperty(f,n[f])}function GU(e){return window.getComputedStyle(e)}class ZU extends oC{constructor(){super(...arguments),this.type="html",this.renderInstance=lC}readValueFromInstance(t,n){if(nc.has(n))return this.projection?.isProjecting?Fy(n):n3(t,n);{const s=GU(t),o=(vv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rC(t,n)}build(t,n,s){Uv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Fv(t,n,s)}}const uC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WU(e,t,n,s){lC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(uC.has(o)?o:Hv(o),t.attrs[o])}class KU extends oC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nc.has(n)){const s=DR(n);return s&&s.default||0}return n=uC.has(n)?n:Hv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return QR(t,n,s)}build(t,n,s){KR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){WU(t,n,s,o)}mount(t){this.isSVGTag=$R(t.tagName),super.mount(t)}}const YU=(e,t)=>zv(e)?new KU(t):new ZU(t,{allowProjection:e!==k.Fragment});function kh(e,t,n){const s=e.getProps();return Bv(s,t,n!==void 0?n:s.custom,e)}const Xy=e=>Array.isArray(e);function $U(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ks(n))}function XU(e){return Xy(e)?e[e.length-1]||0:e}function QU(e,t){const n=kh(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const f in u){const m=XU(u[f]);$U(e,f,m)}}function JU(e){return!!($n(e)&&e.add)}function Qy(e,t){const n=e.getValue("willChange");if(JU(n))return n.add(t);if(!n&&aa.WillChange){const s=new aa.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function cC(e){return e.props[JR]}const tj=e=>e!==null;function ej(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(tj),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const nj={type:"spring",stiffness:500,damping:25,restSpeed:10},ij=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sj={type:"keyframes",duration:.8},rj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aj=(e,{keyframes:t})=>t.length>2?sj:nc.has(e)?e.startsWith("scale")?ij(t[1]):nj:rj;function oj({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:m,from:y,elapsed:_,...E}){return!!Object.keys(E).length}const qv=(e,t,n,s={},o,u)=>f=>{const m=Pv(s,e)||{},y=m.delay||s.delay||0;let{elapsed:_=0}=s;_=_-dr(y);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-_,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};oj(m)||Object.assign(E,aj(e,E)),E.duration&&(E.duration=dr(E.duration)),E.repeatDelay&&(E.repeatDelay=dr(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(A=!0)),(aa.instantAnimations||aa.skipAnimations)&&(A=!0,E.duration=0,E.delay=0),E.allowFlatten=!m.type&&!m.ease,A&&!u&&t.get()!==void 0){const x=ej(E.keyframes,m);if(x!==void 0){Te.update(()=>{E.onUpdate(x),E.onComplete()});return}}return m.isSync?new Cv(E):new S3(E)};function lj({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function hC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:f,...m}=t;s&&(u=s);const y=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const E in m){const A=e.getValue(E,e.latestValues[E]??null),x=m[E];if(x===void 0||_&&lj(_,E))continue;const D={delay:n,...Pv(u||{},E)},U=A.get();if(U!==void 0&&!A.isAnimating&&!Array.isArray(x)&&x===U&&!D.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const Z=cC(e);if(Z){const nt=window.MotionHandoffAnimation(Z,E,Te);nt!==null&&(D.startTime=nt,F=!0)}}Qy(e,E),A.start(qv(E,A,x,e.shouldReduceMotion&&PR.has(E)?{type:!1}:D,e,F));const W=A.animation;W&&y.push(W)}return f&&Promise.all(y).then(()=>{Te.update(()=>{f&&QU(e,f)})}),y}function Jy(e,t,n={}){const s=kh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(hC(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:E,staggerDirection:A}=o;return uj(e,t,y,_,E,A,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,_]=m==="beforeChildren"?[u,f]:[f,u];return y().then(()=>_())}else return Promise.all([u(),f(n.delay)])}function uj(e,t,n=0,s=0,o=0,u=1,f){const m=[],y=e.variantChildren.size,_=(y-1)*o,E=typeof s=="function",A=E?x=>s(x,y):u===1?(x=0)=>x*o:(x=0)=>_-x*o;return Array.from(e.variantChildren).sort(cj).forEach((x,D)=>{x.notify("AnimationStart",t),m.push(Jy(x,t,{...f,delay:n+(E?0:s)+A(D)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(m)}function cj(e,t){return e.sortNodePosition(t)}function hj(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>Jy(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=Jy(e,t,n);else{const o=typeof t=="function"?kh(e,t,n.custom):t;s=Promise.all(hC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function fC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const fj=Vv.length;function dC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<fj;n++){const s=Vv[n],o=e.props[s];(Nh(o)||o===!1)&&(t[s]=o)}return t}const dj=[...kv].reverse(),mj=kv.length;function pj(e){return t=>Promise.all(t.map(({animation:n,options:s})=>hj(e,n,s)))}function gj(e){let t=pj(e),n=aS(),s=!0;const o=y=>(_,E)=>{const A=kh(e,E,y==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:x,transitionEnd:D,...U}=A;_={..._,...U,...D}}return _};function u(y){t=y(e)}function f(y){const{props:_}=e,E=dC(e.parent)||{},A=[],x=new Set;let D={},U=1/0;for(let W=0;W<mj;W++){const Z=dj[W],nt=n[Z],J=_[Z]!==void 0?_[Z]:E[Z],Et=Nh(J),mt=Z===y?nt.isActive:null;mt===!1&&(U=W);let At=J===E[Z]&&J!==_[Z]&&Et;if(At&&s&&e.manuallyAnimateOnMount&&(At=!1),nt.protectedKeys={...D},!nt.isActive&&mt===null||!J&&!nt.prevProp||Bm(J)||typeof J=="boolean")continue;const H=yj(nt.prevProp,J);let N=H||Z===y&&nt.isActive&&!At&&Et||W>U&&Et,V=!1;const q=Array.isArray(J)?J:[J];let G=q.reduce(o(Z),{});mt===!1&&(G={});const{prevResolvedValues:Y={}}=nt,B={...Y,...G},de=_t=>{N=!0,x.has(_t)&&(V=!0,x.delete(_t)),nt.needsAnimating[_t]=!0;const pt=e.getValue(_t);pt&&(pt.liveStyle=!1)};for(const _t in B){const pt=G[_t],$t=Y[_t];if(D.hasOwnProperty(_t))continue;let O=!1;Xy(pt)&&Xy($t)?O=!fC(pt,$t):O=pt!==$t,O?pt!=null?de(_t):x.add(_t):pt!==void 0&&x.has(_t)?de(_t):nt.protectedKeys[_t]=!0}nt.prevProp=J,nt.prevResolvedValues=G,nt.isActive&&(D={...D,...G}),s&&e.blockInitialAnimation&&(N=!1),N&&(!(At&&H)||V)&&A.push(...q.map(_t=>({animation:_t,options:{type:Z}})))}if(x.size){const W={};if(typeof _.initial!="boolean"){const Z=kh(e,Array.isArray(_.initial)?_.initial[0]:_.initial);Z&&Z.transition&&(W.transition=Z.transition)}x.forEach(Z=>{const nt=e.getBaseTarget(Z),J=e.getValue(Z);J&&(J.liveStyle=!0),W[Z]=nt??null}),A.push({animation:W})}let F=!!A.length;return s&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(F=!1),s=!1,F?t(A):Promise.resolve()}function m(y,_){if(n[y].isActive===_)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(y,_)),n[y].isActive=_;const E=f(y);for(const A in n)n[A].protectedKeys={};return E}return{animateChanges:f,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=aS(),s=!0}}}function yj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fC(t,e):!1}function ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aS(){return{animate:ll(!0),whileInView:ll(),whileHover:ll(),whileTap:ll(),whileDrag:ll(),whileFocus:ll(),exit:ll()}}class Ao{constructor(t){this.isMounted=!1,this.node=t}update(){}}class _j extends Ao{constructor(t){super(t),t.animationState||(t.animationState=gj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let vj=0;class Tj extends Ao{constructor(){super(...arguments),this.id=vj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ej={animation:{Feature:_j},exit:{Feature:Tj}};function Vh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function ef(e){return{point:{x:e.pageX,y:e.pageY}}}const wj=e=>t=>Dv(t)&&e(t,ef(t));function _h(e,t,n,s){return Vh(e,t,wj(n),s)}const mC=1e-4,bj=1-mC,Sj=1+mC,pC=.01,Aj=0-pC,xj=0+pC;function ri(e){return e.max-e.min}function Rj(e,t,n){return Math.abs(e-t)<=n}function oS(e,t,n,s=.5){e.origin=s,e.originPoint=qe(t.min,t.max,e.origin),e.scale=ri(n)/ri(t),e.translate=qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=bj&&e.scale<=Sj||isNaN(e.scale))&&(e.scale=1),(e.translate>=Aj&&e.translate<=xj||isNaN(e.translate))&&(e.translate=0)}function vh(e,t,n,s){oS(e.x,t.x,n.x,s?s.originX:void 0),oS(e.y,t.y,n.y,s?s.originY:void 0)}function lS(e,t,n){e.min=n.min+t.min,e.max=e.min+ri(t)}function Cj(e,t,n){lS(e.x,t.x,n.x),lS(e.y,t.y,n.y)}function uS(e,t,n){e.min=t.min-n.min,e.max=e.min+ri(t)}function Th(e,t,n){uS(e.x,t.x,n.x),uS(e.y,t.y,n.y)}function ls(e){return[e("x"),e("y")]}const gC=({current:e})=>e?e.ownerDocument.defaultView:null,cS=(e,t)=>Math.abs(e-t);function Ij(e,t){const n=cS(e.x,t.x),s=cS(e.y,t.y);return Math.sqrt(n**2+s**2)}class yC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Jg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,U=Ij(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!U)return;const{point:F}=x,{timestamp:W}=xn;this.history.push({...F,timestamp:W});const{onStart:Z,onMove:nt}=this.handlers;D||(Z&&Z(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,x)},this.handlePointerMove=(x,D)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Qg(D,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(x,D)=>{this.end();const{onEnd:U,onSessionEnd:F,resumeAnimation:W}=this.handlers;if(this.dragSnapToOrigin&&W&&W(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Jg(x.type==="pointercancel"?this.lastMoveEventInfo:Qg(D,this.transformPagePoint),this.history);this.startEvent&&U&&U(x,Z),F&&F(x,Z)},!Dv(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=o||window;const m=ef(t),y=Qg(m,this.transformPagePoint),{point:_}=y,{timestamp:E}=xn;this.history=[{..._,timestamp:E}];const{onSessionStart:A}=n;A&&A(t,Jg(y,this.history)),this.removeListeners=Qh(_h(this.contextWindow,"pointermove",this.handlePointerMove),_h(this.contextWindow,"pointerup",this.handlePointerUp),_h(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),js(this.updatePoint)}}function Qg(e,t){return t?{point:t(e.point)}:e}function hS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jg({point:e},t){return{point:e,delta:hS(e,_C(t)),offset:hS(e,Pj(t)),velocity:Lj(t,.1)}}function Pj(e){return e[0]}function _C(e){return e[e.length-1]}function Lj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=_C(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>dr(t)));)n--;if(!s)return{x:0,y:0};const u=mr(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function Mj(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?qe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?qe(n,e,s.max):Math.min(e,n)),e}function fS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Dj(e,{top:t,left:n,bottom:s,right:o}){return{x:fS(e.x,n,o),y:fS(e.y,t,s)}}function dS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Nj(e,t){return{x:dS(e.x,t.x),y:dS(e.y,t.y)}}function Oj(e,t){let n=.5;const s=ri(e),o=ri(t);return o>s?n=Bu(t.min,t.max-s,e.min):s>o&&(n=Bu(e.min,e.max-o,t.min)),yr(0,1,n)}function kj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const t_=.35;function Vj(e=t_){return e===!1?e=0:e===!0&&(e=t_),{x:mS(e,"left","right"),y:mS(e,"top","bottom")}}function mS(e,t,n){return{min:pS(e,t),max:pS(e,n)}}function pS(e,t){return typeof e=="number"?e:e[t]||0}const Uj=new WeakMap;class jj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=A=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ef(A).point)},f=(A,x)=>{const{drag:D,dragPropagation:U,onDragStart:F}=this.getProps();if(D&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j3(D),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(Z=>{let nt=this.getAxisMotionValue(Z).get()||0;if(pr.test(nt)){const{projection:J}=this.visualElement;if(J&&J.layout){const Et=J.layout.layoutBox[Z];Et&&(nt=ri(Et)*(parseFloat(nt)/100))}}this.originPoint[Z]=nt}),F&&Te.postRender(()=>F(A,x)),Qy(this.visualElement,"transform");const{animationState:W}=this.visualElement;W&&W.setActive("whileDrag",!0)},m=(A,x)=>{this.latestPointerEvent=A,this.latestPanInfo=x;const{dragPropagation:D,dragDirectionLock:U,onDirectionLock:F,onDrag:W}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:Z}=x;if(U&&this.currentDirection===null){this.currentDirection=zj(Z),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",x.point,Z),this.updateAxis("y",x.point,Z),this.visualElement.render(),W&&W(A,x)},y=(A,x)=>{this.latestPointerEvent=A,this.latestPanInfo=x,this.stop(A,x),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>ls(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:E}=this.getProps();this.panSession=new yC(t,{onSessionStart:u,onStart:f,onMove:m,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:s,contextWindow:gC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:f}=o;this.startAnimation(f);const{onDragEnd:m}=this.getProps();m&&Te.postRender(()=>m(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!pd(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=Mj(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Su(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Dj(s.layoutBox,t):this.constraints=!1,this.elastic=Vj(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ls(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=kj(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Su(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=zU(s,o.root,this.visualElement.getTransformPagePoint());let f=Nj(o.layout.layoutBox,u);if(n){const m=n(VU(f));this.hasMutatedConstraints=!!m,m&&(f=nC(m))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},_=ls(E=>{if(!pd(E,n,this.currentDirection))return;let A=y&&y[E]||{};f&&(A={min:0,max:0});const x=o?200:1e6,D=o?40:1e7,U={type:"inertia",velocity:s?t[E]:0,bounceStiffness:x,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...A};return this.startAxisValueAnimation(E,U)});return Promise.all(_).then(m)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Qy(this.visualElement,t),s.start(qv(t,s,0,n,this.visualElement,!1))}stopAnimation(){ls(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ls(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ls(n=>{const{drag:s}=this.getProps();if(!pd(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:m}=o.layout.layoutBox[n];u.set(t[n]-qe(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Su(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ls(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const y=m.get();o[f]=Oj({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ls(f=>{if(!pd(f,t,null))return;const m=this.getAxisMotionValue(f),{min:y,max:_}=this.constraints[f];m.set(qe(y,_,o[f]))})}addListeners(){if(!this.visualElement.current)return;Uj.set(this.visualElement,this);const t=this.visualElement.current,n=_h(t,"pointerdown",y=>{const{drag:_,dragListener:E=!0}=this.getProps();_&&E&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Su(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Te.read(s);const f=Vh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(ls(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=y[E].translate,A.set(A.get()+y[E].translate))}),this.visualElement.render())});return()=>{f(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=t_,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:m}}}function pd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Bj extends Ao{constructor(t){super(t),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new jj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const gS=e=>(t,n)=>{e&&Te.postRender(()=>e(t,n))};class Fj extends Ao{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(t){this.session=new yC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:gS(t),onStart:gS(n),onMove:s,onEnd:(u,f)=>{delete this.session,o&&Te.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=_h(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ft.test(e))e=parseFloat(e);else return e;const n=yS(e,t.target.x),s=yS(e,t.target.y);return`${n}% ${s}%`}},Hj={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=To.parse(e);if(o.length>5)return s;const u=To.createTransformer(e),f=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,y=n.y.scale*t.y;o[0+f]/=m,o[1+f]/=y;const _=qe(m,y,.5);return typeof o[2+f]=="number"&&(o[2+f]/=_),typeof o[3+f]=="number"&&(o[3+f]/=_),u(o)}};let _S=!1;class qj extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;hU(Gj),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),_S&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,_S=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||Te.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vC(e){const[t,n]=sU(),s=k.useContext(Y1);return S.jsx(qj,{...e,layoutGroup:s,switchLayoutGroup:k.useContext(tC),isPresent:t,safeToRemove:n})}const Gj={borderRadius:{...Yc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yc,borderTopRightRadius:Yc,borderBottomLeftRadius:Yc,borderBottomRightRadius:Yc,boxShadow:Hj};function Zj(e,t,n){const s=$n(e)?e:ks(e);return s.start(qv("",s,t,n)),s.animation}const Wj=(e,t)=>e.depth-t.depth;class Kj{constructor(){this.children=[],this.isDirty=!1}add(t){fv(this.children,t),this.isDirty=!0}remove(t){dv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Wj),this.isDirty=!1,this.children.forEach(t)}}function Yj(e,t){const n=gi.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(js(s),e(u-t))};return Te.setup(s,!0),()=>js(s)}const TC=["TopLeft","TopRight","BottomLeft","BottomRight"],$j=TC.length,vS=e=>typeof e=="string"?parseFloat(e):e,TS=e=>typeof e=="number"||Ft.test(e);function Xj(e,t,n,s,o,u){o?(e.opacity=qe(0,n.opacity??1,Qj(s)),e.opacityExit=qe(t.opacity??1,0,Jj(s))):u&&(e.opacity=qe(t.opacity??1,n.opacity??1,s));for(let f=0;f<$j;f++){const m=`border${TC[f]}Radius`;let y=ES(t,m),_=ES(n,m);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||TS(y)===TS(_)?(e[m]=Math.max(qe(vS(y),vS(_),s),0),(pr.test(_)||pr.test(y))&&(e[m]+="%")):e[m]=_}(t.rotate||n.rotate)&&(e.rotate=qe(t.rotate||0,n.rotate||0,s))}function ES(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Qj=EC(0,.5,rR),Jj=EC(.5,.95,_i);function EC(e,t,n){return s=>s<e?0:s>t?1:n(Bu(e,t,s))}function wS(e,t){e.min=t.min,e.max=t.max}function os(e,t){wS(e.x,t.x),wS(e.y,t.y)}function bS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function SS(e,t,n,s,o){return e-=t,e=dm(e,1/n,s),o!==void 0&&(e=dm(e,1/o,s)),e}function tz(e,t=0,n=1,s=.5,o,u=e,f=e){if(pr.test(t)&&(t=parseFloat(t),t=qe(f.min,f.max,t/100)-f.min),typeof t!="number")return;let m=qe(u.min,u.max,s);e===u&&(m-=t),e.min=SS(e.min,t,n,m,o),e.max=SS(e.max,t,n,m,o)}function AS(e,t,[n,s,o],u,f){tz(e,t[n],t[s],t[o],t.scale,u,f)}const ez=["x","scaleX","originX"],nz=["y","scaleY","originY"];function xS(e,t,n,s){AS(e.x,t,ez,n?n.x:void 0,s?s.x:void 0),AS(e.y,t,nz,n?n.y:void 0,s?s.y:void 0)}function RS(e){return e.translate===0&&e.scale===1}function wC(e){return RS(e.x)&&RS(e.y)}function CS(e,t){return e.min===t.min&&e.max===t.max}function iz(e,t){return CS(e.x,t.x)&&CS(e.y,t.y)}function IS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bC(e,t){return IS(e.x,t.x)&&IS(e.y,t.y)}function PS(e){return ri(e.x)/ri(e.y)}function LS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sz{constructor(){this.members=[]}add(t){fv(this.members,t),t.scheduleRender()}remove(t){if(dv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rz(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((o||u||f)&&(s=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:_,rotate:E,rotateX:A,rotateY:x,skewX:D,skewY:U}=n;_&&(s=`perspective(${_}px) ${s}`),E&&(s+=`rotate(${E}deg) `),A&&(s+=`rotateX(${A}deg) `),x&&(s+=`rotateY(${x}deg) `),D&&(s+=`skewX(${D}deg) `),U&&(s+=`skewY(${U}deg) `)}const m=e.x.scale*t.x,y=e.y.scale*t.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const ty=["","X","Y","Z"],az=1e3;let oz=0;function ey(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function SC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=cC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&SC(s)}function AC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},m=t?.()){this.id=oz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cz),this.nodes.forEach(mz),this.nodes.forEach(pz),this.nodes.forEach(hz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kj)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new pv),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const y=this.eventHandlers.get(f);y&&y.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Nv(f)&&!tU(f),this.instance=f;const{layoutId:m,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),e){let E,A=0;const x=()=>this.root.updateBlockedByResize=!1;Te.read(()=>{A=window.innerWidth}),e(f,()=>{const D=window.innerWidth;D!==A&&(A=D,this.root.updateBlockedByResize=!0,E&&E(),E=Yj(x,250),zd.hasAnimatedSinceResize&&(zd.hasAnimatedSinceResize=!1,this.nodes.forEach(NS)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||y)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:A,hasRelativeLayoutChanged:x,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||_.getDefaultTransition()||Tz,{onLayoutAnimationStart:F,onLayoutAnimationComplete:W}=_.getProps(),Z=!this.targetLayout||!bC(this.targetLayout,D),nt=!A&&x;if(this.options.layoutRoot||this.resumeFrom||nt||A&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Pv(U,"layout"),onPlay:F,onComplete:W};(_.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(E,nt)}else A||NS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gz),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dz),this.nodes.forEach(lz),this.nodes.forEach(uz)):this.nodes.forEach(DS),this.clearAllSnapshots();const m=gi.now();xn.delta=yr(0,1e3/60,m-xn.timestamp),xn.timestamp=m,xn.isProcessing=!0,qg.update.process(xn),qg.preRender.process(xn),qg.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fz),this.sharedNodes.forEach(yz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ri(this.snapshot.measuredBox.x)&&!ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!wC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,E=_!==this.prevTransformTemplateValue;f&&this.instance&&(m||cl(this.latestValues)||E)&&(o(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return f&&(y=this.removeTransform(y)),Ez(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return tn();const m=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wz))){const{scroll:_}=this.root;_&&(Au(m.x,_.offset.x),Au(m.y,_.offset.y))}return m}removeElementScroll(f){const m=tn();if(os(m,f),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:E,options:A}=_;_!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&os(m,f),Au(m.x,E.offset.x),Au(m.y,E.offset.y))}return m}applyTransform(f,m=!1){const y=tn();os(y,f);for(let _=0;_<this.path.length;_++){const E=this.path[_];!m&&E.options.layoutScroll&&E.scroll&&E!==E.root&&xu(y,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),cl(E.latestValues)&&xu(y,E.latestValues)}return cl(this.latestValues)&&xu(y,this.latestValues),y}removeTransform(f){const m=tn();os(m,f);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!cl(_.latestValues))continue;Ky(_.latestValues)&&_.updateSnapshot();const E=tn(),A=_.measurePageBox();os(E,A),xS(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,E)}return cl(this.latestValues)&&xS(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!(!this.layout||!(E||A))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Th(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):os(this.target,this.layout.layoutBox),sC(this.target,this.targetDelta)):os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Th(this.relativeTargetOrigin,this.target,x.target),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||iC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(y=!1),y)return;const{layout:_,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||E))return;os(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,x=this.treeScale.y;jU(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=tn());const{target:D}=f;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bS(this.prevProjectionDelta.x,this.projectionDelta.x),bS(this.prevProjectionDelta.y,this.projectionDelta.y)),vh(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==x||!LS(this.projectionDelta.x,this.prevProjectionDelta.x)||!LS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ru(),this.projectionDelta=Ru(),this.projectionDeltaWithTransform=Ru()}setAnimationOrigin(f,m=!1){const y=this.snapshot,_=y?y.latestValues:{},E={...this.latestValues},A=Ru();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=tn(),D=y?y.source:void 0,U=this.layout?this.layout.source:void 0,F=D!==U,W=this.getStack(),Z=!W||W.members.length<=1,nt=!!(F&&!Z&&this.options.crossfade===!0&&!this.path.some(vz));this.animationProgress=0;let J;this.mixTargetDelta=Et=>{const mt=Et/1e3;OS(A.x,f.x,mt),OS(A.y,f.y,mt),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Th(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_z(this.relativeTarget,this.relativeTargetOrigin,x,mt),J&&iz(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=tn()),os(J,this.relativeTarget)),F&&(this.animationValues=E,Xj(E,_,this.latestValues,mt,nt,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=mt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{zd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ks(0)),this.currentAnimation=Zj(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(az),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:y,layout:_,latestValues:E}=f;if(!(!m||!y||!_)){if(this!==f&&this.layout&&_&&xC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||tn();const A=ri(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+A;const x=ri(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+x}os(m,y),xu(m,E),vh(this.projectionDeltaWithTransform,this.layoutCorrected,m,E)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new sz),this.sharedNodes.get(f).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const _={};y.z&&ey("z",f,_,this.animationValues);for(let E=0;E<ty.length;E++)ey(`rotate${ty[E]}`,f,_,this.animationValues),ey(`skew${ty[E]}`,f,_,this.animationValues);f.render();for(const E in _)f.setStaticValue(E,_[E]),this.animationValues&&(this.animationValues[E]=_[E]);f.scheduleRender()}applyProjectionStyles(f,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=jd(m?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=jd(m?.pointerEvents)||""),this.hasProjected&&!cl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const E=_.animationValues||_.latestValues;this.applyTransformsToTarget();let A=rz(this.projectionDeltaWithTransform,this.treeScale,E);y&&(A=y(E,A)),f.transform=A;const{x,y:D}=this.projectionDelta;f.transformOrigin=`${x.origin*100}% ${D.origin*100}% 0`,_.animationValues?f.opacity=_===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:f.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const U in Oh){if(E[U]===void 0)continue;const{correct:F,applyTo:W,isCSSVariable:Z}=Oh[U],nt=A==="none"?E[U]:F(E[U],_);if(W){const J=W.length;for(let Et=0;Et<J;Et++)f[W[Et]]=nt}else Z?this.options.visualElement.renderState.vars[U]=nt:f[U]=nt}this.options.layoutId&&(f.pointerEvents=_===this?jd(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(MS),this.root.sharedNodes.clear()}}}function lz(e){e.updateLayout()}function uz(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?ls(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],x=ri(A);A.min=n[E].min,A.max=A.min+x}):xC(o,t.layoutBox,n)&&ls(E=>{const A=u?t.measuredBox[E]:t.layoutBox[E],x=ri(n[E]);A.max=A.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+x)});const f=Ru();vh(f,n,t.layoutBox);const m=Ru();u?vh(m,e.applyTransform(s,!0),t.measuredBox):vh(m,n,t.layoutBox);const y=!wC(f);let _=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:x}=E;if(A&&x){const D=tn();Th(D,t.layoutBox,A.layoutBox);const U=tn();Th(U,n,x.layoutBox),bC(D,U)||(_=!0),E.options.layoutRoot&&(e.relativeTarget=U,e.relativeTargetOrigin=D,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function cz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fz(e){e.clearSnapshot()}function MS(e){e.clearMeasurements()}function DS(e){e.isLayoutDirty=!1}function dz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mz(e){e.resolveTargetDelta()}function pz(e){e.calcProjection()}function gz(e){e.resetSkewAndRotation()}function yz(e){e.removeLeadSnapshot()}function OS(e,t,n){e.translate=qe(t.translate,0,n),e.scale=qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kS(e,t,n,s){e.min=qe(t.min,n.min,s),e.max=qe(t.max,n.max,s)}function _z(e,t,n,s){kS(e.x,t.x,n.x,s),kS(e.y,t.y,n.y,s)}function vz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Tz={duration:.45,ease:[.4,0,.1,1]},VS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),US=VS("applewebkit/")&&!VS("chrome/")?Math.round:_i;function jS(e){e.min=US(e.min),e.max=US(e.max)}function Ez(e){jS(e.x),jS(e.y)}function xC(e,t,n){return e==="position"||e==="preserve-aspect"&&!Rj(PS(t),PS(n),.2)}function wz(e){return e!==e.root&&e.scroll?.wasRoot}const bz=AC({attachResizeListener:(e,t)=>Vh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ny={current:void 0},RC=AC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ny.current){const e=new bz({});e.mount(window),e.setOptions({layoutScroll:!0}),ny.current=e}return ny.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Sz={pan:{Feature:Fj},drag:{Feature:Bj,ProjectionNode:RC,MeasureLayout:vC}};function zS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&Te.postRender(()=>u(t,ef(t)))}class Az extends Ao{mount(){const{current:t}=this.node;t&&(this.unmount=z3(t,(n,s)=>(zS(this.node,s,"Start"),o=>zS(this.node,o,"End"))))}unmount(){}}class xz extends Ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qh(Vh(this.node.current,"focus",()=>this.onFocus()),Vh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&Te.postRender(()=>u(t,ef(t)))}class Rz extends Ao{mount(){const{current:t}=this.node;t&&(this.unmount=q3(t,(n,s)=>(BS(this.node,s,"Start"),(o,{success:u})=>BS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const e_=new WeakMap,iy=new WeakMap,Cz=e=>{const t=e_.get(e.target);t&&t(e)},Iz=e=>{e.forEach(Cz)};function Pz({root:e,...t}){const n=e||document;iy.has(n)||iy.set(n,{});const s=iy.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(Iz,{root:e,...t})),s[o]}function Lz(e,t,n){const s=Pz(t);return e_.set(e,n),s.observe(e),()=>{e_.delete(e),s.unobserve(e)}}const Mz={some:0,all:1};class Dz extends Ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Mz[o]},m=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,u&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),x=_?E:A;x&&x(y)};return Lz(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Nz(t,n))&&this.startObserver()}unmount(){}}function Nz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Oz={inView:{Feature:Dz},tap:{Feature:Rz},focus:{Feature:xz},hover:{Feature:Az}},kz={layout:{ProjectionNode:RC,MeasureLayout:vC}},Vz={...Ej,...Oz,...Sz,...kz},$c=kU(Vz,YU),Uz=50,FS=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),jz=()=>({time:0,x:FS(),y:FS()}),zz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function HS(e,t,n,s){const o=n[t],{length:u,position:f}=zz[t],m=o.current,y=n.time;o.current=e[`scroll${f}`],o.scrollLength=e[`scroll${u}`]-e[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Bu(0,o.scrollLength,o.current);const _=s-y;o.velocity=_>Uz?0:gv(o.current-m,_)}function Bz(e,t,n){HS(e,"x",t,n),HS(e,"y",t,n),t.time=n}function Fz(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(VR(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const o=s.getBoundingClientRect();s=s.parentElement;const u=s.getBoundingClientRect();n.x+=o.left-u.left,n.y+=o.top-u.top}else if(s instanceof SVGGraphicsElement){const{x:o,y:u}=s.getBBox();n.x+=o,n.y+=u;let f=null,m=s.parentNode;for(;!f;)m.tagName==="svg"&&(f=m),m=s.parentNode;s=f}else break;return n}const n_={start:0,center:.5,end:1};function qS(e,t,n=0){let s=0;if(e in n_&&(e=n_[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?s=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?s=o/100*document.documentElement.clientWidth:e.endsWith("vh")?s=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(s=t*e),n+s}const Hz=[0,0];function qz(e,t,n,s){let o=Array.isArray(e)?e:Hz,u=0,f=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,n_[e]?e:"0"]),u=qS(o[0],n,s),f=qS(o[1],t),u-f}const Gz={All:[[0,0],[1,1]]},Zz={x:0,y:0};function Wz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Kz(e,t,n){const{offset:s=Gz.All}=n,{target:o=e,axis:u="y"}=n,f=u==="y"?"height":"width",m=o!==e?Fz(o,e):Zz,y=o===e?{width:e.scrollWidth,height:e.scrollHeight}:Wz(o),_={width:e.clientWidth,height:e.clientHeight};t[u].offset.length=0;let E=!t[u].interpolate;const A=s.length;for(let x=0;x<A;x++){const D=qz(s[x],_[f],y[f],m[u]);!E&&D!==t[u].interpolatorOffsets[x]&&(E=!0),t[u].offset[x]=D}E&&(t[u].interpolate=Av(t[u].offset,TR(s),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=yr(0,1,t[u].interpolate(t[u].current))}function Yz(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function $z(e,t,n,s={}){return{measure:o=>{Yz(e,s.target,n),Bz(e,n,o),(s.offset||s.target)&&Kz(e,n,s)},notify:()=>t(n)}}const Xc=new WeakMap,GS=new WeakMap,sy=new WeakMap,ZS=e=>e===document.scrollingElement?window:e;function CC(e,{container:t=document.scrollingElement,...n}={}){if(!t)return _i;let s=sy.get(t);s||(s=new Set,sy.set(t,s));const o=jz(),u=$z(t,e,o,n);if(s.add(u),!Xc.has(t)){const m=()=>{for(const A of s)A.measure(xn.timestamp);Te.preUpdate(y)},y=()=>{for(const A of s)A.notify()},_=()=>Te.read(m);Xc.set(t,_);const E=ZS(t);window.addEventListener("resize",_,{passive:!0}),t!==document.documentElement&&GS.set(t,J3(t,_)),E.addEventListener("scroll",_,{passive:!0}),_()}const f=Xc.get(t);return Te.read(f,!1,!0),()=>{js(f);const m=sy.get(t);if(!m||(m.delete(u),m.size))return;const y=Xc.get(t);Xc.delete(t),y&&(ZS(t).removeEventListener("scroll",y),GS.get(t)?.(),window.removeEventListener("resize",y))}}const WS=new Map;function Xz(e){const t={value:0},n=CC(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function IC({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const o=WS.get(t)??new Map;WS.set(t,o);const u=n.target??"self",f=o.get(u)??{},m=s+(n.offset??[]).join(",");return f[m]||(f[m]=!n.target&&SR()?new ScrollTimeline({source:t,axis:s}):Xz({container:t,...n})),f[m]}function Qz(e,t){const n=IC(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),FR(o=>{s.time=s.duration*o},n))})}function Jz(e){return e.length===2}function tB(e,t){return Jz(e)?CC(n=>{e(n[t.axis].progress,n)},t):FR(e,IC(t))}function eB(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return _i;const o={axis:t,container:n,...s};return typeof e=="function"?tB(e,o):Qz(e,o)}const nB=()=>({scrollX:ks(0),scrollY:ks(0),scrollXProgress:ks(0),scrollYProgress:ks(0)}),gd=e=>e?!e.current:!1;function iB({container:e,target:t,...n}={}){const s=jm(nB),o=k.useRef(null),u=k.useRef(!1),f=k.useCallback(()=>(o.current=eB((m,{x:y,y:_})=>{s.scrollX.set(y.current),s.scrollXProgress.set(y.progress),s.scrollY.set(_.current),s.scrollYProgress.set(_.progress)},{...n,container:e?.current||void 0,target:t?.current||void 0}),()=>{o.current?.()}),[e,t,JSON.stringify(n.offset)]);return cv(()=>{if(u.current=!1,gd(e)||gd(t)){u.current=!0;return}else return f()},[f]),k.useEffect(()=>{if(u.current)return Lh(!gd(e)),Lh(!gd(t)),f()},[f]),s}function sB(e){const t=jm(()=>ks(e)),{isStatic:n}=k.useContext(Ov);if(n){const[,s]=k.useState(e);k.useEffect(()=>t.on("change",s),[])}return t}function PC(e,t){const n=sB(t()),s=()=>n.set(t());return s(),cv(()=>{const o=()=>Te.preRender(s,!1,!0),u=e.map(f=>f.on("change",o));return()=>{u.forEach(f=>f()),js(s)}}),n}function rB(e){yh.current=[],e();const t=PC(yh.current,e);return yh.current=void 0,t}function gu(e,t,n,s){if(typeof e=="function")return rB(e);const o=typeof t=="function"?t:eU(t,n,s);return Array.isArray(e)?KS(e,o):KS([e],([u])=>o(u))}function KS(e,t){const n=jm(()=>[]);return PC(e,()=>{n.length=0;const s=e.length;for(let o=0;o<s;o++)n[o]=e[o].get();return t(n)})}function aB(e,t){const n=k.useRef(t);k.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function oB(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const lB=1;function uB(e){return Object.freeze({__version:lB,map:e})}function Gv(e,t){return Object.freeze({...e,...t})}const Zv=k.createContext(null);function Wv(){const e=k.use(Zv);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function LC(e){function t(n,s){const{instance:o,context:u}=e(n).current;k.useImperativeHandle(s,()=>o);const{children:f}=n;return f==null?null:Bd.createElement(Zv,{value:u},f)}return k.forwardRef(t)}function cB(e){function t(n,s){const{instance:o}=e(n).current;return k.useImperativeHandle(s,()=>o),null}return k.forwardRef(t)}function MC(e,t){const n=k.useRef(void 0);k.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Kv(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var oh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var hB=oh.exports,YS;function fB(){return YS||(YS=1,function(e,t){(function(n,s){s(t)})(hB,function(n){var s="1.9.4";function o(a){var c,p,T,b;for(p=1,T=arguments.length;p<T;p++){b=arguments[p];for(c in b)a[c]=b[c]}return a}var u=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function f(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var T=p.call(arguments,2);return function(){return a.apply(c,T.length?T.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function _(a,c,p){var T,b,I,j;return j=function(){T=!1,b&&(I.apply(p,b),b=!1)},I=function(){T?b=arguments:(a.apply(p,arguments),setTimeout(j,c),T=!0)},I}function E(a,c,p){var T=c[1],b=c[0],I=T-b;return a===T&&p?a:((a-b)%I+I)%I+b}function A(){return!1}function x(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function D(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function U(a){return D(a).split(/\s+/)}function F(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function W(a,c,p){var T=[];for(var b in a)T.push(encodeURIComponent(p?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!c||c.indexOf("?")===-1?"?":"&")+T.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function nt(a,c){return a.replace(Z,function(p,T){var b=c[T];if(b===void 0)throw new Error("No value provided for variable "+p);return typeof b=="function"&&(b=b(c)),b})}var J=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Et(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var mt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function At(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var H=0;function N(a){var c=+new Date,p=Math.max(0,16-(c-H));return H=c+p,window.setTimeout(a,p)}var V=window.requestAnimationFrame||At("RequestAnimationFrame")||N,q=window.cancelAnimationFrame||At("CancelAnimationFrame")||At("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function G(a,c,p){if(p&&V===N)a.call(c);else return V.call(window,f(a,c))}function Y(a){a&&q.call(window,a)}var B={__proto__:null,extend:o,create:u,bind:f,get lastId(){return m},stamp:y,throttle:_,wrapNum:E,falseFn:A,formatNum:x,trim:D,splitWords:U,setOptions:F,getParamString:W,template:nt,isArray:J,indexOf:Et,emptyImageUrl:mt,requestFn:V,cancelFn:q,requestAnimFrame:G,cancelAnimFrame:Y};function de(){}de.extend=function(a){var c=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,T=u(p);T.constructor=c,c.prototype=T;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(c[b]=this[b]);return a.statics&&o(c,a.statics),a.includes&&(Oe(a.includes),o.apply(null,[T].concat(a.includes))),o(T,a),delete T.statics,delete T.includes,T.options&&(T.options=p.options?u(p.options):{},o(T.options,a.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,j=T._initHooks.length;I<j;I++)T._initHooks[I].call(this)}},c},de.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},de.mergeOptions=function(a){return o(this.prototype.options,a),this},de.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Oe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=J(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ot={on:function(a,c,p){if(typeof a=="object")for(var T in a)this._on(T,a[T],c);else{a=U(a);for(var b=0,I=a.length;b<I;b++)this._on(a[b],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var T in a)this._off(T,a[T],c);else{a=U(a);for(var b=arguments.length===1,I=0,j=a.length;I<j;I++)b?this._off(a[I]):this._off(a[I],c,p)}return this},_on:function(a,c,p,T){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var b={fn:c,ctx:p};T&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,c,p){var T,b,I;if(this._events&&(T=this._events[a],!!T)){if(arguments.length===1){if(this._firingCount)for(b=0,I=T.length;b<I;b++)T[b].fn=A;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var j=this._listens(a,c,p);if(j!==!1){var Q=T[j];this._firingCount&&(Q.fn=A,this._events[a]=T=T.slice()),T.splice(j,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var T=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var I=0,j=b.length;I<j;I++){var Q=b[I],rt=Q.fn;Q.once&&this.off(a,rt,Q.ctx),rt.call(Q.ctx||this,T)}this._firingCount--}}return p&&this._propagateEvent(T),this},listens:function(a,c,p,T){typeof a!="string"&&console.warn('"string" type argument expected');var b=c;typeof c!="function"&&(T=!!c,b=void 0,p=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,b,p)!==!1)return!0;if(T){for(var j in this._eventParents)if(this._eventParents[j].listens(a,c,p,T))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var T=this._events[a]||[];if(!c)return!!T.length;p===this&&(p=void 0);for(var b=0,I=T.length;b<I;b++)if(T[b].fn===c&&T[b].ctx===p)return b;return!1},once:function(a,c,p){if(typeof a=="object")for(var T in a)this._on(T,a[T],c,!0);else{a=U(a);for(var b=0,I=a.length;b<I;b++)this._on(a[b],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};ot.addEventListener=ot.on,ot.removeEventListener=ot.clearAllEventListeners=ot.off,ot.addOneTimeEventListener=ot.once,ot.fireEvent=ot.fire,ot.hasEventListeners=ot.listens;var _t=de.extend(ot);function pt(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var $t=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(a){return this.clone()._add(O(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(O(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$t(this.x),this.y=$t(this.y),this},distanceTo:function(a){a=O(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=O(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=O(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function O(a,c,p){return a instanceof pt?a:J(a)?new pt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pt(a.x,a.y):new pt(a,c,p)}function lt(a,c){if(a)for(var p=c?[a,c]:a,T=0,b=p.length;T<b;T++)this.extend(p[T])}lt.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof pt||typeof a[0]=="number"||"x"in a)c=p=O(a);else if(a=vt(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof pt?a=O(a):a=vt(a),a instanceof lt?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=vt(a);var c=this.min,p=this.max,T=a.min,b=a.max,I=b.x>=c.x&&T.x<=p.x,j=b.y>=c.y&&T.y<=p.y;return I&&j},overlaps:function(a){a=vt(a);var c=this.min,p=this.max,T=a.min,b=a.max,I=b.x>c.x&&T.x<p.x,j=b.y>c.y&&T.y<p.y;return I&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,T=Math.abs(c.x-p.x)*a,b=Math.abs(c.y-p.y)*a;return vt(O(c.x-T,c.y-b),O(p.x+T,p.y+b))},equals:function(a){return a?(a=vt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function vt(a,c){return!a||a instanceof lt?a:new lt(a,c)}function yt(a,c){if(a)for(var p=c?[a,c]:a,T=0,b=p.length;T<b;T++)this.extend(p[T])}yt.prototype={extend:function(a){var c=this._southWest,p=this._northEast,T,b;if(a instanceof Ct)T=a,b=a;else if(a instanceof yt){if(T=a._southWest,b=a._northEast,!T||!b)return this}else return a?this.extend(wt(a)||bt(a)):this;return!c&&!p?(this._southWest=new Ct(T.lat,T.lng),this._northEast=new Ct(b.lat,b.lng)):(c.lat=Math.min(T.lat,c.lat),c.lng=Math.min(T.lng,c.lng),p.lat=Math.max(b.lat,p.lat),p.lng=Math.max(b.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,T=Math.abs(c.lat-p.lat)*a,b=Math.abs(c.lng-p.lng)*a;return new yt(new Ct(c.lat-T,c.lng-b),new Ct(p.lat+T,p.lng+b))},getCenter:function(){return new Ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ct||"lat"in a?a=wt(a):a=bt(a);var c=this._southWest,p=this._northEast,T,b;return a instanceof yt?(T=a.getSouthWest(),b=a.getNorthEast()):T=b=a,T.lat>=c.lat&&b.lat<=p.lat&&T.lng>=c.lng&&b.lng<=p.lng},intersects:function(a){a=bt(a);var c=this._southWest,p=this._northEast,T=a.getSouthWest(),b=a.getNorthEast(),I=b.lat>=c.lat&&T.lat<=p.lat,j=b.lng>=c.lng&&T.lng<=p.lng;return I&&j},overlaps:function(a){a=bt(a);var c=this._southWest,p=this._northEast,T=a.getSouthWest(),b=a.getNorthEast(),I=b.lat>c.lat&&T.lat<p.lat,j=b.lng>c.lng&&T.lng<p.lng;return I&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=bt(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(a,c){return a instanceof yt?a:new yt(a,c)}function Ct(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Ct.prototype={equals:function(a,c){if(!a)return!1;a=wt(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return ae.distance(this,wt(a))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return bt([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Ct(this.lat,this.lng,this.alt)}};function wt(a,c,p){return a instanceof Ct?a:J(a)&&typeof a[0]!="object"?a.length===3?new Ct(a[0],a[1],a[2]):a.length===2?new Ct(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ct(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Ct(a,c,p)}var Ee={latLngToPoint:function(a,c){var p=this.projection.project(a),T=this.scale(c);return this.transformation._transform(p,T)},pointToLatLng:function(a,c){var p=this.scale(c),T=this.transformation.untransform(a,p);return this.projection.unproject(T)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),T=this.transformation.transform(c.min,p),b=this.transformation.transform(c.max,p);return new lt(T,b)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,T=a.alt;return new Ct(p,c,T)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),T=c.lat-p.lat,b=c.lng-p.lng;if(T===0&&b===0)return a;var I=a.getSouthWest(),j=a.getNorthEast(),Q=new Ct(I.lat-T,I.lng-b),rt=new Ct(j.lat-T,j.lng-b);return new yt(Q,rt)}},ae=o({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,T=a.lat*p,b=c.lat*p,I=Math.sin((c.lat-a.lat)*p/2),j=Math.sin((c.lng-a.lng)*p/2),Q=I*I+Math.cos(T)*Math.cos(b)*j*j,rt=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*rt}}),vi=6378137,Bi={R:vi,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,T=Math.max(Math.min(p,a.lat),-p),b=Math.sin(T*c);return new pt(this.R*a.lng*c,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var c=180/Math.PI;return new Ct((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=vi*Math.PI;return new lt([-a,-a],[a,a])}()};function Ti(a,c,p,T){if(J(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=T}Ti.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new pt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Ei(a,c,p,T){return new Ti(a,c,p,T)}var ms=o({},ae,{code:"EPSG:3857",projection:Bi,transformation:function(){var a=.5/(Math.PI*Bi.R);return Ei(a,.5,-a,.5)}()}),Tr=o({},ms,{code:"EPSG:900913"});function oa(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function xo(a,c){var p="",T,b,I,j,Q,rt;for(T=0,I=a.length;T<I;T++){for(Q=a[T],b=0,j=Q.length;b<j;b++)rt=Q[b],p+=(b?"L":"M")+rt.x+" "+rt.y;p+=c?Mt.svg?"z":"x":""}return p||"M0 0"}var Un=document.documentElement.style,la="ActiveXObject"in window,Ro=la&&!document.addEventListener,Er="msLaunchUri"in navigator&&!("documentMode"in document),ps=zn("webkit"),Pl=zn("android"),wr=zn("android 2")||zn("android 3"),Co=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ll=Pl&&zn("Google")&&Co<537&&!("AudioNode"in window),Ce=!!window.opera,ce=!Er&&zn("chrome"),jn=zn("gecko")&&!ps&&!Ce&&!la,yn=!ce&&zn("safari"),Io=zn("phantom"),Ml="OTransition"in Un,br=navigator.platform.indexOf("Win")===0,Bs=la&&"transition"in Un,gs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!wr,ai="MozPerspective"in Un,ua=!window.L_DISABLE_3D&&(Bs||gs||ai)&&!Ml&&!Io,wi=typeof orientation<"u"||zn("mobile"),Po=wi&&ps,Lo=wi&&gs,ca=!window.PointerEvent&&window.MSPointerEvent,Fi=!!(window.PointerEvent||ca),Hi="ontouchstart"in window||!!window.TouchEvent,Mo=!window.L_NO_TOUCH&&(Hi||Fi),qi=wi&&Ce,Do=wi&&jn,Fs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ha=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return a}(),Hs=function(){return!!document.createElement("canvas").getContext}(),fa=!!(document.createElementNS&&oa("svg").createSVGRect),Ie=!!fa&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$e=!fa&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ze=navigator.platform.indexOf("Mac")===0,oi=navigator.platform.indexOf("Linux")===0;function zn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Mt={ie:la,ielt9:Ro,edge:Er,webkit:ps,android:Pl,android23:wr,androidStock:Ll,opera:Ce,chrome:ce,gecko:jn,safari:yn,phantom:Io,opera12:Ml,win:br,ie3d:Bs,webkit3d:gs,gecko3d:ai,any3d:ua,mobile:wi,mobileWebkit:Po,mobileWebkit3d:Lo,msPointer:ca,pointer:Fi,touch:Mo,touchNative:Hi,mobileOpera:qi,mobileGecko:Do,retina:Fs,passiveEvents:ha,canvas:Hs,svg:fa,vml:$e,inlineSvg:Ie,mac:Ze,linux:oi},ys=Mt.msPointer?"MSPointerDown":"pointerdown",No=Mt.msPointer?"MSPointerMove":"pointermove",qs=Mt.msPointer?"MSPointerUp":"pointerup",_s=Mt.msPointer?"MSPointerCancel":"pointercancel",bi={touchstart:ys,touchmove:No,touchend:qs,touchcancel:_s},Si={touchstart:Ar,touchmove:Sr,touchend:Sr,touchcancel:Sr},In={},_n=!1;function Be(a,c,p){return c==="touchstart"&&Dl(),Si[c]?(p=Si[c].bind(this,p),a.addEventListener(bi[c],p,!1),p):(console.warn("wrong event specified:",c),A)}function Oo(a,c,p){if(!bi[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(bi[c],p,!1)}function da(a){In[a.pointerId]=a}function Ai(a){In[a.pointerId]&&(In[a.pointerId]=a)}function Gi(a){delete In[a.pointerId]}function Dl(){_n||(document.addEventListener(ys,da,!0),document.addEventListener(No,Ai,!0),document.addEventListener(qs,Gi,!0),document.addEventListener(_s,Gi,!0),_n=!0)}function Sr(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in In)c.touches.push(In[p]);c.changedTouches=[c],a(c)}}function Ar(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&we(c),Sr(a,c)}function Nl(a){var c={},p,T;for(T in a)p=a[T],c[T]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Gs=200;function Zi(a,c){a.addEventListener("dblclick",c);var p=0,T;function b(I){if(I.detail!==1){T=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var j=ga(I);if(!(j.some(function(rt){return rt instanceof HTMLLabelElement&&rt.attributes.for})&&!j.some(function(rt){return rt instanceof HTMLInputElement||rt instanceof HTMLSelectElement}))){var Q=Date.now();Q-p<=Gs?(T++,T===2&&c(Nl(I))):T=1,p=Q}}}return a.addEventListener("click",b),{dblclick:c,simDblclick:b}}function fn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var vs=xi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zs=xi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wi=Zs==="webkitTransition"||Zs==="OTransition"?Zs+"End":"transitionend";function xr(a){return typeof a=="string"?document.getElementById(a):a}function Ki(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(a,null);p=T?T[c]:null}return p==="auto"?null:p}function Xt(a,c,p){var T=document.createElement(a);return T.className=c||"",p&&p.appendChild(T),T}function me(a){var c=a.parentNode;c&&c.removeChild(a)}function nn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Yi(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Ws(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Ks(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=ke(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function qt(a,c){if(a.classList!==void 0)for(var p=U(c),T=0,b=p.length;T<b;T++)a.classList.add(p[T]);else if(!Ks(a,c)){var I=ke(a);ko(a,(I?I+" ":"")+c)}}function ye(a,c){a.classList!==void 0?a.classList.remove(c):ko(a,D((" "+ke(a)+" ").replace(" "+c+" "," ")))}function ko(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function ke(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Pe(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Rr(a,c)}function Rr(a,c){var p=!1,T="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(T)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+T+"(opacity="+c+")"}function xi(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Pn(a,c,p){var T=c||new pt(0,0);a.style[vs]=(Mt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(p?" scale("+p+")":"")}function Ut(a,c){a._leaflet_pos=c,Mt.any3d?Pn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Qn(a){return a._leaflet_pos||new pt(0,0)}var vn,Ri,ma;if("onselectstart"in document)vn=function(){Ot(window,"selectstart",we)},Ri=function(){oe(window,"selectstart",we)};else{var Ts=xi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vn=function(){if(Ts){var a=document.documentElement.style;ma=a[Ts],a[Ts]="none"}},Ri=function(){Ts&&(document.documentElement.style[Ts]=ma,ma=void 0)}}function Cr(){Ot(window,"dragstart",we)}function Vo(){oe(window,"dragstart",we)}var pa,Ys;function Ci(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Ln(),pa=a,Ys=a.style.outlineStyle,a.style.outlineStyle="none",Ot(window,"keydown",Ln))}function Ln(){pa&&(pa.style.outlineStyle=Ys,pa=void 0,Ys=void 0,oe(window,"keydown",Ln))}function $i(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ii(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Uo={__proto__:null,TRANSFORM:vs,TRANSITION:Zs,TRANSITION_END:Wi,get:xr,getStyle:Ki,create:Xt,remove:me,empty:nn,toFront:Yi,toBack:Ws,hasClass:Ks,addClass:qt,removeClass:ye,setClass:ko,getClass:ke,setOpacity:Pe,testProp:xi,setTransform:Pn,setPosition:Ut,getPosition:Qn,get disableTextSelection(){return vn},get enableTextSelection(){return Ri},disableImageDrag:Cr,enableImageDrag:Vo,preventOutline:Ci,restoreOutline:Ln,getSizedParentNode:$i,getScale:Ii};function Ot(a,c,p,T){if(c&&typeof c=="object")for(var b in c)Es(a,b,c[b],p);else{c=U(c);for(var I=0,j=c.length;I<j;I++)Es(a,c[I],p,T)}return this}var Jn="_leaflet_events";function oe(a,c,p,T){if(arguments.length===1)li(a),delete a[Jn];else if(c&&typeof c=="object")for(var b in c)ui(a,b,c[b],p);else if(c=U(c),arguments.length===2)li(a,function(Q){return Et(c,Q)!==-1});else for(var I=0,j=c.length;I<j;I++)ui(a,c[I],p,T);return this}function li(a,c){for(var p in a[Jn]){var T=p.split(/\d/)[0];(!c||c(T))&&ui(a,T,null,null,p)}}var Bn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Es(a,c,p,T){var b=c+y(p)+(T?"_"+y(T):"");if(a[Jn]&&a[Jn][b])return this;var I=function(Q){return p.call(T||a,Q||window.event)},j=I;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?I=Be(a,c,I):Mt.touch&&c==="dblclick"?I=Zi(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Bn[c]||c,I,Mt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(Q){Q=Q||window.event,bs(a,Q)&&j(Q)},a.addEventListener(Bn[c],I,!1)):a.addEventListener(c,j,!1):a.attachEvent("on"+c,I),a[Jn]=a[Jn]||{},a[Jn][b]=I}function ui(a,c,p,T,b){b=b||c+y(p)+(T?"_"+y(T):"");var I=a[Jn]&&a[Jn][b];if(!I)return this;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?Oo(a,c,I):Mt.touch&&c==="dblclick"?fn(a,I):"removeEventListener"in a?a.removeEventListener(Bn[c]||c,I,!1):a.detachEvent("on"+c,I),a[Jn][b]=null}function Fn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Pi(a){return Es(a,"wheel",Fn),this}function ws(a){return Ot(a,"mousedown touchstart dblclick contextmenu",Fn),a._leaflet_disable_click=!0,this}function we(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Tn(a){return we(a),Fn(a),this}function ga(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function Xe(a,c){if(!c)return new pt(a.clientX,a.clientY);var p=Ii(c),T=p.boundingClientRect;return new pt((a.clientX-T.left)/p.x-c.clientLeft,(a.clientY-T.top)/p.y-c.clientTop)}var he=Mt.linux&&Mt.chrome?window.devicePixelRatio:Mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ir(a){return Mt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/he:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function bs(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Ol={__proto__:null,on:Ot,off:oe,stopPropagation:Fn,disableScrollPropagation:Pi,disableClickPropagation:ws,preventDefault:we,stop:Tn,getPropagationPath:ga,getMousePosition:Xe,getWheelDelta:Ir,isExternalTarget:bs,addListener:Ot,removeListener:oe},Pr=_t.extend({run:function(a,c,p,T){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Qn(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Ut(this._el,p),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Wt=_t.extend({options:{crs:ms,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=F(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(wt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zs&&Mt.any3d&&!Mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,Wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(wt(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var T=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var T=this.getZoomScale(c),b=this.getSize().divideBy(2),I=a instanceof pt?a:this.latLngToContainerPoint(a),j=I.subtract(b).multiplyBy(1-1/T),Q=this.containerPointToLatLng(b.add(j));return this.setView(Q,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():bt(a);var p=O(c.paddingTopLeft||c.padding||[0,0]),T=O(c.paddingBottomRight||c.padding||[0,0]),b=this.getBoundsZoom(a,!1,p.add(T));if(b=typeof c.maxZoom=="number"?Math.min(c.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var I=T.subtract(p).divideBy(2),j=this.project(a.getSouthWest(),b),Q=this.project(a.getNorthEast(),b),rt=this.unproject(j.add(Q).divideBy(2).add(I),b);return{center:rt,zoom:b}},fitBounds:function(a,c){if(a=bt(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=O(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Pr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Mt.any3d)return this.setView(a,c,p);this._stop();var T=this.project(this.getCenter()),b=this.project(a),I=this.getSize(),j=this._zoom;a=wt(a),c=c===void 0?j:c;var Q=Math.max(I.x,I.y),rt=Q*this.getZoomScale(j,c),gt=b.distanceTo(T)||1,St=1.42,It=St*St;function Lt(Ue){var is=Ue?-1:1,Is=Ue?rt:Q,er=rt*rt-Q*Q+is*It*It*gt*gt,Ps=2*Is*It*gt,Jo=er/Ps,Kl=Math.sqrt(Jo*Jo+1)-Jo,tl=Kl<1e-9?-18:Math.log(Kl);return tl}function Ht(Ue){return(Math.exp(Ue)-Math.exp(-Ue))/2}function Me(Ue){return(Math.exp(Ue)+Math.exp(-Ue))/2}function Fe(Ue){return Ht(Ue)/Me(Ue)}var wn=Lt(0);function ci(Ue){return Q*(Me(wn)/Me(wn+St*Ue))}function cf(Ue){return Q*(Me(wn)*Fe(wn+St*Ue)-Ht(wn))/It}function hf(Ue){return 1-Math.pow(1-Ue,1.5)}var Qo=Date.now(),Da=(Lt(1)-wn)/St,ff=p.duration?1e3*p.duration:1e3*Da*.8;function Na(){var Ue=(Date.now()-Qo)/ff,is=hf(Ue)*Da;Ue<=1?(this._flyToFrame=G(Na,this),this._move(this.unproject(T.add(b.subtract(T).multiplyBy(cf(is)/gt)),j),this.getScaleZoom(Q/ci(is),j),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Na.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=bt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),T=this._limitCenter(p,this._zoom,bt(a));return p.equals(T)||this.panTo(T,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=O(c.paddingTopLeft||c.padding||[0,0]),T=O(c.paddingBottomRight||c.padding||[0,0]),b=this.project(this.getCenter()),I=this.project(a),j=this.getPixelBounds(),Q=vt([j.min.add(p),j.max.subtract(T)]),rt=Q.getSize();if(!Q.contains(I)){this._enforcingBounds=!0;var gt=I.subtract(Q.getCenter()),St=Q.extend(I).getSize().subtract(rt);b.x+=gt.x<0?-St.x:St.x,b.y+=gt.y<0?-St.y:St.y,this.panTo(this.unproject(b),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),T=c.divideBy(2).round(),b=p.divideBy(2).round(),I=T.subtract(b);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,T=new Ct(c,p),b=T.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var j=this.getBoundsZoom(b);this.setView(T,I.maxZoom?Math.min(j,I.maxZoom):j)}var Q={latlng:T,bounds:b,timestamp:a.timestamp};for(var rt in a.coords)typeof a.coords[rt]=="number"&&(Q[rt]=a.coords[rt]);this.fire("locationfound",Q)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)me(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),T=Xt("div",p,c||this._mapPane);return a&&(this._panes[a]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new yt(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=bt(a),p=O(p||[0,0]);var T=this.getZoom()||0,b=this.getMinZoom(),I=this.getMaxZoom(),j=a.getNorthWest(),Q=a.getSouthEast(),rt=this.getSize().subtract(p),gt=vt(this.project(Q,T),this.project(j,T)).getSize(),St=Mt.any3d?this.options.zoomSnap:1,It=rt.x/gt.x,Lt=rt.y/gt.y,Ht=c?Math.max(It,Lt):Math.min(It,Lt);return T=this.getScaleZoom(Ht,T),St&&(T=Math.round(T/(St/100))*(St/100),T=c?Math.ceil(T/St)*St:Math.floor(T/St)*St),Math.max(b,Math.min(I,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new lt(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var T=p.zoom(a*p.scale(c));return isNaN(T)?1/0:T},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(wt(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(O(a),c)},layerPointToLatLng:function(a){var c=O(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(wt(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(wt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(bt(a))},distance:function(a,c){return this.options.crs.distance(wt(a),wt(c))},containerPointToLayerPoint:function(a){return O(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return O(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(O(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(a)))},mouseEventToContainerPoint:function(a){return Xe(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=xr(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Mt.any3d,qt(a,"leaflet-container"+(Mt.touch?" leaflet-touch":"")+(Mt.retina?" leaflet-retina":"")+(Mt.ielt9?" leaflet-oldie":"")+(Mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ki(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(a.markerPane,"leaflet-zoom-hide"),qt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Ut(this._mapPane,new pt(0,0));var T=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var b=this._zoom!==c;this._moveStart(b,p)._move(a,c)._moveEnd(b),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,T){c===void 0&&(c=this._zoom);var b=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),T?p&&p.pinch&&this.fire("zoom",p):((b||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ut(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?oe:Ot;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Mt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],T,b=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,j=!1;I;){if(T=this._targets[y(I)],T&&(c==="click"||c==="preclick")&&this._draggableMoved(T)){j=!0;break}if(T&&T.listens(c,!0)&&(b&&!bs(I,a)||(p.push(T),b))||I===this._container)break;I=I.parentNode}return!p.length&&!j&&!b&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Ci(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var T=o({},a);T.type="preclick",this._fireDOMEvent(T,T.type,p)}var b=this._findEventTargets(a,c);if(p){for(var I=[],j=0;j<p.length;j++)p[j].listens(c,!0)&&I.push(p[j]);b=I.concat(b)}if(b.length){c==="contextmenu"&&we(a);var Q=b[0],rt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var gt=Q.getLatLng&&(!Q._radius||Q._radius<=10);rt.containerPoint=gt?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(a),rt.layerPoint=this.containerPointToLayerPoint(rt.containerPoint),rt.latlng=gt?Q.getLatLng():this.layerPointToLatLng(rt.layerPoint)}for(j=0;j<b.length;j++)if(b[j].fire(c,rt,!0),rt.originalEvent._stopped||b[j].options.bubblingMouseEvents===!1&&Et(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Qn(this._mapPane)||new pt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var T=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(T)},_latLngBoundsToNewLayerBounds:function(a,c,p){var T=this._getNewPixelOrigin(p,c);return vt([this.project(a.getSouthWest(),c)._subtract(T),this.project(a.getNorthWest(),c)._subtract(T),this.project(a.getSouthEast(),c)._subtract(T),this.project(a.getNorthEast(),c)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var T=this.project(a,c),b=this.getSize().divideBy(2),I=new lt(T.subtract(b),T.add(b)),j=this._getBoundsOffset(I,p,c);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?a:this.unproject(T.add(j),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),T=new lt(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(T,c))},_getBoundsOffset:function(a,c,p){var T=vt(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),b=T.min.subtract(a.min),I=T.max.subtract(a.max),j=this._rebound(b.x,-I.x),Q=this._rebound(b.y,-I.y);return new pt(j,Q)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),T=Mt.any3d?this.options.zoomSnap:1;return T&&(a=Math.round(a/T)*T),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=Xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=vs,T=this._proxy.style[p];Pn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),T===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Pn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(c),b=this._getCenterOffset(a)._divideBy(1-1/T);return p.animate!==!0&&!this.getSize().contains(b)?!1:(G(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,T){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xi(a,c){return new Wt(a,c)}var dn=de.extend({options:{position:"topright"},initialize:function(a){F(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),T=a._controlCorners[p];return qt(c,"leaflet-control"),p.indexOf("bottom")!==-1?T.insertBefore(c,T.firstChild):T.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),En=function(a){return new dn(a)};Wt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=Xt("div",c+"control-container",this._container);function T(b,I){var j=c+b+" "+c+I;a[b+I]=Xt("div",j,p)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)me(this._controlCorners[a]);me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var jo=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,T){return p<T?-1:T<p?1:0}},initialize:function(a,c,p){F(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in a)this._addLayer(a[T],T);for(T in c)this._addLayer(c[T],T,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return dn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Xt("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),ws(c),Pi(c);var T=this._section=Xt("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ot(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Xt("a",a+"-toggle",c);b.href="#",b.title="Layers",b.setAttribute("role","button"),Ot(b,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){we(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Xt("div",a+"-base",T),this._separator=Xt("div",a+"-separator",T),this._overlaysList=Xt("div",a+"-overlays",T),c.appendChild(T)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(T,b){return this.options.sortFunction(T.layer,b.layer,T.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nn(this._baseLayersList),nn(this._overlaysList),this._layerControlInputs=[];var a,c,p,T,b=0;for(p=0;p<this._layers.length;p++)T=this._layers[p],this._addItem(T),c=c||T.overlay,a=a||!T.overlay,b+=T.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=p,T.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),T;a.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=p):T=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(T),T.layerId=y(a.layer),Ot(T,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(T),I.appendChild(b);var j=a.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,T=[],b=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],p=this._getLayer(c.layerId).layer,c.checked?T.push(p):c.checked||b.push(p);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])&&this._map.removeLayer(b[I]);for(I=0;I<T.length;I++)this._map.hasLayer(T[I])||this._map.addLayer(T[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,T=this._map.getZoom(),b=a.length-1;b>=0;b--)c=a[b],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&T<p.options.minZoom||p.options.maxZoom!==void 0&&T>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ot(a,"click",we),this.expand();var c=this;setTimeout(function(){oe(a,"click",we),c._preventClick=!1})}}),sc=function(a,c,p){return new jo(a,c,p)},Ss=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=Xt("div",c+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,T,b){var I=Xt("a",p,T);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),ws(I),Ot(I,"click",Tn),Ot(I,"click",b,this),Ot(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";ye(this._zoomInButton,c),ye(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(qt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(qt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ss,this.addControl(this.zoomControl))});var ya=function(a){return new Ss(a)},_a=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=Xt("div",c),T=this.options;return this._addScales(T,c+"-line",p),a.on(T.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=Xt("div",c,p)),a.imperial&&(this._iScale=Xt("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,T,b;c>5280?(p=c/5280,T=this._getRoundNum(p),this._updateScale(this._iScale,T+" mi",T/p)):(b=this._getRoundNum(c),this._updateScale(this._iScale,b+" ft",b/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),va=function(a){return new _a(a)},kl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$s=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Mt.inlineSvg?kl+" ":"")+"Leaflet</a>"},initialize:function(a){F(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Xt("div","leaflet-control-attribution"),ws(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new $s().addTo(this)});var rc=function(a){return new $s(a)};dn.Layers=jo,dn.Zoom=Ss,dn.Scale=_a,dn.Attribution=$s,En.layers=sc,En.zoom=ya,En.scale=va,En.attribution=rc;var Hn=de.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(a,c){return a.addHandler(c,this),this};var Lr={Events:ot},zo=Mt.touch?"touchstart mousedown":"mousedown",Li=_t.extend({options:{clickTolerance:3},initialize:function(a,c,p,T){F(this,T),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(Ot(this._dragStartTarget,zo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Li._dragging===this&&this.finishDrag(!0),oe(this._dragStartTarget,zo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ks(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Li._dragging===this&&this.finishDrag();return}if(!(Li._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Li._dragging=this,this._preventOutline&&Ci(this._element),Cr(),vn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=$i(this._element);this._startPoint=new pt(c.clientX,c.clientY),this._startPos=Qn(this._element),this._parentScale=Ii(p);var T=a.type==="mousedown";Ot(document,T?"mousemove":"touchmove",this._onMove,this),Ot(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new pt(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,we(a),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ut(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),oe(document,"mousemove touchmove",this._onMove,this),oe(document,"mouseup touchend touchcancel",this._onUp,this),Vo(),Ri();var c=this._moved&&this._moving;this._moving=!1,Li._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ta(a,c,p){var T,b=[1,4,2,8],I,j,Q,rt,gt,St,It,Lt;for(I=0,St=a.length;I<St;I++)a[I]._code=Qi(a[I],c);for(Q=0;Q<4;Q++){for(It=b[Q],T=[],I=0,St=a.length,j=St-1;I<St;j=I++)rt=a[I],gt=a[j],rt._code&It?gt._code&It||(Lt=sn(gt,rt,It,c,p),Lt._code=Qi(Lt,c),T.push(Lt)):(gt._code&It&&(Lt=sn(gt,rt,It,c,p),Lt._code=Qi(Lt,c),T.push(Lt)),T.push(rt));a=T}return a}function Xs(a,c){var p,T,b,I,j,Q,rt,gt,St;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var It=wt([0,0]),Lt=bt(a),Ht=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Ht<1700&&(It=Ea(a));var Me=a.length,Fe=[];for(p=0;p<Me;p++){var wn=wt(a[p]);Fe.push(c.project(wt([wn.lat-It.lat,wn.lng-It.lng])))}for(Q=rt=gt=0,p=0,T=Me-1;p<Me;T=p++)b=Fe[p],I=Fe[T],j=b.y*I.x-I.y*b.x,rt+=(b.x+I.x)*j,gt+=(b.y+I.y)*j,Q+=j*3;Q===0?St=Fe[0]:St=[rt/Q,gt/Q];var ci=c.unproject(O(St));return wt([ci.lat+It.lat,ci.lng+It.lng])}function Ea(a){for(var c=0,p=0,T=0,b=0;b<a.length;b++){var I=wt(a[b]);c+=I.lat,p+=I.lng,T++}return wt([c/T,p/T])}var wa={__proto__:null,clipPolygon:Ta,polygonCenter:Xs,centroid:Ea};function Bo(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Ul(a,p),a=Vl(a,p),a}function ba(a,c,p){return Math.sqrt(qn(a,c,p,!0))}function As(a,c,p){return qn(a,c,p)}function Vl(a,c){var p=a.length,T=typeof Uint8Array<"u"?Uint8Array:Array,b=new T(p);b[0]=b[p-1]=1,Sa(a,b,c,0,p-1);var I,j=[];for(I=0;I<p;I++)b[I]&&j.push(a[I]);return j}function Sa(a,c,p,T,b){var I=0,j,Q,rt;for(Q=T+1;Q<=b-1;Q++)rt=qn(a[Q],a[T],a[b],!0),rt>I&&(j=Q,I=rt);I>p&&(c[j]=1,Sa(a,c,p,T,j),Sa(a,c,p,j,b))}function Ul(a,c){for(var p=[a[0]],T=1,b=0,I=a.length;T<I;T++)jl(a[T],a[b])>c&&(p.push(a[T]),b=T);return b<I-1&&p.push(a[I-1]),p}var Fo;function Mr(a,c,p,T,b){var I=T?Fo:Qi(a,p),j=Qi(c,p),Q,rt,gt;for(Fo=j;;){if(!(I|j))return[a,c];if(I&j)return!1;Q=I||j,rt=sn(a,c,Q,p,b),gt=Qi(rt,p),Q===I?(a=rt,I=gt):(c=rt,j=gt)}}function sn(a,c,p,T,b){var I=c.x-a.x,j=c.y-a.y,Q=T.min,rt=T.max,gt,St;return p&8?(gt=a.x+I*(rt.y-a.y)/j,St=rt.y):p&4?(gt=a.x+I*(Q.y-a.y)/j,St=Q.y):p&2?(gt=rt.x,St=a.y+j*(rt.x-a.x)/I):p&1&&(gt=Q.x,St=a.y+j*(Q.x-a.x)/I),new pt(gt,St,b)}function Qi(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function jl(a,c){var p=c.x-a.x,T=c.y-a.y;return p*p+T*T}function qn(a,c,p,T){var b=c.x,I=c.y,j=p.x-b,Q=p.y-I,rt=j*j+Q*Q,gt;return rt>0&&(gt=((a.x-b)*j+(a.y-I)*Q)/rt,gt>1?(b=p.x,I=p.y):gt>0&&(b+=j*gt,I+=Q*gt)),j=a.x-b,Q=a.y-I,T?j*j+Q*Q:new pt(b,I)}function d(a){return!J(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function w(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function R(a,c){var p,T,b,I,j,Q,rt,gt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=wt([0,0]),It=bt(a),Lt=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());Lt<1700&&(St=Ea(a));var Ht=a.length,Me=[];for(p=0;p<Ht;p++){var Fe=wt(a[p]);Me.push(c.project(wt([Fe.lat-St.lat,Fe.lng-St.lng])))}for(p=0,T=0;p<Ht-1;p++)T+=Me[p].distanceTo(Me[p+1])/2;if(T===0)gt=Me[0];else for(p=0,I=0;p<Ht-1;p++)if(j=Me[p],Q=Me[p+1],b=j.distanceTo(Q),I+=b,I>T){rt=(I-T)/b,gt=[Q.x-rt*(Q.x-j.x),Q.y-rt*(Q.y-j.y)];break}var wn=c.unproject(O(gt));return wt([wn.lat+St.lat,wn.lng+St.lng])}var M={__proto__:null,simplify:Bo,pointToSegmentDistance:ba,closestPointOnSegment:As,clipSegment:Mr,_getEdgeIntersection:sn,_getBitCode:Qi,_sqClosestPointOnSegment:qn,isFlat:d,_flat:w,polylineCenter:R},X={project:function(a){return new pt(a.lng,a.lat)},unproject:function(a){return new Ct(a.y,a.x)},bounds:new lt([-180,-90],[180,90])},at={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,T=a.lat*c,b=this.R_MINOR/p,I=Math.sqrt(1-b*b),j=I*Math.sin(T),Q=Math.tan(Math.PI/4-T/2)/Math.pow((1-j)/(1+j),I/2);return T=-p*Math.log(Math.max(Q,1e-10)),new pt(a.lng*c*p,T)},unproject:function(a){for(var c=180/Math.PI,p=this.R,T=this.R_MINOR/p,b=Math.sqrt(1-T*T),I=Math.exp(-a.y/p),j=Math.PI/2-2*Math.atan(I),Q=0,rt=.1,gt;Q<15&&Math.abs(rt)>1e-7;Q++)gt=b*Math.sin(j),gt=Math.pow((1-gt)/(1+gt),b/2),rt=Math.PI/2-2*Math.atan(I*gt)-j,j+=rt;return new Ct(j*c,a.x*c/p)}},Tt={__proto__:null,LonLat:X,Mercator:at,SphericalMercator:Bi},ee=o({},ae,{code:"EPSG:3395",projection:at,transformation:function(){var a=.5/(Math.PI*at.R);return Ei(a,.5,-a,.5)}()}),We=o({},ae,{code:"EPSG:4326",projection:X,transformation:Ei(1/180,1,-1/180,.5)}),ne=o({},Ee,{projection:X,transformation:Ei(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,T=c.lat-a.lat;return Math.sqrt(p*p+T*T)},infinite:!0});Ee.Earth=ae,Ee.EPSG3395=ee,Ee.EPSG3857=ms,Ee.EPSG900913=Tr,Ee.EPSG4326=We,Ee.Simple=ne;var pe=_t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?J(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var T in this._zoomBoundLayers){var b=this._zoomBoundLayers[T].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),c=b.maxZoom===void 0?c:Math.max(c,b.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=pe.extend({initialize:function(a,c){F(this,c),this._layers={};var p,T;if(a)for(p=0,T=a.length;p<T;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,T;for(p in this._layers)T=this._layers[p],T[a]&&T[a].apply(T,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),xs=function(a,c){return new Le(a,c)},xe=Le.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Le.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Le.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new yt;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Ji=function(a,c){return new xe(a,c)},ts=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){F(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(T,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(a,c){var p=this.options,T=p[c+"Size"];typeof T=="number"&&(T=[T,T]);var b=O(T),I=O(c==="shadow"&&p.shadowAnchor||p.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Mt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function zl(a){return new ts(a)}var Aa=ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Aa.imagePath!="string"&&(Aa.imagePath=this._detectIconPath()),(this.options.imagePath||Aa.imagePath)+ts.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,T,b){var I=T.exec(p);return I&&I[b]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Xt("div","leaflet-default-icon-path",document.body),c=Ki(a,"background-image")||Ki(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),ac=Hn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Li(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,T=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,I=Qn(c._icon),j=p.getPixelBounds(),Q=p.getPixelOrigin(),rt=vt(j.min._subtract(Q).add(b),j.max._subtract(Q).subtract(b));if(!rt.contains(I)){var gt=O((Math.max(rt.max.x,I.x)-rt.max.x)/(j.max.x-rt.max.x)-(Math.min(rt.min.x,I.x)-rt.min.x)/(j.min.x-rt.min.x),(Math.max(rt.max.y,I.y)-rt.max.y)/(j.max.y-rt.max.y)-(Math.min(rt.min.y,I.y)-rt.min.y)/(j.min.y-rt.min.y)).multiplyBy(T);p.panBy(gt,{animate:!1}),this._draggable._newPos._add(gt),this._draggable._startPos._add(gt),Ut(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=G(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,T=Qn(c._icon),b=c._map.layerPointToLatLng(T);p&&Ut(p,T),c._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),xa=pe.extend({options:{icon:new Aa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){F(this,c),this._latlng=wt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),T=!1;p!==this._icon&&(this._icon&&this._removeIcon(),T=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),qt(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(p,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),I=!1;b!==this._shadow&&(this._removeShadow(),I=!0),b&&(qt(b,c),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&oe(this._icon,"focus",this._panOnFocus,this),me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&me(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ut(this._icon,a),this._shadow&&Ut(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ac)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ac(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Pe(this._icon,a),this._shadow&&Pe(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?O(c.iconSize):O(0,0),T=c.iconAnchor?O(c.iconAnchor):O(0,0);a.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:p.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oc(a,c){return new xa(a,c)}var Rs=pe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return F(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ho=Rs.extend({options:{fill:!0,radius:10},initialize:function(a,c){F(this,c),this._latlng=wt(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Rs.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),T=[a+p,c+p];this._pxBounds=new lt(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sf(a,c){return new Ho(a,c)}var lc=Ho.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),F(this,c),this._latlng=wt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new yt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Rs.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,T=p.options.crs;if(T.distance===ae.distance){var b=Math.PI/180,I=this._mRadius/ae.R/b,j=p.project([c+I,a]),Q=p.project([c-I,a]),rt=j.add(Q).divideBy(2),gt=p.unproject(rt).lat,St=Math.acos((Math.cos(I*b)-Math.sin(c*b)*Math.sin(gt*b))/(Math.cos(c*b)*Math.cos(gt*b)))/b;(isNaN(St)||St===0)&&(St=I/Math.cos(Math.PI/180*c)),this._point=rt.subtract(p.getPixelOrigin()),this._radius=isNaN(St)?0:rt.x-p.project([gt,a-St]).x,this._radiusY=rt.y-j.y}else{var It=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(It).x}this._updateBounds()}});function Km(a,c,p){return new lc(a,c,p)}var Cs=Rs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){F(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,T=qn,b,I,j=0,Q=this._parts.length;j<Q;j++)for(var rt=this._parts[j],gt=1,St=rt.length;gt<St;gt++){b=rt[gt-1],I=rt[gt];var It=T(a,b,I,!0);It<c&&(c=It,p=T(a,b,I))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return R(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=wt(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new yt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),T=0,b=a.length;T<b;T++)p?(c[T]=wt(a[T]),this._bounds.extend(c[T])):c[T]=this._convertLatLngs(a[T]);return c},_project:function(){var a=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new pt(a,a);this._rawPxBounds&&(this._pxBounds=new lt([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var T=a[0]instanceof Ct,b=a.length,I,j;if(T){for(j=[],I=0;I<b;I++)j[I]=this._map.latLngToLayerPoint(a[I]),p.extend(j[I]);c.push(j)}else for(I=0;I<b;I++)this._projectLatlngs(a[I],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,T,b,I,j,Q,rt;for(p=0,b=0,I=this._rings.length;p<I;p++)for(rt=this._rings[p],T=0,j=rt.length;T<j-1;T++)Q=Mr(rt[T],rt[T+1],a,T,!0),Q&&(c[b]=c[b]||[],c[b].push(Q[0]),(Q[1]!==rt[T+1]||T===j-2)&&(c[b].push(Q[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,T=a.length;p<T;p++)a[p]=Bo(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,T,b,I,j,Q,rt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,I=this._parts.length;p<I;p++)for(Q=this._parts[p],T=0,j=Q.length,b=j-1;T<j;b=T++)if(!(!c&&T===0)&&ba(a,Q[b],Q[T])<=rt)return!0;return!1}});function Ym(a,c){return new Cs(a,c)}Cs._flat=w;var Ra=Cs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Cs.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Ct&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Cs.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new pt(c,c);if(a=new lt(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,b=this._rings.length,I;T<b;T++)I=Ta(this._rings[T],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,T,b,I,j,Q,rt,gt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,rt=this._parts.length;I<rt;I++)for(p=this._parts[I],j=0,gt=p.length,Q=gt-1;j<gt;Q=j++)T=p[j],b=p[Q],T.y>a.y!=b.y>a.y&&a.x<(b.x-T.x)*(a.y-T.y)/(b.y-T.y)+T.x&&(c=!c);return c||Cs.prototype._containsPoint.call(this,a,!0)}});function ti(a,c){return new Ra(a,c)}var ei=xe.extend({initialize:function(a,c){F(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=J(a)?a:a.features,p,T,b;if(c){for(p=0,T=c.length;p<T;p++)b=c[p],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var j=qo(a,I);return j?(j.feature=Ca(a),j.defaultOptions=j.options,this.resetStyle(j),I.onEachFeature&&I.onEachFeature(a,j),this.addLayer(j)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function qo(a,c){var p=a.type==="Feature"?a.geometry:a,T=p?p.coordinates:null,b=[],I=c&&c.pointToLayer,j=c&&c.coordsToLatLng||Bl,Q,rt,gt,St;if(!T&&!p)return null;switch(p.type){case"Point":return Q=j(T),uc(I,a,Q,c);case"MultiPoint":for(gt=0,St=T.length;gt<St;gt++)Q=j(T[gt]),b.push(uc(I,a,Q,c));return new xe(b);case"LineString":case"MultiLineString":return rt=Go(T,p.type==="LineString"?0:1,j),new Cs(rt,c);case"Polygon":case"MultiPolygon":return rt=Go(T,p.type==="Polygon"?1:2,j),new Ra(rt,c);case"GeometryCollection":for(gt=0,St=p.geometries.length;gt<St;gt++){var It=qo({geometry:p.geometries[gt],type:"Feature",properties:a.properties},c);It&&b.push(It)}return new xe(b);case"FeatureCollection":for(gt=0,St=p.features.length;gt<St;gt++){var Lt=qo(p.features[gt],c);Lt&&b.push(Lt)}return new xe(b);default:throw new Error("Invalid GeoJSON object.")}}function uc(a,c,p,T){return a?a(c,p):new xa(p,T&&T.markersInheritOptions&&T)}function Bl(a){return new Ct(a[1],a[0],a[2])}function Go(a,c,p){for(var T=[],b=0,I=a.length,j;b<I;b++)j=c?Go(a[b],c-1,p):(p||Bl)(a[b]),T.push(j);return T}function Zo(a,c){return a=wt(a),a.alt!==void 0?[x(a.lng,c),x(a.lat,c),x(a.alt,c)]:[x(a.lng,c),x(a.lat,c)]}function Fl(a,c,p,T){for(var b=[],I=0,j=a.length;I<j;I++)b.push(c?Fl(a[I],d(a[I])?0:c-1,p,T):Zo(a[I],T));return!c&&p&&b.length>0&&b.push(b[0].slice()),b}function Mi(a,c){return a.feature?o({},a.feature,{geometry:c}):Ca(c)}function Ca(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Dr={toGeoJSON:function(a){return Mi(this,{type:"Point",coordinates:Zo(this.getLatLng(),a)})}};xa.include(Dr),lc.include(Dr),Ho.include(Dr),Cs.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=Fl(this._latlngs,c?1:0,!1,a);return Mi(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Ra.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),T=Fl(this._latlngs,p?2:c?1:0,!0,a);return c||(T=[T]),Mi(this,{type:(p?"Multi":"")+"Polygon",coordinates:T})}}),Le.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Mi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",T=[];return this.eachLayer(function(b){if(b.toGeoJSON){var I=b.toGeoJSON(a);if(p)T.push(I.geometry);else{var j=Ca(I);j.type==="FeatureCollection"?T.push.apply(T,j.features):T.push(j)}}}),p?Mi(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Hl(a,c){return new ei(a,c)}var rf=Hl,es=pe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=bt(c),F(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Yi(this._image),this},bringToBack:function(){return this._map&&Ws(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=bt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Xt("img");if(qt(c,"leaflet-image-layer"),this._zoomAnimated&&qt(c,"leaflet-zoom-animated"),this.options.className&&qt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Pn(this._image,p,c)},_reset:function(){var a=this._image,c=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Ut(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Pe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Ia=function(a,c,p){return new es(a,c,p)},ql=es.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Xt("video");if(qt(c,"leaflet-image-layer"),this._zoomAnimated&&qt(c,"leaflet-zoom-animated"),this.options.className&&qt(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=f(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),T=[],b=0;b<p.length;b++)T.push(p[b].src);this._url=p.length>0?T:[c.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var j=Xt("source");j.src=this._url[I],c.appendChild(j)}}});function af(a,c,p){return new ql(a,c,p)}var Qs=es.extend({_initImage:function(){var a=this._image=this._url;qt(a,"leaflet-image-layer"),this._zoomAnimated&&qt(a,"leaflet-zoom-animated"),this.options.className&&qt(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function of(a,c,p){return new Qs(a,c,p)}var Di=pe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Ct||J(a))?(this._latlng=wt(a),F(this,c)):(F(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Pe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Pe(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Pe(this._container,0),this._removeTimeout=setTimeout(f(me,void 0,this._container),200)):me(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=wt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yi(this._container),this},bringToBack:function(){return this._map&&Ws(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof xe){c=null;var p=this._source._layers;for(var T in p)if(p[T]._map){c=p[T];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=O(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ut(this._container,a.add(p)):c=c.add(a).add(p);var T=this._containerBottom=-c.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=T+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(a,c,p,T){var b=c;return b instanceof a||(b=new a(T).setContent(c)),p&&b.setLatLng(p),b}}),pe.include({_initOverlay:function(a,c,p,T){var b=p;return b instanceof a?(F(b,T),b._source=this):(b=c&&!T?c:new a(T,this),b.setContent(p)),b}});var Wo=Di.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Di.prototype.openOn.call(this,a)},onAdd:function(a){Di.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rs||this._source.on("preclick",Fn))},onRemove:function(a){Di.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rs||this._source.off("preclick",Fn))},getEvents:function(){var a=Di.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Xt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Xt("div",a+"-content-wrapper",c);if(this._contentNode=Xt("div",a+"-content",p),ws(c),Pi(this._contentNode),Ot(c,"contextmenu",Fn),this._tipContainer=Xt("div",a+"-tip-container",c),this._tip=Xt("div",a+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Xt("a",a+"-close-button",c);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(T,"click",function(b){we(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var T=a.offsetHeight,b=this.options.maxHeight,I="leaflet-popup-scrolled";b&&T>b?(c.height=b+"px",qt(a,I)):ye(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Ut(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Ki(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,T=this._containerWidth,b=new pt(this._containerLeft,-p-this._containerBottom);b._add(Qn(this._container));var I=a.layerPointToContainerPoint(b),j=O(this.options.autoPanPadding),Q=O(this.options.autoPanPaddingTopLeft||j),rt=O(this.options.autoPanPaddingBottomRight||j),gt=a.getSize(),St=0,It=0;I.x+T+rt.x>gt.x&&(St=I.x+T-gt.x+rt.x),I.x-St-Q.x<0&&(St=I.x-Q.x),I.y+p+rt.y>gt.y&&(It=I.y+p-gt.y+rt.y),I.y-It-Q.y<0&&(It=I.y-Q.y),(St||It)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,It]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$m=function(a,c){return new Wo(a,c)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(a,c,p){return this._initOverlay(Wo,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),pe.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Wo,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof xe||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Tn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Rs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Gl=Di.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Di.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Di.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Di.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,T=this._map,b=this._container,I=T.latLngToContainerPoint(T.getCenter()),j=T.layerPointToContainerPoint(a),Q=this.options.direction,rt=b.offsetWidth,gt=b.offsetHeight,St=O(this.options.offset),It=this._getAnchor();Q==="top"?(c=rt/2,p=gt):Q==="bottom"?(c=rt/2,p=0):Q==="center"?(c=rt/2,p=gt/2):Q==="right"?(c=0,p=gt/2):Q==="left"?(c=rt,p=gt/2):j.x<I.x?(Q="right",c=0,p=gt/2):(Q="left",c=rt+(St.x+It.x)*2,p=gt/2),a=a.subtract(O(c,p,!0)).add(St).add(It),ye(b,"leaflet-tooltip-right"),ye(b,"leaflet-tooltip-left"),ye(b,"leaflet-tooltip-top"),ye(b,"leaflet-tooltip-bottom"),qt(b,"leaflet-tooltip-"+Q),Ut(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Pe(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xm=function(a,c){return new Gl(a,c)};Wt.include({openTooltip:function(a,c,p){return this._initOverlay(Gl,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),pe.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gl,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof xe||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ot(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ot(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,T;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),T=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(c)}});var cc=ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(nn(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var T=O(p.bgPos);c.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function lf(a){return new cc(a)}ts.Default=Aa;var Nr=pe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){F(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),me(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ws(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pt?a:new pt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),T=0,b=c.length,I;T<b;T++)I=c[T].style.zIndex,c[T]!==this._container&&I&&(p=a(p,+I));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Mt.ielt9){Pe(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var T in this._tiles){var b=this._tiles[T];if(!(!b.current||!b.loaded)){var I=Math.min(1,(a-b.loaded)/200);Pe(b.el,I),I<1?c=!0:(b.active?p=!0:this._onOpaqueTile(b),b.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Y(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(me(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var T=this._levels[a],b=this._map;return T||(T=this._levels[a]={},T.el=Xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=c,T.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),T.zoom=a,this._setZoomTransform(T,b.getCenter(),b.getZoom()),A(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var T=c.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)me(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,T){var b=Math.floor(a/2),I=Math.floor(c/2),j=p-1,Q=new pt(+b,+I);Q.z=+j;var rt=this._tileCoordsToKey(Q),gt=this._tiles[rt];return gt&&gt.active?(gt.retain=!0,!0):(gt&&gt.loaded&&(gt.retain=!0),j>T?this._retainParent(b,I,j,T):!1)},_retainChildren:function(a,c,p,T){for(var b=2*a;b<2*a+2;b++)for(var I=2*c;I<2*c+2;I++){var j=new pt(b,I);j.z=p+1;var Q=this._tileCoordsToKey(j),rt=this._tiles[Q];if(rt&&rt.active){rt.retain=!0;continue}else rt&&rt.loaded&&(rt.retain=!0);p+1<T&&this._retainChildren(b,I,p+1,T)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,T){var b=Math.round(c);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var I=this.options.updateWhenZooming&&b!==this._tileZoom;(!T||I)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var T=this._map.getZoomScale(p,a.zoom),b=a.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(c,p)).round();Mt.any3d?Pn(a.el,b,T):Ut(a.el,b)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),T=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],T).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],T).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],T).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],T).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),T=c.getZoomScale(p,this._tileZoom),b=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(T*2);return new lt(b.subtract(I),b.add(I))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(T),I=b.getCenter(),j=[],Q=this.options.keepBuffer,rt=new lt(b.getBottomLeft().subtract([Q,-Q]),b.getTopRight().add([Q,-Q]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var gt in this._tiles){var St=this._tiles[gt].coords;(St.z!==this._tileZoom||!rt.contains(new pt(St.x,St.y)))&&(this._tiles[gt].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var It=b.min.y;It<=b.max.y;It++)for(var Lt=b.min.x;Lt<=b.max.x;Lt++){var Ht=new pt(Lt,It);if(Ht.z=this._tileZoom,!!this._isValidTile(Ht)){var Me=this._tiles[this._tileCoordsToKey(Ht)];Me?Me.current=!0:j.push(Ht)}}if(j.sort(function(wn,ci){return wn.distanceTo(I)-ci.distanceTo(I)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fe=document.createDocumentFragment();for(Lt=0;Lt<j.length;Lt++)this._addTile(j[Lt],Fe);this._level.el.appendChild(Fe)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(a);return bt(this.options.bounds).overlaps(T)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),T=a.scaleBy(p),b=T.add(p),I=c.unproject(T,a.z),j=c.unproject(b,a.z);return[I,j]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new yt(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new pt(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(me(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){qt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=A,a.onmousemove=A,Mt.ielt9&&this.options.opacity<1&&Pe(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),T=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&G(f(this._tileReady,this,a,null,b)),Ut(b,p),this._tiles[T]={el:b,coords:a,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var T=this._tileCoordsToKey(a);p=this._tiles[T],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Pe(p.el,0),Y(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(qt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Mt.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new pt(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new lt(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Ni(a){return new Nr(a)}var Or=Nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=F(this,c),c.detectRetina&&Mt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return Ot(p,"load",f(this._tileOnLoad,this,c,p)),Ot(p,"error",f(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Mt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return nt(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Mt.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var T=this.options.errorTileUrl;T&&c.getAttribute("src")!==T&&(c.src=T),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,T=this.options.zoomOffset;return p&&(a=c-a),a+T},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=A,c.onerror=A,!c.complete)){c.src=mt;var p=this._tiles[a].coords;me(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",mt),Nr.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===mt))return Nr.prototype._tileReady.call(this,a,c,p)}});function ni(a,c){return new Or(a,c)}var ii=Or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var T in c)T in this.options||(p[T]=c[T]);c=F(this,c);var b=c.detectRetina&&Mt.retina?2:1,I=this.getTileSize();p.width=I.x*b,p.height=I.y*b,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Or.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,T=vt(p.project(c[0]),p.project(c[1])),b=T.min,I=T.max,j=(this._wmsVersion>=1.3&&this._crs===We?[b.y,b.x,I.y,I.x]:[b.x,b.y,I.x,I.y]).join(","),Q=Or.prototype.getTileUrl.call(this,a);return Q+W(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Pa(a,c){return new ii(a,c)}Or.WMS=ii,ni.wms=Pa;var Oi=pe.extend({options:{padding:.1},initialize:function(a){F(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,c),I=T.multiplyBy(-p).add(b).subtract(this._map._getNewPixelOrigin(a,c));Mt.any3d?Pn(this._container,I,p):Ut(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new lt(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ko=Oi.extend({options:{tolerance:0},getEvents:function(){var a=Oi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ot(a,"mousemove",this._onMouseMove,this),Ot(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,me(this._container),oe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),T=Mt.retina?2:1;Ut(c,a.min),c.width=T*p.x,c.height=T*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,T=c.prev;p?p.prev=T:this._drawLast=T,T?T.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],T,b;for(b=0;b<c.length;b++){if(T=Number(c[b]),isNaN(T))return;p.push(T)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)a=T.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,T,b,I,j=a._parts,Q=j.length,rt=this._ctx;if(Q){for(rt.beginPath(),p=0;p<Q;p++){for(T=0,b=j[p].length;T<b;T++)I=j[p][T],rt[T?"lineTo":"moveTo"](I.x,I.y);c&&rt.closePath()}this._fillStroke(rt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,T=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||T)/T;b!==1&&(p.save(),p.scale(1,b)),p.beginPath(),p.arc(c.x,c.y/b,T,0,Math.PI*2,!1),b!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,T,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(T=p);this._fireEvent(T?[T]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(ye(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,T,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(c)&&(T=p);T!==this._hoveredLayer&&(this._handleMouseOut(a),T&&(qt(this._container,"leaflet-interactive"),this._fireEvent([T],a,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,T=c.prev;if(p)p.prev=T;else return;T?T.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,T=c.prev;if(T)T.next=p;else return;p?p.prev=T:T&&(this._drawLast=T),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Yo(a){return Mt.canvas?new Ko(a):null}var kr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),La={_initContainer:function(){this._container=Xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=kr("shape");qt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=kr("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;me(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,T=a.options,b=a._container;b.stroked=!!T.stroke,b.filled=!!T.fill,T.stroke?(c||(c=a._stroke=kr("stroke")),b.appendChild(c),c.weight=T.weight+"px",c.color=T.color,c.opacity=T.opacity,T.dashArray?c.dashStyle=J(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=T.lineCap.replace("butt","flat"),c.joinstyle=T.lineJoin):c&&(b.removeChild(c),a._stroke=null),T.fill?(p||(p=a._fill=kr("fill")),b.appendChild(p),p.color=T.fillColor||T.color,p.opacity=T.fillOpacity):p&&(b.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),T=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+T+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Yi(a._container)},_bringToBack:function(a){Ws(a._container)}},$o=Mt.vml?kr:oa,Js=Oi.extend({_initContainer:function(){this._container=$o("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$o("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){me(this._container),oe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Ut(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=$o("path");a.options.className&&qt(c,a.options.className),a.options.interactive&&qt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){me(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,xo(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),T=Math.max(Math.round(a._radiusY),1)||p,b="a"+p+","+T+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+b+p*2+",0 "+b+-p*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Yi(a._path)},_bringToBack:function(a){Ws(a._path)}});Mt.vml&&Js.include(La);function Vr(a){return Mt.svg||Mt.vml?new Js(a):null}Wt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Yo(a)||Vr(a)}});var uf=Ra.extend({initialize:function(a,c){Ra.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=bt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function si(a,c){return new uf(a,c)}Js.create=$o,Js.pointsToPath=xo,ei.geometryToLayer=qo,ei.coordsToLatLng=Bl,ei.coordsToLatLngs=Go,ei.latLngToCoords=Zo,ei.latLngsToCoords=Fl,ei.getFeature=Mi,ei.asFeature=Ca,Wt.mergeOptions({boxZoom:!0});var Zl=Hn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){oe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vn(),Cr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ot(document,{contextmenu:Tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Xt("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new lt(this._point,this._startPoint),p=c.getSize();Ut(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(me(this._box),ye(this._container,"leaflet-crosshair")),Ri(),Vo(),oe(document,{contextmenu:Tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new yt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",Zl),Wt.mergeOptions({doubleClickZoom:!0});var ns=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),T=c.options.zoomDelta,b=a.originalEvent.shiftKey?p-T:p+T;c.options.doubleClickZoom==="center"?c.setZoom(b):c.setZoomAround(a.containerPoint,b)}});Wt.addInitHook("addHandler","doubleClickZoom",ns),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hc=Hn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Li(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=bt(this._map.options.maxBounds);this._offsetLimit=vt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,T=this._draggable._newPos.x,b=(T-c+p)%a+c-p,I=(T+c+p)%a-c-p,j=Math.abs(b+p)<Math.abs(I+p)?b:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(a){var c=this._map,p=c.options,T=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),T)c.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,j=p.easeLinearity,Q=b.multiplyBy(j/I),rt=Q.distanceTo([0,0]),gt=Math.min(p.inertiaMaxSpeed,rt),St=Q.multiplyBy(gt/rt),It=gt/(p.inertiaDeceleration*j),Lt=St.multiplyBy(-It/2).round();!Lt.x&&!Lt.y?c.fire("moveend"):(Lt=c._limitOffset(Lt,c.options.maxBounds),G(function(){c.panBy(Lt,{duration:It,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",hc),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xo=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ot(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),oe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,T=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(T,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,T,b;for(T=0,b=p.left.length;T<b;T++)c[p.left[T]]=[-1*a,0];for(T=0,b=p.right.length;T<b;T++)c[p.right[T]]=[a,0];for(T=0,b=p.down.length;T<b;T++)c[p.down[T]]=[0,a];for(T=0,b=p.up.length;T<b;T++)c[p.up[T]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,T,b;for(T=0,b=p.zoomIn.length;T<b;T++)c[p.zoomIn[T]]=a;for(T=0,b=p.zoomOut.length;T<b;T++)c[p.zoomOut[T]]=-a},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){oe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,T;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(T=this._panKeys[c],a.shiftKey&&(T=O(T).multiplyBy(3)),p.options.maxBounds&&(T=p._limitOffset(O(T),p.options.maxBounds)),p.options.worldCopyJump){var b=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(T)));p.panTo(b)}else p.panBy(T)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Tn(a)}}});Wt.addInitHook("addHandler","keyboard",Xo),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tr=Hn.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){oe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Ir(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var T=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),T),Tn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,I=p?Math.ceil(b/p)*p:b,j=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,j&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+j):a.setZoomAround(this._lastMousePos,c+j))}});Wt.addInitHook("addHandler","scrollWheelZoom",tr);var fc=600;Wt.mergeOptions({tapHold:Mt.touchNative&&Mt.safari&&Mt.mobile,tapTolerance:15});var Wl=Hn.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){oe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new pt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",we),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),fc),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){oe(document,"touchend",we),oe(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),oe(document,"touchend touchcancel contextmenu",this._cancel,this),oe(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new pt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Wt.addInitHook("addHandler","tapHold",Wl),Wt.mergeOptions({touchZoom:Mt.touch,bounceAtZoomLimits:!0});var Ur=Hn.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),oe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(T)._divideBy(2))),this._startDist=p.distanceTo(T),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),we(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]),b=p.distanceTo(T)/this._startDist;if(this._zoom=c.getScaleZoom(b,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&b<1||this._zoom>c.getMaxZoom()&&b>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var I=p._add(T)._divideBy(2)._subtract(this._centerPoint);if(b===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var j=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(j,this,!0),we(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),oe(document,"touchmove",this._onTouchMove,this),oe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",Ur),Wt.BoxZoom=Zl,Wt.DoubleClickZoom=ns,Wt.Drag=hc,Wt.Keyboard=Xo,Wt.ScrollWheelZoom=tr,Wt.TapHold=Wl,Wt.TouchZoom=Ur,n.Bounds=lt,n.Browser=Mt,n.CRS=Ee,n.Canvas=Ko,n.Circle=lc,n.CircleMarker=Ho,n.Class=de,n.Control=dn,n.DivIcon=cc,n.DivOverlay=Di,n.DomEvent=Ol,n.DomUtil=Uo,n.Draggable=Li,n.Evented=_t,n.FeatureGroup=xe,n.GeoJSON=ei,n.GridLayer=Nr,n.Handler=Hn,n.Icon=ts,n.ImageOverlay=es,n.LatLng=Ct,n.LatLngBounds=yt,n.Layer=pe,n.LayerGroup=Le,n.LineUtil=M,n.Map=Wt,n.Marker=xa,n.Mixin=Lr,n.Path=Rs,n.Point=pt,n.PolyUtil=wa,n.Polygon=Ra,n.Polyline=Cs,n.Popup=Wo,n.PosAnimation=Pr,n.Projection=Tt,n.Rectangle=uf,n.Renderer=Oi,n.SVG=Js,n.SVGOverlay=Qs,n.TileLayer=Or,n.Tooltip=Gl,n.Transformation=Ti,n.Util=B,n.VideoOverlay=ql,n.bind=f,n.bounds=vt,n.canvas=Yo,n.circle=Km,n.circleMarker=sf,n.control=En,n.divIcon=lf,n.extend=o,n.featureGroup=Ji,n.geoJSON=Hl,n.geoJson=rf,n.gridLayer=Ni,n.icon=zl,n.imageOverlay=Ia,n.latLng=wt,n.latLngBounds=bt,n.layerGroup=xs,n.map=Xi,n.marker=oc,n.point=O,n.polygon=ti,n.polyline=Ym,n.popup=$m,n.rectangle=si,n.setOptions=F,n.stamp=y,n.svg=Vr,n.svgOverlay=of,n.tileLayer=ni,n.tooltip=Xm,n.transformation=Ei,n.version=s,n.videoOverlay=af;var Ma=window.L;n.noConflict=function(){return window.L=Ma,this},window.L=n})}(oh,oh.exports)),oh.exports}var ic=fB();const Hm=rA(ic);function qm(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Yv(e,t){return t==null?function(s,o){const u=k.useRef(void 0);return u.current||(u.current=e(s,o)),u}:function(s,o){const u=k.useRef(void 0);u.current||(u.current=e(s,o));const f=k.useRef(s),{instance:m}=u.current;return k.useEffect(function(){f.current!==s&&(t(m,s,f.current),f.current=s)},[m,s,t]),u}}function DC(e,t){k.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function NC(e){return function(n){const s=Wv(),o=e(Kv(n,s),s);return aB(s.map,n.attribution),MC(o.current,n.eventHandlers),DC(o.current,s),o}}function dB(e,t){const n=k.useRef(void 0);k.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function mB(e){return function(n){const s=Wv(),o=e(Kv(n,s),s);return MC(o.current,n.eventHandlers),DC(o.current,s),dB(o.current,n),o}}function pB(e,t){const n=Yv(e,t),s=NC(n);return LC(s)}function OC(e,t){const n=Yv(e,t),s=mB(n);return LC(s)}function gB(e,t){const n=Yv(e,t),s=NC(n);return cB(s)}function yB(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function _B(){return Wv().map}const kC=OC(function({center:t,children:n,...s},o){const u=new ic.Circle(t,s);return qm(u,Gv(o,{overlayContainer:u}))},oB);function vB({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:u,placeholder:f,style:m,whenReady:y,zoom:_,...E},A){const[x]=k.useState({className:o,id:u,style:m}),[D,U]=k.useState(null),F=k.useRef(void 0);k.useImperativeHandle(A,()=>D?.map??null,[D]);const W=k.useCallback(nt=>{if(nt!==null&&!F.current){const J=new ic.Map(nt,E);F.current=J,n!=null&&_!=null?J.setView(n,_):e!=null&&J.fitBounds(e,t),y!=null&&J.whenReady(y),U(uB(J))}},[]);k.useEffect(()=>()=>{D?.map.remove()},[D]);const Z=D?Bd.createElement(Zv,{value:D},s):f??null;return Bd.createElement("div",{...x,ref:W},Z)}const Gm=k.forwardRef(vB),Zm=pB(function({position:t,...n},s){const o=new ic.Marker(t,n);return qm(o,Gv(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),VC=OC(function({positions:t,...n},s){const o=new ic.Polyline(t,n);return qm(o,Gv(s,{overlayContainer:o}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),Wm=gB(function({url:t,...n},s){const o=new ic.TileLayer(t,Kv(n,s));return qm(o,s)},function(t,n,s){yB(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)}),UC="/assets/Apple_AirTag-DXsKpCuU.svg",ry=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194]];function TB({scrollYProgress:e,path:t,setBreadcrumbPath:n,setVisitedPoints:s}){const o=_B();return k.useEffect(()=>{const u=e.on("change",f=>{const m=(f-.3)/.39999999999999997;if(m<0||m>1){const D=m>1?t[t.length-1]:t[0],U=m>1?12.75:15;o.setView(D,U),n(m>1?t:[t[0]]),s(m>1?t:[t[0]]);return}const y=m*(t.length-1),_=Math.floor(y),E=y-_;let A;if(_>=t.length-1)A=t[t.length-1];else{const[D,U]=t[_],[F,W]=t[_+1];A=[D+(F-D)*E,U+(W-U)*E]}const x=15-m*(15-12.75);o.setView(A,x),n([...t.slice(0,_+1),A]),s(t.slice(0,_+1))});return()=>u()},[o,e,t,n,s]),null}function EB({onScrollProgress:e}){const t=k.useRef(null),{scrollYProgress:n}=iB({target:t,offset:["start start","end end"]});k.useEffect(()=>{e&&e(n)},[n,e]);const s=gu(n,[0,.3],[1,.2]),o=gu(n,[.7,1],[1,0]),u=gu(n,[.1,.3,.8,1],[0,1,1,0]),f=gu(n,[.7,.8],[1,0]),[m,y]=k.useState([ry[0]]),[_,E]=k.useState([]),A=Hm.divIcon({className:"trail-point",iconSize:[8,8],iconAnchor:[4,4],html:"<div></div>"}),x=gu(n,[.7,.8],[1,0]),D=gu(n,[.8,1],[0,1]);return S.jsxs("div",{ref:t,id:"hero",className:"landing-root",role:"banner","aria-labelledby":"hero-title",children:[S.jsx($c.div,{className:"header-background-container",style:{opacity:D}}),S.jsx($c.div,{className:"hero-title-container",style:{opacity:x},children:S.jsx("h1",{id:"hero-title",className:"hero-title",children:"TagLogger"})}),S.jsxs($c.p,{className:"subtitle",style:{opacity:f},children:[S.jsx("strong",{children:"Unlock the location history and more."}),S.jsx("br",{}),S.jsx("span",{style:{fontSize:"0.5em",display:"block",marginTop:"15px"},children:"An independent service, not affiliated with Apple Inc."})]}),S.jsx($c.img,{src:UC,alt:"Apple AirTag - Location tracking device",className:"airtag-img",style:{scale:s,opacity:o,zIndex:10,translateX:"-50%",translateY:"-50%"},draggable:!1}),S.jsx($c.div,{className:"map-fade",style:{opacity:u,zIndex:1},children:S.jsxs(Gm,{center:ry[0],zoom:15,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100vh",width:"100vw",background:"black"},children:[S.jsx(Wm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),S.jsx(TB,{scrollYProgress:n,path:ry,setBreadcrumbPath:y,setVisitedPoints:E}),S.jsx(VC,{positions:m,color:"#00eaff",weight:6,opacity:.7}),_.map((U,F)=>S.jsx(Zm,{position:U,icon:A,zIndexOffset:1e3},F))]},"main-app-map")})]})}const wB=[{feature:"Size",taglogger:"31x31 mm",apple:"",gps:"40–60mm+, bulky"},{feature:"Tech",taglogger:"AirTag",apple:"",gps:"GPS, SIM"},{feature:"Device Support",taglogger:"Android, iOS, Web",apple:"Apple only",gps:"Often agnostic"},{feature:"Battery Life",taglogger:"~1 yr",apple:"",gps:"Days–weeks"},{feature:"Cost",taglogger:"Low",apple:"",gps:"High"},{feature:"History/Export",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Alerts/Geofencing",taglogger:"Yes",apple:"Limited",gps:"Extra fees"},{feature:"Inventory Mgmt",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Scalability",taglogger:"Yes",apple:"No",gps:"Extra fees"},{feature:"Max Tags",taglogger:"Unlimited",apple:"32 items",gps:"Many"}];function bB(){return S.jsx("section",{id:"feature-comparison",className:"feature-comparison-section",role:"region","aria-labelledby":"feature-comparison-title",children:S.jsxs("div",{className:"feature-comparison-content",children:[S.jsx("h2",{id:"feature-comparison-title",className:"feature-comparison-title",children:"How We Compare"}),S.jsx("div",{style:{maxWidth:700,margin:"0 auto"},children:S.jsx("p",{className:"feature-description",style:{marginBottom:32},children:"See how our solution compares to other tracking options on the market. We deliver the best mix of size, battery life, and coverage. If you’ve tried AirTags, you’ll know nothing else is quite like it."})}),S.jsx("div",{className:"feature-comparison-table-wrapper",style:{overflowX:"auto",maxWidth:800,margin:"0 auto"},children:S.jsxs("table",{className:"feature-comparison-table",style:{width:"100%",borderCollapse:"collapse",minWidth:580,tableLayout:"fixed"},children:[S.jsxs("colgroup",{children:[S.jsx("col",{style:{width:"25%"}}),S.jsx("col",{style:{width:"25%",background:"rgba(0,234,255,0.10)"}}),S.jsx("col",{style:{width:"25%"}}),S.jsx("col",{style:{width:"25%"}})]}),S.jsx("thead",{children:S.jsxs("tr",{style:{background:"rgba(0,234,255,0.08)"},children:[S.jsx("th",{style:{padding:"10px 6px",color:"#00eaff",fontWeight:700,fontSize:14,textAlign:"left",borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Feature"}),S.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"TagLogger"}),S.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14,borderRight:"1px solid rgba(255,255,255,0.12)"},children:"Apple Find My"}),S.jsx("th",{style:{padding:"10px 6px",color:"#fff",fontWeight:700,fontSize:14},children:"GPS Trackers"})]})}),S.jsx("tbody",{children:wB.map((e,t)=>e.feature==="Tech"&&!e.apple||e.feature==="Size"&&!e.apple||e.feature==="Battery Life"&&!e.apple||e.feature==="Cost"&&!e.apple?S.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[S.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),S.jsx("td",{colSpan:2,style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,textAlign:"center",background:"rgba(0,234,255,0.10)",borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.taglogger}),S.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t):S.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.08)"},children:[S.jsx("td",{style:{padding:"8px 6px",color:"#00eaff",fontWeight:600,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.feature}),S.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)",background:"rgba(0,234,255,0.10)"},children:e.taglogger}),S.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13,borderRight:"1px solid rgba(255,255,255,0.12)"},children:e.apple}),S.jsx("td",{style:{padding:"8px 6px",color:"#fff",fontWeight:500,fontSize:13},children:e.gps})]},t))})]})})]})})}function SB(){const[e,t]=k.useState("personal"),n=[{icon:"🧳",title:"Track Luggage Travels",description:"Monitor your luggage with an AirTag during vacations and business trips"},{icon:"🐕",title:"Monitor Pet Adventures",description:"See where your furry friends wander and explore"},{icon:"👨‍👩‍👧‍👦",title:"Family Safety Tracking",description:"Track your elderly parents or young kids for safety reasons"},{icon:"🔗",title:"Shared Item Locations",description:"Remember locations when lending valuable possessions"},{icon:"📦",title:"Package Delivery Verification",description:"Verify delivered packages with complete travel history"},{icon:"🚗",title:"Vehicle Journey Documentation",description:"Document vehicle journeys for expense reports or records"}],s=[{icon:"📦",title:"Real-time Shipment Monitoring",description:"Track shipments in real-time to reduce losses and ensure timely deliveries"},{icon:"✅",title:"Delivery Verification",description:"Verify deliveries using historical location data for accuracy and dispute resolution"},{icon:"🏭",title:"Real-time Equipment Location",description:"Locate equipment instantly across industries like healthcare, manufacturing, film, construction, and IT to boost operational efficiency"},{icon:"📊",title:"Historical Equipment Usage",description:"Record equipment movements over time for maintenance, accountability, and compliance"},{icon:"🚛",title:"Vehicle Journey Documentation",description:"Document vehicle travels for expense reimbursement, travel logging, and compliance"},{icon:"🚜",title:"Rental and Event Equipment Management",description:"Manage rental and event equipment with historical tracking to ensure proper usage and timely returns"}];return S.jsx("section",{id:"use-cases",className:"use-cases-section",role:"region","aria-labelledby":"use-cases-title",children:S.jsxs("div",{className:"use-cases-content",children:[S.jsx("h2",{id:"use-cases-title",className:"use-cases-title",children:"Built for Personal and Business Use"}),S.jsxs("div",{className:"use-cases-toggle",children:[S.jsx("button",{className:`toggle-btn ${e==="personal"?"active":""}`,onClick:()=>t("personal"),children:"Personal Use"}),S.jsx("button",{className:`toggle-btn ${e==="business"?"active":""}`,onClick:()=>t("business"),children:"Business Use"})]}),S.jsx("div",{className:"use-cases-category",children:S.jsx("div",{className:"use-cases-grid",children:(e==="personal"?n:s).map((o,u)=>S.jsxs("div",{className:"use-case-card",children:[S.jsx("div",{className:"use-case-icon","aria-hidden":"true",children:o.icon}),S.jsx("h3",{className:"use-case-title",children:o.title}),S.jsx("p",{className:"use-case-description",children:o.description})]},u))})})]})})}const yu=[[37.7749,-122.4194],[37.7699,-122.4194],[37.7649,-122.4194],[37.7599,-122.4194],[37.7549,-122.4194],[37.7499,-122.4194]];function AB(){const[e,t]=k.useState([]),[n,s]=k.useState(yu[0]);k.useEffect(()=>{let u=0;const f=setInterval(()=>{u<yu.length?(t(yu.slice(0,u+1)),s(yu[u]),u++):(u=0,t([]),s(yu[0]))},300);return()=>clearInterval(f)},[]);const o=Hm.divIcon({className:"demo-marker",iconSize:[20,20],iconAnchor:[10,10],html:'<div class="marker-dot"></div>'});return S.jsx("div",{className:"platform-demo",children:S.jsxs("div",{className:"browser-window",children:[S.jsxs("div",{className:"browser-header",children:[S.jsxs("div",{className:"browser-buttons",children:[S.jsx("div",{className:"browser-button red"}),S.jsx("div",{className:"browser-button yellow"}),S.jsx("div",{className:"browser-button green"})]}),S.jsx("div",{className:"browser-url",children:"taglogger.com/dashboard"})]}),S.jsx("div",{className:"browser-content",children:S.jsxs(Gm,{center:yu[0],zoom:13,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[S.jsx(Wm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),e.length>0&&S.jsx(VC,{positions:e,color:"#00eaff",weight:4,opacity:.8}),n&&S.jsx(Zm,{position:n,icon:o})]},"platform-demo-map")})]})})}const yd=[37.7749,-122.4194],$S=500,_d=[[37.7749,-122.4194],[37.7749,-122.415],[37.7749,-122.41],[37.7749,-122.405],[37.7749,-122.41],[37.7749,-122.415],[37.7749,-122.4194]];function xB(){const[e,t]=k.useState(_d[0]),[n,s]=k.useState(!0),[o,u]=k.useState(!1),[f,m]=k.useState(""),y=(A,x,D,U)=>{const W=A*Math.PI/180,Z=D*Math.PI/180,nt=(D-A)*Math.PI/180,J=(U-x)*Math.PI/180,Et=Math.sin(nt/2)*Math.sin(nt/2)+Math.cos(W)*Math.cos(Z)*Math.sin(J/2)*Math.sin(J/2);return 6371e3*(2*Math.atan2(Math.sqrt(Et),Math.sqrt(1-Et)))},_=A=>y(A[0],A[1],yd[0],yd[1])<=$S;k.useEffect(()=>{let A=0;const x=setInterval(()=>{if(A<_d.length){const D=_d[A];t(D);const U=n,F=_(D);U!==F&&(s(F),m(F?"🚨 AirTag entered geofence zone!":"🚨 AirTag left geofence zone!"),u(!0),setTimeout(()=>u(!1),2e3)),A++}else A=0,t(_d[0]),s(!0)},670);return()=>clearInterval(x)},[n]);const E=Hm.divIcon({className:"geofence-marker",iconSize:[24,24],iconAnchor:[12,12],html:`<div class="marker-dot ${n?"inside":"outside"}"></div>`});return S.jsx("div",{className:"geofence-demo",children:S.jsxs("div",{className:"browser-window",children:[S.jsxs("div",{className:"browser-header",children:[S.jsxs("div",{className:"browser-buttons",children:[S.jsx("div",{className:"browser-button red"}),S.jsx("div",{className:"browser-button yellow"}),S.jsx("div",{className:"browser-button green"})]}),S.jsx("div",{className:"browser-url",children:"taglogger.com/geofencing"})]}),S.jsxs("div",{className:"browser-content",children:[S.jsxs(Gm,{center:yd,zoom:14,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[S.jsx(Wm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),S.jsx(kC,{center:yd,radius:$S,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:2,opacity:.8}}),e&&S.jsx(Zm,{position:e,icon:E})]},"geofence-demo-map"),o&&S.jsx("div",{className:"geofence-alert",children:S.jsxs("div",{className:`alert-content${n?" blue":""}`,children:[S.jsx("span",{className:"alert-icon",children:"🚨"}),S.jsx("span",{className:"alert-text",children:f})]})}),S.jsx("div",{className:"geofence-status",children:S.jsx("div",{className:`status-indicator ${n?"inside":"outside"}`,children:n?"📍 Inside Geofence":"📍 Outside Geofence"})})]})]})})}const vd={yard:[37.7749,-122.4194],"site-a":[37.7849,-122.4094],"site-b":[37.7649,-122.4294],"site-c":[37.7949,-122.3994]},RB=[{id:1,name:"Excavator #EX-001",type:"excavator",status:"checked-out",location:"site-a",user:"Mike Rodriguez",lastUpdate:"2 hours ago"},{id:2,name:"Bulldozer #BD-045",type:"bulldozer",status:"checked-in",location:"yard",user:null,lastUpdate:"1 day ago"},{id:3,name:"Crane #CR-012",type:"crane",status:"checked-out",location:"site-b",user:"Sarah Johnson",lastUpdate:"30 min ago"},{id:4,name:"Loader #LD-023",type:"loader",status:"checked-out",location:"site-c",user:"Tom Wilson",lastUpdate:"5 hours ago"}];function CB(){const[e,t]=k.useState(RB),[n,s]=k.useState(null),[o,u]=k.useState(new Date);k.useEffect(()=>{const x=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(x)},[]);const f=x=>vd[x]||vd.warehouse,m=x=>x==="checked-in"?"📦":"📤",y=x=>({excavator:"🚜",bulldozer:"🚛",crane:"🏗️",loader:"🚚"})[x]||"🏗️",_=x=>{s(n?.id===x.id?null:x)},E=x=>{t(D=>D.map(U=>{if(U.id===x){const F=U.status==="checked-in"?"checked-out":"checked-in";return{...U,status:F,user:F==="checked-out"?"Current User":null,lastUpdate:"Just now"}}return U}))},A=(x,D)=>Hm.divIcon({className:"inventory-marker",iconSize:[30,30],iconAnchor:[15,15],html:`<div class="marker-content ${D}">
               <div class="marker-icon">${y(x)}</div>
               <div class="marker-status">${m(D)}</div>
             </div>`});return S.jsx("div",{className:"inventory-demo",children:S.jsxs("div",{className:"browser-window",children:[S.jsxs("div",{className:"browser-header",children:[S.jsxs("div",{className:"browser-buttons",children:[S.jsx("div",{className:"browser-button red"}),S.jsx("div",{className:"browser-button yellow"}),S.jsx("div",{className:"browser-button green"})]}),S.jsx("div",{className:"browser-url",children:"taglogger.com/equipment"})]}),S.jsxs("div",{className:"browser-content",children:[S.jsxs("div",{className:"inventory-layout",children:[S.jsxs("div",{className:"inventory-sidebar",children:[S.jsxs("div",{className:"sidebar-header",children:[S.jsx("h3",{children:"Equipment Inventory"}),S.jsx("div",{className:"time-display",children:o.toLocaleTimeString()})]}),S.jsx("div",{className:"asset-list",children:e.map(x=>S.jsxs("div",{className:`asset-item ${n?.id===x.id?"selected":""} ${x.status}`,onClick:()=>_(x),children:[S.jsx("div",{className:"asset-icon",children:y(x.type)}),S.jsxs("div",{className:"asset-info",children:[S.jsx("div",{className:"asset-name",children:x.name}),S.jsxs("div",{className:"asset-details",children:[S.jsxs("span",{className:`status-badge ${x.status}`,children:[m(x.status)," ",x.status]}),S.jsxs("span",{className:"asset-location",children:["📍 ",x.location]})]}),x.user&&S.jsxs("div",{className:"asset-user",children:["👤 ",x.user]})]}),S.jsx("button",{className:`check-btn ${x.status}`,onClick:D=>{D.stopPropagation(),E(x.id)},children:x.status==="checked-in"?"Check Out":"Check In"})]},x.id))})]}),S.jsx("div",{className:"inventory-map",children:S.jsxs(Gm,{center:vd.yard,zoom:12,scrollWheelZoom:!1,dragging:!1,doubleClickZoom:!1,zoomControl:!1,style:{height:"100%",width:"100%"},children:[S.jsx(Wm,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:"© OpenStreetMap contributors & CartoDB"}),Object.entries(vd).map(([x,D])=>S.jsx(kC,{center:D,radius:200,pathOptions:{color:"#00eaff",fillColor:"#00eaff",fillOpacity:.1,weight:1,opacity:.5}},x)),e.map(x=>{const D=f(x.location);return D?S.jsx(Zm,{position:D,icon:A(x.type,x.status)},x.id):null})]},"inventory-demo-map")})]}),n&&S.jsxs("div",{className:"asset-details-panel",children:[S.jsxs("div",{className:"details-header",children:[S.jsx("h4",{children:n.name}),S.jsx("button",{className:"close-btn",onClick:()=>s(null),children:"×"})]}),S.jsxs("div",{className:"details-content",children:[S.jsxs("div",{className:"detail-row",children:[S.jsx("span",{className:"detail-label",children:"Type:"}),S.jsx("span",{className:"detail-value",children:n.type})]}),S.jsxs("div",{className:"detail-row",children:[S.jsx("span",{className:"detail-label",children:"Status:"}),S.jsxs("span",{className:`detail-value status-${n.status}`,children:[m(n.status)," ",n.status]})]}),S.jsxs("div",{className:"detail-row",children:[S.jsx("span",{className:"detail-label",children:"Location:"}),S.jsxs("span",{className:"detail-value",children:["📍 ",n.location]})]}),n.user&&S.jsxs("div",{className:"detail-row",children:[S.jsx("span",{className:"detail-label",children:"Assigned to:"}),S.jsxs("span",{className:"detail-value",children:["👤 ",n.user]})]}),S.jsxs("div",{className:"detail-row",children:[S.jsx("span",{className:"detail-label",children:"Last updated:"}),S.jsx("span",{className:"detail-value",children:n.lastUpdate})]})]})]})]})]})})}function IB(){const[e,t]=k.useState(0),n=[{title:"Complete Location History",description:"Interactive timeline with 30-90+ day history. Analyze movement patterns and travel routes with timeline playback.",demo:S.jsx(AB,{})},{title:"Geofencing",description:"Virtual boundaries with real-time alerts. Custom radius 100m-5km with email/SMS notifications.",demo:S.jsx(xB,{})},{title:"Inventory Check-In/Out",description:"Automate asset management with location-based status updates and inventory system integration.",demo:S.jsx(CB,{})}];return S.jsx("section",{id:"platform-features",className:"platform-features-section",role:"region","aria-labelledby":"platform-features-title",children:S.jsxs("div",{className:"platform-features-content",children:[S.jsx("h2",{id:"platform-features-title",className:"platform-features-title",children:"Platform Features"}),S.jsxs("div",{className:"platform-features-layout",children:[S.jsx("div",{className:"features-selector",children:n.map((s,o)=>S.jsx("button",{className:`feature-selector-btn ${e===o?"selected":""}`,onClick:()=>t(o),children:s.title},o))}),S.jsxs("div",{className:"demo-section",children:[S.jsx("p",{className:"feature-description",children:n[e].description}),S.jsx("div",{className:"demo-placeholder",children:n[e].demo})]})]})]})})}function PB(){const e=[{icon:"📦",title:"Order",subtitle:"Get pre-configured tags",description:"For your security and seamless integration, tags must be pre-configured and onboarded to our platform before shipping. This ensures they are ready to track without needing access to your iCloud account."},{icon:"🔗",title:"Activate",subtitle:"Link in seconds",description:"Once your pre-configured tags arrive, simply link them to your account on our platform. The tracking functionality will activate instantly, ready for use."},{icon:"📍",title:"Track",subtitle:"Anywhere",description:"Access powerful platform features, including location history, geofencing, and inventory check-in/out capabilities."}];return S.jsx("section",{id:"how-it-works",className:"how-it-works-section",role:"region","aria-labelledby":"how-it-works-title",children:S.jsxs("div",{className:"how-it-works-content",children:[S.jsx("h2",{id:"how-it-works-title",className:"how-it-works-title",children:"How It Works"}),S.jsx("div",{className:"how-it-works-steps modern",children:e.map((t,n)=>S.jsxs(Bd.Fragment,{children:[S.jsxs("div",{className:"how-it-works-step modern",children:[S.jsx("div",{className:"how-it-works-icon modern",children:t.icon}),S.jsx("div",{className:"how-it-works-step-title modern",children:t.title}),S.jsx("div",{className:"how-it-works-step-subtitle",children:t.subtitle}),S.jsx("p",{className:"how-it-works-step-description",children:t.description})]}),n<e.length-1&&S.jsx("div",{className:"how-it-works-chevron",children:"→"})]},n))})]})})}const nf=(e,t={})=>{typeof gtag<"u"?(gtag("event",e,t),console.log("GA4 Event tracked:",e,t)):console.warn("GA4 not loaded - event would be:",e,t)},XS=()=>{nf("sign_up",{method:"google"})},QS=()=>{nf("login",{method:"google"})},LB=(e=1)=>{nf("begin_checkout",{currency:"USD",value:e*4.99,items:[{item_id:"airtag_tracking",item_name:"AirTag Tracking Service",category:"subscription",quantity:e,price:4.99}]})},MB=(e=1,t)=>{nf("purchase",{transaction_id:t,currency:"USD",value:e*4.99,items:[{item_id:"airtag_tracking",item_name:"AirTag Tracking Service",category:"subscription",quantity:e,price:4.99}]})},DB=(e,t)=>{nf("cta_click",{cta_location:e,cta_text:t})};function NB(){const[e,t]=k.useState(1),n=Eo(),s=m=>m===1?4.99:m<=3?3.74:m<=10?3.49:2.99,o=m=>s(m)*m,u=m=>{if(m===1)return 0;const y=4.99,_=s(m),E=((y-_)/y*100).toFixed(0);return Math.max(0,E)},f=o(e);return s(e).toFixed(2),u(e),S.jsx("section",{id:"pricing",className:"pricing-section",role:"region","aria-labelledby":"pricing-title",children:S.jsxs("div",{className:"pricing-content",children:[S.jsx("h2",{id:"pricing-title",className:"pricing-title",children:"Simple, Transparent Pricing"}),S.jsx("p",{className:"pricing-subtitle",children:"One-time tag purchase + monthly subscription. Save up to 40% with volume discounts."}),S.jsx("div",{className:"pricing-calculator",children:S.jsxs("div",{className:"calculator-card",children:[S.jsxs("div",{className:"amount-section",children:[S.jsx("p",{className:"amount-label",children:"How many AirTags?"}),S.jsxs("div",{className:"tag-counter",children:[S.jsx("button",{className:"counter-btn",onClick:()=>t(Math.max(1,e-1)),disabled:e<=1,children:"-"}),S.jsxs("div",{className:"tag-display",children:[S.jsx("span",{className:"tag-count",children:e}),S.jsxs("span",{className:"tag-label",children:["AirTag",e>1?"s":""]})]}),S.jsx("button",{className:"counter-btn",onClick:()=>t(Math.min(100,e+1)),children:"+"})]})]}),S.jsxs("div",{className:"pricing-split",children:[S.jsxs("div",{className:"pricing-left",children:[S.jsx("h4",{className:"pricing-section-title",children:"Pre-configured tags"}),S.jsxs("span",{className:"setup-amount",children:["$",(e*29.99).toFixed(2)]}),S.jsx("img",{src:UC,className:"tag-image",alt:"Tag",style:{width:"48px",marginBottom:"10px"}}),S.jsxs("div",{className:"setup-fee",children:[S.jsx("span",{className:"setup-per-tag",children:"$29.99 per tag"}),S.jsx("br",{}),S.jsxs("span",{className:"setup-shipping-note",children:["free shipping",S.jsx("br",{}),S.jsx("span",{className:"shipping-region",children:"(continental US)"})]}),S.jsx("br",{})]})]}),S.jsx("div",{className:"pricing-divider"}),S.jsxs("div",{className:"pricing-right",children:[S.jsx("h4",{className:"pricing-section-title",children:"Monthly Subscription"}),S.jsxs("div",{className:"subscription-fee",children:[S.jsxs("span",{className:"subscription-amount",children:["$",(e*s(e)).toFixed(2)]}),S.jsx("span",{className:"subscription-label",children:"Monthly Fee"}),S.jsxs("span",{className:"subscription-per-tag",children:["$",s(e).toFixed(2)," per AirTag"]})]}),S.jsx("span",{className:"purchase-note",children:"Activate your subscription from the dashboard once your tags arrive."}),S.jsxs("div",{className:"volume-discounts",children:[S.jsx("h5",{className:"discounts-title",children:"Discounts"}),S.jsxs("table",{className:"discount-table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Tags"}),S.jsx("th",{children:"Discount"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"1"}),S.jsx("td",{children:"No discount"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"2-3"}),S.jsx("td",{children:"25% off"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"4-10"}),S.jsx("td",{children:"30% off"})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"10+"}),S.jsx("td",{children:"40% off"})]})]})]})]})]})]}),S.jsx("div",{className:"pricing-display-card compact",children:S.jsx("div",{className:"simple-pricing-line",children:S.jsxs("span",{className:"pricing-value",children:["$",f.toFixed(2)," /month"]})})}),S.jsxs("button",{className:"pricing-cta",onClick:()=>{DB("pricing_section",`Start Tracking ${e} AirTag${e>1?"s":""}`),n(`/login?tagCount=${e}&mode=register`)},children:["Start Tracking ",e," AirTag",e>1?"s":""]})]})})]})})}function OB(){const e=[{q:"Does your platform allow me as an Android user to use AirTags?",a:"Yes, since we set up the AirTags for you and provide a web app, you can use them as an Android user."},{q:"What devices are compatible with your platform?",a:"Our web app works on any modern browser, including Chrome, Safari, Firefox, and Edge, on both desktop and mobile devices."},{q:"What is the battery lifetime?",a:"Around 1 to 1.5 years. You can replace the battery yourself with a standard CR2032 coin cell."},{q:"Can I use my own tag?",a:"For your security, we never request access to your iCloud account. Tags must be onboarded to our platform before shipping. Once received, they are yours to keep and can be factory reset for regular use at any time."},{q:"Is my location data private and secure?",a:"Yes, we use industry-standard encryption and never share your data with third parties. Only you have access to your location history."},{q:"Can I export my location data?",a:"Yes, you can export your location history in CSV or JSON format for your records or analysis."},{q:"Can I reset the tags?",a:"Yes, you can factory reset your tags at any time and use them as you wish."},{q:"How many tags can I track simultaneously?",a:"There's no limit. If you plan to deploy more than 10 tags, please contact us for tailored support."},{q:"Shipping fee",a:"Shipping is free within the continental US. For other locations, see pricing at checkout."},{q:"Can I configure location-specific email alerts?",a:"Yes, you can set up location-based email alerts directly in the platform."},{q:"How far back does the location history go?",a:"There's no practical limit—your location history is available as far back as you need."},{q:"How do I access the application?",a:"You can access the platform via a web app that works seamlessly on both mobile and desktop browsers."},{q:"Can I pause or cancel my subscription?",a:"Yes, you can pause or cancel your subscription at any time from your account dashboard."}],[t,n]=k.useState(null),s=o=>n(t===o?null:o);return S.jsx("section",{id:"faq",className:"faq-section",role:"region","aria-labelledby":"faq-title",children:S.jsxs("div",{className:"faq-content",children:[S.jsx("h2",{id:"faq-title",className:"faq-title",children:"FAQ"}),S.jsx("div",{className:"faq-list",children:e.map((o,u)=>S.jsxs("div",{className:`faq-item${t===u?" open":""}`,children:[S.jsxs("button",{className:"faq-question",onClick:()=>s(u),"aria-expanded":t===u,"aria-controls":`faq-answer-${u}`,children:[S.jsx("span",{children:o.q}),S.jsx("span",{className:`faq-chevron${t===u?" open":""}`,"aria-hidden":"true",children:"▼"})]}),t===u&&S.jsx("div",{id:`faq-answer-${u}`,className:"faq-answer",role:"region","aria-labelledby":`faq-question-${u}`,children:o.a})]},u))})]})})}function kB(){const[e,t]=k.useState("hero"),[n,s]=k.useState(!1),o=[{id:"hero",label:"Home"},{id:"platform-features",label:"Platform"},{id:"feature-comparison",label:"How We Compare"},{id:"use-cases",label:"Use Cases"},{id:"how-it-works",label:"How It Works"},{id:"pricing",label:"Pricing"},{id:"faq",label:"FAQ"}],u=f=>{const m=document.getElementById(f);if(m){const _=f==="feature-comparison"?104:80,E=m.offsetTop-_;window.scrollTo({top:E,behavior:"smooth"}),window.history.pushState(null,null,`#${f}`)}};return k.useEffect(()=>{const f=()=>{const m=window.location.hash.slice(1);m&&o.find(y=>y.id===m)&&(t(m),u(m))};return window.location.hash&&f(),window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),k.useEffect(()=>{const f={rootMargin:"-20% 0px -80% 0px",threshold:0},m=new IntersectionObserver(y=>{y.forEach(_=>{_.isIntersecting&&t(_.target.id)})},f);return o.forEach(({id:y})=>{const _=document.getElementById(y);_&&m.observe(_)}),()=>m.disconnect()},[]),k.useEffect(()=>{const f=()=>{const y=window.scrollY,_=document.getElementById("hero");if(_){const E=_.offsetHeight;s(y>E*.8)}else s(y>500)},m=setTimeout(()=>{f()},100);return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f),clearTimeout(m)}},[]),S.jsx("nav",{className:`section-navigation ${n?"visible":""}`,role:"navigation","aria-label":"Page sections",children:S.jsx("div",{className:"nav-container",children:S.jsx("ul",{className:"nav-list",children:o.map(({id:f,label:m})=>S.jsx("li",{className:"nav-item",children:S.jsx("button",{className:`nav-link ${e===f?"active":""}`,onClick:()=>u(f),"aria-current":e===f?"true":"false","aria-label":`Go to ${m} section`,children:m})},f))})})})}function JS({onScrollProgress:e}){const[t,n]=k.useState(null);return k.useEffect(()=>{e&&e(t)},[t,e]),S.jsxs("main",{id:"main-content",role:"main",tabIndex:"-1",children:[S.jsx(kB,{}),S.jsx(EB,{onScrollProgress:n}),S.jsx(IB,{}),S.jsx(bB,{}),S.jsx(SB,{}),S.jsx(PB,{}),S.jsx(NB,{}),S.jsx(OB,{})]})}function VB(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?e.state.tagCount:t.has("tagCount")?t.get("tagCount"):""}function tA(e){return new URLSearchParams(e.search).get("mode")==="register"?"register":"login"}function UB(){const e=ds(),t=Eo(),[n,s]=k.useState(tA(e)),[o,u]=k.useState(""),[f,m]=k.useState(""),[y,_]=k.useState(""),[E,A]=k.useState(""),[x,D]=k.useState(!1),U=VB(e);k.useEffect(()=>{s(tA(e))},[e]);const F=async Z=>{Z.preventDefault(),A(""),D(!0);try{if(n==="register"){if(f!==y){A("Passwords do not match."),D(!1);return}const nt=await T2(ho,o,f);XS(),await Ib(Oy(zu,"users",nt.user.uid),{email:nt.user.email,selectedTagCount:Number(U),subscribed:!1}),console.log("User document written to Firestore:",nt.user.uid),t("/purchase")}else{const nt=await E2(ho,o,f);QS(),t("/purchase")}}catch(nt){console.error("Registration error:",nt),A(nt.message.replace("Firebase: ",""))}finally{D(!1)}},W=async()=>{A(""),D(!0);try{const Z=await q2(ho,XV),nt=Oy(zu,"users",Z.user.uid);(await G1(nt)).exists()?QS():(XS(),await Ib(nt,{email:Z.user.email,displayName:Z.user.displayName||null,createdAt:Z.user.metadata.creationTime,selectedTagCount:Number(U)||0,subscribed:!1}),console.log("New user document created in Firestore for Google sign-in:",Z.user.uid)),t("/purchase")}catch(Z){A(Z.message.replace("Firebase: ",""))}finally{D(!1)}};return S.jsx("div",{className:"login-page-root",children:S.jsxs("div",{className:"login-card",children:[S.jsxs("div",{className:"login-toggle",children:[S.jsx("button",{className:n==="login"?"active":"",onClick:()=>s("login"),children:"Login"}),S.jsx("button",{className:n==="register"?"active":"",onClick:()=>s("register"),children:"Register"})]}),S.jsx("h2",{className:"login-title",children:n==="login"?"Login to your account":"Create an account"}),U&&S.jsx("div",{className:"login-tagcount-info",children:n==="register"?`Registering for ${U} tag${U>1?"s":""}`:""}),S.jsxs("form",{className:"login-form",onSubmit:F,children:[S.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:Z=>u(Z.target.value),required:!0,disabled:x}),S.jsx("input",{type:"password",placeholder:"Password",value:f,onChange:Z=>m(Z.target.value),required:!0,disabled:x}),n==="register"&&S.jsx("input",{type:"password",placeholder:"Confirm Password",value:y,onChange:Z=>_(Z.target.value),required:!0,disabled:x}),E&&S.jsx("div",{className:"login-error",children:E}),S.jsx("button",{type:"submit",className:"login-submit-btn",disabled:x,children:x?n==="login"?"Logging in...":"Registering...":n==="login"?"Login":"Register"}),n==="register"&&S.jsxs("p",{className:"terms-acknowledgement",children:["By registering, you acknowledge you have read and agree to our ",S.jsx("a",{href:"/terms",target:"_blank",children:"Terms of Service"})," and ",S.jsx("a",{href:"/privacy",target:"_blank",children:"Privacy Policy"}),"."]})]}),S.jsx("div",{className:"login-divider",children:"or"}),S.jsxs("button",{className:"google-auth-btn",type:"button",onClick:W,disabled:x,children:[S.jsx("span",{className:"google-icon",children:"G"})," Sign in with Google"]})]})})}function jB(){const[e,t]=k.useState(null),[n,s]=k.useState(!0),[o,u]=k.useState(0),[f,m]=k.useState([]),[y,_]=k.useState(!1),E=Eo(),[A,x]=ML();return k.useEffect(()=>{const D=Em(ho,async U=>{if(U){t(U);const F=Q_(zu,"purchases"),W=rv(F,ju("userId","==",U.uid),ju("status","==","paid")),Z=await ov(W);m(Z.docs.map(nt=>nt.data())),u(Z.docs.reduce((nt,J)=>nt+(J.data().tagCount||0),0))}else E("/login");s(!1)});return()=>D()},[E]),k.useEffect(()=>{if(A.get("tag_purchase")==="success"){_(!0);const D=A.get("tag_count")||"1",U=A.get("session_id");MB(parseInt(D),U);const F=new URLSearchParams(A);F.delete("tag_purchase"),F.delete("tag_count"),F.delete("session_id"),x(F);const W=setTimeout(()=>{_(!1)},5e3);return()=>clearTimeout(W)}},[A,x]),n?S.jsx("div",{className:"loading",children:"Loading..."}):S.jsxs("div",{className:"dashboard-page",children:[S.jsxs("header",{className:"dashboard-header",children:[S.jsxs("div",{className:"dashboard-header-main",children:[S.jsx("h1",{children:"Dashboard"}),S.jsx("div",{className:"dashboard-accent-bar"})]}),S.jsxs("div",{className:"user-info",children:[S.jsx("span",{className:"user-icon",children:"👤"}),S.jsxs("span",{children:["Welcome, ",e?.email]})]})]}),y&&S.jsx("div",{style:{background:"linear-gradient(135deg, #00eaff, #0099cc)",color:"#fff",padding:"16px 24px",margin:"0 auto 24px auto",maxWidth:"600px",borderRadius:"12px",textAlign:"center",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 20px rgba(0, 234, 255, 0.3)",animation:"slideIn 0.3s ease-out"},children:"🎉 Payment successful! Your AirTags are being prepared and you'll be notified once they're shipped."}),S.jsxs("main",{className:"dashboard-content",children:[S.jsxs("div",{style:{margin:"0 auto 24px auto",textAlign:"center",maxWidth:540,padding:0},children:[S.jsxs("div",{style:{border:"1px solid #fff",borderRadius:10,padding:"0",background:"none",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:64},children:[S.jsxs("div",{style:{flex:1,padding:"18px 0",borderRight:"1px solid rgba(255,255,255,0.12)"},children:[S.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:2},children:"Tags Purchased"}),S.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:o})]}),S.jsxs("div",{style:{flex:1,padding:"18px 0",borderRight:"1px solid rgba(255,255,255,0.12)"},children:[S.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:2},children:"Tags Activated"}),S.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:"0"})]}),S.jsxs("div",{style:{flex:1,padding:"18px 0"},children:[S.jsx("div",{style:{color:"#bbb",fontSize:14,fontWeight:500,marginBottom:2},children:"Active Subscriptions"}),S.jsx("div",{style:{color:"#00eaff",fontSize:22,fontWeight:700},children:"0"})]})]}),0<o&&S.jsx("div",{style:{color:"#fff",background:"rgba(0,234,255,0.08)",borderRadius:8,padding:"14px 18px",margin:"14px 0 0 0",fontSize:15,fontWeight:400,lineHeight:1.5},children:"Thank you for your purchase! We are preparing your tags and will notify you once they are sent out. If you have any questions, please contact support."})]}),S.jsxs("div",{className:"dashboard-grid",children:[S.jsxs("div",{className:"dashboard-card",children:[S.jsx("span",{className:"dashboard-icon",children:"📍"}),S.jsx("h3",{children:"Location History"}),S.jsx("p",{children:"View detailed location history and timelines"}),S.jsx("button",{className:"dashboard-btn",children:"View History"})]}),S.jsxs("div",{className:"dashboard-card",children:[S.jsx("span",{className:"dashboard-icon",children:"📏"}),S.jsx("h3",{children:"Geofencing"}),S.jsx("p",{children:"Set up virtual boundaries and alerts"}),S.jsx("button",{className:"dashboard-btn",children:"Manage Geofences"})]}),S.jsxs("div",{className:"dashboard-card",children:[S.jsx("span",{className:"dashboard-icon",children:"📦"}),S.jsx("h3",{children:"Inventory"}),S.jsx("p",{children:"Track equipment and asset check-ins/outs"}),S.jsx("button",{className:"dashboard-btn",children:"Manage Inventory"})]})]}),S.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"44px 0 0 0"},children:S.jsx("button",{className:"dashboard-btn",onClick:()=>E("/purchase?additional=true"),children:"Purchase More Tags"})}),f.length>0&&S.jsxs("div",{style:{margin:"44px auto 0 auto",maxWidth:440,padding:"0",textAlign:"center"},children:[S.jsx("h3",{style:{fontSize:18,fontWeight:700,margin:"0 0 14px 0",color:"#fff",letterSpacing:"-0.01em"},children:"Purchase History"}),S.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:f.map((D,U)=>S.jsxs("li",{style:{marginBottom:12,color:"#fff",fontSize:16,borderRadius:7,padding:"10px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"none",border:"1px solid rgba(255,255,255,0.08)"},children:[S.jsxs("span",{style:{fontWeight:600},children:[D.tagCount," Tag",D.tagCount!==1?"s":""]}),S.jsxs("span",{style:{color:"#00eaff",fontWeight:700,fontSize:15},children:["$",(D.amount/100).toFixed(2)]}),S.jsx("span",{style:{color:"#bbb",fontSize:14,fontWeight:400},children:D.createdAt?.toDate?D.createdAt.toDate().toLocaleString():"recently"})]},U))})]})]})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="type.googleapis.com/google.protobuf.Int64Value",BB="type.googleapis.com/google.protobuf.UInt64Value";function jC(e,t){const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}function mm(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>mm(t));if(typeof e=="function"||typeof e=="object")return jC(e,t=>mm(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Hu(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case zB:case BB:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Hu(t)):typeof e=="function"||typeof e=="object"?jC(e,t=>Hu(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yi extends vr{constructor(t,n,s){super(`${$v}/${t}`,n||""),this.details=s,Object.setPrototypeOf(this,yi.prototype)}}function FB(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function pm(e,t){let n=FB(e),s=n,o;try{const u=t&&t.error;if(u){const f=u.status;if(typeof f=="string"){if(!eA[f])return new yi("internal","internal");n=eA[f],s=f}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=Hu(o))}}catch{}return n==="ok"?null:new yi(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,pi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="us-central1",qB=/^data: (.*?)(?:\n|$)/;function GB(e){let t=null;return{promise:new Promise((n,s)=>{t=setTimeout(()=>{s(new yi("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class ZB{constructor(t,n,s,o,u=i_,f=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new HB(t,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=i_}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function WB(e,t,n){const s=Al(t);e.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(f_(e.emulatorOrigin),d_("Functions",!0))}function KB(e,t,n){const s=o=>$B(e,t,o,{});return s.stream=(o,u)=>QB(e,t,o,u),s}async function YB(e,t,n,s){n["Content-Type"]="application/json";let o;try{o=await s(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function zC(e,t){const n={},s=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function $B(e,t,n,s){const o=e._url(t);return XB(e,o,n,s)}async function XB(e,t,n,s){n=mm(n);const o={data:n},u=await zC(e,s),f=s.timeout||7e4,m=GB(f),y=await Promise.race([YB(t,o,u,e.fetchImpl),m.promise,e.cancelAllRequests]);if(m.cancel(),!y)throw new yi("cancelled","Firebase Functions instance was deleted.");const _=pm(y.status,y.json);if(_)throw _;if(!y.json)throw new yi("internal","Response is not valid JSON object.");let E=y.json.data;if(typeof E>"u"&&(E=y.json.result),typeof E>"u")throw new yi("internal","Response is missing data field.");return{data:Hu(E)}}function QB(e,t,n,s){const o=e._url(t);return JB(e,o,n,s||{})}async function JB(e,t,n,s){n=mm(n);const o={data:n},u=await zC(e,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const U=new yi("cancelled","Request was cancelled.");return{data:Promise.reject(U),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(U)}}}}}}const D=pm(0,null);return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}let m,y;const _=new Promise((x,D)=>{m=x,y=D});s?.signal?.addEventListener("abort",()=>{const x=new yi("cancelled","Request was cancelled.");y(x)});const E=f.body.getReader(),A=t5(E,m,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const x=A.getReader();return{async next(){const{value:D,done:U}=await x.read();return{value:D,done:U}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:_}}function t5(e,t,n,s){const o=(f,m)=>{const y=f.match(qB);if(!y)return;const _=y[1];try{const E=JSON.parse(_);if("result"in E){t(Hu(E.result));return}if("message"in E){m.enqueue(Hu(E.message));return}if("error"in E){const A=pm(0,E);m.error(A),n(A);return}}catch(E){if(E instanceof yi){m.error(E),n(E);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return y();async function y(){if(s?.aborted){const _=new yi("cancelled","Request was cancelled");return f.error(_),n(_),Promise.resolve()}try{const{value:_,done:E}=await e.read();if(E){m.trim()&&o(m.trim(),f),f.close();return}if(s?.aborted){const x=new yi("cancelled","Request was cancelled");f.error(x),n(x),await e.cancel();return}m+=u.decode(_,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const x of A)x.trim()&&o(x.trim(),f);return y()}catch(_){const E=_ instanceof yi?_:pm(0,null);f.error(E),n(E)}}},cancel(){return e.cancel()}})}const nA="@firebase/functions",iA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="auth-internal",n5="app-check-internal",i5="messaging-internal";function s5(e){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(e5),f=n.getProvider(i5),m=n.getProvider(n5);return new ZB(o,u,f,m,s)};vl(new fo($v,t,"PUBLIC").setMultipleInstances(!0)),or(nA,iA,e),or(nA,iA,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(e=g_(),t=i_){const s=vm(Cn(e),$v).getImmediate({identifier:t}),o=AA("functions");return o&&a5(s,...o),s}function a5(e,t,n){WB(Cn(e),t,n)}function o5(e,t,n){return KB(Cn(e),t)}s5();var BC="basil",l5=function(t){return t===3?"v3":t},FC="https://js.stripe.com",u5="".concat(FC,"/").concat(BC,"/stripe.js"),c5=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,h5=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var f5=function(t){return c5.test(t)||h5.test(t)},d5=function(){for(var t=document.querySelectorAll('script[src^="'.concat(FC,'"]')),n=0;n<t.length;n++){var s=t[n];if(f5(s.src))return s}return null},sA=function(t){var n="",s=document.createElement("script");s.src="".concat(u5).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(s),s},m5=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.5.0",startTime:n})},Qc=null,Td=null,Ed=null,p5=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},g5=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},y5=function(t){return Qc!==null?Qc:(Qc=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=d5();if(!(o&&t)){if(!o)o=sA(t);else if(o&&Ed!==null&&Td!==null){var u;o.removeEventListener("load",Ed),o.removeEventListener("error",Td),(u=o.parentNode)===null||u===void 0||u.removeChild(o),o=sA(t)}}Ed=g5(n,s),Td=p5(s),o.addEventListener("load",Ed),o.addEventListener("error",Td)}catch(f){s(f);return}}),Qc.catch(function(n){return Qc=null,Promise.reject(n)}))},_5=function(t,n,s){if(t===null)return null;var o=n[0],u=o.match(/^pk_test/),f=l5(t.version),m=BC;u&&f!==m&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("7.5.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var y=t.apply(void 0,n);return m5(y,s),y},Jc,HC=!1,qC=function(){return Jc||(Jc=y5(null).catch(function(t){return Jc=null,Promise.reject(t)}),Jc)};Promise.resolve().then(function(){return qC()}).catch(function(e){HC||console.warn(e)});var v5=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];HC=!0;var o=Date.now();return qC().then(function(u){return _5(u,n,o)})};const T5=v5("pk_test_51RnBJpBGn8gfa2Ux1iNVfUTAhP1f6McI5hAdVpPeMnwsVZafgvGfRcij1BTKUlvSi05tZzxGFF9rVA9LDMPDzpMH00lE9U75Ts");function E5(e){const t=new URLSearchParams(e.search);return e.state&&e.state.tagCount?Number(e.state.tagCount):t.has("tagCount")?Number(t.get("tagCount")):1}function w5(){const e=ds(),t=Eo(),[n,s]=k.useState(()=>E5(e)),[o,u]=k.useState(!1),[f,m]=k.useState(""),[y,_]=k.useState(!0),[E,A]=k.useState(!1);k.useEffect(()=>{const F=Em(ho,async W=>{if(W)try{const Z=Q_(zu,"purchases"),nt=rv(Z,ju("userId","==",W.uid),ju("status","==","paid")),J=await ov(nt),mt=new URLSearchParams(e.search).get("additional")==="true";if(!J.empty&&!mt){A(!0),t("/dashboard",{replace:!0});return}const At=await G1(Oy(zu,"users",W.uid));At.exists()&&At.data().selectedTagCount&&s(At.data().selectedTagCount)}catch(Z){console.error("Error checking purchases:",Z)}else t("/login",{replace:!0});_(!1)});return()=>F()},[e,t]);const x=async()=>{u(!0),m(""),LB(n);try{const F=r5(lv),W=o5(F,"createTagCheckout"),Z=window.location.origin,nt=await W({tagCount:n,origin:Z});nt.data&&nt.data.sessionId?await(await T5).redirectToCheckout({sessionId:nt.data.sessionId}):m("Failed to create Stripe Checkout session.")}catch(F){m("Error: "+(F.message||"Unknown error"))}finally{u(!1)}};if(y)return S.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:S.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:"Checking your account..."})});const U=new URLSearchParams(e.search).get("additional")==="true";return S.jsx("div",{style:{minHeight:"100vh",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:S.jsxs("div",{className:"calculator-card",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:20,padding:"50px 40px",textAlign:"center",backdropFilter:"blur(10px)",maxWidth:400,width:"100%"},children:[S.jsx("h2",{style:{color:"white",fontSize:"2.2rem",fontWeight:600,margin:"0 0 18px 0",letterSpacing:"-0.01em"},children:U?"Purchase More Tags":"Purchase Tags"}),S.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"1.1rem",fontWeight:400,margin:"0 0 32px 0"},children:U?"Add more tags to your account and expand your tracking capabilities.":"Select the number of tags you want to purchase and proceed to secure checkout."}),S.jsxs("div",{style:{marginBottom:32},children:[S.jsx("label",{style:{color:"rgba(255,255,255,0.8)",fontWeight:500,fontSize:16,marginBottom:10,display:"block"},children:"Number of tags:"}),S.jsx("input",{type:"number",min:1,max:20,value:n,onChange:F=>s(Number(F.target.value)),disabled:o,style:{width:90,fontSize:18,padding:8,borderRadius:8,border:"1px solid #fff",textAlign:"center",fontWeight:600,background:"rgba(255,255,255,0.08)",color:"white",outline:"none",marginTop:4}})]}),S.jsx("button",{className:"pricing-cta",onClick:x,disabled:o||n<1,style:{background:"#00eaff",color:"#000",border:"none",borderRadius:12,padding:"16px 0",fontSize:20,fontWeight:700,cursor:o?"not-allowed":"pointer",width:"100%",marginBottom:10,boxShadow:"0 2px 8px rgba(0,234,255,0.08)",transition:"background 0.2s",letterSpacing:"-0.01em"},onMouseOver:F=>F.currentTarget.style.background="#00bcd4",onMouseOut:F=>F.currentTarget.style.background="#00eaff",children:o?"Redirecting...":`Purchase ${n} Tag${n>1?"s":""}`}),f&&S.jsx("div",{style:{color:"#ff4d4f",marginTop:18,fontWeight:500},children:f})]})})}function b5(){return k.useEffect(()=>{window.scrollTo(0,0)},[]),S.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:S.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[S.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Terms and Conditions"}),S.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:S.jsx("strong",{children:"Last updated: July 22, 2025"})}),S.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"1. Acceptance of Terms"}),S.jsx("p",{children:"By registering for or using TagLogger’s platform (“Service”), you agree to be bound by these Terms and our Privacy Policy. If you do not agree, do not use the Service."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"2. Service Description"}),S.jsx("p",{children:"TagLogger provides a web‑based platform to track Apple AirTag devices, offering real‑time location, historical playback, geofencing, data export, and customizable alerts. We are an independent service and are not affiliated with Apple Inc."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"3. Eligibility & Account Registration"}),S.jsxs("ul",{children:[S.jsx("li",{children:"You must be at least 18 years old and able to form a binding contract."}),S.jsx("li",{children:"You agree to provide accurate, current, and complete information during registration and to keep your account credentials secure."}),S.jsx("li",{children:"You are responsible for all activity under your account."})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"4. Fees & Payment"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Tag Purchase"}),": One‑time fee per AirTag, at prices shown in your dashboard (free continental U.S. shipping)."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Subscription"}),": Recurring monthly fee per tag, billed automatically. Volume discounts apply (see Pricing Page)."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Payment Methods"}),": Major credit/debit cards and PayPal."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Non‑Refundable"}),": All fees are non‑refundable except as required by law."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Late or Failed Payments"}),": We may suspend your Service until payment is received."]})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"5. Use Restrictions"}),S.jsx("p",{children:"You agree not to:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Reverse engineer, decompile, or otherwise attempt to derive source code."}),S.jsx("li",{children:"Scrape, harvest, or extract data from the Service."}),S.jsx("li",{children:"Interfere with the operation or security of the Service."}),S.jsx("li",{children:"Use the Service for any unlawful purpose or without obtaining all required consents."})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"6. Ownership & License"}),S.jsxs("ul",{children:[S.jsx("li",{children:"TagLogger and its licensors retain all rights in the Service, including software, trademarks, and content."}),S.jsx("li",{children:"You own your location and account data (“Customer Data”) but grant us a worldwide, royalty‑free license to host, process, and display it as necessary to provide the Service."})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"7. Privacy & Data Security"}),S.jsx("p",{children:"Our Privacy Policy explains how we collect, use, share, and protect Customer Data. You are responsible for ensuring your use of the Service complies with all applicable privacy and surveillance laws."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"8. Disclaimers"}),S.jsx("p",{children:"The Service is provided “AS IS” and “AS AVAILABLE,” with all faults. TAGLOGGER AND ITS AFFILIATES, LICENSORS, AND SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Any warranty of merchantability or fitness for a particular purpose;"}),S.jsx("li",{children:"Any warranty of uninterrupted, error‑free, secure, or virus‑free operation;"}),S.jsx("li",{children:"Any warranty as to the accuracy, completeness, or timeliness of location data or other information;"}),S.jsx("li",{children:"Any warranty that the Service complies with applicable laws or regulations."})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"9. Limitation of Liability"}),S.jsxs("p",{children:[S.jsx("strong",{children:"9.1 EXCLUSION OF DAMAGES."})," TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL TAGLOGGER OR ITS AFFILIATES, LICENSORS, OR SUPPLIERS BE LIABLE FOR ANY:"]}),S.jsxs("ul",{children:[S.jsx("li",{children:"INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR GOODWILL), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES;"}),S.jsx("li",{children:"DAMAGES ARISING FROM THIRD‑PARTY CLAIMS OR ACTIONS."})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"9.2 DAMAGE CAP."})," TAGLOGGER’S AGGREGATE LIABILITY FOR ALL CLAIMS ARISING OUT OF OR RELATING TO THE SERVICE, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, SHALL NOT EXCEED THE GREATER OF:"]}),S.jsxs("ul",{children:[S.jsx("li",{children:"(A) THE TOTAL SUBSCRIPTION FEES YOU PAID IN THE THREE (3) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM; OR"}),S.jsx("li",{children:"(B) ONE HUNDRED DOLLARS (US $100)."})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"9.3 FORCE MAJEURE."})," TAGLOGGER SHALL NOT BE LIABLE FOR FAILURE OR DELAY IN PERFORMANCE DUE TO CAUSES BEYOND ITS REASONABLE CONTROL, INCLUDING NATURAL DISASTERS, WAR, TERRORISM, RIOTS, EMBARGOES, GOVERNMENT ACTIONS, LABOR DISPUTES, OR INTERNET/NETWORK FAILURES."]}),S.jsxs("p",{children:[S.jsx("strong",{children:"9.4 ALLOCATION OF RISK."})," THESE LIMITATIONS ARE AN ESSENTIAL PART OF THE BARGAIN BETWEEN YOU AND TAGLOGGER. YOU ACKNOWLEDGE THAT WITHOUT THEM, THE SUBSCRIPTION FEES WOULD BE SUBSTANTIALLY HIGHER."]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"10. Indemnification"}),S.jsx("p",{children:"You agree to indemnify, defend, and hold harmless TagLogger and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys’ fees) arising out of:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Your use of the Service;"}),S.jsx("li",{children:"Your violation of these Terms; or"}),S.jsx("li",{children:"Any third‑party claim alleging infringement of intellectual property or privacy rights."})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"11. Termination"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"By You:"})," You may cancel your subscription at any time via the dashboard; cancellation is effective at the end of your current billing cycle."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"By Us:"})," We may suspend or terminate your account for non‑payment, breach of these Terms, or compliance with legal or regulatory requirements."]}),S.jsx("li",{children:"Upon termination, your right to access the Service ends immediately, and we may delete your Customer Data."})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"12. Changes to Service or Terms"}),S.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue the Service or any part thereof at any time. We may update these Terms by posting the revised version with a new “Last updated” date. Your continued use after changes constitutes acceptance."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"13. Governing Law & Dispute Resolution"}),S.jsx("p",{children:"These Terms are governed by California law (excluding conflict‑of‑law rules). Any dispute arising under these Terms will be resolved by binding arbitration in Los Angeles County under the American Arbitration Association’s rules. You and TagLogger each waive the right to a jury trial and to participate in any class‑action lawsuit."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"14. Severability & Waiver"}),S.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, the remaining provisions remain in full force. Our failure to enforce any right or provision will not constitute a waiver of future enforcement."}),S.jsx("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.1)",margin:"32px 0"}}),S.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",textAlign:"center"},children:S.jsx("em",{children:"End of Terms and Conditions"})})]})})}function S5(){return k.useEffect(()=>{window.scrollTo(0,0)},[]),S.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:S.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[S.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"TagLogger Privacy Policy"}),S.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:S.jsx("strong",{children:"Effective Date: July 21, 2025"})}),S.jsx("p",{style:{fontSize:"0.9rem",color:"#aaa",marginBottom:"32px"},children:S.jsx("strong",{children:"Version: 1.0"})}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Introduction"}),S.jsx("p",{children:"At TagLogger, we are committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our services. By using TagLogger, you agree to the practices described in this policy."}),S.jsxs("p",{children:[S.jsx("strong",{children:"Data Controller:"})," TagLogger is the data controller responsible for your personal information. For any questions or concerns about this policy or your data, please contact us via the in-app support form or through our Contact Us page."]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Information We Collect"}),S.jsx("p",{children:"We collect the following types of information to provide and improve our services:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Location Data:"})," Latitude, longitude, and timestamps associated with your AirTags for location history and tracking features."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"User Identification:"})," Account details like your email address or username to link location data to your account."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Used to authenticate users, remember preferences, and analyze website usage."]})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Use Your Information"}),S.jsx("p",{children:"We use your information to:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Provide the TagLogger service, including location history, geofencing, inventory management, and interactive timelines."}),S.jsx("li",{children:"Improve our services, troubleshoot issues, and develop new features."}),S.jsx("li",{children:"Communicate with you about your account, updates, or support matters."})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"How We Share Your Information"}),S.jsx("p",{children:"We do not share your location data with third parties, except as follows:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Trusted Service Providers:"})," We may share data with trusted vendors (e.g., for hosting, analytics, or payment processing) who are bound by confidentiality obligations and use your data only to perform services for us."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Legal Requirements:"})," When required by law, such as a subpoena or court order."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Protection of Rights:"})," To protect TagLogger, our users, or others."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"With Your Consent:"})," If you explicitly agree to share your data."]})]}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Your Choices and Rights"}),S.jsx("p",{children:"You can:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Access:"})," View your data through your account dashboard."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Correct:"})," Update inaccuracies in your account settings."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Delete:"})," Request data deletion, subject to legal retention obligations."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Object:"})," Opt out of certain data processing where permitted by law."]})]}),S.jsx("p",{children:"To exercise these rights, use the in-app support form or visit our Contact Us page."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Security"}),S.jsx("p",{children:"We use industry-standard encryption, access controls, and secure servers to protect your data. However, no system is fully immune to risks."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"International Data Transfers"}),S.jsx("p",{children:"Your data may be processed in other countries, with safeguards to comply with applicable laws."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Children’s Privacy"}),S.jsx("p",{children:"Our services are not intended for anyone under 18. We do not knowingly collect data from individuals under 18, and we will delete such data if discovered."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Business Use"}),S.jsx("p",{children:"If you use TagLogger for business (e.g., tracking shipments), you must comply with privacy laws and obtain necessary consents."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Data Retention"}),S.jsx("p",{children:"We keep your data while your account is active or as needed for the service. Upon deletion requests, we remove it unless legally required to retain it."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Cookies and Tracking Technologies"}),S.jsx("p",{children:"Cookies help with authentication, preferences, and analytics. Manage them via your browser settings, though this may limit functionality."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Changes to This Policy"}),S.jsx("p",{children:"We may update this policy and will notify you of significant changes via our website. Continued use after updates implies acceptance."}),S.jsx("h2",{style:{color:"#fff",fontWeight:600,fontSize:"1.5rem",marginTop:32},children:"Contact Us"}),S.jsx("p",{children:"For questions or requests, reach us via the in-app support form or Contact Us."})]})})}function A5(){return k.useEffect(()=>{window.scrollTo(0,0)},[]),S.jsx("main",{className:"legal-page",style:{minHeight:"100vh",background:"#000",color:"#fff",fontFamily:"system-ui, -apple-system, sans-serif",padding:"80px 0 40px 0"},children:S.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"0 20px"},children:[S.jsx("h1",{style:{color:"#00eaff",fontWeight:700,fontSize:"2.5rem",marginBottom:32},children:"Contact"}),S.jsxs("p",{children:["Have questions or need support? Reach out to us at ",S.jsx("a",{href:"mailto:info@ipekai.com",style:{color:"#00eaff",textDecoration:"underline"},children:"info@ipekai.com"}),"."]}),S.jsx("p",{children:"We aim to respond within 1-2 business days."})]})})}function x5(){return S.jsx("footer",{className:"global-footer",role:"contentinfo",children:S.jsxs("div",{className:"footer-content",children:[S.jsx("div",{className:"footer-brand",children:"TagLogger"}),S.jsxs("nav",{className:"footer-nav","aria-label":"Footer",children:[S.jsx(lh,{to:"/terms",className:"footer-link",children:"Terms & Conditions"}),S.jsx(lh,{to:"/privacy",className:"footer-link",children:"Data Privacy"}),S.jsx(lh,{to:"/contact",className:"footer-link",children:"Contact"})]}),S.jsxs("div",{className:"footer-copy",children:["© ",new Date().getFullYear()," TagLogger. All rights reserved."]}),S.jsx("div",{className:"footer-disclaimer",style:{fontSize:"0.6rem",color:"#aaa",marginTop:"0px"},children:"An independent service, not affiliated with Apple Inc."})]})})}function R5(){const[e,t]=k.useState(null);return S.jsxs(S.Fragment,{children:[S.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),S.jsx(t4,{scrollYProgress:e}),S.jsxs(iL,{children:[S.jsx(Wr,{path:"/",element:S.jsx(JS,{onScrollProgress:t})}),S.jsx(Wr,{path:"/login",element:S.jsx(UB,{})}),S.jsx(Wr,{path:"/purchase",element:S.jsx(w5,{})}),S.jsx(Wr,{path:"/dashboard",element:S.jsx(e4,{children:S.jsx(jB,{})})}),S.jsx(Wr,{path:"/terms",element:S.jsx(b5,{})}),S.jsx(Wr,{path:"/privacy",element:S.jsx(S5,{})}),S.jsx(Wr,{path:"/contact",element:S.jsx(A5,{})}),S.jsx(Wr,{path:"*",element:S.jsx(JS,{onScrollProgress:t})})]}),S.jsx(x5,{})]})}dP.createRoot(document.getElementById("root")).render(S.jsx(k.StrictMode,{children:S.jsx(RL,{children:S.jsx(JV,{children:S.jsx(R5,{})})})}));
